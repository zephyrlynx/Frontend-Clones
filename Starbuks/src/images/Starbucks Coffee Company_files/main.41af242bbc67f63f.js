(self.webpackChunkTata_Starbucks=self.webpackChunkTata_Starbucks||[]).push([[792],{1076:(Jt,ke,E)=>{"use strict";E.d(ke,{$L:()=>mt,$g:()=>An,A4:()=>I,Am:()=>Te,As:()=>Ft,Bd:()=>_e,Cv:()=>dt,FA:()=>qe,Fy:()=>ae,HN:()=>$i,Hk:()=>T,I9:()=>Ge,Im:()=>Pi,K3:()=>ce,KA:()=>q,Ku:()=>wt,Ll:()=>Re,OE:()=>rs,T9:()=>Ve,Uj:()=>z,XA:()=>Le,ZQ:()=>de,bD:()=>Ci,cY:()=>J,dI:()=>br,dM:()=>jt,eX:()=>Rt,g:()=>en,gR:()=>Pn,gz:()=>Gt,hp:()=>kt,jZ:()=>fe,kH:()=>hi,kj:()=>Gi,lT:()=>un,lV:()=>Ye,nr:()=>Nn,oD:()=>Ar,od:()=>rr,qc:()=>$t,sr:()=>Xe,tD:()=>En,u:()=>O,vA:()=>m,yw:()=>qn,zW:()=>Et,zw:()=>k});const p={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},m=function(ze,st){if(!ze)throw T(st)},T=function(ze){return new Error("Firebase Database ("+p.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ze)},F=function(ze){const st=[];let V=0;for(let G=0;G<ze.length;G++){let X=ze.charCodeAt(G);X<128?st[V++]=X:X<2048?(st[V++]=X>>6|192,st[V++]=63&X|128):55296==(64512&X)&&G+1<ze.length&&56320==(64512&ze.charCodeAt(G+1))?(X=65536+((1023&X)<<10)+(1023&ze.charCodeAt(++G)),st[V++]=X>>18|240,st[V++]=X>>12&63|128,st[V++]=X>>6&63|128,st[V++]=63&X|128):(st[V++]=X>>12|224,st[V++]=X>>6&63|128,st[V++]=63&X|128)}return st},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ze,st){if(!Array.isArray(ze))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=st?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let X=0;X<ze.length;X+=3){const Ee=ze[X],ot=X+1<ze.length,ht=ot?ze[X+1]:0,on=X+2<ze.length,gn=on?ze[X+2]:0;let lt=(15&ht)<<2|gn>>6,ln=63&gn;on||(ln=64,ot||(lt=64)),G.push(V[Ee>>2],V[(3&Ee)<<4|ht>>4],V[lt],V[ln])}return G.join("")},encodeString(ze,st){return this.HAS_NATIVE_SUPPORT&&!st?btoa(ze):this.encodeByteArray(F(ze),st)},decodeString(ze,st){return this.HAS_NATIVE_SUPPORT&&!st?atob(ze):function(ze){const st=[];let V=0,G=0;for(;V<ze.length;){const X=ze[V++];if(X<128)st[G++]=String.fromCharCode(X);else if(X>191&&X<224){const Ee=ze[V++];st[G++]=String.fromCharCode((31&X)<<6|63&Ee)}else if(X>239&&X<365){const on=((7&X)<<18|(63&ze[V++])<<12|(63&ze[V++])<<6|63&ze[V++])-65536;st[G++]=String.fromCharCode(55296+(on>>10)),st[G++]=String.fromCharCode(56320+(1023&on))}else{const Ee=ze[V++],ot=ze[V++];st[G++]=String.fromCharCode((15&X)<<12|(63&Ee)<<6|63&ot)}}return st.join("")}(this.decodeStringToByteArray(ze,st))},decodeStringToByteArray(ze,st){this.init_();const V=st?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let X=0;X<ze.length;){const Ee=V[ze.charAt(X++)],ht=X<ze.length?V[ze.charAt(X)]:0;++X;const gn=X<ze.length?V[ze.charAt(X)]:64;++X;const Ut=X<ze.length?V[ze.charAt(X)]:64;if(++X,null==Ee||null==ht||null==gn||null==Ut)throw new ne;G.push(Ee<<2|ht>>4),64!==gn&&(G.push(ht<<4&240|gn>>2),64!==Ut&&G.push(gn<<6&192|Ut))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ze=0;ze<this.ENCODED_VALS.length;ze++)this.byteToCharMap_[ze]=this.ENCODED_VALS.charAt(ze),this.charToByteMap_[this.byteToCharMap_[ze]]=ze,this.byteToCharMapWebSafe_[ze]=this.ENCODED_VALS_WEBSAFE.charAt(ze),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ze]]=ze,ze>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ze)]=ze,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ze)]=ze)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q=function(ze){const st=F(ze);return ce.encodeByteArray(st,!0)},z=function(ze){return q(ze).replace(/\./g,"")},O=function(ze){try{return ce.decodeString(ze,!0)}catch(st){console.error("base64Decode failed: ",st)}return null};function I(ze){return k(void 0,ze)}function k(ze,st){if(!(st instanceof Object))return st;switch(st.constructor){case Date:return new Date(st.getTime());case Object:void 0===ze&&(ze={});break;case Array:ze=[];break;default:return st}for(const V in st)!st.hasOwnProperty(V)||!A(V)||(ze[V]=k(ze[V],st[V]));return ze}function A(ze){return"__proto__"!==ze}const me=()=>{try{return function H(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ze=process.env.__FIREBASE_DEFAULTS__;return ze?JSON.parse(ze):void 0})()||(()=>{if(typeof document>"u")return;let ze;try{ze=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const st=ze&&O(ze[1]);return st&&JSON.parse(st)})()}catch(ze){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ze}`)}},Ve=()=>{var ze;return null===(ze=me())||void 0===ze?void 0:ze.config},Le=ze=>{var st;return null===(st=me())||void 0===st?void 0:st[`_${ze}`]};class J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((st,V)=>{this.resolve=st,this.reject=V})}wrapCallback(st){return(V,G)=>{V?this.reject(V):this.resolve(G),"function"==typeof st&&(this.promise.catch(()=>{}),1===st.length?st(V):st(V,G))}}}function ae(ze,st){if(ze.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=st||"demo-project",X=ze.iat||0,Ee=ze.sub||ze.user_id;if(!Ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ot=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:X,exp:X+3600,auth_time:X,sub:Ee,user_id:Ee,firebase:{sign_in_provider:"custom",identities:{}}},ze);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(ot)),""].join(".")}function de(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function Re(){var ze;const st=null===(ze=me())||void 0===ze?void 0:ze.forceEnvironment;if("node"===st)return!0;if("browser"===st)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function _e(){return"object"==typeof self&&self.self===self}function Xe(){const ze="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ze&&void 0!==ze.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function un(){const ze=de();return ze.indexOf("MSIE ")>=0||ze.indexOf("Trident/")>=0}function An(){return!0===p.NODE_CLIENT||!0===p.NODE_ADMIN}function Nn(){return!Re()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Et(){try{return"object"==typeof indexedDB}catch{return!1}}function Rt(){return new Promise((ze,st)=>{try{let V=!0;const G="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(G);X.onsuccess=()=>{X.result.close(),V||self.indexedDB.deleteDatabase(G),ze(!0)},X.onupgradeneeded=()=>{V=!1},X.onerror=()=>{var Ee;st((null===(Ee=X.error)||void 0===Ee?void 0:Ee.message)||"")}}catch(V){st(V)}})}function jt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class en extends Error{constructor(st,V,G){super(V),this.code=st,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,en.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(st,V,G){this.service=st,this.serviceName=V,this.errors=G}create(st,...V){const G=V[0]||{},X=`${this.service}/${st}`,Ee=this.errors[st],ot=Ee?function We(ze,st){return ze.replace(ge,(V,G)=>{const X=st[G];return null!=X?String(X):`<${G}?>`})}(Ee,G):"Error";return new en(X,`${this.serviceName}: ${ot} (${X}).`,G)}}const ge=/\{\$([^}]+)}/g;function mt(ze){return JSON.parse(ze)}function Ft(ze){return JSON.stringify(ze)}const Lt=function(ze){let st={},V={},G={},X="";try{const Ee=ze.split(".");st=mt(O(Ee[0])||""),V=mt(O(Ee[1])||""),X=Ee[2],G=V.d||{},delete V.d}catch{}return{header:st,claims:V,data:G,signature:X}},dt=function(ze){const V=Lt(ze).claims;return!!V&&"object"==typeof V&&V.hasOwnProperty("iat")},$t=function(ze){const st=Lt(ze).claims;return"object"==typeof st&&!0===st.admin};function Pn(ze,st){return Object.prototype.hasOwnProperty.call(ze,st)}function qn(ze,st){if(Object.prototype.hasOwnProperty.call(ze,st))return ze[st]}function Pi(ze){for(const st in ze)if(Object.prototype.hasOwnProperty.call(ze,st))return!1;return!0}function hi(ze,st,V){const G={};for(const X in ze)Object.prototype.hasOwnProperty.call(ze,X)&&(G[X]=st.call(V,ze[X],X,ze));return G}function Ci(ze,st){if(ze===st)return!0;const V=Object.keys(ze),G=Object.keys(st);for(const X of V){if(!G.includes(X))return!1;const Ee=ze[X],ot=st[X];if(qt(Ee)&&qt(ot)){if(!Ci(Ee,ot))return!1}else if(Ee!==ot)return!1}for(const X of G)if(!V.includes(X))return!1;return!0}function qt(ze){return null!==ze&&"object"==typeof ze}function Te(ze){const st=[];for(const[V,G]of Object.entries(ze))Array.isArray(G)?G.forEach(X=>{st.push(encodeURIComponent(V)+"="+encodeURIComponent(X))}):st.push(encodeURIComponent(V)+"="+encodeURIComponent(G));return st.length?"&"+st.join("&"):""}function Ge(ze){const st={};return ze.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[X,Ee]=G.split("=");st[decodeURIComponent(X)]=decodeURIComponent(Ee)}}),st}function kt(ze){const st=ze.indexOf("?");if(!st)return"";const V=ze.indexOf("#",st);return ze.substring(st,V>0?V:void 0)}class Gt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let st=1;st<this.blockSize;++st)this.pad_[st]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(st,V){V||(V=0);const G=this.W_;if("string"==typeof st)for(let Ut=0;Ut<16;Ut++)G[Ut]=st.charCodeAt(V)<<24|st.charCodeAt(V+1)<<16|st.charCodeAt(V+2)<<8|st.charCodeAt(V+3),V+=4;else for(let Ut=0;Ut<16;Ut++)G[Ut]=st[V]<<24|st[V+1]<<16|st[V+2]<<8|st[V+3],V+=4;for(let Ut=16;Ut<80;Ut++){const lt=G[Ut-3]^G[Ut-8]^G[Ut-14]^G[Ut-16];G[Ut]=4294967295&(lt<<1|lt>>>31)}let gn,pt,X=this.chain_[0],Ee=this.chain_[1],ot=this.chain_[2],ht=this.chain_[3],on=this.chain_[4];for(let Ut=0;Ut<80;Ut++){Ut<40?Ut<20?(gn=ht^Ee&(ot^ht),pt=1518500249):(gn=Ee^ot^ht,pt=1859775393):Ut<60?(gn=Ee&ot|ht&(Ee|ot),pt=2400959708):(gn=Ee^ot^ht,pt=3395469782);const lt=(X<<5|X>>>27)+gn+on+pt+G[Ut]&4294967295;on=ht,ht=ot,ot=4294967295&(Ee<<30|Ee>>>2),Ee=X,X=lt}this.chain_[0]=this.chain_[0]+X&4294967295,this.chain_[1]=this.chain_[1]+Ee&4294967295,this.chain_[2]=this.chain_[2]+ot&4294967295,this.chain_[3]=this.chain_[3]+ht&4294967295,this.chain_[4]=this.chain_[4]+on&4294967295}update(st,V){if(null==st)return;void 0===V&&(V=st.length);const G=V-this.blockSize;let X=0;const Ee=this.buf_;let ot=this.inbuf_;for(;X<V;){if(0===ot)for(;X<=G;)this.compress_(st,X),X+=this.blockSize;if("string"==typeof st){for(;X<V;)if(Ee[ot]=st.charCodeAt(X),++ot,++X,ot===this.blockSize){this.compress_(Ee),ot=0;break}}else for(;X<V;)if(Ee[ot]=st[X],++ot,++X,ot===this.blockSize){this.compress_(Ee),ot=0;break}}this.inbuf_=ot,this.total_+=V}digest(){const st=[];let V=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let X=this.blockSize-1;X>=56;X--)this.buf_[X]=255&V,V/=256;this.compress_(this.buf_);let G=0;for(let X=0;X<5;X++)for(let Ee=24;Ee>=0;Ee-=8)st[G]=this.chain_[X]>>Ee&255,++G;return st}}function En(ze,st){const V=new Yn(ze,st);return V.subscribe.bind(V)}class Yn{constructor(st,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{st(this)}).catch(G=>{this.error(G)})}next(st){this.forEachObserver(V=>{V.next(st)})}error(st){this.forEachObserver(V=>{V.error(st)}),this.close(st)}complete(){this.forEachObserver(st=>{st.complete()}),this.close()}subscribe(st,V,G){let X;if(void 0===st&&void 0===V&&void 0===G)throw new Error("Missing Observer.");X=function yi(ze,st){if("object"!=typeof ze||null===ze)return!1;for(const V of st)if(V in ze&&"function"==typeof ze[V])return!0;return!1}(st,["next","error","complete"])?st:{next:st,error:V,complete:G},void 0===X.next&&(X.next=bi),void 0===X.error&&(X.error=bi),void 0===X.complete&&(X.complete=bi);const Ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),Ee}unsubscribeOne(st){void 0===this.observers||void 0===this.observers[st]||(delete this.observers[st],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(st){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,st)}sendOne(st,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[st])try{V(this.observers[st])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(st){this.finalized||(this.finalized=!0,void 0!==st&&(this.finalError=st),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bi(){}const rr=function(ze,st,V,G){let X;if(G<st?X="at least "+st:G>V&&(X=0===V?"none":"no more than "+V),X)throw new Error(ze+" failed: Was called with "+G+(1===G?" argument.":" arguments.")+" Expects "+X+".")};function br(ze,st){return`${ze} failed: ${st} argument `}function Ar(ze,st,V,G){if((!G||V)&&"function"!=typeof V)throw new Error(br(ze,st)+"must be a valid function.")}function $i(ze,st,V,G){if((!G||V)&&("object"!=typeof V||null===V))throw new Error(br(ze,st)+"must be a valid context object.")}const Gi=function(ze){const st=[];let V=0;for(let G=0;G<ze.length;G++){let X=ze.charCodeAt(G);if(X>=55296&&X<=56319){const Ee=X-55296;G++,m(G<ze.length,"Surrogate pair missing trail surrogate."),X=65536+(Ee<<10)+(ze.charCodeAt(G)-56320)}X<128?st[V++]=X:X<2048?(st[V++]=X>>6|192,st[V++]=63&X|128):X<65536?(st[V++]=X>>12|224,st[V++]=X>>6&63|128,st[V++]=63&X|128):(st[V++]=X>>18|240,st[V++]=X>>12&63|128,st[V++]=X>>6&63|128,st[V++]=63&X|128)}return st},rs=function(ze){let st=0;for(let V=0;V<ze.length;V++){const G=ze.charCodeAt(V);G<128?st++:G<2048?st+=2:G>=55296&&G<=56319?(st+=4,V++):st+=3}return st};function wt(ze){return ze&&ze._delegate?ze._delegate:ze}},7802:(Jt,ke,E)=>{"use strict";E.d(ke,{T:()=>x});var p=E(6883),m=E(5312),T=E(4438),F=E(4599);let x=(()=>{class ce{constructor(q){this.storageService=q,this.server=m.c.APIEndpoint,this.appversion="https://tsb-sit-api.reciproci.com/"===this.server||"https://tsb-mbaas-uat.starbucksindia.net/"===this.server?"0.0.77":"5.0.4"}getSecureHeader(){return null==localStorage.getItem("deviceId")&&localStorage.setItem("deviceId",p.A()),this.deviceMetaInfo={appVersion:this.appversion,deviceCountry:"India",deviceCity:"",deviceId:localStorage.getItem("deviceId"),deviceModel:"",platform:"WEB",deviceOSVersion:""},{"Accept-Language":"EN",Authorization:"Bearer "+this.storageService.getAccessToken(),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)}}getUnSecureHeader(){return null==localStorage.getItem("deviceId")&&localStorage.setItem("deviceId",p.A()),this.deviceMetaInfo={appVersion:this.appversion,deviceCountry:"India",deviceCity:"",deviceId:localStorage.getItem("deviceId"),deviceModel:"",platform:"WEB",deviceOSVersion:""},{"Accept-Language":"EN","Device-Meta-Info":JSON.stringify(this.deviceMetaInfo),GuestToken:localStorage.getItem("guestUserToken")}}getUnSecureHeaderWithoutGuestToken(){return null==localStorage.getItem("deviceId")&&localStorage.setItem("deviceId",p.A()),this.deviceMetaInfo={appVersion:this.appversion,deviceCountry:"India",deviceCity:"",deviceId:localStorage.getItem("deviceId"),deviceModel:"",platform:"WEB",deviceOSVersion:""},{"Accept-Language":"EN","Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)}}static#e=this.\u0275fac=function(z){return new(z||ce)(T.KVO(F.n))};static#t=this.\u0275prov=T.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})()},2672:(Jt,ke,E)=>{"use strict";E.d(ke,{u:()=>T});var p=E(4412),m=E(4438);let T=(()=>{class F{constructor(){this.sendUserBasicData=new p.t("null"),this.sendOtpVerifiedData=new p.t("null")}setSignupLoginDetails(ce){this.sendUserBasicData.next(ce)}getSignupLoginDetails(){return this.sendUserBasicData.asObservable()}setSignupOtpVerifiedInfo(ce){this.sendOtpVerifiedData.next(ce)}getSignupOtpverifiedInfo(){return this.sendOtpVerifiedData.asObservable()}static#e=this.\u0275fac=function(ne){return new(ne||F)};static#t=this.\u0275prov=m.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},6:(Jt,ke,E)=>{"use strict";E.d(ke,{I:()=>x});var p=E(1471),m=E(4438),T=E(5312);let F=(()=>{class ce{constructor(){}getData(){let q=T.c.char;q=q.map((O,I)=>I%2==0?O+3:O-3);for(let O=0;O<q.length;O++)q[O]=O%2==0?q[O]+1:q[O]-1;q=q.map((O,I)=>I%2==0?O-3:O+3);let z=String.fromCharCode(...q);return z=z.split("").map((O,I)=>String.fromCharCode(O.charCodeAt(0))).join(""),z.split("").reverse().join("")}static#e=this.\u0275fac=function(z){return new(z||ce)};static#t=this.\u0275prov=m.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),x=(()=>{class ce{constructor(q){this.sc=q,this.key=p.enc.Utf8.parse(q.getData()),this.iv=p.enc.Utf8.parse(q.getData())}encryptData(q){return p.AES.encrypt(p.enc.Utf8.parse(q.toString()),this.key,{keySize:16,iv:this.iv,mode:p.mode.CBC,padding:p.pad.Pkcs7}).toString()}decryptData(q){return p.AES.decrypt(q,this.key,{keySize:16,iv:this.iv,mode:p.mode.CBC,padding:p.pad.Pkcs7}).toString(p.enc.Utf8)}static#e=this.\u0275fac=function(z){return new(z||ce)(m.KVO(F))};static#t=this.\u0275prov=m.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})()},6535:(Jt,ke,E)=>{"use strict";E.d(ke,{R:()=>ce});var p=E(4531),m=E(6961),T=E(4438);let F=(()=>{class ne{constructor(){}static#e=this.\u0275fac=function(O){return new(O||ne)};static#t=this.\u0275cmp=T.VBU({type:ne,selectors:[["app-page-loader"]],decls:4,vars:0,consts:[[1,"loader_section_block"],[1,"loader_section"],[1,"medium_regular_font","d-flex","flex-column","align-items-center"],["loading","lazy","src","assets/images/tsb_loader.gif","alt","loading"]],template:function(O,I){1&O&&(T.j41(0,"div",0)(1,"section",1)(2,"div",2),T.nrm(3,"img",3),T.k0s()()())},styles:[".loader_section[_ngcontent-%COMP%]{border-radius:5px;width:90px;height:90px;background-color:#fff;display:flex;justify-content:center;align-items:center}.loader_section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px;width:50%}@media only screen and (max-width: 970px) and (min-width: 320px){.loader_section_block[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}}"]})}return ne})();class x{constructor(q){this.overlayRef=q}close(){this.overlayRef.dispose()}}let ce=(()=>{class ne{constructor(z,O){this.injector=z,this.overlay=O}open(){const z=this.createOverlay(),O=new x(z);return this.attachDialogContainer(z,O),O}createOverlay(){const z=this.overlay.position().global().centerHorizontally().centerVertically(),O=new p.rR({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:z});return this.overlay.create(O)}attachDialogContainer(z,O){const I=this.createInjector(O),k=new m.A8(F,null,I);return z.attach(k).instance}createInjector(z){const O=new WeakMap;return O.set(x,z),new m.JP(this.injector,O)}showLoader(){Promise.resolve(null).then(()=>this.loadingRef=this.open())}hideLoader(){this.loadingRef&&this.loadingRef.close()}showShimmerBtn(){return!0}hideShimmerBtn(){return!1}static#e=this.\u0275fac=function(O){return new(O||ne)(T.KVO(T.zZn),T.KVO(p.hJ))};static#t=this.\u0275prov=T.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})()},2744:(Jt,ke,E)=>{"use strict";E.d(ke,{Q:()=>Ne});var p=E(467),m=E(4438),T=E(1188),F=E(8635),x=E(1941),ce=E(177),ne=E(8611),q=E(9381),z=E(389),O=E(6853),I=E(4525);function k(Be,Ve){if(1&Be&&(m.qex(0),m.nrm(1,"app-breadcrumb-nav",4),m.bVm()),2&Be){const Le=m.XpG();m.R7$(),m.Y8G("breadCrumbData",Le.breadCrumbData)}}function A(Be,Ve){if(1&Be){const Le=m.RV6();m.j41(0,"section",5)(1,"div",6)(2,"img",7),m.bIt("error",function(){m.eBV(Le);const ae=m.XpG();return m.Njj((null==ae.selectedArticle?null:ae.selectedArticle.attributes).webBlogImageUrl="assets/images/promotion_banner.svg")}),m.k0s()()()}if(2&Be){const Le=m.XpG();m.R7$(2),m.FS9("src",null==Le.selectedArticle?null:Le.selectedArticle.attributes.webBlogImageUrl,m.B4B)}}function H(Be,Ve){if(1&Be){const Le=m.RV6();m.qex(0),m.j41(1,"app-footer-bar",16),m.bIt("onCategoryClick",function(ae){m.eBV(Le);const de=m.XpG(2);return m.Njj(de.reloadPage(ae))}),m.k0s(),m.bVm()}if(2&Be){const Le=m.XpG(2);m.R7$(),m.Y8G("footerData",Le.footerContent)}}function Q(Be,Ve){if(1&Be&&(m.j41(0,"section",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",11)(6,"div",12)(7,"h2",13),m.EFF(8),m.k0s(),m.j41(9,"p",14),m.EFF(10),m.k0s()()(),m.j41(11,"div",11)(12,"div",12),m.nrm(13,"p",15),m.k0s()()()()()(),m.DNE(14,H,2,1,"ng-container",1),m.k0s()),2&Be){const Le=m.XpG();m.R7$(8),m.SpI(" ",null==Le.selectedArticle?null:Le.selectedArticle.attributes.title,""),m.R7$(2),m.JRh(null==Le.selectedArticle?null:Le.selectedArticle.attributes.subTitle),m.R7$(3),m.Y8G("innerHTML",null==Le.selectedArticle?null:Le.selectedArticle.attributes.content,m.npT),m.R7$(),m.Y8G("ngIf",!Le.isMobile)}}function ee(Be,Ve){1&Be&&(m.j41(0,"section"),m.nrm(1,"app-error-page"),m.k0s())}function be(Be,Ve){1&Be&&(m.qex(0),m.j41(1,"section",17)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",10)(6,"section",18)(7,"div",10)(8,"div",11)(9,"div",12)(10,"div",19)(11,"div",20),m.nrm(12,"div",21),m.k0s()()()()()()()()()()(),m.bVm())}function me(Be,Ve){1&Be&&(m.qex(0),m.nrm(1,"app-mobile-navbar"),m.bVm())}let Ne=(()=>{class Be{constructor(Le,J,ae){this.router=Le,this.cmsService=J,this.commonFunction=ae,this.breadCrumbData=[{title:"Home",path:"dashboard"},{title:"Articles",path:""}],this.articleDisplay=!1,this.showShimmer=!0,this.totalSubItems=0,this.isNotFoundCounter=0,this.isMobile=this.commonFunction.identifyDeviceType();let de=window.location.href;if(de.includes("articles")){let fe=de.split("/articles/");this.getTitleFromUrl=fe[1]}else{let fe=new URL(de).pathname;this.getTitleFromUrl=fe.slice(1)}null===localStorage.getItem("footerCategoriesData")?this.getLatestArticles():(this.footerContent=JSON.parse(localStorage.getItem("footerCategoriesData")),this.getSelectedArticles())}getLatestArticles(){this.showShimmer=!0,this.cmsService.getFooterContent().subscribe(Le=>{localStorage.setItem("footerCategoriesData",JSON.stringify(Le.response)),this.getSelectedArticles()})}getSelectedArticles(){this.footerContent=JSON.parse(localStorage.getItem("footerCategoriesData")),this.footerContent.forEach(Le=>{this.findSubcategories(Le.attributes.articleSubCategories)})}findSubcategories(Le){Le.data.length>0&&this.getArticlesList(Le.data)}getArticlesList(Le){Le.forEach(J=>{this.totalSubItems=this.totalSubItems+J.attributes.articles.data.length}),Le.forEach(J=>{if(J.attributes.url===this.getTitleFromUrl)return this.selectedArticle=J,this.articleDisplay=!0,this.showShimmer=!1,this.loadArticle();this.filterFinalArray(J.attributes.articles.data)})}filterFinalArray(Le){var J=this;return(0,p.A)(function*(){Le.forEach(ae=>{if(ae.attributes.url===J.getTitleFromUrl)return J.selectedArticle=ae,J.articleDisplay=!0,J.showShimmer=!1,J.loadArticle();J.isNotFoundCounter++}),J.isNotFoundCounter===J.totalSubItems&&(J.articleDisplay=!1,J.showShimmer=!1)})()}loadArticle(){void 0===this.selectedArticle&&this.router.navigate(["/dashboard"])}static#e=this.\u0275fac=function(J){return new(J||Be)(m.rXU(T.Ix),m.rXU(F.x),m.rXU(x.L))};static#t=this.\u0275cmp=m.VBU({type:Be,selectors:[["app-article-details"]],decls:9,vars:6,consts:[[1,"footer-articles-detail-wrapper"],[4,"ngIf"],["class","banner-section",4,"ngIf"],["class","articles-content",4,"ngIf"],[3,"breadCrumbData"],[1,"banner-section"],[1,"banner"],["alt","promotion-banner",3,"error","src"],[1,"articles-content"],[1,"content-align"],[1,"container"],[1,"row"],[1,"col-12"],[1,"title"],[1,"subtitle"],[1,"content",3,"innerHTML"],[3,"onCategoryClick","footerData"],[1,"articles-shimmer-wrap"],[1,"full-card"],[1,"shimmer-wrap"],[1,"wrapper"],[1,"card-full-length","br","animate","w-100"]],template:function(J,ae){1&J&&(m.j41(0,"div",0),m.qex(1),m.nrm(2,"app-header"),m.bVm(),m.DNE(3,k,2,1,"ng-container",1)(4,A,3,1,"section",2)(5,Q,15,4,"section",3)(6,ee,2,0,"section",1)(7,be,13,0,"ng-container",1)(8,me,2,0,"ng-container",1),m.k0s()),2&J&&(m.R7$(3),m.Y8G("ngIf",ae.articleDisplay&&!ae.showShimmer),m.R7$(),m.Y8G("ngIf",ae.articleDisplay&&!ae.showShimmer),m.R7$(),m.Y8G("ngIf",ae.articleDisplay&&!ae.showShimmer),m.R7$(),m.Y8G("ngIf",!ae.articleDisplay&&!ae.showShimmer),m.R7$(),m.Y8G("ngIf",ae.showShimmer),m.R7$(),m.Y8G("ngIf",ae.isMobile&&!ae.articleDisplay&&!ae.showShimmer))},dependencies:[ce.bT,ne.z,q.l,z.i,O.k,I.m],styles:[".footer-articles-detail-wrapper[_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%;height:400px}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]{background:#fff;border-radius:24px 24px 0 0;padding:1em 0 0;position:absolute;width:100%;margin-top:-22px}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-family:SoDoSans_Regular,Helvetica,sans-serif!important}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:32px;line-height:32px;color:#1e3932;padding-top:2em}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-weight:600;font-size:16px;line-height:20px;color:#00000094;padding-bottom:2em}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-family:SoDoSans_Regular,Helvetica,sans-serif;font-weight:400;font-size:14px;line-height:20px;color:#000000de}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .green-line[_ngcontent-%COMP%]{width:4px;height:96px;background:#096;transform:scaleX(-1)}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .quotes[_ngcontent-%COMP%]{font-family:SoDoSans_Regular,Helvetica,sans-serif;font-weight:700;font-size:24px;line-height:32px;color:#000000de;margin:2em 0;border-left:4px solid #009966;padding-left:1em}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .image-grid[_ngcontent-%COMP%]{position:relative}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .image-grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:264px;height:264px;object-fit:cover;filter:drop-shadow(0px 0px 2px rgba(0,0,0,.07)) drop-shadow(0px 2px 2px rgba(0,0,0,.06)) drop-shadow(0px 1px 3px rgba(0,0,0,.1));border-radius:8px;margin-bottom:1.5em}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .image-grid[_ngcontent-%COMP%]   .bottom-left[_ngcontent-%COMP%]{position:absolute;bottom:24px;left:26px;color:#fff}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .list-item-menu-wrapper[_ngcontent-%COMP%]{background:#f9f9f9;box-shadow:0 2px 4px #00000012,0 3px 4px #0000000f,0 1px 5px #0000001a;border-radius:8px;padding:2em;margin-top:3.5em}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .list-item-menu-wrapper[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:SoDoSans_Regular,Helvetica,sans-serif!important;font-weight:600;font-size:16px;line-height:20px;color:#00000094;padding-bottom:.5em}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .list-item-menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:0}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .list-item-menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:SoDoSans_Regular,Helvetica,sans-serif;font-weight:400;font-size:14px;line-height:20px;color:#00754a;padding-bottom:1em;border-bottom:1px solid rgba(0,0,0,.12);cursor:pointer}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .list-item-menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{padding-bottom:0;border-bottom:none}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .list-item-menu-wrapper[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#000000de}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-shimmer-wrap[_ngcontent-%COMP%]{padding-bottom:2em;padding-top:5em}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-shimmer-wrap[_ngcontent-%COMP%]   .full-card[_ngcontent-%COMP%]{padding:1em 0}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-shimmer-wrap[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]{margin-bottom:1em}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-shimmer-wrap[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{margin:10px 1em}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-shimmer-wrap[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .cardPic[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-shimmer-wrap[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .card-full-length[_ngcontent-%COMP%]{height:380px;border-radius:8px}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-shimmer-wrap[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .item-section[_ngcontent-%COMP%]{background:#f9f9f9}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-shimmer-wrap[_ngcontent-%COMP%]   .w-20[_ngcontent-%COMP%]{width:20%}@keyframes _ngcontent-%COMP%_fullView{to{width:100%}}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-shimmer-wrap[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear;background:linear-gradient(to right,#eff1f3 4%,#d9d9d9 25%,#eff1f3 36%);background-size:1000px 100%}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-shimmer-wrap[_ngcontent-%COMP%]   .animate-loader[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear;background:linear-gradient(to right,#00804c4d 4%,#00804cc4 25%,#00804c38 36%);background-size:1000px 100%}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-1000px 0}to{background-position:1000px 0}}.active[_ngcontent-%COMP%]{color:red}@media only screen and (max-width: 576px){.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:190px}.footer-articles-detail-wrapper[_ngcontent-%COMP%]   .articles-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-top:1em}}"]})}return Be})()},8686:(Jt,ke,E)=>{"use strict";E.d(ke,{v:()=>Ft});var p=E(9417),m=E(2524),T=E(5195),F=E(5788),x=E(4438),ce=E(1682),ne=E(6535),q=E(1941),z=E(6),O=E(1188),I=E(177),k=E(7421),A=E(2788),H=E(1918);const Q=Lt=>({opacity:Lt});function ee(Lt,bn){1&Lt&&(x.j41(0,"mat-error"),x.EFF(1,"Please Enter Email ID Or Mobile Number "),x.k0s())}function be(Lt,bn){1&Lt&&(x.j41(0,"mat-error"),x.EFF(1," Please select date"),x.k0s())}function me(Lt,bn){if(1&Lt){const it=x.RV6();x.j41(0,"div",7)(1,"form",8),x.bIt("submit",function(){x.eBV(it);const $t=x.XpG();return x.Njj($t.initateResetPassword($t.initiateChangePasswordFormGroup.value))}),x.j41(2,"div",9)(3,"h1",10),x.EFF(4,"Get Help"),x.k0s(),x.j41(5,"p",11),x.EFF(6,"Please enter your registered details and we will send you an OTP to reset your password."),x.k0s()(),x.j41(7,"div",12)(8,"label",13),x.EFF(9,"USERNAME"),x.k0s(),x.j41(10,"mat-form-field",14),x.nrm(11,"input",15),x.DNE(12,ee,2,0,"mat-error",16),x.k0s()(),x.j41(13,"div",17)(14,"label",13),x.EFF(15,"DATE OF BIRTH"),x.k0s(),x.j41(16,"mat-form-field",14)(17,"input",18),x.bIt("click",function(){x.eBV(it);const $t=x.sdS(22);return x.Njj($t.open())}),x.k0s(),x.j41(18,"mat-datepicker-toggle",19)(19,"mat-icon",20),x.nrm(20,"img",21),x.k0s()(),x.nrm(21,"mat-datepicker",null,0),x.DNE(23,be,2,0,"mat-error",16),x.k0s()(),x.j41(24,"div",22)(25,"button",23),x.EFF(26,"Reset Password"),x.k0s()()()()}if(2&Lt){const it=x.sdS(22),dt=x.XpG();x.R7$(),x.Y8G("formGroup",dt.initiateChangePasswordFormGroup),x.R7$(11),x.Y8G("ngIf",dt.initiateChangePasswordFormGroup.get("userNameOrMobileNo").hasError("required")),x.R7$(5),x.Y8G("matDatepicker",it)("max",dt.maximumDOB),x.R7$(),x.Y8G("for",it),x.R7$(5),x.Y8G("ngIf",dt.initiateChangePasswordFormGroup.get("dateOfBirth").hasError("required")),x.R7$(2),x.Y8G("ngStyle",x.eq3(8,Q,dt.initiateChangePasswordFormGroup.invalid?"0.6":"1"))("disabled",dt.initiateChangePasswordFormGroup.invalid)}}function Ne(Lt,bn){if(1&Lt&&(x.j41(0,"span"),x.EFF(1),x.k0s()),2&Lt){const it=x.XpG(2);x.R7$(),x.SpI("",it.convertTimerValue(it.timeLeft),"s")}}function Be(Lt,bn){if(1&Lt){const it=x.RV6();x.j41(0,"div",24)(1,"h1",10),x.EFF(2,"Verification"),x.k0s(),x.j41(3,"p",25),x.EFF(4,"Please enter the OTP sent and reset your password"),x.k0s(),x.j41(5,"div",26)(6,"label",27),x.EFF(7,"ENTER OTP"),x.k0s(),x.j41(8,"ng-otp-input",28),x.bIt("onInputChange",function($t){x.eBV(it);const Pn=x.XpG();return x.Njj(Pn.onOtpChange($t))}),x.k0s(),x.j41(9,"div",29),x.DNE(10,Ne,2,1,"span",16),x.j41(11,"span",30),x.EFF(12,"Didn\u2019t receive OTP? "),x.j41(13,"a",31),x.bIt("click",function(){x.eBV(it);const $t=x.XpG();return x.Njj($t.resendOtp())}),x.EFF(14,"Resend"),x.k0s()()()(),x.j41(15,"div",32)(16,"button",33),x.bIt("click",function(){x.eBV(it);const $t=x.XpG();return x.Njj($t.verifyUserOtp())}),x.EFF(17,"Confirm"),x.k0s()()()}if(2&Lt){const it=x.XpG();x.R7$(5),x.Y8G("ngClass",it.invalidOtp?"alert":"verified"),x.R7$(3),x.Y8G("config",it.config),x.R7$(2),x.Y8G("ngIf",it.timeLeft>0),x.R7$(),x.Y8G("ngClass",it.timeLeft>0?"textright":"textcenter"),x.R7$(2),x.Y8G("ngClass",it.timeLeft>0?"inactive":"active"),x.R7$(3),x.Y8G("ngStyle",x.eq3(7,Q,it.isvalidOtp?"1":"0.6"))("disabled",!it.isvalidOtp)}}function Ve(Lt,bn){1&Lt&&(x.j41(0,"mat-error"),x.EFF(1," Password is required! "),x.k0s())}function Le(Lt,bn){1&Lt&&(x.j41(0,"mat-error"),x.EFF(1," Confirm Password is required! "),x.k0s())}function J(Lt,bn){1&Lt&&(x.j41(0,"mat-error"),x.EFF(1," The entered password did not match. Please try again. "),x.k0s())}function ae(Lt,bn){if(1&Lt){const it=x.RV6();x.j41(0,"div",34)(1,"h1",35),x.EFF(2,"Reset Password"),x.k0s(),x.j41(3,"form",8),x.bIt("submit",function(){x.eBV(it);const $t=x.XpG();return $t.resetPassword($t.resetPasswordFormGroup.value),x.Njj($t.resetPasswordGA())}),x.j41(4,"div",36)(5,"div",37)(6,"label"),x.EFF(7,"CREATE PASSWORD"),x.k0s(),x.j41(8,"mat-form-field",38)(9,"input",39),x.bIt("keyup",function(){x.eBV(it);const $t=x.XpG();return x.Njj($t.validatePassword())})("keydown.space",function($t){return x.eBV(it),x.Njj($t.preventDefault())}),x.k0s(),x.j41(10,"mat-icon",40),x.bIt("click",function(){x.eBV(it);const $t=x.XpG();return x.Njj($t.passwordHide=!$t.passwordHide)}),x.EFF(11),x.k0s(),x.DNE(12,Ve,2,0,"mat-error",16),x.k0s()(),x.j41(13,"div",41)(14,"div",42)(15,"span",43),x.EFF(16,"8 Characters"),x.k0s()(),x.j41(17,"div",42)(18,"span",43),x.EFF(19,"1 Uppercase"),x.k0s()(),x.j41(20,"div",42)(21,"span",43),x.EFF(22,"1 Symbol"),x.k0s()(),x.j41(23,"div",42)(24,"span",43),x.EFF(25,"1 Number"),x.k0s()()()(),x.j41(26,"div",44)(27,"div",37)(28,"label"),x.EFF(29,"CONFIRM PASSWORD"),x.k0s(),x.j41(30,"mat-form-field",38)(31,"input",45),x.bIt("keydown.space",function($t){return x.eBV(it),x.Njj($t.preventDefault())}),x.k0s(),x.DNE(32,Le,2,0,"mat-error",16)(33,J,2,0,"mat-error",16),x.k0s()()(),x.j41(34,"div",46)(35,"button",23),x.EFF(36,"Reset Password"),x.k0s()()()()}if(2&Lt){const it=x.XpG();x.R7$(3),x.Y8G("formGroup",it.resetPasswordFormGroup),x.R7$(6),x.Y8G("type",it.passwordHide?"password":"text"),x.R7$(2),x.JRh(it.passwordHide?"visibility_off":"visibility"),x.R7$(),x.Y8G("ngIf",it.resetPasswordFormGroup.controls.password.hasError("required")),x.R7$(3),x.Y8G("ngClass",it.resetPasswordFormGroup.get("password").pristine?"pswd-err":it.resetPasswordFormGroup.controls.password.hasError("minlength")?"failure":"success"),x.R7$(3),x.Y8G("ngClass",it.resetPasswordFormGroup.get("password").pristine?"pswd-err":it.hasUpper?"success":"failure"),x.R7$(3),x.Y8G("ngClass",it.resetPasswordFormGroup.get("password").pristine?"pswd-err":it.hasSpecial?"success":"failure"),x.R7$(3),x.Y8G("ngClass",it.resetPasswordFormGroup.get("password").pristine?"pswd-err":it.hasNum?"success":"failure"),x.R7$(8),x.Y8G("ngIf",it.resetPasswordFormGroup.controls.confirmPassword.hasError("required")),x.R7$(),x.Y8G("ngIf",it.resetPasswordFormGroup.controls.confirmPassword.hasError("mustMatch")),x.R7$(2),x.Y8G("ngStyle",x.eq3(12,Q,it.resetPasswordFormGroup.invalid?"0.6":"1"))("disabled",it.resetPasswordFormGroup.invalid)}}let de=(()=>{class Lt{constructor(it,dt,$t,Pn,qn,Pi,hi,Ci){this.dialogRef=it,this.formBuilder=dt,this.auth=$t,this.loaderOverlayService=Pn,this.commonFunction=qn,this.encryptDecryptService=Pi,this.router=hi,this.dialog=Ci,this.isGetHelp=!0,this.isOtp=!1,this.isPasswordUpdate=!1,this.loader=!1,this.errMsg="Please enter atleast ",this.passwordHide=!0,this.timeLeft=0,this.countTime=20,this.invalidOtp=!1,this.isvalidOtp=!1,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!0,disableAutoFocus:!1,placeholder:"",inputStyles:{width:"48px",height:"72px"}},this.maximumDOB=new Date,this.maximumDOB.setFullYear(this.maximumDOB.getFullYear()-18),this.userType=this.commonFunction.getUserType(),this.userIdGA=this.commonFunction.getUserId(),this.tierType=this.commonFunction.getTierType()}ngOnInit(){this.buildResetPasswordForm()}buildResetPasswordForm(){this.initiateChangePasswordFormGroup=this.formBuilder.group({userNameOrMobileNo:["",p.k0.required],dateOfBirth:["",[p.k0.required]]})}buildChangePasswordForm(){this.resetPasswordFormGroup=this.formBuilder.group({password:["",p.k0.compose([p.k0.required,p.k0.minLength(8)])],confirmPassword:["",p.k0.required]},{validator:(0,T.p)("password","confirmPassword")})}initateResetPassword(it){let dt=new Date(it.dateOfBirth).toISOString().slice(0,10);if(1==this.initiateChangePasswordFormGroup.valid){let $t={userName:this.encryptDecryptService.encryptData(it.userNameOrMobileNo),dateOfBirth:""!=it.dateOfBirth?this.encryptDecryptService.encryptData(dt):"",isWhatsappFlow:!1};this.userEmailIdOrMobileNo=it.userNameOrMobileNo,this.userMobileNumber=it.mobileNumber,this.commonFunction.showLoader(),this.auth.initateResetPassword($t).subscribe(Pn=>{this.userId=Pn.response.userId,this.commonFunction.hideLoader(),this.commonFunction.displaySnackBarMessage(Pn.response.message,"success"),this.isGetHelp=!1,this.isOtp=!0,this.startTimer(this.countTime),this.initiateResetPasswordGA()},Pn=>{this.commonFunction.hideLoader(),this.commonFunction.processErrorMessage(Pn,"failure")})}}onOtpChange(it){this.userOtp=it,6==it.length?(this.isvalidOtp=!0,this.invalidOtp=!1):(this.isvalidOtp=!1,this.invalidOtp=!1)}verifyUserOtp(){let it={id:this.userId,otp:this.encryptDecryptService.encryptData(this.userOtp),otpChannelType:"BOTH"};this.commonFunction.showLoader(),this.auth.verifyOtp(it).subscribe(dt=>{this.commonFunction.hideLoader(),this.isGetHelp=!1,this.isOtp=!1,this.isPasswordUpdate=!0,this.buildChangePasswordForm(),this.getHelpOtpGA()},dt=>{this.setVal(""),this.commonFunction.hideLoader(),this.commonFunction.processErrorMessage(dt,"failure")})}resetPassword(it){let dt={userId:this.userId,password:this.encryptDecryptService.encryptData(it.password)};this.commonFunction.showLoader(),this.auth.changePassword(dt).subscribe($t=>{this.commonFunction.hideLoader(),this.dialogRef.close();const Pn=new m.ru;Pn.panelClass="login-dialog",Pn.data="splash",Pn.disableClose=!0,this.dialog.open(Ft,Pn).afterClosed().subscribe(Pi=>{}),this.commonFunction.displaySnackBarMessage($t.response.message,"success")},$t=>{this.commonFunction.hideLoader(),this.commonFunction.processErrorMessage($t,"failure")})}resendOtp(){let it={userId:this.userId,userName:this.encryptDecryptService.encryptData(this.userEmailIdOrMobileNo)};this.commonFunction.showLoader(),this.auth.getHelpResendOtp(it).subscribe(dt=>{this.setVal(""),this.startTimer(this.countTime),this.commonFunction.hideLoader()},dt=>{this.setVal(""),this.commonFunction.hideLoader(),this.commonFunction.processErrorMessage(dt,"failure")})}onCloseClick(){this.dialogRef.close();const it=new m.ru;it.panelClass="login-dialog",it.data="splash",it.disableClose=!0,this.dialog.open(Ft,it).afterClosed().subscribe($t=>{})}validatePassword(){let it=this.commonFunction.validatePasswordPattern(this.resetPasswordFormGroup.get("password").value);this.hasUpper=it.hasUpper,this.hasNum=it.hasNum,this.errMsg=it.errorMsg,this.hasSpecial=it.hasSpecial}convertTimerValue(it){const dt=Math.floor(it/60);return("00"+dt).slice(-2)+":"+("00"+Math.floor(it-60*dt)).slice(-2)}startTimer(it){clearInterval(this.interval),this.timeLeft=it,this.interval=setInterval(()=>{this.timeLeft>0&&this.timeLeft--},1e3)}setVal(it){this.ngOtpInput.setValue(it),this.invalidOtp=!1}initiateResetPasswordGA(){dataLayer.push({event:"get_help_flow_details_click",userID:this.userIdGA,user_type:this.userType})}getHelpOtpGA(){dataLayer.push({event:"get_help_flow_otp_confirm_click",userID:this.userIdGA,user_type:this.userType})}resetPasswordGA(){dataLayer.push({event:"get_help_flow_reset_password_click",userID:this.userIdGA,user_type:this.userType})}crossBtnGA(){dataLayer.push({event:"cross_click",userID:this.userId,user_type:this.userType,tier:this.tierType})}static#e=this.\u0275fac=function(dt){return new(dt||Lt)(x.rXU(m.CP),x.rXU(p.ze),x.rXU(ce.k),x.rXU(ne.R),x.rXU(q.L),x.rXU(z.I),x.rXU(O.Ix),x.rXU(m.bZ))};static#t=this.\u0275cmp=x.VBU({type:Lt,selectors:[["app-get-help-dialog"]],viewQuery:function(dt,$t){if(1&dt&&x.GBs(F.gj,5),2&dt){let Pn;x.mGM(Pn=x.lsd())&&($t.ngOtpInput=Pn.first)}},decls:6,vars:3,consts:[["picker",""],[1,"get-help"],[1,"cross-btn"],["src","assets/icon/clear.svg","alt","cross-button",1,"close-button",3,"click"],["class","get_help_block",4,"ngIf"],["class","otp_block",4,"ngIf"],["class","change_pwd_blocl",4,"ngIf"],[1,"get_help_block"],[3,"submit","formGroup"],[1,"text-blk"],[1,"title"],[1,"mb-0","text-width"],[1,"inputs","mt-3"],[1,"field_label"],["floatLabel","never"],["matInput","","placeholder","Enter Email ID or Mobile Number","formControlName","userNameOrMobileNo","spaceTrimDirective","","maxLength","320","autocomplete","off","autocomplete","nope"],[4,"ngIf"],[1,"inputs"],["matInput","","readonly","","formControlName","dateOfBirth","placeholder","DD/MM/YY",3,"click","matDatepicker","max"],["matSuffix","",3,"for"],["matDatepickerToggleIcon",""],["src","assets/icon/calendar.svg","alt","date",1,"calendar-img"],[1,"text-center","mb-4","mt-5","submit-btn"],["type","submit",1,"btn-height","btn-xlg-rounded","custom-btn","btn-green","full-width-btn",3,"ngStyle","disabled"],[1,"otp_block"],[1,"text-msg"],[1,"grid_center","mb-5","mt-4","otp-margin",3,"ngClass"],[1,"mb-3","textcentered","otp-label","text-msg"],[1,"cus-style","mb-4",3,"onInputChange","config"],[1,"justify-content","text-msg"],[3,"ngClass"],["href","javascript:void(0)",3,"click","ngClass"],[1,"text-center","mb-4","mt-5"],["type","button",1,"btn-height","btn-xlg-rounded","custom-btn","btn-green","full-width-btn",3,"click","ngStyle","disabled"],[1,"change_pwd_blocl"],[1,"title","mb-5"],[1,""],[1,"example-form"],["floatLabel","never",1,"example-full-width"],["matInput","","placeholder","Enter Password","formControlName","password","minlength","8","maxlength","50",3,"keyup","keydown.space","type"],["matSuffix","",3,"click"],[1,"pswd-chips","mb-5","mt-1"],[1,"chip"],[1,"chip-bg",3,"ngClass"],[1,"mb-5"],["matInput","","placeholder","Enter Password","type","password","formControlName","confirmPassword","minlength","8","maxlength","50",3,"keydown.space"],[1,"text-center","btn-margin"]],template:function(dt,$t){1&dt&&(x.j41(0,"section",1)(1,"div",2)(2,"img",3),x.bIt("click",function(){return $t.onCloseClick(),$t.crossBtnGA()}),x.k0s()(),x.DNE(3,me,27,10,"div",4)(4,Be,18,9,"div",5)(5,ae,37,14,"div",6),x.k0s()),2&dt&&(x.R7$(3),x.Y8G("ngIf",$t.isGetHelp),x.R7$(),x.Y8G("ngIf",$t.isOtp),x.R7$(),x.Y8G("ngIf",$t.isPasswordUpdate))},dependencies:[I.YU,I.bT,I.B3,p.qT,p.me,p.BC,p.cb,p.xh,p.tU,p.j4,p.JD,k.TL,k.rl,k.yw,A.fg,H.Vh,H.bZ,H.bU,H.Wl,F.gj],styles:[".get-help[_ngcontent-%COMP%]{margin:0}.get-help[_ngcontent-%COMP%]   .back-arrow[_ngcontent-%COMP%]{padding:1rem 0}.get-help[_ngcontent-%COMP%]   .text-blk[_ngcontent-%COMP%]{margin-top:1rem}.get-help[_ngcontent-%COMP%]   .text-blk[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.get-help[_ngcontent-%COMP%]   .text-blk[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.get-help[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{padding:.5rem 0}.get-help[_ngcontent-%COMP%]   .btn-blk[_ngcontent-%COMP%]{margin-top:1rem}.get-help[_ngcontent-%COMP%]   .btn-blk[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{padding:.5rem}.get-help[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px}.field_label[_ngcontent-%COMP%]{font-family:SoDoSans_Light,Helvetica,sans-serif;font-size:14px;color:#000}.button-primary[_ngcontent-%COMP%]{background:#00754a;color:#fff;border-radius:0;width:100%;margin-top:5px;border-color:#00754a;font-family:SoDoSans_Semibold,Helvetica,sans-serif!important;padding:.8rem;border:1px solid #00754a;font-size:12px}.button-primary[_ngcontent-%COMP%]{border-radius:2rem;padding:5px;height:35px}.title[_ngcontent-%COMP%]{font-family:SoDosans_Bold,Helvetica,sans-serif;color:#1e3932;font-size:24px;line-height:32px}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-subscript-wrapper[_ngcontent-%COMP%]{margin-top:0!important}  ng-otp-input .otp-input{text-align:center;font-size:32px;background:#fff!important;border:1px solid #00754a;box-sizing:border-box!important;border-radius:8px!important}.color_green[_ngcontent-%COMP%]{color:#00754a}.grid_center[_ngcontent-%COMP%]{display:grid;align-items:center;justify-content:center}.justify-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.pswd-err[_ngcontent-%COMP%]{background:#e5e5e5;color:#444343;padding:5px 12px;font-size:11px;font-weight:300}.failure[_ngcontent-%COMP%]{background:#efd4dc;color:#d62b1f;font-size:11px;padding:5px 12px;font-size:12px;font-weight:300;border-radius:3px}.success[_ngcontent-%COMP%]{background:#e6edeb!important;color:#096!important;font-size:11px!important;padding:5px 12px!important;font-size:12px!important;font-weight:300!important;border-radius:3px!important}.pt-2[_ngcontent-%COMP%]{padding-top:2.5rem}@media only screen and (max-width: 450px){  ng-otp-input{padding:0!important}  ng-otp-input .wrapper{display:flex;justify-content:space-between}  ng-otp-input .wrapper .otp-input{width:10vw!important;height:60px!important}.text-width[_ngcontent-%COMP%]{width:100%}.otp_block[_ngcontent-%COMP%]   .otp-margin[_ngcontent-%COMP%]{margin-bottom:2rem!important}.otp_block[_ngcontent-%COMP%]   .text-msg[_ngcontent-%COMP%]{font-size:12px}.change_pwd_blocl[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:2rem!important}.pswd-strength[_ngcontent-%COMP%]{margin-bottom:3.8rem!important;--bs-gutter-x: 0}.pswd-strength[_ngcontent-%COMP%]   .txt-size[_ngcontent-%COMP%]{font-size:9px}.pswd-strength[_ngcontent-%COMP%]   .padding[_ngcontent-%COMP%]{padding:0 3px}.pswd-strength[_ngcontent-%COMP%]   .padding-less[_ngcontent-%COMP%]{padding:0}.submit-btn[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:2rem!important}.otp-label[_ngcontent-%COMP%]{margin-bottom:1rem!important}}@media only screen and (min-width: 600px){.textcentered[_ngcontent-%COMP%]{text-align:center;font-weight:300;font-size:16px!important;color:#000000de}.text-width[_ngcontent-%COMP%]{width:75%}}.textcenter[_ngcontent-%COMP%]{width:100%;text-align:center}.change_pwd_blocl[_ngcontent-%COMP%]   .btn-margin[_ngcontent-%COMP%]{margin-bottom:1.8rem}.btn-height[_ngcontent-%COMP%]{height:40px}.pswd-strength[_ngcontent-%COMP%]   .txt-size[_ngcontent-%COMP%]{font-size:11px}@media only screen and (min-width: 1876px) and (max-width: 1920px){.btn-height[_ngcontent-%COMP%]{margin-bottom:1.5rem}.change_pwd_blocl[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:1.8rem!important}}.textright[_ngcontent-%COMP%]{width:100%;text-align:right}  .mat-focused .mat-form-field-label{color:#000000a6!important}.pswd-chips[_ngcontent-%COMP%]{display:flex}.pswd-chips[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{margin-right:5px;font-size:11px;text-align:center}.pswd-chips[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]   .chip-bg[_ngcontent-%COMP%]{padding:5px;background:#f9f9f9;color:#000}@media only screen and (max-device-width: 370px){.pswd-chips[_ngcontent-%COMP%]{display:flex}.pswd-chips[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{margin-right:4px;font-size:9px;text-align:center}.pswd-chips[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]   .chip-bg[_ngcontent-%COMP%]{padding:5px;background:#f9f9f9;color:#000}}.active[_ngcontent-%COMP%]{color:#00754a}.inactive[_ngcontent-%COMP%]{color:#00000061;pointer-events:none}[_ngcontent-%COMP%]:deep   .mat-form-field-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:green!important}.alert[_ngcontent-%COMP%]     ng-otp-input .wrapper .otp-input{border:solid 1px red}.verified[_ngcontent-%COMP%]     ng-otp-input{padding:0!important}.verified[_ngcontent-%COMP%]     ng-otp-input .wrapper .otp-input{border:solid 1px rgb(0,117,74)}.calendar-img[_ngcontent-%COMP%]{vertical-align:baseline}.close-button[_ngcontent-%COMP%]{margin-right:-10px!important}"]})}return Lt})(),fe=(()=>{class Lt{constructor(it,dt){this.dialogRef=it,this.commonFunction=dt,this.userType=this.commonFunction.getUserType(),this.userId=this.commonFunction.getUserId(),this.tierType=this.commonFunction.getTierType()}closeDialog(it){this.dialogRef.close(it)}crossBtnGA(){dataLayer.push({event:"cross_click",userID:this.userId,user_type:this.userType,tier:this.tierType})}static#e=this.\u0275fac=function(dt){return new(dt||Lt)(x.rXU(m.CP),x.rXU(q.L))};static#t=this.\u0275cmp=x.VBU({type:Lt,selectors:[["app-force-logout-dialog"]],decls:12,vars:0,consts:[[1,"container"],[1,"main"],[1,"close-btn","pointer"],["src","assets/icon/cancel_icon.svg","alt","close",3,"click"],[1,"content"],[1,"button"],["type","button",1,"btns","btn-no",3,"click"],["type","button",1,"btns","btn-yes",3,"click"]],template:function(dt,$t){1&dt&&(x.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),x.bIt("click",function(){return $t.closeDialog("NO"),$t.crossBtnGA()}),x.k0s()(),x.j41(4,"div",4)(5,"h4"),x.EFF(6,"Sorry, you have to log out a previous session first to continue here."),x.k0s()(),x.j41(7,"div",5)(8,"button",6),x.bIt("click",function(){return $t.closeDialog("NO")}),x.EFF(9,"No"),x.k0s(),x.j41(10,"button",7),x.bIt("click",function(){return $t.closeDialog("YES")}),x.EFF(11,"Log out"),x.k0s()()()())},styles:[".container[_ngcontent-%COMP%]{background-image:url(loginErrorBg.cf3c0d2818460f8c.png)!important;background-size:contain;background-repeat:no-repeat}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-top:1em}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:22px;font-weight:bolder;text-align:center}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-evenly;padding-top:1em}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{width:40%;border-radius:16px;border:1px solid #000;padding:3px 10px;font-weight:600}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .btn-no[_ngcontent-%COMP%]{background-color:transparent;color:#000}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .btn-yes[_ngcontent-%COMP%]{background:#000000de;color:#fff}"]})}return Lt})();var Re=E(1413),_e=E(6977),Xe=E(4017),Ye=E(345),Ot=E(8635),un=E(1569),Cn=E(9936),An=E(1315),Nn=E(1612),Et=E(9297),Rt=E(4599);const jt=Lt=>({"shimmer-loader-button":Lt}),Dt=Lt=>({opacity:Lt}),en=Lt=>({"br animate-button-white":Lt});function qe(Lt,bn){if(1&Lt&&(x.j41(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"h5"),x.EFF(5),x.k0s(),x.j41(6,"p",28),x.EFF(7),x.k0s()()()()()),2&Lt){const it=x.XpG();x.R7$(5),x.JRh(it.bristaMessage.baristaTitle),x.R7$(2),x.JRh(it.bristaMessage.baristaContent)}}function We(Lt,bn){1&Lt&&(x.j41(0,"mat-error"),x.EFF(1," Please enter value "),x.k0s())}function ge(Lt,bn){1&Lt&&(x.j41(0,"mat-error"),x.EFF(1," Please enter value "),x.k0s())}function mt(Lt,bn){if(1&Lt){const it=x.RV6();x.j41(0,"p",29),x.bIt("click",function(){x.eBV(it);const $t=x.XpG();return $t.continueAsGuest(),x.Njj($t.continueAsGuestGA())}),x.EFF(1," Continue as Guest"),x.k0s()}}let Ft=(()=>{class Lt{constructor(it,dt,$t,Pn,qn,Pi,hi,Ci,qt,Ie,Te,Ge,kt,Gt,En,Yn,Mi){this.dialog=it,this.router=dt,this.titleService=$t,this.dialogRef=Pn,this.formBuilder=qn,this.auth=Pi,this.loaderOverlayService=hi,this.cmsService=Ci,this.deliveryService=qt,this.viewCartService=Ie,this.storeService=Te,this.GeoLocationService=Ge,this.commonFunction=kt,this.menuService=Gt,this.storageService=En,this.encryptDecryptService=Yn,this.data=Mi,this.title="Login | Tata Starbucks",this.showErrorMsg=!1,this.loader=!1,this.isForceLogin=0,this.endsubs$=new Re.B,this.workingStoreOnline=[],this.isdynamicMenu=JSON.parse(sessionStorage.getItem("isdynamicMenu")),this.isManuallySelectedStore=JSON.parse(localStorage.getItem("isManuallySelectedStore")),this.resultLatLong=this.storageService.getLatLongData(),this.checkLogout(),"splash"===Mi&&(this.cartFlowGuestToken(),this.constructorItem()),this.buildLoginForm(),this.titleService.setTitle(this.title),this.userType=this.commonFunction.getUserType(),this.userId=this.commonFunction.getUserId(),this.tierType=this.commonFunction.getTierType()}ngOnInit(){this.displayBaristaMsg()}onInItData(){let it=JSON.parse(localStorage.getItem("cohortData"));it&&it.baristaContent.forEach(dt=>{"Pay"==dt.data&&(this.bristaMessage=dt.content&&dt.content[0])})}constructorItem(){let it=this.storageService.getVisit();sessionStorage.clear(),this.menuService.clearReorderMenuCache(),this.storeService.clearStoreList(),sessionStorage.setItem("showBarista","yes"),sessionStorage.removeItem("favouriteItem"),sessionStorage.removeItem("previosPage"),sessionStorage.removeItem("defaultSelectionsFav"),sessionStorage.removeItem("defaultSelections"),this.checkSnackBar(),localStorage.removeItem("manualCouponCode"),this.setGPSData(this.resultLatLong),this.setPrevVisit(it)}setGPSData(it){sessionStorage.setItem("currentLat",it.currentLat),sessionStorage.setItem("currentLong",it.currentLong),sessionStorage.setItem("locationAccepted",JSON.stringify(!0)),sessionStorage.setItem("gpsEvent","granted")}buildLoginForm(){this.loginFormGroup=this.formBuilder.group({emailOrMobile:["",p.k0.required],password:["",[p.k0.required,p.k0.minLength(8),p.k0.maxLength(50)]]})}userLogin(){let it=this.loginFormGroup.value;if(this.loginFormGroup.valid){if(!this.commonFunction.checkConnection())return;let $t=localStorage.getItem("firebaseDeviceId"),Pn={username:this.encryptDecryptService.encryptData(it.emailOrMobile),password:this.encryptDecryptService.encryptData(it.password),deviceToken:$t||"",forceLogin:this.isForceLogin};this.loader=!0,this.isClicked=this.loaderOverlayService.showShimmerBtn(),this.auth.userLogin(Pn).subscribe(qn=>{200==qn.status&&(this.loader=!1,this.loginGA(),"splash"===this.data&&(this.removeData(),this.storageService.setSessionTokens(qn),this.secureLogin()),this.data&&"/pay"===this.data.redirectTo&&(this.removeGuestData(),this.storageService.setSessionTokens(qn),this.secureLoginPay()),"/add-card"===this.data.redirectTo&&(this.removeGuestData(),this.storageService.setSessionTokens(qn),this.secureLoginPay()),"cart"===this.data&&(this.storageService.setSessionTokens(qn),this.secureLoginCart()),("subscribe"===this.data||"profile"===this.data)&&(this.storageService.setSessionTokens(qn),this.secureLoginCart()),"event"===this.data&&(this.storageService.setSessionTokens(qn),sessionStorage.removeItem("events"),this.secureLoginEvent()),"banner"===this.data&&(this.storageService.setSessionTokens(qn),this.secureLoginCart()),this.data||"cart"===sessionStorage.getItem("module")&&(this.storageService.setSessionTokens(qn),this.secureLoginCart()))},qn=>{this.loader=!1,this.isClicked=this.loaderOverlayService.hideShimmerBtn(),400==qn.error.status||500==qn.error.status?(this.loginFormGroup.get("password").reset(),this.commonFunction.displaySnackBarMessage(qn.error.response[0],"failure")):403==qn.error.status&&this.openForceLogoutDialog()})}}onCloseClick(){this.data&&"/pay"===this.data.redirectTo?(this.router.navigate(["/pay"]),this.updateCart()):"cart"===this.data?(sessionStorage.setItem("updateCart","true"),this.dialogRef.close()):"splash"===this.data?"first"===this.storageService.getVisit()?this.router.navigate(["/dashboard"]):(this.storageService.setVisit(),this.router.navigate(["/welcome"])):"banner"===this.data?this.dialogRef.close(this.data):"profile"===this.data&&this.updateCart(),setTimeout(()=>{this.dialogRef.close(this.data)},30)}updateCart(){let it=this.storageService.getBasketId();it?this.viewCartService.updateBasket({basketId:it}).subscribe($t=>{this.itemInCart()}):"profile"===this.data&&this.router.navigate(["/dashboard"])}itemInCart(){let it=this.storageService.getBasketId();it&&this.viewCartService.getbasketItem({basketId:it}).subscribe($t=>{localStorage.setItem("snackbarData",JSON.stringify($t)),"profile"===this.data&&this.router.navigate(["/dashboard"])},$t=>{})}openGetHelpDailog(){this.commonFunction.checkConnection()&&(this.dialogRef.close(),this.dialog.open(de,{disableClose:!0,panelClass:"getHelp-dialog-box"}).afterClosed().subscribe($t=>{}))}openRegistration(){this.commonFunction.checkConnection()&&(this.dialogRef.close("signup"),"cart"==this.data?(sessionStorage.setItem("isSignUpInitial","false"),sessionStorage.setItem("fromEvent","false")):"event"===this.data?(sessionStorage.setItem("isSignUpInitial","false"),sessionStorage.setItem("fromEvent","true")):"splash"===this.data&&(sessionStorage.setItem("isSignUpInitial","true"),sessionStorage.setItem("fromEvent","false")),sessionStorage.setItem("isSignUpWA","false"),this.router.navigate(["/registration"]))}skipLogin(){this.commonFunction.checkConnection()&&(this.removeData(),"cart"===this.data||"event"===this.data||"banner"===this.data?this.dialogRef.close():"splash"===this.data?(this.commonFunction.guestUser(),this.cartFlowGuestToken(),this.getCohortContent(),this.userVisit(),this.dialogRef.close()):(this.dialogRef.close(),this.router.navigate(["/dashboard"])))}userVisit(){"first"===this.storageService.getVisit()?this.router.navigate(["/dashboard"]):(this.storageService.setVisit(),this.router.navigate(["/welcome"]))}setPrevVisit(it){it&&this.storageService.setVisit()}continueAsGuest(){this.dialogRef.close("guest")}getDashboardSerial(){this.cmsService.getHomeSeqCache().subscribe(it=>{this.itemSequence=it.response.attributes.dashboardComponents},it=>{})}getBlogs(){void 0!==localStorage.getItem("dashboardBlogData")&&this.cmsService.getblogCache().subscribe(it=>{localStorage.setItem("dashboardBlogData",JSON.stringify(it.response.data))})}getCohortContent(){this.cmsService.clearCMS(),this.cmsService.getCmsCohortContentLocal().subscribe(it=>{localStorage.removeItem("cohortData"),localStorage.setItem("cohortData",JSON.stringify(it.response)),this.baristaAndStarry(),this.getBanners()})}getCohortContentLogin(){this.cmsService.clearCMS(),this.cmsService.getCmsCohortContentLocal().subscribe(it=>{localStorage.setItem("cohortData",JSON.stringify(it.response)),this.isClicked=this.loaderOverlayService.hideShimmerBtn(),this.getUserOffers(),this.getBanners(),this.baristaAndStarry(),this.onCloseClick()},it=>{this.onCloseClick()})}getUserOffers(){this.cmsService.getOffers().subscribe(it=>{localStorage.removeItem("offersData"),localStorage.setItem("offersData",JSON.stringify(it.response))})}getBanners(){this.cmsService.getBanners().subscribe(it=>{localStorage.removeItem("bannerArray"),localStorage.setItem("bannerArray",JSON.stringify(it.response))})}geoService(){let it=this.storageService.getLatLongData();it.locationAccepted&&it.currentLat&&it.currentLong?this.getStoreList(it.currentLat,it.currentLong):this.isdynamicMenu||this.isManuallySelectedStore||this.GeoLocationService.getLocationCordinates().then(dt=>{localStorage.setItem("locationAccepted",JSON.stringify(!0)),this.geoResult=dt,this.getStoreList(dt.coords.latitude,dt.coords.longitude),this.storageService.setLatLongData(dt)}).catch(dt=>{sessionStorage.setItem("locationAccepted",JSON.stringify(!1)),sessionStorage.setItem("gpsEvent","denied"),this.geoResult=dt,this.getDummyMenuList()})}getGeoLocationDetails(){this.GeoLocationService.getLocationCordinates().then(it=>{localStorage.setItem("locationAccepted",JSON.stringify(!0)),this.geoResult=it,this.getStoreList(it.coords.latitude,it.coords.longitude),this.storageService.setLatLongData(it)}).catch(it=>{this.geoResult=it,this.getDummyMenuList()})}getStoreList(it,dt){if(null==it&&null==dt)this.getGeoLocationDetails();else if(!this.isdynamicMenu&&!this.isManuallySelectedStore){let $t={lat:it,lng:dt};sessionStorage.setItem("latLongObj",JSON.stringify($t)),this.storeService.getStoresLocal($t).subscribe(Pn=>{this.storeList=Pn.response,0!=this.storeList.length&&this.storeList.sort(function(qn,Pi){return qn.distanceFromPos-Pi.distanceFromPos}),this.deliveryService.findChannelType(this.storeList,$t),this.noStoreFound?this.getDummyMenuList():(this.storageService.clearSetStoreFound(),this.storageService.setStoreFound(!0),this.currentStoreId=this.workingStoreOnline.shopId,sessionStorage.setItem("storeName",this.workingStoreOnline.shopName))},Pn=>{this.getDummyMenuList()})}}favProducts(){this.menuService.getFavMenuItemCache().subscribe(it=>{sessionStorage.setItem("favouriteItem",JSON.stringify(it.response))})}reOrderMenu(){this.menuService.reorderMenuCache().subscribe(it=>{})}getDummyMenuList(){this.isManuallySelectedStore||this.isdynamicMenu||(this.storageService.clearSetStoreFound(),this.storageService.setStoreFound(!1),this.menuService.getDummyMenu().subscribe(it=>{it.response.sort((dt,$t)=>parseFloat(dt.displayOrder)-parseFloat($t.displayOrder)),it.response.forEach(dt=>{dt.subCategories.sort(($t,Pn)=>parseFloat($t.displayOrder)-parseFloat(Pn.displayOrder))}),localStorage.setItem("menuListItem",Xe.compress(JSON.stringify(it.response))),sessionStorage.setItem("storeMenu",Xe.compress(JSON.stringify(it.response))),this.setState()},it=>{}))}cartFlowGuestToken(){localStorage.removeItem("guestUserToken"),this.viewCartService.getGuestUserToken().subscribe(it=>{localStorage.setItem("guestUserToken",it.response.guestToken),this.guestloginAPI()})}checkLogout(){JSON.parse(sessionStorage.getItem("logOut"))||this.commonFunction.verifyLoggedInUser()&&(this.router.navigate(["/dashboard"]),this.dialogRef.close())}guestloginAPI(){this.geoService(),this.getBlogs(),this.getDashboardSerial(),this.getCohortContent(),this.getactivebasket()}secureLogin(){this.getCohortContentLogin(),this.currentStoreId||this.geoService(),this.reOrderMenu(),this.favProducts()}secureLoginPay(){let it=sessionStorage.getItem("storeId");this.currentStoreId||(this.currentStoreId=it),this.getCohortContentLogin(),this.geoService(),this.reOrderMenu(),this.favProducts()}secureLoginCart(){let it=sessionStorage.getItem("storeId");this.currentStoreId||(this.currentStoreId=it),this.getCohortContentLogin(),this.geoService(),this.reOrderMenu(),this.favProducts(),this.getBlogs()}secureLoginEvent(){let it=sessionStorage.getItem("storeId");this.currentStoreId||(this.currentStoreId=it),this.getCohortContentLogin(),this.geoService(),this.reOrderMenu(),this.favProducts()}setState(){}removeGuestData(){localStorage.removeItem("paymentModeDetails"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("token_type"),localStorage.removeItem("user_profile"),localStorage.removeItem("referral_code"),this.clearHomeMenuFavList()}removeData(){localStorage.removeItem("paymentModeDetails"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("token_type"),localStorage.removeItem("user_profile"),localStorage.removeItem("referral_code"),sessionStorage.removeItem("userSelected"),this.checkSnackBar(),localStorage.removeItem("manualCouponCode"),this.clearHomeMenuFavList()}checkSnackBar(){"cart"===this.data||localStorage.removeItem("snackbarData")}clearHomeMenuFavList(){this.menuService.clearReorderMenuCache(),this.menuService.clearFavItemCache(),this.menuService.clearMenuList(),this.storeService.clearStoreList()}openForceLogoutDialog(){const it=new m.ru;it.panelClass="force-logout-dialog",it.data="test",it.disableClose=!0,this.dialog.open(fe,it).afterClosed().subscribe($t=>{"YES"==$t&&(this.isForceLogin=1,this.userLogin())})}getactivebasket(){this.viewCartService.getActiveBasket().pipe((0,_e.Q)(this.endsubs$)).subscribe(it=>{it.response.basketId&&sessionStorage.setItem("basketId",it.response.basketId)},it=>{})}baristaAndStarry(){this.getBaristaScreenOne(),this.getBaristaScreenTwo(),this.findRandomStarry()}getBaristaScreenOne(){let it=this.commonFunction.getRandomBaristaOne(),dt=JSON.parse(localStorage.getItem("baristaDataOne"));if(sessionStorage.setItem("barsitaGroupOne",it),dt)dt.push(it),localStorage.setItem("baristaDataOne",JSON.stringify(dt));else{let $t=[];$t.push(it),localStorage.setItem("baristaDataOne",JSON.stringify($t))}}getBaristaScreenTwo(){let it=this.commonFunction.getRandomBaristaTwo(),dt=JSON.parse(localStorage.getItem("baristaDataTwo"));if(sessionStorage.setItem("barsitaGroupTwo",it),dt)dt.push(it),localStorage.setItem("baristaDataTwo",JSON.stringify(dt));else{let $t=[];$t.push(it),localStorage.setItem("baristaDataTwo",JSON.stringify($t))}}findRandomStarry(){let it=this.commonFunction.getRandomStarry(),dt=JSON.parse(localStorage.getItem("starryData"));if(sessionStorage.setItem("starryScreen",it),dt)dt.push(it),localStorage.setItem("starryData",JSON.stringify(dt));else{let $t=[];$t.push(it),localStorage.setItem("starryData",JSON.stringify($t))}}getOnlineStoreWH(it){let dt=0!=it.length?it.filter(Pn=>Pn.active):[];return dt=0!=dt.length?this.checkStoreWorkingHours(dt):[],0!=dt.length?this.checkOnlineWorkingStore(dt):[]}checkStoreWorkingHours(it){let dt=new Date,$t=dt.getDay(),Pn=dt.getHours()+":"+dt.getMinutes();return it.forEach(qn=>{if(qn.active)if(0!=qn.workingHours.length){let Pi=this.dateCompare(qn.workingHours[$t].start,Pn),hi=this.dateCompare(qn.workingHours[$t].end,Pn);qn.isStoreWH=1!==Pi||-1!==hi}else qn.isStoreWH=!0;else qn.isStoreWH=!1}),it}dateCompare(it,dt){var $t=new Date,Pn=it.split(":");$t.setHours(Pn[0],Pn[1],0);var qn=new Date;return Pn=dt.split(":"),qn.setHours(Pn[0],Pn[1],0),$t.getTime()>qn.getTime()?1:$t.getTime()<qn.getTime()?-1:0}checkOnlineWorkingStore(it){for(let dt=0;dt<it.length;dt++)if(it[dt].isStoreWH)return it[dt];return[]}signupWA(){this.commonFunction.checkConnection()&&(this.dialogRef.close("signup"),"cart"==this.data?(sessionStorage.setItem("isSignUpInitial","false"),sessionStorage.setItem("fromEvent","false")):"event"===this.data?(sessionStorage.setItem("isSignUpInitial","false"),sessionStorage.setItem("fromEvent","true")):"splash"===this.data&&(sessionStorage.setItem("isSignUpInitial","true"),sessionStorage.setItem("fromEvent","false")),sessionStorage.setItem("isSignUpWA","true"),this.router.navigate(["/registration"]))}displayBaristaMsg(){this.bristaMessage=this.commonFunction.checkAndDisplayBarista("Pay")}ngOnDestroy(){this.endsubs$.next(!0),this.endsubs$.complete()}skipGA(){dataLayer.push({event:"login_username_skip_click",userID:this.userId,user_type:this.userType})}loginGA(){dataLayer.push({event:"login_username_password_click",userID:this.userId,user_type:this.userType})}getHelpGA(){dataLayer.push({event:"login_username_get_help_click",userID:"NA",user_type:this.userType})}signUpGA(){dataLayer.push({event:"login_username_sign_up_click",userID:this.userId,user_type:this.userType})}continueAsGuestGA(){dataLayer.push({event:"guest_user_continue_as_guest_click",userID:this.userId,user_type:this.userType,tier:this.tierType})}static#e=this.\u0275fac=function(dt){return new(dt||Lt)(x.rXU(m.bZ),x.rXU(O.Ix),x.rXU(Ye.hE),x.rXU(m.CP),x.rXU(p.ze),x.rXU(ce.k),x.rXU(ne.R),x.rXU(Ot.x),x.rXU(un.m),x.rXU(Cn.H),x.rXU(An.n),x.rXU(Nn.O),x.rXU(q.L),x.rXU(Et.$),x.rXU(Rt.n),x.rXU(z.I),x.rXU(m.Vh))};static#t=this.\u0275cmp=x.VBU({type:Lt,selectors:[["app-login-dialog"]],decls:45,vars:16,consts:[["loginForm","ngForm"],[1,"login-blk"],[1,"link-text","text-right"],[1,"b_label",3,"click"],[1,"input-fields"],[1,"title"],["class","barista-card-blk mb-4",4,"ngIf"],["id","loginForm",3,"submit","formGroup"],[1,"inputs","mb-1em"],[1,"label-text"],["floatLabel","never"],["matInput","","id","username_input","placeholder","Enter Email ID or Mobile Number","appearance","none","formControlName","emailOrMobile","autocomplete","\u201doff\u201d","maxlength","320",3,"keydown.space"],[4,"ngIf"],[1,"inputs","m-0"],["matInput","","placeholder","Enter Password","formControlName","password","type","password","minLength","8","maxlength","50",3,"keydown.space"],[1,"text-blk","d-flex"],[1,"link-text",3,"click"],["class","link-text guest-link",3,"click",4,"ngIf"],[1,"text-center","button-block",3,"ngClass"],["type","submit",1,"btn-xlg-rounded","custom-btn","btn-green","full-width-btn","space",3,"ngStyle","disabled","ngClass"],[1,"text-blk","text-center"],[1,"text-blk","text-center","mt-2","mb-1"],["src","../../../../assets/images/whatsapp-logo.png"],[1,"ms-1"],[1,"barista-card-blk","mb-4"],[1,"barista-bg","bg-clr"],[1,"row","align-items-center","content-blk"],[1,"col","text-white","content"],[1,"m-0"],[1,"link-text","guest-link",3,"click"]],template:function(dt,$t){if(1&dt){const Pn=x.RV6();x.j41(0,"section",1)(1,"div",2)(2,"button",3),x.bIt("click",function(){return x.eBV(Pn),$t.skipLogin(),x.Njj($t.skipGA())}),x.EFF(3),x.k0s()(),x.j41(4,"div",4)(5,"h1",5),x.EFF(6,"Login"),x.k0s(),x.DNE(7,qe,8,2,"div",6),x.j41(8,"form",7,0),x.bIt("submit",function(){return x.eBV(Pn),x.Njj($t.userLogin())}),x.j41(10,"div",8)(11,"label",9),x.EFF(12,"USERNAME"),x.k0s(),x.j41(13,"mat-form-field",10)(14,"input",11),x.bIt("keydown.space",function(Pi){return x.eBV(Pn),x.Njj(Pi.preventDefault())}),x.k0s(),x.DNE(15,We,2,0,"mat-error",12),x.k0s()(),x.j41(16,"div",13)(17,"label",9),x.EFF(18,"PASSWORD"),x.k0s(),x.j41(19,"mat-form-field",10)(20,"input",14),x.bIt("keydown.space",function(Pi){return x.eBV(Pn),x.Njj(Pi.preventDefault())}),x.k0s(),x.DNE(21,ge,2,0,"mat-error",12),x.k0s()(),x.j41(22,"div",15)(23,"p"),x.EFF(24,"Don't have an account? "),x.j41(25,"span")(26,"a",16),x.bIt("click",function(){return x.eBV(Pn),$t.openRegistration(),x.Njj($t.signUpGA())}),x.EFF(27,"SignUp"),x.k0s()()(),x.DNE(28,mt,2,0,"p",17),x.k0s(),x.j41(29,"div",18)(30,"button",19),x.EFF(31,"Login"),x.k0s()()()(),x.j41(32,"div",20)(33,"p"),x.EFF(34,"Facing trouble logging in? "),x.j41(35,"span")(36,"a",16),x.bIt("click",function(){return x.eBV(Pn),$t.openGetHelpDailog(),x.Njj($t.getHelpGA())}),x.EFF(37,"Get Help"),x.k0s()()()(),x.j41(38,"div",21)(39,"p"),x.nrm(40,"img",22),x.EFF(41,"Already registered via WhatsApp?"),x.j41(42,"span",23)(43,"a",16),x.bIt("click",function(){return x.eBV(Pn),x.Njj($t.signupWA())}),x.EFF(44,"Continue Here"),x.k0s()()()()()}2&dt&&(x.R7$(3),x.JRh("cart"===$t.data?"BACK":"SKIP"),x.R7$(4),x.Y8G("ngIf",$t.bristaMessage),x.R7$(),x.Y8G("formGroup",$t.loginFormGroup),x.R7$(7),x.Y8G("ngIf",$t.loginFormGroup.controls.emailOrMobile.hasError("required")),x.R7$(6),x.Y8G("ngIf",$t.loginFormGroup.controls.password.hasError("required")),x.R7$(7),x.Y8G("ngIf","cart"==$t.data),x.R7$(),x.Y8G("ngClass",x.eq3(10,jt,$t.isClicked)),x.R7$(),x.Y8G("ngStyle",x.eq3(12,Dt,$t.loginFormGroup.invalid?"0.6":"1"))("disabled",$t.loginFormGroup.invalid)("ngClass",x.eq3(14,en,$t.isClicked)))},dependencies:[I.YU,I.bT,I.B3,p.qT,p.me,p.BC,p.cb,p.tU,p.j4,p.JD,k.TL,k.rl,A.fg],styles:[".login-blk[_ngcontent-%COMP%]   .mat-focused[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:transparent}.login-blk[_ngcontent-%COMP%]   .link-text[_ngcontent-%COMP%]{text-align:right;color:#00754a;font-size:12px;cursor:pointer;font-weight:600}.login-blk[_ngcontent-%COMP%]   .link-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:1px;font-weight:600}.login-blk[_ngcontent-%COMP%]   .text-blk[_ngcontent-%COMP%]{justify-content:space-between;padding-top:6px}.login-blk[_ngcontent-%COMP%]   .text-blk[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:SoDoSans_Light,Helvetica,sans-serif;font-size:12px;line-height:16px;margin-bottom:0;color:#000}.login-blk[_ngcontent-%COMP%]   .text-blk[_ngcontent-%COMP%]   .guest-link[_ngcontent-%COMP%]{text-decoration:underline!important;color:#00754a;padding-left:.5em}.barista-card-blk[_ngcontent-%COMP%]{width:100%}.barista-card-blk[_ngcontent-%COMP%]   .barista-bg[_ngcontent-%COMP%]{background-image:url(right_transparent_logo.9e5a228a285bb669.svg);background-repeat:no-repeat;background-position:right;background-position-y:inherit;background-size:contain;padding:2rem 1rem;border-radius:10px}.barista-card-blk[_ngcontent-%COMP%]   .bg-clr[_ngcontent-%COMP%]{background-color:#539e86}.barista-card-blk[_ngcontent-%COMP%]   .bg-clr[_ngcontent-%COMP%]   .content-blk[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px;font-weight:bolder}.barista-card-blk[_ngcontent-%COMP%]   .bg-clr[_ngcontent-%COMP%]   .content-blk[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:400}.login-blk[_ngcontent-%COMP%]     .mat-dialog-container{width:100%;height:100%;border-radius:24px}@media only screen and (max-width: 970px) and (min-width: 320px){  .mat-dialog-container{min-width:90vw!important;max-width:95vw!important;border-radius:10px;padding:1rem 1.5rem}  .cdk-overlay-pane{max-width:100vw!important}.input-fields[_ngcontent-%COMP%]{padding:0!important}}.title[_ngcontent-%COMP%]{font-family:SoDosans_Bold,Helvetica,sans-serif;color:#1e3932;font-size:1.5rem;line-height:32px;margin-bottom:1.5rem}.field_label[_ngcontent-%COMP%]{font-family:SoDoSans_Light,Helvetica,sans-serif;font-size:14px;color:#000;opacity:87}.button-primary[_ngcontent-%COMP%]{background:#00754a;color:#fff;border-radius:0;width:100%;margin-top:5px;border-color:#00754a;font-family:SoDoSans_Semibold,Helvetica,sans-serif!important;padding:.8rem;border:1px solid #00754a;font-size:12px}  .snackbar-style{background-color:#316341;color:#fff;margin:0!important;border-top-left-radius:10px!important;border-top-right-radius:10px!important}.mb-1em[_ngcontent-%COMP%]{margin-bottom:1em}.button-block[_ngcontent-%COMP%]{margin:3em 0 1.5em}.button-block[_ngcontent-%COMP%]   .btn-green[_ngcontent-%COMP%]:focus{color:#fff;background-color:#00754a}.mb-2em[_ngcontent-%COMP%]{margin-bottom:2em}.label-text[_ngcontent-%COMP%]{color:#000;opacity:87;font-weight:300!important;font-size:14px!important;line-height:16px!important;font-family:SoDoSans_Light,Helvetica,sans-serif!important}.b_label[_ngcontent-%COMP%]{font-family:SoDoSans_Semibold,Helvetica,sans-serif;background-color:transparent;border:0;color:#00754a;margin:12px;padding:0}  .mat-focused .mat-form-field-label{color:#000!important;opacity:38%!important}@media screen and (max-device-width: 640px){button[_ngcontent-%COMP%]{padding:10px 24px}}@media screen and (min-width: 768px){button[_ngcontent-%COMP%]{padding:12px 24px}}@media only screen and (max-device-width: 450px){.bg-clr[_ngcontent-%COMP%]{background-color:#539e86}.bg-clr[_ngcontent-%COMP%]   .content-blk[_ngcontent-%COMP%]{width:82%}}"]})}return Lt})()},7128:(Jt,ke,E)=>{"use strict";E.d(ke,{y:()=>de});var p=E(1413),m=E(4438),T=E(1188),F=E(79),x=E(1941),ce=E(8635),ne=E(6),q=E(177),z=E(9381),O=E(6853);const I=fe=>({"text-spacing":fe}),k=fe=>({"text-center":fe}),A=()=>["/dashboard"],H=fe=>({"shimmer-loader-button":fe}),Q=fe=>({"br animate-button-black":fe});function ee(fe,Re){1&fe&&(m.j41(0,"div",35)(1,"div",36),m.nrm(2,"img",37),m.k0s(),m.j41(3,"div",38)(4,"p"),m.EFF(5,"Order Track"),m.k0s()(),m.nrm(6,"div",39),m.k0s()),2&fe&&(m.R7$(),m.Y8G("routerLink",m.lJ4(1,A)))}function be(fe,Re){if(1&fe){const _e=m.RV6();m.j41(0,"div",40)(1,"div",13)(2,"div",14)(3,"div",15)(4,"p")(5,"button",41),m.bIt("click",function(){m.eBV(_e);const Ye=m.XpG();return m.Njj(Ye.navigateToPromotionDetails())}),m.EFF(6,"CANCEL"),m.k0s()()()()()()}}function me(fe,Re){if(1&fe&&(m.j41(0,"section",42)(1,"div",13)(2,"div",14)(3,"div",43)(4,"div",44)(5,"p",45),m.nrm(6,"img",46),m.j41(7,"span",47),m.EFF(8,"Pick the merchandize from"),m.k0s()()(),m.j41(9,"h4",48),m.EFF(10),m.k0s(),m.j41(11,"p",49),m.EFF(12),m.k0s()()()()()),2&fe){const _e=m.XpG();m.R7$(10),m.JRh(null==_e.storeDetails?null:_e.storeDetails.storeName),m.R7$(2),m.JRh(null==_e.storeDetails?null:_e.storeDetails.storeAddress)}}function Ne(fe,Re){1&fe&&(m.j41(0,"p",50),m.nrm(1,"img",51),m.j41(2,"span",52),m.EFF(3,"Delivered"),m.k0s()())}function Be(fe,Re){1&fe&&(m.j41(0,"div",62)(1,"h4"),m.EFF(2,"How to Avail"),m.k0s(),m.j41(3,"p"),m.EFF(4,"Your subscription drinks are added as rewards to your account. You can now redeem them anytime."),m.k0s()())}function Ve(fe,Re){if(1&fe&&(m.j41(0,"div",62)(1,"h4"),m.EFF(2),m.k0s(),m.nrm(3,"p",63),m.k0s()),2&fe){const _e=m.XpG(2);m.R7$(2),m.JRh(null==_e.bannerData?null:_e.bannerData.howToAvail.title),m.R7$(),m.Y8G("innerHTML",null==_e.bannerData?null:_e.bannerData.howToAvail.description,m.npT)}}function Le(fe,Re){if(1&fe){const _e=m.RV6();m.j41(0,"section",53)(1,"div",13)(2,"div",14)(3,"div",54),m.nrm(4,"img",55),m.k0s(),m.j41(5,"div",56),m.DNE(6,Be,5,0,"div",57)(7,Ve,4,2,"div",57),m.j41(8,"div",58)(9,"button",59),m.bIt("click",function(){m.eBV(_e);const Ye=m.XpG();return m.Njj(Ye.redeemNow())}),m.EFF(10,"Redeem Now"),m.k0s()()(),m.j41(11,"div",60),m.nrm(12,"img",61),m.k0s()()()()}if(2&fe){const _e=m.XpG();m.R7$(6),m.Y8G("ngIf",!(null!=_e.bannerData&&_e.bannerData.howToAvail)),m.R7$(),m.Y8G("ngIf",null==_e.bannerData?null:_e.bannerData.howToAvail),m.R7$(),m.Y8G("ngClass",m.eq3(4,H,_e.isClicked)),m.R7$(),m.Y8G("ngClass",m.eq3(6,Q,_e.isClicked))}}function J(fe,Re){if(1&fe&&(m.j41(0,"div",62)(1,"h4"),m.EFF(2),m.k0s(),m.nrm(3,"p",63),m.k0s()),2&fe){const _e=m.XpG(2);m.R7$(2),m.JRh(null==_e.bannerData?null:_e.bannerData.howToAvail.title),m.R7$(),m.Y8G("innerHTML",null==_e.bannerData?null:_e.bannerData.howToAvail.description,m.npT)}}function ae(fe,Re){if(1&fe){const _e=m.RV6();m.j41(0,"section",64)(1,"div",13)(2,"div",14)(3,"div",54),m.nrm(4,"img",55),m.k0s(),m.j41(5,"div",65),m.DNE(6,J,4,2,"div",57),m.j41(7,"div",58)(8,"button",59),m.bIt("click",function(){m.eBV(_e);const Ye=m.XpG();return m.Njj(Ye.redeemNow())}),m.EFF(9,"Redeem Now"),m.k0s()()()()()()}if(2&fe){const _e=m.XpG();m.R7$(6),m.Y8G("ngIf",null==_e.bannerData?null:_e.bannerData.howToAvail),m.R7$(),m.Y8G("ngClass",m.eq3(3,H,_e.isClicked)),m.R7$(),m.Y8G("ngClass",m.eq3(5,Q,_e.isClicked))}}let de=(()=>{class fe{constructor(_e,Xe,Ye,Ot,un,Cn){this.router=_e,this.profile=Xe,this.commonFunction=Ye,this.activeRoute=Ot,this.cmsService=un,this.encryptDecryptService=Cn,this.breadCrumbData=[{title:"Home",path:"dashboard"},{title:"Subscription",path:""}],this.isLoggedIn=!1,this.unsubscriber=new p.B,this.isMobileDevice=!1,this.isClicked=!1,this.subscriptionOrderId=this.encryptDecryptService.decryptData(sessionStorage.getItem("subscriptionOrderId")),this.isMobileDevice=this.commonFunction.identifyDeviceType(),this.isLoggedIn=this.commonFunction.verifyLoggedInUser();let An=sessionStorage.getItem("promoDetailsId");if(this.bannerDetails(+An),this.isLoggedIn){let Nn=JSON.parse(localStorage.getItem("user_profile"));this.userName=Nn.firstName}this.storeDetails=sessionStorage.getItem("merchStore")?JSON.parse(sessionStorage.getItem("merchStore")):"",this.userType=this.commonFunction.getUserType(),this.userId=this.commonFunction.getUserId(),this.tierType=this.commonFunction.getTierType()}ngOnInit(){this.subscriptionProductInfo=JSON.parse(sessionStorage.getItem("subscriptionItemData")),this.orderTrackPageGA(this.subscriptionProductInfo),this.getWriteToUs()}onBrowserBackBtnClose(_e){_e.preventDefault(),this.router.navigate(["/dashboard"],{replaceUrl:!0})}ngOnDestroy(){this.unsubscriber.next(),this.unsubscriber.complete()}redeemNow(){this.isClicked=!0,this.profile.getLatestRewardsData().subscribe(_e=>{let Xe=JSON.parse(localStorage.getItem("user_profile"));Xe.currentStarBalance=_e.response.currentStarBalance,Xe.tierUpperLimit=_e.response.tierUpperLimit,Xe.rewardCount=_e.response.rewardCount,Xe.totalMsrCardBalance=_e.response.totalMsrCardBalance,Xe.tierLevel=_e.response.tierLevel,localStorage.setItem("user_profile",JSON.stringify(Xe)),this.getUserOffers()},_e=>{this.isClicked=!1})}getCohortContent(){this.cmsService.getCmsCohortContent().subscribe(_e=>{localStorage.removeItem("cohortData"),localStorage.setItem("cohortData",JSON.stringify(_e.response)),this.isClicked=!1,this.router.navigate(["/rewards"])},_e=>{this.isClicked=!1})}bannerDetails(_e){this.cmsService.getBannerDetail(_e).subscribe(Xe=>{Xe&&"Data Not Found"===Xe.response[0]||(this.bannerData=Xe.response.attributes)},Xe=>{})}getWriteToUs(){this.profile.getWriteToUsDetails().subscribe(_e=>{this.writeToUsData=_e.response.attributes},_e=>{(400==_e.error.status||401==_e.error.status||500==_e.error.status)&&this.commonFunction.displaySnackBarMessage(_e.error.response[0],"failure")})}setWriteToUs(_e,Xe){sessionStorage.setItem("writeToUs",JSON.stringify({pageFrom:_e,queryList:Xe})),this.router.navigate(["/profile/write-to-us"])}navigateToPromotionDetails(){let _e=sessionStorage.getItem("promoDetailsId");sessionStorage.setItem("linkToValue",_e),this.router.navigate(["/dashboard/banner-detail"])}getUserOffers(){this.cmsService.getOffers().subscribe(_e=>{localStorage.removeItem("offersData"),localStorage.setItem("offersData",JSON.stringify(_e.response))})}orderTrackPageGA(_e){let Xe=JSON.parse(sessionStorage.getItem("state")),Ye=Xe&&Xe.storeDetails?Xe.storeDetails.shopName:"NA";sessionStorage.getItem("promo_banner_name");{let Cn=sessionStorage.getItem("promo_banner_name");dataLayer.push({event:"purchase",userID:this.userId,user_type:this.userType,tier:this.tierType,ecommerce:{transaction_id:this.subscriptionOrderId,currency:"INR",value:_e.defaultPrice,coupon:"NA",affiliation:Ye,tax:"NA",items:[{item_name:_e.name,item_id:_e.id,item_brand:"Tata",affiliation:Ye,currency:"INR",item_category:_e.parameters[1].value,price:_e.defaultPrice,quantity:1,discount:"NA",coupon:"NA",item_category2:"NA",item_category3:"NA",item_category4:"NA",item_category5:"NA",item_list_name:"Subscription Products",item_list_id:"L008",promotion_name:Cn||"NA"}]}})}sessionStorage.removeItem("orderFrom"),sessionStorage.removeItem("gaData")}static#e=this.\u0275fac=function(Xe){return new(Xe||fe)(m.rXU(T.Ix),m.rXU(F.p),m.rXU(x.L),m.rXU(T.nX),m.rXU(ce.x),m.rXU(ne.I))};static#t=this.\u0275cmp=m.VBU({type:fe,selectors:[["app-track-subscription-order"]],hostBindings:function(Xe,Ye){1&Xe&&m.bIt("popstate",function(un){return Ye.onBrowserBackBtnClose(un)},!1,m.tSv)},decls:49,vars:18,consts:[[1,"track-subscription"],[3,"breadCrumbData"],[1,"d-block","d-sm-none"],[1,"mobile-header-bar"],["class","mhb-content",4,"ngIf"],[1,"gift-image"],[1,"card","text-white"],["rel","preload","alt","Card image",1,"card-img",3,"src"],[1,"card-img-overlay","text-center"],[1,"card-title"],["class","cancel-text",4,"ngIf"],["class","store-details",4,"ngIf"],[1,"rating-gift-head"],[1,"container"],[1,"row"],[1,"col-12"],[1,"label"],[1,"rating-content"],[1,"col-12","pt-3"],[1,"cart-item-list"],[1,"col-1","mw-25"],[1,"product-image"],["rel","preload","alt","product-icon",3,"error","src"],[1,"col-9","pad-l-0","mw-45"],[1,"product-name"],[1,"gift-badge"],["class","badge badge-secondary",4,"ngIf"],[1,"name"],[1,"col-2","text-right","mw-30"],[1,"price"],["class","redeem-now-box",4,"ngIf"],["class","redeem-now-box redeem-box-mobile",4,"ngIf"],[1,"write-to-us","mt-3"],[1,"col-12",3,"ngClass"],[1,"issue-text",3,"click","ngClass"],[1,"mhb-content"],[1,"left",3,"routerLink"],["src","assets/icon/bck-white.svg","alt","back"],[1,"title"],[1,"right"],[1,"cancel-text"],[1,"cancel-btn",3,"click"],[1,"store-details"],[1,"col-12","pickup-card","my-5"],[1,"d-flex","justify-content-between"],[1,"mb-0"],["src","assets/icon/green_dot.svg","rel","preload","alt","circle",1,"circle-icon"],[1,"from","ps-2"],[1,"pickup-store","ps-3"],[1,"distance","ps-3"],[1,"badge","badge-secondary"],["src","assets/icon/rightIcon.svg","alt","right icon"],[1,"ms-1"],[1,"redeem-now-box"],[1,"col-1","left-star"],["src","assets/icon/redeem_bg_star_left.svg","alt","star-icon"],[1,"col-10","redeem-content"],["class","left-section",4,"ngIf"],[1,"right-section",3,"ngClass"],["type","button",1,"custom-btn","btn-black","btn-md-rounded",3,"click","ngClass"],[1,"col-1","right-star"],["src","assets/icon/redeem_bg_star_right.svg","alt","star-icon"],[1,"left-section"],[3,"innerHTML"],[1,"redeem-now-box","redeem-box-mobile"],[1,"col-11","redeem-content"]],template:function(Xe,Ye){1&Xe&&(m.j41(0,"div",0),m.qex(1),m.nrm(2,"app-header"),m.bVm(),m.qex(3),m.nrm(4,"app-breadcrumb-nav",1),m.bVm(),m.j41(5,"div",2),m.nrm(6,"div",3),m.DNE(7,ee,7,2,"div",4),m.k0s(),m.j41(8,"div",5)(9,"div",6),m.nrm(10,"img",7),m.j41(11,"div",8)(12,"h5",9),m.EFF(13),m.k0s()(),m.DNE(14,be,7,0,"div",10),m.k0s()(),m.DNE(15,me,13,2,"section",11),m.j41(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"h5",16),m.EFF(21,"ORDERED ITEM"),m.k0s()()()()(),m.j41(22,"div",17)(23,"div",13)(24,"div",14)(25,"div",18)(26,"div",19)(27,"div",14)(28,"div",20)(29,"div",21)(30,"img",22),m.bIt("error",function(){return Ye.subscriptionProductInfo.images.large[0].url="assets/icon/logo_placeholder.svg"}),m.k0s()()(),m.j41(31,"div",23)(32,"div",24)(33,"div",25),m.DNE(34,Ne,4,0,"p",26),m.k0s(),m.j41(35,"h5",27),m.EFF(36),m.k0s()()(),m.j41(37,"div",28)(38,"div",29)(39,"p"),m.EFF(40),m.k0s()()()()()()()()(),m.DNE(41,Le,13,8,"section",30)(42,ae,10,7,"section",31),m.j41(43,"div",32)(44,"div",13)(45,"div",14)(46,"div",33)(47,"p",34),m.bIt("click",function(){return Ye.setWriteToUs("global",Ye.writeToUsData)}),m.EFF(48,"Faced any issues? Chat with us "),m.k0s()()()()()()),2&Xe&&(m.R7$(4),m.Y8G("breadCrumbData",Ye.breadCrumbData),m.R7$(3),m.Y8G("ngIf",!(null!=Ye.bannerData&&Ye.bannerData.isStoreSelection)),m.R7$(3),m.FS9("src",null==Ye.subscriptionProductInfo?null:Ye.subscriptionProductInfo.images.large[0].url,m.B4B),m.R7$(3),m.JRh(null==Ye.bannerData?null:Ye.bannerData.postPurchaseHeader),m.R7$(),m.Y8G("ngIf",Ye.isMobileDevice),m.R7$(),m.Y8G("ngIf",null==Ye.bannerData?null:Ye.bannerData.isStoreSelection),m.R7$(15),m.FS9("src",null==Ye.subscriptionProductInfo?null:Ye.subscriptionProductInfo.images.large[0].url,m.B4B),m.R7$(4),m.Y8G("ngIf",!(null!=Ye.bannerData&&Ye.bannerData.isStoreSelection)),m.R7$(2),m.JRh(null==Ye.subscriptionProductInfo?null:Ye.subscriptionProductInfo.name),m.R7$(4),m.SpI("\u20b9 ",null==Ye.subscriptionProductInfo?null:Ye.subscriptionProductInfo.defaultPrice,".00"),m.R7$(),m.Y8G("ngIf",!Ye.isMobileDevice&&(null==Ye.bannerData?null:Ye.bannerData.isAvailFlag)),m.R7$(),m.Y8G("ngIf",Ye.isMobileDevice&&(null==Ye.bannerData?null:Ye.bannerData.isAvailFlag)),m.R7$(4),m.Y8G("ngClass",m.eq3(14,I,Ye.isMobileDevice)),m.R7$(),m.Y8G("ngClass",m.eq3(16,k,!Ye.isMobileDevice)))},dependencies:[q.YU,q.bT,T.Wk,z.l,O.k],styles:[".track-subscription[_ngcontent-%COMP%]{padding-bottom:2em}.track-subscription[_ngcontent-%COMP%]   .mobile-header-bar[_ngcontent-%COMP%]{position:fixed;display:flex;padding:20px;color:#fff;justify-content:space-between;background:linear-gradient(#000,#0006);width:100%;z-index:999;height:56px;opacity:.6;align-items:center}.track-subscription[_ngcontent-%COMP%]   .mhb-content[_ngcontent-%COMP%]{position:fixed;display:flex;padding:20px;color:#fff;justify-content:space-between;width:100%;z-index:999;height:56px;align-items:center}.track-subscription[_ngcontent-%COMP%]   .mhb-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8px;height:16px;cursor:pointer}.track-subscription[_ngcontent-%COMP%]   .mhb-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:SoDoSans_Semibold,Helvetica,sans-serif;font-size:14px;margin:0}.track-subscription[_ngcontent-%COMP%]   .gift-image[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-top:5%;font-family:SoDoSans_Regular,Helvetica,sans-serif;font-weight:700;font-size:24px}.track-subscription[_ngcontent-%COMP%]   .rating-gift-head[_ngcontent-%COMP%]{padding:2em 0;background:#fff;box-shadow:0 0 2px #00000012,0 2px 2px #0000000f,0 1px 3px #0000001a}.track-subscription[_ngcontent-%COMP%]   .rating-gift-head[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:SoDoSans_Regular,Helvetica,sans-serif;font-weight:600;text-transform:uppercase;color:#000;font-size:16px}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]{padding-top:1.5em;padding-bottom:1em}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]{margin-bottom:2em;border-bottom:1px solid #d2d2d2;padding-bottom:1em}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:67px;height:44px}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   .gift-badge[_ngcontent-%COMP%]   .badge-secondary[_ngcontent-%COMP%]{background-color:#000;padding:4px;gap:2px;border-radius:4px}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   .gift-badge[_ngcontent-%COMP%]   .badge-secondary[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:baseline}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:SoDoSans_Semibold,Helvetica,sans-serif;font-size:14px;color:#1e3932}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   .apply-offer[_ngcontent-%COMP%]{margin-top:10px}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   .offers[_ngcontent-%COMP%]{margin-right:8px}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:12px}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border:1px solid rgb(212,233,226);padding:5px 10px;text-decoration:none}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;height:15px}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .cross[_ngcontent-%COMP%]{margin-left:10px;width:10px;height:10px;cursor:pointer}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   .upgrade[_ngcontent-%COMP%]{border:1px solid #d4e9e2;border-radius:4px;padding:.5em;font-size:10px;font-family:Pike,Helvetica,sans-serif;font-style:normal;font-weight:400}.track-subscription[_ngcontent-%COMP%]   .rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:SoDoSans_Semibold,Helvetica,sans-serif;font-size:14px}.track-subscription[_ngcontent-%COMP%]   .redeem-now-box[_ngcontent-%COMP%]{margin:auto;width:644px;padding:2em 0}.track-subscription[_ngcontent-%COMP%]   .redeem-now-box[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{background:#dfc49d;box-shadow:0 2px 8px #0003;border-radius:8px}.track-subscription[_ngcontent-%COMP%]   .redeem-now-box[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{position:relative}.track-subscription[_ngcontent-%COMP%]   .redeem-now-box[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:0}.track-subscription[_ngcontent-%COMP%]   .redeem-now-box[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .redeem-content[_ngcontent-%COMP%]{padding:2em 1em;display:flex;align-items:center}.track-subscription[_ngcontent-%COMP%]   .redeem-now-box[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .redeem-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:SoDoSans_Regular,Helvetica,sans-serif;font-weight:700;font-size:16px;line-height:20px;letter-spacing:.02em;color:#1e3932}.track-subscription[_ngcontent-%COMP%]   .redeem-now-box[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .redeem-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;line-height:16px;color:#1e3932;margin-bottom:0}.track-subscription[_ngcontent-%COMP%]   .redeem-now-box[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .redeem-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:70%}.track-subscription[_ngcontent-%COMP%]   .redeem-now-box[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .redeem-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{margin-left:1rem}.track-subscription[_ngcontent-%COMP%]   .redeem-now-box[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .right-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:0}.track-subscription[_ngcontent-%COMP%]   .redeem-box-mobile[_ngcontent-%COMP%]{width:auto;padding:2em 1em}.track-subscription[_ngcontent-%COMP%]   .redeem-box-mobile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{background-image:url(redeem_bg_star_right.adb25b24e8f2c1a8.svg);background-repeat:no-repeat;background-position:right}.track-subscription[_ngcontent-%COMP%]   .redeem-box-mobile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .redeem-content[_ngcontent-%COMP%]{padding:1em .5em}.track-subscription[_ngcontent-%COMP%]   .redeem-box-mobile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .redeem-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:55%}.track-subscription[_ngcontent-%COMP%]   .redeem-box-mobile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .redeem-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{margin-left:0}.track-subscription[_ngcontent-%COMP%]   .write-to-us[_ngcontent-%COMP%]   .issue-text[_ngcontent-%COMP%]{font-family:SoDoSans_Regular,Helvetica,sans-serif;font-weight:400;font-size:12px;text-decoration-line:underline;text-transform:capitalize;color:#00754a;cursor:pointer}.track-subscription[_ngcontent-%COMP%]   .write-to-us[_ngcontent-%COMP%]   .text-spacing[_ngcontent-%COMP%]{padding:0 1em}.track-subscription[_ngcontent-%COMP%]   .store-details[_ngcontent-%COMP%]   .pickup-card[_ngcontent-%COMP%]{background-color:#f2f0eb;box-shadow:0 0 2px #00000012,0 2px 2px #0000000f,0 1px 3px #0000001a;border-radius:8px;padding:1em;height:158px}.track-subscription[_ngcontent-%COMP%]   .store-details[_ngcontent-%COMP%]   .pickup-card[_ngcontent-%COMP%]   .circle-icon[_ngcontent-%COMP%]{width:10px;height:10px}.track-subscription[_ngcontent-%COMP%]   .store-details[_ngcontent-%COMP%]   .pickup-card[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{color:#00000061;font-size:12px;font-weight:600;font-family:SoDoSans_Regular,Helvetica,sans-serif;text-transform:uppercase}.track-subscription[_ngcontent-%COMP%]   .store-details[_ngcontent-%COMP%]   .pickup-card[_ngcontent-%COMP%]   .pickup-store[_ngcontent-%COMP%]{color:#000000de;font-size:14px;font-weight:600;font-family:SoDoSans_Regular,Helvetica,sans-serif;padding-top:.25em}.track-subscription[_ngcontent-%COMP%]   .store-details[_ngcontent-%COMP%]   .pickup-card[_ngcontent-%COMP%]   .distance[_ngcontent-%COMP%]{color:#00000094;font-size:12px;font-weight:400;font-family:SoDoSans_Regular,Helvetica,sans-serif;padding-top:1em}.track-subscription[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]{position:absolute;top:3rem;width:100%}.track-subscription[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:end;padding-right:1rem}.track-subscription[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{font-family:SoDoSans_Regular,Helvetica,sans-serif;font-weight:600;font-size:12px;background-color:transparent;color:#fff;border:none}@media only screen and (max-width: 576px){.track-subscription[_ngcontent-%COMP%]   .gift-image[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:40vh}.track-subscription[_ngcontent-%COMP%]   .gift-image[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh;object-fit:cover}.track-subscription[_ngcontent-%COMP%]   .store-details[_ngcontent-%COMP%]{padding:0 1em}}.card-img[_ngcontent-%COMP%]{height:412px;object-fit:cover}.pad-l-0[_ngcontent-%COMP%]{padding-left:0}@media only screen and (min-device-width: 320px) and (max-device-width: 450px){.mw-25[_ngcontent-%COMP%]{width:25%}.mw-25[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.mw-30[_ngcontent-%COMP%]{width:30%;padding-left:0}.mw-45[_ngcontent-%COMP%]{width:45%}.gift-image[_ngcontent-%COMP%]{height:500px}.gift-image[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .gift-image[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{height:100%!important}.gift-image[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-img-overlay[_ngcontent-%COMP%]{background:linear-gradient(180deg,#000,#000000c9 30%,#0000 88.54%)}.gift-image[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-img-overlay[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-top:25%;opacity:unset}.track-subscription[_ngcontent-%COMP%]   .mobile-header-bar[_ngcontent-%COMP%]{background:linear-gradient(#000,#0006);opacity:.6}.rating-gift-head[_ngcontent-%COMP%]{padding:24px 0}.rating-gift-head[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:0}.rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px}.rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   .gift-badge[_ngcontent-%COMP%]{display:flex}.rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   .gift-badge[_ngcontent-%COMP%]   .badge-secondary[_ngcontent-%COMP%]{margin-bottom:5px;font-size:9px}.rating-content[_ngcontent-%COMP%]   .cart-item-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:12px!important}}"]})}return fe})()},7218:(Jt,ke,E)=>{"use strict";E.d(ke,{M:()=>k});var p=E(4438),m=E(1188),T=E(1682),F=E(1941),x=E(3383),ce=E(177),ne=E(2091);function q(A,H){if(1&A){const Q=p.RV6();p.j41(0,"div",11)(1,"div",12),p.bIt("click",function(){const be=p.eBV(Q).index,me=p.XpG(2);return p.Njj(me.goToView(be))}),p.j41(2,"p")(3,"span",13),p.EFF(4),p.k0s()(),p.j41(5,"p"),p.nrm(6,"img",14),p.k0s()(),p.nrm(7,"hr"),p.k0s()}if(2&A){const Q=H.$implicit;p.R7$(4),p.SpI("",Q.attributes.title," ")}}function z(A,H){if(1&A){const Q=p.RV6();p.j41(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7)(5,"img",8),p.bIt("click",function(){p.eBV(Q);const be=p.XpG();return be.closeSheet(),p.Njj(be.crossBtnGA())}),p.k0s()()()(),p.j41(6,"div",5)(7,"div",9)(8,"h2"),p.EFF(9,"Terms and Conditions"),p.k0s()()(),p.j41(10,"div",5),p.DNE(11,q,8,1,"div",10),p.k0s()()()}if(2&A){const Q=p.XpG();p.R7$(11),p.Y8G("ngForOf",Q.tncData)}}function O(A,H){if(1&A&&(p.nrm(0,"div",27),p.nI1(1,"safeHtml")),2&A){const Q=p.XpG(2);p.Y8G("innerHTML",p.bMT(1,1,Q.tnCData),p.npT)}}function I(A,H){if(1&A){const Q=p.RV6();p.j41(0,"section",15)(1,"div",4)(2,"div",16)(3,"div",17)(4,"p",18),p.bIt("click",function(){p.eBV(Q);const be=p.XpG();return p.Njj(be.gotoListing())}),p.EFF(5,"BACK"),p.k0s()(),p.j41(6,"div",19)(7,"span",20)(8,"img",8),p.bIt("click",function(){p.eBV(Q);const be=p.XpG();return be.closeSheet(),p.Njj(be.crossBtnGA())}),p.k0s()()()()(),p.j41(9,"div",21)(10,"div",22),p.nrm(11,"img",23),p.k0s(),p.j41(12,"div")(13,"h1",13),p.EFF(14),p.k0s(),p.j41(15,"p",24),p.EFF(16,"For Dine-in and Takeaway in Select Stores."),p.k0s(),p.j41(17,"label",25),p.EFF(18),p.k0s()()(),p.nrm(19,"hr"),p.j41(20,"div",4),p.DNE(21,O,2,3,"div",26),p.k0s()()}if(2&A){const Q=p.XpG();p.R7$(14),p.JRh(Q.pageTitle),p.R7$(4),p.SpI("Last updated ",Q.updatedDateTime,""),p.R7$(3),p.Y8G("ngIf",""!=Q.tncData)}}let k=(()=>{class A{constructor(Q,ee,be,me){this.router=Q,this.auth=ee,this.commonFunction=be,this._bottomSheet=me,this.breadCrumbData=[{title:"Home",path:"dashboard"},{title:"Terms of Use & Privacy Policy",path:""}],this.showListing=!0,this.isMobile=this.commonFunction.identifyDeviceType(),this.userType=this.commonFunction.getUserType(),this.userId=this.commonFunction.getUserId(),this.tierType=this.commonFunction.getTierType()}ngOnInit(){this.getTncData()}getTncData(){this.commonFunction.showLoader(),this.auth.getTncData().subscribe(Q=>{this.tncData=Q.response.data,this.commonFunction.hideLoader()},Q=>{this.commonFunction.hideLoader(),this.commonFunction.processErrorMessage(Q,"failure")})}goToView(Q){this.showListing=!1,this.viewTncData=this.tncData[Q],this.tnCData=this.viewTncData.attributes.text,this.pageTitle=this.viewTncData.attributes.title,this.updatedDateTime=this.viewTncData.attributes.updatedDateTime}closeSheet(){this._bottomSheet.dismiss()}gotoListing(){this.showListing=!0}crossBtnGA(){dataLayer.push({event:"cross_click",userID:this.userId,user_type:this.userType,tier:this.tierType})}static#e=this.\u0275fac=function(ee){return new(ee||A)(p.rXU(m.Ix),p.rXU(T.k),p.rXU(F.L),p.rXU(x.VK))};static#t=this.\u0275cmp=p.VBU({type:A,selectors:[["app-terms-and-conditions-listing"]],decls:3,vars:2,consts:[[1,"terms-and-conditions-wrapper"],["class","terms-conditions-list",4,"ngIf"],["class","view-terms-condition",4,"ngIf"],[1,"terms-conditions-list"],[1,"container"],[1,"row"],[1,"col-12","title","text-right"],[1,""],["src","assets/icon/clear.svg","width","25","height","25","alt","close",2,"cursor","pointer",3,"click"],[1,"col-12","title","pt-2","pb-4"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"tc-content",3,"click"],[1,"title"],["src","assets/icon/arrow_right_grey.svg","alt","right-arrow-icon"],[1,"view-terms-condition"],[1,"row","pt-2"],[1,"col-md-8"],[1,"back-txt",3,"click"],[1,"col-md-4","title","text-right","d-m-none"],[1,"d-none","d-sm-block"],[1,"tnc-wrapper","container","flex"],[1,"mr-1rem"],["src","assets/icon/tnc.svg","alt","tnc_logo"],[1,"sub-title"],[1,"status"],["class","terms-details",3,"innerHTML",4,"ngIf"],[1,"terms-details",3,"innerHTML"]],template:function(ee,be){1&ee&&(p.j41(0,"div",0),p.DNE(1,z,12,1,"section",1)(2,I,22,3,"section",2),p.k0s()),2&ee&&(p.R7$(),p.Y8G("ngIf",be.showListing),p.R7$(),p.Y8G("ngIf",!be.showListing))},dependencies:[ce.Sq,ce.bT,ne.$],styles:[".terms-and-conditions-wrapper[_ngcontent-%COMP%]   .mobile-header-bar[_ngcontent-%COMP%]{display:flex;padding:.5em;background-color:#1e3932;justify-content:space-between}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .mobile-header-bar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8px;height:16px;cursor:pointer}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .mobile-header-bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:SoDoSans_Semibold,Helvetica,sans-serif;font-size:14px;margin:0}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .terms-conditions-list[_ngcontent-%COMP%]{background:#fff;padding:2em 0}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .terms-conditions-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:SoDoSans_Regular,Helvetica,sans-serif}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .terms-conditions-list[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .terms-conditions-list[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-weight:400;font-size:12px}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .tc-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;cursor:pointer}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .tc-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;display:flex;flex-direction:column;text-transform:capitalize;color:#1e3932}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#00000061;height:.5px;margin:1em 0}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .back-txt[_ngcontent-%COMP%]{font-family:SoDoSans_Regular,Helvetica,sans-serif;font-weight:600;font-size:12px;text-transform:uppercase;color:#1e3932;cursor:pointer}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .view-terms-condition[_ngcontent-%COMP%]   .tnc-wrapper[_ngcontent-%COMP%]{padding-top:1rem}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .view-terms-condition[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5em;font-family:SoDosans_Regular,Helvetica,sans-serif;font-weight:700;color:#1e3932;margin-bottom:0;word-break:break-word}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .view-terms-condition[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{display:flex}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .view-terms-condition[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#1e3932;font-family:SoDoSans_Regular,Helvetica,sans-serif}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .view-terms-condition[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-family:SoDoSans_Semibold,Helvetica,sans-serif;font-size:14px;line-height:20px;color:#000;opacity:38%}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .view-terms-condition[_ngcontent-%COMP%]   .mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .view-terms-condition[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{box-shadow:0 0 2px #00000012,0 2px 2px #0000000f,0 1px 3px #0000001a}.terms-and-conditions-wrapper[_ngcontent-%COMP%]   .view-terms-condition[_ngcontent-%COMP%]   .terms-details[_ngcontent-%COMP%]{text-align:justify}"]})}return A})()},7625:(Jt,ke,E)=>{"use strict";E.d(ke,{d:()=>ne});var p=E(4438),m=E(2524),T=E(1941),F=E(1188);const x=()=>["/pay/add-card-physical"],ce=()=>["/pay/addcard"];let ne=(()=>{class q{constructor(O,I){this.dialogRef=O,this.commonFunction=I,this.userType=this.commonFunction.getUserType(),this.userId=this.commonFunction.getUserId(),this.tierType=this.commonFunction.getTierType()}ngOnInit(){}physicalCard(){this.dialogRef.close()}digitalCard(){this.dialogRef.close()}closeDialog(){this.dialogRef.close()}addCardClickGA(O){dataLayer.push({event:"add_new_card_"+O+"_click",userID:this.userId,user_type:this.userType,tier:this.tierType})}crossBtnGA(){dataLayer.push({event:"cross_click",userID:this.userId,user_type:this.userType,tier:this.tierType})}static#e=this.\u0275fac=function(I){return new(I||q)(p.rXU(m.CP),p.rXU(T.L))};static#t=this.\u0275cmp=p.VBU({type:q,selectors:[["app-add-card-dialog"]],decls:31,vars:4,consts:[[1,"add-card"],[1,"container"],[1,"row"],[1,"col-10"],[1,"col-2","text-right"],[1,""],["src","assets/icon/clear.svg","alt","close",1,"close",3,"click"],[1,"row","mt-3"],[1,"col-12","mt-4"],[1,"strip","bg-img",3,"click","routerLink"],[1,"icon"],[1,"img"],["src","assets/icon/credit_card.svg","alt","user"],[1,"text","mt-1"],["src","assets/icon/add_circle.svg","alt","user"]],template:function(I,k){1&I&&(p.j41(0,"div",0)(1,"div",1)(2,"div",2),p.nrm(3,"div",3),p.j41(4,"div",4)(5,"span",5)(6,"img",6),p.bIt("click",function(){return k.closeDialog(),k.crossBtnGA()}),p.k0s()()()(),p.j41(7,"div",7)(8,"div",3)(9,"h2"),p.EFF(10,"Would you like to add a new card?"),p.k0s()(),p.j41(11,"div",8)(12,"div",9),p.bIt("click",function(){return k.physicalCard(),k.addCardClickGA("physical_card")}),p.j41(13,"div",10)(14,"span",11),p.nrm(15,"img",12),p.k0s()(),p.j41(16,"div",13)(17,"h6"),p.EFF(18," ALREADY HAVE A STARBUCKS CARD "),p.k0s(),p.j41(19,"p"),p.EFF(20," Enter the card number and security code to proceed. Save it with a unique name to keep it handy. "),p.k0s()()(),p.nrm(21,"hr"),p.j41(22,"div",9),p.bIt("click",function(){return k.digitalCard(),k.addCardClickGA("digital_card")}),p.j41(23,"div",10)(24,"span",11),p.nrm(25,"img",14),p.k0s()(),p.j41(26,"div",13)(27,"h6"),p.EFF(28," BUY A NEW DIGITAL STARBUCKS CARD "),p.k0s(),p.j41(29,"p"),p.EFF(30," Choose from the existing card options and load it with minimum Rs 200. "),p.k0s()()()()()()()),2&I&&(p.R7$(12),p.Y8G("routerLink",p.lJ4(2,x)),p.R7$(10),p.Y8G("routerLink",p.lJ4(3,ce)))},dependencies:[F.Wk],styles:[".add-card[_ngcontent-%COMP%]{padding:24px}.add-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.4em!important;color:#1e3932}.add-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:SoDoSans_Semibold,Helvetica,sans-serif;color:#1e3932;margin:5px 0}.add-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:bolder}.add-card[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}.add-card[_ngcontent-%COMP%]   .strip[_ngcontent-%COMP%]{cursor:pointer;display:flex}.add-card[_ngcontent-%COMP%]   .strip[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px;margin-right:20px}.add-card[_ngcontent-%COMP%]   .bg-img[_ngcontent-%COMP%]{background-image:url(right.7535a4d09055e13a.svg);background-repeat:no-repeat;background-position:right}.add-card[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{width:25px;height:25px;cursor:pointer;margin-right:-20px;margin-top:-10px}.add-card[_ngcontent-%COMP%]   .inperson[_ngcontent-%COMP%]   .backk[_ngcontent-%COMP%]{width:25px;height:25px;cursor:pointer}.add-card[_ngcontent-%COMP%]   .matselect-placeholder[_ngcontent-%COMP%]::mat-select-placeholder{color:#fff;opacity:1}.add-card[_ngcontent-%COMP%]   .myPanelClass[_ngcontent-%COMP%]{margin-top:70px!important;color:#000!important;font-family:SoDoSans_Semibold,Helvetica,sans-serif!important}.add-card[_ngcontent-%COMP%]   .mat-select-red[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{color:#000!important;font-family:SoDoSans_Semibold,Helvetica,sans-serif!important}.add-card[_ngcontent-%COMP%]   .mat-select-red[_ngcontent-%COMP%]   .mat-select-panel[_ngcontent-%COMP%]   .mat-optgroup-label[_ngcontent-%COMP%], .add-card[_ngcontent-%COMP%]   .mat-select-panel[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{font-family:SoDoSans_Semibold,Helvetica,sans-serif!important}.mobile-header-bar[_ngcontent-%COMP%]{display:flex;padding:20px;color:#00754a;justify-content:space-between}.mobile-header-bar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8px;height:16px;cursor:pointer}.mobile-header-bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:SoDoSans_Semibold,Helvetica,sans-serif;font-size:14px;margin:0}"]})}return q})()},2091:(Jt,ke,E)=>{"use strict";E.d(ke,{$:()=>T});var p=E(4438),m=E(345);let T=(()=>{class F{constructor(ce){this.sanitizer=ce}transform(ce){return this.sanitizer.bypassSecurityTrustHtml(ce)}static#e=this.\u0275fac=function(ne){return new(ne||F)(p.rXU(m.up,16))};static#t=this.\u0275pipe=p.EJ8({name:"safeHtml",type:F,pure:!0})}return F})()},1941:(Jt,ke,E)=>{"use strict";E.d(ke,{L:()=>Be});var p=E(5122),m=E(4438),T=E(177);function F(Ve,Le){if(1&Ve&&(m.j41(0,"p",8),m.EFF(1),m.k0s()),2&Ve){const J=m.XpG();m.R7$(),m.JRh(null==J.data?null:J.data.message)}}function x(Ve,Le){if(1&Ve&&(m.j41(0,"p",8),m.EFF(1),m.k0s()),2&Ve){const J=m.XpG();m.R7$(),m.JRh(null==J.data?null:J.data.message)}}function ce(Ve,Le){if(1&Ve&&(m.j41(0,"p",8),m.EFF(1),m.k0s()),2&Ve){const J=m.XpG();m.R7$(),m.JRh(null==J.data?null:J.data.message)}}function ne(Ve,Le){1&Ve&&(m.j41(0,"p",8),m.EFF(1,"Looks like something went wrong but we're working on it and will be back soon."),m.k0s())}function q(Ve,Le){if(1&Ve&&(m.j41(0,"p",8),m.EFF(1),m.k0s()),2&Ve){const J=m.XpG();m.R7$(),m.JRh(null==J.data?null:J.data.message)}}function z(Ve,Le){if(1&Ve&&(m.j41(0,"p",8),m.EFF(1),m.k0s()),2&Ve){const J=m.XpG();m.R7$(),m.SpI(" ",null==J.data?null:J.data.message," ")}}let O=(()=>{class Ve{constructor(J,ae){this.snackBarRef=J,this.data=ae}static#e=this.\u0275fac=function(ae){return new(ae||Ve)(m.rXU(p.TQ),m.rXU(p.ht))};static#t=this.\u0275cmp=m.VBU({type:Ve,selectors:[["app-snack-bar"]],inputs:{name:"name"},decls:15,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-8","col-sm-10"],[1,"left-col"],["class","data",4,"ngIf"],[1,"col-2","d-flex","align-items-center"],[1,"dismiss"],["type","button",1,"btn","btn-primary","btn-xs",3,"click"],[1,"data"]],template:function(ae,de){1&ae&&(m.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),m.DNE(5,F,2,1,"p",4)(6,x,2,1,"p",4)(7,ce,2,1,"p",4)(8,ne,2,0,"p",4)(9,q,2,1,"p",4)(10,z,2,1,"p",4),m.k0s()()(),m.j41(11,"div",5)(12,"div",6)(13,"button",7),m.bIt("click",function(){return de.snackBarRef.dismiss()}),m.EFF(14,"Close"),m.k0s()()()()()),2&ae&&(m.R7$(5),m.Y8G("ngIf","success"===(null==de.data?null:de.data.status)),m.R7$(),m.Y8G("ngIf","failure"===(null==de.data?null:de.data.status)),m.R7$(),m.Y8G("ngIf","failureDigitalCard"===(null==de.data?null:de.data.status)&&"Failed to Update"!==(null==de.data?null:de.data.message)),m.R7$(),m.Y8G("ngIf","failureDigitalCard"===(null==de.data?null:de.data.status)&&"Failed to Update"===(null==de.data?null:de.data.message)),m.R7$(),m.Y8G("ngIf","info"===(null==de.data?null:de.data.status)),m.R7$(),m.Y8G("ngIf","alert"===(null==de.data?null:de.data.status)))},dependencies:[T.bT],styles:[".btn-xs{padding:6px 18px;font-size:12px;border-radius:16px;color:#000!important;background-color:#fff!important;border-color:#fff!important;font-family:SoDoSans_Semibold,Helvetica,sans-serif;width:107px;letter-spacing:.04em}.data{word-break:break-word;font-family:SoDoSans_Semibold,Helvetica,sans-serif;color:#000000de;margin-bottom:0;font-size:12px;line-height:18px}.left-col{display:flex;align-items:center;width:100%}.left-col .text2{font-family:Pike_Regular,Helvetica,sans-serif;font-size:11px;font-weight:600;line-height:16px;color:#000000de;margin-bottom:.5rem}.snackbar-style{background-color:#edd15b!important;color:#fff!important;margin:0!important;border-top-left-radius:10px!important;border-top-right-radius:10px!important;max-width:100vw;box-shadow:0 -2px 4px #0000003d}.snackbar-style{min-width:68vw!important;max-height:12vh!important;padding:1em}@media only screen and (max-device-width: 395px){.snackbar-style{max-height:18vh!important;padding:14px 0!important}}@media only screen and (min-device-width: 768px){.col-2{justify-content:flex-end!important}}@media only screen and (min-device-width: 1200px) and (max-device-width: 1400px){.snackbar-style{min-width:82vw!important}}@media only screen and (min-device-width: 1200px) and (max-device-width: 1400px){.snackbar-style{min-width:91vw!important}}@media only screen and (min-device-width: 1600px) and (max-device-width: 1800px){.snackbar-style{min-width:73vw!important}}\n"],encapsulation:2})}return Ve})();var I=E(4017),k=E(7786),A=E(3726),H=E(1985),Q=E(6354),ee=E(1188),be=E(6535),me=E(6),Ne=E(1612);let Be=(()=>{class Ve{constructor(J,ae,de,fe,Re){this.snackBar=J,this.router=ae,this.loaderOverlayService=de,this.encryptDecryptService=fe,this.geoLocationService=Re,this.isLoggedInUser=!1,this.loader=!1,this.baristaOne=["Welcome","Gifting","Pay","Stores","Loyalty","Global Search"],this.staryArray=["Menu","Cart","Pay","Post Ordering","Loyalty"],this.baristaTwo=["Menu","Product Description","Cart","Post Ordering"],this.errMsg="Please enter atleast ",this.resolution=` width (${screen.width}) * height (${screen.height})`,this.subCategoriesArray=[],this.showEventVidLoader=!0,this.showEventImage=!1,this.showLiveSteream=!0,this.screenHeight=screen.height+"px",this.screenWidth=screen.width+"px"}identifyDeviceType2(){return screen.width>1201||screen.width>1025&&screen.width<1200||screen.width>769&&screen.width<1024?(this.largeDevices=!0,this.smallDevices=!1):screen.width<769&&(this.smallDevices=!0,this.largeDevices=!1),sessionStorage.setItem("isMobile",JSON.stringify(this.smallDevices)),this.smallDevices}identifyDeviceType(){return screen.width>900?(this.largeDevices=!0,this.smallDevices=!1):(this.smallDevices=!0,this.largeDevices=!1),sessionStorage.setItem("isMobile",JSON.stringify(this.smallDevices)),this.smallDevices}validatePasswordPattern(J){let ae=J;return/[A-Z]+/g.test(ae)?this.hasUpper=!0:(this.hasUpper=!1,this.errMsg+="1 Uppercase character "),/[0-9]+/g.test(ae)?this.hasNum=!0:(this.errMsg+="1 Number ",this.hasNum=!1),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(ae)?this.hasSpecial=!0:(this.errMsg+="1 Symbol ",this.hasSpecial=!1),{hasUpper:this.hasUpper,hasNum:this.hasNum,errorMsg:this.errMsg,hasSpecial:this.hasSpecial}}processErrorMessage(J,ae){400==J.error.status?(this.displaySnackBarMessage(J.error.response,ae),"Invalid Refresh token or token expired, Please login again using username and password."==J.error.response[0]&&(localStorage.clear(),sessionStorage.clear(),this.router.navigate(["/login"]))):(401==J.error.status||500==J.error.status)&&this.displaySnackBarMessage(J.error.response[0],ae)}displaySnackBarMessage(J,ae){this.snackBar.openFromComponent(O,{duration:2e3,data:{status:ae,message:J},panelClass:["snackbar-style"]})}verifyLoggedInUser(){return this.isLoggedInUser=null!=localStorage.getItem("access_token")&&""!=localStorage.getItem("access_token")&&null!=localStorage.getItem("access_token"),this.isLoggedInUser}clearLogedInUserData(){this.isLoggedInUser=!1,sessionStorage.clear(),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("token_type"),localStorage.removeItem("user_profile"),localStorage.removeItem("referral_code"),localStorage.removeItem("cohortData"),localStorage.removeItem("completedOrderInfo"),localStorage.removeItem("selectedItem"),localStorage.removeItem("snackbarData"),localStorage.removeItem("selectedItem"),localStorage.removeItem("selectedMSRCardDetail"),localStorage.removeItem("MSR_cards"),localStorage.removeItem("paymentModeDetails"),localStorage.removeItem("cohortData"),localStorage.removeItem("giftCards"),localStorage.removeItem("snackbarData"),localStorage.removeItem("manualCouponCode"),sessionStorage.removeItem("basketId")}guestUser(){localStorage.removeItem("user_profile"),localStorage.removeItem("referral_code"),sessionStorage.removeItem("referral_code"),localStorage.removeItem("refresh_token"),localStorage.removeItem("access_token"),localStorage.removeItem("token_type"),localStorage.removeItem("reward-benifits"),localStorage.removeItem("reward-activities"),localStorage.removeItem("cardDetails"),localStorage.removeItem("snackbarData"),localStorage.removeItem("manualCouponCode"),localStorage.removeItem("guestUserToken"),localStorage.removeItem("digitalCardDetails"),sessionStorage.removeItem("purchasedCardAmount"),sessionStorage.removeItem("senderName"),sessionStorage.removeItem("favouriteItem"),sessionStorage.removeItem("previosPage"),sessionStorage.removeItem("defaultSelectionsFav"),sessionStorage.removeItem("defaultSelections")}trimLastFourDigits(J){const ae=String(J).slice(-4);return Number(ae)}showLoader(){this.loader=!0,this.loaderOverlayService.showLoader()}hideLoader(){this.loader=!1,this.loaderOverlayService.hideLoader()}titlecase(J){return J.substr(0,1).toUpperCase()+J.substr(1)}setImageFormat(J){let ae;if(J.forEach(de=>{de.images&&(de.images.small[0].url=ae)}),ae&&(ae.endsWith("jpg")||ae.endsWith("png")||ae.endsWith("svg")))return ae=ae.replace(/Small/g,"Small/webP").replace(/jpg|png|svg/g,"webp"),ae}removeFromlocal(J){let ae=JSON.parse(sessionStorage.getItem("localcartItem"));if(ae){let de=ae.filter(fe=>fe.id!==J.id);sessionStorage.setItem("localcartItem",JSON.stringify(de))}}getRandomBaristaOne(){let J=JSON.parse(localStorage.getItem("baristaDataOne"));if(J&&J.length<6){let ae=this.baristaOne.filter(Re=>!J.includes(Re));return ae[Math.floor(Math.random()*ae.length)]}{localStorage.removeItem("baristaDataOne");let ae=Math.floor(Math.random()*this.baristaOne.length);return this.baristaOne[ae]}}getRandomBaristaTwo(){let J=JSON.parse(localStorage.getItem("baristaDataTwo"));if(J&&J.length<4){let ae=this.baristaTwo.filter(Re=>!J.includes(Re));return ae[Math.floor(Math.random()*ae.length)]}{localStorage.removeItem("baristaDataTwo");let ae=Math.floor(Math.random()*this.baristaTwo.length);return this.baristaTwo[ae]}}getRandomStarry(){let J=JSON.parse(localStorage.getItem("starryData"));if(J&&J.length<5){let ae=this.staryArray.filter(Re=>!J.includes(Re));return ae[Math.floor(Math.random()*ae.length)]}{localStorage.removeItem("starryData");let ae=Math.floor(Math.random()*this.staryArray.length);return this.staryArray[ae]}}displayBristaMessage(J){let ae=JSON.parse(localStorage.getItem("cohortData"));if(ae&&ae.baristaContent&&0!==ae.baristaContent.length){let de;if(ae.baristaContent.forEach(fe=>{if(fe.screenName===J){let Re=fe.content&&0!=fe.content.length?1===fe.content.length?0:this.shuffleBaristaContent(fe.content.length):0;this.bristaMessage=fe.content&&fe.content[Re]}}),""!==this.bristaMessage&&(de=this.filterBaristaByDate(this.bristaMessage)),!0===de)return this.bristaMessage}}displayStarryMessage(J){let ae=JSON.parse(localStorage.getItem("cohortData"));if(ae?.starryTipContent&&0!==ae.starryTipContent.length){let de;if(ae.starryTipContent.forEach(fe=>{fe.screenName===J&&(this.starryMessage=fe.content&&fe.content[0])}),this.starryMessage&&(this.starryMessage.starryScreenName=J),""!==this.starryMessage&&(de=this.filterStarryByDate(this.starryMessage)),!0===de)return this.starryMessage}}getBaristaOne(){return this.baristaOne}getBaristaTwo(){return this.baristaTwo}getBannerArray(J){let ae=JSON.parse(localStorage.getItem("bannerArray"));if(ae){let de=ae.banners.find(fe=>fe.attributes.screenName===J);return de&&de.attributes.content?de.attributes.content:[]}}formatTxnId(J){return J.substring(0,6)+"-"+J.substring(6,J.length-6)+J.substring(J.length-6,J.length-6)+"-"+J.substring(J.length-6,J.length)}getUserId(){return this.isLoggedInUser?(this.tierDetails=JSON.parse(localStorage.getItem("user_profile")),this.tierDetails?this.tierDetails.userId:"NA"):"NA"}getUserType(){return this.isLoggedInUser?"Registered":"Guest"}getTierType(){return this.isLoggedInUser&&null!=this.tierDetails.tier?this.encryptDecryptService.decryptData(this.tierDetails.tier):"NA"}shuffleBaristaContent(J){let ae=Math.floor(Math.random()*J);return null!=JSON.parse(sessionStorage.getItem("baristaDisplayIndex"))&&Number(JSON.parse(sessionStorage.getItem("baristaDisplayIndex")))===ae&&(ae=J-1-ae===ae?ae-1:J-1-ae),sessionStorage.setItem("baristaDisplayIndex",JSON.stringify(ae)),ae}dynamicURL(J,ae){let de,fe,Re;if(fe=localStorage.getItem("menuListItem"),fe&&(de=JSON.parse(I.decompress(fe)),this.subCategoriesArray=[],de.forEach(_e=>{_e.subCategories.forEach(Xe=>{Xe.items.forEach(Ye=>{Ye.name.toLowerCase()===J.name.toLowerCase()&&(Re=Ye,this.subCategoriesArray.push(_e))})})})),Re){let _e=this.subCategoriesArray.length-1,Xe=Re.name;Xe.includes("&")&&(Xe=Xe.replace(/&/g,"and")),Xe.includes("\xe8")&&(Xe=Xe.replace(/\xe8/g,"e")),Xe.includes("\xc9")&&(Xe=Xe.replace(/\xc9/g,"E")),Xe=Xe.replace(/[^A-Z0-9]/gi,"-"),Xe=Xe.replace(/-{2,}/g,"-");let Ye=this.subCategoriesArray[_e].name.toLowerCase();if(Ye=Ye.replace(/[^A-Z0-9]/gi,"-"),Ye=Ye.replace(/-{2,}/g,"-"),Xe[Xe.length-1].includes("-")){Xe=Xe.slice(0,-1);let Ot=Ye+"/"+Xe.toLowerCase();this.router.navigate([Ot],ae)}else{let Ot=Ye+"/"+Xe.toLowerCase();this.router.navigate([Ot],ae)}}}filterStarryByDate(J){let ae=(new Date).toJSON().slice(0,10),de=new Date(ae);if(J&&J.starryTipStartDate&&J.starryTipEndDate){let fe=new Date(J.starryTipStartDate),Re=new Date(J.starryTipEndDate);return de>=fe&&de<=Re}return!1}filterBaristaByDate(J){let ae=(new Date).toJSON().slice(0,10),de=new Date(ae);if(J&&J.baristaStartDate&&J.baristaEndDate){let fe=new Date(J.baristaStartDate),Re=new Date(J.baristaEndDate);return de>=fe&&de<=Re}return!1}checkConnection(){let J;return this.createOnline$().subscribe(ae=>{ae?J=!0:(this.displaySnackBarMessage("Please connect your device to internet","failure"),J=ae)}),J}createOnline$(){return(0,k.h)((0,A.R)(window,"offline").pipe((0,Q.T)(()=>!1)),(0,A.R)(window,"online").pipe((0,Q.T)(()=>!0)),new H.c(J=>{J.next(navigator.onLine),J.complete()}))}checkAndDisplayBarista(J){let ae=JSON.parse(localStorage.getItem("cohortData")),de=[];ae&&ae.baristaContent&&0!==ae.baristaContent.length&&ae.baristaContent.forEach(Re=>{if(Re.screenName===J){de=Re.content.filter(Xe=>!0===Xe.isBaristaMessageActive);let _e=0!==de.length?1===de.length?0:this.shuffleBaristaContent(de.length):0;this.bristaMessage=de&&de[_e]}});let fe=!1;if(this.bristaMessage&&""!==this.bristaMessage&&(fe=this.filterBaristaByDate(this.bristaMessage)),!0===fe)return this.bristaMessage}getStoresWithinRadius(J,ae){let Re,de=J.response.storeRadius,fe=J.response.storesList,_e=[];fe&&fe.forEach(Xe=>{Re=this.geoLocationService.calculateDistance(ae.lat,ae.lng,Xe.lat,Xe.lng),1e3*Re<de&&(!1!==Xe.channelDetails["mop-delivery"].active||!1!==Xe.channelDetails["mop-pickup"].active)&&(Xe.distanceInMeters=1e3*Re,_e.push(Xe))}),sessionStorage.setItem("storeListWithinRadius",JSON.stringify(_e))}static#e=this.\u0275fac=function(ae){return new(ae||Ve)(m.KVO(p.UG),m.KVO(ee.Ix),m.KVO(be.R),m.KVO(me.I),m.KVO(Ne.O))};static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})()},6853:(Jt,ke,E)=>{"use strict";E.d(ke,{k:()=>z});var p=E(9185),m=E(7625),T=E(4438),F=E(1188),x=E(2524),ce=E(177);function ne(O,I){if(1&O){const k=T.RV6();T.j41(0,"li")(1,"a",6),T.bIt("click",function(){const H=T.eBV(k),Q=H.$implicit,ee=H.index,be=T.XpG(2);return T.Njj(be.navigateTo(Q,ee+1))}),T.EFF(2),T.nI1(3,"titlecase"),T.k0s()()}if(2&O){const k=I.$implicit;T.R7$(2),T.JRh(T.bMT(3,1,k.title))}}function q(O,I){if(1&O&&(T.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"ul",4),T.nrm(4,"li"),T.DNE(5,ne,4,3,"li",5),T.k0s()()()()),2&O){const k=T.XpG();T.R7$(5),T.Y8G("ngForOf",k.breadCrumbData)}}let z=(()=>{class O{constructor(k,A,H){this.breakpointObserver=k,this.router=A,this.dialog=H}ngOnInit(){this.breakpointObserver.observe([p.Rp.XSmall,p.Rp.Small,p.Rp.Medium,p.Rp.Large,p.Rp.XLarge]).subscribe(k=>{k.breakpoints[p.Rp.XSmall]&&(this.smallDevices=!0,this.largeDevices=!1),k.breakpoints[p.Rp.Small]&&(this.smallDevices=!0,this.largeDevices=!1),k.breakpoints[p.Rp.Medium]&&(this.largeDevices=!0,this.smallDevices=!1),k.breakpoints[p.Rp.Large]&&(this.largeDevices=!0,this.smallDevices=!1),k.breakpoints[p.Rp.XLarge]&&(this.largeDevices=!0,this.smallDevices=!1)}),this.breadCrumbLen=this.breadCrumbData&&this.breadCrumbData.length}navigateTo(k,A){const H={state:{data:this.menuData,storeDetails:this.storeDetails,module:"breadcrumb"}};"Pay"==k.title&&this.dialog.open(m.d,{width:"744px",panelClass:"dialog-no-padding"}),A<this.breadCrumbLen&&this.router.navigate(["/"+k.path],H)}static#e=this.\u0275fac=function(A){return new(A||O)(T.rXU(p.QP),T.rXU(F.Ix),T.rXU(x.bZ))};static#t=this.\u0275cmp=T.VBU({type:O,selectors:[["app-breadcrumb-nav"]],inputs:{breadCrumbData:"breadCrumbData",menuData:"menuData",storeDetails:"storeDetails"},decls:1,vars:1,consts:[["class","breadcrumb-section new-item",4,"ngIf"],[1,"breadcrumb-section","new-item"],[1,"container"],[1,"row"],[1,"bread"],[4,"ngFor","ngForOf"],[1,"animate__animated","animate__fadeIn",3,"click"]],template:function(A,H){1&A&&T.DNE(0,q,6,1,"div",0),2&A&&T.Y8G("ngIf",H.largeDevices)},dependencies:[ce.Sq,ce.bT,ce.PV],styles:['.menu-hidden[_ngcontent-%COMP%]{opacity:0;transform:translateY(-100%)}.new-item[_ngcontent-%COMP%]{position:relative;top:38px;padding:20px!important;margin:24px;display:block}.breadcrumb-section[_ngcontent-%COMP%]{padding:.5em 0}.breadcrumb-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}.breadcrumb-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 0 0 3px;display:inline-block}.breadcrumb-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;cursor:pointer;font-weight:400;font-size:14px;line-height:16px}.breadcrumb-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin:0;display:none}.breadcrumb-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+3):before{content:">";font-size:14px;padding-right:3px;padding-left:0}.breadcrumb-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{cursor:pointer;width:11px;height:11px}']})}return O})()},8611:(Jt,ke,E)=>{"use strict";E.d(ke,{z:()=>m});var p=E(4438);let m=(()=>{class T{static#e=this.\u0275fac=function(ce){return new(ce||T)};static#t=this.\u0275cmp=p.VBU({type:T,selectors:[["app-error-page"]],decls:14,vars:0,consts:[[1,"error-page-wrapper"],[1,"container"],[1,"row"],[1,"mobile-view"],[1,"col-md-6","col-12","error-text-style"],[1,"error-header"],[1,"error-sub-header"],[1,"error-content"],[1,"col-md-6","col-12"],[1,"img-wrap"],["src","assets/icon/error404.svg","alt","error-404"]],template:function(ce,ne){1&ce&&(p.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),p.EFF(6,"404"),p.k0s(),p.j41(7,"h3",6),p.EFF(8,"Page Not Found"),p.k0s(),p.j41(9,"p",7),p.EFF(10,"It seems like the coffee beans were spilled, and we can\u2019t find the webpage you\u2019re seeking. Please check the URL for typos, or use the navigation above to find your way back to the main menu."),p.k0s()(),p.j41(11,"div",8)(12,"div",9),p.nrm(13,"img",10),p.k0s()()()()()())},styles:[".error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]{display:flex}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .error-text-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .error-text-style[_ngcontent-%COMP%]   .error-header[_ngcontent-%COMP%], .error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .error-text-style[_ngcontent-%COMP%]   .error-sub-header[_ngcontent-%COMP%], .error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .error-text-style[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{font-family:SoDoSans_Regular,Helvetica,sans-serif}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .error-text-style[_ngcontent-%COMP%]   .error-header[_ngcontent-%COMP%]{font-weight:700;font-size:140px;color:#00754a;margin-bottom:0}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .error-text-style[_ngcontent-%COMP%]   .error-sub-header[_ngcontent-%COMP%]{font-weight:400;font-size:36px;color:#00754a}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .error-text-style[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{font-weight:300;font-size:18px;color:#0009;padding-top:1rem}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .img-wrap[_ngcontent-%COMP%]{height:546px}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:546px;height:546px;object-fit:cover}@media only screen and (max-width: 576px){.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]{flex-direction:column-reverse}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .error-text-style[_ngcontent-%COMP%]{text-align:center}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .error-text-style[_ngcontent-%COMP%]   .error-header[_ngcontent-%COMP%]{font-size:75px;padding-top:3rem}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .error-text-style[_ngcontent-%COMP%]   .error-sub-header[_ngcontent-%COMP%]{font-size:24px}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .error-text-style[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{font-size:14px}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .img-wrap[_ngcontent-%COMP%]{height:325px;width:100%;text-align:center}.error-page-wrapper[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:325px;height:325px}}@media only screen and (min-width: 768px){.error-page-wrapper[_ngcontent-%COMP%]{padding-top:4em}}"]})}return T})()},4525:(Jt,ke,E)=>{"use strict";E.d(ke,{m:()=>I});var p=E(4438),m=E(7218),T=E(1188),F=E(1941),x=E(3383),ce=E(177);const ne=k=>({padBtm:k}),q=()=>["/profile/help-center"];function z(k,A){if(1&k){const H=p.RV6();p.j41(0,"ul",30)(1,"li")(2,"a",31),p.bIt("click",function(){const ee=p.eBV(H).$implicit,be=p.XpG().$implicit,me=p.XpG();return me.openSubCategories(ee,"subCategories"),p.Njj(me.footerNavGA(be.attributes.title,ee.attributes.title))}),p.EFF(3),p.k0s()()()}if(2&k){const H=A.$implicit,Q=p.XpG(2);p.AVh("opened",Q.isAboutLinkShow),p.R7$(2),p.FS9("title",H.attributes.title),p.R7$(),p.SpI(" ",H.attributes.title," ")}}function O(k,A){if(1&k){const H=p.RV6();p.j41(0,"div",3)(1,"h3",27),p.bIt("click",function(){const ee=p.eBV(H).$implicit,be=p.XpG();return p.Njj(be.openSubCategories(ee,"categories"))}),p.EFF(2),p.nrm(3,"span",28),p.k0s(),p.DNE(4,z,4,4,"ul",29),p.k0s()}if(2&k){const H=A.$implicit,Q=p.XpG();p.R7$(2),p.SpI("",H.attributes.title," "),p.R7$(),p.Y8G("ngClass",Q.isAboutLinkShow?"arrow-top":"arrow-bottom"),p.R7$(),p.Y8G("ngForOf",null==H||null==H.attributes?null:H.attributes.articleSubCategories.data)}}let I=(()=>{class k{constructor(H,Q,ee){this.router=H,this.commonFunction=Q,this._bottomSheet=ee,this.currentYear=(new Date).getFullYear(),this.isAboutLinkShow=!1,this.isCustomerLinkShow=!1,this.onCategoryClick=new p.bkB,this.userType=this.commonFunction.getUserType(),this.userId=this.commonFunction.getUserId(),this.tierType=this.commonFunction.getTierType()}ngOnInit(){this.footerContent=this.footerData&&0!==this.footerData.length&&"Data Not Found"!==this.footerData[0]?this.footerData:[],this.fixedBottomBarData=this.snackbarData?this.snackbarData:""}ngOnChanges(H){this.footerContent=this.footerData&&0!==this.footerData.length&&"Data Not Found"!==this.footerData[0]?this.footerData:[],this.fixedBottomBarData=this.snackbarData?this.snackbarData:""}toggleAbout(){this.isAboutLinkShow=!this.isAboutLinkShow}togglCustomer(){this.isCustomerLinkShow=!this.isCustomerLinkShow}openSubCategories(H,Q){let ee=H.attributes.url;"faqs"===H.attributes.title.toLowerCase()?this.router.navigate(["/profile/help-center"]):(localStorage.setItem("footerContentType",Q),localStorage.setItem("footerCategories",JSON.stringify(H)),this.reloadPage("reload"),this.router.navigate([]).then(be=>{window.open(`/${ee}`,"_blank")}))}contactUs(){this.router.navigate(["/profile/help-center"])}reloadPage(H){this.onCategoryClick.emit(H)}footerNavGA(H,Q){dataLayer.push({event:"footer_click",userID:this.userId,footer_type:Q,footer_section:H,tier:this.tierType,user_type:this.userType})}openTermsDialog(){this._bottomSheet.open(m.M,{backdropClass:"light-backdrop",panelClass:"full_width_panel"})}static#e=this.\u0275fac=function(Q){return new(Q||k)(p.rXU(T.Ix),p.rXU(F.L),p.rXU(x.VK))};static#t=this.\u0275cmp=p.VBU({type:k,selectors:[["app-footer-bar"]],inputs:{footerData:"footerData",snackbarData:"snackbarData"},outputs:{onCategoryClick:"onCategoryClick"},features:[p.OA$],decls:42,vars:7,consts:[[1,"footer-md-screen",3,"ngClass"],[1,"container"],[1,"row","mb-5"],[1,"col-md-2","mb-md-0","mb-4"],["alt","Logo","src","assets/icon/logo.png",1,"logo",2,"width","62px","height","62px"],["class","col-md-2 mb-md-0 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-md-0","mb-4","d-flex"],[1,"footer-heading"],[1,"ft-social-list"],["href","https://www.instagram.com/starbucksindia/","target","_blank",3,"click"],["src","assets/icon/instagram.svg","alt","instagram",2,"width","35px","height","35px"],["href","https://www.facebook.com/starbucksindia","target","_blank",3,"click"],["src","assets/icon/facebook.svg","alt","facebook",2,"width","35px","height","35px"],["href","https://twitter.com/starbucksindia","target","_blank",3,"click"],["src","assets/icon/twitter.svg","alt","twitter",2,"width","35px","height","35px"],[1,"img-wrapper","text-right"],["href","https://apps.apple.com/in/app/starbucks-india/id1210203958"],["src","assets/images/appstoreiOS.png","alt","iOS-store",1,"pb-2",2,"width","194px","height","62px"],["href","https://play.google.com/store/apps/details?id=com.starbucks.in"],["src","assets/images/appstoreAndroid.png","alt","Andorid-store",2,"width","194px","height","62px"],[1,"ft-legal"],[1,"ft-legal-list"],["routerLink","","title","Web Accessiblity",3,"click"],["routerLink","","title","Privacy Statement",3,"click"],["routerLink","","title","Terms of Use",3,"click"],["title","Contact Us",3,"click","routerLink"],["routerLink",""],[1,"footer-heading",3,"click"],[1,"arrow","arrow-top",3,"ngClass"],["class","box list-unstyled",3,"opened",4,"ngFor","ngForOf"],[1,"box","list-unstyled"],[3,"click","title"]],template:function(Q,ee){1&Q&&(p.j41(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),p.nrm(4,"img",4),p.k0s(),p.DNE(5,O,5,3,"div",5),p.j41(6,"div",6)(7,"div")(8,"h3",7),p.EFF(9,"SOCIAL MEDIA "),p.k0s(),p.j41(10,"ul",8)(11,"li")(12,"a",9),p.bIt("click",function(){return ee.footerNavGA("SOCIAL MEDIA","Instagram")}),p.nrm(13,"img",10),p.k0s()(),p.j41(14,"li")(15,"a",11),p.bIt("click",function(){return ee.footerNavGA("SOCIAL MEDIA","Facebook")}),p.nrm(16,"img",12),p.k0s()(),p.j41(17,"li")(18,"a",13),p.bIt("click",function(){return ee.footerNavGA("SOCIAL MEDIA","Twitter")}),p.nrm(19,"img",14),p.k0s()()()(),p.j41(20,"div",15)(21,"a",16),p.nrm(22,"img",17),p.k0s(),p.j41(23,"a",18),p.nrm(24,"img",19),p.k0s()()()(),p.j41(25,"section",20)(26,"ul",21)(27,"li")(28,"a",22),p.bIt("click",function(){return ee.openTermsDialog(),ee.footerNavGA("NA","Web Accessiblity")}),p.EFF(29,"Web Accessiblity"),p.k0s()(),p.j41(30,"li")(31,"a",23),p.bIt("click",function(){return ee.openTermsDialog(),ee.footerNavGA("NA","Privacy Statement")}),p.EFF(32,"Privacy Statement"),p.k0s()(),p.j41(33,"li")(34,"a",24),p.bIt("click",function(){return ee.openTermsDialog(),ee.footerNavGA("NA","Terms of Use")}),p.EFF(35,"Terms of Use"),p.k0s()(),p.j41(36,"li")(37,"a",25),p.bIt("click",function(){return ee.footerNavGA("NA","Contact Us")}),p.EFF(38,"Contact Us"),p.k0s()(),p.j41(39,"li")(40,"a",26),p.EFF(41),p.k0s()()()()()()),2&Q&&(p.Y8G("ngClass",p.eq3(4,ne,ee.fixedBottomBarData&&0!=ee.fixedBottomBarData.items.length)),p.R7$(5),p.Y8G("ngForOf",ee.footerContent),p.R7$(32),p.Y8G("routerLink",p.lJ4(6,q)),p.R7$(4),p.SpI("\xa9 ",ee.currentYear," Starbucks Coffee Company. All rights reserved."))},dependencies:[T.Wk,ce.YU,ce.Sq],styles:[".footer-md-screen[_ngcontent-%COMP%]{padding:8em 2em 2em;background-color:#0e382c;color:#bbb;line-height:1.5}.footer-md-screen[_ngcontent-%COMP%]   .footer-heading[_ngcontent-%COMP%]{font-size:1.125em;color:#fff;font-family:SoDoSans_Semibold,Helvetica,sans-serif;cursor:pointer}.footer-md-screen[_ngcontent-%COMP%]   .list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none}.footer-md-screen[_ngcontent-%COMP%]   .list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1.5em}.footer-md-screen[_ngcontent-%COMP%]   .list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:400;font-size:.875em;text-decoration:none;color:#fff;transition:.3s}.footer-md-screen[_ngcontent-%COMP%]   .list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#a2a2a2;cursor:pointer}.footer-md-screen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffff4d}.footer-md-screen[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:0;margin-top:0;margin-bottom:1rem}.footer-md-screen[_ngcontent-%COMP%]   .ft-legal[_ngcontent-%COMP%]   .ft-legal-list[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;border-top:1px solid #a0a0a0;padding-top:20px}@media only screen and (max-width: 480px){.footer-md-screen[_ngcontent-%COMP%]   .ft-legal[_ngcontent-%COMP%]   .ft-legal-list[_ngcontent-%COMP%]{display:block;margin-bottom:18px;padding-top:20px}}.footer-md-screen[_ngcontent-%COMP%]   .ft-legal[_ngcontent-%COMP%]   .ft-legal-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.125rem .625rem;white-space:nowrap;font-size:.75em;padding-right:17px;border-right:1px solid #b3b3b3}.footer-md-screen[_ngcontent-%COMP%]   .ft-legal[_ngcontent-%COMP%]   .ft-legal-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:.3s}.footer-md-screen[_ngcontent-%COMP%]   .ft-legal[_ngcontent-%COMP%]   .ft-legal-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#a2a2a2;cursor:pointer}@media only screen and (max-width: 480px){.footer-md-screen[_ngcontent-%COMP%]   .ft-legal[_ngcontent-%COMP%]   .ft-legal-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-right:0;border-right:none;margin-bottom:18px;margin-left:0}}.footer-md-screen[_ngcontent-%COMP%]   .ft-legal[_ngcontent-%COMP%]   .ft-legal-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin-left:0}.footer-md-screen[_ngcontent-%COMP%]   .ft-legal[_ngcontent-%COMP%]   .ft-legal-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(2){border-right:none;flex:1;-ms-flex:1}.footer-md-screen[_ngcontent-%COMP%]   .ft-legal[_ngcontent-%COMP%]   .ft-legal-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(1){border-right:none;flex:1;-ms-flex:1;font-size:.6em;text-align:right;margin-right:0;padding-right:0}.footer-md-screen[_ngcontent-%COMP%]   .ft-social[_ngcontent-%COMP%]{padding:0 1.875rem 1.25rem}.footer-md-screen[_ngcontent-%COMP%]   .ft-social-list[_ngcontent-%COMP%]{display:flex}.footer-md-screen[_ngcontent-%COMP%]   .ft-social-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.5rem;font-size:1.25rem;margin-left:0;margin-right:1rem}.footer-md-screen[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%]{width:0;height:0;display:inline-block;border:10px solid transparent}.footer-md-screen[_ngcontent-%COMP%]   .caret.down[_ngcontent-%COMP%]{border-top-color:#fff;position:relative;left:63px;top:5px}.footer-md-screen[_ngcontent-%COMP%]   .caret.up[_ngcontent-%COMP%]{border-bottom-color:#fff;position:relative;left:63px;top:5px}@media only screen and (max-width: 480px){.footer-md-screen[_ngcontent-%COMP%]   .ft-main-item[_ngcontent-%COMP%]{padding:1rem .4rem}.footer-md-screen[_ngcontent-%COMP%]   .ft-main[_ngcontent-%COMP%]{padding:1.25rem 1.875rem 0rem}.footer-md-screen[_ngcontent-%COMP%]   .hide-link[_ngcontent-%COMP%]{display:none;transition:.3s}.footer-md-screen[_ngcontent-%COMP%]   .show-link[_ngcontent-%COMP%]{display:block;transition:.3s}.footer-md-screen[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{max-height:0px;overflow-y:hidden;transition:ease-in-out .5s max-height}.footer-md-screen[_ngcontent-%COMP%]   .box.opened[_ngcontent-%COMP%]{max-height:500px;transition:ease-in-out .3s max-height}.footer-md-screen[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;width:12px;height:12px;border-top:2px solid #fff;border-right:2px solid #fff;position:absolute;right:30px}.footer-md-screen[_ngcontent-%COMP%]   .arrow-top[_ngcontent-%COMP%]{transition:ease-in-out .3s;transform:rotate(-45deg)}.footer-md-screen[_ngcontent-%COMP%]   .arrow-right[_ngcontent-%COMP%]{transform:rotate(45deg)}.footer-md-screen[_ngcontent-%COMP%]   .arrow-bottom[_ngcontent-%COMP%]{transform:rotate(135deg);transition:ease-in-out .3s}.footer-md-screen[_ngcontent-%COMP%]   .arrow-left[_ngcontent-%COMP%]{transform:rotate(-135deg)}.footer-md-screen[_ngcontent-%COMP%]   .ft-legal[_ngcontent-%COMP%]   .ft-legal-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{text-align:center}}@media only screen and (max-width: 360px){.footer-md-screen[_ngcontent-%COMP%]   .ft-legal-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(1){font-size:.6em}}.padBtm[_ngcontent-%COMP%]{padding-bottom:5em}"]})}return k})()},9381:(Jt,ke,E)=>{"use strict";E.d(ke,{l:()=>Be});var p=E(1188),m=E(2524),T=E(8686),F=E(4438),x=E(1941),ce=E(8484),ne=E(8604),q=E(5230),z=E(177);const O=()=>["/dashboard"],I=()=>({exact:!0}),k=()=>["/giftcards"],A=()=>["/ordering"],H=Ve=>({active:Ve}),Q=()=>["/store-locator"],ee=()=>["/search"],be=()=>["/profile"];function me(Ve,Le){if(1&Ve){const J=F.RV6();F.j41(0,"mat-option",22),F.bIt("click",function(){const de=F.eBV(J).$implicit,fe=F.XpG(2);return F.Njj(fe.searchKey(de))}),F.EFF(1),F.k0s()}if(2&Ve){const J=Le.$implicit;F.Y8G("value",J),F.R7$(),F.SpI(" ",J," ")}}function Ne(Ve,Le){if(1&Ve){const J=F.RV6();F.j41(0,"header",3)(1,"div",4)(2,"div",5)(3,"a",6),F.nrm(4,"img",7),F.k0s(),F.j41(5,"ul",8)(6,"li",9)(7,"a",10),F.bIt("click",function(){F.eBV(J);const de=F.XpG();return F.Njj(de.topNavigationGA("Home"))}),F.EFF(8,"Home"),F.k0s()(),F.j41(9,"li",11)(10,"a",10),F.bIt("click",function(){F.eBV(J);const de=F.XpG();return F.Njj(de.topNavigationGA("Gift"))}),F.EFF(11,"Gift"),F.k0s()(),F.j41(12,"li",11)(13,"a",10),F.bIt("click",function(){F.eBV(J);const de=F.XpG();return F.Njj(de.topNavigationGA("Order"))}),F.EFF(14,"Order"),F.k0s()(),F.j41(15,"li",12)(16,"a",13),F.bIt("click",function(){F.eBV(J);const de=F.XpG();return de.openPayPage(),F.Njj(de.topNavigationGA("Pay"))}),F.EFF(17,"Pay"),F.k0s()(),F.j41(18,"li",11)(19,"a",10),F.bIt("click",function(){F.eBV(J);const de=F.XpG();return F.Njj(de.topNavigationGA("Store"))}),F.EFF(20,"Store"),F.k0s()()(),F.j41(21,"div",14)(22,"div",15),F.nrm(23,"img",16),F.j41(24,"input",17,0),F.bIt("keyup",function(de){F.eBV(J);const fe=F.sdS(25),Re=F.XpG();return F.Njj(Re.getAutoSearchList(de,fe.value))})("keyup.enter",function(){F.eBV(J);const de=F.sdS(25),fe=F.XpG();return F.Njj(fe.searchKey(de.value))}),F.k0s(),F.j41(26,"mat-autocomplete",null,1),F.DNE(28,me,2,2,"mat-option",18),F.k0s()()(),F.j41(29,"div",19)(30,"a",20)(31,"img",21),F.bIt("click",function(){F.eBV(J);const de=F.XpG();return F.Njj(de.profileClickGA())}),F.k0s()()()()()()}if(2&Ve){const J=F.sdS(27),ae=F.XpG();F.R7$(3),F.Y8G("routerLink",F.lJ4(11,O)),F.R7$(3),F.Y8G("routerLinkActiveOptions",F.lJ4(12,I)),F.R7$(),F.Y8G("routerLink",F.lJ4(13,O)),F.R7$(3),F.Y8G("routerLink",F.lJ4(14,k)),F.R7$(3),F.Y8G("routerLink",F.lJ4(15,A)),F.R7$(2),F.Y8G("ngClass",F.eq3(16,H,ae.isPayRouteActive)),F.R7$(4),F.Y8G("routerLink",F.lJ4(18,Q)),F.R7$(4),F.Y8G("routerLink",F.lJ4(19,ee)),F.R7$(),F.Y8G("matAutocomplete",J),F.R7$(4),F.Y8G("ngForOf",ae.autoSuggestionArry),F.R7$(2),F.Y8G("routerLink",F.lJ4(20,be))}}let Be=(()=>{class Ve{constructor(J,ae,de,fe){this.router=J,this.dialog=ae,this.commonFunction=de,this.golbalSearchService=fe,this.isMobileDevice=!1,this.showScrollHeight=1,this.hideScrollHeight=1,this.isPayRouteActive=!1,this.globalSearchResultSize=20,this.autoSuggestionArry=[],this.router.events.subscribe(Re=>{Re instanceof p.wF&&(this.isPayRouteActive=!!Re.url.includes("/pay"))}),this.userType=this.commonFunction.getUserType(),this.userId=this.commonFunction.getUserId(),this.tierType=this.commonFunction.getTierType()}ngOnInit(){this.isMobileDevice=this.commonFunction.identifyDeviceType()}onWindowScroll(J){(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)>this.showScrollHeight?this.showScroll=!0:this.showScroll&&(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)<this.hideScrollHeight&&(this.showScroll=!1)}openPayPage(){this.isLoggedInUser=this.commonFunction.verifyLoggedInUser(),1==this.isLoggedInUser?this.router.navigate(["/pay"]):this.openLoginDialog()}openLoginDialog(){sessionStorage.setItem("module","pay");const J=new m.ru;J.data={redirectTo:"/pay",showBarista:!0,message:"This is a heading space to include brand content"},J.disableClose=!0,J.minWidth="45vw",J.maxWidth="70vw",this.dialog.open(T.v,J).afterClosed().subscribe(de=>{})}getAutoSearchList(J,ae){let de=this.getGlobalSearchRequest(ae);this.golbalSearchService.getAutoSuggestion(de).subscribe(fe=>{this.autoSuggestionArry=fe.response})}getGlobalSearchRequest(J){return[{name:"searchKey",value:J},{name:"size",value:this.globalSearchResultSize}]}searchKey(J){sessionStorage.removeItem("globalSearchkey"),sessionStorage.setItem("globalSearchkey",J),this.golbalSearchService.setSessionValue(J),this.searchClickGA(J),this.router.navigate(["/search"])}searchClickGA(J){dataLayer.push({event:"search_click",userID:this.userId,user_type:this.userType,tier:this.tierType,search_text:0===J.length?"NA":J})}profileClickGA(){dataLayer.push({event:"profile_click",userID:this.userId,user_type:this.userType,tier:this.tierType})}topNavigationGA(J){dataLayer.push({event:"top_navigation_click",userID:this.userId,top_navigation_type:J,tier:this.tierType,user_type:this.userType})}static#e=this.\u0275fac=function(ae){return new(ae||Ve)(F.rXU(p.Ix),F.rXU(m.bZ),F.rXU(x.L),F.rXU(ce.H))};static#t=this.\u0275cmp=F.VBU({type:Ve,selectors:[["app-header"]],hostBindings:function(ae,de){1&ae&&F.bIt("scroll",function(Re){return de.onWindowScroll(Re)},!1,F.tSv)},decls:1,vars:1,consts:[["search",""],["auto","matAutocomplete"],["class","border-bottom fix-header",4,"ngIf"],[1,"border-bottom","fix-header"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["title","Starbucks Logo",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-dark","text-decoration-none",3,"routerLink"],["src","assets/icon/logo.png","alt","Logo","fetchpriority","high",1,"logo"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"nav-link",3,"click","routerLink"],["routerLinkActive","active"],[3,"ngClass"],[1,"nav-link","cursor-pt",3,"click"],[1,"col-12","col-lg-auto","mb-3","mb-lg-0","me-lg-3"],[1,"search-form"],["src","assets/icon/search.svg","alt","search",1,"fa-search",3,"routerLink"],["type","text","placeholder","Looking for something specific?",1,"form-control","form-input","custom-search-box",3,"keyup","keyup.enter","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[1,"dropdown","text-end","profile-icon"],["id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"d-block","link-dark","text-decoration-none",3,"routerLink"],["src","assets/icon/account_thin.svg","alt","profile icon","width","32","height","32",1,"rounded-circle",3,"click"],[3,"click","value"]],template:function(ae,de){1&ae&&F.DNE(0,Ne,32,21,"header",2),2&ae&&F.Y8G("ngIf",!de.isMobileDevice)},dependencies:[p.Wk,p.wQ,ne.$3,ne.pN,q.wT,z.YU,z.Sq,z.bT],styles:[".menu-hidden[_ngcontent-%COMP%]{display:none}.fix-header[_ngcontent-%COMP%]{position:fixed;left:0;right:0;max-width:100vw;z-index:999;transition:transform .3s ease-in-out;top:0;background:#fff}header[_ngcontent-%COMP%]{box-shadow:#1c1c1c1c 1px 1px 2px}header[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#00754a}header[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-bottom:2px solid #006241;color:#00754a;font-family:SoDoSans_Semibold,Helvetica,sans-serif;font-size:14px}header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:0;padding-right:0;margin:0 1em;color:#000}header[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#00754a}header[_ngcontent-%COMP%]   .profile-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{margin-left:15px}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;height:40px}.custom-search-box[_ngcontent-%COMP%]{border-radius:1.25rem;box-shadow:0 0 2px #00000012,0 2px 2px #0000000f,0 1px 3px #0000001a;border:none}.custom-search-box[_ngcontent-%COMP%]:focus{color:#212529;background-color:#fff;border-color:#0e382c78;outline:0;box-shadow:#1c1c1c14 0 2px 8px;border:1px solid #e6e4e4}.custom-search-box[_ngcontent-%COMP%]::placeholder{font-size:12px}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 1rem}.search-form[_ngcontent-%COMP%]{position:relative;margin-right:4em;width:264px}.search-form[_ngcontent-%COMP%]   .fa-search[_ngcontent-%COMP%]{position:absolute;top:11px;left:20px;color:#9ca3af;cursor:pointer}.search-form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:17px;top:13px;padding:2px;border-left:1px solid #d1d5db}.search-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{text-indent:6px;padding-left:3em}.search-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{border:1px solid #1e3932}.cursor-pt[_ngcontent-%COMP%]{cursor:pointer}@media only screen and (min-device-width: 991.5px) and (max-width: 1200px){.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 .5rem}}"]})}return Ve})()},389:(Jt,ke,E)=>{"use strict";E.d(ke,{i:()=>ee});var p=E(2524),m=E(8686),T=E(4438),F=E(1188),x=E(1941),ce=E(177);const ne=()=>["/dashboard"],q=(be,me)=>({"footer-label-active":be,"footer-label-inactive":me}),z=()=>["/ordering"];function O(be,me){1&be&&(T.j41(0,"div"),T.nrm(1,"img",16),T.k0s())}function I(be,me){1&be&&(T.j41(0,"div"),T.nrm(1,"img",17),T.k0s())}function k(be,me){1&be&&(T.j41(0,"div"),T.nrm(1,"img",18),T.k0s())}function A(be,me){1&be&&(T.j41(0,"div"),T.nrm(1,"img",19),T.k0s())}function H(be,me){1&be&&(T.j41(0,"div"),T.nrm(1,"img",20),T.k0s())}function Q(be,me){1&be&&(T.j41(0,"div"),T.nrm(1,"img",21),T.k0s())}let ee=(()=>{class be{constructor(Ne,Be,Ve){this.router=Ne,this.commonFunction=Be,this.dialog=Ve,this.ripColor="#00814d38",this.home={imgActive:"assets/icon/home.svg",imgInActive:"assets/icon/home_inactive.svg",text:"Home"},this.rewards={imgActive:"assets/icons/reward-dark.svg",imgInActive:"assets/icon/timsrewards_ico.svg",text:"Rewards"},this.order={imgActive:"assets/icons/gps.svg",imgInActive:"assets/icon/stores_ico.svg",text:"Order"},this.gift={imgActive:"assets/icon/Gift_Active.svg",imgInActive:"assets/icon/gift_Inactive.svg",text:"Gift"},this.pay={imgActive:"assets/icon/pay-filled.svg",imgInActive:"assets/icon/pay_Active.svg",text:"Pay"},this.search={imgActive:"assets/icon/Mask.svg",imgInActive:"assets/icon/Serach_Active.svg",text:"Search"},this.isOpenBottomSheet=!1,this.setZIndex=!1}ngOnInit(){let Ne=window.location.href.split("/");this.isHomeActive="dashboard"==Ne[Ne.length-1]}homeMenu(){"dashboard"==this.router.url?this.isHomeActive=!0:(this.isGiftActive=!1,this.isPayActive=!1,this.isSearchActive=!1,this.isRewardsActive=!1)}giftMenu(){this.isGiftActive=!0,this.router.navigate(["/giftcards"])}rewardsMenu(){}storesMenu(){}moreMenu(){}payMenu(){this.isLoggedInUser=this.commonFunction.verifyLoggedInUser(),1==this.isLoggedInUser?this.router.navigate(["/pay"]):this.openLoginDialog()}closeBottomSheet(){this.isSearchActive=!0,this.router.navigate(["/search"])}openLoginDialog(){const Ne=new p.ru;Ne.data={redirectTo:"/pay",showBarista:!0,message:"This is a heading space to include brand content"},Ne.disableClose=!0,Ne.minWidth="45vw",Ne.maxWidth="70vw",this.dialog.open(m.v,Ne).afterClosed().subscribe(Ve=>{})}static#e=this.\u0275fac=function(Be){return new(Be||be)(T.rXU(F.Ix),T.rXU(x.L),T.rXU(p.bZ))};static#t=this.\u0275cmp=T.VBU({type:be,selectors:[["app-mobile-navbar"]],decls:33,vars:36,consts:[[1,"footer-section"],[1,"wrapper"],[1,"bottom-appbar"],[1,"tabs"],[1,"tab","tab--left","d-flex"],[1,"menus"],[1,"menu",3,"click","routerLink"],["alt","Home",3,"src"],[3,"ngClass"],[1,"menu",3,"click"],[4,"ngIf"],[1,"tab","tab--fab","order-tab"],[1,"top"],[1,"fab",3,"routerLink"],["src","assets/icon/nav_order.svg","alt","order"],[1,"tab","tab--right","d-flex"],["src","assets/icon/gift_Inactive.svg","alt","gift"],["src","assets/icon/Gift_Active.svg","alt","gift"],["src","assets/icon/pay-filled.svg","alt","pay"],["src","assets/icon/pay_Active.svg","alt","pay"],["src","assets/icon/Mask.svg","alt","search"],["src","assets/icon/Serach_Active.svg","alt","search"]],template:function(Be,Ve){1&Be&&(T.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),T.bIt("click",function(){return Ve.homeMenu()}),T.nrm(7,"img",7),T.j41(8,"p",8),T.EFF(9),T.k0s()(),T.j41(10,"div",9),T.bIt("click",function(){return Ve.giftMenu()}),T.DNE(11,O,2,0,"div",10)(12,I,2,0,"div",10),T.j41(13,"p",8),T.EFF(14),T.k0s()()()(),T.j41(15,"div",11)(16,"div",12)(17,"div",13),T.nrm(18,"img",14),T.k0s()(),T.j41(19,"p",8),T.EFF(20),T.k0s()(),T.j41(21,"div",15)(22,"div",5)(23,"div",9),T.bIt("click",function(){return Ve.payMenu()}),T.DNE(24,k,2,0,"div",10)(25,A,2,0,"div",10),T.j41(26,"p",8),T.EFF(27),T.k0s()(),T.j41(28,"div",9),T.bIt("click",function(){return Ve.closeBottomSheet()}),T.DNE(29,H,2,0,"div",10)(30,Q,2,0,"div",10),T.j41(31,"p",8),T.EFF(32),T.k0s()()()()()()()()),2&Be&&(T.R7$(6),T.Y8G("routerLink",T.lJ4(19,ne)),T.R7$(),T.Y8G("src",Ve.isHomeActive?Ve.home.imgActive:Ve.home.imgInActive,T.B4B),T.R7$(),T.Y8G("ngClass",T.l_i(20,q,Ve.isHomeActive,!Ve.isHomeActive)),T.R7$(),T.SpI(" ",Ve.home.text," "),T.R7$(2),T.Y8G("ngIf","/giftcards"!=Ve.router.url||Ve.isGiftActive),T.R7$(),T.Y8G("ngIf","/giftcards"==Ve.router.url&&!Ve.isGiftActive),T.R7$(),T.Y8G("ngClass",T.l_i(23,q,Ve.isGiftActive,!Ve.isGiftActive)),T.R7$(),T.SpI(" ",Ve.gift.text," "),T.R7$(3),T.Y8G("routerLink",T.lJ4(26,z)),T.R7$(2),T.Y8G("ngClass",T.l_i(27,q,Ve.isGiftActive,!Ve.isGiftActive)),T.R7$(),T.SpI(" ",Ve.order.text," "),T.R7$(4),T.Y8G("ngIf","/pay"!=Ve.router.url||Ve.isPayActive),T.R7$(),T.Y8G("ngIf","/pay"==Ve.router.url&&!Ve.isPayActive),T.R7$(),T.Y8G("ngClass",T.l_i(30,q,Ve.isPayActive,!Ve.isPayActive)),T.R7$(),T.SpI(" ",Ve.pay.text," "),T.R7$(2),T.Y8G("ngIf","/search"!=Ve.router.url||Ve.isSearchActive),T.R7$(),T.Y8G("ngIf","/search"==Ve.router.url&&!Ve.isSearchActive),T.R7$(),T.Y8G("ngClass",T.l_i(33,q,Ve.isSearchActive,!Ve.isSearchActive)),T.R7$(),T.SpI(" ",Ve.search.text," "))},dependencies:[F.Wk,ce.YU,ce.bT],styles:[".bottom-appbar[_ngcontent-%COMP%]{height:68px;position:fixed;bottom:0;left:0;right:0;z-index:999}.bottom-appbar[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:101%}.bottom-appbar[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{background-color:#fff;width:33.4%;height:100%;justify-content:center;align-items:center;flex-direction:column;border-top:1px solid #eee;box-shadow:1x 1x 3px #ccc,-1px -1px 3px #ccc;font-size:24px}.bottom-appbar[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab--left[_ngcontent-%COMP%]{width:100%;border-top-left-radius:10px;border-top:1px solid rgba(167,161,161,.69);box-shadow:0 6px 7px #17171747}.bottom-appbar[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab--right[_ngcontent-%COMP%]{width:100%;border-top-right-radius:10px;border-top:1px solid rgba(167,161,161,.69);box-shadow:15px 4px 15px #17171747}.bottom-appbar[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab--fab[_ngcontent-%COMP%]{width:175px;height:100%;background:transparent;border:none}.bottom-appbar[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab--fab[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{width:100%;height:48%;border-bottom-left-radius:120px;border-bottom-right-radius:120px;background-color:transparent;box-shadow:0 30px 0 25px #fff;border-bottom:1px solid rgba(167,161,161,.69);display:flex}.bottom-appbar[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.is-active[_ngcontent-%COMP%]{color:#fd9d97}.bottom-appbar[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{border-radius:50%;background-color:#096;display:flex;align-items:center;width:65px;height:65px;position:relative;justify-content:center;transform:translate(1vw,-55%)}.menus[_ngcontent-%COMP%]{display:flex;justify-content:space-around;text-align:center;width:100%}.menus[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:8px}.menu[_ngcontent-%COMP%]{width:50%}.order-tab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:8px;text-align:center;padding-top:.5rem}"]})}return be})()},5005:(Jt,ke,E)=>{"use strict";E.d(ke,{U:()=>x});var p=E(2524),m=E(4438),T=E(1188),F=E(1941);let x=(()=>{class ce{constructor(q,z,O,I){this.router=q,this.dialogRef=z,this.data=O,this.commonFunction=I,this.reloadPay=!1,this.userType=this.commonFunction.getUserType(),this.userId=this.commonFunction.getUserId(),this.tierType=this.commonFunction.getTierType()}continue(){this.dialogRef.close(),"true"==sessionStorage.getItem("reloadCardPay")&&(this.reloadPay=!0),"cart"==this.data?this.router.navigate(["/ordering/cart"]):"giftcards"==this.data?this.router.navigate(["/giftcards"]):"pay"==this.data&&0==this.reloadPay?this.router.navigate(["/pay"]):"pay"==this.data&&1==this.reloadPay?this.router.navigate(["ordering/cart"]):"subs"==this.data&&this.router.navigate(["/subscription"])}closeDialog(){this.dialogRef.close()}crossBtnGA(){dataLayer.push({event:"cross_click",userID:this.userId,user_type:this.userType,tier:this.tierType})}static#e=this.\u0275fac=function(z){return new(z||ce)(m.rXU(T.Ix),m.rXU(p.CP),m.rXU(p.Vh),m.rXU(F.L))};static#t=this.\u0275cmp=m.VBU({type:ce,selectors:[["app-payment-status-dialog"]],decls:9,vars:0,consts:[[1,"container"],[1,"close-btn"],["src","assets/icon/clear.svg","alt","close",3,"click"],[1,"content"],[1,"text-center"],[1,"button","text-center"],[3,"click"]],template:function(z,O){1&z&&(m.j41(0,"div",0)(1,"div",1)(2,"img",2),m.bIt("click",function(){return O.continue(),O.crossBtnGA()}),m.k0s()(),m.j41(3,"div",3)(4,"h5",4),m.EFF(5,"Sorry. We are unable to process your payment."),m.k0s()(),m.j41(6,"div",5)(7,"button",6),m.bIt("click",function(){return O.continue()}),m.EFF(8,"Ok"),m.k0s()()())},styles:[".container[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;cursor:pointer}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1em}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#1e3932;font-style:normal;font-weight:700;font-size:24px;line-height:32px}.container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#d62b1f;border-radius:16px;color:#fff;border:none;width:60%;padding:7px;font-weight:600;font-size:12px;line-height:16px}@media only screen and (max-device-width: 450px){.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1em 2.5em}.container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%}}@media only screen and (device-width: 375px) and (device-height: 667px) and (-webkit-min-device-pixel-ratio: 2){.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1em 2em}}"]})}return ce})()},9508:(Jt,ke,E)=>{"use strict";E.d(ke,{z:()=>ne});var p=E(177),m=E(1188),T=E(8604),F=E(2471),x=E(5484),ce=E(4438);let ne=(()=>{class q{static#e=this.\u0275fac=function(I){return new(I||q)};static#t=this.\u0275mod=ce.$C({type:q});static#n=this.\u0275inj=ce.G2t({imports:[m.iI,T.jL,p.MD,F.m_,x.Hl]})}return q})()},4370:(Jt,ke,E)=>{"use strict";E.d(ke,{G:()=>gn});var p=E(2788),m=E(3383),T=E(1818),F=E(1351),x=E(2524),ce=E(7421),ne=E(2836),q=E(5122),z=E(6961),O=E(989),I=E(4438);let ae=(()=>{class pt{}return pt.\u0275fac=function(lt){return new(lt||pt)},pt.\u0275mod=I.$C({type:pt}),pt.\u0275inj=I.G2t({imports:[[O.jI]]}),pt})();var de=E(177),fe=E(5484),Re=E(5230),_e=E(2471),Xe=E(1413);E(9969);let Pi=(()=>{class pt{constructor(){this.changes=new Xe.B,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return pt.\u0275fac=function(lt){return new(lt||pt)},pt.\u0275prov=I.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"}),pt})();const Ci={provide:Pi,deps:[[new I.Xx1,new I.kdw,Pi]],useFactory:function hi(pt){return pt||new Pi}};let br=(()=>{class pt{}return pt.\u0275fac=function(lt){return new(lt||pt)},pt.\u0275mod=I.$C({type:pt}),pt.\u0275inj=I.G2t({providers:[Ci,Re.es],imports:[[Re.yE,de.MD,z.jc,fe.Hl,ae,_e.m_,Re.pZ],Re.yE]}),pt})();var Si=E(3008),Ar=E(4476),$i=E(6591),Gi=E(1918);E(2223),E(8363),E(9482),E(9417);let X=(()=>{class pt{}return pt.\u0275fac=function(lt){return new(lt||pt)},pt.\u0275mod=I.$C({type:pt}),pt.\u0275inj=I.G2t({imports:[[Re.yE,Re.pZ],Re.yE]}),pt})();var Ee=E(2173),ot=E(9865),ht=E(7266),on=E(200);let gn=(()=>{class pt{static#e=this.\u0275fac=function(ln){return new(ln||pt)};static#t=this.\u0275mod=I.$C({type:pt});static#n=this.\u0275inj=I.G2t({imports:[p.fS,m.vF,T.Hu,F.g7,x.hM,ce.RG,ne.Ve,q._T,br,Si.RI,Ar.MY,$i.Fg,Gi.X6,fe.Hl,X,Ee.PO,ot.Wk,ht.E9,on.mV,p.fS,m.vF,T.Hu,F.g7,x.hM,ce.RG,ne.Ve,q._T,br,Si.RI,Ar.MY,$i.Fg,z.jc,Gi.X6,Re.WX,fe.Hl,X,_e.m_,Ee.PO,ot.Wk,ht.E9,on.mV]})}return pt})()},1682:(Jt,ke,E)=>{"use strict";E.d(ke,{k:()=>q});var p=E(5312),m=E(6883),T=E(4438),F=E(1626),x=E(1941),ce=E(7802),ne=E(1188);let q=(()=>{class z{constructor(I,k,A,H){this.http=I,this.commonFunction=k,this.apiHeader=A,this.router=H,this.server=p.c.APIEndpoint,this.isLoggedIn=!1,this.urls={guestUserToken:this.server+"api/unsec/user/guest/v2/token",createUser:this.server+"api/unsec/user/v3/create",verifySignupOtp:this.server+"api/user/otp/v3/verify",createUserDetails:this.server+"api/user/v3/update",userLogin:this.server+"api/unsec/user/v2/login",initiateResetPassword:this.server+"api/unsec/user/password/reset/v3/initiate",sendOtp:this.server+"api/unsec/otp/v3/send",verifyOtp:this.server+"api/unsec/user/otp/v3/verify",changePassword:this.server+"api/unsec/user/password/v3/reset",refreshToken:this.server+"user/getRefreshToken/v1",userLogout:this.server+"app/logout/v1",tnc:this.server+"api/cms/termsandconditions/v1/view",unsecTnc:this.server+"portal/termsAndConditions",resendOtp:this.server+"api/v3/send/otp",getHelpResendPassword:this.server+"api/unsec/otp/v3/send",deviceToken:this.server+"api/device/token/v1/create",createUserWA:this.server+"api/unsec/user/v5/create",verifyOtpWA:this.server+"api/user/otp/v5/verify",resetPinWA:this.server+"api/unsec/user/pin/v2/reset",verifyResetOtpWA:this.server+"api/unsec/user/otp/v5/verify"},this.deviceMetaInfo={appVersion:"",deviceCountry:"India",deviceCity:"",deviceId:localStorage.getItem("deviceId"),deviceModel:"",platform:"WEB",deviceOSVersion:""},this.unsecureHeaderData={"Accept-Language":"EN","Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)},this.headerData={"Accept-Language":"EN",Authorization:"Bearer "+JSON.parse(localStorage.getItem("access_token")),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)},this.isLoggedIn=this.commonFunction.verifyLoggedInUser()}getGuestUserToken(){let I=this.apiHeader.getUnSecureHeader(),k={deviceToken:localStorage.getItem("firebaseDeviceId")};return this.http.post(this.urls.guestUserToken,k,{headers:I})}createUser(I){let k=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.createUser,I,{headers:k})}verifySignupOtp(I){let A={"Accept-Language":"EN",Authorization:"Bearer "+JSON.parse(localStorage.getItem("access_token")),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)};return this.http.post(this.urls.verifySignupOtp,I,{headers:A})}createUserProfileData(I,k){const A={...this.headerData,...I};return this.http.post(this.urls.createUserDetails,k,{headers:A})}userLogin(I){null==localStorage.getItem("deviceId")&&localStorage.setItem("deviceId",m.A()),this.deviceMetaInfo={appVersion:"",deviceCountry:"India",deviceCity:"",deviceId:localStorage.getItem("deviceId"),deviceModel:"",platform:"WEB",deviceOSVersion:""};let k={"Accept-Language":"EN","Device-Meta-Info":JSON.stringify(this.deviceMetaInfo),GuestToken:localStorage.getItem("guestUserToken")};return this.http.post(this.urls.userLogin,I,{headers:k})}initateResetPassword(I){let k=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.initiateResetPassword,I,{headers:k})}sendOtp(I){let k=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.sendOtp,I,{headers:k})}verifyOtp(I){let k=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.verifyOtp,I,{headers:k})}changePassword(I){let k=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.changePassword,I,{headers:k})}getRefreshToken(I,k){const A={...this.unsecureHeaderData,...k};return this.http.post(this.urls.refreshToken,I,{headers:A})}logout(){let I=this.apiHeader.getSecureHeader();return this.http.get(this.urls.userLogout,{headers:I})}getTncData(){if("/registration/personaldetails"==this.router.url&&(this.isLoggedIn=!0),this.isLoggedIn){let I=this.apiHeader.getSecureHeader();return this.http.get(this.urls.tnc,{headers:I})}{let I=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.unsecTnc,{headers:I})}}resendOtp(I,k){const A={...this.unsecureHeaderData,...k};return this.http.post(this.urls.resendOtp,I,{headers:A})}getHelpResendOtp(I){let k=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.getHelpResendPassword,I,{headers:k})}createUserWA(I){let k=this.apiHeader.getUnSecureHeaderWithoutGuestToken();return this.http.post(this.urls.createUserWA,I,{headers:k})}resetPinWA(I){let k=this.apiHeader.getSecureHeader(),A=JSON.parse(k["Device-Meta-Info"]);return this.http.post(this.urls.resetPinWA,I,{headers:A})}verifyOtpWA(I){let A={Authorization:"Bearer "+JSON.parse(localStorage.getItem("access_token"))};return this.http.post(this.urls.verifyOtpWA,I,{headers:A})}verifyResetOtpWA(I){let k=this.apiHeader.getSecureHeader(),A=JSON.parse(k["Device-Meta-Info"]);return this.http.post(this.urls.verifyResetOtpWA,I,{headers:A})}static#e=this.\u0275fac=function(k){return new(k||z)(T.KVO(F.Qq),T.KVO(x.L),T.KVO(ce.T),T.KVO(ne.Ix))};static#t=this.\u0275prov=T.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},4091:(Jt,ke,E)=>{"use strict";E.d(ke,{I:()=>ce});var p=E(5312),m=E(4438),T=E(1626),F=E(1941),x=E(7802);let ce=(()=>{class ne{constructor(z,O,I){this.http=z,this.commonFunction=O,this.apiHeader=I,this.isLoggedIn=!1,this.server=p.c.APIEndpoint,this.authType="Bearer",this.urls={getAllCards:this.server+"api/unsec/cms/giftCard/v2/get",getAllUnsecGiftCards:this.server+"unsec/giftCard/getAllEGiftCards/v1",getAllDigitalGiftCards:this.server+"portal/giftCard/getAllDigitalGiftCards/v1",createPhysicalCard:this.server+"api/msrcard/v3/add/physical/card",initiateGiftCard:this.server+"api/user/msrcard/egift/v3/initiate",guestInitiateGiftCard:this.server+"api/unsec/user/msrcard/egift/v3/initiate",initiateDigitalCard:this.server+"api/user/msrcard/digital/v3/initiate",commitCard:this.server+"api/payment/msr/v3/commit",commitForGuestUser:this.server+"api/unsec/payment/msr/v3/commit",listMsrCard:this.server+"user/list/msrCards/v1",saveCardSettings:this.server+"api/user/msrcard/settings",removeCard:this.server+"api/user/msrcard/settings/managecard",deleteMSRCard:this.server+"api/user/msrcard/v3/remove",manualReload:this.server+"api/user/msrcard/reload/v3/initiate",transferBalance:this.server+"api/user/msrcard/balance/v1/transfer",pastTransactions:this.server+"api/user/get/pastTransactions/v1",getSecGiftCardDynamicLink:this.server+"api/user/msrcard/v1/dynamicLink",getUnsecGiftCardDynamicLink:this.server+"api/unsec/user/msrcard/v1/dynamicLink",getGifteeDetailsByKey:this.server+"api/user/msrcard/giftee/v1/details",reportCardStolen:this.server+"api/user/msrcard/lost/v2/report"},this.deviceMetaInfo={appVersion:"",deviceCountry:"India",deviceCity:"",deviceId:localStorage.getItem("deviceId"),deviceModel:"",platform:"WEB",deviceOSVersion:""},this.isLoggedIn=this.commonFunction.verifyLoggedInUser()}addPhysicalCard(z){let O=this.apiHeader.getSecureHeader();return this.http.post(this.urls.createPhysicalCard,z,{headers:O})}getAllDigitalGiftCards(){let z=this.apiHeader.getSecureHeader();return this.http.get(this.urls.getAllDigitalGiftCards,{headers:z})}initiateDigitalCard(z){let O=this.apiHeader.getSecureHeader();return this.http.post(this.urls.initiateDigitalCard,z,{headers:O})}commitCard(z){let O=this.apiHeader.getSecureHeader(),I=this.apiHeader.getUnSecureHeader(),k=this.commonFunction.verifyLoggedInUser();return this.http.post(k?this.urls.commitCard:this.urls.commitForGuestUser,z,{headers:k?O:I})}getAllCards(z){let O={"Accept-Language":"EN","Device-Meta-Info":JSON.stringify(this.deviceMetaInfo),cardType:z};return this.http.get(this.urls.getAllCards,{headers:O})}initiateGiftCard(z){let O=this.apiHeader.getSecureHeader(),I=this.apiHeader.getUnSecureHeader(),k=this.commonFunction.verifyLoggedInUser();return this.http.post(k?this.urls.initiateGiftCard:this.urls.guestInitiateGiftCard,z,{headers:k?O:I})}listMsrCards(){if(this.commonFunction.verifyLoggedInUser()){let O=this.apiHeader.getSecureHeader();return this.http.get(this.urls.listMsrCard,{headers:O})}}saveCardSettings(z){let O=this.apiHeader.getSecureHeader();return this.http.post(this.urls.saveCardSettings,z,{headers:O})}removeCard(z){let O=this.apiHeader.getSecureHeader();return this.http.post(this.urls.removeCard,z,{headers:O})}manualReload(z){let O=this.apiHeader.getSecureHeader();return this.http.post(this.urls.manualReload,z,{headers:O})}transferBalance(z){let O=this.apiHeader.getSecureHeader();return this.http.post(this.urls.transferBalance,z,{headers:O})}getPastTransactions(z){let O=this.apiHeader.getSecureHeader();return this.http.post(this.urls.pastTransactions,z,{headers:O})}getGiftCardDynamicLink(z){let O=this.apiHeader.getSecureHeader(),I=this.apiHeader.getUnSecureHeader(),k=this.commonFunction.verifyLoggedInUser();return this.http.get(k?this.urls.getSecGiftCardDynamicLink+"?orderId="+z:this.urls.getUnsecGiftCardDynamicLink+"?orderId="+z,{headers:k?O:I})}deleteMSRCard(z){let O=this.apiHeader.getSecureHeader();return this.http.post(this.urls.deleteMSRCard,z,{headers:O})}getGifteeDetails(z){if(this.commonFunction.verifyLoggedInUser()){let I=this.apiHeader.getSecureHeader();return I.gifteeKey=z,this.http.get(this.urls.getGifteeDetailsByKey,{headers:I})}}reportCardStolen(z){let O=this.apiHeader.getSecureHeader();return this.http.post(this.urls.reportCardStolen,z,{headers:O})}static#e=this.\u0275fac=function(O){return new(O||ne)(m.KVO(T.Qq),m.KVO(F.L),m.KVO(x.T))};static#t=this.\u0275prov=m.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})()},8635:(Jt,ke,E)=>{"use strict";E.d(ke,{x:()=>z});var p=E(6496),m=E(5312),T=E(4438),F=E(1626),x=E(7802),ce=E(1941),ne=E(4599),q=E(6);let z=(()=>{class O{constructor(k,A,H,Q,ee){this.http=k,this.apiHeader=A,this.commonFunction=H,this.storageService=Q,this.encryptDecryptService=ee,this.server=m.c.APIEndpoint,this.urls={secureCohortContent:this.server+"api/cms/cohort/content/v4/get",unsecureCohortContent:this.server+"api/unsec/cms/cohort/content/v2/get",dashboardSequence:this.server+"api/unsec/sequence/getSequenceList/v1",blogsList:this.server+"api/unsec/cms/blogs/v1/list",saveBlog:this.server+"api/cms/blogs/v1/action",bannerdetail:this.server+"api/unsec/cms/promotions/v2/get?promotionId=",productFeedabckRatingTags:this.server+"api/unsec/cms/productFeedback/v1/get",getTierBenefits:this.server+"api/cms/tierBenefits/v1/view",footerContent:this.server+"api/unsec/cms/article/v1/get",legalSectionContent:this.server+"api/unsec/cms/legalsection/v1/get",eventsUnsecList:this.server+"api/unsec/cms/events/v1/list",eventsSecList:this.server+"api/cms/events/v1/list",promotionProductList:this.server+"api/menu/subscription/products/v1/list",getMerchandiseStores:this.server+"api/unsec/merchandise/store/v1/get",getOffers:this.server+"api/cms/cohort/content/v1/coupons",getUnSecOffers:this.server+"api/unsec/cms/cohort/content/v1/coupons",getSecBanners:this.server+"api/cms/cohortcontent/v1/get/banners",getUnsecBanenrs:this.server+"api/unsec/cms/cohortcontent/v1/get/banners"}}getCmsCohortContent(){if(null!=this.storageService.getAccessToken()&&null!=localStorage.getItem("user_profile")){let k=JSON.parse(localStorage.getItem("user_profile")),A=this.apiHeader.getSecureHeader(),H=""==k.tier||null==k.tier?"welcome":this.encryptDecryptService.decryptData(k.tier).toUpperCase(),Q=null==k.currentStarBalance?0:this.encryptDecryptService.decryptData(k.currentStarBalance);return this.http.get(this.urls.secureCohortContent+"?tier="+H+"&stars="+Q,{headers:A})}{let k=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.unsecureCohortContent,{headers:k})}}getCmsCohortContentLocal(){return this.cohortData$||(this.cohortData$=this.getCmsCohortContent().pipe((0,p.t)(1))),this.cohortData$}clearCMS(){this.cohortData$=null}getDashboardSequence(){if(this.commonFunction.verifyLoggedInUser()){let A=this.apiHeader.getSecureHeader();return this.http.get(this.urls.dashboardSequence,{headers:A})}{let A=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.dashboardSequence,{headers:A})}}getHomeSeqCache(){return this.homeSequenceCache$||(this.homeSequenceCache$=this.getDashboardSequence().pipe((0,p.t)(1))),this.homeSequenceCache$}getBlogs(){if(this.commonFunction.verifyLoggedInUser()){let A=this.apiHeader.getSecureHeader();return this.http.get(this.urls.blogsList,{headers:A})}{let A=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.blogsList,{headers:A})}}getBannerDetail(k){let A=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.bannerdetail+k,{headers:A})}getblogCache(){return this.blogCache$||(this.blogCache$=this.getBlogs().pipe((0,p.t)(1))),this.blogCache$}clearblogCache(){this.blogCache$=null}saveUserBLog(k){let A=this.apiHeader.getSecureHeader();return this.http.post(this.urls.saveBlog,k,{headers:A})}getFeedbackTags(){let k=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.productFeedabckRatingTags,{headers:k})}getTierBenefitsData(){let k=this.apiHeader.getSecureHeader(),A=JSON.parse(localStorage.getItem("user_profile")),H=""==A.tier||null==A.tier||"Welcome"==A.tier?"WELCOME":this.encryptDecryptService.decryptData(A.tier).toUpperCase(),Q=null==A.currentStarBalance||"0"==A.currentStarBalance?0:this.encryptDecryptService.decryptData(A.currentStarBalance);return this.http.get(this.urls.getTierBenefits+"?tier="+H+"&stars="+Q,{headers:k})}getFooterContent(){let k=this.apiHeader.getUnSecureHeaderWithoutGuestToken();return this.http.get(this.urls.footerContent,{headers:k})}getHelpCenterLegalContent(){let k=this.apiHeader.getUnSecureHeaderWithoutGuestToken();return this.http.get(this.urls.legalSectionContent,{headers:k})}getUnsecEventsList(){let k=this.apiHeader.getUnSecureHeaderWithoutGuestToken();return this.http.get(this.urls.eventsUnsecList,{headers:k})}getSecEventsList(){let k=this.apiHeader.getSecureHeader();return this.http.get(this.urls.eventsSecList,{headers:k})}getEventList(){if(this.commonFunction.verifyLoggedInUser()){let A=this.apiHeader.getSecureHeader();return this.http.get(this.urls.eventsSecList,{headers:A}).pipe((0,p.t)())}{let A=this.apiHeader.getUnSecureHeaderWithoutGuestToken();return this.http.get(this.urls.eventsUnsecList,{headers:A}).pipe((0,p.t)())}}getPromotionProducts(k){let A=this.apiHeader.getSecureHeader();return this.http.post(this.urls.promotionProductList,k,{headers:A})}getMerchandiseStores(){let k=this.apiHeader.getSecureHeader();return this.http.get(this.urls.getMerchandiseStores,{headers:k})}getOffers(){if(this.commonFunction.verifyLoggedInUser()){let A=JSON.parse(localStorage.getItem("user_profile")),H=this.apiHeader.getSecureHeader(),Q=""==A.tier||null==A.tier||"Welcome"==A.tier?"WELCOME":this.encryptDecryptService.decryptData(A.tier).toUpperCase(),ee=null==A.currentStarBalance||"0"==A.currentStarBalance?0:this.encryptDecryptService.decryptData(A.currentStarBalance);return this.http.get(this.urls.getOffers+"?tier="+Q+"&stars="+ee,{headers:H})}{let A=this.apiHeader.getUnSecureHeaderWithoutGuestToken();return this.http.get(this.urls.getUnSecOffers,{headers:A}).pipe((0,p.t)())}}getBanners(){if(this.commonFunction.verifyLoggedInUser()){let A=this.apiHeader.getSecureHeader();return this.http.get(this.urls.getSecBanners,{headers:A}).pipe((0,p.t)())}{let A=this.apiHeader.getUnSecureHeaderWithoutGuestToken();return this.http.get(this.urls.getUnsecBanenrs,{headers:A}).pipe((0,p.t)())}}static#e=this.\u0275fac=function(A){return new(A||O)(T.KVO(F.Qq),T.KVO(x.T),T.KVO(ce.L),T.KVO(ne.n),T.KVO(q.I))};static#t=this.\u0275prov=T.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},1569:(Jt,ke,E)=>{"use strict";E.d(ke,{m:()=>A});var p=E(467),m=E(4017),F=E(4412),x=E(1413),ce=E(4438),ne=E(9297),q=E(1188),z=E(1612),O=E(4599),I=E(79),k=E(1941);let A=(()=>{class H{constructor(ee,be,me,Ne,Be,Ve){this.menuService=ee,this.router=be,this.GeoLocationService=me,this.storageService=Ne,this.profileService=Be,this.commonFunctions=Ve,this.sessionValueSubject=new F.t(null),this.deliveryNoMenu=new x.B,this.isStateSet=!1,this.addresses=[],this.loadDashboard=new F.t(null),this.selectedAddress=new F.t(!0),this.subCategoriesArray=[],this.loadInitialVal()}storeAndAddressType(ee){sessionStorage.setItem("userSelected",JSON.stringify(ee))}getstoreAndAddressType(){return JSON.parse(sessionStorage.getItem("userSelected"))}setDeliveryAddress(ee){sessionStorage.setItem("currentLocationData",JSON.stringify(ee)),this.setSessionValue("one")}getDeliveryAddress(){return JSON.parse(sessionStorage.getItem("currentLocationData"))}loadInitialVal(){const ee=sessionStorage.getItem("mySessionValue");this.sessionValueSubject.next(ee)}getSessionValueObservable(){return this.sessionValueSubject.asObservable()}setSessionValue(ee){sessionStorage.setItem("mySessionValue",ee),this.sessionValueSubject.next(ee)}getMenu(){let ee;if(JSON.parse(localStorage.getItem("gpsInfo"))?.isDummyMenu)ee=localStorage.getItem("menuListItem"),ee=JSON.parse(m.decompress(ee));else{let me=JSON.parse(sessionStorage.getItem("channelState"));if("Dine-In"===me||"Takeaway"===me){let Ne=localStorage.getItem("menuListItemPickup");ee=Ne?JSON.parse(m.decompress(Ne)):[]}else{let Ne=localStorage.getItem("menuListItem");ee=Ne?JSON.parse(m.decompress(Ne)):[]}}return ee}getStoreId(){let ee=JSON.parse(sessionStorage.getItem("channelState")),be=sessionStorage.getItem("pickupStoreId"),me=sessionStorage.getItem("deliveryStoreId")?sessionStorage.getItem("deliveryStoreId"):sessionStorage.getItem("storeId");return"Dine-In"===ee||"Takeaway"===ee?(sessionStorage.setItem("storeId",be),be):(sessionStorage.setItem("storeId",me),me)}checkCartChannel(){let ee=JSON.parse(sessionStorage.getItem("channelState"));const be="Dine-In"===ee||"Takeaway"===ee?"mop-pickup":"mop-delivery",me=localStorage.getItem("snackbarData");if(me){const{response:Ne}=JSON.parse(me);if(Ne&&Ne.items.length)return be===Ne.channel}return!0}setChannelState(ee){sessionStorage.setItem("channelState",JSON.stringify(ee))}getChannelState(){return JSON.parse(sessionStorage.getItem("channelState"))}sendNoMenuInfo(ee){this.deliveryNoMenu.next(ee)}getNoMenuInfo(){return this.deliveryNoMenu.asObservable()}findChannelType(ee,be){let me=ee.filter(Ve=>Ve.channelDetails["mop-delivery"].active),Ne=ee.filter(Ve=>Ve.channelDetails["mop-pickup"].active);sessionStorage.setItem("channelStore",JSON.stringify({deliveryStore:me.length?me[0]:"",pickupStore:Ne.length?Ne[0]:""})),me.length&&Ne.length?(this.getAddress(be.lat,be.lng),this.channel="Delivery",this.setChannelState(this.channel),this.delivery=!0,this.deliveryMenu(me[0].shopId),this.pickupMenu(Ne[0].shopId)):me.length&&!Ne.length?(this.getAddress(be.lat,be.lng),this.channel="Delivery",this.setChannelState(this.channel),this.delivery=!0,this.deliveryMenu(me[0].shopId)):!me.length&&Ne.length?(this.channel="Pickup",this.setChannelState("Dine-In"),this.delivery=!1,this.pickupMenu(Ne[0].shopId),this.getAddress(be.lat,be.lng)):(this.delivery=!1,this.setChannelState("Takeaway"),this.getDummyMenuList(),this.getAddress(be.lat,be.lng),sessionStorage.setItem("channelStore",JSON.stringify({deliveryStore:"noStoreFound",pickupStore:"noStoreFound"})))}deliveryMenu(ee){this.deliveryStoreId=ee;let be=sessionStorage.getItem("deliveryStoreId");sessionStorage.setItem("deliveryStoreId",ee),sessionStorage.setItem("storeId",ee),this.storageService.setStoreFound(!0),ee!==be&&this.menuService.getMenuList({storeId:ee,channel:"mop-delivery"}).subscribe(Ne=>{if(Ne.response&&0!==Ne.response.length){let Be=Ne.response;localStorage.setItem("allMenuList",m.compress(JSON.stringify(Be))),Be.sort((Ve,Le)=>parseFloat(Ve.displayOrder)-parseFloat(Le.displayOrder)),Be.forEach(Ve=>{Ve.subCategories.sort((Le,J)=>parseFloat(Le.displayOrder)-parseFloat(J.displayOrder)),Ve.images&&(Ve.images.small[0].url=this.setCategoryImage(Ve.images.small[0].url))}),Be=Be.filter(Ve=>!Ve.hideForCustomer),Be.forEach(Ve=>{Ve.subCategories.forEach(Le=>{Le.items=Le.items.filter(J=>!J.hideForCustomer),Le.items.forEach(J=>{J.images&&J.images.small[0]&&J.images.small[0].url&&(J.images.small[0].url=this.setImageFormat(J.images.small[0].url))})})}),localStorage.setItem("menuListItem",m.compress(JSON.stringify(Be))),this.deliveryMenuList=Be,this.setState()}else this.deliveryMenuList=[],localStorage.setItem("menuListItem",this.deliveryMenuList),this.setState()},Ne=>{this.deliveryMenuList=[],localStorage.setItem("menuListItem",this.deliveryMenuList),this.setChannelState("Takeaway"),this.setState()})}pickupMenu(ee){this.pickuptoreId=ee;let be=sessionStorage.getItem("pickupStoreId");sessionStorage.setItem("pickupStoreId",ee),sessionStorage.setItem("storeId",ee),this.storageService.setStoreFound(!0),ee!==be&&this.menuService.getMenuList({storeId:ee,channel:"mop-pickup"}).subscribe(Ne=>{if(Ne.response&&0!==Ne.response.length){let Be=Ne.response;localStorage.setItem("allMenuList",m.compress(JSON.stringify(Be))),Be.sort((Ve,Le)=>parseFloat(Ve.displayOrder)-parseFloat(Le.displayOrder)),Be.forEach(Ve=>{Ve.subCategories.sort((Le,J)=>parseFloat(Le.displayOrder)-parseFloat(J.displayOrder)),Ve.images&&(Ve.images.small[0].url=this.setCategoryImage(Ve.images.small[0].url))}),Be=Be.filter(Ve=>!Ve.hideForCustomer),Be.forEach(Ve=>{Ve.subCategories.forEach(Le=>{Le.items=Le.items.filter(J=>!J.hideForCustomer),Le.items.forEach(J=>{J.images&&J.images.small[0]&&J.images.small[0].url&&(J.images.small[0].url=this.setImageFormat(J.images.small[0].url))})})}),this.pickupMenuList=Be,localStorage.setItem("menuListItemPickup",m.compress(JSON.stringify(Be))),!1===this.delivery&&this.setState()}else this.pickupMenuList=[],localStorage.setItem("menuListItemPickup",this.pickupMenuList),this.sendDashboardInfo(!1)})}serviceCall(ee){var be=this;return(0,p.A)(function*(){try{let me={store_code:ee.storeCode,drop_latitude:ee.lat,drop_longitude:ee.lng,order_value:0};yield be.menuService.serviceCheck(me).subscribe(Ne=>{})}catch(me){alert(me)}})()}setState(){let ee=this.getMenu(),be=JSON.parse(sessionStorage.getItem("channelStore"));this.storageService.setState({data:ee||[],storeDetails:be?be.pickupStore:"",module:"breadcrumb"}),this.sendDashboardInfo(!0),this.isStateSet=!0}noStoreFoundState(){let ee=this.getMenu();this.storageService.setState({data:ee||[],storeDetails:"noStore",module:"breadcrumb"})}updateStateOnChannel(){let ee=this.getMenu(),be=JSON.parse(sessionStorage.getItem("channelStore"));this.storageService.setState({data:ee||[],storeDetails:be&&be.pickupStore?be.pickupStore:"",module:"breadcrumb"}),this.sendDashboardInfo(!0),this.sendNoMenuInfo(!(!ee||ee.length))}getAddress(ee,be){""===ee&&""===be?this.setDeliveryAddress({delivery:!1,latitude:"",longitude:"",address:"",addressOid:""}):(this.addressLat=ee,this.addressLong=be,this.GeoLocationService.getAddress(+ee,+be).then(me=>{let Ne=me[0].address_components.find(Le=>Le.types.includes("locality"));Ne&&Ne.long_name&&(this.city=Ne.long_name);let Be=me[0].address_components.find(Le=>Le.types.includes("country"));Be&&Be.long_name&&(this.country=Be.long_name),this.address=me[0].formatted_address;const Ve={delivery:!!this.delivery,latitude:ee,longitude:be,address:this.delivery?this.address:"",addressOid:""};this.getSavedAddress(),this.setDeliveryAddress(Ve)}).catch(me=>{window.alert(me.message)}))}getSavedAddress(){this.commonFunctions.verifyLoggedInUser()&&this.profileService.getDeliveryAddressLocal().subscribe(be=>{this.addresses=be.response.addresses,this.addresses&&this.addresses.length&&(this.addresses.forEach(me=>{let Ne=this.calculateDistance(this.addressLat,this.addressLong,me.latitude,me.longitude);Ne<1e3&&(this.distance=Ne,this.matchedAddress=me)}),this.distance<1e3?(this.setDeliveryAddress({delivery:!0,latitude:this.addressLat,longitude:this.addressLong,address:`${this.matchedAddress.addressType} ${this.matchedAddress.houseNo} ${this.matchedAddress.address} ${this.matchedAddress.cityName}`||"",addressOid:this.matchedAddress.deliveryAddressOid}),sessionStorage.setItem("selectedDeliveryAddress",JSON.stringify(this.matchedAddress))):sessionStorage.removeItem("selectedDeliveryAddress"))},be=>{})}calculateDistance(ee,be,me,Ne){try{const Be=new google.maps.LatLng(ee,be),Ve=new google.maps.LatLng(me,Ne),Le=google.maps.geometry.spherical.computeDistanceBetween(Be,Ve);return 1e3*Number((Le/1e3).toFixed(2))}catch(Be){console.error("Error calculating distance:",Be)}}setImageFormat(ee){if(ee&&(ee.endsWith("jpg")||ee.endsWith("png")||ee.endsWith("svg")))return ee.replace(/Small/g,"Small/webP").replace(/jpg|png|svg/g,"webp")}setCategoryImage(ee){if(ee&&(ee.endsWith("jpg")||ee.endsWith("png")||ee.endsWith("svg")))return ee.replace(/Small/g,"Small/webP").replace(/jpg|png|svg/g,"webp")}sendDashboardInfo(ee){this.loadDashboard.next(ee)}getDashboardInfo(){return this.loadDashboard.asObservable()}sendAddressInfo(ee){this.selectedAddress.next(ee)}getAddressInfo(){return this.selectedAddress.asObservable()}dynamicURL(ee,be){let me,Ne,Be=JSON.parse(sessionStorage.getItem("channelState"));me="Dine-In"===Be||"Takeaway"===Be?JSON.parse(m.decompress(localStorage.getItem("menuListItemPickup"))):JSON.parse(m.decompress(localStorage.getItem("menuListItem"))),me?(this.subCategoriesArray=[],me.forEach(Ve=>{Ve.subCategories.forEach(Le=>{Le.items.forEach(J=>{J.name.toLowerCase()===ee.name.toLowerCase()&&(Ne=J,this.subCategoriesArray.push(Ve))})})})):this.router.navigate(["/ordering"]),Ne?this.navigateToProductDescription(Ne,be):this.filterFromDummyMenu(ee,be)}setDefualtChannel(ee){let be=this.getChannelState();this.setChannelState(ee?"mop-pickup"===ee.channel?"PICKUP"===ee.deliveryType&&"Takeaway"===be?"Takeaway":"DINE_IN"===ee.deliveryType&&"Dine-In"===be?"Dine-In":be:"Delivery":"Takeaway")}getDummyMenuList(){this.storageService.clearSetStoreFound(),this.storageService.setStoreFound(!1),this.menuService.getdummyMenuListcache().subscribe(ee=>{ee.response.sort((me,Ne)=>parseFloat(me.displayOrder)-parseFloat(Ne.displayOrder)),ee.response.forEach(me=>{me.subCategories.sort((Ne,Be)=>parseFloat(Ne.displayOrder)-parseFloat(Be.displayOrder))}),localStorage.setItem("menuListItem",m.compress(JSON.stringify(ee.response))),sessionStorage.setItem("storeMenu",m.compress(JSON.stringify(ee.response))),sessionStorage.removeItem("menuFound"),this.noStoreFoundState();const be={gpsStatus:localStorage.getItem("gpsEvent"),nearByStoreFound:!1,currentLat:"",currentLong:"",isDummyMenu:!0,selectedLat:"",selectedLong:"",nearestStore:""};localStorage.setItem("gpsInfo",JSON.stringify(be)),this.setState()},ee=>{})}filterFromDummyMenu(ee,be){let me;ee.name.includes("\xe8")&&(ee.name=ee.name.replace(/\xe8/g,"e")),this.menuService.getdummyMenuListcache().subscribe(Ne=>{Ne.response.forEach(Be=>{Be.subCategories.forEach(Ve=>{Ve.items.forEach(Le=>{Le.name.toLowerCase()===ee.name.toLowerCase()&&(me=Le,this.subCategoriesArray.push(Be))})})}),me?this.navigateToProductDescription(me,be):this.router.navigate(["/ordering"])})}navigateToProductDescription(ee,be){let me=this.subCategoriesArray.length-1,Ne=ee.name;Ne.includes("&")&&(Ne=Ne.replace(/&/g,"and")),Ne.includes("\xe8")&&(Ne=Ne.replace(/\xe8/g,"e")),Ne.includes("\xc9")&&(Ne=Ne.replace(/\xc9/g,"E")),Ne=Ne.replace(/[^A-Z0-9]/gi,"-"),Ne=Ne.replace(/-{2,}/g,"-");let Be=this.subCategoriesArray[me].name.toLowerCase();if(Be=Be.replace(/[^A-Z0-9]/gi,"-"),Be=Be.replace(/-{2,}/g,"-"),Ne[Ne.length-1].includes("-")){Ne=Ne.slice(0,-1);let Ve="ordering/"+Be+"/"+Ne.toLowerCase();this.router.navigate([Ve],be)}else{let Ve="ordering/"+Be+"/"+Ne.toLowerCase();this.router.navigate([Ve],be)}}static#e=this.\u0275fac=function(be){return new(be||H)(ce.KVO(ne.$),ce.KVO(q.Ix),ce.KVO(z.O),ce.KVO(O.n),ce.KVO(I.p),ce.KVO(k.L))};static#t=this.\u0275prov=ce.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})()},1612:(Jt,ke,E)=>{"use strict";E.d(ke,{O:()=>m});var p=E(4438);let m=(()=>{class T{constructor(){}getLocationCordinates(){return new Promise((x,ce)=>navigator.geolocation.getCurrentPosition(x,ce))}getAddress(x,ce){return this.geoCoder=new google.maps.Geocoder,new Promise((ne,q)=>{this.geoCoder.geocode({location:{lat:x,lng:ce}},(z,O)=>{"OK"===O?z[0]?ne(z):q({message:"No results found"}):(q({message:"Geocoder failed due to: "+O}),window.alert("Geocoder failed due to: "+O))})})}calculateDistance(x,ce,ne,q){const z=new google.maps.LatLng(x,ce),O=new google.maps.LatLng(ne,q),I=google.maps.geometry.spherical.computeDistanceBetween(z,O);return Number((I/1e3).toFixed(2))}static#e=this.\u0275fac=function(ce){return new(ce||T)};static#t=this.\u0275prov=p.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},8484:(Jt,ke,E)=>{"use strict";E.d(ke,{H:()=>q});var p=E(4412),m=E(5312),T=E(4438),F=E(1626),x=E(1941),ce=E(4599),ne=E(7802);let q=(()=>{class z{constructor(I,k,A,H){this.http=I,this.commonFunction=k,this.storageService=A,this.apiHeader=H,this.server=m.c.APIEndpoint,this.guestToken=localStorage.getItem("guestUserToken"),this.isLoggedIn=!1,this.sessionValueSubject=new p.t(null),this.urls={unSecSearchAutoSuggestion:this.server+"api/unsec/es/v1/suggestion",secSearchAutoSuggestion:this.server+"api/es/v1/suggestion",secRecentSearch:this.server+"api/user/global/search/key/v1/list",secMenuSearch:this.server+"api/es/v1/search",unSecMenuSearch:this.server+"api/unsec/es/v1/search",unSecTopMenuCat:this.server+"api/unsec/menu/top/category/v1/list",secTopMenuCat:this.server+"api/menu/top/category/v1/list"},this.deviceMetaInfo={appVersion:"",deviceCountry:"India",deviceCity:"",deviceId:localStorage.getItem("deviceId"),deviceModel:"",platform:"WEB",deviceOSVersion:""},this.unsecureHeaderData={"Accept-Language":"EN","Device-Meta-Info":JSON.stringify(this.deviceMetaInfo),GuestToken:this.guestToken},this.secHeaderData={"Accept-Language":"EN",Authorization:"Bearer "+this.storageService.getAccessToken(),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)},this.isLoggedIn=this.commonFunction.verifyLoggedInUser(),this.loadInitialVal()}getAutoSuggestion(I){let k=this.generateRequestParam(I);return this.commonFunction.verifyLoggedInUser()?this.getSecAutoSuggestion(k):this.getUnSecAutoSuggestion(k)}generateRequestParam(I){let k="?";return I.forEach(A=>{k=k+A.name+"="+A.value+"&"}),k}getSecAutoSuggestion(I){let k=this.apiHeader.getSecureHeader();return this.http.get(this.urls.secSearchAutoSuggestion+I,{headers:k})}getUnSecAutoSuggestion(I){let k=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.unSecSearchAutoSuggestion+I,{headers:k})}getRecentSearchData(I){let k=this.apiHeader.getSecureHeader();return k.searchType=I,this.http.post(this.urls.secRecentSearch,null,{headers:k})}getSearchMenu(I){let k=this.generateRequestParam(I);return this.commonFunction.verifyLoggedInUser()?this.getSecMenu(k):this.getUnSecMenu(k)}getSecMenu(I){let k=this.apiHeader.getSecureHeader();return this.http.get(this.urls.secMenuSearch+I,{headers:k})}getUnSecMenu(I){let k=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.unSecMenuSearch+I,{headers:k})}getTopCatList(I){let k=this.generateRequestParam(I);return this.commonFunction.verifyLoggedInUser()?this.getSecTopMenuCat(k):this.getUnSecTopMenuCat(k)}getSecTopMenuCat(I){let k=this.apiHeader.getSecureHeader();return this.http.get(this.urls.secTopMenuCat+I,{headers:k})}getUnSecTopMenuCat(I){let k=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.unSecTopMenuCat+I,{headers:k})}loadInitialVal(){const I=sessionStorage.getItem("globalSearchkey");this.sessionValueSubject.next(null===I?"NoSearch":I)}getSessionValueObservable(){return this.sessionValueSubject.asObservable()}setSessionValue(I){sessionStorage.setItem("globalSearchkey",I),this.sessionValueSubject.next(I)}static#e=this.\u0275fac=function(k){return new(k||z)(T.KVO(F.Qq),T.KVO(x.L),T.KVO(ce.n),T.KVO(ne.T))};static#t=this.\u0275prov=T.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},9297:(Jt,ke,E)=>{"use strict";E.d(ke,{$:()=>z});var p=E(4412),m=E(1413),T=E(6496),F=E(5312),x=E(4438),ce=E(1626),ne=E(1941),q=E(7802);let z=(()=>{class O{constructor(k,A,H){this.http=k,this.commonFunction=A,this.apiHeader=H,this.server=F.c.APIEndpoint,this.urls={getDummyMenuList:this.server+"app/unsec/dummy/menu/get/v1",getSecMenuListItem:this.server+"api/menu/v2/get?",getUnsecMenuListItem:this.server+"api/unsec/menu/v2/get?",favMenuList:this.server+"app/menu/favoriteProductsList/v1",saveFavouriteMenu:this.server+"app/menu/add/favoriteProducts/v1",reorderItem:this.server+"api/order/v1/reorder",reorderFavMenu:this.server+"api/menu/favourite/reorder/v4/list?count=10",unSecTopMenuCat:this.server+"api/unsec/menu/top/category/v1/list?count=3",secTopMenuCat:this.server+"api/menu/top/category/v1/list?count=3",serviceCheckSecure:this.server+"api/store/v1/serviceability/check",serviceCheckUnSecure:this.server+"api/unsec/store/v1/serviceability/check"},this.sendFilterData=new p.t(""),this.closeSheetInfo=new m.B,this.exploreMenu=new m.B}getDummyMenu(){if(this.commonFunction.verifyLoggedInUser()){let A=this.apiHeader.getSecureHeader();return this.http.get(this.urls.getDummyMenuList,{headers:A})}{let A=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.getDummyMenuList,{headers:A})}}getMenuList(k){let A=this.commonFunction.verifyLoggedInUser(),H=`storeId=${k.storeId}&channel=${k.channel}`;if(A){let Q=this.apiHeader.getSecureHeader();return this.http.get(this.urls.getSecMenuListItem+H,{headers:Q})}{let Q=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.getUnsecMenuListItem+H,{headers:Q})}}serviceCheck(k){if(this.commonFunction.verifyLoggedInUser()){let H=this.apiHeader.getSecureHeader();return this.http.post(this.urls.serviceCheckSecure,k,{headers:H})}{let H=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.serviceCheckUnSecure,k,{headers:H})}}saveFavourite(k){if(this.commonFunction.verifyLoggedInUser()){let H=this.apiHeader.getSecureHeader();return this.http.post(this.urls.saveFavouriteMenu,k,{headers:H})}}reorder(k){let A=this.apiHeader.getSecureHeader();return this.http.post(this.urls.reorderItem,k,{headers:A})}getFavMenuList(){if(this.commonFunction.verifyLoggedInUser()){let A=this.apiHeader.getSecureHeader();return this.http.get(this.urls.favMenuList,{headers:A})}}getFavMenuItemCache(){if(this.commonFunction.verifyLoggedInUser())return this.favItemCache$||(this.favItemCache$=this.getFavMenuList().pipe((0,T.t)(1))),this.favItemCache$}clearFavItemCache(){this.favItemCache$=null}reorderFavMenuList(){if(this.commonFunction.verifyLoggedInUser()){let A=this.apiHeader.getSecureHeader();return this.http.get(this.urls.reorderFavMenu,{headers:A})}}reorderMenuCache(){if(this.commonFunction.verifyLoggedInUser())return this.secureReorderCache$||(this.secureReorderCache$=this.reorderFavMenuList().pipe((0,T.t)(1))),this.secureReorderCache$}clearReorderMenuCache(){this.secureReorderCache$=null}getdummyMenuListcache(){return this.dummyMenuList$||(this.dummyMenuList$=this.getDummyMenu().pipe((0,T.t)(1))),this.dummyMenuList$}getMenuCache(k){return this.secureMenuCache$||(this.secureMenuCache$=this.getMenuList(k).pipe((0,T.t)(1))),this.secureMenuCache$}clearMenuList(){this.secureMenuCache$=null}clearDummyMenuListcache(){this.dummyMenuList$=null}topCategoryMenu(){if(this.commonFunction.verifyLoggedInUser()){let A=this.apiHeader.getSecureHeader();return this.http.get(this.urls.secTopMenuCat,{headers:A})}{let A=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.unSecTopMenuCat,{headers:A})}}topCategoryMenuLocal(){return this.topCategoryMenu$||(this.topCategoryMenu$=this.topCategoryMenu().pipe((0,T.t)(1))),this.topCategoryMenu$}sendFilterTags(k){this.sendFilterData.next(k)}getFilterTags(){return this.sendFilterData.asObservable()}sendCloseSheetInfo(k){this.closeSheetInfo.next(k)}getcloseSheetInfo(){return this.closeSheetInfo.asObservable()}sendExploreMenu(k){this.exploreMenu.next(k)}getExploreMenu(){return this.exploreMenu.asObservable()}static#e=this.\u0275fac=function(A){return new(A||O)(x.KVO(ce.Qq),x.KVO(ne.L),x.KVO(q.T))};static#t=this.\u0275prov=x.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},7835:(Jt,ke,E)=>{"use strict";E.d(ke,{B:()=>ne});var p=E(5312),m=E(4438),T=E(1626),F=E(1941),x=E(4599),ce=E(7802);let ne=(()=>{class q{constructor(O,I,k,A){this.http=O,this.commonFunction=I,this.storageService=k,this.apiHeader=A,this.isLoggedIn=!1,this.server=p.c.APIEndpoint,this.authType="Bearer",this.urls={secureRecentOrders:this.server+"api/order/v1/recent/orders",unsecureRecentOrders:this.server+"api/unsec/order/v1/recent",secureMailOrder:this.server+"api/order/notification/v1/send",unsecureMailOrder:this.server+"api/unsec/order/notification/v1/send",orderStatusSecure:this.server+"api/order/transaction/v1/status/get?orderId=",orderStatusUnSecure:this.server+"api/unsec/order/transaction/v1/status/get?orderId=",gcOrderStatusUnSecure:this.server+"api/order/unsec/msr/transaction/v1/status/get?orderId=",gcOrderStatusSecure:this.server+"api/order/sec/msr/transaction/v1/status/get?orderId="},this.isLoggedIn=this.commonFunction.verifyLoggedInUser()}getRecentOdersList(){if(this.commonFunction.verifyLoggedInUser()){let I=this.apiHeader.getSecureHeader();return this.http.get(this.urls.secureRecentOrders,{headers:I})}{let I=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.unsecureRecentOrders,{headers:I})}}sendMailOrderDetails(O){if(this.commonFunction.verifyLoggedInUser()){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.secureMailOrder,O,{headers:k})}{let k=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.unsecureMailOrder,O,{headers:k})}}getOrderStatus(O){if(this.commonFunction.verifyLoggedInUser()){let k=this.apiHeader.getSecureHeader();return this.http.get(this.urls.orderStatusSecure+O,{headers:k})}{let k=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.orderStatusUnSecure+O,{headers:k})}}gcOrderStatus(O){if(this.commonFunction.verifyLoggedInUser()){let k=this.apiHeader.getSecureHeader();return this.http.get(this.urls.gcOrderStatusSecure+O,{headers:k})}{let k=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.gcOrderStatusUnSecure+O,{headers:k})}}static#e=this.\u0275fac=function(I){return new(I||q)(m.KVO(T.Qq),m.KVO(F.L),m.KVO(x.n),m.KVO(ce.T))};static#t=this.\u0275prov=m.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})()},167:(Jt,ke,E)=>{"use strict";E.d(ke,{W:()=>ne});var p=E(5312),m=E(4438),T=E(1626),F=E(1941),x=E(7802),ce=E(4599);let ne=(()=>{class q{constructor(O,I,k,A){this.http=O,this.commonFunction=I,this.apiHeader=k,this.storageService=A,this.isLoggedIn=!1,this.server=p.c.APIEndpoint,this.urls={initiateTxn:this.server+"api/order/transaction/v5/initiate",unsecInitiateTxn:this.server+"api/unsec/order/v5/initiate",createSession:this.server+"api/payment/order/v3/create",unsecCreateSession:this.server+"api/unsec/payment/order/v3/create",commitStatus:this.server+"api/order/v3/commit",unsecCommitStatus:this.server+"api/unsec/order/v3/commit",viewOrderDetail:this.server+"api/order/transaction/v2/view",unsecViewOrderDetail:this.server+"api/unsec/order/v2/view",getStoredCardsList:this.server+"api/payment/cards/v1/list",deleteCard:this.server+"api/payment/card/v1/delete"},this.isLoggedIn=this.commonFunction.verifyLoggedInUser(),this.secHeaderData={Authorization:"Bearer "+this.storageService.getAccessToken(),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)},this.unsecHeaderData={"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo),GuestToken:localStorage.getItem("guestUserToken")},this.appversion="https://tsb-sit-api.reciproci.com/"===this.server||"https://tsb-mbaas-uat.starbucksindia.net/"===this.server?"0.0.77":"5.0.4",this.deviceMetaInfo={appVersion:this.appversion,deviceCountry:"India",deviceCity:"",deviceId:localStorage.getItem("deviceId"),deviceModel:"",platform:"WEB",deviceOSVersion:""}}intiateTxn(O){if(this.commonFunction.verifyLoggedInUser()){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.initiateTxn,O,{headers:k})}{let k=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.unsecInitiateTxn,O,{headers:k})}}createSession(O){if(this.commonFunction.verifyLoggedInUser()){let k={Authorization:"Bearer "+this.storageService.getAccessToken(),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)};return this.http.post(this.urls.createSession,O,{headers:k})}{let k=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.unsecCreateSession,O,{headers:k})}}commitStatus(O){if(this.commonFunction.verifyLoggedInUser()){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.commitStatus,O,{headers:k})}{let k=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.unsecCommitStatus,O,{headers:k})}}viewOrderDetails(O){if(this.commonFunction.verifyLoggedInUser()){let k=this.apiHeader.getSecureHeader();return this.http.get(this.urls.viewOrderDetail+"?orderId="+O,{headers:k})}{let k=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.unsecViewOrderDetail+"?orderId="+O,{headers:k})}}getStoredCards(){let O=JSON.parse(localStorage.getItem("user_profile")),I={Authorization:"Bearer "+this.storageService.getAccessToken(),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)};return this.http.get(this.urls.getStoredCardsList+"?customerId="+O.userId,{headers:I})}deleteCard(O){let I=this.apiHeader.getSecureHeader();return this.http.post(this.urls.deleteCard,O,{headers:I})}static#e=this.\u0275fac=function(I){return new(I||q)(m.KVO(T.Qq),m.KVO(F.L),m.KVO(x.T),m.KVO(ce.n))};static#t=this.\u0275prov=m.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})()},79:(Jt,ke,E)=>{"use strict";E.d(ke,{p:()=>q});var p=E(5312),m=E(6496),T=E(4438),F=E(1626),x=E(1941),ce=E(7802),ne=E(4599);let q=(()=>{class z{constructor(I,k,A,H){this.http=I,this.commonFunction=k,this.apiHeader=A,this.storageService=H,this.isLoggedIn=!1,this.server=p.c.APIEndpoint,this.authType="Bearer",this.urls={getProfileImages:this.server+"portal/profileAvatars/getAllProfileAvatars/v1",viewProfile:this.server+"api/user/profile/v3/view",updateProfile:this.server+"api/user/profile/v3/update",sendOTP:this.server+"api/sec/v3/send/otp",verifyOTP:this.server+"api/user/otp/v3/verify",getAllFaq:this.server+"app/unsec/faqs/v1?faqCategoryType=",getWriteToUsDetails:this.server+"portal/unsec/writeToUs/getWriteToUsDetails/v1",createSecWriteToUs:this.server+"app/writeToUs/create/v1",createUnSecWriteToUs:this.server+"app/unsec/writeToUs/create/v1",pastOrders:this.server+"api/order/transaction/v2/history",updateFavourite:this.server+"api/order/favourite/v1/update",orderDetails:this.server+"api/order/transaction/v2/view?orderId=",msrOrderDetails:this.server+"api/user/msrcard/order/v1/details?orderId=",notifications:this.server+"api/notification/get/v1/list",changePswd:this.server+"api/user/password/v3/change",accountDeletion:this.server+"api/user/account/v1/delete",preferences_terms:this.server+"api/user/preferences/v1/update",savedBlogList:this.server+"api/cms/blogs/customer/v1/list",pullToRefresh:this.server+"api/user/reward/summary/v3/refresh",deliveryAddressList:this.server+"api/customer/delivery/address/v2/list",addDeliveryAddress:this.server+"api/customer/delivery/address/v2/save",updateDeliveryAddress:this.server+"api/customer/delivery/address/v2/update",deleteDeliveryAddress:this.server+"api/customer/delivery/address/v2/delete",updateAddressCart:this.server+"api/order/cart/delivery/address/v1/update",updateAddressCartGuest:this.server+"api/unsec/order/cart/delivery/address/v1/update"},this.deviceMetaInfo={appVersion:"",deviceCountry:"India",deviceCity:"",deviceId:localStorage.getItem("deviceId"),deviceModel:"",platform:"WEB",deviceOSVersion:""},this.secHeaderData={Authorization:"Bearer "+this.storageService.getAccessToken(),"Accept-Language":"EN","Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)},this.unsecHeaderData={"Accept-Language":"EN","Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)},this.isLoggedIn=this.commonFunction.verifyLoggedInUser()}getProfileImages(){let I=this.apiHeader.getSecureHeader();return this.http.get(this.urls.getProfileImages,{headers:I})}viewProfile(){let I=this.apiHeader.getSecureHeader();return this.http.get(this.urls.viewProfile,{headers:I})}updateProfile(I){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.updateProfile,I,{headers:k})}sendOTP(I){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.sendOTP,I,{headers:k})}verifyOTP(I){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.verifyOTP,I,{headers:k})}getAllFaq(I){return this.http.get(this.urls.getAllFaq+I,{headers:this.unsecHeaderData})}getWriteToUsDetails(){return this.http.get(this.urls.getWriteToUsDetails,{headers:this.unsecHeaderData})}createSecWriteToUs(I){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.createSecWriteToUs,I,{headers:k})}createUnSecWriteToUs(I){return this.http.post(this.urls.createUnSecWriteToUs,I,{headers:this.unsecHeaderData})}pastOrders(I,k,A){let H=this.apiHeader.getSecureHeader();return this.http.get(this.urls.pastOrders+"?page="+I+"&pageSize="+k+"&type="+A,{headers:H})}updateFavourite(I){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.updateFavourite,I,{headers:k})}orderDetails(I){let k=this.apiHeader.getSecureHeader();return this.http.get(this.urls.orderDetails+I,{headers:k})}viewMsrDetails(I){let k=this.apiHeader.getSecureHeader();return this.http.get(this.urls.msrOrderDetails+I,{headers:k})}getNotifications(){let I={Authorization:"Bearer "+this.storageService.getAccessToken(),"Accept-Language":"EN","Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)};return this.http.get(this.urls.notifications,{headers:I})}changePassword(I){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.changePswd,I,{headers:k})}deleteAccount(){let I=this.apiHeader.getSecureHeader();return this.http.get(this.urls.accountDeletion,{headers:I})}preferencesAndTerms(I){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.preferences_terms,I,{headers:k})}getSavedBlogList(){let I={Authorization:"Bearer "+this.storageService.getAccessToken(),"Accept-Language":"EN","Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)};return this.http.get(this.urls.savedBlogList,{headers:I})}getLatestRewardsData(){let I=this.apiHeader.getSecureHeader();return this.http.get(this.urls.pullToRefresh,{headers:I})}addDeliveryAddress(I){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.addDeliveryAddress,I,{headers:k})}editDeliveryAddress(I){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.updateDeliveryAddress,I,{headers:k})}getDeliveryAddressList(){let I=this.apiHeader.getSecureHeader();return this.http.get(this.urls.deliveryAddressList,{headers:I})}deleteDeliveryAddress(I){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.deleteDeliveryAddress,I,{headers:k})}getDeliveryAddressLocal(){return this.addressList$||(this.addressList$=this.getDeliveryAddressList().pipe((0,m.t)(1))),this.addressList$}clearAddressList(){this.addressList$=null}updateAddressInCart(I){let k=this.apiHeader.getSecureHeader();return this.http.post(this.urls.updateAddressCart,I,{headers:k})}updateAddressInCartGuest(I){let k=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.updateAddressCartGuest,I,{headers:k})}static#e=this.\u0275fac=function(k){return new(k||z)(T.KVO(F.Qq),T.KVO(x.L),T.KVO(ce.T),T.KVO(ne.n))};static#t=this.\u0275prov=T.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},4599:(Jt,ke,E)=>{"use strict";E.d(ke,{n:()=>F});var p=E(4017),T=E(4438);let F=(()=>{class x{constructor(){this.storeDetails="storeDetails",this.basketId="basketId",this.state="state",this.storeFound="storeFound",this.orderType="orderType",this.reorderData="reorderData",this.dashboardArray="dashboardArray"}setVisit(){sessionStorage.setItem("visit","first")}getVisit(){return sessionStorage.getItem("visit")}setUserStore(ne){sessionStorage.setItem(this.storeDetails,JSON.stringify(ne))}getUserStore(){let ne=sessionStorage.getItem(this.storeDetails);return JSON.parse(ne)}setState(ne){sessionStorage.setItem(this.state,JSON.stringify(ne))}getStoreFound(){let ne=sessionStorage.getItem(this.storeFound);return JSON.parse(ne)}setStoreFound(ne){sessionStorage.setItem(this.storeFound,JSON.stringify({nearBy:ne}))}clearSetStoreFound(){sessionStorage.removeItem(this.storeFound)}getreOrderData(){return localStorage.getItem(this.reorderData)}setreOrderData(ne){localStorage.setItem(this.reorderData,ne)}removereOrderData(){localStorage.removeItem(this.reorderData)}getOrderType(){return sessionStorage.getItem(this.orderType)}setOrderType(ne){sessionStorage.setItem(this.orderType,ne)}removeOrderType(){sessionStorage.removeItem(this.orderType)}getState(){let ne=sessionStorage.getItem(this.state);return JSON.parse(ne)}setDashboard(ne){sessionStorage.setItem(this.dashboardArray,p.compress(JSON.stringify(ne)))}getDashboard(){return JSON.parse(p.decompress(sessionStorage.getItem(this.dashboardArray)))}clearDashboard(){sessionStorage.removeItem(this.dashboardArray)}clearState(){sessionStorage.removeItem(this.state)}clearUserStore(){localStorage.removeItem(this.storeDetails)}setBasketId(ne){sessionStorage.setItem(this.basketId,ne)}getBasketId(){return sessionStorage.getItem(this.basketId)}clearBasketId(){sessionStorage.removeItem(this.basketId)}cleanAll(){localStorage.clear()}setSessionTokens(ne){localStorage.setItem("access_token",JSON.stringify(ne.response.access_token)),localStorage.setItem("refresh_token",JSON.stringify(ne.response.refresh_token)),localStorage.setItem("token_type",JSON.stringify(ne.response.token_type)),localStorage.setItem("user_profile",JSON.stringify(ne.response.profile)),localStorage.setItem("referral_code",JSON.stringify(ne.response.referralCode))}getAccessToken(){return JSON.parse(localStorage.getItem("access_token"))}setAccessToken(ne){localStorage.setItem("access_token",JSON.stringify(ne))}removeAccessToken(){localStorage.removeItem("access_token")}getRefreshToken(){return JSON.parse(localStorage.getItem("refresh_token"))}setRefreshToken(ne){localStorage.setItem("refresh_token",JSON.stringify(ne))}removeRefreshToken(){localStorage.removeItem("refresh_token")}getTokenType(){return JSON.parse(localStorage.getItem("token_type"))}setTokenType(ne){localStorage.setItem("token_type",JSON.stringify(ne))}removeTokenType(){localStorage.removeItem("token_type")}setGuestToken(ne){localStorage.setItem("guestUserToken",JSON.stringify(ne))}getGuestToken(){return JSON.parse(localStorage.getItem("guestUserToken"))}removeGuestToken(){localStorage.removeItem("guestUserToken")}getMenuList(){return localStorage.getItem("menuListItem")?JSON.parse(p.decompress(localStorage.getItem("menuListItem"))):""}setLatLongData(ne){sessionStorage.setItem("currentLat",ne.coords.latitude),sessionStorage.setItem("currentLong",ne.coords.longitude),sessionStorage.setItem("locationAccepted",JSON.stringify(!0)),sessionStorage.setItem("gpsEvent","granted")}getLatLongData(){let ne=sessionStorage.getItem("currentLat"),q=sessionStorage.getItem("currentLong");if("null"===ne||""===ne||"null"===q||""===q){let k=JSON.parse(sessionStorage.getItem("latLongObj"));ne=k&&k.lat?k.lat:"",q=k&&k.lng?k.lng:""}return{currentLat:ne,currentLong:q,locationAccepted:JSON.parse(sessionStorage.getItem("locationAccepted")),gpsEvent:sessionStorage.getItem("gpsEvent")}}static#e=this.\u0275fac=function(q){return new(q||x)};static#t=this.\u0275prov=T.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},1315:(Jt,ke,E)=>{"use strict";E.d(ke,{n:()=>q});var p=E(6496),m=E(5312),T=E(4438),F=E(1626),x=E(4599),ce=E(1941),ne=E(7802);let q=(()=>{class z{constructor(I,k,A,H){this.http=I,this.storageService=k,this.commonFunction=A,this.apiHeader=H,this.server=m.c.APIEndpoint,this.urls={getSecStoreList:this.server+"api/store/v2/get",getUnsecStoreList:this.server+"api/unsec/store/v2/get",getSecStoreListPagination:this.server+"api/store/v3/get",getUnsecStoreListPagination:this.server+"api/unsec/store/v3/get",previousStore:this.server+"api/store/get/v1/previousStores",getStoreById:this.server+"app/store/view/v1",addremoveToFavStore:this.server+"app/add/favoriteStores/v1",getFavStore:this.server+"api/store/favorite/v2/list",dynamicStoreLink:this.server+"api/unsec/dynamic/link/v1/share",viewStoreSecure:this.server+"api/store/v2/view?storeId=",viewStoreUnecure:this.server+"api/unsec/store/v2/view?storeId=",getSecStoreListWithRadius:this.server+"api/store/v4/get",getUnsecStoreListWithRadius:this.server+"api/unsec/store/v4/get"},this.deviceMetaInfo={appVersion:"",deviceCountry:"India",deviceCity:"",deviceId:localStorage.getItem("deviceId"),deviceModel:"",platform:"WEB",deviceOSVersion:""},this.unsecureHeaderData={"Accept-Language":"EN","Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)},this.guestHeader={"Accept-Language":"EN",GuestToken:localStorage.getItem("guestUserToken"),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)},this.headerData={"Accept-Language":"EN",Authorization:"Bearer "+this.storageService.getAccessToken(),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)},this.isLoggedIn=this.commonFunction.verifyLoggedInUser()}getStores(I){let k=this.commonFunction.verifyLoggedInUser(),A={"Accept-Language":"EN",Authorization:"Bearer "+this.storageService.getAccessToken(),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)},H={"Accept-Language":"EN",GuestToken:localStorage.getItem("guestUserToken"),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)};return k?this.http.post(this.urls.getSecStoreList,I,{headers:A}):this.http.post(this.urls.getUnsecStoreList,I,{headers:H})}addRemoveToFavStore(I){let k=this.commonFunction.verifyLoggedInUser(),A={"Accept-Language":"EN",Authorization:"Bearer "+this.storageService.getAccessToken(),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)};if(k)return this.http.post(this.urls.addremoveToFavStore,I,{headers:A})}getFaviuoriteStore(I){let k=this.commonFunction.verifyLoggedInUser(),A={"Accept-Language":"EN",Authorization:"Bearer "+this.storageService.getAccessToken(),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)};if(k)return this.http.post(this.urls.getFavStore,I,{headers:A})}viewStoreDetail(I){let k=this.commonFunction.verifyLoggedInUser(),A={"Accept-Language":"EN",Authorization:"Bearer "+this.storageService.getAccessToken(),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)},H={"Accept-Language":"EN",GuestToken:localStorage.getItem("guestUserToken"),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)};return k?this.http.post(this.urls.viewStoreSecure+I,I,{headers:A}):this.http.post(this.urls.viewStoreUnecure+I,I,{headers:H})}getPrevStore(){let I=this.commonFunction.verifyLoggedInUser(),k={"Accept-Language":"EN",Authorization:"Bearer "+this.storageService.getAccessToken(),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)};if(I)return this.http.get(this.urls.previousStore,{headers:k})}getStoresLocal(I){return this.storeCache$||(this.storeCache$=this.getStores(I).pipe((0,p.t)(1))),this.storeCache$}clearStoreList(){this.storeCache$=null,this.storeCache$=void 0}getStoreDynamicLink(I){let k=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.dynamicStoreLink+"?type=StoreDetail&value="+I,{headers:k})}getStoresWithPagination(I){let k=this.commonFunction.verifyLoggedInUser(),A=this.apiHeader.getSecureHeader(),H=this.apiHeader.getUnSecureHeader();return k?this.http.post(this.urls.getSecStoreListPagination,I,{headers:A}):this.http.post(this.urls.getUnsecStoreListPagination,I,{headers:H})}getStoreListWithRadius(I){let k=this.commonFunction.verifyLoggedInUser(),A=this.apiHeader.getSecureHeader(),H=this.apiHeader.getUnSecureHeader();return k?this.http.post(this.urls.getSecStoreListWithRadius,I,{headers:A}):this.http.post(this.urls.getUnsecStoreListWithRadius,I,{headers:H})}static#e=this.\u0275fac=function(k){return new(k||z)(T.KVO(F.Qq),T.KVO(x.n),T.KVO(ce.L),T.KVO(ne.T))};static#t=this.\u0275prov=T.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},6755:(Jt,ke,E)=>{"use strict";E.d(ke,{A:()=>x});var p=E(5312),m=E(1626),T=E(4438),F=E(4599);let x=(()=>{class ce{constructor(q,z){this.http=q,this.storageService=z,this.server=p.c.APIEndpoint+"api/v3/uploadFiles",this.deviceMetaInfo={appVersion:"",deviceCountry:"India",deviceCity:"",deviceId:localStorage.getItem("deviceId"),deviceModel:"",platform:"WEB",deviceOSVersion:""}}upload(q,z,O){let I=this.server,k=new m.Lr({Authorization:"Bearer "+this.storageService.getAccessToken(),"Device-Meta-Info":JSON.stringify(this.deviceMetaInfo)});const A=new FormData;return A.append("file",q),this.http.post(I+"/"+z+"/"+O,A,{headers:k})}static#e=this.\u0275fac=function(z){return new(z||ce)(T.KVO(m.Qq),T.KVO(F.n))};static#t=this.\u0275prov=T.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})()},9936:(Jt,ke,E)=>{"use strict";E.d(ke,{H:()=>z});var p=E(5312),m=E(1413),T=E(4412),F=E(6496),x=E(4438),ce=E(1626),ne=E(1941),q=E(7802);let z=(()=>{class O{constructor(k,A,H){this.http=k,this.commonFunction=A,this.apiHeader=H,this.isLoggedIn=!1,this.server=p.c.APIEndpoint,this.CartGuesttoken=localStorage.getItem("guestUserToken"),this.authType="Bearer",this.urls={getactiveBasket:this.server+"api/order/cart/active/v2/get",getactiveBasketUnsec:this.server+"api/unsec/order/cart/active/v2/get",createbasket:this.server+"api/order/cart/v2/create",createbasketUnsec:this.server+"api/unsec/order/cart/v2/create",addItemInBasket:this.server+"app/addItemToBasket/v1",addItemInBasketUnsec:this.server+"api/unsec/order/cart/item/v1/add",getbasket:this.server+"api/order/cart/v3/get?basketId=",getbasketUnsec:this.server+"api/unsec/order/cart/v3/get?basketId=",updateLineItem:this.server+"app/updateLineItem/v1",updateLineItemUnsec:this.server+"api/unsec/order/cart/item/v1/update",crossAndUpSell:this.server+"api/unsec/cms/crossAndUpSell/v1/products",deleteLineItem:this.server+"api/cart/v1/deleteLineItem?",deleteLineItemUnsec:this.server+"api/unsec/order/cart/item/v1/delete?",deletebasket:this.server+"app/deleteBasket/v1?basketId=",deleteBasketUnsecure:this.server+"api/unsec/order/cart/v1/delete?basketId=",deletebasketLineItem:this.server+"api/cart/v1/deleteLineItem?",guestUserToken:this.server+"api/unsec/user/guest/v2/token",cartUpdate:this.server+"api/order/cart/customer/v2/update",serveware:this.server+"api/order/cart/serve/ware/v1/list",servewareUnsec:this.server+"api/unsec/order/cart/serve/ware/v1/list"},this.metaInfo={appVersion:"v1.0.0",deviceCountry:"India",deviceCity:"",deviceId:localStorage.getItem("deviceId")?localStorage.getItem("deviceId"):"",deviceModel:"",platform:"WEB",deviceOSVersion:""},this.cartcleared=new m.B,this.instructions=new T.t("")}getBasket(){let k=this.apiHeader.getSecureHeader();return this.http.get(this.urls.getBasket,{headers:k})}getGuestUserToken(){let k={"Accept-Language":"EN","Device-Meta-Info":JSON.stringify(this.metaInfo)},A={deviceToken:localStorage.getItem("firebaseDeviceId")};return this.http.post(this.urls.guestUserToken,A,{headers:k})}getActiveBasket(){if(this.commonFunction.verifyLoggedInUser()){let A=this.apiHeader.getSecureHeader();return this.http.get(this.urls.getactiveBasket,{headers:A})}{let A=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.getactiveBasketUnsec,{headers:A})}}createBasket(k){if(this.commonFunction.verifyLoggedInUser()){let H=this.apiHeader.getSecureHeader();return this.http.post(this.urls.createbasket,k,{headers:H})}{let H=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.createbasketUnsec,k,{headers:H})}}addItemToBasket(k){if(this.commonFunction.verifyLoggedInUser()){let H=this.apiHeader.getSecureHeader();return this.http.post(this.urls.addItemInBasket,k,{headers:H})}{let H=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.addItemInBasketUnsec,k,{headers:H})}}getbasketItem(k){let A=k.basketId;if(this.commonFunction.verifyLoggedInUser()){let Q=this.apiHeader.getSecureHeader();return this.http.get(this.urls.getbasket+A,{headers:Q})}{let Q=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.getbasketUnsec+A,{headers:Q})}}updateLineItem(k){if(this.commonFunction.verifyLoggedInUser()){let H=this.apiHeader.getSecureHeader();return this.http.post(this.urls.updateLineItem,k,{headers:H})}{let H=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.updateLineItemUnsec,k,{headers:H})}}deleteBasket(k){if(this.commonFunction.verifyLoggedInUser()){let H=this.apiHeader.getSecureHeader();return this.http.delete(this.urls.deletebasket+k.basketId,{headers:H})}{let H=this.apiHeader.getUnSecureHeader();return this.http.delete(this.urls.deleteBasketUnsecure+k.basketId,{headers:H})}}deleteLineItem(k){if(this.commonFunction.verifyLoggedInUser()){let H=this.apiHeader.getSecureHeader();return this.http.delete(this.urls.deleteLineItem+"basketId="+k.basketId+"&lineItemId="+k.lineItemId,{headers:H})}{let H=this.apiHeader.getUnSecureHeader();return this.http.delete(this.urls.deleteLineItemUnsec+"basketId="+k.basketId+"&lineItemId="+k.lineItemId,{headers:H})}}removeLineItemFromCart(k){if(this.commonFunction.verifyLoggedInUser()){let H=this.apiHeader.getSecureHeader();return this.http.delete(this.urls.deletebasketLineItem+"basketId="+k.basketId+"&lineItemId="+k.lineItemId,{headers:H})}{let H=this.apiHeader.getUnSecureHeader();return this.http.delete(this.urls.deleteLineItemUnsec+"basketId="+k.basketId+"&lineItemId="+k.lineItemId,{headers:H})}}crossAndUpSell(k){let A=this.apiHeader.getUnSecureHeader();return this.http.post(this.urls.crossAndUpSell,k,{headers:A})}crossAndUpSellLocal(k){return this.crossUpsell$||(this.crossUpsell$=this.crossAndUpSell(k).pipe((0,F.t)(1))),this.crossUpsell$}updateBasket(k){if(this.commonFunction.verifyLoggedInUser()){let H=this.apiHeader.getSecureHeader();return this.http.post(this.urls.cartUpdate,k,{headers:H})}}serveWare(){if(this.commonFunction.verifyLoggedInUser()){let A=this.apiHeader.getSecureHeader();return this.http.get(this.urls.serveware,{headers:A})}{let A=this.apiHeader.getUnSecureHeader();return this.http.get(this.urls.servewareUnsec,{headers:A})}}sendCartInfo(k){this.cartcleared.next(k)}getCartInfo(){return this.cartcleared.asObservable()}sendInstructions(k){this.instructions.next(k)}getInstructions(){return this.instructions.asObservable()}static#e=this.\u0275fac=function(A){return new(A||O)(x.KVO(ce.Qq),x.KVO(ne.L),x.KVO(q.T))};static#t=this.\u0275prov=x.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},7808:(Jt,ke,E)=>{"use strict";E.d(ke,{g:()=>T});var p=E(177),m=E(4438);let T=(()=>{class F{static#e=this.\u0275fac=function(ne){return new(ne||F)};static#t=this.\u0275mod=m.$C({type:F});static#n=this.\u0275inj=m.G2t({imports:[p.MD]})}return F})()},3887:(Jt,ke,E)=>{"use strict";E.d(ke,{G:()=>Q});var p=E(177),m=E(1188),T=E(9417),F=E(4370),x=E(6755),ce=E(5788),ne=E(2672),q=E(7808),z=E(5230),O=E(8250),k=(E(3206),E(6111)),A=E(6338),H=E(4438);let Q=(()=>{class ee{static#e=this.\u0275fac=function(Ne){return new(Ne||ee)};static#t=this.\u0275mod=H.$C({type:ee});static#n=this.\u0275inj=H.G2t({providers:[x.A,ne.u],imports:[p.MD,m.iI,F.G,T.YN,T.X1,q.g,ce.Ph,z.pZ,O.c,k.rJ,A.kd,ce.Ph,ce.Ph,q.g]})}return ee})()},5195:(Jt,ke,E)=>{"use strict";function p(m,T){return F=>{const ce=F.controls[T];ce.errors&&!ce.errors.mustMatch||ce.setErrors(F.controls[m].value!==ce.value?{mustMatch:!0}:null)}}E.d(ke,{p:()=>p})},5312:(Jt,ke,E)=>{"use strict";E.d(ke,{c:()=>p});const p={production:!0,APIEndpoint:"https://tsb-mbaas.starbucksindia.net/",PG_CALLBACK_URL:"https://www.starbucks.in/",GM_API_KEY:"AIzaSyAD2curZ9cgEarYCXMZsYLNlDWvyPhAdjw",firebase:{apiKey:"AIzaSyAfjxEuT6QXM22X9f8NuTO0th1TVdFTIuQ",authDomain:"tata-starbucks-prod-40042.firebaseapp.com",projectId:"tata-starbucks-prod-40042",storageBucket:"tata-starbucks-prod-40042.appspot.com",messagingSenderId:"484743682779",appId:"1:484743682779:web:e1d108e9886bb2ad2f8afe",measurementId:"G-WGW68DB90J"},char:[116,66,72,116,74,98,99,99,83,98,104,84,98,66,113,85],buildVersion:4092024,wa_SIT:"DUe+BLLUJtNqHFFkGfNGTuTo4dQ4yp2OvzVmMCHBs4eG09JK9Kp3TkWOnXbhAPAhWgOgKudrv/9shHY1KUUFuKL1l7UM6w+R6UQXlgQjOapIsktZleeFUOGOEc1hjznloky9AMc3ceu9mcFDPHECnqnt1Z90J7rsI+3vi9qWgtg=",wa_UAT:"wDYtsIjEgqVf1n/SBG+Dhy84F8aerIYstox7TAUTnS6oppQ/6yEJzZHhBuF6TS10p511enMdtpqpktvcc8cQPtxXDhw4AijdTbs3iPoMBjsWSQ9L+ehcT7hEL6klSXyQVHnx6Vd5fUOzyCedJiddPCB80gxwnyQZR/bT316z08Q=",wa_PRE_PROD:"wDYtsIjEgqVf1n/SBG+Dhy84F8aerIYstox7TAUTnS65OVV0LLONkNAiGaCcmiJDS7AXaNHhiHwwGmLkfPMS32SnyID2Qdn1lUqV37r9Xksu8kbF5KMyuOHIGmQXsBZstZd17vz+GK4g5ta4RtzWE7SVRwJ72j1sBZ8BlhMm84s=",wa_PROD:"wDYtsIjEgqVf1n/SBG+Dhy84F8aerIYstox7TAUTnS4wJix9cJKGbj6Ye0q6giBLs+hxjvuRaVz3DSZkn+IxzuNtXzIEkHEvgqccOqJLzEPOrai+AuiiKNTkqdS7/PyAq9Y4IMzPhA2BPYfcPjUTlmsDfhbuRsWf5GX9qBfz9H8=",recaptcha:{"2slQy0AjNygqzdyV9I7u9w==":"3yNwKg9uTiCcOtFCWsM9+yWW0+YJLUWsRpmP2ARh8iNdEKMKjJz5JV7gdeRgIVaj"}}},8158:(Jt,ke,E)=>{"use strict";var p=E(345),m=E(4438),T=E(1188),F=E(5122),x=E(79),ce=E(1941),ne=E(177),q=E(9381),z=E(6853);const O=()=>["/discover-more-articles"],I=g=>({"btm-spacing":g});function k(g,i){if(1&g){const d=m.RV6();m.j41(0,"div",19)(1,"div",20)(2,"div",21)(3,"img",22),m.bIt("error",function(){const w=m.eBV(d).$implicit;return m.Njj(w.webBlogImageUrl="assets/images/articles_img_placeholder.svg")}),m.k0s()(),m.j41(4,"div",23),m.bIt("click",function(){const w=m.eBV(d).$implicit,N=m.XpG(2);return m.Njj(N.viewBlogDetails(w))}),m.j41(5,"div",24)(6,"div",25)(7,"div",26)(8,"div",27)(9,"h6")(10,"span",28),m.EFF(11),m.k0s()()()(),m.j41(12,"h3",29),m.EFF(13),m.k0s(),m.j41(14,"h5",30),m.EFF(15),m.k0s()()(),m.j41(16,"div",31)(17,"div",32)(18,"img",33),m.bIt("error",function(){const w=m.eBV(d).$implicit;return m.Njj(w.webAuthorImageUrl="assets/images/articles_author_placeholder.svg")}),m.k0s()(),m.j41(19,"div",34)(20,"h4"),m.EFF(21),m.k0s(),m.j41(22,"span",35),m.EFF(23),m.k0s()()()()()()}if(2&g){const d=i.$implicit;m.R7$(3),m.FS9("src",d.webBlogImageUrl,m.B4B),m.R7$(8),m.JRh(d.catName),m.R7$(2),m.JRh(d.title),m.R7$(2),m.SpI(" ",d.blogPusblishReadableDate," "),m.R7$(3),m.FS9("src",d.webAuthorImageUrl,m.B4B),m.R7$(3),m.SpI("",d.authorName,"\xa0"),m.R7$(2),m.SpI("\u2022 ",d.readTime," read")}}function A(g,i){if(1&g&&(m.j41(0,"section",15)(1,"div",11)(2,"div",16)(3,"div",17)(4,"h6"),m.EFF(5,"Articles"),m.k0s()(),m.DNE(6,k,24,7,"div",18),m.k0s()()()),2&g){const d=m.XpG();m.R7$(6),m.Y8G("ngForOf",d.savedTabArray)}}function H(g,i){1&g&&(m.j41(0,"div",45)(1,"h3"),m.EFF(2,"Learn more about the world of coffee"),m.k0s()())}function Q(g,i){if(1&g){const d=m.RV6();m.j41(0,"div",19)(1,"div",20)(2,"div",21)(3,"img",22),m.bIt("error",function(){const w=m.eBV(d).$implicit;return m.Njj(w.webBlogImageUrl="assets/images/articles_img_placeholder.svg")}),m.k0s()(),m.j41(4,"div",23),m.bIt("click",function(){const w=m.eBV(d).$implicit,N=m.XpG(2);return m.Njj(N.viewBlogDetails(w))}),m.j41(5,"div",24)(6,"div",25)(7,"div",26)(8,"div",27)(9,"h6")(10,"span",28),m.EFF(11),m.k0s()()()(),m.j41(12,"h3",29),m.EFF(13),m.k0s(),m.j41(14,"h5",30),m.EFF(15),m.k0s()()(),m.j41(16,"div",31)(17,"div",32)(18,"img",33),m.bIt("error",function(){const w=m.eBV(d).$implicit;return m.Njj(w.webAuthorImageUrl="assets/images/articles_author_placeholder.svg")}),m.k0s()(),m.j41(19,"div",34)(20,"h4"),m.EFF(21),m.k0s(),m.j41(22,"span",35),m.EFF(23),m.k0s()()()()()()}if(2&g){const d=i.$implicit;m.R7$(3),m.FS9("src",d.webBlogImageUrl,m.B4B),m.R7$(8),m.JRh(d.catName),m.R7$(2),m.JRh(d.title),m.R7$(2),m.SpI(" ",d.blogPusblishReadableDate," "),m.R7$(3),m.FS9("src",d.webAuthorImageUrl,m.B4B),m.R7$(3),m.SpI("",d.authorName,"\xa0"),m.R7$(2),m.SpI("\u2022 ",d.readTime," read")}}function ee(g,i){if(1&g&&(m.j41(0,"section",36)(1,"div",11)(2,"div",37)(3,"div",17)(4,"h6"),m.EFF(5,"Articles"),m.k0s()(),m.j41(6,"div",38)(7,"div",39),m.nrm(8,"img",40),m.k0s(),m.j41(9,"div",41)(10,"h5",42),m.EFF(11," Uh oh! you have not saved "),m.nrm(12,"br"),m.EFF(13," any articles yet! "),m.k0s()()()(),m.j41(14,"div",43),m.DNE(15,H,3,0,"div",44)(16,Q,24,7,"div",18),m.k0s()()()),2&g){const d=m.XpG();m.R7$(14),m.Y8G("ngClass",m.eq3(3,I,d.isMobile)),m.R7$(),m.Y8G("ngIf",d.featuredArticlesArray&&0!==d.featuredArticlesArray.length),m.R7$(),m.Y8G("ngForOf",d.featuredArticlesArray)}}let be=(()=>{class g{constructor(d,_,w,N,W,se){this._snackBar=d,this.profile=_,this.commonFunction=w,this.router=N,this._location=W,this.titleService=se,this.breadCrumbData=[{title:"Profile",path:"profile"},{title:"Saved Articles",path:"saved-blogs"}],this.isArticleSaved=!0,this.isLoggedIn=!1,this.savedBlogIds=[],this.savedTabArray=[],this.tabArr=[{catIndex:0,catData:[],catTags:[],CatFilteredTags:[],catFilteredData:[]}],this.featuredArticlesArray=[],this.title="Saved Articles | Tata Starbucks",this.isLoggedIn=this.commonFunction.verifyLoggedInUser();let xe=JSON.parse(localStorage.getItem("dashboardBlogData"));this.articlesData=xe?[...xe]:[],this.isMobile=this.commonFunction.identifyDeviceType(),this.titleService.setTitle(this.title),this.loadData()}ngOnInit(){this.savedArticlesPageGA()}loadData(){this.isLoggedIn&&this.getSavedBlogIdList()}getSavedBlogIdList(){this.savedBlogIds=[],this.commonFunction.showLoader(),this.profile.getSavedBlogList().subscribe(d=>{d.response.blogsList&&(this.savedBlogIds=d.response.blogsList,this.generateFeaturedTabJson(),this.generateSavedTabJson(this.savedBlogIds)),this.commonFunction.hideLoader()},d=>{this.commonFunction.hideLoader(),this.commonFunction.processErrorMessage(d,"failure")})}generateSavedTabJson(d){this.savedTabArray=[];for(let _=0;_<this.articlesData.length;_++)for(let w=0;w<this.articlesData[_].attributes.blog_content.length;w++)d.includes(this.articlesData[_].attributes.blog_content[w].id)&&this.savedTabArray.push({id:this.articlesData[_].attributes.blog_content[w].id,catName:this.articlesData[_].attributes.categoryName,title:this.articlesData[_].attributes.blog_content[w].title,blogPublishDate:this.articlesData[_].attributes.blog_content[w].blogPublishDate,webAuthorImageUrl:this.articlesData[_].attributes.blog_content[w].webAuthorImageUrl,webBlogImageUrl:this.articlesData[_].attributes.blog_content[w].webBlogImageUrl,webSecondaryImageOrVideoUrl:this.articlesData[_].attributes.blog_content[w].webSecondaryImageOrVideoUrl,description:this.articlesData[_].attributes.blog_content[w].description,shortDescription:this.articlesData[_].attributes.blog_content[w].shortDescription,authorName:this.articlesData[_].attributes.blog_content[w].authorName,readTime:this.articlesData[_].attributes.blog_content[w].readTime,blogPusblishReadableDate:this.getReadableDate(this.articlesData[_].attributes.blog_content[w].blogPublishDate),dynamicLink:this.articlesData[_].attributes.blog_content[w].dynamicLink,webBlogMedia:this.articlesData[_].attributes.blog_content[w].webBlogMedia});this.isArticleSaved=0!=this.savedTabArray.length}getReadableDate(d){let _="Published today";if(d){var w=new Date(d),N=new Date(+new Date-+w);let se=(+N.toISOString().slice(0,4)-1970+"years "+N.getMonth()+"months "+(N.getDate()-1)+"days").split(" ");"0years"!==se[0]?_="Published "+se[0]+" back":"0months"!==se[1]?_="Published "+se[1]+" back":"0days"!==se[2]&&(_="Published "+se[2]+" back")}return _}viewBlogDetails(d){d.isBookMarked=!1;for(let _=0;_<this.savedBlogIds.length;_++)if(this.savedBlogIds[_]===d.id){d.isBookMarked=!0;break}sessionStorage.removeItem("blogDetails"),sessionStorage.setItem("blogDetails",JSON.stringify(d)),this.router.navigate(["/Blogs"])}generateFeaturedTabJson(){this.featuredArticlesArray=[];for(let d=0;d<this.articlesData.length;d++)for(let _=0;_<this.articlesData[d].attributes.blog_content.length;_++)this.articlesData[d].attributes.blog_content[_].isFeatured&&this.featuredArticlesArray.push({id:this.articlesData[d].attributes.blog_content[_].id,catName:this.articlesData[d].attributes.categoryName,title:this.articlesData[d].attributes.blog_content[_].title,blogPublishDate:this.articlesData[d].attributes.blog_content[_].blogPublishDate,webAuthorImageUrl:this.articlesData[d].attributes.blog_content[_].webAuthorImageUrl,webBlogImageUrl:this.articlesData[d].attributes.blog_content[_].webBlogImageUrl,webSecondaryImageOrVideoUrl:this.articlesData[d].attributes.blog_content[_].webSecondaryImageOrVideoUrl,description:this.articlesData[d].attributes.blog_content[_].description,shortDescription:this.articlesData[d].attributes.blog_content[_].shortDescription,authorName:this.articlesData[d].attributes.blog_content[_].authorName,readTime:this.articlesData[d].attributes.blog_content[_].readTime,blogPusblishReadableDate:this.getReadableDate(this.articlesData[d].attributes.blog_content[_].blogPublishDate),dynamicLink:this.articlesData[d].attributes.blog_content[_].dynamicLink,webBlogMedia:this.articlesData[d].attributes.blog_content[_].webBlogMedia})}gotoPrevious(){this._location.back()}savedArticlesPageGA(){dataLayer.push({event:"virtualpageview",page_location:window.location.href,page_title:this.title})}static#e=this.\u0275fac=function(_){return new(_||g)(m.rXU(F.UG),m.rXU(x.p),m.rXU(ce.L),m.rXU(T.Ix),m.rXU(ne.aZ),m.rXU(p.hE))};static#t=this.\u0275cmp=m.VBU({type:g,selectors:[["app-saved-articles"]],decls:22,vars:5,consts:[[1,"saved-blogs-wraper"],[3,"breadCrumbData"],[1,"d-block","d-sm-none"],[1,"mobile-header-bar"],[1,"left"],["src","assets/icon/bck.svg","alt","back",3,"click"],[1,"title"],[1,"right"],["class","articles",4,"ngIf"],["class","no-articles",4,"ngIf"],[1,"footer","border-top"],[1,"container"],[1,"row"],[1,"col-12","d-flex","py-2","footer-content",3,"routerLink"],["src","assets/icon/arrow_right.svg","alt","arrow icon"],[1,"articles"],[1,"row","mt-4","mb-4"],[1,"col-12","mb-5","head"],["class","col-12 col-md-6 col-xl-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-xl-4"],[1,"order-card"],[1,"img-square-wrapper"],["alt","Blog-image",3,"error","src"],[1,"card","mb-3",3,"click"],[1,"card-horizontal"],[1,"card-body"],[1,"newitem"],[1,"brewing"],[1,"badge","badge-secondary"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-footer-custom"],[1,"image-round-wrapper"],["alt","author-image",3,"error","src"],[1,"left-item","d-flex"],[1,"read-time"],[1,"no-articles"],[1,"row","mb-4"],[1,"col-12","py-2","notsaved"],[1,"icon-wrap","pb-3"],["src","assets/icon/VectorBlogs.png","alt",""],[1,"notsaved-content"],[1,"text-center"],[1,"row","mt-4","mb-4",3,"ngClass"],["class","col-12 mb-5 learn-more",4,"ngIf"],[1,"col-12","mb-5","learn-more"]],template:function(_,w){1&_&&(m.j41(0,"div",0),m.qex(1),m.nrm(2,"app-header"),m.bVm(),m.qex(3),m.nrm(4,"app-breadcrumb-nav",1),m.bVm(),m.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"img",5),m.bIt("click",function(){return w.gotoPrevious()}),m.k0s()(),m.j41(9,"div",6)(10,"p"),m.EFF(11,"Saved"),m.k0s()(),m.nrm(12,"div",7),m.k0s()(),m.DNE(13,A,7,1,"section",8)(14,ee,17,5,"section",9),m.j41(15,"section",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"h5"),m.EFF(20,"discover more articles"),m.k0s(),m.nrm(21,"img",14),m.k0s()()()()()),2&_&&(m.R7$(4),m.Y8G("breadCrumbData",w.breadCrumbData),m.R7$(9),m.Y8G("ngIf",w.isArticleSaved&&w.isLoggedIn),m.R7$(),m.Y8G("ngIf",!w.isArticleSaved&&w.isLoggedIn),m.R7$(4),m.Y8G("routerLink",m.lJ4(4,O)))},dependencies:[T.Wk,ne.YU,ne.Sq,ne.bT,q.l,z.k],styles:[".saved-blogs-wraper[_ngcontent-%COMP%]   .mobile-header-bar[_ngcontent-%COMP%]{display:flex;padding:20px;color:#000;justify-content:space-between}.saved-blogs-wraper[_ngcontent-%COMP%]   .mobile-header-bar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8px;height:16px;cursor:pointer}.saved-blogs-wraper[_ngcontent-%COMP%]   .mobile-header-bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:SoDoSans_Semibold,Helvetica,sans-serif;font-size:14px;margin:0}.saved-blogs-wraper[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{display:inline;padding-bottom:.5rem;border-bottom:2px solid #006241}.saved-blogs-wraper[_ngcontent-%COMP%]   .btm-spacing[_ngcontent-%COMP%]{padding-bottom:5rem}.saved-blogs-wraper[_ngcontent-%COMP%]   .learn-more[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;font-family:SoDoSans_Semibold,Helvetica,sans-serif;font-size:24px}.saved-blogs-wraper[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#00754a;font-family:SoDoSans_Semibold,Helvetica,sans-serif;font-size:14px}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]{display:flex;margin-left:-45px}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .img-square-wrapper[_ngcontent-%COMP%]{position:relative;left:45px;z-index:9;top:20px}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .img-square-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:1em 1em 2em;border:1px solid #ededed;box-shadow:-1px 8px 1px -7px #a7a7a747;min-width:365px;cursor:pointer}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-horizontal[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;margin-bottom:1em;min-height:81px}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-horizontal[_ngcontent-%COMP%]   .img-square-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-horizontal[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0rem 1rem 0rem 3rem}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-horizontal[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#000;margin:0 0 8px;font-size:14px}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-horizontal[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:10px}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-horizontal[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:12px}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-horizontal[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .newitem[_ngcontent-%COMP%]{min-height:24px;display:flex}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-horizontal[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .newitem[_ngcontent-%COMP%]   .brewing[_ngcontent-%COMP%]{margin-bottom:10px}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-horizontal[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .newitem[_ngcontent-%COMP%]   .brewing[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-horizontal[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .newitem[_ngcontent-%COMP%]   .brewing[_ngcontent-%COMP%]   .badge-secondary[_ngcontent-%COMP%]{background-color:#e6edeb}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-horizontal[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .newitem[_ngcontent-%COMP%]   .brewing[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;color:#096;font-weight:600}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer-custom[_ngcontent-%COMP%]{display:flex;align-items:baseline}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer-custom[_ngcontent-%COMP%]   .image-round-wrapper[_ngcontent-%COMP%]{padding-left:3rem}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer-custom[_ngcontent-%COMP%]   .image-round-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:24px;height:24px}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer-custom[_ngcontent-%COMP%]   .left-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000000de;font-size:12px;font-weight:500;font-family:SoDoSans_Semibold,Helvetica,sans-serif;margin-left:.5rem}.saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer-custom[_ngcontent-%COMP%]   .left-item[_ngcontent-%COMP%]   .read-time[_ngcontent-%COMP%]{font-size:10px}.saved-blogs-wraper[_ngcontent-%COMP%]   .notsaved[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.saved-blogs-wraper[_ngcontent-%COMP%]   .notsaved[_ngcontent-%COMP%]   .notsaved-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#00000094;font-size:12px}.saved-blogs-wraper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{box-shadow:0 -2px 4px #0000003d;background:#f9f9f9;position:fixed;bottom:0;width:100%;z-index:999}.saved-blogs-wraper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{justify-content:space-between;cursor:pointer}.saved-blogs-wraper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12px;font-family:SoDoSans_Semibold,Helvetica,sans-serif;color:#00754a;text-transform:uppercase;margin:1rem 0}.saved-blogs-wraper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.saved-blogs-wraper[_ngcontent-%COMP%]   .articles[_ngcontent-%COMP%], .saved-blogs-wraper[_ngcontent-%COMP%]   .no-articles[_ngcontent-%COMP%]{padding-top:1em}.saved-blogs-wraper[_ngcontent-%COMP%]   .articles[_ngcontent-%COMP%]{padding-bottom:5em}@media only screen and (max-width: 578px){.saved-blogs-wraper[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{text-align:center}}@media only screen and (max-width: 389px){.saved-blogs-wraper[_ngcontent-%COMP%]   .articles[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:310px}}@media only screen and (max-width: 576px){.saved-blogs-wraper[_ngcontent-%COMP%]   .articles[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:328px}}@media only screen and (min-width: 768px) and (max-width: 991px){.saved-blogs-wraper[_ngcontent-%COMP%]   .articles[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:290px}}@media only screen and (min-width: 991px) and (max-width: 1024px){.saved-blogs-wraper[_ngcontent-%COMP%]   .articles[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:355px}}@media only screen and (min-width: 1200px) and (max-width: 1400px){.saved-blogs-wraper[_ngcontent-%COMP%]   .articles[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .saved-blogs-wraper[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:310px}}@media only screen and (min-width: 1800px){.saved-blogs-wraper[_ngcontent-%COMP%]   .articles[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:365px}}"]})}return g})();var me=E(5950),Ne=E(8635),Be=E(1846),Ve=E(9936),Le=E(6535),J=E(2091);const ae=g=>({"shimmer-loader-button":g}),de=g=>({"animate-save-img":g});function fe(g,i){1&g&&(m.j41(0,"swiper-slide")(1,"div",33),m.nrm(2,"video",34),m.k0s()())}function Re(g,i){if(1&g&&(m.qex(0),m.DNE(1,fe,3,0,"swiper-slide",17),m.bVm()),2&g){const d=m.XpG(3);m.R7$(),m.Y8G("ngForOf",d.swiperVidArr)}}function _e(g,i){if(1&g&&(m.j41(0,"swiper-slide")(1,"div",35),m.nrm(2,"img",36),m.k0s()()),2&g){const d=i.$implicit;m.R7$(2),m.FS9("src",d,m.B4B)}}function Xe(g,i){if(1&g&&(m.qex(0),m.DNE(1,_e,3,1,"swiper-slide",17),m.bVm()),2&g){const d=m.XpG(3);m.R7$(),m.Y8G("ngForOf",d.swiperImgArr)}}function Ye(g,i){if(1&g){const d=m.RV6();m.j41(0,"section",30)(1,"swiper-container",31),m.bIt("swiperslidechange",function(w){m.eBV(d);const N=m.XpG(2);return m.Njj(N.slideChange(w))}),m.DNE(2,Re,2,1,"ng-container",32)(3,Xe,2,1,"ng-container",32),m.k0s()()}if(2&g){const d=m.XpG(2);m.R7$(),m.Y8G("slidesPerView",1)("spaceBetween",50),m.R7$(),m.Y8G("ngIf",0!==d.swiperVidArr.length&&""!==d.swiperVidArr[0]),m.R7$(),m.Y8G("ngIf",0!==d.swiperImgArr.length)}}function Ot(g,i){if(1&g&&(m.j41(0,"p"),m.EFF(1),m.k0s()),2&g){const d=i.$implicit;m.R7$(),m.JRh(d)}}function un(g,i){if(1&g){const d=m.RV6();m.j41(0,"img",37),m.bIt("click",function(){m.eBV(d);const w=m.XpG(2);return m.Njj(w.bookmarkArticle(w.blogDetails.isBookMarked?"REMOVE":"SAVE",w.blogDetails.id))}),m.k0s()}if(2&g){const d=m.XpG(2);m.Y8G("ngClass",m.eq3(1,de,d.showSaveShimmer))}}function Cn(g,i){if(1&g){const d=m.RV6();m.j41(0,"img",38),m.bIt("click",function(){m.eBV(d);const w=m.XpG(2);return m.Njj(w.bookmarkArticle(w.blogDetails.isBookMarked?"REMOVE":"SAVE",w.blogDetails.id))}),m.k0s()}if(2&g){const d=m.XpG(2);m.Y8G("ngClass",m.eq3(1,de,d.showSaveShimmer))}}function An(g,i){if(1&g){const d=m.RV6();m.j41(0,"img",39),m.bIt("click",function(){m.eBV(d);const w=m.XpG(2);return m.Njj(w.share())}),m.k0s()}}function Nn(g,i){if(1&g&&(m.j41(0,"div",40)(1,"video",41),m.EFF(2," Your browser does not support the video tag. "),m.k0s()()),2&g){const d=m.XpG(2);m.R7$(),m.FS9("src",null==d.blogDetails?null:d.blogDetails.webSecondaryImageOrVideoUrl,m.B4B)}}function Et(g,i){if(1&g&&(m.j41(0,"div",40),m.nrm(1,"img",42),m.k0s()),2&g){const d=m.XpG(2);m.R7$(),m.FS9("src",d.blogDetails.webSecondaryImageOrVideoUrl,m.B4B)}}function Rt(g,i){if(1&g){const d=m.RV6();m.j41(0,"div",1),m.qex(1),m.nrm(2,"app-header"),m.bVm(),m.qex(3),m.nrm(4,"app-breadcrumb-nav",2),m.bVm(),m.j41(5,"div",3)(6,"div",4)(7,"div",5),m.bIt("click",function(){m.eBV(d);const w=m.XpG();return m.Njj(w.gotoPrevious())}),m.nrm(8,"img",6),m.k0s(),m.j41(9,"div",7)(10,"p"),m.EFF(11,"Coffee Blogs"),m.k0s()(),m.nrm(12,"div",8),m.k0s()(),m.DNE(13,Ye,4,4,"section",9),m.j41(14,"section",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"h3"),m.EFF(20),m.k0s()(),m.j41(21,"div",15)(22,"div",16),m.DNE(23,Ot,2,1,"p",17),m.k0s(),m.j41(24,"div",18),m.DNE(25,un,1,3,"img",19)(26,Cn,1,3,"img",20)(27,An,1,0,"img",21),m.k0s()(),m.j41(28,"div",22)(29,"div",23)(30,"img",24),m.bIt("error",function(){m.eBV(d);const w=m.XpG();return m.Njj(w.blogDetails.webAuthorImageUrl="assets/images/articles_author_placeholder.svg")}),m.k0s()(),m.j41(31,"div",25)(32,"h4"),m.EFF(33),m.k0s(),m.j41(34,"span",26),m.EFF(35),m.k0s()()(),m.j41(36,"div",27),m.nrm(37,"div",28),m.nI1(38,"safeHtml"),m.k0s(),m.DNE(39,Nn,3,1,"div",29)(40,Et,2,1,"div",29),m.k0s()()()()()}if(2&g){const d=m.XpG();m.R7$(4),m.Y8G("breadCrumbData",d.breadCrumbData),m.R7$(9),m.Y8G("ngIf",0!==d.swiperVidArr.length||0!==d.swiperImgArr.length),m.R7$(7),m.SpI(" ",null==d.blogDetails?null:d.blogDetails.title," "),m.R7$(3),m.Y8G("ngForOf",d.blogDetails.tagsList),m.R7$(),m.Y8G("ngClass",m.eq3(16,ae,d.showSaveShimmer)),m.R7$(),m.Y8G("ngIf",d.isLoggedIn&&!d.blogDetails.isBookMarked),m.R7$(),m.Y8G("ngIf",d.isLoggedIn&&d.blogDetails.isBookMarked),m.R7$(),m.Y8G("ngIf",d.isMobile),m.R7$(3),m.FS9("src",d.blogDetails.webAuthorImageUrl,m.B4B),m.R7$(3),m.SpI("",null==d.blogDetails?null:d.blogDetails.authorName," \xa0"),m.R7$(2),m.SpI("\u2022 ",null==d.blogDetails?null:d.blogDetails.readTime," read"),m.R7$(2),m.Y8G("innerHtml",m.bMT(38,14,null==d.blogDetails?null:d.blogDetails.description),m.npT),m.R7$(2),m.Y8G("ngIf",d.isVideo),m.R7$(),m.Y8G("ngIf",!d.isVideo&&d.blogDetails.webSecondaryImageOrVideoUrl)}}let jt=(()=>{class g{constructor(d,_,w,N,W,se,xe,Ue){this.commonFunction=d,this.cmsService=_,this.router=w,this._location=W,this.viewCartService=se,this.route=xe,this.loaderOverlayService=Ue,this.blogtype="",this.blogDetails=null,this.isVideo=!1,this.imgAvailableExtensions=new Set(["jpeg","tiff","gif","png","svg","tiff","tco","dvu","jpg"]),this.isLoggedIn=!1,this.title="Coffee Blogs | Tata Starbucks",this.configFull={pagination:{el:".swiper-pagination",clickable:!0},autoHeight:!0,allowTouchMove:!0,autoplay:{delay:2e3,disableOnInteraction:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:20},480:{spaceBetween:20,slidesPerView:1},1024:{slidesPerView:1,spaceBetween:50}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},loop:!1},this.swiperImgArr=[],this.swiperVidArr=[],this.ngNavigatorShareService=N,this.isLoggedIn=this.commonFunction.verifyLoggedInUser(),this.isMobile=this.commonFunction.identifyDeviceType(),this.getParam()}setBreadcrumb(d){this.breadCrumbData=[{title:"Home",path:"dashboard"},{title:d,path:"Blogs"}]}checkIsVideo(d){if(d.webSecondaryImageOrVideoUrl){let w=d.webSecondaryImageOrVideoUrl.substring(d.webSecondaryImageOrVideoUrl.lastIndexOf("/")+1).split(".").pop();this.imgAvailableExtensions.has(w.toLowerCase())||(this.isVideo=!0)}}bookmarkArticle(d,_){this.showSaveShimmer=!0,this.cmsService.saveUserBLog({blogId:_,action:d}).subscribe(N=>{this.showSaveShimmer=!1,this.blogDetails.isBookMarked="SAVE"===d},N=>{this.showSaveShimmer=!1,this.commonFunction.processErrorMessage(N,"failure")})}share(){this.ngNavigatorShareService.canShare()?this.ngNavigatorShareService.share({title:"Tata Starbucks",text:`Embrace the Coffee Culture with Starbucks. Check out our popular blog ${this.blogDetails.dynamicLink}`}).then(d=>{}).catch(d=>{}):alert("This service/api is not supported in your Browser")}gotoPrevious(){"/Blogs"===sessionStorage.getItem("previousPage")?this._location.back():this.router.navigate(["/dashboard"])}getParam(){let d=+this.route.snapshot.queryParamMap.get("BlogId");d?this.checkLogin(d):JSON.parse(sessionStorage.getItem("blogDetails"))?(this.blogDetails=JSON.parse(sessionStorage.getItem("blogDetails")),this.blogtype=this.blogDetails.catName,this.swiperImgArr=this.blogDetails&&this.blogDetails?.webBlogMedia&&this.blogDetails?.webBlogMedia?.mediaImages?this.blogDetails.webBlogMedia.mediaImages.length<=5?this.blogDetails.webBlogMedia.mediaImages:this.blogDetails.webBlogMedia.mediaImages.slice(0,5):"",this.swiperVidArr=this.blogDetails&&this.blogDetails?.webBlogMedia&&this.blogDetails?.webBlogMedia?.mediaVideos?this.blogDetails.webBlogMedia.mediaVideos:"",this.setBreadcrumb(this.blogtype),this.checkIsVideo(this.blogDetails)):this.router.navigate(["/discover-more-articles"])}checkLogin(d){this.loaderOverlayService.showLoader();let _=this.commonFunction.verifyLoggedInUser(),w=localStorage.getItem("guestUserToken");_||w?this.getAllBlogsItem(d):this.viewCartService.getGuestUserToken().subscribe(N=>{localStorage.setItem("guestUserToken",N.response.guestToken),this.getAllBlogsItem(d)})}getAllBlogsItem(d){this.newsListArray=[],this.cmsService.getblogCache().subscribe(_=>{let w=_.response.data;localStorage.setItem("dashboardBlogData",JSON.stringify(w));const N=[...w];this.loaderOverlayService.hideLoader(),N.forEach(W=>{W.attributes.categoryName&&this.newsListArray.push(W.attributes.blog_content),this.newsListArray=this.newsListArray.reduce((se,xe)=>se.concat(xe),[]),this.blogDetails=this.newsListArray.find(se=>+se.id==+d)}),this.blogDetails?(this.swiperImgArr=this.blogDetails.webBlogMedia&&this.blogDetails.webBlogMedia.mediaImages?this.blogDetails.webBlogMedia.mediaImages.length<=5?this.blogDetails.webBlogMedia.mediaImages:this.blogDetails.webBlogMedia.mediaImages.slice(0,5):"",this.swiperVidArr=this.blogDetails.webBlogMedia&&this.blogDetails.webBlogMedia.mediaVideos?this.blogDetails.webBlogMedia.mediaVideos:"",sessionStorage.setItem("blogDetails",JSON.stringify(this.blogDetails))):(sessionStorage.removeItem("blogDetails"),this.router.navigate(["/discover-more-articles"]))})}slideChange(d){1===d.detail[0].activeIndex&&(document.getElementsByTagName("video")[0].muted=!0)}toggleMute(){let d=document.getElementsByTagName("video")[0];d.muted=!d.muted}ngAfterViewInit(){this.swiperVidArr&&this.swiperVidArr[0]&&(this.player=me("video",{sources:[{src:this.swiperVidArr[0],type:"application/x-mpegURL"}]},function(){this.id()}))}ngOnDestroy(){null!=this.player&&this.player.dispose()}blogsGA(){dataLayer.push({event:"virtualpageview",page_location:window.location.href,page_title:this.title})}static#e=this.\u0275fac=function(_){return new(_||g)(m.rXU(ce.L),m.rXU(Ne.x),m.rXU(T.Ix),m.rXU(Be.X),m.rXU(ne.aZ),m.rXU(Ve.H),m.rXU(T.nX),m.rXU(Le.R))};static#t=this.\u0275cmp=m.VBU({type:g,selectors:[["app-coffee-blogs"]],decls:1,vars:1,consts:[["class","coffee-blog-wrap",4,"ngIf"],[1,"coffee-blog-wrap"],[3,"breadCrumbData"],[1,"d-block","d-sm-none"],[1,"mobile-header-bar"],[1,"left",3,"click"],["src","assets/icon/bck.svg","alt","back",2,"width","8px","height","16px"],[1,"title"],[1,"right"],["class","swiper-images",4,"ngIf"],[1,"coffee-blog-content"],[1,"container","pt-5"],[1,"row"],[1,"col-12","coffee-blog-space-m"],[1,"blog-title","mb-2"],[1,"tag-section","d-flex"],[1,"tag-section-left"],[4,"ngFor","ngForOf"],[1,"tag-section-right",3,"ngClass"],["class","save-img","src","assets/icon/save-blog.png","alt","save-blog",3,"ngClass","click",4,"ngIf"],["class","save-img saved-img","src","assets/icon/bookmark-green.svg","alt","save-blog",3,"ngClass","click",4,"ngIf"],["src","assets/icon/share-blog.png","alt","share-blog",3,"click",4,"ngIf"],[1,"author","mb-2"],[1,"image-round-wrapper"],["alt","author-image",3,"error","src"],[1,"left-item","d-flex"],[1,"read-time"],[1,"text-content","pt-2"],[3,"innerHtml"],["class","video-section",4,"ngIf"],[1,"swiper-images"],["navigation","false",3,"swiperslidechange","slidesPerView","spaceBetween"],[4,"ngIf"],[1,"swiper-img","video-section1"],["autoplay","","width","100%","height","320","preload","auto","id","video","controls","","playsinline","","data-setup","{}",1,"video-js"],[1,"swiper-img"],["alt","event image",1,"card-img",3,"src"],["src","assets/icon/save-blog.png","alt","save-blog",1,"save-img",3,"click","ngClass"],["src","assets/icon/bookmark-green.svg","alt","save-blog",1,"save-img","saved-img",3,"click","ngClass"],["src","assets/icon/share-blog.png","alt","share-blog",3,"click"],[1,"video-section"],["poster","","type","video/mp4","width","100%","controls","",3,"src"],["alt","","width","100%",3,"src"]],template:function(_,w){1&_&&m.DNE(0,Rt,41,18,"div",0),2&_&&m.Y8G("ngIf",w.blogDetails)},dependencies:[ne.YU,ne.Sq,ne.bT,q.l,z.k,J.$],styles:["section[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{display:flex}section[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .image-round-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:24px;height:24px}section[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .left-item[_ngcontent-%COMP%]{margin-top:.5em}section[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .left-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000000de;font-size:12px;font-weight:500;font-family:SoDoSans_Semibold,Helvetica,sans-serif;margin-left:.5rem}section[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .left-item[_ngcontent-%COMP%]   .read-time[_ngcontent-%COMP%]{font-size:10px}section[_ngcontent-%COMP%]   .text-content[_ngcontent-%COMP%]{margin-bottom:2em;white-space:pre-line}section[_ngcontent-%COMP%]   .text-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400}section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-family:SoDoSans_Semibold,Helvetica,sans-serif;color:#1e3932}.coffee-blog-wrap[_ngcontent-%COMP%]   .mobile-header-bar[_ngcontent-%COMP%]{display:flex;padding:20px;color:#000;justify-content:space-between;position:absolute;top:0;width:100%}.coffee-blog-wrap[_ngcontent-%COMP%]   .mobile-header-bar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.coffee-blog-wrap[_ngcontent-%COMP%]   .mobile-header-bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:SoDoSans_Semibold,Helvetica,sans-serif;font-size:14px;margin:0}.coffee-blog-wrap[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{width:100%}.coffee-blog-wrap[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;width:100%;height:520px;object-position:center;object-fit:cover}.coffee-blog-wrap[_ngcontent-%COMP%]   .swiper-images[_ngcontent-%COMP%]{margin-top:1rem}.coffee-blog-wrap[_ngcontent-%COMP%]   .swiper-images[_ngcontent-%COMP%]   .swiper-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:320px;object-fit:cover}.coffee-blog-wrap[_ngcontent-%COMP%]   .swiper-images[_ngcontent-%COMP%]   .swiper-img[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{background-color:#000}.coffee-blog-wrap[_ngcontent-%COMP%]   .swiper-images[_ngcontent-%COMP%]   .video-section1[_ngcontent-%COMP%]{min-height:320px}.coffee-blog-wrap[_ngcontent-%COMP%]   .swiper-images[_ngcontent-%COMP%]   .video-section1[_ngcontent-%COMP%]   .video-js[_ngcontent-%COMP%]{width:100%}.coffee-blog-wrap[_ngcontent-%COMP%]   .swiper-images[_ngcontent-%COMP%]   .video-section1[_ngcontent-%COMP%]     .vjs-big-play-button{top:50%;left:48%}.coffee-blog-wrap[_ngcontent-%COMP%]   .swiper-images[_ngcontent-%COMP%]   .video-section1[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{position:absolute;top:250px;left:46%;cursor:pointer}.coffee-blog-wrap[_ngcontent-%COMP%]   .coffee-blog-content[_ngcontent-%COMP%]{border-radius:24px 24px 0 0;background:#fff;width:100%}.coffee-blog-wrap[_ngcontent-%COMP%]   .coffee-blog-content[_ngcontent-%COMP%]   .tag-section[_ngcontent-%COMP%]{justify-content:space-between}.coffee-blog-wrap[_ngcontent-%COMP%]   .coffee-blog-content[_ngcontent-%COMP%]   .tag-section[_ngcontent-%COMP%]   .tag-section-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:SoDoSans_Semibold,Helvetica,sans-serif;background:#e6edeb;border-radius:4px;text-transform:capitalize;color:#096;font-size:9px;display:flex;align-items:center;height:16px;justify-content:center;width:-moz-fit-content;width:fit-content;padding:.5em}.coffee-blog-wrap[_ngcontent-%COMP%]   .coffee-blog-content[_ngcontent-%COMP%]   .tag-section[_ngcontent-%COMP%]   .tag-section-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0 1em;cursor:pointer}.coffee-blog-wrap[_ngcontent-%COMP%]   .coffee-blog-content[_ngcontent-%COMP%]   .tag-section[_ngcontent-%COMP%]   .tag-section-right[_ngcontent-%COMP%]   .save-img[_ngcontent-%COMP%]{padding:0;width:12px;height:16px}.coffee-blog-wrap[_ngcontent-%COMP%]   .coffee-blog-content[_ngcontent-%COMP%]   .tag-section[_ngcontent-%COMP%]   .tag-section-right[_ngcontent-%COMP%]   .saved-img[_ngcontent-%COMP%]{width:16px;height:18px}.coffee-blog-wrap[_ngcontent-%COMP%]   .coffee-blog-comment[_ngcontent-%COMP%]{padding:1em 0;background-color:#f9f9f9}.coffee-blog-wrap[_ngcontent-%COMP%]   .coffee-blog-comment[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}.coffee-blog-wrap[_ngcontent-%COMP%]   .coffee-blog-comment[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{padding-left:2em}.coffee-blog-wrap[_ngcontent-%COMP%]   .coffee-blog-comment[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.coffee-blog-wrap[_ngcontent-%COMP%]   .coffee-blog-comment[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]:last-child{border-bottom:none}.video-section[_ngcontent-%COMP%]{margin-bottom:1em}.video-section[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{height:373px;border-radius:8px}.video-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;border-radius:8px;object-fit:cover}@media only screen and (max-device-width: 450px){.coffee-blog-wrap[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{width:100%}.coffee-blog-wrap[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;width:100%;height:300px;object-position:center;object-fit:cover}.coffee-blog-wrap[_ngcontent-%COMP%]   .coffee-blog-content[_ngcontent-%COMP%]{margin-top:-30px}.coffee-blog-wrap[_ngcontent-%COMP%]   .swiper-images[_ngcontent-%COMP%]{margin-top:4rem}.video-section[_ngcontent-%COMP%]{margin-bottom:1em}.video-section[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{height:183px}.video-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:183px}.text-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow-wrap:break-word}.coffee-blog-space-m[_ngcontent-%COMP%]{padding-left:24px;padding-right:24px}}"]})}return g})();var Dt=E(5005),en=E(152),qe=E(6354),We=E(2524),ge=E(4599),mt=E(6),Ft=E(167),Lt=E(7835),bn=E(3235);function it(g,i){1&g&&(m.j41(0,"div",24)(1,"div",25),m.nrm(2,"span",26),m.k0s(),m.j41(3,"p"),m.EFF(4,"Please wait while we process your payment."),m.k0s()())}function dt(g,i){1&g&&(m.j41(0,"div",24)(1,"p"),m.EFF(2,"\xa0"),m.k0s(),m.nrm(3,"br"),m.k0s())}let $t=(()=>{class g{constructor(d,_,w,N,W,se,xe,Ue,Qe,Ze,gt){this.location=d,this.dialog=_,this.activeRoute=w,this.router=N,this.commonFunction=W,this.viewCartService=se,this.storageService=xe,this.encryptDecryptService=Ue,this.paymentGatewayService=Qe,this.ordersService=Ze,this.firestore=gt,this.breadCrumbData=[{title:"Home",path:"dashboard"},{title:"Starbucks Pay",path:""}],this.pgOrderStatus="",this.orderStatus="",this.count=0,this.paymentProcess=!0,this.paymentDetails=JSON.parse(localStorage.getItem("paymentModeDetails")),this.flag=0,w.queryParams.subscribe(Kt=>this.queryParams=Kt),this.orderStatusId=this.queryParams.status_id,this.pgOrderStatus=this.queryParams.status,this.orderId=this.queryParams.order_id,this.location.replaceState("/payment-activity"),"21"==this.orderStatusId?(this.location.replaceState("/payment-activity"),"MSR"===this.paymentDetails[0].paymentMode||"COUPON"===this.paymentDetails[0].paymentMode?this.commitOrderStatus():this.checkFireStore(this.orderId)):this.showPaymentStatus("cart")}ngOnInit(){JSON.parse(sessionStorage.getItem("browserBack"))}commitOrderStatus(){let d={orderId:this.encryptDecryptService.encryptData(this.orderId),paymentMethod:this.paymentDetails[0].paymentMode,txnType:"Fnb",paymentStatus:"CHARGED"===this.pgOrderStatus?"PaymentSuccess":"PaymentFailure",cardNumber:"MSR"===this.paymentDetails[0].paymentMode?this.encryptDecryptService.encryptData(this.paymentDetails[0].data.strLongCardNumber):null};this.paymentGatewayService.commitStatus(d).subscribe(_=>{sessionStorage.removeItem("reloadCardPay"),sessionStorage.removeItem("amountToReload"),this.removeBasketFromLocal(),sessionStorage.setItem("orderId",this.encryptDecryptService.encryptData(this.orderId)),this.router.navigate(["/order-track"])},_=>{sessionStorage.removeItem("reloadCardPay"),sessionStorage.removeItem("amountToReload"),this.commonFunction.processErrorMessage(_,"failure"),this.router.navigate(["/ordering/cart"])})}checkFireStore(d){this.firestore.collection("orders").doc(d).snapshotChanges().pipe((0,en.B)(1e3),(0,qe.T)(_=>_.payload.data())).subscribe(_=>{_&&"CHARGED"===_.orderStatus?(this.getStatus(d),clearTimeout(this.timeOut)):this.timeOut=setTimeout(()=>{this.showPaymentStatus("cart")},12e3)},_=>{})}getStatus(d){this.ordersService.getOrderStatus(d).subscribe(_=>{"COMPLETED"===_.response.orderStatus&&0===this.flag?(this.flag++,sessionStorage.removeItem("reloadCardPay"),sessionStorage.removeItem("amountToReload"),this.removeBasketFromLocal(),sessionStorage.setItem("orderId",this.encryptDecryptService.encryptData(d)),this.router.navigate(["/order-track"])):0===this.count?setTimeout(()=>{this.count++,this.getStatus(d)},12e4):this.showPaymentStatus("cart")},_=>{sessionStorage.removeItem("reloadCardPay"),sessionStorage.removeItem("amountToReload"),this.commonFunction.processErrorMessage(_,"failure"),this.router.navigate(["/ordering/cart"])})}deleteBasket(){let d=this.storageService.getBasketId();d&&this.viewCartService.deleteBasket({basketId:d}).subscribe(w=>{localStorage.removeItem("snackbarData"),this.storageService.clearBasketId(),sessionStorage.removeItem("finalReqBodyArray"),this.storageService.removeOrderType()},w=>{})}showPaymentStatus(d){this.paymentProcess=!1,this.dialog.open(Dt.U,{width:"744px",panelClass:"payment-fail-dialog",data:d,disableClose:!0}).afterClosed().subscribe(w=>{})}removeBasketFromLocal(){localStorage.removeItem("snackbarData"),this.storageService.clearBasketId(),sessionStorage.removeItem("finalReqBodyArray"),this.storageService.removeOrderType()}static#e=this.\u0275fac=function(_){return new(_||g)(m.rXU(ne.aZ),m.rXU(We.bZ),m.rXU(T.nX),m.rXU(T.Ix),m.rXU(ce.L),m.rXU(Ve.H),m.rXU(ge.n),m.rXU(mt.I),m.rXU(Ft.W),m.rXU(Lt.B),m.rXU(bn.Qe))};static#t=this.\u0275cmp=m.VBU({type:g,selectors:[["app-payment-activity"]],decls:41,vars:3,consts:[[1,"payment-shimmer-wraper","comman-wrap"],[3,"breadCrumbData"],[1,"green-panel"],[1,"container"],[1,"row"],["class","col-12 text-center",4,"ngIf"],[1,"track-bar"],[1,"row","justify-content-center"],[1,"col-12","track-card"],[1,"shimmer-wrap"],[1,"wrapper"],[1,"comment-second","br","animate","w-30"],[1,"comment-track","br","animate","w-100"],[1,"comment-track","br","animate","w-20"],[1,"full-card"],[1,"col-12"],[1,"card-full-length","br","animate","w-100"],[1,"shimmer-wrap","mt-4"],[1,"white-card"],[1,"col-12","white-bg"],[1,"comment","br","animate","w-20"],[1,"comment","br","animate","w-30"],[1,"comment","br","animate","w-10"],[1,"shimmer-button","br","animate","w-10"],[1,"col-12","text-center"],["role","status",1,"spinner-border","text-light"],[1,"sr-only"]],template:function(_,w){1&_&&(m.j41(0,"div",0),m.qex(1),m.nrm(2,"app-header"),m.bVm(),m.qex(3),m.nrm(4,"app-breadcrumb-nav",1),m.bVm(),m.j41(5,"section",2)(6,"div",3)(7,"div",4),m.DNE(8,it,5,0,"div",5)(9,dt,4,0,"div",5),m.k0s()()(),m.j41(10,"section",6)(11,"div",3)(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10),m.nrm(16,"div",11)(17,"div",12)(18,"div",13),m.k0s()()()()()(),m.j41(19,"section",14)(20,"div",3)(21,"div",4)(22,"div",15)(23,"div",9)(24,"div",10),m.nrm(25,"div",16),m.k0s()()()(),m.j41(26,"div",4)(27,"div",15)(28,"div",17)(29,"div",10),m.nrm(30,"div",11),m.k0s()()()()()(),m.j41(31,"section",18)(32,"div",3)(33,"div",4)(34,"div",19)(35,"div",9)(36,"div",10),m.nrm(37,"div",20)(38,"div",21)(39,"div",22)(40,"div",23),m.k0s()()()()()()()),2&_&&(m.R7$(4),m.Y8G("breadCrumbData",w.breadCrumbData),m.R7$(4),m.Y8G("ngIf",w.paymentProcess),m.R7$(),m.Y8G("ngIf",!w.paymentProcess))},dependencies:[ne.bT,q.l,z.k],styles:[".payment-shimmer-wraper[_ngcontent-%COMP%]   .green-panel[_ngcontent-%COMP%]{background:#1e3932;padding:5em 0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .green-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fbfbfb;font-family:SoDoSans_Semibold;font-size:1.2em}.payment-shimmer-wraper[_ngcontent-%COMP%]   .track-bar[_ngcontent-%COMP%]   .track-card[_ngcontent-%COMP%]{color:#fff;border-radius:8px;background-color:#006241;box-shadow:0 12px 17px #00000012,0 5px 22px #0000000f,0 7px 8px #0000001a;position:absolute;width:700px;padding:1em 8em 1em 1em;top:18em}.payment-shimmer-wraper[_ngcontent-%COMP%]   .full-card[_ngcontent-%COMP%]{box-shadow:0 0 2px #00000012,0 2px 2px #0000000f,0 1px 3px #0000001a;padding:1em 0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .white-card[_ngcontent-%COMP%]{margin:1em 0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .white-bg[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 2px #00000012,0 2px 2px #0000000f,0 1px 3px #0000001a;border-radius:8px}.payment-shimmer-wraper[_ngcontent-%COMP%]   .swiper-shimmer[_ngcontent-%COMP%]{margin-top:.5em;margin-bottom:2em}.payment-shimmer-wraper[_ngcontent-%COMP%]   .item-section[_ngcontent-%COMP%]{background:#f9f9f9}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:0px;animation:_ngcontent-%COMP%_fullView .5s forwards cubic-bezier(.25,.46,.45,.94)}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .profilePic[_ngcontent-%COMP%]{height:170px;width:100%;border-radius:8px 8px 0 0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .cardPic[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .handpicked[_ngcontent-%COMP%]{height:75px;width:75px;border-radius:50%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{height:18px;background:#777;border-radius:5px;margin:20px 1em}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .comment-second[_ngcontent-%COMP%]{height:12px;background:#777;border-radius:5px;margin:0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .comment-track[_ngcontent-%COMP%]{height:8px;border-radius:6px;margin:20px 0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .shimmer-button[_ngcontent-%COMP%]{height:28px;border-radius:16px;margin:20px 1em}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .card-full-length[_ngcontent-%COMP%]{height:160px;border-radius:8px;margin-top:6em}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .card-full-length2[_ngcontent-%COMP%]{height:380px;border-radius:8px}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-75[_ngcontent-%COMP%]{width:75%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-60[_ngcontent-%COMP%]{width:60%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-40[_ngcontent-%COMP%]{width:40%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-30[_ngcontent-%COMP%]{width:30%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-20[_ngcontent-%COMP%]{width:20%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-10[_ngcontent-%COMP%]{width:10%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-custom[_ngcontent-%COMP%]{width:200px;margin:0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .loader-btn[_ngcontent-%COMP%]{width:102px;margin:0;padding:17px;border-radius:16px}@keyframes _ngcontent-%COMP%_fullView{to{width:100%}}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear;background:linear-gradient(to right,#eff1f3 4%,#d9d9d9 25%,#eff1f3 36%);background-size:1000px 100%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .animate-loader[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear;background:linear-gradient(to right,#00804c4d 4%,#00804cc4 25%,#00804c38 36%);background-size:1000px 100%}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-1000px 0}to{background-position:1000px 0}}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-card[_ngcontent-%COMP%]{box-shadow:0 2px 4px #00000012,0 4px 5px #0000000f,0 1px 10px #0000001a;border-radius:8px}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-bg[_ngcontent-%COMP%]{background-color:#fff}@media only screen and (max-width: 576px){.payment-shimmer-wraper[_ngcontent-%COMP%]   .track-bar[_ngcontent-%COMP%]   .track-card[_ngcontent-%COMP%]{top:20em}}"]})}return g})();var Pn=E(7128),qn=E(1413),Pi=E(3726),hi=E(6977),Ci=E(4091);function qt(g,i){1&g&&(m.j41(0,"div",24)(1,"div",25),m.nrm(2,"span",26),m.k0s(),m.j41(3,"p"),m.EFF(4,"Please wait while we process your payment."),m.k0s()())}function Ie(g,i){1&g&&(m.j41(0,"div",24)(1,"p"),m.EFF(2,"\xa0"),m.k0s(),m.nrm(3,"br"),m.k0s())}let Te=(()=>{class g{constructor(d,_,w,N,W,se,xe,Ue,Qe){this.dialog=d,this.router=_,this.location=w,this.cardsPay=N,this.commonFunction=W,this.activeRoute=se,this.encryptDecryptService=xe,this.ordersService=Ue,this.firestore=Qe,this.breadCrumbData=[{title:"Home",path:"dashboard"},{title:"Gift & Merchandise",path:""}],this.isLoggedIn=!1,this.paymentProcess=!0,this.unsubscriber=new qn.B,this.count=0,this.activeRoute.queryParams.subscribe(Ze=>this.queryParams=Ze),this.orderStatusId=this.queryParams.status_id,this.pgOrderStatus=this.queryParams.status,this.pgOrderId=this.queryParams.order_id,this.location.replaceState("/giftcards/payment-activity"),"21"==this.orderStatusId?this.checkFireStore(this.pgOrderId):this.showPaymentStatus("giftcards")}ngOnInit(){history.pushState(null,""),(0,Pi.R)(window,"popstate").pipe((0,hi.Q)(this.unsubscriber)).subscribe(d=>{history.pushState(null,"")})}ngOnDestroy(){this.unsubscriber.next(),this.unsubscriber.complete()}commitOrder(d){let _={orderId:this.encryptDecryptService.encryptData(d),paymentStatus:this.encryptDecryptService.encryptData("CHARGED"===this.pgOrderStatus?"PaymentSuccess":"PaymentFailure")};this.cardsPay.commitCard(_).subscribe(w=>{sessionStorage.setItem("gcOrderId",this.encryptDecryptService.encryptData(d)),this.router.navigate(["/giftcards/trackgiftcard"])},w=>{this.commonFunction.processErrorMessage(w,"failure"),this.router.navigate(["/giftcards"])})}checkFireStore(d){this.firestore.collection("orders").doc(d).snapshotChanges().pipe((0,qe.T)(_=>_.payload.data())).subscribe(_=>{_?"CHARGED"===_.orderStatus?(this.getStatus(d),clearTimeout(this.timeOut)):this.timeOut=setTimeout(()=>{this.showPaymentStatus("giftcards")},12e4):this.getStatus(d)},_=>{})}getStatus(d){this.ordersService.gcOrderStatus(d).subscribe(_=>{"COMPLETED"===_.response.orderStatus?(sessionStorage.setItem("gcOrderId",this.encryptDecryptService.encryptData(d)),this.router.navigate(["/giftcards/trackgiftcard"])):0===this.count?setTimeout(()=>{this.count++,this.getStatus(d)},12e4):this.showPaymentStatus("giftcards")},_=>{this.commonFunction.processErrorMessage(_,"failure"),this.router.navigate(["/giftcards"])})}showPaymentStatus(d){this.paymentProcess=!1,this.dialog.open(Dt.U,{width:"744px",panelClass:"payment-fail-dialog",data:d,disableClose:!0}).afterClosed().subscribe(w=>{})}static#e=this.\u0275fac=function(_){return new(_||g)(m.rXU(We.bZ),m.rXU(T.Ix),m.rXU(ne.aZ),m.rXU(Ci.I),m.rXU(ce.L),m.rXU(T.nX),m.rXU(mt.I),m.rXU(Lt.B),m.rXU(bn.Qe))};static#t=this.\u0275cmp=m.VBU({type:g,selectors:[["app-gc-pyament-activity"]],decls:41,vars:3,consts:[[1,"payment-shimmer-wraper","comman-wrap"],[3,"breadCrumbData"],[1,"green-panel"],[1,"container"],[1,"row"],["class","col-12 text-center",4,"ngIf"],[1,"track-bar"],[1,"row","justify-content-center"],[1,"col-12","track-card"],[1,"shimmer-wrap"],[1,"wrapper"],[1,"comment-second","br","animate","w-30"],[1,"comment-track","br","animate","w-100"],[1,"comment-track","br","animate","w-20"],[1,"full-card"],[1,"col-12"],[1,"card-full-length","br","animate","w-100"],[1,"shimmer-wrap","mt-4"],[1,"white-card"],[1,"col-12","white-bg"],[1,"comment","br","animate","w-20"],[1,"comment","br","animate","w-30"],[1,"comment","br","animate","w-10"],[1,"shimmer-button","br","animate","w-10"],[1,"col-12","text-center"],["role","status",1,"spinner-border","text-light"],[1,"sr-only"]],template:function(_,w){1&_&&(m.j41(0,"div",0),m.qex(1),m.nrm(2,"app-header"),m.bVm(),m.qex(3),m.nrm(4,"app-breadcrumb-nav",1),m.bVm(),m.j41(5,"section",2)(6,"div",3)(7,"div",4),m.DNE(8,qt,5,0,"div",5)(9,Ie,4,0,"div",5),m.k0s()()(),m.j41(10,"section",6)(11,"div",3)(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10),m.nrm(16,"div",11)(17,"div",12)(18,"div",13),m.k0s()()()()()(),m.j41(19,"section",14)(20,"div",3)(21,"div",4)(22,"div",15)(23,"div",9)(24,"div",10),m.nrm(25,"div",16),m.k0s()()()(),m.j41(26,"div",4)(27,"div",15)(28,"div",17)(29,"div",10),m.nrm(30,"div",11),m.k0s()()()()()(),m.j41(31,"section",18)(32,"div",3)(33,"div",4)(34,"div",19)(35,"div",9)(36,"div",10),m.nrm(37,"div",20)(38,"div",21)(39,"div",22)(40,"div",23),m.k0s()()()()()()()),2&_&&(m.R7$(4),m.Y8G("breadCrumbData",w.breadCrumbData),m.R7$(4),m.Y8G("ngIf",w.paymentProcess),m.R7$(),m.Y8G("ngIf",!w.paymentProcess))},dependencies:[ne.bT,q.l,z.k],styles:[".payment-shimmer-wraper[_ngcontent-%COMP%]   .green-panel[_ngcontent-%COMP%]{background:#1e3932;padding:5em 0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .green-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fbfbfb;font-family:SoDoSans_Semibold;font-size:1.2em}.payment-shimmer-wraper[_ngcontent-%COMP%]   .track-bar[_ngcontent-%COMP%]   .track-card[_ngcontent-%COMP%]{color:#fff;border-radius:8px;background-color:#006241;box-shadow:0 12px 17px #00000012,0 5px 22px #0000000f,0 7px 8px #0000001a;position:absolute;width:700px;padding:1em 8em 1em 1em;top:18em}.payment-shimmer-wraper[_ngcontent-%COMP%]   .full-card[_ngcontent-%COMP%]{box-shadow:0 0 2px #00000012,0 2px 2px #0000000f,0 1px 3px #0000001a;padding:1em 0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .white-card[_ngcontent-%COMP%]{margin:1em 0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .white-bg[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 2px #00000012,0 2px 2px #0000000f,0 1px 3px #0000001a;border-radius:8px}.payment-shimmer-wraper[_ngcontent-%COMP%]   .swiper-shimmer[_ngcontent-%COMP%]{margin-top:.5em;margin-bottom:2em}.payment-shimmer-wraper[_ngcontent-%COMP%]   .item-section[_ngcontent-%COMP%]{background:#f9f9f9}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:0px;animation:_ngcontent-%COMP%_fullView .5s forwards cubic-bezier(.25,.46,.45,.94)}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .profilePic[_ngcontent-%COMP%]{height:170px;width:100%;border-radius:8px 8px 0 0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .cardPic[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .handpicked[_ngcontent-%COMP%]{height:75px;width:75px;border-radius:50%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{height:18px;background:#777;border-radius:5px;margin:20px 1em}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .comment-second[_ngcontent-%COMP%]{height:12px;background:#777;border-radius:5px;margin:0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .comment-track[_ngcontent-%COMP%]{height:8px;border-radius:6px;margin:20px 0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .shimmer-button[_ngcontent-%COMP%]{height:28px;border-radius:16px;margin:20px 1em}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .card-full-length[_ngcontent-%COMP%]{height:160px;border-radius:8px;margin-top:6em}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .card-full-length2[_ngcontent-%COMP%]{height:380px;border-radius:8px}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-75[_ngcontent-%COMP%]{width:75%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-60[_ngcontent-%COMP%]{width:60%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-40[_ngcontent-%COMP%]{width:40%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-30[_ngcontent-%COMP%]{width:30%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-20[_ngcontent-%COMP%]{width:20%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-10[_ngcontent-%COMP%]{width:10%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .w-custom[_ngcontent-%COMP%]{width:200px;margin:0}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .loader-btn[_ngcontent-%COMP%]{width:102px;margin:0;padding:17px;border-radius:16px}@keyframes _ngcontent-%COMP%_fullView{to{width:100%}}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear;background:linear-gradient(to right,#eff1f3 4%,#d9d9d9 25%,#eff1f3 36%);background-size:1000px 100%}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-wrap[_ngcontent-%COMP%]   .animate-loader[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear;background:linear-gradient(to right,#00804c4d 4%,#00804cc4 25%,#00804c38 36%);background-size:1000px 100%}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-1000px 0}to{background-position:1000px 0}}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-card[_ngcontent-%COMP%]{box-shadow:0 2px 4px #00000012,0 4px 5px #0000000f,0 1px 10px #0000001a;border-radius:8px}.payment-shimmer-wraper[_ngcontent-%COMP%]   .shimmer-bg[_ngcontent-%COMP%]{background-color:#fff}@media only screen and (max-width: 576px){.payment-shimmer-wraper[_ngcontent-%COMP%]   .track-bar[_ngcontent-%COMP%]   .track-card[_ngcontent-%COMP%]{top:20em}}"]})}return g})();var Ge=E(2744);const Gt=[{path:"",pathMatch:"full",redirectTo:"/dashboard"},{path:"dashboard",loadChildren:()=>Promise.all([E.e(97),E.e(305),E.e(76),E.e(930)]).then(E.bind(E,2930)).then(g=>g.DashboardModule)},{path:"login",loadChildren:()=>E.e(75).then(E.bind(E,6075)).then(g=>g.LoginModule)},{path:"welcome",loadChildren:()=>Promise.all([E.e(76),E.e(459)]).then(E.bind(E,6459)).then(g=>g.WelcomePageModule)},{path:"registration",loadChildren:()=>Promise.all([E.e(76),E.e(588)]).then(E.bind(E,1588)).then(g=>g.RegistrationModule)},{path:"events",loadChildren:()=>Promise.all([E.e(76),E.e(107)]).then(E.bind(E,107)).then(g=>g.OnlineEventsModule)},{path:"rewards",loadChildren:()=>Promise.all([E.e(413),E.e(76),E.e(228)]).then(E.bind(E,3228)).then(g=>g.RewardsModule)},{path:"pay",loadChildren:()=>Promise.all([E.e(703),E.e(413),E.e(79),E.e(531)]).then(E.bind(E,9531)).then(g=>g.PaymentModule)},{path:"ordering",loadChildren:()=>Promise.all([E.e(97),E.e(703),E.e(305),E.e(31),E.e(76),E.e(101)]).then(E.bind(E,1101)).then(g=>g.OrderingModule)},{path:"giftcards",loadChildren:()=>Promise.all([E.e(79),E.e(695)]).then(E.bind(E,6061)).then(g=>g.GiftCardsModule)},{path:"gc/pgactivity",component:Te},{path:"manage-card",loadChildren:()=>E.e(500).then(E.bind(E,4500)).then(g=>g.ManageCardModule)},{path:"payment-activity",component:$t},{path:"store-locator",loadChildren:()=>Promise.all([E.e(76),E.e(612)]).then(E.bind(E,612)).then(g=>g.StoreModule)},{path:"profile",loadChildren:()=>Promise.all([E.e(76),E.e(577)]).then(E.bind(E,9577)).then(g=>g.UserProfileModule)},{path:"order-track",loadChildren:()=>E.e(231).then(E.bind(E,2231)).then(g=>g.OrderTrackModule)},{path:"discover-more-articles",loadChildren:()=>E.e(217).then(E.bind(E,5217)).then(g=>g.DiscoverMoreArticlesModule)},{path:"saved-blogs",component:be},{path:"Blogs",component:jt},{path:"terms-and-conditions",loadChildren:()=>E.e(835).then(E.bind(E,9835)).then(g=>g.TermsAndConditionsListingModule)},{path:"search",loadChildren:()=>Promise.all([E.e(97),E.e(76),E.e(879)]).then(E.bind(E,6879)).then(g=>g.GlobalSearchModule)},{path:"subscription",loadChildren:()=>Promise.all([E.e(703),E.e(31),E.e(635)]).then(E.bind(E,7635)).then(g=>g.SubscriptionModule)},{path:"subscription-order",component:Pn.y},{path:"articles",loadChildren:()=>E.e(884).then(E.bind(E,3884)).then(g=>g.FooterContentModule)},{path:"whatsapp",loadChildren:()=>Promise.all([E.e(76),E.e(374)]).then(E.bind(E,4374)).then(g=>g.WhatsappModule)},{path:"CampaignDetail",loadChildren:()=>Promise.all([E.e(76),E.e(54)]).then(E.bind(E,1054)).then(g=>g.SingleUseCouponModule)},{path:"appdownload",component:(()=>{class g{constructor(d){this.router=d,this.devicetype="",this.devicetype=this.getMobileOperatingSystem()}ngOnInit(){""!=this.devicetype&&this.redirectToPlayStore()}getMobileOperatingSystem(){var d=navigator.userAgent||navigator.vendor;return/windows phone/i.test(d)?"Windows Phone":/android/i.test(d)?"Android":/iPad|iPhone|iPod/.test(d)?"IOs":"unknown"}redirectToPlayStore(){"Android"==this.devicetype?window.location.href="https://play.google.com/store/apps/details?id=com.starbucks.in":"IOs"==this.devicetype?window.location.href="https://apps.apple.com/in/app/starbucks-india/id1210203958":"unknown"==this.devicetype&&window.location.replace("https://www.starbucks.in/dashboard")}static#e=this.\u0275fac=function(_){return new(_||g)(m.rXU(T.Ix))};static#t=this.\u0275cmp=m.VBU({type:g,selectors:[["app-app-download"]],decls:0,vars:0,template:function(_,w){}})}return g})()},{path:":url",loadChildren:()=>E.e(884).then(E.bind(E,3884)).then(g=>g.FooterContentModule)},{path:"**",component:Ge.Q}];let En=(()=>{class g{static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275mod=m.$C({type:g});static#n=this.\u0275inj=m.G2t({imports:[T.iI.forRoot(Gt,{scrollPositionRestoration:"enabled"}),T.iI]})}return g})();var Yn=E(8359),Mi=E(7786),yi=E(5964),bi=E(3236),rr=E(9974),br=E(4360),Si=E(8750),$i=E(1807);class rs{constructor(i,d){this.source=i,i.initialize&&i.initialize(d)}subscribe(i){this.sub=this.source.onInterrupt.subscribe(i)}unsubscribe(){this.sub.unsubscribe(),this.sub=null}resume(){this.source.attach()}pause(){this.source.detach()}}class Dn{constructor(){this.idValue=new Date,this.idlingValue=!1}id(i){if(void 0!==i){if(!i)throw new Error("A value must be specified for the ID.");this.idValue=i}return this.idValue}idling(i){return void 0!==i&&(this.idlingValue=i),this.idlingValue}now(){return new Date}isExpired(){const i=this.last();return null!=i&&i<=this.now()}}class On{constructor(){this.storageMap={}}get length(){return Object.keys(this.storageMap).length}clear(){this.storageMap={}}getItem(i){return typeof this.storageMap[i]<"u"?this.storageMap[i]:null}key(i){return Object.keys(this.storageMap)[i]||null}removeItem(i){this.storageMap[i]=void 0}setItem(i,d){this.storageMap[i]=d}}let bt=(()=>{class g{constructor(){this.storage=this.getStorage()}getStorage(){try{const d=localStorage;return d.setItem("ng2IdleStorage",""),d.removeItem("ng2IdleStorage"),d}catch{return new On}}getItem(d){return this.storage.getItem("ng2Idle."+d)}removeItem(d){this.storage.removeItem("ng2Idle."+d)}setItem(d,_){this.storage.setItem("ng2Idle."+d,_)}_wrapped(){return this.storage}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac})}return g})(),Pt=(()=>{class g extends Dn{constructor(d){super(),this.localStorage=d,this.idleName="main"}last(d){return void 0!==d&&this.setExpiry(d),this.getExpiry()}idling(d){return void 0!==d&&this.setIdling(d),this.getIdling()}getIdleName(){return this.idleName}setIdleName(d){d&&(this.idleName=d)}getExpiry(){const d=this.localStorage.getItem(this.idleName+".expiry");return d?new Date(parseInt(d,10)):null}setExpiry(d){d?this.localStorage.setItem(this.idleName+".expiry",d.getTime().toString()):this.localStorage.removeItem(this.idleName+".expiry")}getIdling(){const d=this.localStorage.getItem(this.idleName+".idling");return!!d&&"true"===d}setIdling(d){this.localStorage.setItem(this.idleName+".idling",d?d.toString():"false")}static#e=this.\u0275fac=function(_){return new(_||g)(m.KVO(bt))};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac})}return g})();class Vt{}var yt=function(g){return g[g.disabled=0]="disabled",g[g.idle=1]="idle",g[g.notIdle=2]="notIdle",g}(yt||{});let Ht=(()=>{class g{constructor(d,_,w,N){this.expiry=d,this.zone=_,this.platformId=N,this.idle=1200,this.timeoutVal=30,this.autoResume=yt.idle,this.interrupts=new Array,this.running=!1,this.keepaliveEnabled=!1,this.onIdleStart=new m.bkB,this.onIdleEnd=new m.bkB,this.onTimeoutWarning=new m.bkB,this.onTimeout=new m.bkB,this.onInterrupt=new m.bkB,w&&(this.keepaliveSvc=w,this.keepaliveEnabled=!0),this.setIdling(!1)}setIdleName(d){if(!(this.expiry instanceof Pt))throw new Error("Cannot set expiry key name because no LocalStorageExpiry has been provided.");this.expiry.setIdleName(d)}getKeepaliveEnabled(){return this.keepaliveEnabled}setKeepaliveEnabled(d){if(!this.keepaliveSvc)throw new Error("Cannot enable keepalive integration because no KeepaliveSvc has been provided.");return this.keepaliveEnabled=d}getTimeout(){return this.timeoutVal}setTimeout(d){if(!1===d)this.timeoutVal=0;else{if(!("number"==typeof d&&d>=0))throw new Error("'seconds' can only be 'false' or a positive number.");this.timeoutVal=d}return this.timeoutVal}getIdle(){return this.idle}setIdle(d){if(d<=0)throw new Error("'seconds' must be greater zero");return this.idle=d}getAutoResume(){return this.autoResume}setAutoResume(d){return this.autoResume=d}setInterrupts(d){this.clearInterrupts();const _=this;for(const w of d){const W=new rs(w,{platformId:this.platformId});W.subscribe(se=>{_.interrupt(se.force,se.innerArgs)}),this.interrupts.push(W)}return this.interrupts}getInterrupts(){return this.interrupts}clearInterrupts(){for(const d of this.interrupts)d.pause(),d.unsubscribe();this.interrupts.length=0}isRunning(){return this.running}isIdling(){return this.idling}watch(d){this.safeClearInterval("idleHandle"),this.safeClearInterval("timeoutHandle");const _=this.timeoutVal?this.timeoutVal:0;if(!d){const N=new Date(this.expiry.now().getTime()+1e3*(this.idle+_));this.expiry.last(N)}this.idling&&this.toggleState(),this.running||(this.startKeepalive(),this.toggleInterrupts(!0)),this.running=!0;const w=()=>{this.zone.run(()=>{this.getExpiryDiff(_)>0?(this.safeClearInterval("idleHandle"),this.setIdleIntervalOutsideOfZone(w,1e3)):this.toggleState()})};this.setIdleIntervalOutsideOfZone(w,1e3)}setIdleIntervalOutsideOfZone(d,_){this.zone.runOutsideAngular(()=>{this.idleHandle=setInterval(d,_)})}stop(){this.stopKeepalive(),this.toggleInterrupts(!1),this.safeClearInterval("idleHandle"),this.safeClearInterval("timeoutHandle"),this.setIdling(!1),this.running=!1,this.expiry.last(null)}timeout(){this.stopKeepalive(),this.toggleInterrupts(!1),this.safeClearInterval("idleHandle"),this.safeClearInterval("timeoutHandle"),this.setIdling(!0),this.running=!1,this.countdown=0,this.onTimeout.emit(null)}interrupt(d,_){if(this.running){if(this.timeoutVal&&this.expiry.isExpired())return void this.timeout();this.onInterrupt.emit(_),(!0===d||this.autoResume===yt.idle||this.autoResume===yt.notIdle&&!this.expiry.idling())&&this.watch(d)}}setIdling(d){this.idling=d,this.expiry.idling(d)}toggleState(){this.setIdling(!this.idling),this.idling?(this.onIdleStart.emit(null),this.stopKeepalive(),this.timeoutVal>0&&(this.countdown=this.timeoutVal,this.doCountdown(),this.setTimeoutIntervalOutsideZone(()=>{this.doCountdownInZone()},1e3))):(this.toggleInterrupts(!0),this.onIdleEnd.emit(null),this.startKeepalive()),this.safeClearInterval("idleHandle")}setTimeoutIntervalOutsideZone(d,_){this.zone.runOutsideAngular(()=>{this.timeoutHandle=setInterval(()=>{d()},_)})}toggleInterrupts(d){for(const _ of this.interrupts)d?_.resume():_.pause()}getExpiryDiff(d){const _=this.expiry.now();return(this.expiry.last()||_).getTime()-_.getTime()-1e3*d}doCountdownInZone(){this.zone.run(()=>{this.doCountdown()})}doCountdown(){const d=this.getExpiryDiff(this.timeoutVal);if(d>0)return this.safeClearInterval("timeoutHandle"),void this.interrupt(!0);this.idling&&(this.countdown<=0?this.timeout():(this.onTimeoutWarning.emit(this.countdown),this.countdown=Math.round((1e3*(this.timeoutVal-1)+d)/1e3)))}safeClearInterval(d){const _=this[d];null!==_&&typeof _<"u"&&(clearInterval(this[d]),this[d]=null)}startKeepalive(){!this.keepaliveSvc||!this.keepaliveEnabled||(this.running&&this.keepaliveSvc.ping(),this.keepaliveSvc.start())}stopKeepalive(){!this.keepaliveSvc||!this.keepaliveEnabled||this.keepaliveSvc.stop()}ngOnDestroy(){this.stop(),this.clearInterrupts()}static#e=this.\u0275fac=function(_){return new(_||g)(m.KVO(Dn),m.KVO(m.SKi),m.KVO(Vt,8),m.KVO(m.Agw,8))};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac})}return g})();class ft{constructor(i,d,_=!1){this.source=i,this.innerArgs=d,this.force=_}}class wt{constructor(i,d){this.attachFn=i,this.detachFn=d,this.isAttached=!1,this.onInterrupt=new m.bkB}attach(){!0!==Zone.current.get("isAngularZone")?(!this.isAttached&&this.attachFn&&this.attachFn(this),this.isAttached=!0):Zone.current.parent.run(()=>this.attach())}detach(){this.isAttached&&this.detachFn&&this.detachFn(this),this.isAttached=!1}}class st extends wt{constructor(i,d,_){super(null,null),this.target=i,this.events=d,this.opts=_,this.eventSubscription=new Yn.yU,"number"==typeof this.opts&&(this.opts={throttleDelay:this.opts,passive:!1}),this.opts=this.opts||{passive:!1,throttleDelay:500},null==this.opts.throttleDelay&&(this.opts.throttleDelay=500),this.throttleDelay=this.opts.throttleDelay,this.passive=!!this.opts.passive}initialize(i){if(i?.platformId&&(0,ne.Vy)(i.platformId))return;const d="function"==typeof this.target?this.target():this.target,_=this.passive?{passive:!0}:null,w=this.events.split(" ").map(W=>(0,Pi.R)(d,W,_));this.eventSrc=(0,Mi.h)(...w),this.eventSrc=this.eventSrc.pipe((0,yi.p)(W=>!this.filterEvent(W))),this.throttleDelay>0&&(this.eventSrc=this.eventSrc.pipe(function Gi(g,i=bi.E,d){const _=(0,$i.O)(g,i);return function Ar(g,i){return(0,rr.N)((d,_)=>{const{leading:w=!0,trailing:N=!1}=i??{};let W=!1,se=null,xe=null,Ue=!1;const Qe=()=>{xe?.unsubscribe(),xe=null,N&&(Kt(),Ue&&_.complete())},Ze=()=>{xe=null,Ue&&_.complete()},gt=zt=>xe=(0,Si.Tg)(g(zt)).subscribe((0,br._)(_,Qe,Ze)),Kt=()=>{if(W){W=!1;const zt=se;se=null,_.next(zt),!Ue&&gt(zt)}};d.subscribe((0,br._)(_,zt=>{W=!0,se=zt,(!xe||xe.closed)&&(w?Kt():gt(zt))},()=>{Ue=!0,(!(N&&W&&xe)||xe.closed)&&_.complete()}))})}(()=>_,d)}(this.throttleDelay)));const N=W=>this.onInterrupt.emit(new ft(this,W));this.attachFn=()=>this.eventSubscription=this.eventSrc.subscribe(N),this.detachFn=()=>this.eventSubscription.unsubscribe()}filterEvent(i){return!1}get options(){return{passive:this.passive,throttleDelay:this.throttleDelay}}}class V extends st{constructor(i,d){super(()=>document.documentElement,i,d)}filterEvent(i){return!("mousemove"!==i.type||!(i.originalEvent&&0===i.originalEvent.movementX&&0===i.originalEvent.movementY||void 0!==i.movementX&&!i.movementX)&&i.movementY)}}class G extends st{constructor(i,d){super(()=>window,i,d)}}class X extends G{constructor(i=500){super("storage",i)}filterEvent(i){return!(i.key&&i.key.indexOf("ng2Idle.")>=0&&i.key.indexOf(".expiry")>=0)}}let ot=(()=>{class g{static forRoot(){return{ngModule:g,providers:[Pt,{provide:Dn,useExisting:Pt},Ht]}}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275mod=m.$C({type:g});static#n=this.\u0275inj=m.G2t({providers:[bt]})}return g})();const on=function ht(g){return[new V("mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove scroll",g),new X(g)]}();var gn=E(6883),pt=E(5312),Ut=E(4412),lt=E(467),ln=E(1825),Rn=E(9253),Nt=E(4555),vn=E(7673),$n=E(983),Zn=E(1985),Ai=E(8793),sn=E(6745),hn=E(941),xt=E(5558),dn=E(6496),he=E(7083),ct=E(9437),we=E(1397),at=E(9901),Mt=E(7935);const Ln=new m.nKC("angularfire2.messaging.vapid-key"),oi=new m.nKC("angularfire2.messaging.service-worker-registeration");let Di=(()=>{class g{requestPermission;getToken;tokenChanges;messages;requestToken;deleteToken;constructor(d,_,w,N,W,se,xe){const Ue=xe,Qe=(0,vn.of)(void 0).pipe((0,sn._)(W.outsideAngular),(0,hn.Q)(W.insideAngular),(0,xt.n)(Nt.TT),(0,xt.n)(Kt=>Kt?E.e(321).then(E.bind(E,3321)):$n.w),(0,qe.T)(()=>(0,Rn.iB)(d,N,_)),(0,xt.n)(Kt=>(0,Rn.BM)(`${Kt.name}.messaging`,"AngularFireMessaging",Kt.name,()=>(0,vn.of)(Kt.messaging()),[])),(0,dn.t)({bufferSize:1,refCount:!1}));this.requestPermission=Qe.pipe((0,sn._)(W.outsideAngular),(0,hn.Q)(W.insideAngular),(0,xt.n)(()=>Notification.requestPermission())),this.getToken=Qe.pipe((0,sn._)(W.outsideAngular),(0,hn.Q)(W.insideAngular),(0,xt.n)(function(){var Kt=(0,lt.A)(function*(zt){if("granted"===Notification.permission){const cn=Ue?yield Ue:null;return yield zt.getToken({vapidKey:se,serviceWorkerRegistration:cn})}return null});return function(zt){return Kt.apply(this,arguments)}}()));const Ze=new Zn.c(Kt=>{navigator.permissions.query({name:"notifications"}).then(zt=>{zt.onchange=()=>Kt.next()})}),gt=Qe.pipe((0,sn._)(W.outsideAngular),(0,hn.Q)(W.insideAngular),(0,he.K)(Ze),(0,he.K)(this.getToken));return this.tokenChanges=Qe.pipe((0,sn._)(W.outsideAngular),(0,hn.Q)(W.insideAngular),(0,xt.n)(()=>(0,Ai.x)(this.getToken,gt))),this.messages=Qe.pipe((0,sn._)(W.outsideAngular),(0,hn.Q)(W.insideAngular),(0,xt.n)(Kt=>new Zn.c(zt=>Kt.onMessage(zt)))),this.requestToken=Qe.pipe((0,sn._)(W.outsideAngular),(0,hn.Q)(W.insideAngular),(0,xt.n)(()=>this.requestPermission),(0,ct.W)(()=>(0,vn.of)(null)),(0,we.Z)(()=>this.tokenChanges)),this.deleteToken=()=>Qe.pipe((0,sn._)(W.outsideAngular),(0,hn.Q)(W.insideAngular),(0,xt.n)(Kt=>Kt.deleteToken()),(0,at.U)(!1)),(0,Rn.Gt)(this,Qe,N)}static \u0275fac=function(_){return new(_||g)(m.KVO(Rn.rx),m.KVO(Rn.uP,8),m.KVO(m.Agw),m.KVO(m.SKi),m.KVO(ln.u0),m.KVO(Ln,8),m.KVO(oi,8))};static \u0275prov=m.jDH({token:g,factory:g.\u0275fac,providedIn:"any"})}return g})(),ji=(()=>{class g{constructor(){Mt.A.registerVersion("angularfire",ln.xv.full,"fcm-compat")}static \u0275fac=function(_){return new(_||g)};static \u0275mod=m.$C({type:g});static \u0275inj=m.G2t({providers:[Di]})}return g})(),Li=(()=>{class g{constructor(){this.permission=this.isSupported()?"default":"denied"}isSupported(){return"Notification"in window}requestPermission(){let d=this;"Notification"in window&&Notification.requestPermission(function(_){return d.permission=_})}create(d,_,w){let N=this;return new Zn.c(function(W){"Notification"in window||W.complete(),"granted"!==N.permission&&W.complete();let se=new Notification(d,w);se.onshow=function(xe){return W.next({notification:se,event:xe})},se.onclick=function(xe){return window.open(_,"_blank"),W.next({notification:se,event:xe})},se.onerror=function(xe){return W.error({notification:se,event:xe})},se.onclose=function(){return W.complete()}})}generateNotification(d){let _=this;d.forEach(w=>{_.create(w.title,w.orderTrackUrl,{body:w.alertContent,icon:"src/assets/icons/icon-512x512.png"}).subscribe()})}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})(),ss=(()=>{class g{constructor(d,_,w){this.angularFireMessaging=d,this._notificationService=_,this.commonFunction=w,this.currentMessage=new Ut.t(null),this.isMobile=this.commonFunction.identifyDeviceType(),this.angularFireMessaging.messages.subscribe(N=>{N.onMessage=N.onMessage.bind(N),N.onTokenRefresh=N.onTokenRefresh.bind(N)})}requestPermission(){this.angularFireMessaging.requestToken.subscribe(d=>{localStorage.setItem("firebaseDeviceId",d)},d=>{console.error("Unable to get permission to notify.",d)})}receiveMessage(){this.angularFireMessaging.messages.subscribe(d=>{this.currentMessage.next(d),this.notify(d.data)})}notify(d){let _=[];_.push({title:d.title,alertContent:d.body});let w={body:_[0].alertContent,icon:"src/assets/icons/icon-512x512.png"};this.isMobile?navigator.serviceWorker.ready.then(N=>{N.showNotification(_[0].title,w)}):new Notification(_[0].title,w)}static#e=this.\u0275fac=function(_){return new(_||g)(m.KVO(Di),m.KVO(Li),m.KVO(ce.L))};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})(),Zr=(()=>{class g{constructor(d,_,w){this.idle=d,this.router=_,this.messagingService=w,this.title="Tata-Starbucks",this.message="",this.idleState="Not started.",this.timedOut=!1,this.previousUrl="",d.setIdle(30),d.setTimeout(5400),d.setInterrupts(on),d.onIdleEnd.subscribe(()=>{this.idleState="No longer idle."}),d.onTimeout.subscribe(()=>{localStorage.excludeFromTimeout?this.reset():(this.idleState="Timed out!",this.timedOut=!0)}),d.onIdleStart.subscribe(()=>{this.idleState="You've gone idle!"}),d.onTimeoutWarning.subscribe(N=>{this.idleState="You will time out in "+N+" seconds!"}),this.reset(),this.loadScripts(),this.setPreviousPage()}ngOnInit(){if(this.initiateApplicationProcess(),this.checkBuildVersion(),"/StoreDetails"===window.location.pathname){let d=window.location.href.split("=");this.router.navigate(["/store-locator/StoreDetails"],{queryParams:{storeId:d[1]}})}}checkBuildVersion(){let d=JSON.parse(localStorage.getItem("buildVersion")),_=pt.c.buildVersion;d?d!==_?(localStorage.clear(),sessionStorage.clear(),localStorage.setItem("buildVersion",JSON.stringify(_))):console.warn("latest build!"):(localStorage.clear(),sessionStorage.clear(),localStorage.setItem("buildVersion",JSON.stringify(_)))}reset(){this.idle.stop(),this.idle.watch(),this.idleState="Started.",this.timedOut=!1}initiateApplicationProcess(){null==localStorage.getItem("deviceId")&&localStorage.setItem("deviceId",gn.A())}loadScripts(){const d=["./assets/js/sbxui.js"];for(let _=0;_<d.length;_++){const w=document.createElement("script");w.src=d[_],w.type="text/javascript",w.async=!1,document.getElementsByTagName("body")[0].appendChild(w)}}setPreviousPage(){let d=this.router.url;this.router.events.pipe((0,yi.p)(_=>_ instanceof T.wF)).subscribe(_=>{this.previousUrl=d,d=_.url,sessionStorage.setItem("previousPage",this.previousUrl)})}static#e=this.\u0275fac=function(_){return new(_||g)(m.rXU(Ht),m.rXU(T.Ix),m.rXU(ss))};static#t=this.\u0275cmp=m.VBU({type:g,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"app-container"]],template:function(_,w){1&_&&(m.j41(0,"div",0),m.nrm(1,"router-outlet"),m.k0s())},dependencies:[T.n3],styles:[".app-container[_ngcontent-%COMP%]{height:100%}"]})}return g})();var pi=E(9969);function bo(g){return new m.wOt(3e3,!1)}function Fr(g){switch(g.length){case 0:return new pi.sf;case 1:return g[0];default:return new pi.ui(g)}}function Ni(g,i,d=new Map,_=new Map){const w=[],N=[];let W=-1,se=null;if(i.forEach(xe=>{const Ue=xe.get("offset"),Qe=Ue==W,Ze=Qe&&se||new Map;xe.forEach((gt,Kt)=>{let zt=Kt,cn=gt;if("offset"!==Kt)switch(zt=g.normalizePropertyName(zt,w),cn){case pi.FX:cn=d.get(Kt);break;case pi.kp:cn=_.get(Kt);break;default:cn=g.normalizeStyleValue(Kt,zt,cn,w)}Ze.set(zt,cn)}),Qe||N.push(Ze),se=Ze,W=Ue}),w.length)throw function nc(g){return new m.wOt(3502,!1)}();return N}function xr(g,i,d,_){switch(i){case"start":g.onStart(()=>_(d&&ks(d,"start",g)));break;case"done":g.onDone(()=>_(d&&ks(d,"done",g)));break;case"destroy":g.onDestroy(()=>_(d&&ks(d,"destroy",g)))}}function ks(g,i,d){const N=zs(g.element,g.triggerName,g.fromState,g.toState,i||g.phaseName,d.totalTime??g.totalTime,!!d.disabled),W=g._data;return null!=W&&(N._data=W),N}function zs(g,i,d,_,w="",N=0,W){return{element:g,triggerName:i,fromState:d,toState:_,phaseName:w,totalTime:N,disabled:!!W}}function Ur(g,i,d){let _=g.get(i);return _||g.set(i,_=d),_}function Rr(g){const i=g.indexOf(":");return[g.substring(1,i),g.slice(i+1)]}const Bs=typeof document>"u"?null:document.documentElement;function or(g){const i=g.parentNode||g.host||null;return i===Bs?null:i}let tr=null,Qs=!1;function Go(g,i){for(;i;){if(i===g)return!0;i=or(i)}return!1}function ma(g,i,d){if(d)return Array.from(g.querySelectorAll(i));const _=g.querySelector(i);return _?[_]:[]}let ic=(()=>{class g{validateStyleProperty(d){return function Us(g){tr||(tr=function aa(){return typeof document<"u"?document.body:null}()||{},Qs=!!tr.style&&"WebkitAppearance"in tr.style);let i=!0;return tr.style&&!function Pr(g){return"ebkit"==g.substring(1,6)}(g)&&(i=g in tr.style,!i&&Qs&&(i="Webkit"+g.charAt(0).toUpperCase()+g.slice(1)in tr.style)),i}(d)}matchesElement(d,_){return!1}containsElement(d,_){return Go(d,_)}getParentElement(d){return or(d)}query(d,_,w){return ma(d,_,w)}computeStyle(d,_,w){return w||""}animate(d,_,w,N,W,se=[],xe){return new pi.sf(w,N)}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac})}return g})();class Il{static#e=this.NOOP=new ic}class la{}const hl=1e3,$r="ng-enter",Xo="ng-leave",id="ng-trigger",fl=".ng-trigger",ca="ng-animating",as=".ng-animating";function Fo(g){if("number"==typeof g)return g;const i=g.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:rd(parseFloat(i[1]),i[2])}function rd(g,i){return"s"===i?g*hl:g}function Ml(g,i,d){return g.hasOwnProperty("duration")?g:function ta(g,i,d){let w,N=0,W="";if("string"==typeof g){const se=g.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===se)return i.push(bo()),{duration:0,delay:0,easing:""};w=rd(parseFloat(se[1]),se[2]);const xe=se[3];null!=xe&&(N=rd(parseFloat(xe),se[4]));const Ue=se[5];Ue&&(W=Ue)}else w=g;if(!d){let se=!1,xe=i.length;w<0&&(i.push(function Xs(){return new m.wOt(3100,!1)}()),se=!0),N<0&&(i.push(function ts(){return new m.wOt(3101,!1)}()),se=!0),se&&i.splice(xe,0,bo())}return{duration:w,delay:N,easing:W}}(g,i,d)}function Hs(g,i,d){i.forEach((_,w)=>{const N=fr(w);d&&!d.has(w)&&d.set(w,g.style[N]),g.style[N]=_})}function pl(g,i){i.forEach((d,_)=>{const w=fr(_);g.style[w]=""})}function Xa(g){return Array.isArray(g)?1==g.length?g[0]:(0,pi.K2)(g):g}const ut=new RegExp("{{\\s*(.+?)\\s*}}","g");function Fe(g){let i=[];if("string"==typeof g){let d;for(;d=ut.exec(g);)i.push(d[1]);ut.lastIndex=0}return i}function It(g,i,d){const _=`${g}`,w=_.replace(ut,(N,W)=>{let se=i[W];return null==se&&(d.push(function Fi(g){return new m.wOt(3003,!1)}()),se=""),se.toString()});return w==_?g:w}const Tn=/-+([a-z0-9])/g;function fr(g){return g.replace(Tn,(...i)=>i[1].toUpperCase())}function ro(g,i,d){switch(i.type){case pi.If.Trigger:return g.visitTrigger(i,d);case pi.If.State:return g.visitState(i,d);case pi.If.Transition:return g.visitTransition(i,d);case pi.If.Sequence:return g.visitSequence(i,d);case pi.If.Group:return g.visitGroup(i,d);case pi.If.Animate:return g.visitAnimate(i,d);case pi.If.Keyframes:return g.visitKeyframes(i,d);case pi.If.Style:return g.visitStyle(i,d);case pi.If.Reference:return g.visitReference(i,d);case pi.If.AnimateChild:return g.visitAnimateChild(i,d);case pi.If.AnimateRef:return g.visitAnimateRef(i,d);case pi.If.Query:return g.visitQuery(i,d);case pi.If.Stagger:return g.visitStagger(i,d);default:throw function mi(g){return new m.wOt(3004,!1)}()}}function cu(g,i){return window.getComputedStyle(g)[i]}const af=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Td extends la{normalizePropertyName(i,d){return fr(i)}normalizeStyleValue(i,d,_,w){let N="";const W=_.toString().trim();if(af.has(d)&&0!==_&&"0"!==_)if("number"==typeof _)N="px";else{const se=_.match(/^[+-]?[\d\.]+([a-z]*)$/);se&&0==se[1].length&&w.push(function no(g,i){return new m.wOt(3005,!1)}())}return W+N}}const gc="*";const _c=new Set(["true","1"]),du=new Set(["false","0"]);function Sd(g,i){const d=_c.has(g)||du.has(g),_=_c.has(i)||du.has(i);return(w,N)=>{let W=g==gc||g==w,se=i==gc||i==N;return!W&&d&&"boolean"==typeof w&&(W=w?_c.has(g):du.has(g)),!se&&_&&"boolean"==typeof N&&(se=N?_c.has(i):du.has(i)),W&&se}}const us=new RegExp("s*:selfs*,?","g");function fo(g,i,d,_){return new qa(g).build(i,d,_)}class qa{constructor(i){this._driver=i}build(i,d,_){const w=new hu(d);return this._resetContextStyleTimingState(w),ro(this,Xa(i),w)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,d){let _=d.queryCount=0,w=d.depCount=0;const N=[],W=[];return"@"==i.name.charAt(0)&&d.errors.push(function Oo(){return new m.wOt(3006,!1)}()),i.definitions.forEach(se=>{if(this._resetContextStyleTimingState(d),se.type==pi.If.State){const xe=se,Ue=xe.name;Ue.toString().split(/\s*,\s*/).forEach(Qe=>{xe.name=Qe,N.push(this.visitState(xe,d))}),xe.name=Ue}else if(se.type==pi.If.Transition){const xe=this.visitTransition(se,d);_+=xe.queryCount,w+=xe.depCount,W.push(xe)}else d.errors.push(function As(){return new m.wOt(3007,!1)}())}),{type:pi.If.Trigger,name:i.name,states:N,transitions:W,queryCount:_,depCount:w,options:null}}visitState(i,d){const _=this.visitStyle(i.styles,d),w=i.options&&i.options.params||null;if(_.containsDynamicStyles){const N=new Set,W=w||{};_.styles.forEach(se=>{se instanceof Map&&se.forEach(xe=>{Fe(xe).forEach(Ue=>{W.hasOwnProperty(Ue)||N.add(Ue)})})}),N.size&&d.errors.push(function io(g,i){return new m.wOt(3008,!1)}(0,N.values()))}return{type:pi.If.State,name:i.name,style:_,options:w?{params:w}:null}}visitTransition(i,d){d.queryCount=0,d.depCount=0;const _=ro(this,Xa(i.animation),d),w=function ga(g,i){const d=[];return"string"==typeof g?g.split(/\s*,\s*/).forEach(_=>function Lu(g,i,d){if(":"==g[0]){const xe=function Qa(g,i){switch(g){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,_)=>parseFloat(_)>parseFloat(d);case":decrement":return(d,_)=>parseFloat(_)<parseFloat(d);default:return i.push(function Jo(g){return new m.wOt(3016,!1)}()),"* => *"}}(g,d);if("function"==typeof xe)return void i.push(xe);g=xe}const _=g.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==_||_.length<4)return d.push(function ul(g){return new m.wOt(3015,!1)}()),i;const w=_[1],N=_[2],W=_[3];i.push(Sd(w,W)),"<"==N[0]&&(w!=gc||W!=gc)&&i.push(Sd(W,w))}(_,d,i)):d.push(g),d}(i.expr,d.errors);return{type:pi.If.Transition,matchers:w,animation:_,queryCount:d.queryCount,depCount:d.depCount,options:Za(i.options)}}visitSequence(i,d){return{type:pi.If.Sequence,steps:i.steps.map(_=>ro(this,_,d)),options:Za(i.options)}}visitGroup(i,d){const _=d.currentTime;let w=0;const N=i.steps.map(W=>{d.currentTime=_;const se=ro(this,W,d);return w=Math.max(w,d.currentTime),se});return d.currentTime=w,{type:pi.If.Group,steps:N,options:Za(i.options)}}visitAnimate(i,d){const _=function Nu(g,i){if(g.hasOwnProperty("duration"))return g;if("number"==typeof g)return rc(Ml(g,i).duration,0,"");const d=g;if(d.split(/\s+/).some(N=>"{"==N.charAt(0)&&"{"==N.charAt(1))){const N=rc(0,0,"");return N.dynamic=!0,N.strValue=d,N}const w=Ml(d,i);return rc(w.duration,w.delay,w.easing)}(i.timings,d.errors);d.currentAnimateTimings=_;let w,N=i.styles?i.styles:(0,pi.iF)({});if(N.type==pi.If.Keyframes)w=this.visitKeyframes(N,d);else{let W=i.styles,se=!1;if(!W){se=!0;const Ue={};_.easing&&(Ue.easing=_.easing),W=(0,pi.iF)(Ue)}d.currentTime+=_.duration+_.delay;const xe=this.visitStyle(W,d);xe.isEmptyStep=se,w=xe}return d.currentAnimateTimings=null,{type:pi.If.Animate,timings:_,style:w,options:null}}visitStyle(i,d){const _=this._makeStyleAst(i,d);return this._validateStyleAst(_,d),_}_makeStyleAst(i,d){const _=[],w=Array.isArray(i.styles)?i.styles:[i.styles];for(let se of w)"string"==typeof se?se===pi.kp?_.push(se):d.errors.push(new m.wOt(3002,!1)):_.push(new Map(Object.entries(se)));let N=!1,W=null;return _.forEach(se=>{if(se instanceof Map&&(se.has("easing")&&(W=se.get("easing"),se.delete("easing")),!N))for(let xe of se.values())if(xe.toString().indexOf("{{")>=0){N=!0;break}}),{type:pi.If.Style,styles:_,easing:W,offset:i.offset,containsDynamicStyles:N,options:null}}_validateStyleAst(i,d){const _=d.currentAnimateTimings;let w=d.currentTime,N=d.currentTime;_&&N>0&&(N-=_.duration+_.delay),i.styles.forEach(W=>{"string"!=typeof W&&W.forEach((se,xe)=>{const Ue=d.collectedStyles.get(d.currentQuerySelector),Qe=Ue.get(xe);let Ze=!0;Qe&&(N!=w&&N>=Qe.startTime&&w<=Qe.endTime&&(d.errors.push(function Bc(g,i,d,_,w){return new m.wOt(3010,!1)}()),Ze=!1),N=Qe.startTime),Ze&&Ue.set(xe,{startTime:N,endTime:w}),d.options&&function rt(g,i,d){const _=i.params||{},w=Fe(g);w.length&&w.forEach(N=>{_.hasOwnProperty(N)||d.push(function fs(g){return new m.wOt(3001,!1)}())})}(se,d.options,d.errors)})})}visitKeyframes(i,d){const _={type:pi.If.Keyframes,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function Zo(){return new m.wOt(3011,!1)}()),_;let N=0;const W=[];let se=!1,xe=!1,Ue=0;const Qe=i.steps.map(Xt=>{const wn=this._makeStyleAst(Xt,d);let _n=null!=wn.offset?wn.offset:function Id(g){if("string"==typeof g)return null;let i=null;if(Array.isArray(g))g.forEach(d=>{if(d instanceof Map&&d.has("offset")){const _=d;i=parseFloat(_.get("offset")),_.delete("offset")}});else if(g instanceof Map&&g.has("offset")){const d=g;i=parseFloat(d.get("offset")),d.delete("offset")}return i}(wn.styles),ai=0;return null!=_n&&(N++,ai=wn.offset=_n),xe=xe||ai<0||ai>1,se=se||ai<Ue,Ue=ai,W.push(ai),wn});xe&&d.errors.push(function Pa(){return new m.wOt(3012,!1)}()),se&&d.errors.push(function Vc(){return new m.wOt(3200,!1)}());const Ze=i.steps.length;let gt=0;N>0&&N<Ze?d.errors.push(function dl(){return new m.wOt(3202,!1)}()):0==N&&(gt=1/(Ze-1));const Kt=Ze-1,zt=d.currentTime,cn=d.currentAnimateTimings,pn=cn.duration;return Qe.forEach((Xt,wn)=>{const _n=gt>0?wn==Kt?1:gt*wn:W[wn],ai=_n*pn;d.currentTime=zt+cn.delay+ai,cn.duration=ai,this._validateStyleAst(Xt,d),Xt.offset=_n,_.styles.push(Xt)}),_}visitReference(i,d){return{type:pi.If.Reference,animation:ro(this,Xa(i.animation),d),options:Za(i.options)}}visitAnimateChild(i,d){return d.depCount++,{type:pi.If.AnimateChild,options:Za(i.options)}}visitAnimateRef(i,d){return{type:pi.If.AnimateRef,animation:this.visitReference(i.animation,d),options:Za(i.options)}}visitQuery(i,d){const _=d.currentQuerySelector,w=i.options||{};d.queryCount++,d.currentQuery=i;const[N,W]=function To(g){const i=!!g.split(/\s*,\s*/).find(d=>":self"==d);return i&&(g=g.replace(us,"")),g=g.replace(/@\*/g,fl).replace(/@\w+/g,d=>fl+"-"+d.slice(1)).replace(/:animating/g,as),[g,i]}(i.selector);d.currentQuerySelector=_.length?_+" "+N:N,Ur(d.collectedStyles,d.currentQuerySelector,new Map);const se=ro(this,Xa(i.animation),d);return d.currentQuery=null,d.currentQuerySelector=_,{type:pi.If.Query,selector:N,limit:w.limit||0,optional:!!w.optional,includeSelf:W,animation:se,originalSelector:i.selector,options:Za(i.options)}}visitStagger(i,d){d.currentQuery||d.errors.push(function No(){return new m.wOt(3013,!1)}());const _="full"===i.timings?{duration:0,delay:0,easing:"full"}:Ml(i.timings,d.errors,!0);return{type:pi.If.Stagger,animation:ro(this,Xa(i.animation),d),timings:_,options:null}}}class hu{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Za(g){return g?(g={...g}).params&&(g.params=function uu(g){return g?{...g}:null}(g.params)):g={},g}function rc(g,i,d){return{duration:g,delay:i,easing:d}}function Fu(g,i,d,_,w,N,W=null,se=!1){return{type:1,element:g,keyframes:i,preStyleProps:d,postStyleProps:_,duration:w,delay:N,totalTime:w+N,easing:W,subTimeline:se}}class gl{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,d){let _=this._map.get(i);_||this._map.set(i,_=[]),_.push(...d)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const Md=new RegExp(":enter","g"),yh=new RegExp(":leave","g");function vc(g,i,d,_,w,N=new Map,W=new Map,se,xe,Ue=[]){return(new jl).buildKeyframes(g,i,d,_,w,N,W,se,xe,Ue)}class jl{buildKeyframes(i,d,_,w,N,W,se,xe,Ue,Qe=[]){Ue=Ue||new gl;const Ze=new zl(i,d,Ue,w,N,Qe,[]);Ze.options=xe;const gt=xe.delay?Fo(xe.delay):0;Ze.currentTimeline.delayNextStep(gt),Ze.currentTimeline.setStyles([W],null,Ze.errors,xe),ro(this,_,Ze);const Kt=Ze.timelines.filter(zt=>zt.containsAnimation());if(Kt.length&&se.size){let zt;for(let cn=Kt.length-1;cn>=0;cn--){const pn=Kt[cn];if(pn.element===d){zt=pn;break}}zt&&!zt.allowOnlyTimelineStyles()&&zt.setStyles([se],null,Ze.errors,xe)}return Kt.length?Kt.map(zt=>zt.buildKeyframes()):[Fu(d,[],[],[],0,gt,"",!1)]}visitTrigger(i,d){}visitState(i,d){}visitTransition(i,d){}visitAnimateChild(i,d){const _=d.subInstructions.get(d.element);if(_){const w=d.createSubContext(i.options),N=d.currentTimeline.currentTime,W=this._visitSubInstructions(_,w,w.options);N!=W&&d.transformIntoNewTimeline(W)}d.previousNode=i}visitAnimateRef(i,d){const _=d.createSubContext(i.options);_.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],d,_),this.visitReference(i.animation,_),d.transformIntoNewTimeline(_.currentTimeline.currentTime),d.previousNode=i}_applyAnimationRefDelays(i,d,_){for(const w of i){const N=w?.delay;if(N){const W="number"==typeof N?N:Fo(It(N,w?.params??{},d.errors));_.delayNextStep(W)}}}_visitSubInstructions(i,d,_){let N=d.currentTimeline.currentTime;const W=null!=_.duration?Fo(_.duration):null,se=null!=_.delay?Fo(_.delay):null;return 0!==W&&i.forEach(xe=>{const Ue=d.appendInstructionToTimeline(xe,W,se);N=Math.max(N,Ue.duration+Ue.delay)}),N}visitReference(i,d){d.updateOptions(i.options,!0),ro(this,i.animation,d),d.previousNode=i}visitSequence(i,d){const _=d.subContextCount;let w=d;const N=i.options;if(N&&(N.params||N.delay)&&(w=d.createSubContext(N),w.transformIntoNewTimeline(),null!=N.delay)){w.previousNode.type==pi.If.Style&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Bu);const W=Fo(N.delay);w.delayNextStep(W)}i.steps.length&&(i.steps.forEach(W=>ro(this,W,w)),w.currentTimeline.applyStylesToKeyframe(),w.subContextCount>_&&w.transformIntoNewTimeline()),d.previousNode=i}visitGroup(i,d){const _=[];let w=d.currentTimeline.currentTime;const N=i.options&&i.options.delay?Fo(i.options.delay):0;i.steps.forEach(W=>{const se=d.createSubContext(i.options);N&&se.delayNextStep(N),ro(this,W,se),w=Math.max(w,se.currentTimeline.currentTime),_.push(se.currentTimeline)}),_.forEach(W=>d.currentTimeline.mergeTimelineCollectedStyles(W)),d.transformIntoNewTimeline(w),d.previousNode=i}_visitTiming(i,d){if(i.dynamic){const _=i.strValue;return Ml(d.params?It(_,d.params,d.errors):_,d.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,d){const _=d.currentAnimateTimings=this._visitTiming(i.timings,d),w=d.currentTimeline;_.delay&&(d.incrementTime(_.delay),w.snapshotCurrentStyles());const N=i.style;N.type==pi.If.Keyframes?this.visitKeyframes(N,d):(d.incrementTime(_.duration),this.visitStyle(N,d),w.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=i}visitStyle(i,d){const _=d.currentTimeline,w=d.currentAnimateTimings;!w&&_.hasCurrentStyleProperties()&&_.forwardFrame();const N=w&&w.easing||i.easing;i.isEmptyStep?_.applyEmptyStep(N):_.setStyles(i.styles,N,d.errors,d.options),d.previousNode=i}visitKeyframes(i,d){const _=d.currentAnimateTimings,w=d.currentTimeline.duration,N=_.duration,se=d.createSubContext().currentTimeline;se.easing=_.easing,i.styles.forEach(xe=>{se.forwardTime((xe.offset||0)*N),se.setStyles(xe.styles,xe.easing,d.errors,d.options),se.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(se),d.transformIntoNewTimeline(w+N),d.previousNode=i}visitQuery(i,d){const _=d.currentTimeline.currentTime,w=i.options||{},N=w.delay?Fo(w.delay):0;N&&(d.previousNode.type===pi.If.Style||0==_&&d.currentTimeline.hasCurrentStyleProperties())&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=Bu);let W=_;const se=d.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!w.optional,d.errors);d.currentQueryTotal=se.length;let xe=null;se.forEach((Ue,Qe)=>{d.currentQueryIndex=Qe;const Ze=d.createSubContext(i.options,Ue);N&&Ze.delayNextStep(N),Ue===d.element&&(xe=Ze.currentTimeline),ro(this,i.animation,Ze),Ze.currentTimeline.applyStylesToKeyframe(),W=Math.max(W,Ze.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(W),xe&&(d.currentTimeline.mergeTimelineCollectedStyles(xe),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=i}visitStagger(i,d){const _=d.parentContext,w=d.currentTimeline,N=i.timings,W=Math.abs(N.duration),se=W*(d.currentQueryTotal-1);let xe=W*d.currentQueryIndex;switch(N.duration<0?"reverse":N.easing){case"reverse":xe=se-xe;break;case"full":xe=_.currentStaggerTime}const Qe=d.currentTimeline;xe&&Qe.delayNextStep(xe);const Ze=Qe.currentTime;ro(this,i.animation,d),d.previousNode=i,_.currentStaggerTime=w.currentTime-Ze+(w.startTime-_.currentTimeline.startTime)}}const Bu={};class zl{constructor(i,d,_,w,N,W,se,xe){this._driver=i,this.element=d,this.subInstructions=_,this._enterClassName=w,this._leaveClassName=N,this.errors=W,this.timelines=se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=xe||new jc(this._driver,d,0),se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,d){if(!i)return;const _=i;let w=this.options;null!=_.duration&&(w.duration=Fo(_.duration)),null!=_.delay&&(w.delay=Fo(_.delay));const N=_.params;if(N){let W=w.params;W||(W=this.options.params={}),Object.keys(N).forEach(se=>{(!d||!W.hasOwnProperty(se))&&(W[se]=It(N[se],W,this.errors))})}}_copyOptions(){const i={};if(this.options){const d=this.options.params;if(d){const _=i.params={};Object.keys(d).forEach(w=>{_[w]=d[w]})}}return i}createSubContext(i=null,d,_){const w=d||this.element,N=new zl(this._driver,w,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(w,_||0));return N.previousNode=this.previousNode,N.currentAnimateTimings=this.currentAnimateTimings,N.options=this._copyOptions(),N.updateOptions(i),N.currentQueryIndex=this.currentQueryIndex,N.currentQueryTotal=this.currentQueryTotal,N.parentContext=this,this.subContextCount++,N}transformIntoNewTimeline(i){return this.previousNode=Bu,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,d,_){const w={duration:d??i.duration,delay:this.currentTimeline.currentTime+(_??0)+i.delay,easing:""},N=new Eh(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,w,i.stretchStartingKeyframe);return this.timelines.push(N),w}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,d,_,w,N,W){let se=[];if(w&&se.push(this.element),i.length>0){i=(i=i.replace(Md,"."+this._enterClassName)).replace(yh,"."+this._leaveClassName);let Ue=this._driver.query(this.element,i,1!=_);0!==_&&(Ue=_<0?Ue.slice(Ue.length+_,Ue.length):Ue.slice(0,_)),se.push(...Ue)}return!N&&0==se.length&&W.push(function ds(g){return new m.wOt(3014,!1)}()),se}}class jc{constructor(i,d,_,w){this._driver=i,this.element=d,this.startTime=_,this._elementTimelineStylesLookup=w,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const d=1===this._keyframes.size&&this._pendingStyles.size;this.duration||d?(this.forwardTime(this.currentTime+i),d&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,d){return this.applyStylesToKeyframe(),new jc(this._driver,i,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,d){this._localTimelineStyles.set(i,d),this._globalTimelineStyles.set(i,d),this._styleSummary.set(i,{time:this.currentTime,value:d})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[d,_]of this._globalTimelineStyles)this._backFill.set(d,_||pi.kp),this._currentKeyframe.set(d,pi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,d,_,w){d&&this._previousKeyframe.set("easing",d);const N=w&&w.params||{},W=function cf(g,i){const d=new Map;let _;return g.forEach(w=>{if("*"===w){_??=i.keys();for(let N of _)d.set(N,pi.kp)}else for(let[N,W]of w)d.set(N,W)}),d}(i,this._globalTimelineStyles);for(let[se,xe]of W){const Ue=It(xe,N,_);this._pendingStyles.set(se,Ue),this._localTimelineStyles.has(se)||this._backFill.set(se,this._globalTimelineStyles.get(se)??pi.kp),this._updateStyle(se,Ue)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,d)=>{this._currentKeyframe.set(d,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,d)=>{this._currentKeyframe.has(d)||this._currentKeyframe.set(d,i)}))}snapshotCurrentStyles(){for(let[i,d]of this._localTimelineStyles)this._pendingStyles.set(i,d),this._updateStyle(i,d)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let d in this._currentKeyframe)i.push(d);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((d,_)=>{const w=this._styleSummary.get(_);(!w||d.time>w.time)&&this._updateStyle(_,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,d=new Set,_=1===this._keyframes.size&&0===this.duration;let w=[];this._keyframes.forEach((se,xe)=>{const Ue=new Map([...this._backFill,...se]);Ue.forEach((Qe,Ze)=>{Qe===pi.FX?i.add(Ze):Qe===pi.kp&&d.add(Ze)}),_||Ue.set("offset",xe/this.duration),w.push(Ue)});const N=[...i.values()],W=[...d.values()];if(_){const se=w[0],xe=new Map(se);se.set("offset",0),xe.set("offset",1),w=[se,xe]}return Fu(this.element,w,N,W,this.duration,this.startTime,this.easing,!1)}}class Eh extends jc{constructor(i,d,_,w,N,W,se=!1){super(i,d,W.delay),this.keyframes=_,this.preStyleProps=w,this.postStyleProps=N,this._stretchStartingKeyframe=se,this.timings={duration:W.duration,delay:W.delay,easing:W.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:d,duration:_,easing:w}=this.timings;if(this._stretchStartingKeyframe&&d){const N=[],W=_+d,se=d/W,xe=new Map(i[0]);xe.set("offset",0),N.push(xe);const Ue=new Map(i[0]);Ue.set("offset",Ia(se)),N.push(Ue);const Qe=i.length-1;for(let Ze=1;Ze<=Qe;Ze++){let gt=new Map(i[Ze]);const Kt=gt.get("offset");gt.set("offset",Ia((d+Kt*_)/W)),N.push(gt)}_=W,d=0,w="",i=N}return Fu(this.element,i,this.preStyleProps,this.postStyleProps,_,d,w,!0)}}function Ia(g,i=3){const d=Math.pow(10,i-1);return Math.round(g*d)/d}function Gs(g,i,d,_,w,N,W,se,xe,Ue,Qe,Ze,gt){return{type:0,element:g,triggerName:i,isRemovalTransition:w,fromState:d,fromStyles:N,toState:_,toStyles:W,timelines:se,queriedElements:xe,preStyleProps:Ue,postStyleProps:Qe,totalTime:Ze,errors:gt}}const sd={};class xa{constructor(i,d,_){this._triggerName=i,this.ast=d,this._stateStyles=_}match(i,d,_,w){return function Vu(g,i,d,_,w){return g.some(N=>N(i,d,_,w))}(this.ast.matchers,i,d,_,w)}buildStyles(i,d,_){let w=this._stateStyles.get("*");return void 0!==i&&(w=this._stateStyles.get(i?.toString())||w),w?w.buildStyles(d,_):new Map}build(i,d,_,w,N,W,se,xe,Ue,Qe){const Ze=[],gt=this.ast.options&&this.ast.options.params||sd,zt=this.buildStyles(_,se&&se.params||sd,Ze),cn=xe&&xe.params||sd,pn=this.buildStyles(w,cn,Ze),Xt=new Set,wn=new Map,_n=new Map,ai="void"===w,Er={params:vl(cn,gt),delay:this.ast.options?.delay},Ki=Qe?[]:vc(i,d,this.ast.animation,N,W,zt,pn,Er,Ue,Ze);let pr=0;return Ki.forEach(Ti=>{pr=Math.max(Ti.duration+Ti.delay,pr)}),Ze.length?Gs(d,this._triggerName,_,w,ai,zt,pn,[],[],wn,_n,pr,Ze):(Ki.forEach(Ti=>{const ci=Ti.element,mr=Ur(wn,ci,new Set);Ti.preStyleProps.forEach(ki=>mr.add(ki));const Gr=Ur(_n,ci,new Set);Ti.postStyleProps.forEach(ki=>Gr.add(ki)),ci!==d&&Xt.add(ci)}),Gs(d,this._triggerName,_,w,ai,zt,pn,Ki,[...Xt.values()],wn,_n,pr))}}function vl(g,i){const d={...i};return Object.entries(g).forEach(([_,w])=>{null!=w&&(d[_]=w)}),d}class Hl{constructor(i,d,_){this.styles=i,this.defaultParams=d,this.normalizer=_}buildStyles(i,d){const _=new Map,w=vl(i,this.defaultParams);return this.styles.styles.forEach(N=>{"string"!=typeof N&&N.forEach((W,se)=>{W&&(W=It(W,w,d));const xe=this.normalizer.normalizePropertyName(se,d);W=this.normalizer.normalizeStyleValue(se,xe,W,d),_.set(se,W)})}),_}}class ad{constructor(i,d,_){this.name=i,this.ast=d,this._normalizer=_,this.transitionFactories=[],this.states=new Map,d.states.forEach(w=>{this.states.set(w.name,new Hl(w.style,w.options&&w.options.params||{},_))}),Fa(this.states,"true","1"),Fa(this.states,"false","0"),d.transitions.forEach(w=>{this.transitionFactories.push(new xa(i,w,this.states))}),this.fallbackTransition=function zc(g,i,d){return new xa(g,{type:pi.If.Transition,animation:{type:pi.If.Sequence,steps:[],options:null},matchers:[(W,se)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,d,_,w){return this.transitionFactories.find(W=>W.match(i,d,_,w))||null}matchStyles(i,d,_){return this.fallbackTransition.buildStyles(i,d,_)}}function Fa(g,i,d){g.has(i)?g.has(d)||g.set(d,g.get(i)):g.has(d)&&g.set(i,g.get(d))}const wa=new gl;class ld{constructor(i,d,_){this.bodyNode=i,this._driver=d,this._normalizer=_,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,d){const _=[],N=fo(this._driver,d,_,[]);if(_.length)throw function Ra(g){return new m.wOt(3503,!1)}();this._animations.set(i,N)}_buildPlayer(i,d,_){const w=i.element,N=Ni(this._normalizer,i.keyframes,d,_);return this._driver.animate(w,N,i.duration,i.delay,i.easing,[],!0)}create(i,d,_={}){const w=[],N=this._animations.get(i);let W;const se=new Map;if(N?(W=vc(this._driver,d,N,$r,Xo,new Map,new Map,_,wa,w),W.forEach(Qe=>{const Ze=Ur(se,Qe.element,new Map);Qe.postStyleProps.forEach(gt=>Ze.set(gt,null))})):(w.push(function Ka(){return new m.wOt(3300,!1)}()),W=[]),w.length)throw function U(g){return new m.wOt(3504,!1)}();se.forEach((Qe,Ze)=>{Qe.forEach((gt,Kt)=>{Qe.set(Kt,this._driver.computeStyle(Ze,Kt,pi.kp))})});const Ue=Fr(W.map(Qe=>{const Ze=se.get(Qe.element);return this._buildPlayer(Qe,new Map,Ze)}));return this._playersById.set(i,Ue),Ue.onDestroy(()=>this.destroy(i)),this.players.push(Ue),Ue}destroy(i){const d=this._getPlayer(i);d.destroy(),this._playersById.delete(i);const _=this.players.indexOf(d);_>=0&&this.players.splice(_,1)}_getPlayer(i){const d=this._playersById.get(i);if(!d)throw function De(g){return new m.wOt(3301,!1)}();return d}listen(i,d,_,w){const N=zs(d,"","","");return xr(this._getPlayer(i),_,N,w),()=>{}}command(i,d,_,w){if("register"==_)return void this.register(i,w[0]);if("create"==_)return void this.create(i,d,w[0]||{});const N=this._getPlayer(i);switch(_){case"play":N.play();break;case"pause":N.pause();break;case"reset":N.reset();break;case"restart":N.restart();break;case"finish":N.finish();break;case"init":N.init();break;case"setPosition":N.setPosition(parseFloat(w[0]));break;case"destroy":this.destroy(i)}}}const bl="ng-animate-queued",bc="ng-animate-disabled",et=[],Qt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},di="__ng_removed";class gr{get params(){return this.options.params}constructor(i,d=""){this.namespaceId=d;const _=i&&i.hasOwnProperty("value");if(this.value=function Ps(g){return g??null}(_?i.value:i),_){const{value:N,...W}=i;this.options=W}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const d=i.params;if(d){const _=this.options.params;Object.keys(d).forEach(w=>{null==_[w]&&(_[w]=d[w])})}}}const qs="void",Os=new gr(qs);class eo{constructor(i,d,_){this.id=i,this.hostElement=d,this._engine=_,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Lr(d,this._hostClassName)}listen(i,d,_,w){if(!this._triggers.has(d))throw function Me(g,i){return new m.wOt(3302,!1)}();if(null==_||0==_.length)throw function Yt(g){return new m.wOt(3303,!1)}();if(!function Ri(g){return"start"==g||"done"==g}(_))throw function yn(g,i){return new m.wOt(3400,!1)}();const N=Ur(this._elementListeners,i,[]),W={name:d,phase:_,callback:w};N.push(W);const se=Ur(this._engine.statesByElement,i,new Map);return se.has(d)||(Lr(i,id),Lr(i,id+"-"+d),se.set(d,Os)),()=>{this._engine.afterFlush(()=>{const xe=N.indexOf(W);xe>=0&&N.splice(xe,1),this._triggers.has(d)||se.delete(d)})}}register(i,d){return!this._triggers.has(i)&&(this._triggers.set(i,d),!0)}_getTrigger(i){const d=this._triggers.get(i);if(!d)throw function Wn(g){return new m.wOt(3401,!1)}();return d}trigger(i,d,_,w=!0){const N=this._getTrigger(d),W=new uo(this.id,d,i);let se=this._engine.statesByElement.get(i);se||(Lr(i,id),Lr(i,id+"-"+d),this._engine.statesByElement.set(i,se=new Map));let xe=se.get(d);const Ue=new gr(_,this.id);if(!(_&&_.hasOwnProperty("value"))&&xe&&Ue.absorbOptions(xe.options),se.set(d,Ue),xe||(xe=Os),Ue.value!==qs&&xe.value===Ue.value){if(!function cd(g,i){const d=Object.keys(g),_=Object.keys(i);if(d.length!=_.length)return!1;for(let w=0;w<d.length;w++){const N=d[w];if(!i.hasOwnProperty(N)||g[N]!==i[N])return!1}return!0}(xe.params,Ue.params)){const cn=[],pn=N.matchStyles(xe.value,xe.params,cn),Xt=N.matchStyles(Ue.value,Ue.params,cn);cn.length?this._engine.reportError(cn):this._engine.afterFlush(()=>{pl(i,pn),Hs(i,Xt)})}return}const gt=Ur(this._engine.playersByElement,i,[]);gt.forEach(cn=>{cn.namespaceId==this.id&&cn.triggerName==d&&cn.queued&&cn.destroy()});let Kt=N.matchTransition(xe.value,Ue.value,i,Ue.params),zt=!1;if(!Kt){if(!w)return;Kt=N.fallbackTransition,zt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:d,transition:Kt,fromState:xe,toState:Ue,player:W,isFallbackTransition:zt}),zt||(Lr(i,bl),W.onStart(()=>{Rs(i,bl)})),W.onDone(()=>{let cn=this.players.indexOf(W);cn>=0&&this.players.splice(cn,1);const pn=this._engine.playersByElement.get(i);if(pn){let Xt=pn.indexOf(W);Xt>=0&&pn.splice(Xt,1)}}),this.players.push(W),gt.push(W),W}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(d=>d.delete(i)),this._elementListeners.forEach((d,_)=>{this._elementListeners.set(_,d.filter(w=>w.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const d=this._engine.playersByElement.get(i);d&&(d.forEach(_=>_.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,d){const _=this._engine.driver.query(i,fl,!0);_.forEach(w=>{if(w[di])return;const N=this._engine.fetchNamespacesByElement(w);N.size?N.forEach(W=>W.triggerLeaveAnimation(w,d,!1,!0)):this.clearElementCache(w)}),this._engine.afterFlushAnimationsDone(()=>_.forEach(w=>this.clearElementCache(w)))}triggerLeaveAnimation(i,d,_,w){const N=this._engine.statesByElement.get(i),W=new Map;if(N){const se=[];if(N.forEach((xe,Ue)=>{if(W.set(Ue,xe.value),this._triggers.has(Ue)){const Qe=this.trigger(i,Ue,qs,w);Qe&&se.push(Qe)}}),se.length)return this._engine.markElementAsRemoved(this.id,i,!0,d,W),_&&Fr(se).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const d=this._elementListeners.get(i),_=this._engine.statesByElement.get(i);if(d&&_){const w=new Set;d.forEach(N=>{const W=N.name;if(w.has(W))return;w.add(W);const xe=this._triggers.get(W).fallbackTransition,Ue=_.get(W)||Os,Qe=new gr(qs),Ze=new uo(this.id,W,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:W,transition:xe,fromState:Ue,toState:Qe,player:Ze,isFallbackTransition:!0})})}}removeNode(i,d){const _=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,d),this.triggerLeaveAnimation(i,d,!0))return;let w=!1;if(_.totalAnimations){const N=_.players.length?_.playersByQueriedElement.get(i):[];if(N&&N.length)w=!0;else{let W=i;for(;W=W.parentNode;)if(_.statesByElement.get(W)){w=!0;break}}}if(this.prepareLeaveAnimationListeners(i),w)_.markElementAsRemoved(this.id,i,!1,d);else{const N=i[di];(!N||N===Qt)&&(_.afterFlush(()=>this.clearElementCache(i)),_.destroyInnerAnimations(i),_._onRemovalComplete(i,d))}}insertNode(i,d){Lr(i,this._hostClassName)}drainQueuedTransitions(i){const d=[];return this._queue.forEach(_=>{const w=_.player;if(w.destroyed)return;const N=_.element,W=this._elementListeners.get(N);W&&W.forEach(se=>{if(se.name==_.triggerName){const xe=zs(N,_.triggerName,_.fromState.value,_.toState.value);xe._data=i,xr(_.player,se.phase,xe,se.callback)}}),w.markedForDestroy?this._engine.afterFlush(()=>{w.destroy()}):d.push(_)}),this._queue=[],d.sort((_,w)=>{const N=_.transition.ast.depCount,W=w.transition.ast.depCount;return 0==N||0==W?N-W:this._engine.driver.containsElement(_.element,w.element)?1:-1})}destroy(i){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class ys{_onRemovalComplete(i,d){this.onRemovalComplete(i,d)}constructor(i,d,_,w){this.bodyNode=i,this.driver=d,this._normalizer=_,this.scheduler=w,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(N,W)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(d=>{d.players.forEach(_=>{_.queued&&i.push(_)})}),i}createNamespace(i,d){const _=new eo(i,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(_,d):(this.newHostElements.set(d,_),this.collectEnterElement(d)),this._namespaceLookup[i]=_}_balanceNamespaceList(i,d){const _=this._namespaceList,w=this.namespacesByHostElement;if(_.length-1>=0){let W=!1,se=this.driver.getParentElement(d);for(;se;){const xe=w.get(se);if(xe){const Ue=_.indexOf(xe);_.splice(Ue+1,0,i),W=!0;break}se=this.driver.getParentElement(se)}W||_.unshift(i)}else _.push(i);return w.set(d,i),i}register(i,d){let _=this._namespaceLookup[i];return _||(_=this.createNamespace(i,d)),_}registerTrigger(i,d,_){let w=this._namespaceLookup[i];w&&w.register(d,_)&&this.totalAnimations++}destroy(i,d){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const _=this._fetchNamespace(i);this.namespacesByHostElement.delete(_.hostElement);const w=this._namespaceList.indexOf(_);w>=0&&this._namespaceList.splice(w,1),_.destroy(d),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const d=new Set,_=this.statesByElement.get(i);if(_)for(let w of _.values())if(w.namespaceId){const N=this._fetchNamespace(w.namespaceId);N&&d.add(N)}return d}trigger(i,d,_,w){if(ws(d)){const N=this._fetchNamespace(i);if(N)return N.trigger(d,_,w),!0}return!1}insertNode(i,d,_,w){if(!ws(d))return;const N=d[di];if(N&&N.setForRemoval){N.setForRemoval=!1,N.setForMove=!0;const W=this.collectedLeaveElements.indexOf(d);W>=0&&this.collectedLeaveElements.splice(W,1)}if(i){const W=this._fetchNamespace(i);W&&W.insertNode(d,_)}w&&this.collectEnterElement(d)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,d){d?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Lr(i,bc)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Rs(i,bc))}removeNode(i,d,_){if(ws(d)){this.scheduler?.notify();const w=i?this._fetchNamespace(i):null;w?w.removeNode(d,_):this.markElementAsRemoved(i,d,!1,_);const N=this.namespacesByHostElement.get(d);N&&N.id!==i&&N.removeNode(d,_)}else this._onRemovalComplete(d,_)}markElementAsRemoved(i,d,_,w,N){this.collectedLeaveElements.push(d),d[di]={namespaceId:i,setForRemoval:w,hasAnimation:_,removedBeforeQueried:!1,previousTriggersValues:N}}listen(i,d,_,w,N){return ws(d)?this._fetchNamespace(i).listen(d,_,w,N):()=>{}}_buildInstruction(i,d,_,w,N){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,_,w,i.fromState.options,i.toState.options,d,N)}destroyInnerAnimations(i){let d=this.driver.query(i,fl,!0);d.forEach(_=>this.destroyActiveAnimationsForElement(_)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(i,as,!0),d.forEach(_=>this.finishActiveQueriedAnimationOnElement(_)))}destroyActiveAnimationsForElement(i){const d=this.playersByElement.get(i);d&&d.forEach(_=>{_.queued?_.markedForDestroy=!0:_.destroy()})}finishActiveQueriedAnimationOnElement(i){const d=this.playersByQueriedElement.get(i);d&&d.forEach(_=>_.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Fr(this.players).onDone(()=>i());i()})}processLeaveNode(i){const d=i[di];if(d&&d.setForRemoval){if(i[di]=Qt,d.namespaceId){this.destroyInnerAnimations(i);const _=this._fetchNamespace(d.namespaceId);_&&_.clearElementCache(i)}this._onRemovalComplete(i,d.setForRemoval)}i.classList?.contains(bc)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(_=>{this.markElementAsDisabled(_,!1)})}flush(i=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((_,w)=>this._balanceNamespaceList(_,w)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let _=0;_<this.collectedEnterElements.length;_++)Lr(this.collectedEnterElements[_],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const _=[];try{d=this._flushAnimations(_,i)}finally{for(let w=0;w<_.length;w++)_[w]()}}else for(let _=0;_<this.collectedLeaveElements.length;_++)this.processLeaveNode(this.collectedLeaveElements[_]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(_=>_()),this._flushFns=[],this._whenQuietFns.length){const _=this._whenQuietFns;this._whenQuietFns=[],d.length?Fr(d).onDone(()=>{_.forEach(w=>w())}):_.forEach(w=>w())}}reportError(i){throw function zn(g){return new m.wOt(3402,!1)}()}_flushAnimations(i,d){const _=new gl,w=[],N=new Map,W=[],se=new Map,xe=new Map,Ue=new Map,Qe=new Set;this.disabledNodes.forEach(Ui=>{Qe.add(Ui);const Kn=this.driver.query(Ui,".ng-animate-queued",!0);for(let ri=0;ri<Kn.length;ri++)Qe.add(Kn[ri])});const Ze=this.bodyNode,gt=Array.from(this.statesByElement.keys()),Kt=Ei(gt,this.collectedEnterElements),zt=new Map;let cn=0;Kt.forEach((Ui,Kn)=>{const ri=$r+cn++;zt.set(Kn,ri),Ui.forEach(qi=>Lr(qi,ri))});const pn=[],Xt=new Set,wn=new Set;for(let Ui=0;Ui<this.collectedLeaveElements.length;Ui++){const Kn=this.collectedLeaveElements[Ui],ri=Kn[di];ri&&ri.setForRemoval&&(pn.push(Kn),Xt.add(Kn),ri.hasAnimation?this.driver.query(Kn,".ng-star-inserted",!0).forEach(qi=>Xt.add(qi)):wn.add(Kn))}const _n=new Map,ai=Ei(gt,Array.from(Xt));ai.forEach((Ui,Kn)=>{const ri=Xo+cn++;_n.set(Kn,ri),Ui.forEach(qi=>Lr(qi,ri))}),i.push(()=>{Kt.forEach((Ui,Kn)=>{const ri=zt.get(Kn);Ui.forEach(qi=>Rs(qi,ri))}),ai.forEach((Ui,Kn)=>{const ri=_n.get(Kn);Ui.forEach(qi=>Rs(qi,ri))}),pn.forEach(Ui=>{this.processLeaveNode(Ui)})});const Er=[],Ki=[];for(let Ui=this._namespaceList.length-1;Ui>=0;Ui--)this._namespaceList[Ui].drainQueuedTransitions(d).forEach(ri=>{const qi=ri.player,Hr=ri.element;if(Er.push(qi),this.collectedEnterElements.length){const xo=Hr[di];if(xo&&xo.setForMove){if(xo.previousTriggersValues&&xo.previousTriggersValues.has(ri.triggerName)){const xd=xo.previousTriggersValues.get(ri.triggerName),cl=this.statesByElement.get(ri.element);if(cl&&cl.has(ri.triggerName)){const Ha=cl.get(ri.triggerName);Ha.value=xd,cl.set(ri.triggerName,Ha)}}return void qi.destroy()}}const Yi=!Ze||!this.driver.containsElement(Ze,Hr),lr=_n.get(Hr),Cr=zt.get(Hr),hs=this._buildInstruction(ri,_,Cr,lr,Yi);if(hs.errors&&hs.errors.length)return void Ki.push(hs);if(Yi)return qi.onStart(()=>pl(Hr,hs.fromStyles)),qi.onDestroy(()=>Hs(Hr,hs.toStyles)),void w.push(qi);if(ri.isFallbackTransition)return qi.onStart(()=>pl(Hr,hs.fromStyles)),qi.onDestroy(()=>Hs(Hr,hs.toStyles)),void w.push(qi);const Wr=[];hs.timelines.forEach(xo=>{xo.stretchStartingKeyframe=!0,this.disabledNodes.has(xo.element)||Wr.push(xo)}),hs.timelines=Wr,_.append(Hr,hs.timelines),W.push({instruction:hs,player:qi,element:Hr}),hs.queriedElements.forEach(xo=>Ur(se,xo,[]).push(qi)),hs.preStyleProps.forEach((xo,xd)=>{if(xo.size){let cl=xe.get(xd);cl||xe.set(xd,cl=new Set),xo.forEach((Ha,wd)=>cl.add(wd))}}),hs.postStyleProps.forEach((xo,xd)=>{let cl=Ue.get(xd);cl||Ue.set(xd,cl=new Set),xo.forEach((Ha,wd)=>cl.add(wd))})});if(Ki.length){const Ui=[];Ki.forEach(Kn=>{Ui.push(function gi(g,i){return new m.wOt(3505,!1)}())}),Er.forEach(Kn=>Kn.destroy()),this.reportError(Ui)}const pr=new Map,Ti=new Map;W.forEach(Ui=>{const Kn=Ui.element;_.has(Kn)&&(Ti.set(Kn,Kn),this._beforeAnimationBuild(Ui.player.namespaceId,Ui.instruction,pr))}),w.forEach(Ui=>{const Kn=Ui.element;this._getPreviousPlayers(Kn,!1,Ui.namespaceId,Ui.triggerName,null).forEach(qi=>{Ur(pr,Kn,[]).push(qi),qi.destroy()})});const ci=pn.filter(Ui=>vi(Ui,xe,Ue)),mr=new Map;so(mr,this.driver,wn,Ue,pi.kp).forEach(Ui=>{vi(Ui,xe,Ue)&&ci.push(Ui)});const ki=new Map;Kt.forEach((Ui,Kn)=>{so(ki,this.driver,new Set(Ui),xe,pi.FX)}),ci.forEach(Ui=>{const Kn=mr.get(Ui),ri=ki.get(Ui);mr.set(Ui,new Map([...Kn?.entries()??[],...ri?.entries()??[]]))});const zi=[],Vi=[],Dr={};W.forEach(Ui=>{const{element:Kn,player:ri,instruction:qi}=Ui;if(_.has(Kn)){if(Qe.has(Kn))return ri.onDestroy(()=>Hs(Kn,qi.toStyles)),ri.disabled=!0,ri.overrideTotalTime(qi.totalTime),void w.push(ri);let Hr=Dr;if(Ti.size>1){let lr=Kn;const Cr=[];for(;lr=lr.parentNode;){const hs=Ti.get(lr);if(hs){Hr=hs;break}Cr.push(lr)}Cr.forEach(hs=>Ti.set(hs,Hr))}const Yi=this._buildAnimation(ri.namespaceId,qi,pr,N,ki,mr);if(ri.setRealPlayer(Yi),Hr===Dr)zi.push(ri);else{const lr=this.playersByElement.get(Hr);lr&&lr.length&&(ri.parentPlayer=Fr(lr)),w.push(ri)}}else pl(Kn,qi.fromStyles),ri.onDestroy(()=>Hs(Kn,qi.toStyles)),Vi.push(ri),Qe.has(Kn)&&w.push(ri)}),Vi.forEach(Ui=>{const Kn=N.get(Ui.element);if(Kn&&Kn.length){const ri=Fr(Kn);Ui.setRealPlayer(ri)}}),w.forEach(Ui=>{Ui.parentPlayer?Ui.syncPlayerEvents(Ui.parentPlayer):Ui.destroy()});for(let Ui=0;Ui<pn.length;Ui++){const Kn=pn[Ui],ri=Kn[di];if(Rs(Kn,Xo),ri&&ri.hasAnimation)continue;let qi=[];if(se.size){let Yi=se.get(Kn);Yi&&Yi.length&&qi.push(...Yi);let lr=this.driver.query(Kn,as,!0);for(let Cr=0;Cr<lr.length;Cr++){let hs=se.get(lr[Cr]);hs&&hs.length&&qi.push(...hs)}}const Hr=qi.filter(Yi=>!Yi.destroyed);Hr.length?$l(this,Kn,Hr):this.processLeaveNode(Kn)}return pn.length=0,zi.forEach(Ui=>{this.players.push(Ui),Ui.onDone(()=>{Ui.destroy();const Kn=this.players.indexOf(Ui);this.players.splice(Kn,1)}),Ui.play()}),zi}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,d,_,w,N){let W=[];if(d){const se=this.playersByQueriedElement.get(i);se&&(W=se)}else{const se=this.playersByElement.get(i);if(se){const xe=!N||N==qs;se.forEach(Ue=>{Ue.queued||!xe&&Ue.triggerName!=w||W.push(Ue)})}}return(_||w)&&(W=W.filter(se=>!(_&&_!=se.namespaceId||w&&w!=se.triggerName))),W}_beforeAnimationBuild(i,d,_){const N=d.element,W=d.isRemovalTransition?void 0:i,se=d.isRemovalTransition?void 0:d.triggerName;for(const xe of d.timelines){const Ue=xe.element,Qe=Ue!==N,Ze=Ur(_,Ue,[]);this._getPreviousPlayers(Ue,Qe,W,se,d.toState).forEach(Kt=>{const zt=Kt.getRealPlayer();zt.beforeDestroy&&zt.beforeDestroy(),Kt.destroy(),Ze.push(Kt)})}pl(N,d.fromStyles)}_buildAnimation(i,d,_,w,N,W){const se=d.triggerName,xe=d.element,Ue=[],Qe=new Set,Ze=new Set,gt=d.timelines.map(zt=>{const cn=zt.element;Qe.add(cn);const pn=cn[di];if(pn&&pn.removedBeforeQueried)return new pi.sf(zt.duration,zt.delay);const Xt=cn!==xe,wn=function Zi(g){const i=[];return ar(g,i),i}((_.get(cn)||et).map(pr=>pr.getRealPlayer())).filter(pr=>!!pr.element&&pr.element===cn),_n=N.get(cn),ai=W.get(cn),Er=Ni(this._normalizer,zt.keyframes,_n,ai),Ki=this._buildPlayer(zt,Er,wn);if(zt.subTimeline&&w&&Ze.add(cn),Xt){const pr=new uo(i,se,cn);pr.setRealPlayer(Ki),Ue.push(pr)}return Ki});Ue.forEach(zt=>{Ur(this.playersByQueriedElement,zt.element,[]).push(zt),zt.onDone(()=>function ms(g,i,d){let _=g.get(i);if(_){if(_.length){const w=_.indexOf(d);_.splice(w,1)}0==_.length&&g.delete(i)}return _}(this.playersByQueriedElement,zt.element,zt))}),Qe.forEach(zt=>Lr(zt,ca));const Kt=Fr(gt);return Kt.onDestroy(()=>{Qe.forEach(zt=>Rs(zt,ca)),Hs(xe,d.toStyles)}),Ze.forEach(zt=>{Ur(w,zt,[]).push(Kt)}),Kt}_buildPlayer(i,d,_){return d.length>0?this.driver.animate(i.element,d,i.duration,i.delay,i.easing,_):new pi.sf(i.duration,i.delay)}}class uo{constructor(i,d,_){this.namespaceId=i,this.triggerName=d,this.element=_,this._player=new pi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((d,_)=>{d.forEach(w=>xr(i,_,void 0,w))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const d=this._player;d.triggerCallback&&i.onStart(()=>d.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,d){Ur(this._queuedCallbacks,i,[]).push(d)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const d=this._player;d.triggerCallback&&d.triggerCallback(i)}}function ws(g){return g&&1===g.nodeType}function Ir(g,i){const d=g.style.display;return g.style.display=i??"none",d}function so(g,i,d,_,w){const N=[];d.forEach(xe=>N.push(Ir(xe)));const W=[];_.forEach((xe,Ue)=>{const Qe=new Map;xe.forEach(Ze=>{const gt=i.computeStyle(Ue,Ze,w);Qe.set(Ze,gt),(!gt||0==gt.length)&&(Ue[di]=Xn,W.push(Ue))}),g.set(Ue,Qe)});let se=0;return d.forEach(xe=>Ir(xe,N[se++])),W}function Ei(g,i){const d=new Map;if(g.forEach(se=>d.set(se,[])),0==i.length)return d;const w=new Set(i),N=new Map;function W(se){if(!se)return 1;let xe=N.get(se);if(xe)return xe;const Ue=se.parentNode;return xe=d.has(Ue)?Ue:w.has(Ue)?1:W(Ue),N.set(se,xe),xe}return i.forEach(se=>{const xe=W(se);1!==xe&&d.get(xe).push(se)}),d}function Lr(g,i){g.classList?.add(i)}function Rs(g,i){g.classList?.remove(i)}function $l(g,i,d){Fr(d).onDone(()=>g.processLeaveNode(i))}function ar(g,i){for(let d=0;d<g.length;d++){const _=g[d];_ instanceof pi.ui?ar(_.players,i):i.push(_)}}function vi(g,i,d){const _=d.get(g);if(!_)return!1;let w=i.get(g);return w?_.forEach(N=>w.add(N)):i.set(g,_),d.delete(g),!0}class ei{constructor(i,d,_,w){this._driver=d,this._normalizer=_,this._triggerCache={},this.onRemovalComplete=(N,W)=>{},this._transitionEngine=new ys(i.body,d,_,w),this._timelineEngine=new ld(i.body,d,_),this._transitionEngine.onRemovalComplete=(N,W)=>this.onRemovalComplete(N,W)}registerTrigger(i,d,_,w,N){const W=i+"-"+w;let se=this._triggerCache[W];if(!se){const xe=[],Qe=fo(this._driver,N,xe,[]);if(xe.length)throw function Wa(g,i){return new m.wOt(3404,!1)}();se=function od(g,i,d){return new ad(g,i,d)}(w,Qe,this._normalizer),this._triggerCache[W]=se}this._transitionEngine.registerTrigger(d,w,se)}register(i,d){this._transitionEngine.register(i,d)}destroy(i,d){this._transitionEngine.destroy(i,d)}onInsert(i,d,_,w){this._transitionEngine.insertNode(i,d,_,w)}onRemove(i,d,_){this._transitionEngine.removeNode(i,d,_)}disableAnimations(i,d){this._transitionEngine.markElementAsDisabled(i,d)}process(i,d,_,w){if("@"==_.charAt(0)){const[N,W]=Rr(_);this._timelineEngine.command(N,d,W,w)}else this._transitionEngine.trigger(i,d,_,w)}listen(i,d,_,w,N){if("@"==_.charAt(0)){const[W,se]=Rr(_);return this._timelineEngine.listen(W,d,se,N)}return this._transitionEngine.listen(i,d,_,w,N)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}class po{static#e=this.initialStylesByElement=new WeakMap;constructor(i,d,_){this._element=i,this._startStyles=d,this._endStyles=_,this._state=0;let w=po.initialStylesByElement.get(i);w||po.initialStylesByElement.set(i,w=new Map),this._initialStyles=w}start(){this._state<1&&(this._startStyles&&Hs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hs(this._element,this._initialStyles),this._endStyles&&(Hs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(po.initialStylesByElement.delete(this._element),this._startStyles&&(pl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pl(this._element,this._endStyles),this._endStyles=null),Hs(this._element,this._initialStyles),this._state=3)}}function Wo(g){let i=null;return g.forEach((d,_)=>{(function Uu(g){return"display"===g||"position"===g})(_)&&(i=i||new Map,i.set(_,d))}),i}class kd{constructor(i,d,_,w){this.element=i,this.keyframes=d,this.options=_,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=_.duration,this._delay=_.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;const d=()=>this._onFinish();this.domPlayer.addEventListener("finish",d),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",d)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const d=[];return i.forEach(_=>{d.push(Object.fromEntries(_))}),d}_triggerWebAnimation(i,d,_){return i.animate(this._convertKeyframesToObject(d),_)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((_,w)=>{"offset"!==w&&i.set(w,this._finished?_:cu(this.element,w))}),this.currentSnapshot=i}triggerCallback(i){const d="start"===i?this._onStartFns:this._onDoneFns;d.forEach(_=>_()),d.length=0}}class yc{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,d){return!1}containsElement(i,d){return Go(i,d)}getParentElement(i){return or(i)}query(i,d,_){return ma(i,d,_)}computeStyle(i,d,_){return cu(i,d)}animate(i,d,_,w,N,W=[]){const xe={duration:_,delay:w,fill:0==w?"both":"forwards"};N&&(xe.easing=N);const Ue=new Map,Qe=W.filter(Kt=>Kt instanceof kd);(function ml(g,i){return 0===g||0===i})(_,w)&&Qe.forEach(Kt=>{Kt.currentSnapshot.forEach((zt,cn)=>Ue.set(cn,zt))});let Ze=function Co(g){return g.length?g[0]instanceof Map?g:g.map(i=>new Map(Object.entries(i))):[]}(d).map(Kt=>new Map(Kt));Ze=function $s(g,i,d){if(d.size&&i.length){let _=i[0],w=[];if(d.forEach((N,W)=>{_.has(W)||w.push(W),_.set(W,N)}),w.length)for(let N=1;N<i.length;N++){let W=i[N];w.forEach(se=>W.set(se,cu(g,se)))}}return i}(i,Ze,Ue);const gt=function Oi(g,i){let d=null,_=null;return Array.isArray(i)&&i.length?(d=Wo(i[0]),i.length>1&&(_=Wo(i[i.length-1]))):i instanceof Map&&(d=Wo(i)),d||_?new po(g,d,_):null}(i,Ze);return new kd(i,Ze,xe,gt)}}const fu="@.disabled";class pu{constructor(i,d,_,w){this.namespaceId=i,this.delegate=d,this.engine=_,this._onDestroy=w,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,d){return this.delegate.createElement(i,d)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,d){this.delegate.appendChild(i,d),this.engine.onInsert(this.namespaceId,d,i,!1)}insertBefore(i,d,_,w=!0){this.delegate.insertBefore(i,d,_),this.engine.onInsert(this.namespaceId,d,i,w)}removeChild(i,d,_){this.engine.onRemove(this.namespaceId,d,this.delegate)}selectRootElement(i,d){return this.delegate.selectRootElement(i,d)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,d,_,w){this.delegate.setAttribute(i,d,_,w)}removeAttribute(i,d,_){this.delegate.removeAttribute(i,d,_)}addClass(i,d){this.delegate.addClass(i,d)}removeClass(i,d){this.delegate.removeClass(i,d)}setStyle(i,d,_,w){this.delegate.setStyle(i,d,_,w)}removeStyle(i,d,_){this.delegate.removeStyle(i,d,_)}setProperty(i,d,_){"@"==d.charAt(0)&&d==fu?this.disableAnimations(i,!!_):this.delegate.setProperty(i,d,_)}setValue(i,d){this.delegate.setValue(i,d)}listen(i,d,_){return this.delegate.listen(i,d,_)}disableAnimations(i,d){this.engine.disableAnimations(i,d)}}class Jr extends pu{constructor(i,d,_,w,N){super(d,_,w,N),this.factory=i,this.namespaceId=d}setProperty(i,d,_){"@"==d.charAt(0)?"."==d.charAt(1)&&d==fu?this.disableAnimations(i,_=void 0===_||!!_):this.engine.process(this.namespaceId,i,d.slice(1),_):this.delegate.setProperty(i,d,_)}listen(i,d,_){if("@"==d.charAt(0)){const w=function $f(g){switch(g){case"body":return document.body;case"document":return document;case"window":return window;default:return g}}(i);let N=d.slice(1),W="";return"@"!=N.charAt(0)&&([N,W]=function is(g){const i=g.indexOf(".");return[g.substring(0,i),g.slice(i+1)]}(N)),this.engine.listen(this.namespaceId,w,N,W,se=>{this.factory.scheduleListenerCallback(se._data||-1,_,se)})}return this.delegate.listen(i,d,_)}}class Ca{constructor(i,d,_){this.delegate=i,this.engine=d,this._zone=_,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,d.onRemovalComplete=(w,N)=>{const W=N?.parentNode(w);W&&N.removeChild(W,w)}}createRenderer(i,d){const w=this.delegate.createRenderer(i,d);if(!i||!d?.data?.animation){const Ue=this._rendererCache;let Qe=Ue.get(w);return Qe||(Qe=new pu("",w,this.engine,()=>Ue.delete(w)),Ue.set(w,Qe)),Qe}const N=d.id,W=d.id+"-"+this._currentId;this._currentId++,this.engine.register(W,i);const se=Ue=>{Array.isArray(Ue)?Ue.forEach(se):this.engine.registerTrigger(N,W,i,Ue.name,Ue)};return d.data.animation.forEach(se),new Jr(this,W,w,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,d,_){if(i>=0&&i<this._microtaskId)return void this._zone.run(()=>d(_));const w=this._animationCallbacksBuffer;0==w.length&&queueMicrotask(()=>{this._zone.run(()=>{w.forEach(N=>{const[W,se]=N;W(se)}),this._animationCallbacksBuffer=[]})}),w.push([d,_])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const Al=[{provide:la,useFactory:function ls(){return new Td}},{provide:ei,useClass:(()=>{class g extends ei{constructor(d,_,w){super(d,_,w,(0,m.WQX)(m.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(_){return new(_||g)(m.KVO(ne.qQ),m.KVO(Il),m.KVO(la))};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac})}return g})()},{provide:m._9s,useFactory:function cr(g,i,d){return new Ca(g,i,d)},deps:[p.B7,ei,m.SKi]}],Xr=[{provide:Il,useFactory:()=>new yc},{provide:m.bc$,useValue:"BrowserAnimations"},...Al],Qo=[{provide:Il,useClass:ic},{provide:m.bc$,useValue:"NoopAnimations"},...Al];let So=(()=>{class g{static withConfig(d){return{ngModule:g,providers:d.disableAnimations?Qo:Xr}}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275mod=m.$C({type:g});static#n=this.\u0275inj=m.G2t({providers:Xr,imports:[p.Bb]})}return g})();var Wl=E(3887),df=E(9508),Ec=E(4370),sc=E(1626),zu=E(9185),Gf=E(3383),Hu=E(9417),Kl=E(5788),Cm=E(5230),te=E(8810),Ce=E(8141),ie=E(1682);let Se=(()=>{class g{constructor(d,_,w){this.router=d,this.auth=_,this.storageService=w,this.refreshTokenInProgress=!1,this.tokenRefreshedSource=new qn.B,this.tokenRefreshed$=this.tokenRefreshedSource.asObservable()}refreshToken(){if(this.refreshTokenInProgress)return new Zn.c(d=>{this.tokenRefreshed$.subscribe(()=>{d.next(!0),d.complete()})});{this.refreshTokenInProgress=!0;let d={refreshToken:JSON.parse(localStorage.getItem("refresh_token"))};return this.auth.getRefreshToken(d,{"Accept-Language":"EN"}).pipe((0,Ce.M)(w=>{this.updatedAuthData=w,this.refreshTokenInProgress=!1,this.tokenRefreshedSource.next(!0)}))}}handleResponseError(d,_,w){return 400===d.status&&("Invalid Refresh token or token expired, Please login again using username and password."==d.error.response[0]||"Refresh token should not be empty."==d.error.response[0]||"Your session has been expired. Please login again."==d.error.response[0]||"You have been logged out because your account is active on another device.\nPlease login again using username and password."==d.error.response[0])&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("token_type"),sessionStorage.setItem("logOut",JSON.stringify(!0)),this.router.navigate(["/login"])),401===d.status&&"Your session has been expired. Please login again."==d.error.response[0]&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("token_type"),sessionStorage.setItem("logOut",JSON.stringify(!0)),this.router.navigate(["/login"])),401===d.status&&"Authentication Failed"==d.error.response[0]&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("token_type"),sessionStorage.setItem("logOut",JSON.stringify(!0))),401===d.status&&"Your session has been expired. Please login again."!=d.error.response[0]?this.refreshToken().pipe((0,xt.n)(N=>(this.storageService.setAccessToken(N.response.access_token),_=_.clone({setHeaders:{Authorization:N.response.token_type+" "+N.response.access_token,"Content-Type":"application/json"}}),w.handle(_))),(0,ct.W)(N=>{if(401!==N.status)return this.handleResponseError(N)})):(0,te.$)(d)}intercept(d,_){return this.updatedAuthData&&this.updatedAuthData.access_token&&(d=d.clone({setHeaders:{Authorization:this.updatedAuthData.token_type+" "+this.updatedAuthData.access_token,"Content-Type":"application/json"}})),_.handle(d).pipe((0,ct.W)(w=>this.handleResponseError(w,d,_)))}static#e=this.\u0275fac=function(_){return new(_||g)(m.KVO(T.Ix),m.KVO(ie.k),m.KVO(ge.n))};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac})}return g})();var Ae=E(1152),At=E(7647),fn=E(2816),li=E(3669),ii=E(5343),_r=E(9326),Po=E(3294),$u=(E(1112),E(3345)),Ba=E(1362),Gu=E(8742),nn=E(1076),Wu=E(8041);const uf="@firebase/database";let yl="";function Sm(g){yl=g}class Tg{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,d){null==d?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,nn.As)(d))}get(i){const d=this.domStorage_.getItem(this.prefixedName_(i));return null==d?null:(0,nn.$L)(d)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class xc{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,d){null==d?delete this.cache_[i]:this.cache_[i]=d}get(i){return(0,nn.gR)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const Fp=function(g){try{if(typeof window<"u"&&typeof window[g]<"u"){const i=window[g];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new Tg(i)}}catch{}return new xc},Gc=Fp("localStorage"),Wc=Fp("sessionStorage"),mu=new Wu.Vy("@firebase/database"),Sg=function(){let g=1;return function(){return g++}}(),Bp=function(g){const i=(0,nn.kj)(g),d=new nn.gz;d.update(i);const _=d.digest();return nn.K3.encodeByteArray(_)},wh=function(...g){let i="";for(let d=0;d<g.length;d++){const _=g[d];Array.isArray(_)||_&&"object"==typeof _&&"number"==typeof _.length?i+=wh.apply(null,_):i+="object"==typeof _?(0,nn.As)(_):_,i+=" "}return i};let yr=null,Do=!0;const Ch=function(g,i){(0,nn.vA)(!i||!0===g||!1===g,"Can't turn on custom loggers persistently."),!0===g?(mu.logLevel=Wu.$b.VERBOSE,yr=mu.log.bind(mu),i&&Wc.set("logging_enabled",!0)):"function"==typeof g?yr=g:(yr=null,Wc.remove("logging_enabled"))},Vo=function(...g){if(!0===Do&&(Do=!1,null===yr&&!0===Wc.get("logging_enabled")&&Ch(!0)),yr){const i=wh.apply(null,g);yr(i)}},Uo=function(g){return function(...i){Vo(g,...i)}},Vp=function(...g){const i="FIREBASE INTERNAL ERROR: "+wh(...g);mu.error(i)},js=function(...g){const i=`FIREBASE FATAL ERROR: ${wh(...g)}`;throw mu.error(i),new Error(i)},na=function(...g){const i="FIREBASE WARNING: "+wh(...g);mu.warn(i)},Pd=function(g){return"number"==typeof g&&(g!=g||g===Number.POSITIVE_INFINITY||g===Number.NEGATIVE_INFINITY)},dd="[MIN_NAME]",Ma="[MAX_NAME]",ud=function(g,i){if(g===i)return 0;if(g===dd||i===Ma)return-1;if(i===dd||g===Ma)return 1;{const d=Dg(g),_=Dg(i);return null!==d?null!==_?d-_==0?g.length-i.length:d-_:-1:null!==_?1:g<i?-1:1}},Up=function(g,i){return g===i?0:g<i?-1:1},Yu=function(g,i){if(i&&g in i)return i[g];throw new Error("Missing required key ("+g+") in object: "+(0,nn.As)(i))},Wf=function(g){if("object"!=typeof g||null===g)return(0,nn.As)(g);const i=[];for(const _ in g)i.push(_);i.sort();let d="{";for(let _=0;_<i.length;_++)0!==_&&(d+=","),d+=(0,nn.As)(i[_]),d+=":",d+=Wf(g[i[_]]);return d+="}",d},oc=function(g,i){const d=g.length;if(d<=i)return[g];const _=[];for(let w=0;w<d;w+=i)_.push(g.substring(w,w+i>d?d:w+i));return _};function Ls(g,i){for(const d in g)g.hasOwnProperty(d)&&i(d,g[d])}const Xl=function(g){(0,nn.vA)(!Pd(g),"Invalid JSON number");const _=1023;let w,N,W,se,xe;0===g?(N=0,W=0,w=1/g==-1/0?1:0):(w=g<0,(g=Math.abs(g))>=Math.pow(2,1-_)?(se=Math.min(Math.floor(Math.log(g)/Math.LN2),_),N=se+_,W=Math.round(g*Math.pow(2,52-se)-Math.pow(2,52))):(N=0,W=Math.round(g/Math.pow(2,-1074))));const Ue=[];for(xe=52;xe;xe-=1)Ue.push(W%2?1:0),W=Math.floor(W/2);for(xe=11;xe;xe-=1)Ue.push(N%2?1:0),N=Math.floor(N/2);Ue.push(w?1:0),Ue.reverse();const Qe=Ue.join("");let Ze="";for(xe=0;xe<64;xe+=8){let gt=parseInt(Qe.substr(xe,8),2).toString(16);1===gt.length&&(gt="0"+gt),Ze+=gt}return Ze.toLowerCase()},Th=new RegExp("^-?(0*)\\d{1,10}$"),Dg=function(g){if(Th.test(g)){const i=Number(g);if(i>=-2147483648&&i<=2147483647)return i}return null},Kc=function(g){try{g()}catch(i){setTimeout(()=>{throw na("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},hd=function(g,i){const d=setTimeout(g,i);return"number"==typeof d&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(d):"object"==typeof d&&d.unref&&d.unref(),d};class Ig{constructor(i,d){this.appName_=i,this.appCheckProvider=d,this.appCheck=d?.getImmediate({optional:!0}),this.appCheck||d?.get().then(_=>this.appCheck=_)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((d,_)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(d,_):d(null)},0)})}addTokenChangeListener(i){var d;null===(d=this.appCheckProvider)||void 0===d||d.get().then(_=>_.addTokenListener(i))}notifyForInvalidToken(){na(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ja{constructor(i,d,_){this.appName_=i,this.firebaseOptions_=d,this.authProvider_=_,this.auth_=null,this.auth_=_.getImmediate({optional:!0}),this.auth_||_.onInit(w=>this.auth_=w)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(d=>d&&"auth/token-not-initialized"===d.code?(Vo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(d)):new Promise((d,_)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(d,_):d(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(d=>d.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(d=>d.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',na(i)}}let kl=(()=>{class g{constructor(d){this.accessToken=d}getToken(d){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(d){d(this.accessToken)}removeTokenChangeListener(d){}notifyForInvalidToken(){}}return g.OWNER="owner",g})();const lc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ia="websocket",pd="long_polling";class Ol{constructor(i,d,_,w,N=!1,W="",se=!1,xe=!1){this.secure=d,this.namespace=_,this.webSocketOnly=w,this.nodeAdmin=N,this.persistenceKey=W,this.includeNamespaceInQueryParams=se,this.isUsingEmulator=xe,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gc.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Gc.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Xc(g,i,d){let _;if((0,nn.vA)("string"==typeof i,"typeof type must == string"),(0,nn.vA)("object"==typeof d,"typeof params must == object"),i===ia)_=(g.secure?"wss://":"ws://")+g.internalHost+"/.ws?";else{if(i!==pd)throw new Error("Unknown connection type: "+i);_=(g.secure?"https://":"http://")+g.internalHost+"/.lp?"}(function jp(g){return g.host!==g.internalHost||g.isCustomHost()||g.includeNamespaceInQueryParams})(g)&&(d.ns=g.namespace);const w=[];return Ls(d,(N,W)=>{w.push(N+"="+W)}),_+w.join("&")}class hf{constructor(){this.counters_={}}incrementCounter(i,d=1){(0,nn.gR)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=d}get(){return(0,nn.A4)(this.counters_)}}const ra={},wc={};function Sh(g){const i=g.toString();return ra[i]||(ra[i]=new hf),ra[i]}class Rd{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,d){this.closeAfterResponse=i,this.onClose=d,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,d){for(this.pendingResponses[i]=d;this.pendingResponses[this.currentResponseNum];){const _=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let w=0;w<_.length;++w)_[w]&&Kc(()=>{this.onMessage_(_[w])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class va{constructor(i,d,_,w,N,W,se){this.connId=i,this.repoInfo=d,this.applicationId=_,this.appCheckToken=w,this.authToken=N,this.transportSessionId=W,this.lastSessionId=se,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uo(i),this.stats_=Sh(d),this.urlFn=xe=>(this.appCheckToken&&(xe.ac=this.appCheckToken),Xc(d,pd,xe))}open(i,d){this.curSegmentNum=0,this.onDisconnect_=d,this.myPacketOrderer=new Rd(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(g){if((0,nn.$g)()||"complete"===document.readyState)g();else{let i=!1;const d=function(){document.body?i||(i=!0,g()):setTimeout(d,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&d()}),window.attachEvent("onload",d))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gu((...N)=>{const[W,se,xe,Ue,Qe]=N;if(this.incrementIncomingBytes_(N),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===W)this.id=se,this.password=xe;else{if("close"!==W)throw new Error("Unrecognized command received: "+W);se?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(se,()=>{this.onClosed_()})):this.onClosed_()}},(...N)=>{const[W,se]=N;this.incrementIncomingBytes_(N),this.myPacketOrderer.handleResponse(W,se)},()=>{this.onClosed_()},this.urlFn);const _={start:"t"};_.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(_.cb=this.scriptTagHolder.uniqueCallbackIdentifier),_.v="5",this.transportSessionId&&(_.s=this.transportSessionId),this.lastSessionId&&(_.ls=this.lastSessionId),this.applicationId&&(_.p=this.applicationId),this.appCheckToken&&(_.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&lc.test(location.hostname)&&(_.r="f");const w=this.urlFn(_);this.log_("Connecting via long-poll to "+w),this.scriptTagHolder.addTag(w,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){va.forceAllow_=!0}static forceDisallow(){va.forceDisallow_=!0}static isAvailable(){return!((0,nn.$g)()||!va.forceAllow_&&(va.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const d=(0,nn.As)(i);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const _=(0,nn.KA)(d),w=oc(_,1840);for(let N=0;N<w.length;N++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,w.length,w[N]),this.curSegmentNum++}addDisconnectPingFrame(i,d){if((0,nn.$g)())return;this.myDisconnFrame=document.createElement("iframe");const _={dframe:"t"};_.id=i,_.pw=d,this.myDisconnFrame.src=this.urlFn(_),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const d=(0,nn.As)(i).length;this.bytesReceived+=d,this.stats_.incrementCounter("bytes_received",d)}}class gu{constructor(i,d,_,w){if(this.onDisconnect=_,this.urlFn=w,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,nn.$g)())this.commandCB=i,this.onMessageCB=d;else{this.uniqueCallbackIdentifier=Sg(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=d,this.myIFrame=gu.createIFrame_();let N="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(N='<script>document.domain="'+document.domain+'";<\/script>');const W="<html><body>"+N+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(W),this.myIFrame.doc.close()}catch(se){Vo("frame writing exception"),se.stack&&Vo(se.stack),Vo(se)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||Vo("No IE domain setting required")}catch{const _=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+_+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,d){for(this.myID=i,this.myPW=d,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let d=this.urlFn(i),_="",w=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+_.length<=1870;){const W=this.pendingSegs.shift();_=_+"&seg"+w+"="+W.seg+"&ts"+w+"="+W.ts+"&d"+w+"="+W.d,w++}return d+=_,this.addLongPollTag_(d,this.currentSerial),!0}return!1}enqueueSegment(i,d,_){this.pendingSegs.push({seg:i,ts:d,d:_}),this.alive&&this.newRequest_()}addLongPollTag_(i,d){this.outstandingRequests.add(d);const _=()=>{this.outstandingRequests.delete(d),this.newRequest_()},w=setTimeout(_,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(w),_()})}addTag(i,d){(0,nn.$g)()?this.doNodeLongPoll(i,d):setTimeout(()=>{try{if(!this.sendNewPolls)return;const _=this.myIFrame.doc.createElement("script");_.type="text/javascript",_.async=!0,_.src=i,_.onload=_.onreadystatechange=function(){const w=_.readyState;(!w||"loaded"===w||"complete"===w)&&(_.onload=_.onreadystatechange=null,_.parentNode&&_.parentNode.removeChild(_),d())},_.onerror=()=>{Vo("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(_)}catch{}},Math.floor(1))}}let _u=null;typeof MozWebSocket<"u"?_u=MozWebSocket:typeof WebSocket<"u"&&(_u=WebSocket);let Nd=(()=>{class g{constructor(d,_,w,N,W,se,xe){this.connId=d,this.applicationId=w,this.appCheckToken=N,this.authToken=W,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uo(this.connId),this.stats_=Sh(_),this.connURL=g.connectionURL_(_,se,xe,N,w),this.nodeAdmin=_.nodeAdmin}static connectionURL_(d,_,w,N,W){const se={v:"5"};return!(0,nn.$g)()&&typeof location<"u"&&location.hostname&&lc.test(location.hostname)&&(se.r="f"),_&&(se.s=_),w&&(se.ls=w),N&&(se.ac=N),W&&(se.p=W),Xc(d,ia,se)}open(d,_){this.onDisconnect=_,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gc.set("previous_websocket_failure",!0);try{let w;if((0,nn.$g)()){w={headers:{"User-Agent":`Firebase/5/${yl}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(w.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(w.headers["X-Firebase-AppCheck"]=this.appCheckToken);const W=process.env,se=0===this.connURL.indexOf("wss://")?W.HTTPS_PROXY||W.https_proxy:W.HTTP_PROXY||W.http_proxy;se&&(w.proxy={origin:se})}this.mySock=new _u(this.connURL,[],w)}catch(w){this.log_("Error instantiating WebSocket.");const N=w.message||w.data;return N&&this.log_(N),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=w=>{this.handleIncomingFrame(w)},this.mySock.onerror=w=>{this.log_("WebSocket error.  Closing connection.");const N=w.message||w.data;N&&this.log_(N),this.onClosed_()}}start(){}static forceDisallow(){g.forceDisallow_=!0}static isAvailable(){let d=!1;if(typeof navigator<"u"&&navigator.userAgent){const w=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);w&&w.length>1&&parseFloat(w[1])<4.4&&(d=!0)}return!d&&null!==_u&&!g.forceDisallow_}static previouslyFailed(){return Gc.isInMemoryStorage||!0===Gc.get("previous_websocket_failure")}markConnectionHealthy(){Gc.remove("previous_websocket_failure")}appendFrame_(d){if(this.frames.push(d),this.frames.length===this.totalFrames){const _=this.frames.join("");this.frames=null;const w=(0,nn.$L)(_);this.onMessage(w)}}handleNewFrameCount_(d){this.totalFrames=d,this.frames=[]}extractFrameCount_(d){if((0,nn.vA)(null===this.frames,"We already have a frame buffer"),d.length<=6){const _=Number(d);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),d}handleIncomingFrame(d){if(null===this.mySock)return;const _=d.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{const w=this.extractFrameCount_(_);null!==w&&this.appendFrame_(w)}}send(d){this.resetKeepAlive();const _=(0,nn.As)(d);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);const w=oc(_,16384);w.length>1&&this.sendString_(String(w.length));for(let N=0;N<w.length;N++)this.sendString_(w[N])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(d){try{this.mySock.send(d)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return g.responsesRequiredToBeHealthy=2,g.healthyTimeout=3e4,g})(),Mm=(()=>{class g{constructor(d){this.initTransports_(d)}static get ALL_TRANSPORTS(){return[va,Nd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(d){const _=Nd&&Nd.isAvailable();let w=_&&!Nd.previouslyFailed();if(d.webSocketOnly&&(_||na("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),w=!0),w)this.transports_=[Nd];else{const N=this.transports_=[];for(const W of g.ALL_TRANSPORTS)W&&W.isAvailable()&&N.push(W);g.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return g.globalTransportInitialized_=!1,g})();class tl{constructor(i,d,_,w,N,W,se,xe,Ue,Qe){this.id=i,this.repoInfo_=d,this.applicationId_=_,this.appCheckToken_=w,this.authToken_=N,this.onMessage_=W,this.onReady_=se,this.onDisconnect_=xe,this.onKill_=Ue,this.lastSessionId=Qe,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uo("c:"+this.id+":"),this.transportManager_=new Mm(d),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.conn_),_=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(d,_)},Math.floor(0));const w=i.healthyTimeout||0;w>0&&(this.healthyTimeout_=hd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(w)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return d=>{i===this.conn_?this.onConnectionLost_(d):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return d=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(d):i===this.secondaryConn_?this.onSecondaryMessageReceived_(d):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const d=i.t;"a"===d?this.upgradeIfSecondaryHealthy_():"r"===d?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===d&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const d=Yu("t",i),_=Yu("d",i);if("c"===d)this.onSecondaryControl_(_);else{if("d"!==d)throw new Error("Unknown protocol layer: "+d);this.pendingDataMessages.push(_)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const d=Yu("t",i),_=Yu("d",i);"c"===d?this.onControl_(_):"d"===d&&this.onDataMessage_(_)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const d=Yu("t",i);if("d"in i){const _=i.d;if("h"===d){const w=Object.assign({},_);this.repoInfo_.isUsingEmulator&&(w.h=this.repoInfo_.host),this.onHandshake_(w)}else if("n"===d){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let w=0;w<this.pendingDataMessages.length;++w)this.onDataMessage_(this.pendingDataMessages[w]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===d?this.onConnectionShutdown_(_):"r"===d?this.onReset_(_):"e"===d?Vp("Server Error: "+_):"o"===d?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vp("Unknown control packet command: "+d)}}onHandshake_(i){const d=i.ts,_=i.v,w=i.h;this.sessionId=i.s,this.repoInfo_.host=w,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,d),"5"!==_&&na("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.secondaryConn_),_=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(d,_),hd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,d){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(d,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Aa{put(i,d,_,w){}merge(i,d,_,w){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,d,_){}onDisconnectMerge(i,d,_){}onDisconnectCancel(i,d){}reportStats(i){}}class Cc{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,nn.vA)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...d){if(Array.isArray(this.listeners_[i])){const _=[...this.listeners_[i]];for(let w=0;w<_.length;w++)_[w].callback.apply(_[w].context,d)}}on(i,d,_){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:d,context:_});const w=this.getInitialEvent(i);w&&d.apply(_,w)}off(i,d,_){this.validateEventType_(i);const w=this.listeners_[i]||[];for(let N=0;N<w.length;N++)if(w[N].callback===d&&(!_||_===w[N].context))return void w.splice(N,1)}validateEventType_(i){(0,nn.vA)(this.allowedEvents_.find(d=>d===i),"Unknown event: "+i)}}class Vd extends Cc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,nn.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Vd}getInitialEvent(i){return(0,nn.vA)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class Ao{constructor(i,d){if(void 0===d){this.pieces_=i.split("/");let _=0;for(let w=0;w<this.pieces_.length;w++)this.pieces_[w].length>0&&(this.pieces_[_]=this.pieces_[w],_++);this.pieces_.length=_,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=d}toString(){let i="";for(let d=this.pieceNum_;d<this.pieces_.length;d++)""!==this.pieces_[d]&&(i+="/"+this.pieces_[d]);return i||"/"}}function Ts(){return new Ao("")}function vs(g){return g.pieceNum_>=g.pieces_.length?null:g.pieces_[g.pieceNum_]}function Tc(g){return g.pieces_.length-g.pieceNum_}function oo(g){let i=g.pieceNum_;return i<g.pieces_.length&&i++,new Ao(g.pieces_,i)}function cc(g){return g.pieceNum_<g.pieces_.length?g.pieces_[g.pieces_.length-1]:null}function ho(g,i=0){return g.pieces_.slice(g.pieceNum_+i)}function Ko(g){if(g.pieceNum_>=g.pieces_.length)return null;const i=[];for(let d=g.pieceNum_;d<g.pieces_.length-1;d++)i.push(g.pieces_[d]);return new Ao(i,0)}function Vs(g,i){const d=[];for(let _=g.pieceNum_;_<g.pieces_.length;_++)d.push(g.pieces_[_]);if(i instanceof Ao)for(let _=i.pieceNum_;_<i.pieces_.length;_++)d.push(i.pieces_[_]);else{const _=i.split("/");for(let w=0;w<_.length;w++)_[w].length>0&&d.push(_[w])}return new Ao(d,0)}function Ss(g){return g.pieceNum_>=g.pieces_.length}function yo(g,i){const d=vs(g),_=vs(i);if(null===d)return i;if(d===_)return yo(oo(g),oo(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+g+")")}function Ta(g,i){const d=ho(g,0),_=ho(i,0);for(let w=0;w<d.length&&w<_.length;w++){const N=ud(d[w],_[w]);if(0!==N)return N}return d.length===_.length?0:d.length<_.length?-1:1}function ka(g,i){if(Tc(g)!==Tc(i))return!1;for(let d=g.pieceNum_,_=i.pieceNum_;d<=g.pieces_.length;d++,_++)if(g.pieces_[d]!==i.pieces_[_])return!1;return!0}function ba(g,i){let d=g.pieceNum_,_=i.pieceNum_;if(Tc(g)>Tc(i))return!1;for(;d<g.pieces_.length;){if(g.pieces_[d]!==i.pieces_[_])return!1;++d,++_}return!0}class $p{constructor(i,d){this.errorPrefix_=d,this.parts_=ho(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let _=0;_<this.parts_.length;_++)this.byteLength_+=(0,nn.OE)(this.parts_[_]);Ud(this)}}function Ud(g){if(g.byteLength_>768)throw new Error(g.errorPrefix_+"has a key path longer than 768 bytes ("+g.byteLength_+").");if(g.parts_.length>32)throw new Error(g.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+jd(g))}function jd(g){return 0===g.parts_.length?"":"in property '"+g.parts_.join(".")+"'"}class wl extends Cc{constructor(){let i,d;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(d="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(d="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(d="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(d="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,d&&document.addEventListener(d,()=>{const _=!document[i];_!==this.visible_&&(this.visible_=_,this.trigger("visible",_))},!1)}static getInstance(){return new wl}getInitialEvent(i){return(0,nn.vA)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const to=1e3;let go,qu=(()=>{class g extends Aa{constructor(d,_,w,N,W,se,xe,Ue){if(super(),this.repoInfo_=d,this.applicationId_=_,this.onDataUpdate_=w,this.onConnectStatus_=N,this.onServerInfoUpdate_=W,this.authTokenProvider_=se,this.appCheckTokenProvider_=xe,this.authOverride_=Ue,this.id=g.nextPersistentConnectionId_++,this.log_=Uo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=to,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ue&&!(0,nn.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wl.getInstance().on("visible",this.onVisible_,this),-1===d.host.indexOf("fblocal")&&Vd.getInstance().on("online",this.onOnline_,this)}sendRequest(d,_,w){const N=++this.requestNumber_,W={r:N,a:d,b:_};this.log_((0,nn.As)(W)),(0,nn.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(W),w&&(this.requestCBHash_[N]=w)}get(d){this.initConnection_();const _=new nn.cY,N={action:"g",request:{p:d._path.toString(),q:d._queryObject},onComplete:se=>{const xe=se.d;"ok"===se.s?_.resolve(xe):_.reject(xe)}};return this.outstandingGets_.push(N),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),_.promise}listen(d,_,w,N){this.initConnection_();const W=d._queryIdentifier,se=d._path.toString();this.log_("Listen called for "+se+" "+W),this.listens.has(se)||this.listens.set(se,new Map),(0,nn.vA)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,nn.vA)(!this.listens.get(se).has(W),"listen() called twice for same path/queryId.");const xe={onComplete:N,hashFn:_,query:d,tag:w};this.listens.get(se).set(W,xe),this.connected_&&this.sendListen_(xe)}sendGet_(d){const _=this.outstandingGets_[d];this.sendRequest("g",_.request,w=>{delete this.outstandingGets_[d],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),_.onComplete&&_.onComplete(w)})}sendListen_(d){const _=d.query,w=_._path.toString(),N=_._queryIdentifier;this.log_("Listen on "+w+" for "+N);const W={p:w};d.tag&&(W.q=_._queryObject,W.t=d.tag),W.h=d.hashFn(),this.sendRequest("q",W,xe=>{const Ue=xe.d,Qe=xe.s;g.warnOnListenWarnings_(Ue,_),(this.listens.get(w)&&this.listens.get(w).get(N))===d&&(this.log_("listen response",xe),"ok"!==Qe&&this.removeListen_(w,N),d.onComplete&&d.onComplete(Qe,Ue))})}static warnOnListenWarnings_(d,_){if(d&&"object"==typeof d&&(0,nn.gR)(d,"w")){const w=(0,nn.yw)(d,"w");if(Array.isArray(w)&&~w.indexOf("no_index")){const N='".indexOn": "'+_._queryParams.getIndex().toString()+'"',W=_._path.toString();na(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${N} at ${W} to your security rules for better performance.`)}}}refreshAuthToken(d){this.authToken_=d,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(d)}reduceReconnectDelayIfAdminCredential_(d){(d&&40===d.length||(0,nn.qc)(d))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(d){this.appCheckToken_=d,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const d=this.authToken_,_=(0,nn.Cv)(d)?"auth":"gauth",w={cred:d};null===this.authOverride_?w.noauth=!0:"object"==typeof this.authOverride_&&(w.authvar=this.authOverride_),this.sendRequest(_,w,N=>{const W=N.s,se=N.d||"error";this.authToken_===d&&("ok"===W?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(W,se))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},d=>{const _=d.s,w=d.d||"error";"ok"===_?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(_,w)})}unlisten(d,_){const w=d._path.toString(),N=d._queryIdentifier;this.log_("Unlisten called for "+w+" "+N),(0,nn.vA)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(w,N)&&this.connected_&&this.sendUnlisten_(w,N,d._queryObject,_)}sendUnlisten_(d,_,w,N){this.log_("Unlisten on "+d+" for "+_);const W={p:d};N&&(W.q=w,W.t=N),this.sendRequest("n",W)}onDisconnectPut(d,_,w){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",d,_,w):this.onDisconnectRequestQueue_.push({pathString:d,action:"o",data:_,onComplete:w})}onDisconnectMerge(d,_,w){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",d,_,w):this.onDisconnectRequestQueue_.push({pathString:d,action:"om",data:_,onComplete:w})}onDisconnectCancel(d,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",d,null,_):this.onDisconnectRequestQueue_.push({pathString:d,action:"oc",data:null,onComplete:_})}sendOnDisconnect_(d,_,w,N){const W={p:_,d:w};this.log_("onDisconnect "+d,W),this.sendRequest(d,W,se=>{N&&setTimeout(()=>{N(se.s,se.d)},Math.floor(0))})}put(d,_,w,N){this.putInternal("p",d,_,w,N)}merge(d,_,w,N){this.putInternal("m",d,_,w,N)}putInternal(d,_,w,N,W){this.initConnection_();const se={p:_,d:w};void 0!==W&&(se.h=W),this.outstandingPuts_.push({action:d,request:se,onComplete:N}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+_)}sendPut_(d){const _=this.outstandingPuts_[d].action,w=this.outstandingPuts_[d].request,N=this.outstandingPuts_[d].onComplete;this.outstandingPuts_[d].queued=this.connected_,this.sendRequest(_,w,W=>{this.log_(_+" response",W),delete this.outstandingPuts_[d],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),N&&N(W.s,W.d)})}reportStats(d){if(this.connected_){const _={c:d};this.log_("reportStats",_),this.sendRequest("s",_,w=>{"ok"!==w.s&&this.log_("reportStats","Error sending stats: "+w.d)})}}onDataMessage_(d){if("r"in d){this.log_("from server: "+(0,nn.As)(d));const _=d.r,w=this.requestCBHash_[_];w&&(delete this.requestCBHash_[_],w(d.b))}else{if("error"in d)throw"A server-side error has occurred: "+d.error;"a"in d&&this.onDataPush_(d.a,d.b)}}onDataPush_(d,_){this.log_("handleServerMessage",d,_),"d"===d?this.onDataUpdate_(_.p,_.d,!1,_.t):"m"===d?this.onDataUpdate_(_.p,_.d,!0,_.t):"c"===d?this.onListenRevoked_(_.p,_.q):"ac"===d?this.onAuthRevoked_(_.s,_.d):"apc"===d?this.onAppCheckRevoked_(_.s,_.d):"sd"===d?this.onSecurityDebugPacket_(_):Vp("Unrecognized action received from server: "+(0,nn.As)(d)+"\nAre you using the latest client?")}onReady_(d,_){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(d),this.lastSessionId=_,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(d){(0,nn.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(d))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(d){d&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0)),this.visible_=d}onOnline_(d){d?(this.log_("Browser went online."),this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=to),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const d=(new Date).getTime()-this.lastConnectionAttemptTime_;let _=Math.max(0,this.reconnectDelay_-d);_=Math.random()*_,this.log_("Trying to reconnect in "+_+"ms"),this.scheduleConnect_(_),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var d=this;return(0,lt.A)(function*(){if(d.shouldReconnect_()){d.log_("Making a connection attempt"),d.lastConnectionAttemptTime_=(new Date).getTime(),d.lastConnectionEstablishedTime_=null;const _=d.onDataMessage_.bind(d),w=d.onReady_.bind(d),N=d.onRealtimeDisconnect_.bind(d),W=d.id+":"+g.nextConnectionId_++,se=d.lastSessionId;let xe=!1,Ue=null;const Qe=function(){Ue?Ue.close():(xe=!0,N())};d.realtime_={close:Qe,sendRequest:function(Kt){(0,nn.vA)(Ue,"sendRequest call when we're not connected not allowed."),Ue.sendRequest(Kt)}};const gt=d.forceTokenRefresh_;d.forceTokenRefresh_=!1;try{const[Kt,zt]=yield Promise.all([d.authTokenProvider_.getToken(gt),d.appCheckTokenProvider_.getToken(gt)]);xe?Vo("getToken() completed but was canceled"):(Vo("getToken() completed. Creating connection."),d.authToken_=Kt&&Kt.accessToken,d.appCheckToken_=zt&&zt.token,Ue=new tl(W,d.repoInfo_,d.applicationId_,d.appCheckToken_,d.authToken_,_,w,N,cn=>{na(cn+" ("+d.repoInfo_.toString()+")"),d.interrupt("server_kill")},se))}catch(Kt){d.log_("Failed to get token: "+Kt),xe||(d.repoInfo_.nodeAdmin&&na(Kt),Qe())}}})()}interrupt(d){Vo("Interrupting connection for reason: "+d),this.interruptReasons_[d]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(d){Vo("Resuming connection for reason: "+d),delete this.interruptReasons_[d],(0,nn.Im)(this.interruptReasons_)&&(this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(d){const _=d-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:_})}cancelSentTransactions_(){for(let d=0;d<this.outstandingPuts_.length;d++){const _=this.outstandingPuts_[d];_&&"h"in _.request&&_.queued&&(_.onComplete&&_.onComplete("disconnect"),delete this.outstandingPuts_[d],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(d,_){let w;w=_?_.map(W=>Wf(W)).join("$"):"default";const N=this.removeListen_(d,w);N&&N.onComplete&&N.onComplete("permission_denied")}removeListen_(d,_){const w=new Ao(d).toString();let N;if(this.listens.has(w)){const W=this.listens.get(w);N=W.get(_),W.delete(_),0===W.size&&this.listens.delete(w)}else N=void 0;return N}onAuthRevoked_(d,_){Vo("Auth token revoked: "+d+"/"+_),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===d||"permission_denied"===d)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(d,_){Vo("App check token revoked: "+d+"/"+_),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===d||"permission_denied"===d)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(d){this.securityDebugCallback_?this.securityDebugCallback_(d):"msg"in d&&console.log("FIREBASE: "+d.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const d of this.listens.values())for(const _ of d.values())this.sendListen_(_);for(let d=0;d<this.outstandingPuts_.length;d++)this.outstandingPuts_[d]&&this.sendPut_(d);for(;this.onDisconnectRequestQueue_.length;){const d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(let d=0;d<this.outstandingGets_.length;d++)this.outstandingGets_[d]&&this.sendGet_(d)}sendConnectStats_(){const d={};let _="js";(0,nn.$g)()&&(_=this.repoInfo_.nodeAdmin?"admin_node":"node"),d["sdk."+_+"."+yl.replace(/\./g,"-")]=1,(0,nn.jZ)()?d["framework.cordova"]=1:(0,nn.lV)()&&(d["framework.reactnative"]=1),this.reportStats(d)}shouldReconnect_(){const d=Vd.getInstance().currentlyOnline();return(0,nn.Im)(this.interruptReasons_)&&d}}return g.nextPersistentConnectionId_=0,g.nextConnectionId_=0,g})();class sr{constructor(i,d){this.name=i,this.node=d}static Wrap(i,d){return new sr(i,d)}}class zd{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,d){const _=new sr(dd,i),w=new sr(dd,d);return 0!==this.compare(_,w)}minPost(){return sr.MIN}}class md extends zd{static get __EMPTY_NODE(){return go}static set __EMPTY_NODE(i){go=i}compare(i,d){return ud(i.name,d.name)}isDefinedOn(i){throw(0,nn.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,d){return!1}minPost(){return sr.MIN}maxPost(){return new sr(Ma,go)}makePost(i,d){return(0,nn.vA)("string"==typeof i,"KeyIndex indexValue must always be a string."),new sr(i,go)}toString(){return".key"}}const Ll=new md;class kh{constructor(i,d,_,w,N=null){this.isReverse_=w,this.resultGenerator_=N,this.nodeStack_=[];let W=1;for(;!i.isEmpty();)if(W=d?_(i.key,d):1,w&&(W*=-1),W<0)i=this.isReverse_?i.left:i.right;else{if(0===W){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let d,i=this.nodeStack_.pop();if(d=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return d}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let Hd,dc=(()=>{class g{constructor(d,_,w,N,W){this.key=d,this.value=_,this.color=w??g.RED,this.left=N??Cl.EMPTY_NODE,this.right=W??Cl.EMPTY_NODE}copy(d,_,w,N,W){return new g(d??this.key,_??this.value,w??this.color,N??this.left,W??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)}reverseTraversal(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(d,_,w){let N=this;const W=w(d,N.key);return N=W<0?N.copy(null,null,null,N.left.insert(d,_,w),null):0===W?N.copy(null,_,null,null,null):N.copy(null,null,null,null,N.right.insert(d,_,w)),N.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cl.EMPTY_NODE;let d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),d=d.copy(null,null,null,d.left.removeMin_(),null),d.fixUp_()}remove(d,_){let w,N;if(w=this,_(d,w.key)<0)!w.left.isEmpty()&&!w.left.isRed_()&&!w.left.left.isRed_()&&(w=w.moveRedLeft_()),w=w.copy(null,null,null,w.left.remove(d,_),null);else{if(w.left.isRed_()&&(w=w.rotateRight_()),!w.right.isEmpty()&&!w.right.isRed_()&&!w.right.left.isRed_()&&(w=w.moveRedRight_()),0===_(d,w.key)){if(w.right.isEmpty())return Cl.EMPTY_NODE;N=w.right.min_(),w=w.copy(N.key,N.value,null,null,w.right.removeMin_())}w=w.copy(null,null,null,null,w.right.remove(d,_))}return w.fixUp_()}isRed_(){return this.color}fixUp_(){let d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d}moveRedLeft_(){let d=this.colorFlip_();return d.right.left.isRed_()&&(d=d.copy(null,null,null,null,d.right.rotateRight_()),d=d.rotateLeft_(),d=d.colorFlip_()),d}moveRedRight_(){let d=this.colorFlip_();return d.left.left.isRed_()&&(d=d.rotateRight_(),d=d.colorFlip_()),d}rotateLeft_(){const d=this.copy(null,null,g.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)}rotateRight_(){const d=this.copy(null,null,g.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)}colorFlip_(){const d=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,_)}checkMaxDepth_(){const d=this.check_();return Math.pow(2,d)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)}}return g.RED=!0,g.BLACK=!1,g})();class Cl{constructor(i,d=Cl.EMPTY_NODE){this.comparator_=i,this.root_=d}insert(i,d){return new Cl(this.comparator_,this.root_.insert(i,d,this.comparator_).copy(null,null,dc.BLACK,null,null))}remove(i){return new Cl(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,dc.BLACK,null,null))}get(i){let d,_=this.root_;for(;!_.isEmpty();){if(d=this.comparator_(i,_.key),0===d)return _.value;d<0?_=_.left:d>0&&(_=_.right)}return null}getPredecessorKey(i){let d,_=this.root_,w=null;for(;!_.isEmpty();){if(d=this.comparator_(i,_.key),0===d){if(_.left.isEmpty())return w?w.key:null;for(_=_.left;!_.right.isEmpty();)_=_.right;return _.key}d<0?_=_.left:d>0&&(w=_,_=_.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new kh(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,d){return new kh(this.root_,i,this.comparator_,!1,d)}getReverseIteratorFrom(i,d){return new kh(this.root_,i,this.comparator_,!0,d)}getReverseIterator(i){return new kh(this.root_,null,this.comparator_,!0,i)}}function Rg(g,i){return ud(g.name,i.name)}function gd(g,i){return ud(g,i)}Cl.EMPTY_NODE=new class j0{copy(i,d,_,w,N){return this}insert(i,d,_){return new dc(i,d,null)}remove(i,d){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Zl=function(g){return"number"==typeof g?"number:"+Xl(g):"string:"+g},bf=function(g){if(g.isLeafNode()){const i=g.val();(0,nn.vA)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,nn.gR)(i,".sv"),"Priority must be a string or number.")}else(0,nn.vA)(g===Hd||g.isEmpty(),"priority of unexpected type.");(0,nn.vA)(g===Hd||g.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let yu,Qf,Ju,Zu=(()=>{class g{constructor(d,_=g.__childrenNodeConstructor.EMPTY_NODE){this.value_=d,this.priorityNode_=_,this.lazyHash_=null,(0,nn.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),bf(this.priorityNode_)}static set __childrenNodeConstructor(d){yu=d}static get __childrenNodeConstructor(){return yu}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(d){return new g(this.value_,d)}getImmediateChild(d){return".priority"===d?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE}getChild(d){return Ss(d)?this:".priority"===vs(d)?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(d,_){return null}updateImmediateChild(d,_){return".priority"===d?this.updatePriority(_):_.isEmpty()&&".priority"!==d?this:g.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,_).updatePriority(this.priorityNode_)}updateChild(d,_){const w=vs(d);return null===w?_:_.isEmpty()&&".priority"!==w?this:((0,nn.vA)(".priority"!==w||1===Tc(d),".priority must be the last token in a path"),this.updateImmediateChild(w,g.__childrenNodeConstructor.EMPTY_NODE.updateChild(oo(d),_)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(d,_){return!1}val(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let d="";this.priorityNode_.isEmpty()||(d+="priority:"+Zl(this.priorityNode_.val())+":");const _=typeof this.value_;d+=_+":",d+="number"===_?Xl(this.value_):this.value_,this.lazyHash_=Bp(d)}return this.lazyHash_}getValue(){return this.value_}compareTo(d){return d===g.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof g.__childrenNodeConstructor?-1:((0,nn.vA)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))}compareToLeafNode_(d){const _=typeof d.value_,w=typeof this.value_,N=g.VALUE_TYPE_ORDER.indexOf(_),W=g.VALUE_TYPE_ORDER.indexOf(w);return(0,nn.vA)(N>=0,"Unknown leaf type: "+_),(0,nn.vA)(W>=0,"Unknown leaf type: "+w),N===W?"object"===w?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:W-N}withIndex(){return this}isIndexed(){return!0}equals(d){return d===this||!!d.isLeafNode()&&(this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_))}}return g.VALUE_TYPE_ORDER=["object","boolean","number","string"],g})();const ao=new class jo extends zd{compare(i,d){const _=i.node.getPriority(),w=d.node.getPriority(),N=_.compareTo(w);return 0===N?ud(i.name,d.name):N}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,d){return!i.getPriority().equals(d.getPriority())}minPost(){return sr.MIN}maxPost(){return new sr(Ma,new Zu("[PRIORITY-POST]",Ju))}makePost(i,d){const _=Qf(i);return new sr(d,new Zu("[PRIORITY-POST]",_))}toString(){return".priority"}},Oh=Math.log(2);class Lm{constructor(i){this.count=parseInt(Math.log(i+1)/Oh,10),this.current_=this.count-1;const w=(N=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&w}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const nl=function(g,i,d,_){g.sort(i);const w=function(xe,Ue){const Qe=Ue-xe;let Ze,gt;if(0===Qe)return null;if(1===Qe)return Ze=g[xe],gt=d?d(Ze):Ze,new dc(gt,Ze.node,dc.BLACK,null,null);{const Kt=parseInt(Qe/2,10)+xe,zt=w(xe,Kt),cn=w(Kt+1,Ue);return Ze=g[Kt],gt=d?d(Ze):Ze,new dc(gt,Ze.node,dc.BLACK,zt,cn)}},se=function(xe){let Ue=null,Qe=null,Ze=g.length;const gt=function(zt,cn){const pn=Ze-zt,Xt=Ze;Ze-=zt;const wn=w(pn+1,Xt),_n=g[pn],ai=d?d(_n):_n;Kt(new dc(ai,_n.node,cn,null,wn))},Kt=function(zt){Ue?(Ue.left=zt,Ue=zt):(Qe=zt,Ue=zt)};for(let zt=0;zt<xe.count;++zt){const cn=xe.nextBitIsOne(),pn=Math.pow(2,xe.count-(zt+1));cn?gt(pn,dc.BLACK):(gt(pn,dc.BLACK),gt(pn,dc.RED))}return Qe}(new Lm(g.length));return new Cl(_||i,se)};let yf;const Oa={};class Tl{constructor(i,d){this.indexes_=i,this.indexSet_=d}static get Default(){return(0,nn.vA)(Oa&&ao,"ChildrenNode.ts has not been loaded"),yf=yf||new Tl({".priority":Oa},{".priority":ao}),yf}get(i){const d=(0,nn.yw)(this.indexes_,i);if(!d)throw new Error("No index defined for "+i);return d instanceof Cl?d:null}hasIndex(i){return(0,nn.gR)(this.indexSet_,i.toString())}addIndex(i,d){(0,nn.vA)(i!==Ll,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const _=[];let w=!1;const N=d.getIterator(sr.Wrap);let se,W=N.getNext();for(;W;)w=w||i.isDefinedOn(W.node),_.push(W),W=N.getNext();se=w?nl(_,i.getCompare()):Oa;const xe=i.toString(),Ue=Object.assign({},this.indexSet_);Ue[xe]=i;const Qe=Object.assign({},this.indexes_);return Qe[xe]=se,new Tl(Qe,Ue)}addToIndexes(i,d){const _=(0,nn.kH)(this.indexes_,(w,N)=>{const W=(0,nn.yw)(this.indexSet_,N);if((0,nn.vA)(W,"Missing index implementation for "+N),w===Oa){if(W.isDefinedOn(i.node)){const se=[],xe=d.getIterator(sr.Wrap);let Ue=xe.getNext();for(;Ue;)Ue.name!==i.name&&se.push(Ue),Ue=xe.getNext();return se.push(i),nl(se,W.getCompare())}return Oa}{const se=d.get(i.name);let xe=w;return se&&(xe=xe.remove(new sr(i.name,se))),xe.insert(i,i.node)}});return new Tl(_,this.indexSet_)}removeFromIndexes(i,d){const _=(0,nn.kH)(this.indexes_,w=>{if(w===Oa)return w;{const N=d.get(i.name);return N?w.remove(new sr(i.name,N)):w}});return new Tl(_,this.indexSet_)}}let Sc,jr=(()=>{class g{constructor(d,_,w){this.children_=d,this.priorityNode_=_,this.indexMap_=w,this.lazyHash_=null,this.priorityNode_&&bf(this.priorityNode_),this.children_.isEmpty()&&(0,nn.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Sc||(Sc=new g(new Cl(gd),null,Tl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sc}updatePriority(d){return this.children_.isEmpty()?this:new g(this.children_,d,this.indexMap_)}getImmediateChild(d){if(".priority"===d)return this.getPriority();{const _=this.children_.get(d);return null===_?Sc:_}}getChild(d){const _=vs(d);return null===_?this:this.getImmediateChild(_).getChild(oo(d))}hasChild(d){return null!==this.children_.get(d)}updateImmediateChild(d,_){if((0,nn.vA)(_,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(_);{const w=new sr(d,_);let N,W;_.isEmpty()?(N=this.children_.remove(d),W=this.indexMap_.removeFromIndexes(w,this.children_)):(N=this.children_.insert(d,_),W=this.indexMap_.addToIndexes(w,this.children_));const se=N.isEmpty()?Sc:this.priorityNode_;return new g(N,se,W)}}updateChild(d,_){const w=vs(d);if(null===w)return _;{(0,nn.vA)(".priority"!==vs(d)||1===Tc(d),".priority must be the last token in a path");const N=this.getImmediateChild(w).updateChild(oo(d),_);return this.updateImmediateChild(w,N)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(d){if(this.isEmpty())return null;const _={};let w=0,N=0,W=!0;if(this.forEachChild(ao,(se,xe)=>{_[se]=xe.val(d),w++,W&&g.INTEGER_REGEXP_.test(se)?N=Math.max(N,Number(se)):W=!1}),!d&&W&&N<2*w){const se=[];for(const xe in _)se[xe]=_[xe];return se}return d&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_}hash(){if(null===this.lazyHash_){let d="";this.getPriority().isEmpty()||(d+="priority:"+Zl(this.getPriority().val())+":"),this.forEachChild(ao,(_,w)=>{const N=w.hash();""!==N&&(d+=":"+_+":"+N)}),this.lazyHash_=""===d?"":Bp(d)}return this.lazyHash_}getPredecessorChildName(d,_,w){const N=this.resolveIndex_(w);if(N){const W=N.getPredecessorKey(new sr(d,_));return W?W.name:null}return this.children_.getPredecessorKey(d)}getFirstChildName(d){const _=this.resolveIndex_(d);if(_){const w=_.minKey();return w&&w.name}return this.children_.minKey()}getFirstChild(d){const _=this.getFirstChildName(d);return _?new sr(_,this.children_.get(_)):null}getLastChildName(d){const _=this.resolveIndex_(d);if(_){const w=_.maxKey();return w&&w.name}return this.children_.maxKey()}getLastChild(d){const _=this.getLastChildName(d);return _?new sr(_,this.children_.get(_)):null}forEachChild(d,_){const w=this.resolveIndex_(d);return w?w.inorderTraversal(N=>_(N.name,N.node)):this.children_.inorderTraversal(_)}getIterator(d){return this.getIteratorFrom(d.minPost(),d)}getIteratorFrom(d,_){const w=this.resolveIndex_(_);if(w)return w.getIteratorFrom(d,N=>N);{const N=this.children_.getIteratorFrom(d.name,sr.Wrap);let W=N.peek();for(;null!=W&&_.compare(W,d)<0;)N.getNext(),W=N.peek();return N}}getReverseIterator(d){return this.getReverseIteratorFrom(d.maxPost(),d)}getReverseIteratorFrom(d,_){const w=this.resolveIndex_(_);if(w)return w.getReverseIteratorFrom(d,N=>N);{const N=this.children_.getReverseIteratorFrom(d.name,sr.Wrap);let W=N.peek();for(;null!=W&&_.compare(W,d)>0;)N.getNext(),W=N.peek();return N}}compareTo(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===Qc?-1:0}withIndex(d){if(d===Ll||this.indexMap_.hasIndex(d))return this;{const _=this.indexMap_.addIndex(d,this.children_);return new g(this.children_,this.priorityNode_,_)}}isIndexed(d){return d===Ll||this.indexMap_.hasIndex(d)}equals(d){if(d===this)return!0;if(d.isLeafNode())return!1;{const _=d;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){const w=this.getIterator(ao),N=_.getIterator(ao);let W=w.getNext(),se=N.getNext();for(;W&&se;){if(W.name!==se.name||!W.node.equals(se.node))return!1;W=w.getNext(),se=N.getNext()}return null===W&&null===se}return!1}return!1}}resolveIndex_(d){return d===Ll?null:this.indexMap_.get(d.toString())}}return g.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,g})();const Qc=new class qf extends jr{constructor(){super(new Cl(gd),jr.EMPTY_NODE,Tl.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return jr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(sr,{MIN:{value:new sr(dd,jr.EMPTY_NODE)},MAX:{value:new sr(Ma,Qc)}}),md.__EMPTY_NODE=jr.EMPTY_NODE,Zu.__childrenNodeConstructor=jr,function $d(g){Hd=g}(Qc),function Ng(g){Ju=g}(Qc);const z0=!0;function Ro(g,i=null){if(null===g)return jr.EMPTY_NODE;if("object"==typeof g&&".priority"in g&&(i=g[".priority"]),(0,nn.vA)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof g&&".value"in g&&null!==g[".value"]&&(g=g[".value"]),"object"!=typeof g||".sv"in g)return new Zu(g,Ro(i));if(g instanceof Array||!z0){let d=jr.EMPTY_NODE;return Ls(g,(_,w)=>{if((0,nn.gR)(g,_)&&"."!==_.substring(0,1)){const N=Ro(w);(N.isLeafNode()||!N.isEmpty())&&(d=d.updateImmediateChild(_,N))}}),d.updatePriority(Ro(i))}{const d=[];let _=!1;if(Ls(g,(W,se)=>{if("."!==W.substring(0,1)){const xe=Ro(se);xe.isEmpty()||(_=_||!xe.getPriority().isEmpty(),d.push(new sr(W,xe)))}}),0===d.length)return jr.EMPTY_NODE;const N=nl(d,Rg,W=>W.name,gd);if(_){const W=nl(d,ao.getCompare());return new jr(N,Ro(i),new Tl({".priority":W},{".priority":ao}))}return new jr(N,Ro(i),Tl.Default)}}!function Lg(g){Qf=g}(Ro);class Zf extends zd{constructor(i){super(),this.indexPath_=i,(0,nn.vA)(!Ss(i)&&".priority"!==vs(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,d){const _=this.extractChild(i.node),w=this.extractChild(d.node),N=_.compareTo(w);return 0===N?ud(i.name,d.name):N}makePost(i,d){const _=Ro(i),w=jr.EMPTY_NODE.updateChild(this.indexPath_,_);return new sr(d,w)}maxPost(){const i=jr.EMPTY_NODE.updateChild(this.indexPath_,Qc);return new sr(Ma,i)}toString(){return ho(this.indexPath_,0).join("/")}}const Wp=new class eh extends zd{compare(i,d){const _=i.node.compareTo(d.node);return 0===_?ud(i.name,d.name):_}isDefinedOn(i){return!0}indexedValueChanged(i,d){return!i.equals(d)}minPost(){return sr.MIN}maxPost(){return sr.MAX}makePost(i,d){const _=Ro(i);return new sr(d,_)}toString(){return".value"}};function Fg(g){return{type:"value",snapshotNode:g}}function Kp(g,i){return{type:"child_added",snapshotNode:i,childName:g}}function Ph(g,i){return{type:"child_removed",snapshotNode:i,childName:g}}function Lo(g,i,d){return{type:"child_changed",snapshotNode:i,childName:g,oldSnap:d}}class Gd{constructor(i){this.index_=i}updateChild(i,d,_,w,N,W){(0,nn.vA)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const se=i.getImmediateChild(d);return se.getChild(w).equals(_.getChild(w))&&se.isEmpty()===_.isEmpty()||(null!=W&&(_.isEmpty()?i.hasChild(d)?W.trackChildChange(Ph(d,se)):(0,nn.vA)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):se.isEmpty()?W.trackChildChange(Kp(d,_)):W.trackChildChange(Lo(d,_,se))),i.isLeafNode()&&_.isEmpty())?i:i.updateImmediateChild(d,_).withIndex(this.index_)}updateFullNode(i,d,_){return null!=_&&(i.isLeafNode()||i.forEachChild(ao,(w,N)=>{d.hasChild(w)||_.trackChildChange(Ph(w,N))}),d.isLeafNode()||d.forEachChild(ao,(w,N)=>{if(i.hasChild(w)){const W=i.getImmediateChild(w);W.equals(N)||_.trackChildChange(Lo(w,N,W))}else _.trackChildChange(Kp(w,N))})),d.withIndex(this.index_)}updatePriority(i,d){return i.isEmpty()?jr.EMPTY_NODE:i.updatePriority(d)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Eu{constructor(i){this.indexedFilter_=new Gd(i.getIndex()),this.index_=i.getIndex(),this.startPost_=Eu.getStartPost_(i),this.endPost_=Eu.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const d=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,_=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return d&&_}updateChild(i,d,_,w,N,W){return this.matches(new sr(d,_))||(_=jr.EMPTY_NODE),this.indexedFilter_.updateChild(i,d,_,w,N,W)}updateFullNode(i,d,_){d.isLeafNode()&&(d=jr.EMPTY_NODE);let w=d.withIndex(this.index_);w=w.updatePriority(jr.EMPTY_NODE);const N=this;return d.forEachChild(ao,(W,se)=>{N.matches(new sr(W,se))||(w=w.updateImmediateChild(W,jr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,w,_)}updatePriority(i,d){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const d=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),d)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const d=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),d)}return i.getIndex().maxPost()}}class Rh{constructor(i){this.withinDirectionalStart=d=>this.reverse_?this.withinEndPost(d):this.withinStartPost(d),this.withinDirectionalEnd=d=>this.reverse_?this.withinStartPost(d):this.withinEndPost(d),this.withinStartPost=d=>{const _=this.index_.compare(this.rangedFilter_.getStartPost(),d);return this.startIsInclusive_?_<=0:_<0},this.withinEndPost=d=>{const _=this.index_.compare(d,this.rangedFilter_.getEndPost());return this.endIsInclusive_?_<=0:_<0},this.rangedFilter_=new Eu(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,d,_,w,N,W){return this.rangedFilter_.matches(new sr(d,_))||(_=jr.EMPTY_NODE),i.getImmediateChild(d).equals(_)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,d,_,w,N,W):this.fullLimitUpdateChild_(i,d,_,N,W)}updateFullNode(i,d,_){let w;if(d.isLeafNode()||d.isEmpty())w=jr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<d.numChildren()&&d.isIndexed(this.index_)){let N;w=jr.EMPTY_NODE.withIndex(this.index_),N=this.reverse_?d.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let W=0;for(;N.hasNext()&&W<this.limit_;){const se=N.getNext();if(this.withinDirectionalStart(se)){if(!this.withinDirectionalEnd(se))break;w=w.updateImmediateChild(se.name,se.node),W++}}}else{let N;w=d.withIndex(this.index_),w=w.updatePriority(jr.EMPTY_NODE),N=this.reverse_?w.getReverseIterator(this.index_):w.getIterator(this.index_);let W=0;for(;N.hasNext();){const se=N.getNext();W<this.limit_&&this.withinDirectionalStart(se)&&this.withinDirectionalEnd(se)?W++:w=w.updateImmediateChild(se.name,jr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,w,_)}updatePriority(i,d){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,d,_,w,N){let W;if(this.reverse_){const Ze=this.index_.getCompare();W=(gt,Kt)=>Ze(Kt,gt)}else W=this.index_.getCompare();const se=i;(0,nn.vA)(se.numChildren()===this.limit_,"");const xe=new sr(d,_),Ue=this.reverse_?se.getFirstChild(this.index_):se.getLastChild(this.index_),Qe=this.rangedFilter_.matches(xe);if(se.hasChild(d)){const Ze=se.getImmediateChild(d);let gt=w.getChildAfterChild(this.index_,Ue,this.reverse_);for(;null!=gt&&(gt.name===d||se.hasChild(gt.name));)gt=w.getChildAfterChild(this.index_,gt,this.reverse_);const Kt=null==gt?1:W(gt,xe);if(Qe&&!_.isEmpty()&&Kt>=0)return N?.trackChildChange(Lo(d,_,Ze)),se.updateImmediateChild(d,_);{N?.trackChildChange(Ph(d,Ze));const cn=se.updateImmediateChild(d,jr.EMPTY_NODE);return null!=gt&&this.rangedFilter_.matches(gt)?(N?.trackChildChange(Kp(gt.name,gt.node)),cn.updateImmediateChild(gt.name,gt.node)):cn}}return _.isEmpty()?i:Qe&&W(Ue,xe)>=0?(null!=N&&(N.trackChildChange(Ph(Ue.name,Ue.node)),N.trackChildChange(Kp(d,_))),se.updateImmediateChild(d,_).updateImmediateChild(Ue.name,jr.EMPTY_NODE)):i}}class Sa{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ao}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,nn.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,nn.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,nn.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,nn.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ma}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,nn.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ao}copy(){const i=new Sa;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Dc(g,i,d){const _=g.copy();return _.startSet_=!0,void 0===i&&(i=null),_.indexStartValue_=i,null!=d?(_.startNameSet_=!0,_.indexStartName_=d):(_.startNameSet_=!1,_.indexStartName_=""),_}function Yd(g,i,d){const _=g.copy();return _.endSet_=!0,void 0===i&&(i=null),_.indexEndValue_=i,void 0!==d?(_.endNameSet_=!0,_.indexEndName_=d):(_.endNameSet_=!1,_.indexEndName_=""),_}function Qd(g,i){const d=g.copy();return d.index_=i,d}function Jf(g){const i={};if(g.isDefault())return i;let d;if(g.index_===ao?d="$priority":g.index_===Wp?d="$value":g.index_===Ll?d="$key":((0,nn.vA)(g.index_ instanceof Zf,"Unrecognized index type!"),d=g.index_.toString()),i.orderBy=(0,nn.As)(d),g.startSet_){const _=g.startAfterSet_?"startAfter":"startAt";i[_]=(0,nn.As)(g.indexStartValue_),g.startNameSet_&&(i[_]+=","+(0,nn.As)(g.indexStartName_))}if(g.endSet_){const _=g.endBeforeSet_?"endBefore":"endAt";i[_]=(0,nn.As)(g.indexEndValue_),g.endNameSet_&&(i[_]+=","+(0,nn.As)(g.indexEndName_))}return g.limitSet_&&(g.isViewFromLeft()?i.limitToFirst=g.limit_:i.limitToLast=g.limit_),i}function $(g){const i={};if(g.startSet_&&(i.sp=g.indexStartValue_,g.startNameSet_&&(i.sn=g.indexStartName_),i.sin=!g.startAfterSet_),g.endSet_&&(i.ep=g.indexEndValue_,g.endNameSet_&&(i.en=g.indexEndName_),i.ein=!g.endBeforeSet_),g.limitSet_){i.l=g.limit_;let d=g.viewFrom_;""===d&&(d=g.isViewFromLeft()?"l":"r"),i.vf=d}return g.index_!==ao&&(i.i=g.index_.toString()),i}class S extends Aa{constructor(i,d,_,w){super(),this.repoInfo_=i,this.onDataUpdate_=d,this.authTokenProvider_=_,this.appCheckTokenProvider_=w,this.log_=Uo("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,d){return void 0!==d?"tag$"+d:((0,nn.vA)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,d,_,w){const N=i._path.toString();this.log_("Listen called for "+N+" "+i._queryIdentifier);const W=S.getListenId_(i,_),se={};this.listens_[W]=se;const xe=Jf(i._queryParams);this.restRequest_(N+".json",xe,(Ue,Qe)=>{let Ze=Qe;if(404===Ue&&(Ze=null,Ue=null),null===Ue&&this.onDataUpdate_(N,Ze,!1,_),(0,nn.yw)(this.listens_,W)===se){let gt;gt=Ue?401===Ue?"permission_denied":"rest_error:"+Ue:"ok",w(gt,null)}})}unlisten(i,d){const _=S.getListenId_(i,d);delete this.listens_[_]}get(i){const d=Jf(i._queryParams),_=i._path.toString(),w=new nn.cY;return this.restRequest_(_+".json",d,(N,W)=>{let se=W;404===N&&(se=null,N=null),null===N?(this.onDataUpdate_(_,se,!1,null),w.resolve(se)):w.reject(new Error(se))}),w.promise}refreshAuthToken(i){}restRequest_(i,d={},_){return d.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([w,N])=>{w&&w.accessToken&&(d.auth=w.accessToken),N&&N.token&&(d.ac=N.token);const W=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,nn.Am)(d);this.log_("Sending REST request for "+W);const se=new XMLHttpRequest;se.onreadystatechange=()=>{if(_&&4===se.readyState){this.log_("REST Response for "+W+" received. status:",se.status,"response:",se.responseText);let xe=null;if(se.status>=200&&se.status<300){try{xe=(0,nn.$L)(se.responseText)}catch{na("Failed to parse JSON response for "+W+": "+se.responseText)}_(null,xe)}else 401!==se.status&&404!==se.status&&na("Got unsuccessful REST response for "+W+" Status: "+se.status),_(se.status);_=null}},se.open("GET",W,!0),se.send()})}}class P{constructor(){this.rootNode_=jr.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,d){this.rootNode_=this.rootNode_.updateChild(i,d)}}function Z(){return{value:null,children:new Map}}function $e(g,i,d){if(Ss(i))g.value=d,g.children.clear();else if(null!==g.value)g.value=g.value.updateChild(i,d);else{const _=vs(i);g.children.has(_)||g.children.set(_,Z()),$e(g.children.get(_),i=oo(i),d)}}function Ct(g,i){if(Ss(i))return g.value=null,g.children.clear(),!0;if(null!==g.value){if(g.value.isLeafNode())return!1;{const d=g.value;return g.value=null,d.forEachChild(ao,(_,w)=>{$e(g,new Ao(_),w)}),Ct(g,i)}}if(g.children.size>0){const d=vs(i);return i=oo(i),g.children.has(d)&&Ct(g.children.get(d),i)&&g.children.delete(d),0===g.children.size}return!0}function xn(g,i,d){null!==g.value?d(i,g.value):function jn(g,i){g.children.forEach((d,_)=>{i(_,d)})}(g,(_,w)=>{xn(w,new Ao(i.toString()+"/"+_),d)})}class xi{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),d=Object.assign({},i);return this.last_&&Ls(this.last_,(_,w)=>{d[_]=d[_]-w}),this.last_=i,d}}class zo{constructor(i,d){this.server_=d,this.statsToReport_={},this.statsListener_=new xi(i);const _=1e4+2e4*Math.random();hd(this.reportStats_.bind(this),Math.floor(_))}reportStats_(){const i=this.statsListener_.get(),d={};let _=!1;Ls(i,(w,N)=>{N>0&&(0,nn.gR)(this.statsToReport_,w)&&(d[w]=N,_=!0)}),_&&this.server_.reportStats(d),hd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ns=function(g){return g[g.OVERWRITE=0]="OVERWRITE",g[g.MERGE=1]="MERGE",g[g.ACK_USER_WRITE=2]="ACK_USER_WRITE",g[g.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",g}(Ns||{});function xf(g){return{fromUser:!1,fromServer:!0,queryId:g,tagged:!0}}class wu{constructor(i,d,_){this.path=i,this.affectedTree=d,this.revert=_,this.type=Ns.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(Ss(this.path)){if(null!=this.affectedTree.value)return(0,nn.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const d=this.affectedTree.subtree(new Ao(i));return new wu(Ts(),d,this.revert)}}return(0,nn.vA)(vs(this.path)===i,"operationForChild called for unrelated child."),new wu(oo(this.path),this.affectedTree,this.revert)}}class Nl{constructor(i,d){this.source=i,this.path=d,this.type=Ns.LISTEN_COMPLETE}operationForChild(i){return Ss(this.path)?new Nl(this.source,Ts()):new Nl(this.source,oo(this.path))}}class Cu{constructor(i,d,_){this.source=i,this.path=d,this.snap=_,this.type=Ns.OVERWRITE}operationForChild(i){return Ss(this.path)?new Cu(this.source,Ts(),this.snap.getImmediateChild(i)):new Cu(this.source,oo(this.path),this.snap)}}class qc{constructor(i,d,_){this.source=i,this.path=d,this.children=_,this.type=Ns.MERGE}operationForChild(i){if(Ss(this.path)){const d=this.children.subtree(new Ao(i));return d.isEmpty()?null:d.value?new Cu(this.source,Ts(),d.value):new qc(this.source,Ts(),d)}return(0,nn.vA)(vs(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new qc(this.source,oo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jl{constructor(i,d,_){this.node_=i,this.fullyInitialized_=d,this.filtered_=_}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(Ss(i))return this.isFullyInitialized()&&!this.filtered_;const d=vs(i);return this.isCompleteForChild(d)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class tp{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function th(g,i,d,_,w,N){const W=_.filter(se=>se.type===d);W.sort((se,xe)=>function H0(g,i,d){if(null==i.childName||null==d.childName)throw(0,nn.Hk)("Should only compare child_ events.");const _=new sr(i.childName,i.snapshotNode),w=new sr(d.childName,d.snapshotNode);return g.index_.compare(_,w)}(g,se,xe)),W.forEach(se=>{const xe=function Fm(g,i,d){return"value"===i.type||"child_removed"===i.type||(i.prevName=d.getPredecessorChildName(i.childName,i.snapshotNode,g.index_)),i}(g,se,N);w.forEach(Ue=>{Ue.respondsTo(se.type)&&i.push(Ue.createEvent(xe,g.query_))})})}function wf(g,i){return{eventCache:g,serverCache:i}}function Lh(g,i,d,_){return wf(new Jl(i,d,_),g.serverCache)}function G_(g,i,d,_){return wf(g.eventCache,new Jl(i,d,_))}function Yp(g){return g.eventCache.isFullyInitialized()?g.eventCache.getNode():null}function ya(g){return g.serverCache.isFullyInitialized()?g.serverCache.getNode():null}let Bm;class Ho{constructor(i,d=(()=>(Bm||(Bm=new Cl(Up)),Bm))()){this.value=i,this.children=d}static fromObject(i){let d=new Ho(null);return Ls(i,(_,w)=>{d=d.set(new Ao(_),w)}),d}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,d){if(null!=this.value&&d(this.value))return{path:Ts(),value:this.value};if(Ss(i))return null;{const _=vs(i),w=this.children.get(_);if(null!==w){const N=w.findRootMostMatchingPathAndValue(oo(i),d);return null!=N?{path:Vs(new Ao(_),N.path),value:N.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(Ss(i))return this;{const d=vs(i),_=this.children.get(d);return null!==_?_.subtree(oo(i)):new Ho(null)}}set(i,d){if(Ss(i))return new Ho(d,this.children);{const _=vs(i),N=(this.children.get(_)||new Ho(null)).set(oo(i),d),W=this.children.insert(_,N);return new Ho(this.value,W)}}remove(i){if(Ss(i))return this.children.isEmpty()?new Ho(null):new Ho(null,this.children);{const d=vs(i),_=this.children.get(d);if(_){const w=_.remove(oo(i));let N;return N=w.isEmpty()?this.children.remove(d):this.children.insert(d,w),null===this.value&&N.isEmpty()?new Ho(null):new Ho(this.value,N)}return this}}get(i){if(Ss(i))return this.value;{const d=vs(i),_=this.children.get(d);return _?_.get(oo(i)):null}}setTree(i,d){if(Ss(i))return d;{const _=vs(i),N=(this.children.get(_)||new Ho(null)).setTree(oo(i),d);let W;return W=N.isEmpty()?this.children.remove(_):this.children.insert(_,N),new Ho(this.value,W)}}fold(i){return this.fold_(Ts(),i)}fold_(i,d){const _={};return this.children.inorderTraversal((w,N)=>{_[w]=N.fold_(Vs(i,w),d)}),d(i,this.value,_)}findOnPath(i,d){return this.findOnPath_(i,Ts(),d)}findOnPath_(i,d,_){const w=!!this.value&&_(d,this.value);if(w)return w;if(Ss(i))return null;{const N=vs(i),W=this.children.get(N);return W?W.findOnPath_(oo(i),Vs(d,N),_):null}}foreachOnPath(i,d){return this.foreachOnPath_(i,Ts(),d)}foreachOnPath_(i,d,_){if(Ss(i))return this;{this.value&&_(d,this.value);const w=vs(i),N=this.children.get(w);return N?N.foreachOnPath_(oo(i),Vs(d,w),_):new Ho(null)}}foreach(i){this.foreach_(Ts(),i)}foreach_(i,d){this.children.inorderTraversal((_,w)=>{w.foreach_(Vs(i,_),d)}),this.value&&d(i,this.value)}foreachChild(i){this.children.inorderTraversal((d,_)=>{_.value&&i(d,_.value)})}}class Tu{constructor(i){this.writeTree_=i}static empty(){return new Tu(new Ho(null))}}function Bg(g,i,d){if(Ss(i))return new Tu(new Ho(d));{const _=g.writeTree_.findRootMostValueAndPath(i);if(null!=_){const w=_.path;let N=_.value;const W=yo(w,i);return N=N.updateChild(W,d),new Tu(g.writeTree_.set(w,N))}{const w=new Ho(d),N=g.writeTree_.setTree(i,w);return new Tu(N)}}}function $0(g,i,d){let _=g;return Ls(d,(w,N)=>{_=Bg(_,Vs(i,w),N)}),_}function qd(g,i){if(Ss(i))return Tu.empty();{const d=g.writeTree_.setTree(i,new Ho(null));return new Tu(d)}}function Zd(g,i){return null!=np(g,i)}function np(g,i){const d=g.writeTree_.findRootMostValueAndPath(i);return null!=d?g.writeTree_.get(d.path).getChild(yo(d.path,i)):null}function W_(g){const i=[],d=g.writeTree_.value;return null!=d?d.isLeafNode()||d.forEachChild(ao,(_,w)=>{i.push(new sr(_,w))}):g.writeTree_.children.inorderTraversal((_,w)=>{null!=w.value&&i.push(new sr(_,w.value))}),i}function ip(g,i){if(Ss(i))return g;{const d=np(g,i);return new Tu(null!=d?new Ho(d):g.writeTree_.subtree(i))}}function nh(g){return g.writeTree_.isEmpty()}function Nh(g,i){return Vg(Ts(),g.writeTree_,i)}function Vg(g,i,d){if(null!=i.value)return d.updateChild(g,i.value);{let _=null;return i.children.inorderTraversal((w,N)=>{".priority"===w?((0,nn.vA)(null!==N.value,"Priority writes must always be leaf nodes"),_=N.value):d=Vg(Vs(g,w),N,d)}),!d.getChild(g).isEmpty()&&null!==_&&(d=d.updateChild(Vs(g,".priority"),_)),d}}function Xp(g,i){return sh(i,g)}function ap(g,i){if(g.snap)return ba(g.path,i);for(const d in g.children)if(g.children.hasOwnProperty(d)&&ba(Vs(g.path,d),i))return!0;return!1}function K_(g){return g.visible}function G0(g,i,d){let _=Tu.empty();for(let w=0;w<g.length;++w){const N=g[w];if(i(N)){const W=N.path;let se;if(N.snap)ba(d,W)?(se=yo(d,W),_=Bg(_,se,N.snap)):ba(W,d)&&(se=yo(W,d),_=Bg(_,Ts(),N.snap.getChild(se)));else{if(!N.children)throw(0,nn.Hk)("WriteRecord should have .snap or .children");if(ba(d,W))se=yo(d,W),_=$0(_,se,N.children);else if(ba(W,d))if(se=yo(W,d),Ss(se))_=$0(_,Ts(),N.children);else{const xe=(0,nn.yw)(N.children,vs(se));if(xe){const Ue=xe.getChild(oo(se));_=Bg(_,Ts(),Ue)}}}}}return _}function Qp(g,i,d,_,w){if(_||w){const N=ip(g.visibleWrites,i);return!w&&nh(N)?d:w||null!=d||Zd(N,Ts())?Nh(G0(g.allWrites,function(Ue){return(Ue.visible||w)&&(!_||!~_.indexOf(Ue.writeId))&&(ba(Ue.path,i)||ba(i,Ue.path))},i),d||jr.EMPTY_NODE):null}{const N=np(g.visibleWrites,i);if(null!=N)return N;{const W=ip(g.visibleWrites,i);return nh(W)?d:null!=d||Zd(W,Ts())?Nh(W,d||jr.EMPTY_NODE):null}}}function Su(g,i,d,_){return Qp(g.writeTree,g.treePath,i,d,_)}function lp(g,i){return function Ug(g,i,d){let _=jr.EMPTY_NODE;const w=np(g.visibleWrites,i);if(w)return w.isLeafNode()||w.forEachChild(ao,(N,W)=>{_=_.updateImmediateChild(N,W)}),_;if(d){const N=ip(g.visibleWrites,i);return d.forEachChild(ao,(W,se)=>{const xe=Nh(ip(N,new Ao(W)),se);_=_.updateImmediateChild(W,xe)}),W_(N).forEach(W=>{_=_.updateImmediateChild(W.name,W.node)}),_}return W_(ip(g.visibleWrites,i)).forEach(W=>{_=_.updateImmediateChild(W.name,W.node)}),_}(g.writeTree,g.treePath,i)}function zg(g,i,d,_){return function Xv(g,i,d,_,w){(0,nn.vA)(_||w,"Either existingEventSnap or existingServerSnap must exist");const N=Vs(i,d);if(Zd(g.visibleWrites,N))return null;{const W=ip(g.visibleWrites,N);return nh(W)?w.getChild(d):Nh(W,w.getChild(d))}}(g.writeTree,g.treePath,i,d,_)}function Vm(g,i){return function jg(g,i){return np(g.visibleWrites,i)}(g.writeTree,Vs(g.treePath,i))}function Um(g,i,d){return function zb(g,i,d,_){const w=Vs(i,d),N=np(g.visibleWrites,w);return null!=N?N:_.isCompleteForChild(d)?Nh(ip(g.visibleWrites,w),_.getNode().getImmediateChild(d)):null}(g.writeTree,g.treePath,i,d)}function rh(g,i){return sh(Vs(g.treePath,i),g.writeTree)}function sh(g,i){return{treePath:g,writeTree:i}}class Fh{constructor(){this.changeMap=new Map}trackChildChange(i){const d=i.type,_=i.childName;(0,nn.vA)("child_added"===d||"child_changed"===d||"child_removed"===d,"Only child changes supported for tracking"),(0,nn.vA)(".priority"!==_,"Only non-priority child changes can be tracked.");const w=this.changeMap.get(_);if(w){const N=w.type;if("child_added"===d&&"child_removed"===N)this.changeMap.set(_,Lo(_,i.snapshotNode,w.snapshotNode));else if("child_removed"===d&&"child_added"===N)this.changeMap.delete(_);else if("child_removed"===d&&"child_changed"===N)this.changeMap.set(_,Ph(_,w.oldSnap));else if("child_changed"===d&&"child_added"===N)this.changeMap.set(_,Kp(_,i.snapshotNode));else{if("child_changed"!==d||"child_changed"!==N)throw(0,nn.Hk)("Illegal combination of changes: "+i+" occurred after "+w);this.changeMap.set(_,Lo(_,i.snapshotNode,w.oldSnap))}}else this.changeMap.set(_,i)}getChanges(){return Array.from(this.changeMap.values())}}const Y_=new class $g{getCompleteChild(i){return null}getChildAfterChild(i,d,_){return null}};class jm{constructor(i,d,_=null){this.writes_=i,this.viewCache_=d,this.optCompleteServerCache_=_}getCompleteChild(i){const d=this.viewCache_.eventCache;if(d.isCompleteForChild(i))return d.getNode().getImmediateChild(i);{const _=null!=this.optCompleteServerCache_?new Jl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Um(this.writes_,i,_)}}getChildAfterChild(i,d,_){const w=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ya(this.viewCache_),N=function Hg(g,i,d,_,w,N){return function W0(g,i,d,_,w,N,W){let se;const xe=ip(g.visibleWrites,i),Ue=np(xe,Ts());if(null!=Ue)se=Ue;else{if(null==d)return[];se=Nh(xe,d)}if(se=se.withIndex(W),se.isEmpty()||se.isLeafNode())return[];{const Qe=[],Ze=W.getCompare(),gt=N?se.getReverseIteratorFrom(_,W):se.getIteratorFrom(_,W);let Kt=gt.getNext();for(;Kt&&Qe.length<w;)0!==Ze(Kt,_)&&Qe.push(Kt),Kt=gt.getNext();return Qe}}(g.writeTree,g.treePath,i,d,_,w,N)}(this.writes_,w,d,1,_,i);return 0===N.length?null:N[0]}}function X0(g,i,d,_,w,N){const W=i.eventCache;if(null!=Vm(_,d))return i;{let se,xe;if(Ss(d))if((0,nn.vA)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const Ue=ya(i),Ze=lp(_,Ue instanceof jr?Ue:jr.EMPTY_NODE);se=g.filter.updateFullNode(i.eventCache.getNode(),Ze,N)}else{const Ue=Su(_,ya(i));se=g.filter.updateFullNode(i.eventCache.getNode(),Ue,N)}else{const Ue=vs(d);if(".priority"===Ue){(0,nn.vA)(1===Tc(d),"Can't have a priority with additional path components");const Qe=W.getNode();xe=i.serverCache.getNode();const Ze=zg(_,d,Qe,xe);se=null!=Ze?g.filter.updatePriority(Qe,Ze):W.getNode()}else{const Qe=oo(d);let Ze;if(W.isCompleteForChild(Ue)){xe=i.serverCache.getNode();const gt=zg(_,d,W.getNode(),xe);Ze=null!=gt?W.getNode().getImmediateChild(Ue).updateChild(Qe,gt):W.getNode().getImmediateChild(Ue)}else Ze=Um(_,Ue,i.serverCache);se=null!=Ze?g.filter.updateChild(W.getNode(),Ue,Ze,Qe,w,N):W.getNode()}}return Lh(i,se,W.isFullyInitialized()||Ss(d),g.filter.filtersNodes())}}function cp(g,i,d,_,w,N,W,se){const xe=i.serverCache;let Ue;const Qe=W?g.filter:g.filter.getIndexedFilter();if(Ss(d))Ue=Qe.updateFullNode(xe.getNode(),_,null);else if(Qe.filtersNodes()&&!xe.isFiltered()){const Kt=xe.getNode().updateChild(d,_);Ue=Qe.updateFullNode(xe.getNode(),Kt,null)}else{const Kt=vs(d);if(!xe.isCompleteForPath(d)&&Tc(d)>1)return i;const zt=oo(d),pn=xe.getNode().getImmediateChild(Kt).updateChild(zt,_);Ue=".priority"===Kt?Qe.updatePriority(xe.getNode(),pn):Qe.updateChild(xe.getNode(),Kt,pn,zt,Y_,null)}const Ze=G_(i,Ue,xe.isFullyInitialized()||Ss(d),Qe.filtersNodes());return X0(g,Ze,d,w,new jm(w,Ze,N),se)}function Wg(g,i,d,_,w,N,W){const se=i.eventCache;let xe,Ue;const Qe=new jm(w,i,N);if(Ss(d))Ue=g.filter.updateFullNode(i.eventCache.getNode(),_,W),xe=Lh(i,Ue,!0,g.filter.filtersNodes());else{const Ze=vs(d);if(".priority"===Ze)Ue=g.filter.updatePriority(i.eventCache.getNode(),_),xe=Lh(i,Ue,se.isFullyInitialized(),se.isFiltered());else{const gt=oo(d),Kt=se.getNode().getImmediateChild(Ze);let zt;if(Ss(gt))zt=_;else{const cn=Qe.getCompleteChild(Ze);zt=null!=cn?".priority"===cc(gt)&&cn.getChild(Ko(gt)).isEmpty()?cn:cn.updateChild(gt,_):jr.EMPTY_NODE}xe=Kt.equals(zt)?i:Lh(i,g.filter.updateChild(se.getNode(),Ze,zt,gt,Qe,W),se.isFullyInitialized(),g.filter.filtersNodes())}}return xe}function Kg(g,i){return g.eventCache.isCompleteForChild(i)}function Bh(g,i,d){return d.foreach((_,w)=>{i=i.updateChild(_,w)}),i}function Zp(g,i,d,_,w,N,W,se){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let Ue,xe=i;Ue=Ss(d)?_:new Ho(null).setTree(d,_);const Qe=i.serverCache.getNode();return Ue.children.inorderTraversal((Ze,gt)=>{if(Qe.hasChild(Ze)){const zt=Bh(0,i.serverCache.getNode().getImmediateChild(Ze),gt);xe=cp(g,xe,new Ao(Ze),zt,w,N,W,se)}}),Ue.children.inorderTraversal((Ze,gt)=>{const Kt=!i.serverCache.isCompleteForChild(Ze)&&null===gt.value;if(!Qe.hasChild(Ze)&&!Kt){const cn=Bh(0,i.serverCache.getNode().getImmediateChild(Ze),gt);xe=cp(g,xe,new Ao(Ze),cn,w,N,W,se)}}),xe}class Fl{constructor(i,d){this.query_=i,this.eventRegistrations_=[];const _=this.query_._queryParams,w=new Gd(_.getIndex()),N=function il(g){return g.loadsAllData()?new Gd(g.getIndex()):g.hasLimit()?new Rh(g):new Eu(g)}(_);this.processor_=function Gg(g){return{filter:g}}(N);const W=d.serverCache,se=d.eventCache,xe=w.updateFullNode(jr.EMPTY_NODE,W.getNode(),null),Ue=N.updateFullNode(jr.EMPTY_NODE,se.getNode(),null),Qe=new Jl(xe,W.isFullyInitialized(),w.filtersNodes()),Ze=new Jl(Ue,se.isFullyInitialized(),N.filtersNodes());this.viewCache_=wf(Ze,Qe),this.eventGenerator_=new tp(this.query_)}get query(){return this.query_}}function Jp(g,i){const d=ya(g.viewCache_);return d&&(g.query._queryParams.loadsAllData()||!Ss(i)&&!d.getImmediateChild(vs(i)).isEmpty())?d.getChild(i):null}function Bl(g){return 0===g.eventRegistrations_.length}function Hm(g,i,d){const _=[];if(d){(0,nn.vA)(null==i,"A cancel should cancel all event registrations.");const w=g.query._path;g.eventRegistrations_.forEach(N=>{const W=N.createCancelEvent(d,w);W&&_.push(W)})}if(i){let w=[];for(let N=0;N<g.eventRegistrations_.length;++N){const W=g.eventRegistrations_[N];if(W.matches(i)){if(i.hasAnyCallback()){w=w.concat(g.eventRegistrations_.slice(N+1));break}}else w.push(W)}g.eventRegistrations_=w}else g.eventRegistrations_=[];return _}function em(g,i,d,_){i.type===Ns.MERGE&&null!==i.source.queryId&&((0,nn.vA)(ya(g.viewCache_),"We should always have a full cache before handling merges"),(0,nn.vA)(Yp(g.viewCache_),"Missing event cache, even though we have a server cache"));const w=g.viewCache_,N=function Y0(g,i,d,_,w){const N=new Fh;let W,se;if(d.type===Ns.OVERWRITE){const Ue=d;Ue.source.fromUser?W=Wg(g,i,Ue.path,Ue.snap,_,w,N):((0,nn.vA)(Ue.source.fromServer,"Unknown source."),se=Ue.source.tagged||i.serverCache.isFiltered()&&!Ss(Ue.path),W=cp(g,i,Ue.path,Ue.snap,_,w,se,N))}else if(d.type===Ns.MERGE){const Ue=d;Ue.source.fromUser?W=function rl(g,i,d,_,w,N,W){let se=i;return _.foreach((xe,Ue)=>{const Qe=Vs(d,xe);Kg(i,vs(Qe))&&(se=Wg(g,se,Qe,Ue,w,N,W))}),_.foreach((xe,Ue)=>{const Qe=Vs(d,xe);Kg(i,vs(Qe))||(se=Wg(g,se,Qe,Ue,w,N,W))}),se}(g,i,Ue.path,Ue.children,_,w,N):((0,nn.vA)(Ue.source.fromServer,"Unknown source."),se=Ue.source.tagged||i.serverCache.isFiltered(),W=Zp(g,i,Ue.path,Ue.children,_,w,se,N))}else if(d.type===Ns.ACK_USER_WRITE){const Ue=d;W=Ue.revert?function zm(g,i,d,_,w,N){let W;if(null!=Vm(_,d))return i;{const se=new jm(_,i,w),xe=i.eventCache.getNode();let Ue;if(Ss(d)||".priority"===vs(d)){let Qe;if(i.serverCache.isFullyInitialized())Qe=Su(_,ya(i));else{const Ze=i.serverCache.getNode();(0,nn.vA)(Ze instanceof jr,"serverChildren would be complete if leaf node"),Qe=lp(_,Ze)}Ue=g.filter.updateFullNode(xe,Qe,N)}else{const Qe=vs(d);let Ze=Um(_,Qe,i.serverCache);null==Ze&&i.serverCache.isCompleteForChild(Qe)&&(Ze=xe.getImmediateChild(Qe)),Ue=null!=Ze?g.filter.updateChild(xe,Qe,Ze,oo(d),se,N):i.eventCache.getNode().hasChild(Qe)?g.filter.updateChild(xe,Qe,jr.EMPTY_NODE,oo(d),se,N):xe,Ue.isEmpty()&&i.serverCache.isFullyInitialized()&&(W=Su(_,ya(i)),W.isLeafNode()&&(Ue=g.filter.updateFullNode(Ue,W,N)))}return W=i.serverCache.isFullyInitialized()||null!=Vm(_,Ts()),Lh(i,Ue,W,g.filter.filtersNodes())}}(g,i,Ue.path,_,w,N):function dp(g,i,d,_,w,N,W){if(null!=Vm(w,d))return i;const se=i.serverCache.isFiltered(),xe=i.serverCache;if(null!=_.value){if(Ss(d)&&xe.isFullyInitialized()||xe.isCompleteForPath(d))return cp(g,i,d,xe.getNode().getChild(d),w,N,se,W);if(Ss(d)){let Ue=new Ho(null);return xe.getNode().forEachChild(Ll,(Qe,Ze)=>{Ue=Ue.set(new Ao(Qe),Ze)}),Zp(g,i,d,Ue,w,N,se,W)}return i}{let Ue=new Ho(null);return _.foreach((Qe,Ze)=>{const gt=Vs(d,Qe);xe.isCompleteForPath(gt)&&(Ue=Ue.set(Qe,xe.getNode().getChild(gt)))}),Zp(g,i,d,Ue,w,N,se,W)}}(g,i,Ue.path,Ue.affectedTree,_,w,N)}else{if(d.type!==Ns.LISTEN_COMPLETE)throw(0,nn.Hk)("Unknown operation type: "+d.type);W=function qv(g,i,d,_,w){const N=i.serverCache;return X0(g,G_(i,N.getNode(),N.isFullyInitialized()||Ss(d),N.isFiltered()),d,_,Y_,w)}(g,i,d.path,_,N)}const xe=N.getChanges();return function Qv(g,i,d){const _=i.eventCache;if(_.isFullyInitialized()){const w=_.getNode().isLeafNode()||_.getNode().isEmpty(),N=Yp(g);(d.length>0||!g.eventCache.isFullyInitialized()||w&&!_.getNode().equals(N)||!_.getNode().getPriority().equals(N.getPriority()))&&d.push(Fg(Yp(i)))}}(i,W,xe),{viewCache:W,changes:xe}}(g.processor_,w,i,d,_);return function K0(g,i){(0,nn.vA)(i.eventCache.getNode().isIndexed(g.filter.getIndex()),"Event snap not indexed"),(0,nn.vA)(i.serverCache.getNode().isIndexed(g.filter.getIndex()),"Server snap not indexed")}(g.processor_,N.viewCache),(0,nn.vA)(N.viewCache.serverCache.isFullyInitialized()||!w.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),g.viewCache_=N.viewCache,Du(g,N.changes,N.viewCache.eventCache.getNode(),null)}function Du(g,i,d,_){return function Nm(g,i,d,_){const w=[],N=[];return i.forEach(W=>{"child_changed"===W.type&&g.index_.indexedValueChanged(W.oldSnap,W.snapshotNode)&&N.push(function es(g,i){return{type:"child_moved",snapshotNode:i,childName:g}}(W.childName,W.snapshotNode))}),th(g,w,"child_removed",i,_,d),th(g,w,"child_added",i,_,d),th(g,w,"child_moved",N,_,d),th(g,w,"child_changed",i,_,d),th(g,w,"value",i,_,d),w}(g.eventGenerator_,i,d,_?[_]:g.eventRegistrations_)}let Uh,Z0;class Qg{constructor(){this.views=new Map}}function jh(g,i,d,_){const w=i.source.queryId;if(null!==w){const N=g.views.get(w);return(0,nn.vA)(null!=N,"SyncTree gave us an op for an invalid query."),em(N,i,d,_)}{let N=[];for(const W of g.views.values())N=N.concat(em(W,i,d,_));return N}}function Cf(g,i,d,_,w){const W=g.views.get(i._queryIdentifier);if(!W){let se=Su(d,w?_:null),xe=!1;se?xe=!0:_ instanceof jr?(se=lp(d,_),xe=!1):(se=jr.EMPTY_NODE,xe=!1);const Ue=wf(new Jl(se,xe,!1),new Jl(_,w,!1));return new Fl(i,Ue)}return W}function $m(g){const i=[];for(const d of g.views.values())d.query._queryParams.loadsAllData()||i.push(d);return i}function zh(g,i){let d=null;for(const _ of g.views.values())d=d||Jp(_,i);return d}function q0(g,i){return i._queryParams.loadsAllData()?Iu(g):g.views.get(i._queryIdentifier)}function X_(g,i){return null!=q0(g,i)}function Ic(g){return null!=Iu(g)}function Iu(g){for(const i of g.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let e_=1;class fp{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Ho(null),this.pendingWriteTree_=function qp(){return{visibleWrites:Tu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ec(g,i,d,_,w){return function ih(g,i,d,_,w){(0,nn.vA)(_>g.lastWriteId,"Stacking an older write on top of newer ones"),void 0===w&&(w=!0),g.allWrites.push({path:i,snap:d,writeId:_,visible:w}),w&&(g.visibleWrites=Bg(g.visibleWrites,i,d)),g.lastWriteId=_}(g.pendingWriteTree_,i,d,_,w),w?Mc(g,new Cu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,d)):[]}function Tf(g,i,d=!1){const _=function sp(g,i){for(let d=0;d<g.allWrites.length;d++){const _=g.allWrites[d];if(_.writeId===i)return _}return null}(g.pendingWriteTree_,i);if(function op(g,i){const d=g.allWrites.findIndex(se=>se.writeId===i);(0,nn.vA)(d>=0,"removeWrite called with nonexistent writeId.");const _=g.allWrites[d];g.allWrites.splice(d,1);let w=_.visible,N=!1,W=g.allWrites.length-1;for(;w&&W>=0;){const se=g.allWrites[W];se.visible&&(W>=d&&ap(se,_.path)?w=!1:ba(_.path,se.path)&&(N=!0)),W--}return!!w&&(N?(function Yv(g){g.visibleWrites=G0(g.allWrites,K_,Ts()),g.lastWriteId=g.allWrites.length>0?g.allWrites[g.allWrites.length-1].writeId:-1}(g),!0):(_.snap?g.visibleWrites=qd(g.visibleWrites,_.path):Ls(_.children,xe=>{g.visibleWrites=qd(g.visibleWrites,Vs(_.path,xe))}),!0))}(g.pendingWriteTree_,i)){let N=new Ho(null);return null!=_.snap?N=N.set(Ts(),!0):Ls(_.children,W=>{N=N.set(new Ao(W),!0)}),Mc(g,new wu(_.path,N,d))}return[]}function qg(g,i,d){return Mc(g,new Cu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,d))}function Gm(g,i,d,_,w=!1){const N=i._path,W=g.syncPointTree_.get(N);let se=[];if(W&&("default"===i._queryIdentifier||X_(W,i))){const xe=function Hb(g,i,d,_){const w=i._queryIdentifier,N=[];let W=[];const se=Ic(g);if("default"===w)for(const[xe,Ue]of g.views.entries())W=W.concat(Hm(Ue,d,_)),Bl(Ue)&&(g.views.delete(xe),Ue.query._queryParams.loadsAllData()||N.push(Ue.query));else{const xe=g.views.get(w);xe&&(W=W.concat(Hm(xe,d,_)),Bl(xe)&&(g.views.delete(w),xe.query._queryParams.loadsAllData()||N.push(xe.query)))}return se&&!Ic(g)&&N.push(new(function Q0(){return(0,nn.vA)(Uh,"Reference.ts has not been loaded"),Uh}())(i._repo,i._path)),{removed:N,events:W}}(W,i,d,_);(function hp(g){return 0===g.views.size})(W)&&(g.syncPointTree_=g.syncPointTree_.remove(N));const Ue=xe.removed;if(se=xe.events,!w){const Qe=-1!==Ue.findIndex(gt=>gt._queryParams.loadsAllData()),Ze=g.syncPointTree_.findOnPath(N,(gt,Kt)=>Ic(Kt));if(Qe&&!Ze){const gt=g.syncPointTree_.subtree(N);if(!gt.isEmpty()){const Kt=function _p(g){return g.fold((i,d,_)=>{if(d&&Ic(d))return[Iu(d)];{let w=[];return d&&(w=$m(d)),Ls(_,(N,W)=>{w=w.concat(W)}),w}})}(gt);for(let zt=0;zt<Kt.length;++zt){const cn=Kt[zt],pn=cn.query,Xt=mp(g,cn);g.listenProvider_.startListening(Hh(pn),Wm(g,pn),Xt.hashFn,Xt.onComplete)}}}!Ze&&Ue.length>0&&!_&&(Qe?g.listenProvider_.stopListening(Hh(i),null):Ue.forEach(gt=>{const Kt=g.queryToTagMap.get(gp(gt));g.listenProvider_.stopListening(Hh(gt),Kt)}))}!function Z_(g,i){for(let d=0;d<i.length;++d){const _=i[d];if(!_._queryParams.loadsAllData()){const w=gp(_),N=g.queryToTagMap.get(w);g.queryToTagMap.delete(w),g.tagToQueryMap.delete(N)}}}(g,Ue)}return se}function Sl(g,i,d,_){const w=Km(g,_);if(null!=w){const N=Ym(w),W=N.path,se=N.queryId,xe=yo(W,i);return Df(g,W,new Cu(xf(se),xe,d))}return[]}function q_(g,i,d,_=!1){const w=i._path;let N=null,W=!1;g.syncPointTree_.foreachOnPath(w,(gt,Kt)=>{const zt=yo(gt,w);N=N||zh(Kt,zt),W=W||Ic(Kt)});let xe,se=g.syncPointTree_.get(w);se?(W=W||Ic(se),N=N||zh(se,Ts())):(se=new Qg,g.syncPointTree_=g.syncPointTree_.set(w,se)),null!=N?xe=!0:(xe=!1,N=jr.EMPTY_NODE,g.syncPointTree_.subtree(w).foreachChild((Kt,zt)=>{const cn=zh(zt,Ts());cn&&(N=N.updateImmediateChild(Kt,cn))}));const Ue=X_(se,i);if(!Ue&&!i._queryParams.loadsAllData()){const gt=gp(i);(0,nn.vA)(!g.queryToTagMap.has(gt),"View does not exist, but we have a tag");const Kt=function Wb(){return e_++}();g.queryToTagMap.set(gt,Kt),g.tagToQueryMap.set(Kt,gt)}let Ze=function Jv(g,i,d,_,w,N){const W=Cf(g,i,_,w,N);return g.views.has(i._queryIdentifier)||g.views.set(i._queryIdentifier,W),function Zv(g,i){g.eventRegistrations_.push(i)}(W,d),function Xg(g,i){const d=g.viewCache_.eventCache,_=[];return d.getNode().isLeafNode()||d.getNode().forEachChild(ao,(N,W)=>{_.push(Kp(N,W))}),d.isFullyInitialized()&&_.push(Fg(d.getNode())),Du(g,_,d.getNode(),i)}(W,d)}(se,i,d,Xp(g.pendingWriteTree_,w),N,xe);if(!Ue&&!W&&!_){const gt=q0(se,i);Ze=Ze.concat(function J_(g,i,d){const _=i._path,w=Wm(g,i),N=mp(g,d),W=g.listenProvider_.startListening(Hh(i),w,N.hashFn,N.onComplete),se=g.syncPointTree_.subtree(_);if(w)(0,nn.vA)(!Ic(se.value),"If we're adding a query, it shouldn't be shadowed");else{const xe=se.fold((Ue,Qe,Ze)=>{if(!Ss(Ue)&&Qe&&Ic(Qe))return[Iu(Qe).query];{let gt=[];return Qe&&(gt=gt.concat($m(Qe).map(Kt=>Kt.query))),Ls(Ze,(Kt,zt)=>{gt=gt.concat(zt)}),gt}});for(let Ue=0;Ue<xe.length;++Ue){const Qe=xe[Ue];g.listenProvider_.stopListening(Hh(Qe),Wm(g,Qe))}}return W}(g,i,gt))}return Ze}function t_(g,i,d){const w=g.pendingWriteTree_,N=g.syncPointTree_.findOnPath(i,(W,se)=>{const Ue=zh(se,yo(W,i));if(Ue)return Ue});return Qp(w,i,N,d,!0)}function Mc(g,i){return Mu(i,g.syncPointTree_,null,Xp(g.pendingWriteTree_,Ts()))}function Mu(g,i,d,_){if(Ss(g.path))return Sf(g,i,d,_);{const w=i.get(Ts());null==d&&null!=w&&(d=zh(w,Ts()));let N=[];const W=vs(g.path),se=g.operationForChild(W),xe=i.children.get(W);if(xe&&se){const Ue=d?d.getImmediateChild(W):null,Qe=rh(_,W);N=N.concat(Mu(se,xe,Ue,Qe))}return w&&(N=N.concat(jh(w,g,_,d))),N}}function Sf(g,i,d,_){const w=i.get(Ts());null==d&&null!=w&&(d=zh(w,Ts()));let N=[];return i.children.inorderTraversal((W,se)=>{const xe=d?d.getImmediateChild(W):null,Ue=rh(_,W),Qe=g.operationForChild(W);Qe&&(N=N.concat(Sf(Qe,se,xe,Ue)))}),w&&(N=N.concat(jh(w,g,_,d))),N}function mp(g,i){const d=i.query,_=Wm(g,d);return{hashFn:()=>(function Vh(g){return g.viewCache_.serverCache.getNode()}(i)||jr.EMPTY_NODE).hash(),onComplete:w=>{if("ok"===w)return _?function Gb(g,i,d){const _=Km(g,d);if(_){const w=Ym(_),N=w.path,W=w.queryId,se=yo(N,i);return Df(g,N,new Nl(xf(W),se))}return[]}(g,d._path,_):function $b(g,i){return Mc(g,new Nl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(g,d._path);{const N=function wr(g,i){let d="Unknown Error";"too_big"===g?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===g?d="Client doesn't have permission to access the desired data.":"unavailable"===g&&(d="The service is unavailable");const _=new Error(g+" at "+i._path.toString()+": "+d);return _.code=g.toUpperCase(),_}(w,d);return Gm(g,d,null,N)}}}}function Wm(g,i){const d=gp(i);return g.queryToTagMap.get(d)}function gp(g){return g._path.toString()+"$"+g._queryIdentifier}function Km(g,i){return g.tagToQueryMap.get(i)}function Ym(g){const i=g.indexOf("$");return(0,nn.vA)(-1!==i&&i<g.length-1,"Bad queryKey."),{queryId:g.substr(i+1),path:new Ao(g.substr(0,i))}}function Df(g,i,d){const _=g.syncPointTree_.get(i);return(0,nn.vA)(_,"Missing sync point for query tag that we're tracking"),jh(_,d,Xp(g.pendingWriteTree_,i),null)}function Hh(g){return g._queryParams.loadsAllData()&&!g._queryParams.isDefault()?new(function J0(){return(0,nn.vA)(Z0,"Reference.ts has not been loaded"),Z0}())(g._repo,g._path):g}class Xm{constructor(i){this.node_=i}getImmediateChild(i){const d=this.node_.getImmediateChild(i);return new Xm(d)}node(){return this.node_}}class _d{constructor(i,d){this.syncTree_=i,this.path_=d}getImmediateChild(i){const d=Vs(this.path_,i);return new _d(this.syncTree_,d)}node(){return t_(this.syncTree_,this.path_)}}const Zg=function(g){return(g=g||{}).timestamp=g.timestamp||(new Date).getTime(),g},vd=function(g,i,d){return g&&"object"==typeof g?((0,nn.vA)(".sv"in g,"Unexpected leaf node or priority contents"),"string"==typeof g[".sv"]?ua(g[".sv"],i,d):"object"==typeof g[".sv"]?tc(g[".sv"],i):void(0,nn.vA)(!1,"Unexpected server value: "+JSON.stringify(g,null,2))):g},ua=function(g,i,d){if("timestamp"===g)return d.timestamp;(0,nn.vA)(!1,"Unexpected server value: "+g)},tc=function(g,i,d){g.hasOwnProperty("increment")||(0,nn.vA)(!1,"Unexpected server value: "+JSON.stringify(g,null,2));const _=g.increment;"number"!=typeof _&&(0,nn.vA)(!1,"Unexpected increment value: "+_);const w=i.node();if((0,nn.vA)(null!==w&&typeof w<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!w.isLeafNode())return _;const W=w.getValue();return"number"!=typeof W?_:W+_},$h=function(g,i,d,_){return n_(i,new _d(d,g),_)},Jd=function(g,i,d){return n_(g,new Xm(i),d)};function n_(g,i,d){const _=g.getPriority().val(),w=vd(_,i.getImmediateChild(".priority"),d);let N;if(g.isLeafNode()){const W=g,se=vd(W.getValue(),i,d);return se!==W.getValue()||w!==W.getPriority().val()?new Zu(se,Ro(w)):g}{const W=g;return N=W,w!==W.getPriority().val()&&(N=N.updatePriority(new Zu(w))),W.forEachChild(ao,(se,xe)=>{const Ue=n_(xe,i.getImmediateChild(se),d);Ue!==xe&&(N=N.updateImmediateChild(se,Ue))}),N}}class bd{constructor(i="",d=null,_={children:{},childCount:0}){this.name=i,this.parent=d,this.node=_}}function Jc(g,i){let d=i instanceof Ao?i:new Ao(i),_=g,w=vs(d);for(;null!==w;){const N=(0,nn.yw)(_.node.children,w)||{children:{},childCount:0};_=new bd(w,_,N),d=oo(d),w=vs(d)}return _}function Gh(g){return g.node.value}function vp(g,i){g.node.value=i,tm(g)}function i_(g){return g.node.childCount>0}function Au(g,i){Ls(g.node.children,(d,_)=>{i(new bd(d,g,_))})}function nb(g,i,d,_){d&&!_&&i(g),Au(g,w=>{nb(w,i,!0,_)}),d&&_&&i(g)}function yp(g){return new Ao(null===g.parent?g.name:yp(g.parent)+"/"+g.name)}function tm(g){null!==g.parent&&function r_(g,i,d){const _=function bp(g){return void 0===Gh(g)&&!i_(g)}(d),w=(0,nn.gR)(g.node.children,i);_&&w?(delete g.node.children[i],g.node.childCount--,tm(g)):!_&&!w&&(g.node.children[i]=d.node,g.node.childCount++,tm(g))}(g.parent,g.name,g)}const ev=/[\[\].#$\/\u0000-\u001F\u007F]/,s_=/[\[\].#$\u0000-\u001F\u007F]/,Ep=10485760,nm=function(g){return"string"==typeof g&&0!==g.length&&!ev.test(g)},o_=function(g){return"string"==typeof g&&0!==g.length&&!s_.test(g)},wp=function(g){return null===g||"string"==typeof g||"number"==typeof g&&!Pd(g)||g&&"object"==typeof g&&(0,nn.gR)(g,".sv")},Ac=function(g,i,d,_){_&&void 0===i||im((0,nn.dI)(g,"value"),i,d)},im=function(g,i,d){const _=d instanceof Ao?new $p(d,g):d;if(void 0===i)throw new Error(g+"contains undefined "+jd(_));if("function"==typeof i)throw new Error(g+"contains a function "+jd(_)+" with contents = "+i.toString());if(Pd(i))throw new Error(g+"contains "+i.toString()+" "+jd(_));if("string"==typeof i&&i.length>Ep/3&&(0,nn.OE)(i)>Ep)throw new Error(g+"contains a string greater than "+Ep+" utf8 bytes "+jd(_)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let w=!1,N=!1;if(Ls(i,(W,se)=>{if(".value"===W)w=!0;else if(".priority"!==W&&".sv"!==W&&(N=!0,!nm(W)))throw new Error(g+" contains an invalid key ("+W+") "+jd(_)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function bu(g,i){g.parts_.length>0&&(g.byteLength_+=1),g.parts_.push(i),g.byteLength_+=(0,nn.OE)(i),Ud(g)})(_,W),im(g,se,_),function Rm(g){const i=g.parts_.pop();g.byteLength_-=(0,nn.OE)(i),g.parts_.length>0&&(g.byteLength_-=1)}(_)}),w&&N)throw new Error(g+' contains ".value" child '+jd(_)+" in addition to actual children.")}},tv=function(g,i,d,_){if(_&&void 0===i)return;const w=(0,nn.dI)(g,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(w+" must be an object containing the children to replace.");const N=[];Ls(i,(W,se)=>{const xe=new Ao(W);if(im(w,se,Vs(d,xe)),".priority"===cc(xe)&&!wp(se))throw new Error(w+"contains an invalid value for '"+xe.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");N.push(xe)}),function(g,i){let d,_;for(d=0;d<i.length;d++){_=i[d];const N=ho(_);for(let W=0;W<N.length;W++)if((".priority"!==N[W]||W!==N.length-1)&&!nm(N[W]))throw new Error(g+"contains an invalid key ("+N[W]+") in path "+_.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(Ta);let w=null;for(d=0;d<i.length;d++){if(_=i[d],null!==w&&ba(w,_))throw new Error(g+"contains a path "+w.toString()+" that is ancestor of another path "+_.toString());w=_}}(w,N)},rm=function(g,i,d){if(!d||void 0!==i){if(Pd(i))throw new Error((0,nn.dI)(g,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wp(i))throw new Error((0,nn.dI)(g,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},If=function(g,i,d,_){if(!(_&&void 0===d||nm(d)))throw new Error((0,nn.dI)(g,i)+'was an invalid key = "'+d+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Cp=function(g,i,d,_){if(!(_&&void 0===d||o_(d)))throw new Error((0,nn.dI)(g,i)+'was an invalid path = "'+d+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Kb=function(g,i,d,_){d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),Cp(g,i,d,_)},sa=function(g,i){if(".info"===vs(i))throw new Error(g+" failed = Can't modify data under /.info/")},Jg=function(g,i){const d=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!nm(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==d.length&&!function(g){return g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),o_(g)}(d))throw new Error((0,nn.dI)(g,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Yb{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Tp(g,i){let d=null;for(let _=0;_<i.length;_++){const w=i[_],N=w.getPath();null!==d&&!ka(N,d.path)&&(g.eventLists_.push(d),d=null),null===d&&(d={events:[],path:N}),d.events.push(w)}d&&g.eventLists_.push(d)}function Wh(g,i,d){Tp(g,d),qm(g,_=>ka(_,i))}function ed(g,i,d){Tp(g,d),qm(g,_=>ba(_,i)||ba(i,_))}function qm(g,i){g.recursionDepth_++;let d=!0;for(let _=0;_<g.eventLists_.length;_++){const w=g.eventLists_[_];w&&(i(w.path)?(eu(g.eventLists_[_]),g.eventLists_[_]=null):d=!1)}d&&(g.eventLists_=[]),g.recursionDepth_--}function eu(g){for(let i=0;i<g.events.length;i++){const d=g.events[i];if(null!==d){g.events[i]=null;const _=d.getEventRunner();yr&&Vo("event: "+d.toString()),Kc(_)}}}const rb="repo_interrupt",sb=25;class Xb{constructor(i,d,_,w){this.repoInfo_=i,this.forceRestClient_=d,this.authTokenProvider_=_,this.appCheckProvider_=w,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Z(),this.transactionQueueTree_=new bd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Kh(g){const d=g.infoData_.getNode(new Ao(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+d}function Sp(g){return Zg({timestamp:Kh(g)})}function sm(g,i,d,_,w){g.dataUpdateCount++;const N=new Ao(i);d=g.interceptServerDataCallback_?g.interceptServerDataCallback_(i,d):d;let W=[];if(w)if(_){const xe=(0,nn.kH)(d,Ue=>Ro(Ue));W=function tb(g,i,d,_){const w=Km(g,_);if(w){const N=Ym(w),W=N.path,se=N.queryId,xe=yo(W,i),Ue=Ho.fromObject(d);return Df(g,W,new qc(xf(se),xe,Ue))}return[]}(g.serverSyncTree_,N,xe,w)}else{const xe=Ro(d);W=Sl(g.serverSyncTree_,N,xe,w)}else if(_){const xe=(0,nn.kH)(d,Ue=>Ro(Ue));W=function Q_(g,i,d){const _=Ho.fromObject(d);return Mc(g,new qc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,_))}(g.serverSyncTree_,N,xe)}else{const xe=Ro(d);W=qg(g.serverSyncTree_,N,xe)}let se=N;W.length>0&&(se=kc(g,N)),ed(g.eventQueue_,se,W)}function e0(g,i){am(g,"connected",i),!1===i&&function t0(g){Qh(g,"onDisconnectEvents");const i=Sp(g),d=Z();xn(g.onDisconnect_,Ts(),(w,N)=>{const W=$h(w,N,g.serverSyncTree_,i);$e(d,w,W)});let _=[];xn(d,Ts(),(w,N)=>{_=_.concat(qg(g.serverSyncTree_,w,N));const W=c_(g,w);kc(g,W)}),g.onDisconnect_=Z(),ed(g.eventQueue_,Ts(),_)}(g)}function am(g,i,d){const _=new Ao("/.info/"+i),w=Ro(d);g.infoData_.updateSnapshot(_,w);const N=qg(g.infoSyncTree_,_,w);ed(g.eventQueue_,_,N)}function Dp(g){return g.nextWriteId_++}function uc(g,i,d,_,w){Qh(g,"set",{path:i.toString(),value:d,priority:_});const N=Sp(g),W=Ro(d,_),se=t_(g.serverSyncTree_,i),xe=Jd(W,se,N),Ue=Dp(g),Qe=ec(g.serverSyncTree_,i,xe,Ue,!0);Tp(g.eventQueue_,Qe),g.server_.put(i.toString(),W.val(!0),(gt,Kt)=>{const zt="ok"===gt;zt||na("set at "+i+" failed: "+gt);const cn=Tf(g.serverSyncTree_,Ue,!zt);ed(g.eventQueue_,i,cn),ku(0,w,gt,Kt)});const Ze=c_(g,i);kc(g,Ze),ed(g.eventQueue_,Ze,[])}function nv(g,i,d){g.server_.onDisconnectCancel(i.toString(),(_,w)=>{"ok"===_&&Ct(g.onDisconnect_,i),ku(0,d,_,w)})}function Xh(g,i,d,_){const w=Ro(d);g.server_.onDisconnectPut(i.toString(),w.val(!0),(N,W)=>{"ok"===N&&$e(g.onDisconnect_,i,w),ku(0,_,N,W)})}function a_(g,i,d){let _;_=".info"===vs(i._path)?Gm(g.infoSyncTree_,i,d):Gm(g.serverSyncTree_,i,d),Wh(g.eventQueue_,i._path,_)}function n0(g){g.persistentConnection_&&g.persistentConnection_.interrupt(rb)}function Qh(g,...i){let d="";g.persistentConnection_&&(d=g.persistentConnection_.id+":"),Vo(d,...i)}function ku(g,i,d,_){i&&Kc(()=>{if("ok"===d)i(null);else{const w=(d||"error").toUpperCase();let N=w;_&&(N+=": "+_);const W=new Error(N);W.code=w,i(W)}})}function ah(g,i,d){return t_(g.serverSyncTree_,i,d)||jr.EMPTY_NODE}function Ip(g,i=g.transactionQueueTree_){if(i||s0(g,i),Gh(i)){const d=Qb(g,i);(0,nn.vA)(d.length>0,"Sending zero length transaction queue"),d.every(w=>0===w.status)&&function l_(g,i,d){const _=d.map(Ue=>Ue.currentWriteId),w=ah(g,i,_);let N=w;const W=w.hash();for(let Ue=0;Ue<d.length;Ue++){const Qe=d[Ue];(0,nn.vA)(0===Qe.status,"tryToSendTransactionQueue_: items in queue should all be run."),Qe.status=1,Qe.retryCount++;const Ze=yo(i,Qe.path);N=N.updateChild(Ze,Qe.currentOutputSnapshotRaw)}const se=N.val(!0),xe=i;g.server_.put(xe.toString(),se,Ue=>{Qh(g,"transaction put response",{path:xe.toString(),status:Ue});let Qe=[];if("ok"===Ue){const Ze=[];for(let gt=0;gt<d.length;gt++)d[gt].status=2,Qe=Qe.concat(Tf(g.serverSyncTree_,d[gt].currentWriteId)),d[gt].onComplete&&Ze.push(()=>d[gt].onComplete(null,!0,d[gt].currentOutputSnapshotResolved)),d[gt].unwatcher();s0(g,Jc(g.transactionQueueTree_,i)),Ip(g,g.transactionQueueTree_),ed(g.eventQueue_,i,Qe);for(let gt=0;gt<Ze.length;gt++)Kc(Ze[gt])}else{if("datastale"===Ue)for(let Ze=0;Ze<d.length;Ze++)d[Ze].status=3===d[Ze].status?4:0;else{na("transaction at "+xe.toString()+" failed: "+Ue);for(let Ze=0;Ze<d.length;Ze++)d[Ze].status=4,d[Ze].abortReason=Ue}kc(g,i)}},W)}(g,yp(i),d)}else i_(i)&&Au(i,d=>{Ip(g,d)})}function kc(g,i){const d=sv(g,i),_=yp(d);return function lm(g,i,d){if(0===i.length)return;const _=[];let w=[];const W=i.filter(se=>0===se.status).map(se=>se.currentWriteId);for(let se=0;se<i.length;se++){const xe=i[se],Ue=yo(d,xe.path);let Ze,Qe=!1;if((0,nn.vA)(null!==Ue,"rerunTransactionsUnderNode_: relativePath should not be null."),4===xe.status)Qe=!0,Ze=xe.abortReason,w=w.concat(Tf(g.serverSyncTree_,xe.currentWriteId,!0));else if(0===xe.status)if(xe.retryCount>=sb)Qe=!0,Ze="maxretry",w=w.concat(Tf(g.serverSyncTree_,xe.currentWriteId,!0));else{const gt=ah(g,xe.path,W);xe.currentInputSnapshot=gt;const Kt=i[se].update(gt.val());if(void 0!==Kt){im("transaction failed: Data returned ",Kt,xe.path);let zt=Ro(Kt);"object"==typeof Kt&&null!=Kt&&(0,nn.gR)(Kt,".priority")||(zt=zt.updatePriority(gt.getPriority()));const pn=xe.currentWriteId,Xt=Sp(g),wn=Jd(zt,gt,Xt);xe.currentOutputSnapshotRaw=zt,xe.currentOutputSnapshotResolved=wn,xe.currentWriteId=Dp(g),W.splice(W.indexOf(pn),1),w=w.concat(ec(g.serverSyncTree_,xe.path,wn,xe.currentWriteId,xe.applyLocally)),w=w.concat(Tf(g.serverSyncTree_,pn,!0))}else Qe=!0,Ze="nodata",w=w.concat(Tf(g.serverSyncTree_,xe.currentWriteId,!0))}ed(g.eventQueue_,d,w),w=[],Qe&&(i[se].status=2,setTimeout(i[se].unwatcher,Math.floor(0)),i[se].onComplete&&_.push("nodata"===Ze?()=>i[se].onComplete(null,!1,i[se].currentInputSnapshot):()=>i[se].onComplete(new Error(Ze),!1,null)))}s0(g,g.transactionQueueTree_);for(let se=0;se<_.length;se++)Kc(_[se]);Ip(g,g.transactionQueueTree_)}(g,Qb(g,d),_),_}function sv(g,i){let d,_=g.transactionQueueTree_;for(d=vs(i);null!==d&&void 0===Gh(_);)_=Jc(_,d),d=vs(i=oo(i));return _}function Qb(g,i){const d=[];return ov(g,i,d),d.sort((_,w)=>_.order-w.order),d}function ov(g,i,d){const _=Gh(i);if(_)for(let w=0;w<_.length;w++)d.push(_[w]);Au(i,w=>{ov(g,w,d)})}function s0(g,i){const d=Gh(i);if(d){let _=0;for(let w=0;w<d.length;w++)2!==d[w].status&&(d[_]=d[w],_++);d.length=_,vp(i,d.length>0?d:void 0)}Au(i,_=>{s0(g,_)})}function c_(g,i){const d=yp(sv(g,i)),_=Jc(g.transactionQueueTree_,i);return function Qm(g,i,d){let _=d?g:g.parent;for(;null!==_;){if(i(_))return!0;_=_.parent}}(_,w=>{o0(g,w)}),o0(g,_),nb(_,w=>{o0(g,w)}),d}function o0(g,i){const d=Gh(i);if(d){const _=[];let w=[],N=-1;for(let W=0;W<d.length;W++)3===d[W].status||(1===d[W].status?((0,nn.vA)(N===W-1,"All SENT items should be at beginning of queue."),N=W,d[W].status=3,d[W].abortReason="set"):((0,nn.vA)(0===d[W].status,"Unexpected transaction status in abort"),d[W].unwatcher(),w=w.concat(Tf(g.serverSyncTree_,d[W].currentWriteId,!0)),d[W].onComplete&&_.push(d[W].onComplete.bind(null,new Error("set"),!1,null))));-1===N?vp(i,void 0):d.length=N+1,ed(g.eventQueue_,yp(i),w);for(let W=0;W<_.length;W++)Kc(_[W])}}const Jm=function(g,i){const d=a0(g),_=d.namespace;return"firebase.com"===d.domain&&js(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!_||"undefined"===_)&&"localhost"!==d.domain&&js("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&na("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ol(d.host,d.secure,_,"ws"===d.scheme||"wss"===d.scheme,i,"",_!==d.subdomain),path:new Ao(d.pathString)}},a0=function(g){let i="",d="",_="",w="",N="",W=!0,se="https",xe=443;if("string"==typeof g){let Ue=g.indexOf("//");Ue>=0&&(se=g.substring(0,Ue-1),g=g.substring(Ue+2));let Qe=g.indexOf("/");-1===Qe&&(Qe=g.length);let Ze=g.indexOf("?");-1===Ze&&(Ze=g.length),i=g.substring(0,Math.min(Qe,Ze)),Qe<Ze&&(w=function ab(g){let i="";const d=g.split("/");for(let _=0;_<d.length;_++)if(d[_].length>0){let w=d[_];try{w=decodeURIComponent(w.replace(/\+/g," "))}catch{}i+="/"+w}return i}(g.substring(Qe,Ze)));const gt=function cm(g){const i={};"?"===g.charAt(0)&&(g=g.substring(1));for(const d of g.split("&")){if(0===d.length)continue;const _=d.split("=");2===_.length?i[decodeURIComponent(_[0])]=decodeURIComponent(_[1]):na(`Invalid query segment '${d}' in query '${g}'`)}return i}(g.substring(Math.min(g.length,Ze)));Ue=i.indexOf(":"),Ue>=0?(W="https"===se||"wss"===se,xe=parseInt(i.substring(Ue+1),10)):Ue=i.length;const Kt=i.slice(0,Ue);if("localhost"===Kt.toLowerCase())d="localhost";else if(Kt.split(".").length<=2)d=Kt;else{const zt=i.indexOf(".");_=i.substring(0,zt).toLowerCase(),d=i.substring(zt+1),N=_}"ns"in gt&&(N=gt.ns)}return{host:i,port:xe,domain:d,subdomain:_,secure:W,scheme:se,pathString:w,namespace:N}},lb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",av=function(){let g=0;const i=[];return function(d){const _=d===g;let w;g=d;const N=new Array(8);for(w=7;w>=0;w--)N[w]=lb.charAt(d%64),d=Math.floor(d/64);(0,nn.vA)(0===d,"Cannot push at time == 0");let W=N.join("");if(_){for(w=11;w>=0&&63===i[w];w--)i[w]=0;i[w]++}else for(w=0;w<12;w++)i[w]=Math.floor(64*Math.random());for(w=0;w<12;w++)W+=lb.charAt(i[w]);return(0,nn.vA)(20===W.length,"nextPushId: Length should be 20."),W}}();class eg{constructor(i,d,_,w){this.eventType=i,this.eventRegistration=d,this.snapshot=_,this.prevName=w}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,nn.As)(this.snapshot.exportVal())}}class dm{constructor(i,d,_){this.eventRegistration=i,this.error=d,this.path=_}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class lh{constructor(i,d){this.snapshotCallback=i,this.cancelCallback=d}onValue(i,d){this.snapshotCallback.call(null,i,d)}onCancel(i){return(0,nn.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class l0{constructor(i,d){this._repo=i,this._path=d}cancel(){const i=new nn.cY;return nv(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){sa("OnDisconnect.remove",this._path);const i=new nn.cY;return Xh(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){sa("OnDisconnect.set",this._path),Ac("OnDisconnect.set",i,this._path,!1);const d=new nn.cY;return Xh(this._repo,this._path,i,d.wrapCallback(()=>{})),d.promise}setWithPriority(i,d){sa("OnDisconnect.setWithPriority",this._path),Ac("OnDisconnect.setWithPriority",i,this._path,!1),rm("OnDisconnect.setWithPriority",d,!1);const _=new nn.cY;return function iv(g,i,d,_,w){const N=Ro(d,_);g.server_.onDisconnectPut(i.toString(),N.val(!0),(W,se)=>{"ok"===W&&$e(g.onDisconnect_,i,N),ku(0,w,W,se)})}(this._repo,this._path,i,d,_.wrapCallback(()=>{})),_.promise}update(i){sa("OnDisconnect.update",this._path),tv("OnDisconnect.update",i,this._path,!1);const d=new nn.cY;return function ob(g,i,d,_){if((0,nn.Im)(d))return Vo("onDisconnect().update() called with empty data.  Don't do anything."),void ku(0,_,"ok",void 0);g.server_.onDisconnectMerge(i.toString(),d,(w,N)=>{"ok"===w&&Ls(d,(W,se)=>{const xe=Ro(se);$e(g.onDisconnect_,Vs(i,W),xe)}),ku(0,_,w,N)})}(this._repo,this._path,i,d.wrapCallback(()=>{})),d.promise}}class sl{constructor(i,d,_,w){this._repo=i,this._path=d,this._queryParams=_,this._orderByCalled=w}get key(){return Ss(this._path)?null:cc(this._path)}get ref(){return new hc(this._repo,this._path)}get _queryIdentifier(){const i=$(this._queryParams),d=Wf(i);return"{}"===d?"default":d}get _queryObject(){return $(this._queryParams)}isEqual(i){if(!((i=(0,nn.Ku)(i))instanceof sl))return!1;const d=this._repo===i._repo,_=ka(this._path,i._path);return d&&_&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Mh(g){let i="";for(let d=g.pieceNum_;d<g.pieces_.length;d++)""!==g.pieces_[d]&&(i+="/"+encodeURIComponent(String(g.pieces_[d])));return i||"/"}(this._path)}}function ch(g,i){if(!0===g._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Af(g){let i=null,d=null;if(g.hasStart()&&(i=g.getIndexStartValue()),g.hasEnd()&&(d=g.getIndexEndValue()),g.getIndex()===Ll){const _="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",w="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(g.hasStart()){if(g.getIndexStartName()!==dd)throw new Error(_);if("string"!=typeof i)throw new Error(w)}if(g.hasEnd()){if(g.getIndexEndName()!==Ma)throw new Error(_);if("string"!=typeof d)throw new Error(w)}}else if(g.getIndex()===ao){if(null!=i&&!wp(i)||null!=d&&!wp(d))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,nn.vA)(g.getIndex()instanceof Zf||g.getIndex()===Wp,"unknown index type."),null!=i&&"object"==typeof i||null!=d&&"object"==typeof d)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ou(g){if(g.hasStart()&&g.hasEnd()&&g.hasLimit()&&!g.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class hc extends sl{constructor(i,d){super(i,d,new Sa,!1)}get parent(){const i=Ko(this._path);return null===i?null:new hc(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class kf{constructor(i,d,_){this._node=i,this.ref=d,this._index=_}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const d=new Ao(i),_=dh(this.ref,i);return new kf(this._node.getChild(d),_,ao)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(_,w)=>i(new kf(w,dh(this.ref,_),ao)))}hasChild(i){const d=new Ao(i);return!this._node.getChild(d).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Of(g,i){return(g=(0,nn.Ku)(g))._checkNotDeleted("ref"),void 0!==i?dh(g._root,i):g._root}function lv(g,i){(g=(0,nn.Ku)(g))._checkNotDeleted("refFromURL");const d=Jm(i,g._repo.repoInfo_.nodeAdmin);Jg("refFromURL",d);const _=d.repoInfo;return!g._repo.repoInfo_.isCustomHost()&&_.host!==g._repo.repoInfo_.host&&js("refFromURL: Host name does not match the current database: (found "+_.host+" but expected "+g._repo.repoInfo_.host+")"),Of(g,d.path.toString())}function dh(g,i){return null===vs((g=(0,nn.Ku)(g))._path)?Kb("child","path",i,!1):Cp("child","path",i,!1),new hc(g._repo,Vs(g._path,i))}function ng(g,i){g=(0,nn.Ku)(g),sa("set",g._path),Ac("set",i,g._path,!1);const d=new nn.cY;return uc(g._repo,g._path,i,null,d.wrapCallback(()=>{})),d.promise}function c0(g,i){tv("update",i,g._path,!1);const d=new nn.cY;return function Yh(g,i,d,_){Qh(g,"update",{path:i.toString(),value:d});let w=!0;const N=Sp(g),W={};if(Ls(d,(se,xe)=>{w=!1,W[se]=$h(Vs(i,se),Ro(xe),g.serverSyncTree_,N)}),w)Vo("update() called with empty data.  Don't do anything."),ku(0,_,"ok",void 0);else{const se=Dp(g),xe=function pp(g,i,d,_){!function rp(g,i,d,_){(0,nn.vA)(_>g.lastWriteId,"Stacking an older merge on top of newer ones"),g.allWrites.push({path:i,children:d,writeId:_,visible:!0}),g.visibleWrites=$0(g.visibleWrites,i,d),g.lastWriteId=_}(g.pendingWriteTree_,i,d,_);const w=Ho.fromObject(d);return Mc(g,new qc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,w))}(g.serverSyncTree_,i,W,se);Tp(g.eventQueue_,xe),g.server_.merge(i.toString(),d,(Ue,Qe)=>{const Ze="ok"===Ue;Ze||na("update at "+i+" failed: "+Ue);const gt=Tf(g.serverSyncTree_,se,!Ze),Kt=gt.length>0?kc(g,i):i;ed(g.eventQueue_,Kt,gt),ku(0,_,Ue,Qe)}),Ls(d,Ue=>{const Qe=c_(g,Vs(i,Ue));kc(g,Qe)}),ed(g.eventQueue_,i,[])}}(g._repo,g._path,i,d.wrapCallback(()=>{})),d.promise}function d0(g){g=(0,nn.Ku)(g);const i=new lh(()=>{}),d=new Pf(i);return function oh(g,i,d){const _=function Zc(g,i){const d=i._path;let _=null;g.syncPointTree_.foreachOnPath(d,(Ue,Qe)=>{const Ze=yo(Ue,d);_=_||zh(Qe,Ze)});let w=g.syncPointTree_.get(d);w?_=_||zh(w,Ts()):(w=new Qg,g.syncPointTree_=g.syncPointTree_.set(d,w));const N=null!=_,W=N?new Jl(_,!0,!1):null;return function Yg(g){return Yp(g.viewCache_)}(Cf(w,i,Xp(g.pendingWriteTree_,i._path),N?W.getNode():jr.EMPTY_NODE,N))}(g.serverSyncTree_,i);return null!=_?Promise.resolve(_):g.server_.get(i).then(w=>{const N=Ro(w).withIndex(i._queryParams.getIndex());let W;if(q_(g.serverSyncTree_,i,d,!0),i._queryParams.loadsAllData())W=qg(g.serverSyncTree_,i._path,N);else{const se=Wm(g.serverSyncTree_,i);W=Sl(g.serverSyncTree_,i._path,N,se)}return ed(g.eventQueue_,i._path,W),Gm(g.serverSyncTree_,i,d,null,!0),N},w=>(Qh(g,"get for query "+(0,nn.As)(i)+" failed: "+w),Promise.reject(new Error(w))))}(g._repo,g,d).then(_=>new kf(_,new hc(g._repo,g._path),g._queryParams.getIndex()))}class Pf{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,d){const _=d._queryParams.getIndex();return new eg("value",this,new kf(i.snapshotNode,new hc(d._repo,d._path),_))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,d){return this.callbackContext.hasCancelCallback?new dm(this,i,d):null}matches(i){return i instanceof Pf&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class rg{constructor(i,d){this.eventType=i,this.callbackContext=d}respondsTo(i){let d="children_added"===i?"child_added":i;return d="children_removed"===d?"child_removed":d,this.eventType===d}createCancelEvent(i,d){return this.callbackContext.hasCancelCallback?new dm(this,i,d):null}createEvent(i,d){(0,nn.vA)(null!=i.childName,"Child events should have a childName.");const _=dh(new hc(d._repo,d._path),i.childName),w=d._queryParams.getIndex();return new eg(i.type,this,new kf(i.snapshotNode,_,w),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof rg&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function sg(g,i,d,_,w){let N;if("object"==typeof _&&(N=void 0,w=_),"function"==typeof _&&(N=_),w&&w.onlyOnce){const xe=d,Ue=(Qe,Ze)=>{a_(g._repo,g,se),xe(Qe,Ze)};Ue.userCallback=d.userCallback,Ue.context=d.context,d=Ue}const W=new lh(d,N||void 0),se="value"===i?new Pf(W):new rg(i,W);return function Mf(g,i,d){let _;_=".info"===vs(i._path)?q_(g.infoSyncTree_,i,d):q_(g.serverSyncTree_,i,d),Wh(g.eventQueue_,i._path,_)}(g._repo,g,se),()=>a_(g._repo,g,se)}function u_(g,i,d,_){return sg(g,"value",i,d,_)}function cv(g,i,d,_){return sg(g,"child_added",i,d,_)}function h_(g,i,d,_){return sg(g,"child_changed",i,d,_)}function u0(g,i,d,_){return sg(g,"child_moved",i,d,_)}function h0(g,i,d,_){return sg(g,"child_removed",i,d,_)}function Es(g,i,d){let _=null;const w=d?new lh(d):null;"value"===i?_=new Pf(w):i&&(_=new rg(i,w)),a_(g._repo,g,_)}class Pu{}class f_ extends Pu{constructor(i,d){super(),this._value=i,this._key=d,this.type="endAt"}_apply(i){Ac("endAt",this._value,i._path,!0);const d=Yd(i._queryParams,this._value,this._key);if(Ou(d),Af(d),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new sl(i._repo,i._path,d,i._orderByCalled)}}class p_ extends Pu{constructor(i,d){super(),this._value=i,this._key=d,this.type="endBefore"}_apply(i){Ac("endBefore",this._value,i._path,!1);const d=function Xd(g,i,d){let _;return _=Yd(g,i,g.index_===Ll||d?d:dd),_.endBeforeSet_=!0,_}(i._queryParams,this._value,this._key);if(Ou(d),Af(d),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new sl(i._repo,i._path,d,i._orderByCalled)}}class uh extends Pu{constructor(i,d){super(),this._value=i,this._key=d,this.type="startAt"}_apply(i){Ac("startAt",this._value,i._path,!0);const d=Dc(i._queryParams,this._value,this._key);if(Ou(d),Af(d),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new sl(i._repo,i._path,d,i._orderByCalled)}}class hm extends Pu{constructor(i,d){super(),this._value=i,this._key=d,this.type="startAfter"}_apply(i){Ac("startAfter",this._value,i._path,!1);const d=function Kd(g,i,d){let _;return _=Dc(g,i,g.index_===Ll||d?d:Ma),_.startAfterSet_=!0,_}(i._queryParams,this._value,this._key);if(Ou(d),Af(d),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new sl(i._repo,i._path,d,i._orderByCalled)}}class Rf extends Pu{constructor(i){super(),this._limit=i,this.type="limitToFirst"}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new sl(i._repo,i._path,function Ef(g,i){const d=g.copy();return d.limitSet_=!0,d.limit_=i,d.viewFrom_="l",d}(i._queryParams,this._limit),i._orderByCalled)}}class m_ extends Pu{constructor(i){super(),this._limit=i,this.type="limitToLast"}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new sl(i._repo,i._path,function Wd(g,i){const d=g.copy();return d.limitSet_=!0,d.limit_=i,d.viewFrom_="r",d}(i._queryParams,this._limit),i._orderByCalled)}}class dv extends Pu{constructor(i){super(),this._path=i,this.type="orderByChild"}_apply(i){ch(i,"orderByChild");const d=new Ao(this._path);if(Ss(d))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const _=new Zf(d),w=Qd(i._queryParams,_);return Af(w),new sl(i._repo,i._path,w,!0)}}class __ extends Pu{constructor(){super(...arguments),this.type="orderByKey"}_apply(i){ch(i,"orderByKey");const d=Qd(i._queryParams,Ll);return Af(d),new sl(i._repo,i._path,d,!0)}}class cb extends Pu{constructor(){super(...arguments),this.type="orderByPriority"}_apply(i){ch(i,"orderByPriority");const d=Qd(i._queryParams,ao);return Af(d),new sl(i._repo,i._path,d,!0)}}class hv extends Pu{constructor(){super(...arguments),this.type="orderByValue"}_apply(i){ch(i,"orderByValue");const d=Qd(i._queryParams,Wp);return Af(d),new sl(i._repo,i._path,d,!0)}}class fv extends Pu{constructor(i,d){super(),this._value=i,this._key=d,this.type="equalTo"}_apply(i){if(Ac("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new f_(this._value,this._key)._apply(new uh(this._value,this._key)._apply(i))}}function tu(g,...i){let d=(0,nn.Ku)(g);for(const _ of i)d=_._apply(d);return d}(function up(g){(0,nn.vA)(!Uh,"__referenceConstructor has already been defined"),Uh=g})(hc),function eb(g){(0,nn.vA)(!Z0,"__referenceConstructor has already been defined"),Z0=g}(hc);const og={};function ja(g,i,d,_,w){let N=_||g.options.databaseURL;void 0===N&&(g.options.projectId||js("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vo("Using default host for project ",g.options.projectId),N=`${g.options.projectId}-default-rtdb.firebaseio.com`);let xe,Ue,W=Jm(N,w),se=W.repoInfo;typeof process<"u"&&process.env&&(Ue=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ue?(xe=!0,N=`http://${Ue}?ns=${se.namespace}`,W=Jm(N,w),se=W.repoInfo):xe=!W.repoInfo.secure;const Qe=w&&xe?new kl(kl.OWNER):new Ja(g.name,g.options,i);Jg("Invalid Firebase Database URL",W),Ss(W.path)||js("Database URL must point to the root of a Firebase Database (not including a child path).");const Ze=function fm(g,i,d,_){let w=og[i.name];w||(w={},og[i.name]=w);let N=w[g.toURLString()];return N&&js("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),N=new Xb(g,false,d,_),w[g.toURLString()]=N,N}(se,g,Qe,new Ig(g.name,d));return new qh(Ze,g)}class qh{constructor(i,d){this._repoInternal=i,this.app=d,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Zm(g,i,d){if(g.stats_=Sh(g.repoInfo_),g.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)g.server_=new S(g.repoInfo_,(_,w,N,W)=>{sm(g,_,w,N,W)},g.authTokenProvider_,g.appCheckProvider_),setTimeout(()=>e0(g,!0),0);else{if(typeof d<"u"&&null!==d){if("object"!=typeof d)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,nn.As)(d)}catch(_){throw new Error("Invalid authOverride provided: "+_)}}g.persistentConnection_=new qu(g.repoInfo_,i,(_,w,N,W)=>{sm(g,_,w,N,W)},_=>{e0(g,_)},_=>{!function om(g,i){Ls(i,(d,_)=>{am(g,d,_)})}(g,_)},g.authTokenProvider_,g.appCheckProvider_,d),g.server_=g.persistentConnection_}g.authTokenProvider_.addTokenChangeListener(_=>{g.server_.refreshAuthToken(_)}),g.appCheckProvider_.addTokenChangeListener(_=>{g.server_.refreshAppCheckToken(_.token)}),g.statsReporter_=function el(g,i){const d=g.toString();return wc[d]||(wc[d]=i()),wc[d]}(g.repoInfo_,()=>new zo(g.stats_,g.server_)),g.infoData_=new P,g.infoSyncTree_=new fp({startListening:(_,w,N,W)=>{let se=[];const xe=g.infoData_.getNode(_._path);return xe.isEmpty()||(se=qg(g.infoSyncTree_,_._path,xe),setTimeout(()=>{W("ok")},0)),se},stopListening:()=>{}}),am(g,"connected",!1),g.serverSyncTree_=new fp({startListening:(_,w,N,W)=>(g.server_.listen(_,N,w,(se,xe)=>{const Ue=W(se,xe);ed(g.eventQueue_,_._path,Ue)}),[]),stopListening:(_,w)=>{g.server_.unlisten(_,w)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hc(this._repo,Ts())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ag(g,i){const d=og[i];(!d||d[g.key]!==g)&&js(`Database ${i}(${g.repoInfo_}) has already been deleted.`),n0(g),delete d[g.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&js("Cannot call "+i+" on a deleted database.")}}function v0(){Mm.IS_TRANSPORT_INITIALIZED&&na("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function mv(){v0(),va.forceDisallow()}function Zh(){v0(),Nd.forceDisallow(),va.forceAllow()}function bv(g,i){Ch(g,i)}const ey={".sv":"timestamp"};class xv{constructor(i,d){this.committed=i,this.snapshot=d}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}qu.prototype.simpleListen=function(g,i){this.sendRequest("q",{p:g},i)},qu.prototype.echo=function(g,i){this.sendRequest("echo",{d:g},i)},function yv(g){Sm(Gu.SDK_VERSION),(0,Gu._registerComponent)(new Ba.uA("database",(i,{instanceIdentifier:d})=>ja(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),d),"PUBLIC").setMultipleInstances(!0)),(0,Gu.registerVersion)(uf,"1.0.4",g),(0,Gu.registerVersion)(uf,"1.0.4","esm2017")}();const b0=new Wu.Vy("@firebase/database-compat"),lg=function(g){b0.warn("FIREBASE WARNING: "+g)};class cg{constructor(i){this._delegate=i}cancel(i){(0,nn.od)("OnDisconnect.cancel",0,1,arguments.length),(0,nn.oD)("OnDisconnect.cancel","onComplete",i,!0);const d=this._delegate.cancel();return i&&d.then(()=>i(null),_=>i(_)),d}remove(i){(0,nn.od)("OnDisconnect.remove",0,1,arguments.length),(0,nn.oD)("OnDisconnect.remove","onComplete",i,!0);const d=this._delegate.remove();return i&&d.then(()=>i(null),_=>i(_)),d}set(i,d){(0,nn.od)("OnDisconnect.set",1,2,arguments.length),(0,nn.oD)("OnDisconnect.set","onComplete",d,!0);const _=this._delegate.set(i);return d&&_.then(()=>d(null),w=>d(w)),_}setWithPriority(i,d,_){(0,nn.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,nn.oD)("OnDisconnect.setWithPriority","onComplete",_,!0);const w=this._delegate.setWithPriority(i,d);return _&&w.then(()=>_(null),N=>_(N)),w}update(i,d){if((0,nn.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const w={};for(let N=0;N<i.length;++N)w[""+N]=i[N];i=w,lg("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,nn.oD)("OnDisconnect.update","onComplete",d,!0);const _=this._delegate.update(i);return d&&_.then(()=>d(null),w=>d(w)),_}}class pm{constructor(i,d){this.committed=i,this.snapshot=d}toJSON(){return(0,nn.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class hh{constructor(i,d){this._database=i,this._delegate=d}val(){return(0,nn.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,nn.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,nn.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,nn.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,nn.od)("DataSnapshot.child",0,1,arguments.length),i=String(i),Cp("DataSnapshot.child","path",i,!1),new hh(this._database,this._delegate.child(i))}hasChild(i){return(0,nn.od)("DataSnapshot.hasChild",1,1,arguments.length),Cp("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,nn.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,nn.od)("DataSnapshot.forEach",1,1,arguments.length),(0,nn.oD)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(d=>i(new hh(this._database,d)))}hasChildren(){return(0,nn.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,nn.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,nn.od)("DataSnapshot.ref",0,0,arguments.length),new ha(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Da{constructor(i,d){this.database=i,this._delegate=d}on(i,d,_,w){var N;(0,nn.od)("Query.on",2,4,arguments.length),(0,nn.oD)("Query.on","callback",d,!1);const W=Da.getCancelAndContextArgs_("Query.on",_,w),se=(Ue,Qe)=>{d.call(W.context,new hh(this.database,Ue),Qe)};se.userCallback=d,se.context=W.context;const xe=null===(N=W.cancel)||void 0===N?void 0:N.bind(W.context);switch(i){case"value":return u_(this._delegate,se,xe),d;case"child_added":return cv(this._delegate,se,xe),d;case"child_removed":return h0(this._delegate,se,xe),d;case"child_changed":return h_(this._delegate,se,xe),d;case"child_moved":return u0(this._delegate,se,xe),d;default:throw new Error((0,nn.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,d,_){if((0,nn.od)("Query.off",0,3,arguments.length),function(g,i,d){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,nn.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,nn.oD)("Query.off","callback",d,!0),(0,nn.HN)("Query.off","context",_,!0),d){const w=()=>{};w.userCallback=d,w.context=_,Es(this._delegate,i,w)}else Es(this._delegate,i)}get(){return d0(this._delegate).then(i=>new hh(this.database,i))}once(i,d,_,w){(0,nn.od)("Query.once",1,4,arguments.length),(0,nn.oD)("Query.once","callback",d,!0);const N=Da.getCancelAndContextArgs_("Query.once",_,w),W=new nn.cY,se=(Ue,Qe)=>{const Ze=new hh(this.database,Ue);d&&d.call(N.context,Ze,Qe),W.resolve(Ze)};se.userCallback=d,se.context=N.context;const xe=Ue=>{N.cancel&&N.cancel.call(N.context,Ue),W.reject(Ue)};switch(i){case"value":u_(this._delegate,se,xe,{onlyOnce:!0});break;case"child_added":cv(this._delegate,se,xe,{onlyOnce:!0});break;case"child_removed":h0(this._delegate,se,xe,{onlyOnce:!0});break;case"child_changed":h_(this._delegate,se,xe,{onlyOnce:!0});break;case"child_moved":u0(this._delegate,se,xe,{onlyOnce:!0});break;default:throw new Error((0,nn.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return W.promise}limitToFirst(i){return(0,nn.od)("Query.limitToFirst",1,1,arguments.length),new Da(this.database,tu(this._delegate,function m0(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Rf(g)}(i)))}limitToLast(i){return(0,nn.od)("Query.limitToLast",1,1,arguments.length),new Da(this.database,tu(this._delegate,function g0(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new m_(g)}(i)))}orderByChild(i){return(0,nn.od)("Query.orderByChild",1,1,arguments.length),new Da(this.database,tu(this._delegate,function g_(g){if("$key"===g)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===g)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===g)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Cp("orderByChild","path",g,!1),new dv(g)}(i)))}orderByKey(){return(0,nn.od)("Query.orderByKey",0,0,arguments.length),new Da(this.database,tu(this._delegate,function v_(){return new __}()))}orderByPriority(){return(0,nn.od)("Query.orderByPriority",0,0,arguments.length),new Da(this.database,tu(this._delegate,function uv(){return new cb}()))}orderByValue(){return(0,nn.od)("Query.orderByValue",0,0,arguments.length),new Da(this.database,tu(this._delegate,function qb(){return new hv}()))}startAt(i=null,d){return(0,nn.od)("Query.startAt",0,2,arguments.length),new Da(this.database,tu(this._delegate,function Ap(g=null,i){return If("startAt","key",i,!0),new uh(g,i)}(i,d)))}startAfter(i=null,d){return(0,nn.od)("Query.startAfter",0,2,arguments.length),new Da(this.database,tu(this._delegate,function p0(g,i){return If("startAfter","key",i,!0),new hm(g,i)}(i,d)))}endAt(i=null,d){return(0,nn.od)("Query.endAt",0,2,arguments.length),new Da(this.database,tu(this._delegate,function f0(g,i){return If("endAt","key",i,!0),new f_(g,i)}(i,d)))}endBefore(i=null,d){return(0,nn.od)("Query.endBefore",0,2,arguments.length),new Da(this.database,tu(this._delegate,function um(g,i){return If("endBefore","key",i,!0),new p_(g,i)}(i,d)))}equalTo(i,d){return(0,nn.od)("Query.equalTo",1,2,arguments.length),new Da(this.database,tu(this._delegate,function Zb(g,i){return If("equalTo","key",i,!0),new fv(g,i)}(i,d)))}toString(){return(0,nn.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,nn.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,nn.od)("Query.isEqual",1,1,arguments.length),!(i instanceof Da))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,d,_){const w={cancel:void 0,context:void 0};if(d&&_)w.cancel=d,(0,nn.oD)(i,"cancel",w.cancel,!0),w.context=_,(0,nn.HN)(i,"context",w.context,!0);else if(d)if("object"==typeof d&&null!==d)w.context=d;else{if("function"!=typeof d)throw new Error((0,nn.dI)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");w.cancel=d}return w}get ref(){return new ha(this.database,new hc(this._delegate._repo,this._delegate._path))}}class ha extends Da{constructor(i,d){super(i,new sl(d._repo,d._path,new Sa,!1)),this.database=i,this._delegate=d}getKey(){return(0,nn.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,nn.od)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new ha(this.database,dh(this._delegate,i))}getParent(){(0,nn.od)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new ha(this.database,i):null}getRoot(){return(0,nn.od)("Reference.root",0,0,arguments.length),new ha(this.database,this._delegate.root)}set(i,d){(0,nn.od)("Reference.set",1,2,arguments.length),(0,nn.oD)("Reference.set","onComplete",d,!0);const _=ng(this._delegate,i);return d&&_.then(()=>d(null),w=>d(w)),_}update(i,d){if((0,nn.od)("Reference.update",1,2,arguments.length),Array.isArray(i)){const w={};for(let N=0;N<i.length;++N)w[""+N]=i[N];i=w,lg("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}sa("Reference.update",this._delegate._path),(0,nn.oD)("Reference.update","onComplete",d,!0);const _=c0(this._delegate,i);return d&&_.then(()=>d(null),w=>d(w)),_}setWithPriority(i,d,_){(0,nn.od)("Reference.setWithPriority",2,3,arguments.length),(0,nn.oD)("Reference.setWithPriority","onComplete",_,!0);const w=function ig(g,i,d){if(sa("setWithPriority",g._path),Ac("setWithPriority",i,g._path,!1),rm("setWithPriority",d,!1),".length"===g.key||".keys"===g.key)throw"setWithPriority failed: "+g.key+" is a read-only object.";const _=new nn.cY;return uc(g._repo,g._path,i,d,_.wrapCallback(()=>{})),_.promise}(this._delegate,i,d);return _&&w.then(()=>_(null),N=>_(N)),w}remove(i){(0,nn.od)("Reference.remove",0,1,arguments.length),(0,nn.oD)("Reference.remove","onComplete",i,!0);const d=function Mp(g){return sa("remove",g._path),ng(g,null)}(this._delegate);return i&&d.then(()=>i(null),_=>i(_)),d}transaction(i,d,_){(0,nn.od)("Reference.transaction",1,3,arguments.length),(0,nn.oD)("Reference.transaction","transactionUpdate",i,!1),(0,nn.oD)("Reference.transaction","onComplete",d,!0),function(g,i,d,_){if(void 0!==d&&"boolean"!=typeof d)throw new Error((0,nn.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,_);const w=function yd(g,i,d){var _;if(g=(0,nn.Ku)(g),sa("Reference.transaction",g._path),".length"===g.key||".keys"===g.key)throw"Reference.transaction failed: "+g.key+" is a read-only object.";const w=null===(_=d?.applyLocally)||void 0===_||_,N=new nn.cY,se=u_(g,()=>{});return function rv(g,i,d,_,w,N){Qh(g,"transaction on "+i);const W={path:i,update:d,onComplete:_,status:null,order:Sg(),applyLocally:N,retryCount:0,unwatcher:w,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},se=ah(g,i,void 0);W.currentInputSnapshot=se;const xe=W.update(se.val());if(void 0===xe)W.unwatcher(),W.currentOutputSnapshotRaw=null,W.currentOutputSnapshotResolved=null,W.onComplete&&W.onComplete(null,!1,W.currentInputSnapshot);else{im("transaction failed: Data returned ",xe,W.path),W.status=0;const Ue=Jc(g.transactionQueueTree_,i),Qe=Gh(Ue)||[];let Ze;Qe.push(W),vp(Ue,Qe),"object"==typeof xe&&null!==xe&&(0,nn.gR)(xe,".priority")?(Ze=(0,nn.yw)(xe,".priority"),(0,nn.vA)(wp(Ze),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ze=(t_(g.serverSyncTree_,i)||jr.EMPTY_NODE).getPriority().val();const gt=Sp(g),Kt=Ro(xe,Ze),zt=Jd(Kt,se,gt);W.currentOutputSnapshotRaw=Kt,W.currentOutputSnapshotResolved=zt,W.currentWriteId=Dp(g);const cn=ec(g.serverSyncTree_,i,zt,W.currentWriteId,W.applyLocally);ed(g.eventQueue_,i,cn),Ip(g,g.transactionQueueTree_)}}(g._repo,g._path,i,(xe,Ue,Qe)=>{let Ze=null;xe?N.reject(xe):(Ze=new kf(Qe,new hc(g._repo,g._path),ao),N.resolve(new xv(Ue,Ze)))},se,w),N.promise}(this._delegate,i,{applyLocally:_}).then(N=>new pm(N.committed,new hh(this.database,N.snapshot)));return d&&w.then(N=>d(null,N.committed,N.snapshot),N=>d(N,!1,null)),w}setPriority(i,d){(0,nn.od)("Reference.setPriority",1,2,arguments.length),(0,nn.oD)("Reference.setPriority","onComplete",d,!0);const _=function d_(g,i){g=(0,nn.Ku)(g),sa("setPriority",g._path),rm("setPriority",i,!1);const d=new nn.cY;return uc(g._repo,Vs(g._path,".priority"),i,null,d.wrapCallback(()=>{})),d.promise}(this._delegate,i);return d&&_.then(()=>d(null),w=>d(w)),_}push(i,d){(0,nn.od)("Reference.push",0,2,arguments.length),(0,nn.oD)("Reference.push","onComplete",d,!0);const _=function tg(g,i){g=(0,nn.Ku)(g),sa("push",g._path),Ac("push",i,g._path,!0);const d=Kh(g._repo),_=av(d),w=dh(g,_),N=dh(g,_);let W;return W=null!=i?ng(N,i).then(()=>N):Promise.resolve(N),w.then=W.then.bind(W),w.catch=W.then.bind(W,void 0),w}(this._delegate,i),w=_.then(W=>new ha(this.database,W));d&&w.then(()=>d(null),W=>d(W));const N=new ha(this.database,_);return N.then=w.then.bind(w),N.catch=w.catch.bind(w,void 0),N}onDisconnect(){return sa("Reference.onDisconnect",this._delegate._path),new cg(new l0(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class kp{constructor(i,d){this._delegate=i,this.app=d,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:mv,forceLongPolling:Zh}}useEmulator(i,d,_={}){!function _v(g,i,d,_={}){(g=(0,nn.Ku)(g))._checkNotDeleted("useEmulator"),g._instanceStarted&&js("Cannot call useEmulator() after instance has already been initialized.");const w=g._repoInternal;let N;if(w.repoInfo_.nodeAdmin)_.mockUserToken&&js('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),N=new kl(kl.OWNER);else if(_.mockUserToken){const W="string"==typeof _.mockUserToken?_.mockUserToken:(0,nn.Fy)(_.mockUserToken,g.app.options.projectId);N=new kl(W)}!function b_(g,i,d,_){g.repoInfo_=new Ol(`${i}:${d}`,!1,g.repoInfo_.namespace,g.repoInfo_.webSocketOnly,g.repoInfo_.nodeAdmin,g.repoInfo_.persistenceKey,g.repoInfo_.includeNamespaceInQueryParams,!0),_&&(g.authTokenProvider_=_)}(w,i,d,N)}(this._delegate,i,d,_)}ref(i){if((0,nn.od)("database.ref",0,1,arguments.length),i instanceof ha){const d=lv(this._delegate,i.toString());return new ha(this,d)}{const d=Of(this._delegate,i);return new ha(this,d)}}refFromURL(i){(0,nn.od)("database.refFromURL",1,1,arguments.length);const _=lv(this._delegate,i);return new ha(this,_)}goOffline(){return(0,nn.od)("database.goOffline",0,0,arguments.length),function vv(g){(g=(0,nn.Ku)(g))._checkNotDeleted("goOffline"),n0(g._repo)}(this._delegate)}goOnline(){return(0,nn.od)("database.goOnline",0,0,arguments.length),function Jb(g){(g=(0,nn.Ku)(g))._checkNotDeleted("goOnline"),function r0(g){g.persistentConnection_&&g.persistentConnection_.resume(rb)}(g._repo)}(this._delegate)}}kp.ServerValue={TIMESTAMP:function Ev(){return ey}(),increment:g=>function ty(g){return{".sv":{increment:g}}}(g)};var Lf=Object.freeze({__proto__:null,initStandalone:function hb({app:g,url:i,version:d,customAuthImpl:_,customAppCheckImpl:w,namespace:N,nodeAdmin:W=!1}){Sm(d);const se=new Ba.h1("database-standalone"),xe=new Ba.Kq("auth-internal",se);let Ue;return xe.setComponent(new Ba.uA("auth-internal",()=>_,"PRIVATE")),w&&(Ue=new Ba.Kq("app-check-internal",se),Ue.setComponent(new Ba.uA("app-check-internal",()=>w,"PRIVATE"))),{instance:new kp(ja(g,xe,Ue,i,W),g),namespace:N}}});const fb=kp.ServerValue;function dg(g,i,d="on",_=bi.E){return new Zn.c(w=>{let N=null;return N=g[d](i,(W,se)=>{_.schedule(()=>{w.next({snapshot:W,prevKey:se})}),"once"===d&&_.schedule(()=>w.complete())},W=>{_.schedule(()=>w.error(W))}),"on"===d?{unsubscribe(){null!=N&&g.off(i,N)}}:{unsubscribe(){}}}).pipe((0,qe.T)(w=>{const{snapshot:N,prevKey:W}=w;let se=null;return N.exists()&&(se=N.key),{type:i,payload:N,prevKey:W,key:se}}),(0,At.u)())}function y0(g){return null==g}function Ff(g){return"function"==typeof g.set}function mm(g,i){return Ff(i)?i:g.ref(i)}function E0(g,i){if(function Op(g){return"string"==typeof g}(g))return i.stringCase();if(Ff(g))return i.firebaseCase();if(function nu(g){return"function"==typeof g.exportVal}(g))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof g)}function Bf(g){return(y0(g)||0===g.length)&&(g=["child_added","child_removed","child_changed","child_moved"]),g}function C_(g,i,d){const _=(i=Bf(i)).map(w=>dg(g,w,"on",d));return(0,Mi.h)(..._)}function Pp(g,i){return function(_,w){return E0(_,{stringCase:()=>g.child(_)[i](w),firebaseCase:()=>_[i](w),snapshotCase:()=>_.ref[i](w)})}}function Cv(g){return function(d){return d?E0(d,{stringCase:()=>g.child(d).remove(),firebaseCase:()=>d.remove(),snapshotCase:()=>d.ref.remove()}):g.remove()}}function T_(g,i){const d=g.length;for(let _=0;_<d;_++)if(g[_].payload.key===i)return _;return-1}function Sv(g,i){const{payload:d,prevKey:_,key:w}=i,N=T_(g,w),W=function Tv(g,i){if(y0(i))return 0;{const d=T_(g,i);return-1===d?g.length:d+1}}(g,_);switch(i.type){case"value":if(i.payload?.exists()){let se=null;i.payload.forEach(xe=>{const Ue={payload:xe,type:"value",prevKey:se,key:xe.key};return se=xe.key,g=[...g,Ue],!1})}return g;case"child_added":if(N>-1)(g[N-1]?.key||null)!==_&&(g=g.filter(xe=>xe.payload.key!==d.key)).splice(W,0,i);else{if(null==_)return[i,...g];(g=g.slice()).splice(W,0,i)}return g;case"child_removed":return g.filter(se=>se.payload.key!==d.key);case"child_changed":return g.map(se=>se.payload.key===w?i:se);case"child_moved":if(N>-1){const se=g.splice(N,1)[0];return(g=g.slice()).splice(W,0,se),g}return g;default:return g}}function gm(g,i,d){return function ug(g,i,d){return dg(g,"value","once",d).pipe((0,xt.n)(_=>{const w=[(0,vn.of)(_)];return i.forEach(N=>w.push(dg(g,N,"on",d))),(0,Mi.h)(...w).pipe((0,fn.S)(Sv,[]))}),(0,Po.F)())}(g,i=Bf(i),d)}function Iv(g,i){return function(){return dg(g,"value","on",i)}}!function Nf(g){g.INTERNAL.registerComponent(new Ba.uA("database-compat",(i,{instanceIdentifier:d})=>{const _=i.getProvider("app-compat").getImmediate(),w=i.getProvider("database").getImmediate({identifier:d});return new kp(w,_)},"PUBLIC").setServiceProps({Reference:ha,Query:Da,Database:kp,DataSnapshot:hh,enableLogging:bv,INTERNAL:Lf,ServerValue:fb}).setMultipleInstances(!0)),g.registerVersion("@firebase/database-compat","1.0.4")}($u.A);const pb=new m.nKC("angularfire2.realtimeDatabaseURL"),hg=new m.nKC("angularfire2.database.use-emulator");let x0=(()=>{class g{schedulers;database;constructor(d,_,w,N,W,se,xe,Ue,Qe,Ze,gt,Kt,zt,cn,pn){this.schedulers=se;const Xt=xe,wn=(0,Rn.iB)(d,W,_);Ue&&(0,Ae.gF)(wn,W,Qe,gt,Kt,zt,Ze,cn),this.database=(0,Rn.BM)(`${wn.name}.database.${w}`,"AngularFireDatabase",wn.name,()=>{const _n=W.runOutsideAngular(()=>wn.database(w||void 0));return Xt&&_n.useEmulator(...Xt),_n},[Xt])}list(d,_){const w=this.schedulers.ngZone.runOutsideAngular(()=>mm(this.database,d));let N=w;return _&&(N=_(w)),function Dv(g,i){const d=i.schedulers.outsideAngular,_=i.schedulers.ngZone.run(()=>g.ref);return{query:g,update:Pp(_,"update"),set:Pp(_,"set"),push:w=>_.push(w),remove:Cv(_),snapshotChanges:w=>gm(g,w,d).pipe(ln.U0),stateChanges:w=>C_(g,w,d).pipe(ln.U0),auditTrail:w=>function Ru(g,i,d){return function fc(g,i,d){return function td(g,i){return dg(g,"value","on",i).pipe((0,qe.T)(d=>{let _;return d.payload.forEach(w=>(_=w.key,!1)),{data:d,lastKeyToLoad:_}}))}(g,d).pipe(function os(...g){const i=(0,_r.ms)(g);return(0,rr.N)((d,_)=>{const w=g.length,N=new Array(w);let W=g.map(()=>!1),se=!1;for(let xe=0;xe<w;xe++)(0,Si.Tg)(g[xe]).subscribe((0,br._)(_,Ue=>{N[xe]=Ue,!se&&!W[xe]&&(W[xe]=!0,(se=W.every(li.D))&&(W=null))},ii.l));d.subscribe((0,br._)(_,xe=>{if(se){const Ue=[xe,...N];_.next(i?i(...Ue):Ue)}}))})}(i),(0,qe.T)(([w,N])=>{const W=w.lastKeyToLoad,se=N.map(xe=>xe.key);return{actions:N,lastKeyToLoad:W,loadedKeys:se}}),function _s(g){return(0,rr.N)((i,d)=>{let _=!1,w=0;i.subscribe((0,br._)(d,N=>(_||(_=!g(N,w++)))&&d.next(N)))})}(w=>-1===w.loadedKeys.indexOf(w.lastKeyToLoad)),(0,qe.T)(w=>w.actions))}(g,C_(g,i).pipe((0,fn.S)((w,N)=>[...w,N],[])),d)}(g,w,d).pipe(ln.U0),valueChanges:(w,N)=>gm(g,w,d).pipe((0,qe.T)(se=>se.map(xe=>N&&N.idField?{...xe.payload.val(),[N.idField]:xe.key}:xe.payload.val())),ln.U0)}}(N,this)}object(d){return function S_(g,i){return{query:g,snapshotChanges:()=>Iv(g,i.schedulers.outsideAngular)().pipe(ln.U0),update:d=>g.ref.update(d),set:d=>g.ref.set(d),remove:()=>g.ref.remove(),valueChanges:()=>Iv(g,i.schedulers.outsideAngular)().pipe(ln.U0,(0,qe.T)(_=>_.payload.exists()?_.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>mm(this.database,d)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(_){return new(_||g)(m.KVO(Rn.rx),m.KVO(Rn.uP,8),m.KVO(pb,8),m.KVO(m.Agw),m.KVO(m.SKi),m.KVO(ln.u0),m.KVO(hg,8),m.KVO(Ae.DS,8),m.KVO(Ae.CP,8),m.KVO(Ae.yy,8),m.KVO(Ae.ZP,8),m.KVO(Ae.$z,8),m.KVO(Ae.AU,8),m.KVO(Ae.UB,8),m.KVO(ln.Jv,8))};static \u0275prov=m.jDH({token:g,factory:g.\u0275fac,providedIn:"any"})}return g})(),fg=(()=>{class g{constructor(){Mt.A.registerVersion("angularfire",ln.xv.full,"rtdb-compat")}static \u0275fac=function(_){return new(_||g)};static \u0275mod=m.$C({type:g});static \u0275inj=m.G2t({providers:[x0]})}return g})();var iy=E(8211),D_=E(1853),Mv=E(5225);const I_=(0,D_.L)(g=>function(d=null){g(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=d});function ry(g){throw new I_(g)}const M_=new sc.rx(()=>3e4);let kv=(()=>{class g{constructor(d){this.commonFunction=d,this.options={timeOutVal:3e4,timedOut:!0}}intercept(d,_){const w=d.context;if(!w.has(M_)){const N=this.options.timedOut;if(!1===N)return _.handle(d);N&&3e4!==this.options.timeOutVal&&w.set(M_,this.options.timeOutVal)}return _.handle(d).pipe(function Av(g,i){const{first:d,each:_,with:w=ry,scheduler:N=i??bi.E,meta:W=null}=(0,iy.v)(g)?{first:g}:"number"==typeof g?{each:g}:g;if(null==d&&null==_)throw new TypeError("No timeout provided.");return(0,rr.N)((se,xe)=>{let Ue,Qe,Ze=null,gt=0;const Kt=zt=>{Qe=(0,Mv.N)(xe,N,()=>{try{Ue.unsubscribe(),(0,Si.Tg)(w({meta:W,lastValue:Ze,seen:gt})).subscribe(xe)}catch(cn){xe.error(cn)}},zt)};Ue=se.subscribe((0,br._)(xe,zt=>{Qe?.unsubscribe(),gt++,xe.next(Ze=zt),_>0&&Kt(_)},void 0,void 0,()=>{Qe?.closed||Qe?.unsubscribe(),Ze=null})),!gt&&Kt(null!=d?"number"==typeof d?d:+d-N.now():_)})}(w.get(M_)),(0,ct.W)(N=>this.handleResponseError(N,d,_)))}handleResponseError(d,_,w){return"Timeout has occurred"==d.message&&this.commonFunction.displaySnackBarMessage("We'll be right back! Looks like something went wrong but we have our best minds working on it.","failure"),(0,te.$)(d)}static#e=this.\u0275fac=function(_){return new(_||g)(m.KVO(ce.L))};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac})}return g})();var A_=E(9030);const pg=new Zn.c(ii.l);var Ov=E(17),Js=E(8071);const gb={connector:()=>new qn.B};function Oc(g,i=gb){const{connector:d}=i;return(0,rr.N)((_,w)=>{const N=d();(0,Si.Tg)(g(function mb(g){return new Zn.c(i=>g.subscribe(i))}(N))).subscribe(w),w.add(_.subscribe(N))})}var Eo=E(6697),fh=E(1986);const Jh="Service workers are disabled or not supported by this browser";class _m{constructor(i){if(this.serviceWorker=i,i){const _=(0,Pi.R)(i,"controllerchange").pipe((0,qe.T)(()=>i.controller)),w=(0,A_.v)(()=>(0,vn.of)(i.controller)),N=(0,Ai.x)(w,_);this.worker=N.pipe((0,yi.p)(Qe=>!!Qe)),this.registration=this.worker.pipe((0,xt.n)(()=>i.getRegistration()));const Ue=(0,Pi.R)(i,"message").pipe((0,qe.T)(Qe=>Qe.data)).pipe((0,yi.p)(Qe=>Qe&&Qe.type)).pipe(function Vl(g){return g?i=>Oc(g)(i):i=>function mg(g,i){const d=(0,Js.T)(g)?g:()=>g;return(0,Js.T)(i)?Oc(i,{connector:d}):_=>new Ov.G(_,d)}(new qn.B)(i)}());Ue.connect(),this.events=Ue}else this.worker=this.events=this.registration=function _b(g){return(0,A_.v)(()=>(0,te.$)(new Error(g)))}(Jh)}postMessage(i,d){return this.worker.pipe((0,Eo.s)(1),(0,Ce.M)(_=>{_.postMessage({action:i,...d})})).toPromise().then(()=>{})}postMessageWithOperation(i,d,_){const w=this.waitForOperationCompleted(_),N=this.postMessage(i,d);return Promise.all([N,w]).then(([,W])=>W)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(i){let d;return d="string"==typeof i?_=>_.type===i:_=>i.includes(_.type),this.events.pipe((0,yi.p)(d))}nextEventOfType(i){return this.eventsOfType(i).pipe((0,Eo.s)(1))}waitForOperationCompleted(i){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,yi.p)(d=>d.nonce===i),(0,Eo.s)(1),(0,qe.T)(d=>{if(void 0!==d.result)return d.result;throw new Error(d.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Rp=(()=>{class g{get isEnabled(){return this.sw.isEnabled}constructor(d){if(this.sw=d,this.pushManager=null,this.subscriptionChanges=new qn.B,!d.isEnabled)return this.messages=pg,this.notificationClicks=pg,void(this.subscription=pg);this.messages=this.sw.eventsOfType("PUSH").pipe((0,qe.T)(w=>w.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,qe.T)(w=>w.data)),this.pushManager=this.sw.registration.pipe((0,qe.T)(w=>w.pushManager));const _=this.pushManager.pipe((0,xt.n)(w=>w.getSubscription()));this.subscription=(0,Mi.h)(_,this.subscriptionChanges)}requestSubscription(d){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Jh));const _={userVisibleOnly:!0};let w=this.decodeBase64(d.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),N=new Uint8Array(new ArrayBuffer(w.length));for(let W=0;W<w.length;W++)N[W]=w.charCodeAt(W);return _.applicationServerKey=N,this.pushManager.pipe((0,xt.n)(W=>W.subscribe(_)),(0,Eo.s)(1)).toPromise().then(W=>(this.subscriptionChanges.next(W),W))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Eo.s)(1),(0,xt.n)(_=>{if(null===_)throw new Error("Not subscribed to push notifications.");return _.unsubscribe().then(w=>{if(!w)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Jh))}decodeBase64(d){return atob(d)}static#e=this.\u0275fac=function(_){return new(_||g)(m.KVO(_m))};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac})}return g})(),C0=(()=>{class g{get isEnabled(){return this.sw.isEnabled}constructor(d){if(this.sw=d,!d.isEnabled)return this.versionUpdates=pg,void(this.unrecoverable=pg);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Jh));const d=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:d},d)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Jh));const d=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:d},d)}static#e=this.\u0275fac=function(_){return new(_||g)(m.KVO(_m))};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac})}return g})();const vb=new m.nKC("");function T0(g,i,d,_){return()=>{if(!(0,ne.UE)(_)||!("serviceWorker"in navigator)||!1===d.enabled)return;let w;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof d.registrationStrategy)w=d.registrationStrategy();else{const[W,...se]=(d.registrationStrategy||"registerWhenStable:30000").split(":");switch(W){case"registerImmediately":w=(0,vn.of)(null);break;case"registerWithDelay":w=bb(+se[0]||0);break;case"registerWhenStable":w=se[0]?(0,Mi.h)(gg(g),bb(+se[0])):gg(g);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${d.registrationStrategy}`)}}g.get(m.SKi).runOutsideAngular(()=>w.pipe((0,Eo.s)(1)).subscribe(()=>navigator.serviceWorker.register(i,{scope:d.scope}).catch(W=>console.error("Service worker registration failed with:",W))))}}function bb(g){return(0,vn.of)(null).pipe((0,fh.c)(g))}function gg(g){return g.get(m.o8S).isStable.pipe((0,yi.p)(d=>d))}function fa(g,i){return new _m((0,ne.UE)(i)&&!1!==g.enabled?navigator.serviceWorker:void 0)}class yb{}function xy(g,i={}){return(0,m.EmA)([Rp,C0,{provide:vb,useValue:g},{provide:yb,useValue:i},{provide:_m,useFactory:fa,deps:[yb,m.Agw]},{provide:m.hnV,useFactory:T0,deps:[m.zZn,vb,yb,m.Agw],multi:!0}])}let za=(()=>{class g{static register(d,_={}){return{ngModule:g,providers:[xy(d,_)]}}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275mod=m.$C({type:g});static#n=this.\u0275inj=m.G2t({providers:[Rp,C0]})}return g})();var Pc=E(6111);let S0=(()=>{class g extends Vt{constructor(d,_){super(),this.http=d,this.zone=_,this.pingInterval=600,this.onPing=new m.bkB,this.onPingResponse=new m.bkB}request(d){return"string"==typeof d?this.pingRequest=new sc.Kd("GET",d):d instanceof sc.Kd?this.pingRequest=d:null===d&&(this.pingRequest=null),this.pingRequest}interval(d){if(!isNaN(d)&&d>0)this.pingInterval=d;else if(!isNaN(d)&&d<=0)throw new Error("Interval value must be greater than zero.");return this.pingInterval}ping(){this.onPing.emit(null),this.pingRequest&&this.http.request(this.pingRequest).subscribe(d=>{this.onPingResponse.emit(d)},d=>{this.onPingResponse.emit(d)})}start(){this.stop(),this.zone.runOutsideAngular(()=>{this.pingHandle=setInterval(()=>{this.zone.run(()=>{this.ping()})},1e3*this.pingInterval)})}stop(){this.hasPingHandle()&&(clearInterval(this.pingHandle),this.pingHandle=null)}ngOnDestroy(){this.stop()}isRunning(){return this.hasPingHandle()}hasPingHandle(){return null!==this.pingHandle&&typeof this.pingHandle<"u"}static#e=this.\u0275fac=function(_){return new(_||g)(m.KVO(sc.Qq),m.KVO(m.SKi))};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac})}return g})(),_g=(()=>{class g{static forRoot(){return{ngModule:g,providers:[S0,{provide:Vt,useExisting:S0}]}}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275mod=m.$C({type:g});static#n=this.\u0275inj=m.G2t({imports:[ot.forRoot()]})}return g})(),Eb=(()=>{class g{static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275mod=m.$C({type:g,bootstrap:[Zr]});static#n=this.\u0275inj=m.G2t({providers:[ss,Li,ne.Jj,{provide:Cm.Ju,useValue:"en-GB"},{provide:sc.a7,useClass:Se,multi:!0},{provide:sc.a7,useClass:kv,multi:!0}],imports:[p.Bb,En,So,Gf.vF,zu.RH,We.hM,Hu.X1,Hu.YN,Wl.G,df.z,Ec.G,sc.q1,Kl.Ph,Pc.rJ,_g.forRoot(),fg,Ae.X8,ji,Rn.bf.initializeApp(pt.c.firebase),za.register("ngsw-worker.js",{enabled:pt.c.production,registrationStrategy:"registerWhenStable:30000"})]})}return g})();var vg=E(8132),ol=E(7606),Qi=E(4015);function Rv(g,i,d,_){return g.params.createElements&&Object.keys(_).forEach(w=>{if(!d[w]&&!0===d.auto){let N=(0,Qi.e)(g.el,`.${_[w]}`)[0];N||(N=(0,Qi.c)("div",_[w]),N.className=_[w],g.el.append(N)),d[w]=N,i[w]=N}}),d}function Ed(g){return void 0===g&&(g=""),`.${g.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Je(g){const i=this,{params:d,slidesEl:_}=i;d.loop&&i.loopDestroy();const w=N=>{if("string"==typeof N){const W=document.createElement("div");W.innerHTML=N,_.append(W.children[0]),W.innerHTML=""}else _.append(N)};if("object"==typeof g&&"length"in g)for(let N=0;N<g.length;N+=1)g[N]&&w(g[N]);else w(g);i.recalcSlides(),d.loop&&i.loopCreate(),(!d.observer||i.isElement)&&i.update()}function St(g){const i=this,{params:d,activeIndex:_,slidesEl:w}=i;d.loop&&i.loopDestroy();let N=_+1;const W=se=>{if("string"==typeof se){const xe=document.createElement("div");xe.innerHTML=se,w.prepend(xe.children[0]),xe.innerHTML=""}else w.prepend(se)};if("object"==typeof g&&"length"in g){for(let se=0;se<g.length;se+=1)g[se]&&W(g[se]);N=_+g.length}else W(g);i.recalcSlides(),d.loop&&i.loopCreate(),(!d.observer||i.isElement)&&i.update(),i.slideTo(N,0,!1)}function rn(g,i){const d=this,{params:_,activeIndex:w,slidesEl:N}=d;let W=w;_.loop&&(W-=d.loopedSlides,d.loopDestroy(),d.recalcSlides());const se=d.slides.length;if(g<=0)return void d.prependSlide(i);if(g>=se)return void d.appendSlide(i);let xe=W>g?W+1:W;const Ue=[];for(let Qe=se-1;Qe>=g;Qe-=1){const Ze=d.slides[Qe];Ze.remove(),Ue.unshift(Ze)}if("object"==typeof i&&"length"in i){for(let Qe=0;Qe<i.length;Qe+=1)i[Qe]&&N.append(i[Qe]);xe=W>g?W+i.length:W}else N.append(i);for(let Qe=0;Qe<Ue.length;Qe+=1)N.append(Ue[Qe]);d.recalcSlides(),_.loop&&d.loopCreate(),(!_.observer||d.isElement)&&d.update(),d.slideTo(_.loop?xe+d.loopedSlides:xe,0,!1)}function Bt(g){const i=this,{params:d,activeIndex:_}=i;let w=_;d.loop&&(w-=i.loopedSlides,i.loopDestroy());let W,N=w;if("object"==typeof g&&"length"in g){for(let se=0;se<g.length;se+=1)W=g[se],i.slides[W]&&i.slides[W].remove(),W<N&&(N-=1);N=Math.max(N,0)}else W=g,i.slides[W]&&i.slides[W].remove(),W<N&&(N-=1),N=Math.max(N,0);i.recalcSlides(),d.loop&&i.loopCreate(),(!d.observer||i.isElement)&&i.update(),i.slideTo(d.loop?N+i.loopedSlides:N,0,!1)}function Vn(){const g=this,i=[];for(let d=0;d<g.slides.length;d+=1)i.push(d);g.removeSlide(i)}function Bn(g){const{effect:i,swiper:d,on:_,setTranslate:w,setTransition:N,overwriteParams:W,perspective:se,recreateShadows:xe,getEffectParams:Ue}=g;let Qe;_("beforeInit",()=>{if(d.params.effect!==i)return;d.classNames.push(`${d.params.containerModifierClass}${i}`),se&&se()&&d.classNames.push(`${d.params.containerModifierClass}3d`);const Ze=W?W():{};Object.assign(d.params,Ze),Object.assign(d.originalParams,Ze)}),_("setTranslate",()=>{d.params.effect===i&&w()}),_("setTransition",(Ze,gt)=>{d.params.effect===i&&N(gt)}),_("transitionEnd",()=>{if(d.params.effect===i&&xe){if(!Ue||!Ue().slideShadows)return;d.slides.forEach(Ze=>{Ze.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(gt=>gt.remove())}),xe()}}),_("virtualUpdate",()=>{d.params.effect===i&&(d.slides.length||(Qe=!0),requestAnimationFrame(()=>{Qe&&d.slides&&d.slides.length&&(w(),Qe=!1)}))})}function Gn(g,i){const d=(0,Qi.g)(i);return d!==i&&(d.style.backfaceVisibility="hidden",d.style["-webkit-backface-visibility"]="hidden"),d}function si(g){let{swiper:i,duration:d,transformElements:_,allSlides:w}=g;const{activeIndex:N}=i;if(i.params.virtualTranslate&&0!==d){let xe,se=!1;xe=w?_:_.filter(Ue=>{const Qe=Ue.classList.contains("swiper-slide-transform")?(se=>se.parentElement?se.parentElement:i.slides.filter(Ue=>Ue.shadowRoot&&Ue.shadowRoot===se.parentNode)[0])(Ue):Ue;return i.getSlideIndex(Qe)===N}),xe.forEach(Ue=>{(0,Qi.k)(Ue,()=>{if(se||!i||i.destroyed)return;se=!0,i.animating=!1;const Qe=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});i.wrapperEl.dispatchEvent(Qe)})})}}function Jn(g,i,d){const _=`swiper-slide-shadow${d?`-${d}`:""}${g?` swiper-slide-shadow-${g}`:""}`,w=(0,Qi.g)(i);let N=w.querySelector(`.${_.split(" ").join(".")}`);return N||(N=(0,Qi.c)("div",_.split(" ")),w.append(N)),N}vg.S.use([function oy(g){let N,{swiper:i,extendParams:d,on:_,emit:w}=g;d({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const W=(0,ol.g)();i.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const se=W.createElement("div");function xe(zt,cn){const pn=i.params.virtual;if(pn.cache&&i.virtual.cache[cn])return i.virtual.cache[cn];let Xt;return pn.renderSlide?(Xt=pn.renderSlide.call(i,zt,cn),"string"==typeof Xt&&(se.innerHTML=Xt,Xt=se.children[0])):Xt=i.isElement?(0,Qi.c)("swiper-slide"):(0,Qi.c)("div",i.params.slideClass),Xt.setAttribute("data-swiper-slide-index",cn),pn.renderSlide||(Xt.innerHTML=zt),pn.cache&&(i.virtual.cache[cn]=Xt),Xt}function Ue(zt,cn){const{slidesPerView:pn,slidesPerGroup:Xt,centeredSlides:wn,loop:_n,initialSlide:ai}=i.params;if(cn&&!_n&&ai>0)return;const{addSlidesBefore:Er,addSlidesAfter:Ki}=i.params.virtual,{from:pr,to:Ti,slides:ci,slidesGrid:mr,offset:Gr}=i.virtual;i.params.cssMode||i.updateActiveIndex();const ki=i.activeIndex||0;let zi,Vi,Dr;zi=i.rtlTranslate?"right":i.isHorizontal()?"left":"top",wn?(Vi=Math.floor(pn/2)+Xt+Ki,Dr=Math.floor(pn/2)+Xt+Er):(Vi=pn+(Xt-1)+Ki,Dr=(_n?pn:Xt)+Er);let Ui=ki-Dr,Kn=ki+Vi;_n||(Ui=Math.max(Ui,0),Kn=Math.min(Kn,ci.length-1));let ri=(i.slidesGrid[Ui]||0)-(i.slidesGrid[0]||0);function qi(){i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),w("virtualUpdate")}if(_n&&ki>=Dr?(Ui-=Dr,wn||(ri+=i.slidesGrid[0])):_n&&ki<Dr&&(Ui=-Dr,wn&&(ri+=i.slidesGrid[0])),Object.assign(i.virtual,{from:Ui,to:Kn,offset:ri,slidesGrid:i.slidesGrid,slidesBefore:Dr,slidesAfter:Vi}),pr===Ui&&Ti===Kn&&!zt)return i.slidesGrid!==mr&&ri!==Gr&&i.slides.forEach(Wr=>{Wr.style[zi]=ri-Math.abs(i.cssOverflowAdjustment())+"px"}),i.updateProgress(),void w("virtualUpdate");if(i.params.virtual.renderExternal)return i.params.virtual.renderExternal.call(i,{offset:ri,from:Ui,to:Kn,slides:function(){const Ds=[];for(let xo=Ui;xo<=Kn;xo+=1)Ds.push(ci[xo]);return Ds}()}),void(i.params.virtual.renderExternalUpdate?qi():w("virtualUpdate"));const Hr=[],Yi=[],lr=Wr=>{let Ds=Wr;return Wr<0?Ds=ci.length+Wr:Ds>=ci.length&&(Ds-=ci.length),Ds};if(zt)i.slides.filter(Wr=>Wr.matches(`.${i.params.slideClass}, swiper-slide`)).forEach(Wr=>{Wr.remove()});else for(let Wr=pr;Wr<=Ti;Wr+=1)if(Wr<Ui||Wr>Kn){const Ds=lr(Wr);i.slides.filter(xo=>xo.matches(`.${i.params.slideClass}[data-swiper-slide-index="${Ds}"], swiper-slide[data-swiper-slide-index="${Ds}"]`)).forEach(xo=>{xo.remove()})}const hs=_n?2*ci.length:ci.length;for(let Wr=_n?-ci.length:0;Wr<hs;Wr+=1)if(Wr>=Ui&&Wr<=Kn){const Ds=lr(Wr);typeof Ti>"u"||zt?Yi.push(Ds):(Wr>Ti&&Yi.push(Ds),Wr<pr&&Hr.push(Ds))}if(Yi.forEach(Wr=>{i.slidesEl.append(xe(ci[Wr],Wr))}),_n)for(let Wr=Hr.length-1;Wr>=0;Wr-=1){const Ds=Hr[Wr];i.slidesEl.prepend(xe(ci[Ds],Ds))}else Hr.sort((Wr,Ds)=>Ds-Wr),Hr.forEach(Wr=>{i.slidesEl.prepend(xe(ci[Wr],Wr))});(0,Qi.e)(i.slidesEl,".swiper-slide, swiper-slide").forEach(Wr=>{Wr.style[zi]=ri-Math.abs(i.cssOverflowAdjustment())+"px"}),qi()}_("beforeInit",()=>{if(!i.params.virtual.enabled)return;let zt;if(typeof i.passedParams.virtual.slides>"u"){const cn=[...i.slidesEl.children].filter(pn=>pn.matches(`.${i.params.slideClass}, swiper-slide`));cn&&cn.length&&(i.virtual.slides=[...cn],zt=!0,cn.forEach((pn,Xt)=>{pn.setAttribute("data-swiper-slide-index",Xt),i.virtual.cache[Xt]=pn,pn.remove()}))}zt||(i.virtual.slides=i.params.virtual.slides),i.classNames.push(`${i.params.containerModifierClass}virtual`),i.params.watchSlidesProgress=!0,i.originalParams.watchSlidesProgress=!0,Ue(!1,!0)}),_("setTranslate",()=>{i.params.virtual.enabled&&(i.params.cssMode&&!i._immediateVirtual?(clearTimeout(N),N=setTimeout(()=>{Ue()},100)):Ue())}),_("init update resize",()=>{i.params.virtual.enabled&&i.params.cssMode&&(0,Qi.s)(i.wrapperEl,"--swiper-virtual-size",`${i.virtualSize}px`)}),Object.assign(i.virtual,{appendSlide:function Qe(zt){if("object"==typeof zt&&"length"in zt)for(let cn=0;cn<zt.length;cn+=1)zt[cn]&&i.virtual.slides.push(zt[cn]);else i.virtual.slides.push(zt);Ue(!0)},prependSlide:function Ze(zt){const cn=i.activeIndex;let pn=cn+1,Xt=1;if(Array.isArray(zt)){for(let wn=0;wn<zt.length;wn+=1)zt[wn]&&i.virtual.slides.unshift(zt[wn]);pn=cn+zt.length,Xt=zt.length}else i.virtual.slides.unshift(zt);if(i.params.virtual.cache){const wn=i.virtual.cache,_n={};Object.keys(wn).forEach(ai=>{const Er=wn[ai],Ki=Er.getAttribute("data-swiper-slide-index");Ki&&Er.setAttribute("data-swiper-slide-index",parseInt(Ki,10)+Xt),_n[parseInt(ai,10)+Xt]=Er}),i.virtual.cache=_n}Ue(!0),i.slideTo(pn,0)},removeSlide:function gt(zt){if(typeof zt>"u"||null===zt)return;let cn=i.activeIndex;if(Array.isArray(zt))for(let pn=zt.length-1;pn>=0;pn-=1)i.params.virtual.cache&&(delete i.virtual.cache[zt[pn]],Object.keys(i.virtual.cache).forEach(Xt=>{Xt>zt&&(i.virtual.cache[Xt-1]=i.virtual.cache[Xt],i.virtual.cache[Xt-1].setAttribute("data-swiper-slide-index",Xt-1),delete i.virtual.cache[Xt])})),i.virtual.slides.splice(zt[pn],1),zt[pn]<cn&&(cn-=1),cn=Math.max(cn,0);else i.params.virtual.cache&&(delete i.virtual.cache[zt],Object.keys(i.virtual.cache).forEach(pn=>{pn>zt&&(i.virtual.cache[pn-1]=i.virtual.cache[pn],i.virtual.cache[pn-1].setAttribute("data-swiper-slide-index",pn-1),delete i.virtual.cache[pn])})),i.virtual.slides.splice(zt,1),zt<cn&&(cn-=1),cn=Math.max(cn,0);Ue(!0),i.slideTo(cn,0)},removeAllSlides:function Kt(){i.virtual.slides=[],i.params.virtual.cache&&(i.virtual.cache={}),Ue(!0),i.slideTo(0,0)},update:Ue})},function ay(g){let{swiper:i,extendParams:d,on:_,emit:w}=g;const N=(0,ol.g)(),W=(0,ol.a)();function se(Qe){if(!i.enabled)return;const{rtlTranslate:Ze}=i;let gt=Qe;gt.originalEvent&&(gt=gt.originalEvent);const Kt=gt.keyCode||gt.charCode,zt=i.params.keyboard.pageUpDown,cn=zt&&33===Kt,pn=zt&&34===Kt,Xt=37===Kt,wn=39===Kt,_n=38===Kt,ai=40===Kt;if(!i.allowSlideNext&&(i.isHorizontal()&&wn||i.isVertical()&&ai||pn)||!i.allowSlidePrev&&(i.isHorizontal()&&Xt||i.isVertical()&&_n||cn))return!1;if(!(gt.shiftKey||gt.altKey||gt.ctrlKey||gt.metaKey||N.activeElement&&N.activeElement.nodeName&&("input"===N.activeElement.nodeName.toLowerCase()||"textarea"===N.activeElement.nodeName.toLowerCase()))){if(i.params.keyboard.onlyInViewport&&(cn||pn||Xt||wn||_n||ai)){let Er=!1;if((0,Qi.a)(i.el,`.${i.params.slideClass}, swiper-slide`).length>0&&0===(0,Qi.a)(i.el,`.${i.params.slideActiveClass}`).length)return;const Ki=i.el,pr=Ki.clientWidth,Ti=Ki.clientHeight,ci=W.innerWidth,mr=W.innerHeight,Gr=(0,Qi.b)(Ki);Ze&&(Gr.left-=Ki.scrollLeft);const ki=[[Gr.left,Gr.top],[Gr.left+pr,Gr.top],[Gr.left,Gr.top+Ti],[Gr.left+pr,Gr.top+Ti]];for(let zi=0;zi<ki.length;zi+=1){const Vi=ki[zi];if(Vi[0]>=0&&Vi[0]<=ci&&Vi[1]>=0&&Vi[1]<=mr){if(0===Vi[0]&&0===Vi[1])continue;Er=!0}}if(!Er)return}i.isHorizontal()?((cn||pn||Xt||wn)&&(gt.preventDefault?gt.preventDefault():gt.returnValue=!1),((pn||wn)&&!Ze||(cn||Xt)&&Ze)&&i.slideNext(),((cn||Xt)&&!Ze||(pn||wn)&&Ze)&&i.slidePrev()):((cn||pn||_n||ai)&&(gt.preventDefault?gt.preventDefault():gt.returnValue=!1),(pn||ai)&&i.slideNext(),(cn||_n)&&i.slidePrev()),w("keyPress",Kt)}}function xe(){i.keyboard.enabled||(N.addEventListener("keydown",se),i.keyboard.enabled=!0)}function Ue(){i.keyboard.enabled&&(N.removeEventListener("keydown",se),i.keyboard.enabled=!1)}i.keyboard={enabled:!1},d({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),_("init",()=>{i.params.keyboard.enabled&&xe()}),_("destroy",()=>{i.keyboard.enabled&&Ue()}),Object.assign(i.keyboard,{enable:xe,disable:Ue})},function Pv(g){let{swiper:i,extendParams:d,on:_,emit:w}=g;const N=(0,ol.a)();d({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),i.mousewheel={enabled:!1};let W,xe,se=(0,Qi.d)();const Ue=[];function Ze(){i.enabled&&(i.mouseEntered=!0)}function gt(){i.enabled&&(i.mouseEntered=!1)}function Kt(_n){return!(i.params.mousewheel.thresholdDelta&&_n.delta<i.params.mousewheel.thresholdDelta||i.params.mousewheel.thresholdTime&&(0,Qi.d)()-se<i.params.mousewheel.thresholdTime)&&(_n.delta>=6&&(0,Qi.d)()-se<60||(_n.direction<0?(!i.isEnd||i.params.loop)&&!i.animating&&(i.slideNext(),w("scroll",_n.raw)):(!i.isBeginning||i.params.loop)&&!i.animating&&(i.slidePrev(),w("scroll",_n.raw)),se=(new N.Date).getTime(),!1))}function cn(_n){let ai=_n,Er=!0;if(!i.enabled||_n.target.closest(`.${i.params.mousewheel.noMousewheelClass}`))return;const Ki=i.params.mousewheel;i.params.cssMode&&ai.preventDefault();let pr=i.el;"container"!==i.params.mousewheel.eventsTarget&&(pr=document.querySelector(i.params.mousewheel.eventsTarget));const Ti=pr&&pr.contains(ai.target);if(!i.mouseEntered&&!Ti&&!Ki.releaseOnEdges)return!0;ai.originalEvent&&(ai=ai.originalEvent);let ci=0;const mr=i.rtlTranslate?-1:1,Gr=function Qe(_n){let pr=0,Ti=0,ci=0,mr=0;return"detail"in _n&&(Ti=_n.detail),"wheelDelta"in _n&&(Ti=-_n.wheelDelta/120),"wheelDeltaY"in _n&&(Ti=-_n.wheelDeltaY/120),"wheelDeltaX"in _n&&(pr=-_n.wheelDeltaX/120),"axis"in _n&&_n.axis===_n.HORIZONTAL_AXIS&&(pr=Ti,Ti=0),ci=10*pr,mr=10*Ti,"deltaY"in _n&&(mr=_n.deltaY),"deltaX"in _n&&(ci=_n.deltaX),_n.shiftKey&&!ci&&(ci=mr,mr=0),(ci||mr)&&_n.deltaMode&&(1===_n.deltaMode?(ci*=40,mr*=40):(ci*=800,mr*=800)),ci&&!pr&&(pr=ci<1?-1:1),mr&&!Ti&&(Ti=mr<1?-1:1),{spinX:pr,spinY:Ti,pixelX:ci,pixelY:mr}}(ai);if(Ki.forceToAxis)if(i.isHorizontal()){if(!(Math.abs(Gr.pixelX)>Math.abs(Gr.pixelY)))return!0;ci=-Gr.pixelX*mr}else{if(!(Math.abs(Gr.pixelY)>Math.abs(Gr.pixelX)))return!0;ci=-Gr.pixelY}else ci=Math.abs(Gr.pixelX)>Math.abs(Gr.pixelY)?-Gr.pixelX*mr:-Gr.pixelY;if(0===ci)return!0;Ki.invert&&(ci=-ci);let ki=i.getTranslate()+ci*Ki.sensitivity;if(ki>=i.minTranslate()&&(ki=i.minTranslate()),ki<=i.maxTranslate()&&(ki=i.maxTranslate()),Er=!!i.params.loop||!(ki===i.minTranslate()||ki===i.maxTranslate()),Er&&i.params.nested&&ai.stopPropagation(),i.params.freeMode&&i.params.freeMode.enabled){const zi={time:(0,Qi.d)(),delta:Math.abs(ci),direction:Math.sign(ci)},Vi=xe&&zi.time<xe.time+500&&zi.delta<=xe.delta&&zi.direction===xe.direction;if(!Vi){xe=void 0;let Dr=i.getTranslate()+ci*Ki.sensitivity;const Ui=i.isBeginning,Kn=i.isEnd;if(Dr>=i.minTranslate()&&(Dr=i.minTranslate()),Dr<=i.maxTranslate()&&(Dr=i.maxTranslate()),i.setTransition(0),i.setTranslate(Dr),i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses(),(!Ui&&i.isBeginning||!Kn&&i.isEnd)&&i.updateSlidesClasses(),i.params.loop&&i.loopFix({direction:zi.direction<0?"next":"prev",byMousewheel:!0}),i.params.freeMode.sticky){clearTimeout(W),W=void 0,Ue.length>=15&&Ue.shift();const ri=Ue.length?Ue[Ue.length-1]:void 0,qi=Ue[0];if(Ue.push(zi),ri&&(zi.delta>ri.delta||zi.direction!==ri.direction))Ue.splice(0);else if(Ue.length>=15&&zi.time-qi.time<500&&qi.delta-zi.delta>=1&&zi.delta<=6){const Hr=ci>0?.8:.2;xe=zi,Ue.splice(0),W=(0,Qi.n)(()=>{i.slideToClosest(i.params.speed,!0,void 0,Hr)},0)}W||(W=(0,Qi.n)(()=>{xe=zi,Ue.splice(0),i.slideToClosest(i.params.speed,!0,void 0,.5)},500))}if(Vi||w("scroll",ai),i.params.autoplay&&i.params.autoplayDisableOnInteraction&&i.autoplay.stop(),Ki.releaseOnEdges&&(Dr===i.minTranslate()||Dr===i.maxTranslate()))return!0}}else{const zi={time:(0,Qi.d)(),delta:Math.abs(ci),direction:Math.sign(ci),raw:_n};Ue.length>=2&&Ue.shift();const Vi=Ue.length?Ue[Ue.length-1]:void 0;if(Ue.push(zi),Vi?(zi.direction!==Vi.direction||zi.delta>Vi.delta||zi.time>Vi.time+150)&&Kt(zi):Kt(zi),function zt(_n){const ai=i.params.mousewheel;if(_n.direction<0){if(i.isEnd&&!i.params.loop&&ai.releaseOnEdges)return!0}else if(i.isBeginning&&!i.params.loop&&ai.releaseOnEdges)return!0;return!1}(zi))return!0}return ai.preventDefault?ai.preventDefault():ai.returnValue=!1,!1}function pn(_n){let ai=i.el;"container"!==i.params.mousewheel.eventsTarget&&(ai=document.querySelector(i.params.mousewheel.eventsTarget)),ai[_n]("mouseenter",Ze),ai[_n]("mouseleave",gt),ai[_n]("wheel",cn)}function Xt(){return i.params.cssMode?(i.wrapperEl.removeEventListener("wheel",cn),!0):!i.mousewheel.enabled&&(pn("addEventListener"),i.mousewheel.enabled=!0,!0)}function wn(){return i.params.cssMode?(i.wrapperEl.addEventListener(event,cn),!0):!!i.mousewheel.enabled&&(pn("removeEventListener"),i.mousewheel.enabled=!1,!0)}_("init",()=>{!i.params.mousewheel.enabled&&i.params.cssMode&&wn(),i.params.mousewheel.enabled&&Xt()}),_("destroy",()=>{i.params.cssMode&&Xt(),i.mousewheel.enabled&&wn()}),Object.assign(i.mousewheel,{enable:Xt,disable:wn})},function Lv(g){let{swiper:i,extendParams:d,on:_,emit:w}=g;function N(zt){let cn;return zt&&"string"==typeof zt&&i.isElement&&(cn=i.el.querySelector(zt),cn)?cn:(zt&&("string"==typeof zt&&(cn=[...document.querySelectorAll(zt)]),i.params.uniqueNavElements&&"string"==typeof zt&&cn&&cn.length>1&&1===i.el.querySelectorAll(zt).length?cn=i.el.querySelector(zt):cn&&1===cn.length&&(cn=cn[0])),zt&&!cn?zt:cn)}function W(zt,cn){const pn=i.params.navigation;(zt=(0,Qi.m)(zt)).forEach(Xt=>{Xt&&(Xt.classList[cn?"add":"remove"](...pn.disabledClass.split(" ")),"BUTTON"===Xt.tagName&&(Xt.disabled=cn),i.params.watchOverflow&&i.enabled&&Xt.classList[i.isLocked?"add":"remove"](pn.lockClass))})}function se(){const{nextEl:zt,prevEl:cn}=i.navigation;if(i.params.loop)return W(cn,!1),void W(zt,!1);W(cn,i.isBeginning&&!i.params.rewind),W(zt,i.isEnd&&!i.params.rewind)}function xe(zt){zt.preventDefault(),(!i.isBeginning||i.params.loop||i.params.rewind)&&(i.slidePrev(),w("navigationPrev"))}function Ue(zt){zt.preventDefault(),(!i.isEnd||i.params.loop||i.params.rewind)&&(i.slideNext(),w("navigationNext"))}function Qe(){const zt=i.params.navigation;if(i.params.navigation=Rv(i,i.originalParams.navigation,i.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!zt.nextEl&&!zt.prevEl)return;let cn=N(zt.nextEl),pn=N(zt.prevEl);Object.assign(i.navigation,{nextEl:cn,prevEl:pn}),cn=(0,Qi.m)(cn),pn=(0,Qi.m)(pn);const Xt=(wn,_n)=>{wn&&wn.addEventListener("click","next"===_n?Ue:xe),!i.enabled&&wn&&wn.classList.add(...zt.lockClass.split(" "))};cn.forEach(wn=>Xt(wn,"next")),pn.forEach(wn=>Xt(wn,"prev"))}function Ze(){let{nextEl:zt,prevEl:cn}=i.navigation;zt=(0,Qi.m)(zt),cn=(0,Qi.m)(cn);const pn=(Xt,wn)=>{Xt.removeEventListener("click","next"===wn?Ue:xe),Xt.classList.remove(...i.params.navigation.disabledClass.split(" "))};zt.forEach(Xt=>pn(Xt,"next")),cn.forEach(Xt=>pn(Xt,"prev"))}d({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),i.navigation={nextEl:null,prevEl:null},_("init",()=>{!1===i.params.navigation.enabled?Kt():(Qe(),se())}),_("toEdge fromEdge lock unlock",()=>{se()}),_("destroy",()=>{Ze()}),_("enable disable",()=>{let{nextEl:zt,prevEl:cn}=i.navigation;zt=(0,Qi.m)(zt),cn=(0,Qi.m)(cn),i.enabled?se():[...zt,...cn].filter(pn=>!!pn).forEach(pn=>pn.classList.add(i.params.navigation.lockClass))}),_("click",(zt,cn)=>{let{nextEl:pn,prevEl:Xt}=i.navigation;pn=(0,Qi.m)(pn),Xt=(0,Qi.m)(Xt);const wn=cn.target;if(i.params.navigation.hideOnClick&&!Xt.includes(wn)&&!pn.includes(wn)){if(i.pagination&&i.params.pagination&&i.params.pagination.clickable&&(i.pagination.el===wn||i.pagination.el.contains(wn)))return;let _n;pn.length?_n=pn[0].classList.contains(i.params.navigation.hiddenClass):Xt.length&&(_n=Xt[0].classList.contains(i.params.navigation.hiddenClass)),w(!0===_n?"navigationShow":"navigationHide"),[...pn,...Xt].filter(ai=>!!ai).forEach(ai=>ai.classList.toggle(i.params.navigation.hiddenClass))}});const Kt=()=>{i.el.classList.add(...i.params.navigation.navigationDisabledClass.split(" ")),Ze()};Object.assign(i.navigation,{enable:()=>{i.el.classList.remove(...i.params.navigation.navigationDisabledClass.split(" ")),Qe(),se()},disable:Kt,update:se,init:Qe,destroy:Ze})},function k_(g){let{swiper:i,extendParams:d,on:_,emit:w}=g;const N="swiper-pagination";d({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:Xt=>Xt,formatFractionTotal:Xt=>Xt,bulletClass:`${N}-bullet`,bulletActiveClass:`${N}-bullet-active`,modifierClass:`${N}-`,currentClass:`${N}-current`,totalClass:`${N}-total`,hiddenClass:`${N}-hidden`,progressbarFillClass:`${N}-progressbar-fill`,progressbarOppositeClass:`${N}-progressbar-opposite`,clickableClass:`${N}-clickable`,lockClass:`${N}-lock`,horizontalClass:`${N}-horizontal`,verticalClass:`${N}-vertical`,paginationDisabledClass:`${N}-disabled`}}),i.pagination={el:null,bullets:[]};let W,se=0;function xe(){return!i.params.pagination.el||!i.pagination.el||Array.isArray(i.pagination.el)&&0===i.pagination.el.length}function Ue(Xt,wn){const{bulletActiveClass:_n}=i.params.pagination;Xt&&(Xt=Xt[("prev"===wn?"previous":"next")+"ElementSibling"])&&(Xt.classList.add(`${_n}-${wn}`),(Xt=Xt[("prev"===wn?"previous":"next")+"ElementSibling"])&&Xt.classList.add(`${_n}-${wn}-${wn}`))}function Qe(Xt){const wn=Xt.target.closest(Ed(i.params.pagination.bulletClass));if(!wn)return;Xt.preventDefault();const _n=(0,Qi.h)(wn)*i.params.slidesPerGroup;if(i.params.loop){if(i.realIndex===_n)return;i.slideToLoop(_n)}else i.slideTo(_n)}function Ze(){const Xt=i.rtl,wn=i.params.pagination;if(xe())return;let ai,Er,_n=i.pagination.el;_n=(0,Qi.m)(_n);const pr=i.params.loop?Math.ceil((i.virtual&&i.params.virtual.enabled?i.virtual.slides.length:i.slides.length)/i.params.slidesPerGroup):i.snapGrid.length;if(i.params.loop?(Er=i.previousRealIndex||0,ai=i.params.slidesPerGroup>1?Math.floor(i.realIndex/i.params.slidesPerGroup):i.realIndex):typeof i.snapIndex<"u"?(ai=i.snapIndex,Er=i.previousSnapIndex):(Er=i.previousIndex||0,ai=i.activeIndex||0),"bullets"===wn.type&&i.pagination.bullets&&i.pagination.bullets.length>0){const Ti=i.pagination.bullets;let ci,mr,Gr;if(wn.dynamicBullets&&(W=(0,Qi.f)(Ti[0],i.isHorizontal()?"width":"height",!0),_n.forEach(ki=>{ki.style[i.isHorizontal()?"width":"height"]=W*(wn.dynamicMainBullets+4)+"px"}),wn.dynamicMainBullets>1&&void 0!==Er&&(se+=ai-(Er||0),se>wn.dynamicMainBullets-1?se=wn.dynamicMainBullets-1:se<0&&(se=0)),ci=Math.max(ai-se,0),mr=ci+(Math.min(Ti.length,wn.dynamicMainBullets)-1),Gr=(mr+ci)/2),Ti.forEach(ki=>{const zi=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Vi=>`${wn.bulletActiveClass}${Vi}`)].map(Vi=>"string"==typeof Vi&&Vi.includes(" ")?Vi.split(" "):Vi).flat();ki.classList.remove(...zi)}),_n.length>1)Ti.forEach(ki=>{const zi=(0,Qi.h)(ki);zi===ai?ki.classList.add(...wn.bulletActiveClass.split(" ")):i.isElement&&ki.setAttribute("part","bullet"),wn.dynamicBullets&&(zi>=ci&&zi<=mr&&ki.classList.add(...`${wn.bulletActiveClass}-main`.split(" ")),zi===ci&&Ue(ki,"prev"),zi===mr&&Ue(ki,"next"))});else{const ki=Ti[ai];if(ki&&ki.classList.add(...wn.bulletActiveClass.split(" ")),i.isElement&&Ti.forEach((zi,Vi)=>{zi.setAttribute("part",Vi===ai?"bullet-active":"bullet")}),wn.dynamicBullets){const zi=Ti[ci],Vi=Ti[mr];for(let Dr=ci;Dr<=mr;Dr+=1)Ti[Dr]&&Ti[Dr].classList.add(...`${wn.bulletActiveClass}-main`.split(" "));Ue(zi,"prev"),Ue(Vi,"next")}}if(wn.dynamicBullets){const ki=Math.min(Ti.length,wn.dynamicMainBullets+4),zi=(W*ki-W)/2-Gr*W,Vi=Xt?"right":"left";Ti.forEach(Dr=>{Dr.style[i.isHorizontal()?Vi:"top"]=`${zi}px`})}}_n.forEach((Ti,ci)=>{if("fraction"===wn.type&&(Ti.querySelectorAll(Ed(wn.currentClass)).forEach(mr=>{mr.textContent=wn.formatFractionCurrent(ai+1)}),Ti.querySelectorAll(Ed(wn.totalClass)).forEach(mr=>{mr.textContent=wn.formatFractionTotal(pr)})),"progressbar"===wn.type){let mr;mr=wn.progressbarOpposite?i.isHorizontal()?"vertical":"horizontal":i.isHorizontal()?"horizontal":"vertical";const Gr=(ai+1)/pr;let ki=1,zi=1;"horizontal"===mr?ki=Gr:zi=Gr,Ti.querySelectorAll(Ed(wn.progressbarFillClass)).forEach(Vi=>{Vi.style.transform=`translate3d(0,0,0) scaleX(${ki}) scaleY(${zi})`,Vi.style.transitionDuration=`${i.params.speed}ms`})}"custom"===wn.type&&wn.renderCustom?(Ti.innerHTML=wn.renderCustom(i,ai+1,pr),0===ci&&w("paginationRender",Ti)):(0===ci&&w("paginationRender",Ti),w("paginationUpdate",Ti)),i.params.watchOverflow&&i.enabled&&Ti.classList[i.isLocked?"add":"remove"](wn.lockClass)})}function gt(){const Xt=i.params.pagination;if(xe())return;const wn=i.virtual&&i.params.virtual.enabled?i.virtual.slides.length:i.grid&&i.params.grid.rows>1?i.slides.length/Math.ceil(i.params.grid.rows):i.slides.length;let _n=i.pagination.el;_n=(0,Qi.m)(_n);let ai="";if("bullets"===Xt.type){let Er=i.params.loop?Math.ceil(wn/i.params.slidesPerGroup):i.snapGrid.length;i.params.freeMode&&i.params.freeMode.enabled&&Er>wn&&(Er=wn);for(let Ki=0;Ki<Er;Ki+=1)ai+=Xt.renderBullet?Xt.renderBullet.call(i,Ki,Xt.bulletClass):`<${Xt.bulletElement} ${i.isElement?'part="bullet"':""} class="${Xt.bulletClass}"></${Xt.bulletElement}>`}"fraction"===Xt.type&&(ai=Xt.renderFraction?Xt.renderFraction.call(i,Xt.currentClass,Xt.totalClass):`<span class="${Xt.currentClass}"></span> / <span class="${Xt.totalClass}"></span>`),"progressbar"===Xt.type&&(ai=Xt.renderProgressbar?Xt.renderProgressbar.call(i,Xt.progressbarFillClass):`<span class="${Xt.progressbarFillClass}"></span>`),i.pagination.bullets=[],_n.forEach(Er=>{"custom"!==Xt.type&&(Er.innerHTML=ai||""),"bullets"===Xt.type&&i.pagination.bullets.push(...Er.querySelectorAll(Ed(Xt.bulletClass)))}),"custom"!==Xt.type&&w("paginationRender",_n[0])}function Kt(){i.params.pagination=Rv(i,i.originalParams.pagination,i.params.pagination,{el:"swiper-pagination"});const Xt=i.params.pagination;if(!Xt.el)return;let wn;"string"==typeof Xt.el&&i.isElement&&(wn=i.el.querySelector(Xt.el)),!wn&&"string"==typeof Xt.el&&(wn=[...document.querySelectorAll(Xt.el)]),wn||(wn=Xt.el),wn&&0!==wn.length&&(i.params.uniqueNavElements&&"string"==typeof Xt.el&&Array.isArray(wn)&&wn.length>1&&(wn=[...i.el.querySelectorAll(Xt.el)],wn.length>1&&(wn=wn.filter(_n=>(0,Qi.a)(_n,".swiper")[0]===i.el)[0])),Array.isArray(wn)&&1===wn.length&&(wn=wn[0]),Object.assign(i.pagination,{el:wn}),wn=(0,Qi.m)(wn),wn.forEach(_n=>{"bullets"===Xt.type&&Xt.clickable&&_n.classList.add(...(Xt.clickableClass||"").split(" ")),_n.classList.add(Xt.modifierClass+Xt.type),_n.classList.add(i.isHorizontal()?Xt.horizontalClass:Xt.verticalClass),"bullets"===Xt.type&&Xt.dynamicBullets&&(_n.classList.add(`${Xt.modifierClass}${Xt.type}-dynamic`),se=0,Xt.dynamicMainBullets<1&&(Xt.dynamicMainBullets=1)),"progressbar"===Xt.type&&Xt.progressbarOpposite&&_n.classList.add(Xt.progressbarOppositeClass),Xt.clickable&&_n.addEventListener("click",Qe),i.enabled||_n.classList.add(Xt.lockClass)}))}function zt(){const Xt=i.params.pagination;if(xe())return;let wn=i.pagination.el;wn&&(wn=(0,Qi.m)(wn),wn.forEach(_n=>{_n.classList.remove(Xt.hiddenClass),_n.classList.remove(Xt.modifierClass+Xt.type),_n.classList.remove(i.isHorizontal()?Xt.horizontalClass:Xt.verticalClass),Xt.clickable&&(_n.classList.remove(...(Xt.clickableClass||"").split(" ")),_n.removeEventListener("click",Qe))})),i.pagination.bullets&&i.pagination.bullets.forEach(_n=>_n.classList.remove(...Xt.bulletActiveClass.split(" ")))}_("changeDirection",()=>{if(!i.pagination||!i.pagination.el)return;const Xt=i.params.pagination;let{el:wn}=i.pagination;wn=(0,Qi.m)(wn),wn.forEach(_n=>{_n.classList.remove(Xt.horizontalClass,Xt.verticalClass),_n.classList.add(i.isHorizontal()?Xt.horizontalClass:Xt.verticalClass)})}),_("init",()=>{!1===i.params.pagination.enabled?pn():(Kt(),gt(),Ze())}),_("activeIndexChange",()=>{typeof i.snapIndex>"u"&&Ze()}),_("snapIndexChange",()=>{Ze()}),_("snapGridLengthChange",()=>{gt(),Ze()}),_("destroy",()=>{zt()}),_("enable disable",()=>{let{el:Xt}=i.pagination;Xt&&(Xt=(0,Qi.m)(Xt),Xt.forEach(wn=>wn.classList[i.enabled?"remove":"add"](i.params.pagination.lockClass)))}),_("lock unlock",()=>{Ze()}),_("click",(Xt,wn)=>{const _n=wn.target,ai=(0,Qi.m)(i.pagination.el);if(i.params.pagination.el&&i.params.pagination.hideOnClick&&ai&&ai.length>0&&!_n.classList.contains(i.params.pagination.bulletClass)){if(i.navigation&&(i.navigation.nextEl&&_n===i.navigation.nextEl||i.navigation.prevEl&&_n===i.navigation.prevEl))return;const Er=ai[0].classList.contains(i.params.pagination.hiddenClass);w(!0===Er?"paginationShow":"paginationHide"),ai.forEach(Ki=>Ki.classList.toggle(i.params.pagination.hiddenClass))}});const pn=()=>{i.el.classList.add(i.params.pagination.paginationDisabledClass);let{el:Xt}=i.pagination;Xt&&(Xt=(0,Qi.m)(Xt),Xt.forEach(wn=>wn.classList.add(i.params.pagination.paginationDisabledClass))),zt()};Object.assign(i.pagination,{enable:()=>{i.el.classList.remove(i.params.pagination.paginationDisabledClass);let{el:Xt}=i.pagination;Xt&&(Xt=(0,Qi.m)(Xt),Xt.forEach(wn=>wn.classList.remove(i.params.pagination.paginationDisabledClass))),Kt(),gt(),Ze()},disable:pn,render:gt,update:Ze,init:Kt,destroy:zt})},function ef(g){let{swiper:i,extendParams:d,on:_,emit:w}=g;const N=(0,ol.g)();let Ue,Qe,Ze,gt,W=!1,se=null,xe=null;function Kt(){if(!i.params.scrollbar.el||!i.scrollbar.el)return;const{scrollbar:ki,rtlTranslate:zi}=i,{dragEl:Vi,el:Dr}=ki,Ui=i.params.scrollbar;let ri=Qe,qi=(Ze-Qe)*(i.params.loop?i.progressLoop:i.progress);zi?(qi=-qi,qi>0?(ri=Qe-qi,qi=0):-qi+Qe>Ze&&(ri=Ze+qi)):qi<0?(ri=Qe+qi,qi=0):qi+Qe>Ze&&(ri=Ze-qi),i.isHorizontal()?(Vi.style.transform=`translate3d(${qi}px, 0, 0)`,Vi.style.width=`${ri}px`):(Vi.style.transform=`translate3d(0px, ${qi}px, 0)`,Vi.style.height=`${ri}px`),Ui.hide&&(clearTimeout(se),Dr.style.opacity=1,se=setTimeout(()=>{Dr.style.opacity=0,Dr.style.transitionDuration="400ms"},1e3))}function cn(){if(!i.params.scrollbar.el||!i.scrollbar.el)return;const{scrollbar:ki}=i,{dragEl:zi,el:Vi}=ki;zi.style.width="",zi.style.height="",Ze=i.isHorizontal()?Vi.offsetWidth:Vi.offsetHeight,gt=i.size/(i.virtualSize+i.params.slidesOffsetBefore-(i.params.centeredSlides?i.snapGrid[0]:0)),Qe="auto"===i.params.scrollbar.dragSize?Ze*gt:parseInt(i.params.scrollbar.dragSize,10),i.isHorizontal()?zi.style.width=`${Qe}px`:zi.style.height=`${Qe}px`,Vi.style.display=gt>=1?"none":"",i.params.scrollbar.hide&&(Vi.style.opacity=0),i.params.watchOverflow&&i.enabled&&ki.el.classList[i.isLocked?"add":"remove"](i.params.scrollbar.lockClass)}function pn(ki){return i.isHorizontal()?ki.clientX:ki.clientY}function Xt(ki){const{scrollbar:zi,rtlTranslate:Vi}=i,{el:Dr}=zi;let Ui;Ui=(pn(ki)-(0,Qi.b)(Dr)[i.isHorizontal()?"left":"top"]-(null!==Ue?Ue:Qe/2))/(Ze-Qe),Ui=Math.max(Math.min(Ui,1),0),Vi&&(Ui=1-Ui);const Kn=i.minTranslate()+(i.maxTranslate()-i.minTranslate())*Ui;i.updateProgress(Kn),i.setTranslate(Kn),i.updateActiveIndex(),i.updateSlidesClasses()}function wn(ki){const zi=i.params.scrollbar,{scrollbar:Vi,wrapperEl:Dr}=i,{el:Ui,dragEl:Kn}=Vi;W=!0,Ue=ki.target===Kn?pn(ki)-ki.target.getBoundingClientRect()[i.isHorizontal()?"left":"top"]:null,ki.preventDefault(),ki.stopPropagation(),Dr.style.transitionDuration="100ms",Kn.style.transitionDuration="100ms",Xt(ki),clearTimeout(xe),Ui.style.transitionDuration="0ms",zi.hide&&(Ui.style.opacity=1),i.params.cssMode&&(i.wrapperEl.style["scroll-snap-type"]="none"),w("scrollbarDragStart",ki)}function _n(ki){const{scrollbar:zi,wrapperEl:Vi}=i,{el:Dr,dragEl:Ui}=zi;W&&(ki.preventDefault&&ki.cancelable?ki.preventDefault():ki.returnValue=!1,Xt(ki),Vi.style.transitionDuration="0ms",Dr.style.transitionDuration="0ms",Ui.style.transitionDuration="0ms",w("scrollbarDragMove",ki))}function ai(ki){const zi=i.params.scrollbar,{scrollbar:Vi,wrapperEl:Dr}=i,{el:Ui}=Vi;W&&(W=!1,i.params.cssMode&&(i.wrapperEl.style["scroll-snap-type"]="",Dr.style.transitionDuration=""),zi.hide&&(clearTimeout(xe),xe=(0,Qi.n)(()=>{Ui.style.opacity=0,Ui.style.transitionDuration="400ms"},1e3)),w("scrollbarDragEnd",ki),zi.snapOnRelease&&i.slideToClosest())}function Er(ki){const{scrollbar:zi,params:Vi}=i,Dr=zi.el;if(!Dr)return;const Kn=!!Vi.passiveListeners&&{passive:!1,capture:!1},ri=!!Vi.passiveListeners&&{passive:!0,capture:!1};if(!Dr)return;const qi="on"===ki?"addEventListener":"removeEventListener";Dr[qi]("pointerdown",wn,Kn),N[qi]("pointermove",_n,Kn),N[qi]("pointerup",ai,ri)}function Ti(){const{scrollbar:ki,el:zi}=i;i.params.scrollbar=Rv(i,i.originalParams.scrollbar,i.params.scrollbar,{el:"swiper-scrollbar"});const Vi=i.params.scrollbar;if(!Vi.el)return;let Dr,Ui;if("string"==typeof Vi.el&&i.isElement&&(Dr=i.el.querySelector(Vi.el)),Dr||"string"!=typeof Vi.el)Dr||(Dr=Vi.el);else if(Dr=N.querySelectorAll(Vi.el),!Dr.length)return;i.params.uniqueNavElements&&"string"==typeof Vi.el&&Dr.length>1&&1===zi.querySelectorAll(Vi.el).length&&(Dr=zi.querySelector(Vi.el)),Dr.length>0&&(Dr=Dr[0]),Dr.classList.add(i.isHorizontal()?Vi.horizontalClass:Vi.verticalClass),Dr&&(Ui=Dr.querySelector(Ed(i.params.scrollbar.dragClass)),Ui||(Ui=(0,Qi.c)("div",i.params.scrollbar.dragClass),Dr.append(Ui))),Object.assign(ki,{el:Dr,dragEl:Ui}),Vi.draggable&&function Ki(){!i.params.scrollbar.el||!i.scrollbar.el||Er("on")}(),Dr&&Dr.classList[i.enabled?"remove":"add"](...(0,Qi.i)(i.params.scrollbar.lockClass))}function ci(){const ki=i.params.scrollbar,zi=i.scrollbar.el;zi&&zi.classList.remove(...(0,Qi.i)(i.isHorizontal()?ki.horizontalClass:ki.verticalClass)),function pr(){!i.params.scrollbar.el||!i.scrollbar.el||Er("off")}()}d({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),i.scrollbar={el:null,dragEl:null},_("changeDirection",()=>{if(!i.scrollbar||!i.scrollbar.el)return;const ki=i.params.scrollbar;let{el:zi}=i.scrollbar;zi=(0,Qi.m)(zi),zi.forEach(Vi=>{Vi.classList.remove(ki.horizontalClass,ki.verticalClass),Vi.classList.add(i.isHorizontal()?ki.horizontalClass:ki.verticalClass)})}),_("init",()=>{!1===i.params.scrollbar.enabled?Gr():(Ti(),cn(),Kt())}),_("update resize observerUpdate lock unlock changeDirection",()=>{cn()}),_("setTranslate",()=>{Kt()}),_("setTransition",(ki,zi)=>{!function zt(ki){!i.params.scrollbar.el||!i.scrollbar.el||(i.scrollbar.dragEl.style.transitionDuration=`${ki}ms`)}(zi)}),_("enable disable",()=>{const{el:ki}=i.scrollbar;ki&&ki.classList[i.enabled?"remove":"add"](...(0,Qi.i)(i.params.scrollbar.lockClass))}),_("destroy",()=>{ci()});const Gr=()=>{i.el.classList.add(...(0,Qi.i)(i.params.scrollbar.scrollbarDisabledClass)),i.scrollbar.el&&i.scrollbar.el.classList.add(...(0,Qi.i)(i.params.scrollbar.scrollbarDisabledClass)),ci()};Object.assign(i.scrollbar,{enable:()=>{i.el.classList.remove(...(0,Qi.i)(i.params.scrollbar.scrollbarDisabledClass)),i.scrollbar.el&&i.scrollbar.el.classList.remove(...(0,Qi.i)(i.params.scrollbar.scrollbarDisabledClass)),Ti(),cn(),Kt()},disable:Gr,updateSize:cn,setTranslate:Kt,init:Ti,destroy:ci})},function c(g){let{swiper:i,extendParams:d,on:_}=g;d({parallax:{enabled:!1}});const w="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",N=(xe,Ue)=>{const{rtl:Qe}=i,Ze=Qe?-1:1,gt=xe.getAttribute("data-swiper-parallax")||"0";let Kt=xe.getAttribute("data-swiper-parallax-x"),zt=xe.getAttribute("data-swiper-parallax-y");const cn=xe.getAttribute("data-swiper-parallax-scale"),pn=xe.getAttribute("data-swiper-parallax-opacity"),Xt=xe.getAttribute("data-swiper-parallax-rotate");if(Kt||zt?(Kt=Kt||"0",zt=zt||"0"):i.isHorizontal()?(Kt=gt,zt="0"):(zt=gt,Kt="0"),Kt=Kt.indexOf("%")>=0?parseInt(Kt,10)*Ue*Ze+"%":Kt*Ue*Ze+"px",zt=zt.indexOf("%")>=0?parseInt(zt,10)*Ue+"%":zt*Ue+"px",typeof pn<"u"&&null!==pn){const _n=pn-(pn-1)*(1-Math.abs(Ue));xe.style.opacity=_n}let wn=`translate3d(${Kt}, ${zt}, 0px)`;typeof cn<"u"&&null!==cn&&(wn+=` scale(${cn-(cn-1)*(1-Math.abs(Ue))})`),Xt&&typeof Xt<"u"&&null!==Xt&&(wn+=` rotate(${Xt*Ue*-1}deg)`),xe.style.transform=wn},W=()=>{const{el:xe,slides:Ue,progress:Qe,snapGrid:Ze}=i,Kt=(0,Qi.e)(xe,w);i.isElement&&Kt.push(...(0,Qi.e)(i.hostEl,w)),Kt.forEach(zt=>{N(zt,Qe)}),Ue.forEach((zt,cn)=>{let pn=zt.progress;i.params.slidesPerGroup>1&&"auto"!==i.params.slidesPerView&&(pn+=Math.ceil(cn/2)-Qe*(Ze.length-1)),pn=Math.min(Math.max(pn,-1),1),zt.querySelectorAll(`${w}, [data-swiper-parallax-rotate]`).forEach(Xt=>{N(Xt,pn)})})};_("beforeInit",()=>{i.params.parallax.enabled&&(i.params.watchSlidesProgress=!0,i.originalParams.watchSlidesProgress=!0)}),_("init",()=>{i.params.parallax.enabled&&W()}),_("setTranslate",()=>{i.params.parallax.enabled&&W()}),_("setTransition",(xe,Ue)=>{i.params.parallax.enabled&&function(xe){void 0===xe&&(xe=i.params.speed);const{el:Ue,hostEl:Qe}=i,Ze=[...Ue.querySelectorAll(w)];i.isElement&&Ze.push(...Qe.querySelectorAll(w)),Ze.forEach(gt=>{let Kt=parseInt(gt.getAttribute("data-swiper-parallax-duration"),10)||xe;0===xe&&(Kt=0),gt.style.transitionDuration=`${Kt}ms`})}(Ue)})},function t(g){let{swiper:i,extendParams:d,on:_,emit:w}=g;const N=(0,ol.a)();d({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),i.zoom={enabled:!1};let xe,Ue,W=1,se=!1;const Qe=[],Ze={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},gt={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},Kt={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let Ti,zt=1;function cn(){return Qe.length<2?1:Math.sqrt((Qe[1].pageX-Qe[0].pageX)**2+(Qe[1].pageY-Qe[0].pageY)**2)}function pn(){const Yi=i.params.zoom,lr=Ze.imageWrapEl.getAttribute("data-swiper-zoom")||Yi.maxRatio;return Yi.limitToOriginalSize&&Ze.imageEl&&Ze.imageEl.naturalWidth?Math.min(Ze.imageEl.naturalWidth/Ze.imageEl.offsetWidth,lr):lr}function _n(Yi){const lr=function wn(){return i.isElement?"swiper-slide":`.${i.params.slideClass}`}();return!!(Yi.target.matches(lr)||i.slides.filter(Cr=>Cr.contains(Yi.target)).length>0)}function Er(Yi){if("mouse"===Yi.pointerType&&Qe.splice(0,Qe.length),!_n(Yi))return;const lr=i.params.zoom;if(xe=!1,Ue=!1,Qe.push(Yi),!(Qe.length<2)){if(xe=!0,Ze.scaleStart=cn(),!Ze.slideEl){Ze.slideEl=Yi.target.closest(`.${i.params.slideClass}, swiper-slide`),Ze.slideEl||(Ze.slideEl=i.slides[i.activeIndex]);let Cr=Ze.slideEl.querySelector(`.${lr.containerClass}`);if(Cr&&(Cr=Cr.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),Ze.imageEl=Cr,Ze.imageWrapEl=Cr?(0,Qi.a)(Ze.imageEl,`.${lr.containerClass}`)[0]:void 0,!Ze.imageWrapEl)return void(Ze.imageEl=void 0);Ze.maxRatio=pn()}if(Ze.imageEl){const[Cr,hs]=function Xt(){if(Qe.length<2)return{x:null,y:null};const Yi=Ze.imageEl.getBoundingClientRect();return[(Qe[0].pageX+(Qe[1].pageX-Qe[0].pageX)/2-Yi.x-N.scrollX)/W,(Qe[0].pageY+(Qe[1].pageY-Qe[0].pageY)/2-Yi.y-N.scrollY)/W]}();Ze.originX=Cr,Ze.originY=hs,Ze.imageEl.style.transitionDuration="0ms"}se=!0}}function Ki(Yi){if(!_n(Yi))return;const lr=i.params.zoom,Cr=i.zoom,hs=Qe.findIndex(Wr=>Wr.pointerId===Yi.pointerId);hs>=0&&(Qe[hs]=Yi),!(Qe.length<2)&&(Ue=!0,Ze.scaleMove=cn(),Ze.imageEl&&(Cr.scale=Ze.scaleMove/Ze.scaleStart*W,Cr.scale>Ze.maxRatio&&(Cr.scale=Ze.maxRatio-1+(Cr.scale-Ze.maxRatio+1)**.5),Cr.scale<lr.minRatio&&(Cr.scale=lr.minRatio+1-(lr.minRatio-Cr.scale+1)**.5),Ze.imageEl.style.transform=`translate3d(0,0,0) scale(${Cr.scale})`))}function pr(Yi){if(!_n(Yi)||"mouse"===Yi.pointerType&&"pointerout"===Yi.type)return;const lr=i.params.zoom,Cr=i.zoom,hs=Qe.findIndex(Wr=>Wr.pointerId===Yi.pointerId);hs>=0&&Qe.splice(hs,1),xe&&Ue&&(xe=!1,Ue=!1,Ze.imageEl&&(Cr.scale=Math.max(Math.min(Cr.scale,Ze.maxRatio),lr.minRatio),Ze.imageEl.style.transitionDuration=`${i.params.speed}ms`,Ze.imageEl.style.transform=`translate3d(0,0,0) scale(${Cr.scale})`,W=Cr.scale,se=!1,Cr.scale>1&&Ze.slideEl?Ze.slideEl.classList.add(`${lr.zoomedSlideClass}`):Cr.scale<=1&&Ze.slideEl&&Ze.slideEl.classList.remove(`${lr.zoomedSlideClass}`),1===Cr.scale&&(Ze.originX=0,Ze.originY=0,Ze.slideEl=void 0)))}function ci(){i.touchEventsData.preventTouchMoveFromPointerMove=!1}function ki(Yi){if(!_n(Yi)||!function ai(Yi){const lr=`.${i.params.zoom.containerClass}`;return!!(Yi.target.matches(lr)||[...i.hostEl.querySelectorAll(lr)].filter(Cr=>Cr.contains(Yi.target)).length>0)}(Yi))return;const lr=i.zoom;if(!Ze.imageEl||!gt.isTouched||!Ze.slideEl)return;gt.isMoved||(gt.width=Ze.imageEl.offsetWidth||Ze.imageEl.clientWidth,gt.height=Ze.imageEl.offsetHeight||Ze.imageEl.clientHeight,gt.startX=(0,Qi.j)(Ze.imageWrapEl,"x")||0,gt.startY=(0,Qi.j)(Ze.imageWrapEl,"y")||0,Ze.slideWidth=Ze.slideEl.offsetWidth,Ze.slideHeight=Ze.slideEl.offsetHeight,Ze.imageWrapEl.style.transitionDuration="0ms");const Cr=gt.width*lr.scale,hs=gt.height*lr.scale;if(Cr<Ze.slideWidth&&hs<Ze.slideHeight)return void ci();if(gt.minX=Math.min(Ze.slideWidth/2-Cr/2,0),gt.maxX=-gt.minX,gt.minY=Math.min(Ze.slideHeight/2-hs/2,0),gt.maxY=-gt.minY,gt.touchesCurrent.x=Qe.length>0?Qe[0].pageX:Yi.pageX,gt.touchesCurrent.y=Qe.length>0?Qe[0].pageY:Yi.pageY,Math.max(Math.abs(gt.touchesCurrent.x-gt.touchesStart.x),Math.abs(gt.touchesCurrent.y-gt.touchesStart.y))>5&&(i.allowClick=!1),!gt.isMoved&&!se){if(i.isHorizontal()&&(Math.floor(gt.minX)===Math.floor(gt.startX)&&gt.touchesCurrent.x<gt.touchesStart.x||Math.floor(gt.maxX)===Math.floor(gt.startX)&&gt.touchesCurrent.x>gt.touchesStart.x))return gt.isTouched=!1,void ci();if(!i.isHorizontal()&&(Math.floor(gt.minY)===Math.floor(gt.startY)&&gt.touchesCurrent.y<gt.touchesStart.y||Math.floor(gt.maxY)===Math.floor(gt.startY)&&gt.touchesCurrent.y>gt.touchesStart.y))return gt.isTouched=!1,void ci()}Yi.cancelable&&Yi.preventDefault(),Yi.stopPropagation(),function mr(){clearTimeout(Ti),i.touchEventsData.preventTouchMoveFromPointerMove=!0,Ti=setTimeout(()=>{ci()})}(),gt.isMoved=!0;const Ds=(lr.scale-W)/(Ze.maxRatio-i.params.zoom.minRatio),{originX:xo,originY:xd}=Ze;gt.currentX=gt.touchesCurrent.x-gt.touchesStart.x+gt.startX+Ds*(gt.width-2*xo),gt.currentY=gt.touchesCurrent.y-gt.touchesStart.y+gt.startY+Ds*(gt.height-2*xd),gt.currentX<gt.minX&&(gt.currentX=gt.minX+1-(gt.minX-gt.currentX+1)**.8),gt.currentX>gt.maxX&&(gt.currentX=gt.maxX-1+(gt.currentX-gt.maxX+1)**.8),gt.currentY<gt.minY&&(gt.currentY=gt.minY+1-(gt.minY-gt.currentY+1)**.8),gt.currentY>gt.maxY&&(gt.currentY=gt.maxY-1+(gt.currentY-gt.maxY+1)**.8),Kt.prevPositionX||(Kt.prevPositionX=gt.touchesCurrent.x),Kt.prevPositionY||(Kt.prevPositionY=gt.touchesCurrent.y),Kt.prevTime||(Kt.prevTime=Date.now()),Kt.x=(gt.touchesCurrent.x-Kt.prevPositionX)/(Date.now()-Kt.prevTime)/2,Kt.y=(gt.touchesCurrent.y-Kt.prevPositionY)/(Date.now()-Kt.prevTime)/2,Math.abs(gt.touchesCurrent.x-Kt.prevPositionX)<2&&(Kt.x=0),Math.abs(gt.touchesCurrent.y-Kt.prevPositionY)<2&&(Kt.y=0),Kt.prevPositionX=gt.touchesCurrent.x,Kt.prevPositionY=gt.touchesCurrent.y,Kt.prevTime=Date.now(),Ze.imageWrapEl.style.transform=`translate3d(${gt.currentX}px, ${gt.currentY}px,0)`}function Vi(){const Yi=i.zoom;Ze.slideEl&&i.activeIndex!==i.slides.indexOf(Ze.slideEl)&&(Ze.imageEl&&(Ze.imageEl.style.transform="translate3d(0,0,0) scale(1)"),Ze.imageWrapEl&&(Ze.imageWrapEl.style.transform="translate3d(0,0,0)"),Ze.slideEl.classList.remove(`${i.params.zoom.zoomedSlideClass}`),Yi.scale=1,W=1,Ze.slideEl=void 0,Ze.imageEl=void 0,Ze.imageWrapEl=void 0,Ze.originX=0,Ze.originY=0)}function Dr(Yi){const lr=i.zoom,Cr=i.params.zoom;if(!Ze.slideEl){Yi&&Yi.target&&(Ze.slideEl=Yi.target.closest(`.${i.params.slideClass}, swiper-slide`)),Ze.slideEl||(Ze.slideEl=i.params.virtual&&i.params.virtual.enabled&&i.virtual?(0,Qi.e)(i.slidesEl,`.${i.params.slideActiveClass}`)[0]:i.slides[i.activeIndex]);let bm=Ze.slideEl.querySelector(`.${Cr.containerClass}`);bm&&(bm=bm.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),Ze.imageEl=bm,Ze.imageWrapEl=bm?(0,Qi.a)(Ze.imageEl,`.${Cr.containerClass}`)[0]:void 0}if(!Ze.imageEl||!Ze.imageWrapEl)return;let hs,Wr,Ds,xo,xd,cl,Ha,wd,Yo,Nv,I0,Fv,Bv,tf,ko,Vv,M0,Db;i.params.cssMode&&(i.wrapperEl.style.overflow="hidden",i.wrapperEl.style.touchAction="none"),Ze.slideEl.classList.add(`${Cr.zoomedSlideClass}`),typeof gt.touchesStart.x>"u"&&Yi?(hs=Yi.pageX,Wr=Yi.pageY):(hs=gt.touchesStart.x,Wr=gt.touchesStart.y);const R_="number"==typeof Yi?Yi:null;1===W&&R_&&(hs=void 0,Wr=void 0);const Uv=pn();lr.scale=R_||Uv,W=R_||Uv,!Yi||1===W&&R_?(Ha=0,wd=0):(M0=Ze.slideEl.offsetWidth,Db=Ze.slideEl.offsetHeight,Ds=(0,Qi.b)(Ze.slideEl).left+N.scrollX,xo=(0,Qi.b)(Ze.slideEl).top+N.scrollY,xd=Ds+M0/2-hs,cl=xo+Db/2-Wr,Yo=Ze.imageEl.offsetWidth||Ze.imageEl.clientWidth,Nv=Ze.imageEl.offsetHeight||Ze.imageEl.clientHeight,I0=Yo*lr.scale,Fv=Nv*lr.scale,Bv=Math.min(M0/2-I0/2,0),tf=Math.min(Db/2-Fv/2,0),ko=-Bv,Vv=-tf,Ha=xd*lr.scale,wd=cl*lr.scale,Ha<Bv&&(Ha=Bv),Ha>ko&&(Ha=ko),wd<tf&&(wd=tf),wd>Vv&&(wd=Vv)),R_&&1===lr.scale&&(Ze.originX=0,Ze.originY=0),Ze.imageWrapEl.style.transitionDuration="300ms",Ze.imageWrapEl.style.transform=`translate3d(${Ha}px, ${wd}px,0)`,Ze.imageEl.style.transitionDuration="300ms",Ze.imageEl.style.transform=`translate3d(0,0,0) scale(${lr.scale})`}function Ui(){const Yi=i.zoom,lr=i.params.zoom;if(!Ze.slideEl){Ze.slideEl=i.params.virtual&&i.params.virtual.enabled&&i.virtual?(0,Qi.e)(i.slidesEl,`.${i.params.slideActiveClass}`)[0]:i.slides[i.activeIndex];let Cr=Ze.slideEl.querySelector(`.${lr.containerClass}`);Cr&&(Cr=Cr.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),Ze.imageEl=Cr,Ze.imageWrapEl=Cr?(0,Qi.a)(Ze.imageEl,`.${lr.containerClass}`)[0]:void 0}!Ze.imageEl||!Ze.imageWrapEl||(i.params.cssMode&&(i.wrapperEl.style.overflow="",i.wrapperEl.style.touchAction=""),Yi.scale=1,W=1,Ze.imageWrapEl.style.transitionDuration="300ms",Ze.imageWrapEl.style.transform="translate3d(0,0,0)",Ze.imageEl.style.transitionDuration="300ms",Ze.imageEl.style.transform="translate3d(0,0,0) scale(1)",Ze.slideEl.classList.remove(`${lr.zoomedSlideClass}`),Ze.slideEl=void 0,Ze.originX=0,Ze.originY=0)}function Kn(Yi){const lr=i.zoom;lr.scale&&1!==lr.scale?Ui():Dr(Yi)}function ri(){return{passiveListener:!!i.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!i.params.passiveListeners||{passive:!1,capture:!0}}}function qi(){const Yi=i.zoom;if(Yi.enabled)return;Yi.enabled=!0;const{passiveListener:lr,activeListenerWithCapture:Cr}=ri();i.wrapperEl.addEventListener("pointerdown",Er,lr),i.wrapperEl.addEventListener("pointermove",Ki,Cr),["pointerup","pointercancel","pointerout"].forEach(hs=>{i.wrapperEl.addEventListener(hs,pr,lr)}),i.wrapperEl.addEventListener("pointermove",ki,Cr)}function Hr(){const Yi=i.zoom;if(!Yi.enabled)return;Yi.enabled=!1;const{passiveListener:lr,activeListenerWithCapture:Cr}=ri();i.wrapperEl.removeEventListener("pointerdown",Er,lr),i.wrapperEl.removeEventListener("pointermove",Ki,Cr),["pointerup","pointercancel","pointerout"].forEach(hs=>{i.wrapperEl.removeEventListener(hs,pr,lr)}),i.wrapperEl.removeEventListener("pointermove",ki,Cr)}Object.defineProperty(i.zoom,"scale",{get:()=>zt,set(Yi){zt!==Yi&&w("zoomChange",Yi,Ze.imageEl,Ze.slideEl),zt=Yi}}),_("init",()=>{i.params.zoom.enabled&&qi()}),_("destroy",()=>{Hr()}),_("touchStart",(Yi,lr)=>{i.zoom.enabled&&function Gr(Yi){if(!Ze.imageEl||gt.isTouched)return;i.device.android&&Yi.cancelable&&Yi.preventDefault(),gt.isTouched=!0;const Cr=Qe.length>0?Qe[0]:Yi;gt.touchesStart.x=Cr.pageX,gt.touchesStart.y=Cr.pageY}(lr)}),_("touchEnd",(Yi,lr)=>{i.zoom.enabled&&function zi(){const Yi=i.zoom;if(!Ze.imageEl)return;if(!gt.isTouched||!gt.isMoved)return gt.isTouched=!1,void(gt.isMoved=!1);gt.isTouched=!1,gt.isMoved=!1;let lr=300,Cr=300;const Wr=gt.currentX+Kt.x*lr,xo=gt.currentY+Kt.y*Cr;0!==Kt.x&&(lr=Math.abs((Wr-gt.currentX)/Kt.x)),0!==Kt.y&&(Cr=Math.abs((xo-gt.currentY)/Kt.y));const xd=Math.max(lr,Cr);gt.currentX=Wr,gt.currentY=xo;const Ha=gt.height*Yi.scale;gt.minX=Math.min(Ze.slideWidth/2-gt.width*Yi.scale/2,0),gt.maxX=-gt.minX,gt.minY=Math.min(Ze.slideHeight/2-Ha/2,0),gt.maxY=-gt.minY,gt.currentX=Math.max(Math.min(gt.currentX,gt.maxX),gt.minX),gt.currentY=Math.max(Math.min(gt.currentY,gt.maxY),gt.minY),Ze.imageWrapEl.style.transitionDuration=`${xd}ms`,Ze.imageWrapEl.style.transform=`translate3d(${gt.currentX}px, ${gt.currentY}px,0)`}()}),_("doubleTap",(Yi,lr)=>{!i.animating&&i.params.zoom.enabled&&i.zoom.enabled&&i.params.zoom.toggle&&Kn(lr)}),_("transitionEnd",()=>{i.zoom.enabled&&i.params.zoom.enabled&&Vi()}),_("slideChange",()=>{i.zoom.enabled&&i.params.zoom.enabled&&i.params.cssMode&&Vi()}),Object.assign(i.zoom,{enable:qi,disable:Hr,in:Dr,out:Ui,toggle:Kn})},function o(g){let{swiper:i,extendParams:d,on:_}=g;function w(Ue,Qe){const Ze=function(){let cn,pn,Xt;return(wn,_n)=>{for(pn=-1,cn=wn.length;cn-pn>1;)Xt=cn+pn>>1,wn[Xt]<=_n?pn=Xt:cn=Xt;return cn}}();let gt,Kt;return this.x=Ue,this.y=Qe,this.lastIndex=Ue.length-1,this.interpolate=function(cn){return cn?(Kt=Ze(this.x,cn),gt=Kt-1,(cn-this.x[gt])*(this.y[Kt]-this.y[gt])/(this.x[Kt]-this.x[gt])+this.y[gt]):0},this}function xe(){i.controller.control&&i.controller.spline&&(i.controller.spline=void 0,delete i.controller.spline)}d({controller:{control:void 0,inverse:!1,by:"slide"}}),i.controller={control:void 0},_("beforeInit",()=>{if(typeof window<"u"&&("string"==typeof i.params.controller.control||i.params.controller.control instanceof HTMLElement)){const Ue=document.querySelector(i.params.controller.control);if(Ue&&Ue.swiper)i.controller.control=Ue.swiper;else if(Ue){const Qe=Ze=>{i.controller.control=Ze.detail[0],i.update(),Ue.removeEventListener("init",Qe)};Ue.addEventListener("init",Qe)}}else i.controller.control=i.params.controller.control}),_("update",()=>{xe()}),_("resize",()=>{xe()}),_("observerUpdate",()=>{xe()}),_("setTranslate",(Ue,Qe,Ze)=>{!i.controller.control||i.controller.control.destroyed||i.controller.setTranslate(Qe,Ze)}),_("setTransition",(Ue,Qe,Ze)=>{!i.controller.control||i.controller.control.destroyed||i.controller.setTransition(Qe,Ze)}),Object.assign(i.controller,{setTranslate:function W(Ue,Qe){const Ze=i.controller.control;let gt,Kt;const zt=i.constructor;function cn(pn){if(pn.destroyed)return;const Xt=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(function N(Ue){i.controller.spline=i.params.loop?new w(i.slidesGrid,Ue.slidesGrid):new w(i.snapGrid,Ue.snapGrid)}(pn),Kt=-i.controller.spline.interpolate(-Xt)),(!Kt||"container"===i.params.controller.by)&&(gt=(pn.maxTranslate()-pn.minTranslate())/(i.maxTranslate()-i.minTranslate()),(Number.isNaN(gt)||!Number.isFinite(gt))&&(gt=1),Kt=(Xt-i.minTranslate())*gt+pn.minTranslate()),i.params.controller.inverse&&(Kt=pn.maxTranslate()-Kt),pn.updateProgress(Kt),pn.setTranslate(Kt,i),pn.updateActiveIndex(),pn.updateSlidesClasses()}if(Array.isArray(Ze))for(let pn=0;pn<Ze.length;pn+=1)Ze[pn]!==Qe&&Ze[pn]instanceof zt&&cn(Ze[pn]);else Ze instanceof zt&&Qe!==Ze&&cn(Ze)},setTransition:function se(Ue,Qe){const Ze=i.constructor,gt=i.controller.control;let Kt;function zt(cn){cn.destroyed||(cn.setTransition(Ue,i),0!==Ue&&(cn.transitionStart(),cn.params.autoHeight&&(0,Qi.n)(()=>{cn.updateAutoHeight()}),(0,Qi.k)(cn.wrapperEl,()=>{gt&&cn.transitionEnd()})))}if(Array.isArray(gt))for(Kt=0;Kt<gt.length;Kt+=1)gt[Kt]!==Qe&&gt[Kt]instanceof Ze&&zt(gt[Kt]);else gt instanceof Ze&&Qe!==gt&&zt(gt)}})},function h(g){let{swiper:i,extendParams:d,on:_}=g;d({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),i.a11y={clicked:!1};let N,W,w=null,se=(new Date).getTime();function xe(Kn){const ri=w;0!==ri.length&&(ri.innerHTML="",ri.innerHTML=Kn)}function Qe(Kn){(Kn=(0,Qi.m)(Kn)).forEach(ri=>{ri.setAttribute("tabIndex","0")})}function Ze(Kn){(Kn=(0,Qi.m)(Kn)).forEach(ri=>{ri.setAttribute("tabIndex","-1")})}function gt(Kn,ri){(Kn=(0,Qi.m)(Kn)).forEach(qi=>{qi.setAttribute("role",ri)})}function Kt(Kn,ri){(Kn=(0,Qi.m)(Kn)).forEach(qi=>{qi.setAttribute("aria-roledescription",ri)})}function cn(Kn,ri){(Kn=(0,Qi.m)(Kn)).forEach(qi=>{qi.setAttribute("aria-label",ri)})}function wn(Kn){(Kn=(0,Qi.m)(Kn)).forEach(ri=>{ri.setAttribute("aria-disabled",!0)})}function _n(Kn){(Kn=(0,Qi.m)(Kn)).forEach(ri=>{ri.setAttribute("aria-disabled",!1)})}function ai(Kn){if(13!==Kn.keyCode&&32!==Kn.keyCode)return;const ri=i.params.a11y,qi=Kn.target;if(!i.pagination||!i.pagination.el||qi!==i.pagination.el&&!i.pagination.el.contains(Kn.target)||Kn.target.matches(Ed(i.params.pagination.bulletClass))){if(i.navigation&&i.navigation.prevEl&&i.navigation.nextEl){const Hr=(0,Qi.m)(i.navigation.prevEl);(0,Qi.m)(i.navigation.nextEl).includes(qi)&&(i.isEnd&&!i.params.loop||i.slideNext(),xe(i.isEnd?ri.lastSlideMessage:ri.nextSlideMessage)),Hr.includes(qi)&&(i.isBeginning&&!i.params.loop||i.slidePrev(),xe(i.isBeginning?ri.firstSlideMessage:ri.prevSlideMessage))}i.pagination&&qi.matches(Ed(i.params.pagination.bulletClass))&&qi.click()}}function Ki(){return i.pagination&&i.pagination.bullets&&i.pagination.bullets.length}function pr(){return Ki()&&i.params.pagination.clickable}const ci=(Kn,ri,qi)=>{Qe(Kn),"BUTTON"!==Kn.tagName&&(gt(Kn,"button"),Kn.addEventListener("keydown",ai)),cn(Kn,qi),function zt(Kn,ri){(Kn=(0,Qi.m)(Kn)).forEach(qi=>{qi.setAttribute("aria-controls",ri)})}(Kn,ri)},mr=Kn=>{W&&W!==Kn.target&&!W.contains(Kn.target)&&(N=!0),i.a11y.clicked=!0},Gr=()=>{N=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{i.destroyed||(i.a11y.clicked=!1)})})},ki=Kn=>{se=(new Date).getTime()},zi=Kn=>{if(i.a11y.clicked||(new Date).getTime()-se<100)return;const ri=Kn.target.closest(`.${i.params.slideClass}, swiper-slide`);if(!ri||!i.slides.includes(ri))return;W=ri;const qi=i.slides.indexOf(ri)===i.activeIndex,Hr=i.params.watchSlidesProgress&&i.visibleSlides&&i.visibleSlides.includes(ri);qi||Hr||Kn.sourceCapabilities&&Kn.sourceCapabilities.firesTouchEvents||(i.isHorizontal()?i.el.scrollLeft=0:i.el.scrollTop=0,requestAnimationFrame(()=>{N||(i.slideTo(i.slides.indexOf(ri),0),N=!1)}))},Vi=()=>{const Kn=i.params.a11y;Kn.itemRoleDescriptionMessage&&Kt(i.slides,Kn.itemRoleDescriptionMessage),Kn.slideRole&&gt(i.slides,Kn.slideRole);const ri=i.slides.length;Kn.slideLabelMessage&&i.slides.forEach((qi,Hr)=>{const Yi=i.params.loop?parseInt(qi.getAttribute("data-swiper-slide-index"),10):Hr;cn(qi,Kn.slideLabelMessage.replace(/\{\{index\}\}/,Yi+1).replace(/\{\{slidesLength\}\}/,ri))})};_("beforeInit",()=>{w=(0,Qi.c)("span",i.params.a11y.notificationClass),w.setAttribute("aria-live","assertive"),w.setAttribute("aria-atomic","true")}),_("afterInit",()=>{i.params.a11y.enabled&&(()=>{const Kn=i.params.a11y;i.el.append(w);const ri=i.el;Kn.containerRoleDescriptionMessage&&Kt(ri,Kn.containerRoleDescriptionMessage),Kn.containerMessage&&cn(ri,Kn.containerMessage);const qi=i.wrapperEl,Hr=Kn.id||qi.getAttribute("id")||`swiper-wrapper-${function Ue(Kn){return void 0===Kn&&(Kn=16),"x".repeat(Kn).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,Yi=i.params.autoplay&&i.params.autoplay.enabled?"off":"polite";(function pn(Kn,ri){(Kn=(0,Qi.m)(Kn)).forEach(qi=>{qi.setAttribute("id",ri)})})(qi,Hr),function Xt(Kn,ri){(Kn=(0,Qi.m)(Kn)).forEach(qi=>{qi.setAttribute("aria-live",ri)})}(qi,Yi),Vi();let{nextEl:lr,prevEl:Cr}=i.navigation?i.navigation:{};lr=(0,Qi.m)(lr),Cr=(0,Qi.m)(Cr),lr&&lr.forEach(Wr=>ci(Wr,Hr,Kn.nextSlideMessage)),Cr&&Cr.forEach(Wr=>ci(Wr,Hr,Kn.prevSlideMessage)),pr()&&(0,Qi.m)(i.pagination.el).forEach(Ds=>{Ds.addEventListener("keydown",ai)}),(0,ol.g)().addEventListener("visibilitychange",ki),i.el.addEventListener("focus",zi,!0),i.el.addEventListener("focus",zi,!0),i.el.addEventListener("pointerdown",mr,!0),i.el.addEventListener("pointerup",Gr,!0)})()}),_("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{i.params.a11y.enabled&&Vi()}),_("fromEdge toEdge afterInit lock unlock",()=>{i.params.a11y.enabled&&function Er(){if(i.params.loop||i.params.rewind||!i.navigation)return;const{nextEl:Kn,prevEl:ri}=i.navigation;ri&&(i.isBeginning?(wn(ri),Ze(ri)):(_n(ri),Qe(ri))),Kn&&(i.isEnd?(wn(Kn),Ze(Kn)):(_n(Kn),Qe(Kn)))}()}),_("paginationUpdate",()=>{i.params.a11y.enabled&&function Ti(){const Kn=i.params.a11y;Ki()&&i.pagination.bullets.forEach(ri=>{i.params.pagination.clickable&&(Qe(ri),i.params.pagination.renderBullet||(gt(ri,"button"),cn(ri,Kn.paginationBulletMessage.replace(/\{\{index\}\}/,(0,Qi.h)(ri)+1)))),ri.matches(Ed(i.params.pagination.bulletActiveClass))?ri.setAttribute("aria-current","true"):ri.removeAttribute("aria-current")})}()}),_("destroy",()=>{i.params.a11y.enabled&&function Ui(){w&&w.remove();let{nextEl:Kn,prevEl:ri}=i.navigation?i.navigation:{};Kn=(0,Qi.m)(Kn),ri=(0,Qi.m)(ri),Kn&&Kn.forEach(Hr=>Hr.removeEventListener("keydown",ai)),ri&&ri.forEach(Hr=>Hr.removeEventListener("keydown",ai)),pr()&&(0,Qi.m)(i.pagination.el).forEach(Yi=>{Yi.removeEventListener("keydown",ai)}),(0,ol.g)().removeEventListener("visibilitychange",ki),i.el.removeEventListener("focus",zi,!0),i.el.removeEventListener("pointerdown",mr,!0),i.el.removeEventListener("pointerup",Gr,!0)}()})},function y(g){let{swiper:i,extendParams:d,on:_}=g;d({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let w=!1,N={};const W=Kt=>Kt.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),se=Kt=>{const zt=(0,ol.a)();let cn;cn=Kt?new URL(Kt):zt.location;const pn=cn.pathname.slice(1).split("/").filter(ai=>""!==ai),Xt=pn.length;return{key:pn[Xt-2],value:pn[Xt-1]}},xe=(Kt,zt)=>{const cn=(0,ol.a)();if(!w||!i.params.history.enabled)return;let pn;pn=i.params.url?new URL(i.params.url):cn.location;const Xt=i.virtual&&i.params.virtual.enabled?i.slidesEl.querySelector(`[data-swiper-slide-index="${zt}"]`):i.slides[zt];let wn=W(Xt.getAttribute("data-history"));if(i.params.history.root.length>0){let ai=i.params.history.root;"/"===ai[ai.length-1]&&(ai=ai.slice(0,ai.length-1)),wn=`${ai}/${Kt?`${Kt}/`:""}${wn}`}else pn.pathname.includes(Kt)||(wn=`${Kt?`${Kt}/`:""}${wn}`);i.params.history.keepQuery&&(wn+=pn.search);const _n=cn.history.state;_n&&_n.value===wn||(i.params.history.replaceState?cn.history.replaceState({value:wn},null,wn):cn.history.pushState({value:wn},null,wn))},Ue=(Kt,zt,cn)=>{if(zt)for(let pn=0,Xt=i.slides.length;pn<Xt;pn+=1){const wn=i.slides[pn];if(W(wn.getAttribute("data-history"))===zt){const ai=i.getSlideIndex(wn);i.slideTo(ai,Kt,cn)}}else i.slideTo(0,Kt,cn)},Qe=()=>{N=se(i.params.url),Ue(i.params.speed,N.value,!1)};_("init",()=>{i.params.history.enabled&&(()=>{const Kt=(0,ol.a)();if(i.params.history){if(!Kt.history||!Kt.history.pushState)return i.params.history.enabled=!1,void(i.params.hashNavigation.enabled=!0);if(w=!0,N=se(i.params.url),!N.key&&!N.value)return void(i.params.history.replaceState||Kt.addEventListener("popstate",Qe));Ue(0,N.value,i.params.runCallbacksOnInit),i.params.history.replaceState||Kt.addEventListener("popstate",Qe)}})()}),_("destroy",()=>{i.params.history.enabled&&(()=>{const Kt=(0,ol.a)();i.params.history.replaceState||Kt.removeEventListener("popstate",Qe)})()}),_("transitionEnd _freeModeNoMomentumRelease",()=>{w&&xe(i.params.history.key,i.activeIndex)}),_("slideChange",()=>{w&&i.params.cssMode&&xe(i.params.history.key,i.activeIndex)})},function M(g){let{swiper:i,extendParams:d,emit:_,on:w}=g,N=!1;const W=(0,ol.g)(),se=(0,ol.a)();d({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(gt,Kt){if(i.virtual&&i.params.virtual.enabled){const zt=i.slides.filter(pn=>pn.getAttribute("data-hash")===Kt)[0];return zt?parseInt(zt.getAttribute("data-swiper-slide-index"),10):0}return i.getSlideIndex((0,Qi.e)(i.slidesEl,`.${i.params.slideClass}[data-hash="${Kt}"], swiper-slide[data-hash="${Kt}"]`)[0])}}});const xe=()=>{_("hashChange");const gt=W.location.hash.replace("#",""),Kt=i.virtual&&i.params.virtual.enabled?i.slidesEl.querySelector(`[data-swiper-slide-index="${i.activeIndex}"]`):i.slides[i.activeIndex];if(gt!==(Kt?Kt.getAttribute("data-hash"):"")){const cn=i.params.hashNavigation.getSlideIndex(i,gt);if(typeof cn>"u"||Number.isNaN(cn))return;i.slideTo(cn)}},Ue=()=>{if(!N||!i.params.hashNavigation.enabled)return;const gt=i.virtual&&i.params.virtual.enabled?i.slidesEl.querySelector(`[data-swiper-slide-index="${i.activeIndex}"]`):i.slides[i.activeIndex],Kt=gt?gt.getAttribute("data-hash")||gt.getAttribute("data-history"):"";i.params.hashNavigation.replaceState&&se.history&&se.history.replaceState?(se.history.replaceState(null,null,`#${Kt}`||""),_("hashSet")):(W.location.hash=Kt||"",_("hashSet"))};w("init",()=>{i.params.hashNavigation.enabled&&(()=>{if(!i.params.hashNavigation.enabled||i.params.history&&i.params.history.enabled)return;N=!0;const gt=W.location.hash.replace("#","");if(gt){const zt=i.params.hashNavigation.getSlideIndex(i,gt);i.slideTo(zt||0,0,i.params.runCallbacksOnInit,!0)}i.params.hashNavigation.watchState&&se.addEventListener("hashchange",xe)})()}),w("destroy",()=>{i.params.hashNavigation.enabled&&i.params.hashNavigation.watchState&&se.removeEventListener("hashchange",xe)}),w("transitionEnd _freeModeNoMomentumRelease",()=>{N&&Ue()}),w("slideChange",()=>{N&&i.params.cssMode&&Ue()})},function L(g){let{swiper:i,extendParams:d,on:_,emit:w,params:N}=g;i.autoplay={running:!1,paused:!1,timeLeft:0},d({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let W,se,Qe,gt,Kt,zt,cn,pn,Xt,wn,xe=N&&N.autoplay?N.autoplay.delay:3e3,Ue=N&&N.autoplay?N.autoplay.delay:3e3,Ze=(new Date).getTime();function _n(ri){!i||i.destroyed||!i.wrapperEl||ri.target===i.wrapperEl&&(i.wrapperEl.removeEventListener("transitionend",_n),!wn&&mr())}const ai=()=>{if(i.destroyed||!i.autoplay.running)return;i.autoplay.paused?gt=!0:gt&&(Ue=Qe,gt=!1);const ri=i.autoplay.paused?Qe:Ze+Ue-(new Date).getTime();i.autoplay.timeLeft=ri,w("autoplayTimeLeft",ri,ri/xe),se=requestAnimationFrame(()=>{ai()})},Ki=ri=>{if(i.destroyed||!i.autoplay.running)return;cancelAnimationFrame(se),ai();let qi=typeof ri>"u"?i.params.autoplay.delay:ri;xe=i.params.autoplay.delay,Ue=i.params.autoplay.delay;const Hr=(()=>{let ri;return ri=i.virtual&&i.params.virtual.enabled?i.slides.filter(Hr=>Hr.classList.contains("swiper-slide-active"))[0]:i.slides[i.activeIndex],ri?parseInt(ri.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(Hr)&&Hr>0&&typeof ri>"u"&&(qi=Hr,xe=Hr,Ue=Hr),Qe=qi;const Yi=i.params.speed,lr=()=>{!i||i.destroyed||(i.params.autoplay.reverseDirection?!i.isBeginning||i.params.loop||i.params.rewind?(i.slidePrev(Yi,!0,!0),w("autoplay")):i.params.autoplay.stopOnLastSlide||(i.slideTo(i.slides.length-1,Yi,!0,!0),w("autoplay")):!i.isEnd||i.params.loop||i.params.rewind?(i.slideNext(Yi,!0,!0),w("autoplay")):i.params.autoplay.stopOnLastSlide||(i.slideTo(0,Yi,!0,!0),w("autoplay")),i.params.cssMode&&(Ze=(new Date).getTime(),requestAnimationFrame(()=>{Ki()})))};return qi>0?(clearTimeout(W),W=setTimeout(()=>{lr()},qi)):requestAnimationFrame(()=>{lr()}),qi},pr=()=>{Ze=(new Date).getTime(),i.autoplay.running=!0,Ki(),w("autoplayStart")},Ti=()=>{i.autoplay.running=!1,clearTimeout(W),cancelAnimationFrame(se),w("autoplayStop")},ci=(ri,qi)=>{if(i.destroyed||!i.autoplay.running)return;clearTimeout(W),ri||(Xt=!0);const Hr=()=>{w("autoplayPause"),i.params.autoplay.waitForTransition?i.wrapperEl.addEventListener("transitionend",_n):mr()};if(i.autoplay.paused=!0,qi)return pn&&(Qe=i.params.autoplay.delay),pn=!1,void Hr();Qe=(Qe||i.params.autoplay.delay)-((new Date).getTime()-Ze),(!(i.isEnd&&Qe<0)||i.params.loop)&&(Qe<0&&(Qe=0),Hr())},mr=()=>{i.isEnd&&Qe<0&&!i.params.loop||i.destroyed||!i.autoplay.running||(Ze=(new Date).getTime(),Xt?(Xt=!1,Ki(Qe)):Ki(),i.autoplay.paused=!1,w("autoplayResume"))},Gr=()=>{if(i.destroyed||!i.autoplay.running)return;const ri=(0,ol.g)();"hidden"===ri.visibilityState&&(Xt=!0,ci(!0)),"visible"===ri.visibilityState&&mr()},ki=ri=>{"mouse"===ri.pointerType&&(Xt=!0,wn=!0,!i.animating&&!i.autoplay.paused&&ci(!0))},zi=ri=>{"mouse"===ri.pointerType&&(wn=!1,i.autoplay.paused&&mr())};_("init",()=>{i.params.autoplay.enabled&&(i.params.autoplay.pauseOnMouseEnter&&(i.el.addEventListener("pointerenter",ki),i.el.addEventListener("pointerleave",zi)),(0,ol.g)().addEventListener("visibilitychange",Gr),pr())}),_("destroy",()=>{i.el.removeEventListener("pointerenter",ki),i.el.removeEventListener("pointerleave",zi),(0,ol.g)().removeEventListener("visibilitychange",Gr),i.autoplay.running&&Ti()}),_("_freeModeStaticRelease",()=>{(zt||Xt)&&mr()}),_("_freeModeNoMomentumRelease",()=>{i.params.autoplay.disableOnInteraction?Ti():ci(!0,!0)}),_("beforeTransitionStart",(ri,qi,Hr)=>{i.destroyed||!i.autoplay.running||(Hr||!i.params.autoplay.disableOnInteraction?ci(!0,!0):Ti())}),_("sliderFirstMove",()=>{if(!i.destroyed&&i.autoplay.running){if(i.params.autoplay.disableOnInteraction)return void Ti();Kt=!0,zt=!1,Xt=!1,cn=setTimeout(()=>{Xt=!0,zt=!0,ci(!0)},200)}}),_("touchEnd",()=>{if(!i.destroyed&&i.autoplay.running&&Kt){if(clearTimeout(cn),clearTimeout(W),i.params.autoplay.disableOnInteraction)return zt=!1,void(Kt=!1);zt&&i.params.cssMode&&mr(),zt=!1,Kt=!1}}),_("slideChange",()=>{i.destroyed||!i.autoplay.running||(pn=!0)}),Object.assign(i.autoplay,{start:pr,stop:Ti,pause:ci,resume:mr})},function K(g){let{swiper:i,extendParams:d,on:_}=g;d({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let w=!1,N=!1;function W(){const Ue=i.thumbs.swiper;if(!Ue||Ue.destroyed)return;const Qe=Ue.clickedIndex,Ze=Ue.clickedSlide;if(Ze&&Ze.classList.contains(i.params.thumbs.slideThumbActiveClass)||typeof Qe>"u"||null===Qe)return;let gt;gt=Ue.params.loop?parseInt(Ue.clickedSlide.getAttribute("data-swiper-slide-index"),10):Qe,i.params.loop?i.slideToLoop(gt):i.slideTo(gt)}function se(){const{thumbs:Ue}=i.params;if(w)return!1;w=!0;const Qe=i.constructor;if(Ue.swiper instanceof Qe)i.thumbs.swiper=Ue.swiper,Object.assign(i.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(i.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),i.thumbs.swiper.update();else if((0,Qi.l)(Ue.swiper)){const Ze=Object.assign({},Ue.swiper);Object.assign(Ze,{watchSlidesProgress:!0,slideToClickedSlide:!1}),i.thumbs.swiper=new Qe(Ze),N=!0}return i.thumbs.swiper.el.classList.add(i.params.thumbs.thumbsContainerClass),i.thumbs.swiper.on("tap",W),!0}function xe(Ue){const Qe=i.thumbs.swiper;if(!Qe||Qe.destroyed)return;const Ze="auto"===Qe.params.slidesPerView?Qe.slidesPerViewDynamic():Qe.params.slidesPerView;let gt=1;const Kt=i.params.thumbs.slideThumbActiveClass;if(i.params.slidesPerView>1&&!i.params.centeredSlides&&(gt=i.params.slidesPerView),i.params.thumbs.multipleActiveThumbs||(gt=1),gt=Math.floor(gt),Qe.slides.forEach(pn=>pn.classList.remove(Kt)),Qe.params.loop||Qe.params.virtual&&Qe.params.virtual.enabled)for(let pn=0;pn<gt;pn+=1)(0,Qi.e)(Qe.slidesEl,`[data-swiper-slide-index="${i.realIndex+pn}"]`).forEach(Xt=>{Xt.classList.add(Kt)});else for(let pn=0;pn<gt;pn+=1)Qe.slides[i.realIndex+pn]&&Qe.slides[i.realIndex+pn].classList.add(Kt);const zt=i.params.thumbs.autoScrollOffset,cn=zt&&!Qe.params.loop;if(i.realIndex!==Qe.realIndex||cn){const pn=Qe.activeIndex;let Xt,wn;if(Qe.params.loop){const _n=Qe.slides.filter(ai=>ai.getAttribute("data-swiper-slide-index")===`${i.realIndex}`)[0];Xt=Qe.slides.indexOf(_n),wn=i.activeIndex>i.previousIndex?"next":"prev"}else Xt=i.realIndex,wn=Xt>i.previousIndex?"next":"prev";cn&&(Xt+="next"===wn?zt:-1*zt),Qe.visibleSlidesIndexes&&Qe.visibleSlidesIndexes.indexOf(Xt)<0&&(Qe.params.centeredSlides&&(Xt=Xt>pn?Xt-Math.floor(Ze/2)+1:Xt+Math.floor(Ze/2)-1),Qe.slideTo(Xt,Ue?0:void 0))}}i.thumbs={swiper:null},_("beforeInit",()=>{const{thumbs:Ue}=i.params;if(Ue&&Ue.swiper)if("string"==typeof Ue.swiper||Ue.swiper instanceof HTMLElement){const Qe=(0,ol.g)(),Ze=()=>{const Kt="string"==typeof Ue.swiper?Qe.querySelector(Ue.swiper):Ue.swiper;if(Kt&&Kt.swiper)Ue.swiper=Kt.swiper,se(),xe(!0);else if(Kt){const zt=cn=>{Ue.swiper=cn.detail[0],Kt.removeEventListener("init",zt),se(),xe(!0),Ue.swiper.update(),i.update()};Kt.addEventListener("init",zt)}return Kt},gt=()=>{i.destroyed||Ze()||requestAnimationFrame(gt)};requestAnimationFrame(gt)}else se(),xe(!0)}),_("slideChange update resize observerUpdate",()=>{xe()}),_("setTransition",(Ue,Qe)=>{const Ze=i.thumbs.swiper;!Ze||Ze.destroyed||Ze.setTransition(Qe)}),_("beforeDestroy",()=>{const Ue=i.thumbs.swiper;!Ue||Ue.destroyed||N&&Ue.destroy()}),Object.assign(i.thumbs,{init:se,update:xe})},function pe(g){let{swiper:i,extendParams:d,emit:_,once:w}=g;d({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(i,{freeMode:{onTouchStart:function N(){if(i.params.cssMode)return;const xe=i.getTranslate();i.setTranslate(xe),i.setTransition(0),i.touchEventsData.velocities.length=0,i.freeMode.onTouchEnd({currentPos:i.rtl?i.translate:-i.translate})},onTouchMove:function W(){if(i.params.cssMode)return;const{touchEventsData:xe,touches:Ue}=i;0===xe.velocities.length&&xe.velocities.push({position:Ue[i.isHorizontal()?"startX":"startY"],time:xe.touchStartTime}),xe.velocities.push({position:Ue[i.isHorizontal()?"currentX":"currentY"],time:(0,Qi.d)()})},onTouchEnd:function se(xe){let{currentPos:Ue}=xe;if(i.params.cssMode)return;const{params:Qe,wrapperEl:Ze,rtlTranslate:gt,snapGrid:Kt,touchEventsData:zt}=i,pn=(0,Qi.d)()-zt.touchStartTime;if(Ue<-i.minTranslate())i.slideTo(i.activeIndex);else if(Ue>-i.maxTranslate())i.slideTo(i.slides.length<Kt.length?Kt.length-1:i.slides.length-1);else{if(Qe.freeMode.momentum){if(zt.velocities.length>1){const Ti=zt.velocities.pop(),ci=zt.velocities.pop(),Gr=Ti.time-ci.time;i.velocity=(Ti.position-ci.position)/Gr,i.velocity/=2,Math.abs(i.velocity)<Qe.freeMode.minimumVelocity&&(i.velocity=0),(Gr>150||(0,Qi.d)()-Ti.time>300)&&(i.velocity=0)}else i.velocity=0;i.velocity*=Qe.freeMode.momentumVelocityRatio,zt.velocities.length=0;let Xt=1e3*Qe.freeMode.momentumRatio,_n=i.translate+i.velocity*Xt;gt&&(_n=-_n);let Er,ai=!1;const Ki=20*Math.abs(i.velocity)*Qe.freeMode.momentumBounceRatio;let pr;if(_n<i.maxTranslate())Qe.freeMode.momentumBounce?(_n+i.maxTranslate()<-Ki&&(_n=i.maxTranslate()-Ki),Er=i.maxTranslate(),ai=!0,zt.allowMomentumBounce=!0):_n=i.maxTranslate(),Qe.loop&&Qe.centeredSlides&&(pr=!0);else if(_n>i.minTranslate())Qe.freeMode.momentumBounce?(_n-i.minTranslate()>Ki&&(_n=i.minTranslate()+Ki),Er=i.minTranslate(),ai=!0,zt.allowMomentumBounce=!0):_n=i.minTranslate(),Qe.loop&&Qe.centeredSlides&&(pr=!0);else if(Qe.freeMode.sticky){let Ti;for(let ci=0;ci<Kt.length;ci+=1)if(Kt[ci]>-_n){Ti=ci;break}_n=Math.abs(Kt[Ti]-_n)<Math.abs(Kt[Ti-1]-_n)||"next"===i.swipeDirection?Kt[Ti]:Kt[Ti-1],_n=-_n}if(pr&&w("transitionEnd",()=>{i.loopFix()}),0!==i.velocity){if(Xt=gt?Math.abs((-_n-i.translate)/i.velocity):Math.abs((_n-i.translate)/i.velocity),Qe.freeMode.sticky){const Ti=Math.abs((gt?-_n:_n)-i.translate),ci=i.slidesSizesGrid[i.activeIndex];Xt=Ti<ci?Qe.speed:Ti<2*ci?1.5*Qe.speed:2.5*Qe.speed}}else if(Qe.freeMode.sticky)return void i.slideToClosest();Qe.freeMode.momentumBounce&&ai?(i.updateProgress(Er),i.setTransition(Xt),i.setTranslate(_n),i.transitionStart(!0,i.swipeDirection),i.animating=!0,(0,Qi.k)(Ze,()=>{!i||i.destroyed||!zt.allowMomentumBounce||(_("momentumBounce"),i.setTransition(Qe.speed),setTimeout(()=>{i.setTranslate(Er),(0,Qi.k)(Ze,()=>{!i||i.destroyed||i.transitionEnd()})},0))})):i.velocity?(_("_freeModeNoMomentumRelease"),i.updateProgress(_n),i.setTransition(Xt),i.setTranslate(_n),i.transitionStart(!0,i.swipeDirection),i.animating||(i.animating=!0,(0,Qi.k)(Ze,()=>{!i||i.destroyed||i.transitionEnd()}))):i.updateProgress(_n),i.updateActiveIndex(),i.updateSlidesClasses()}else{if(Qe.freeMode.sticky)return void i.slideToClosest();Qe.freeMode&&_("_freeModeNoMomentumRelease")}(!Qe.freeMode.momentum||pn>=Qe.longSwipesMs)&&(_("_freeModeStaticRelease"),i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses())}}}})},function He(g){let w,N,W,se,{swiper:i,extendParams:d,on:_}=g;d({grid:{rows:1,fill:"column"}});const xe=()=>{let cn=i.params.spaceBetween;return"string"==typeof cn&&cn.indexOf("%")>=0?cn=parseFloat(cn.replace("%",""))/100*i.size:"string"==typeof cn&&(cn=parseFloat(cn)),cn};_("init",()=>{se=i.params.grid&&i.params.grid.rows>1}),_("update",()=>{const{params:cn,el:pn}=i,Xt=cn.grid&&cn.grid.rows>1;se&&!Xt?(pn.classList.remove(`${cn.containerModifierClass}grid`,`${cn.containerModifierClass}grid-column`),W=1,i.emitContainerClasses()):!se&&Xt&&(pn.classList.add(`${cn.containerModifierClass}grid`),"column"===cn.grid.fill&&pn.classList.add(`${cn.containerModifierClass}grid-column`),i.emitContainerClasses()),se=Xt}),i.grid={initSlides:cn=>{const{slidesPerView:pn}=i.params,{rows:Xt,fill:wn}=i.params.grid,_n=i.virtual&&i.params.virtual.enabled?i.virtual.slides.length:cn.length;W=Math.floor(_n/Xt),w=Math.floor(_n/Xt)===_n/Xt?_n:Math.ceil(_n/Xt)*Xt,"auto"!==pn&&"row"===wn&&(w=Math.max(w,pn*Xt)),N=w/Xt},unsetSlides:()=>{i.slides&&i.slides.forEach(cn=>{cn.swiperSlideGridSet&&(cn.style.height="",cn.style[i.getDirectionLabel("margin-top")]="")})},updateSlide:(cn,pn,Xt)=>{const{slidesPerGroup:wn}=i.params,_n=xe(),{rows:ai,fill:Er}=i.params.grid,Ki=i.virtual&&i.params.virtual.enabled?i.virtual.slides.length:Xt.length;let pr,Ti,ci;if("row"===Er&&wn>1){const mr=Math.floor(cn/(wn*ai)),Gr=cn-ai*wn*mr,ki=0===mr?wn:Math.min(Math.ceil((Ki-mr*ai*wn)/ai),wn);ci=Math.floor(Gr/ki),Ti=Gr-ci*ki+mr*wn,pr=Ti+ci*w/ai,pn.style.order=pr}else"column"===Er?(Ti=Math.floor(cn/ai),ci=cn-Ti*ai,(Ti>W||Ti===W&&ci===ai-1)&&(ci+=1,ci>=ai&&(ci=0,Ti+=1))):(ci=Math.floor(cn/N),Ti=cn-ci*N);pn.row=ci,pn.column=Ti,pn.style.height=`calc((100% - ${(ai-1)*_n}px) / ${ai})`,pn.style[i.getDirectionLabel("margin-top")]=0!==ci?_n&&`${_n}px`:"",pn.swiperSlideGridSet=!0},updateWrapperSize:(cn,pn)=>{const{centeredSlides:Xt,roundLengths:wn}=i.params,_n=xe(),{rows:ai}=i.params.grid;if(i.virtualSize=(cn+_n)*w,i.virtualSize=Math.ceil(i.virtualSize/ai)-_n,i.params.cssMode||(i.wrapperEl.style[i.getDirectionLabel("width")]=`${i.virtualSize+_n}px`),Xt){const Er=[];for(let Ki=0;Ki<pn.length;Ki+=1){let pr=pn[Ki];wn&&(pr=Math.floor(pr)),pn[Ki]<i.virtualSize+pn[0]&&Er.push(pr)}pn.splice(0,pn.length),pn.push(...Er)}}}},function Fn(g){let{swiper:i}=g;Object.assign(i,{appendSlide:Je.bind(i),prependSlide:St.bind(i),addSlide:rn.bind(i),removeSlide:Bt.bind(i),removeAllSlides:Vn.bind(i)})},function Bi(g){let{swiper:i,extendParams:d,on:_}=g;d({fadeEffect:{crossFade:!1}}),Bn({effect:"fade",swiper:i,on:_,setTranslate:()=>{const{slides:W}=i;for(let xe=0;xe<W.length;xe+=1){const Ue=i.slides[xe];let Ze=-Ue.swiperSlideOffset;i.params.virtualTranslate||(Ze-=i.translate);let gt=0;i.isHorizontal()||(gt=Ze,Ze=0);const Kt=i.params.fadeEffect.crossFade?Math.max(1-Math.abs(Ue.progress),0):1+Math.min(Math.max(Ue.progress,-1),0),zt=Gn(0,Ue);zt.style.opacity=Kt,zt.style.transform=`translate3d(${Ze}px, ${gt}px, 0px)`}},setTransition:W=>{const se=i.slides.map(xe=>(0,Qi.g)(xe));se.forEach(xe=>{xe.style.transitionDuration=`${W}ms`}),si({swiper:i,duration:W,transformElements:se,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!i.params.cssMode})})},function wi(g){let{swiper:i,extendParams:d,on:_}=g;d({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const w=(xe,Ue,Qe)=>{let Ze=xe.querySelector(Qe?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),gt=xe.querySelector(Qe?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");Ze||(Ze=(0,Qi.c)("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(Qe?"left":"top")).split(" ")),xe.append(Ze)),gt||(gt=(0,Qi.c)("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(Qe?"right":"bottom")).split(" ")),xe.append(gt)),Ze&&(Ze.style.opacity=Math.max(-Ue,0)),gt&&(gt.style.opacity=Math.max(Ue,0))};Bn({effect:"cube",swiper:i,on:_,setTranslate:()=>{const{el:xe,wrapperEl:Ue,slides:Qe,width:Ze,height:gt,rtlTranslate:Kt,size:zt,browser:cn}=i,pn=i.params.cubeEffect,Xt=i.isHorizontal(),wn=i.virtual&&i.params.virtual.enabled;let ai,_n=0;pn.shadow&&(Xt?(ai=i.wrapperEl.querySelector(".swiper-cube-shadow"),ai||(ai=(0,Qi.c)("div","swiper-cube-shadow"),i.wrapperEl.append(ai)),ai.style.height=`${Ze}px`):(ai=xe.querySelector(".swiper-cube-shadow"),ai||(ai=(0,Qi.c)("div","swiper-cube-shadow"),xe.append(ai))));for(let Ki=0;Ki<Qe.length;Ki+=1){const pr=Qe[Ki];let Ti=Ki;wn&&(Ti=parseInt(pr.getAttribute("data-swiper-slide-index"),10));let ci=90*Ti,mr=Math.floor(ci/360);Kt&&(ci=-ci,mr=Math.floor(-ci/360));const Gr=Math.max(Math.min(pr.progress,1),-1);let ki=0,zi=0,Vi=0;Ti%4==0?(ki=4*-mr*zt,Vi=0):(Ti-1)%4==0?(ki=0,Vi=4*-mr*zt):(Ti-2)%4==0?(ki=zt+4*mr*zt,Vi=zt):(Ti-3)%4==0&&(ki=-zt,Vi=3*zt+4*zt*mr),Kt&&(ki=-ki),Xt||(zi=ki,ki=0);const Dr=`rotateX(${Xt?0:-ci}deg) rotateY(${Xt?ci:0}deg) translate3d(${ki}px, ${zi}px, ${Vi}px)`;Gr<=1&&Gr>-1&&(_n=90*Ti+90*Gr,Kt&&(_n=90*-Ti-90*Gr),i.browser&&i.browser.need3dFix&&Math.abs(_n)/90%2==1&&(_n+=.001)),pr.style.transform=Dr,pn.slideShadows&&w(pr,Gr,Xt)}if(Ue.style.transformOrigin=`50% 50% -${zt/2}px`,Ue.style["-webkit-transform-origin"]=`50% 50% -${zt/2}px`,pn.shadow)if(Xt)ai.style.transform=`translate3d(0px, ${Ze/2+pn.shadowOffset}px, ${-Ze/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${pn.shadowScale})`;else{const Ki=Math.abs(_n)-90*Math.floor(Math.abs(_n)/90),pr=1.5-(Math.sin(2*Ki*Math.PI/360)/2+Math.cos(2*Ki*Math.PI/360)/2),ci=pn.shadowScale/pr;ai.style.transform=`scale3d(${pn.shadowScale}, 1, ${ci}) translate3d(0px, ${gt/2+pn.shadowOffset}px, ${-gt/2/ci}px) rotateX(-89.99deg)`}const Er=(cn.isSafari||cn.isWebView)&&cn.needPerspectiveFix?-zt/2:0;Ue.style.transform=`translate3d(0px,0,${Er}px) rotateX(${i.isHorizontal()?0:_n}deg) rotateY(${i.isHorizontal()?-_n:0}deg)`,Ue.style.setProperty("--swiper-cube-translate-z",`${Er}px`)},setTransition:xe=>{const{el:Ue,slides:Qe}=i;if(Qe.forEach(Ze=>{Ze.style.transitionDuration=`${xe}ms`,Ze.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(gt=>{gt.style.transitionDuration=`${xe}ms`})}),i.params.cubeEffect.shadow&&!i.isHorizontal()){const Ze=Ue.querySelector(".swiper-cube-shadow");Ze&&(Ze.style.transitionDuration=`${xe}ms`)}},recreateShadows:()=>{const xe=i.isHorizontal();i.slides.forEach(Ue=>{const Qe=Math.max(Math.min(Ue.progress,1),-1);w(Ue,Qe,xe)})},getEffectParams:()=>i.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function Sr(g){let{swiper:i,extendParams:d,on:_}=g;d({flipEffect:{slideShadows:!0,limitRotation:!0}});const w=(xe,Ue)=>{let Qe=i.isHorizontal()?xe.querySelector(".swiper-slide-shadow-left"):xe.querySelector(".swiper-slide-shadow-top"),Ze=i.isHorizontal()?xe.querySelector(".swiper-slide-shadow-right"):xe.querySelector(".swiper-slide-shadow-bottom");Qe||(Qe=Jn("flip",xe,i.isHorizontal()?"left":"top")),Ze||(Ze=Jn("flip",xe,i.isHorizontal()?"right":"bottom")),Qe&&(Qe.style.opacity=Math.max(-Ue,0)),Ze&&(Ze.style.opacity=Math.max(Ue,0))};Bn({effect:"flip",swiper:i,on:_,setTranslate:()=>{const{slides:xe,rtlTranslate:Ue}=i,Qe=i.params.flipEffect;for(let Ze=0;Ze<xe.length;Ze+=1){const gt=xe[Ze];let Kt=gt.progress;i.params.flipEffect.limitRotation&&(Kt=Math.max(Math.min(gt.progress,1),-1));const zt=gt.swiperSlideOffset;let pn=-180*Kt,Xt=0,wn=i.params.cssMode?-zt-i.translate:-zt,_n=0;i.isHorizontal()?Ue&&(pn=-pn):(_n=wn,wn=0,Xt=-pn,pn=0),i.browser&&i.browser.need3dFix&&(Math.abs(pn)/90%2==1&&(pn+=.001),Math.abs(Xt)/90%2==1&&(Xt+=.001)),gt.style.zIndex=-Math.abs(Math.round(Kt))+xe.length,Qe.slideShadows&&w(gt,Kt);const ai=`translate3d(${wn}px, ${_n}px, 0px) rotateX(${Xt}deg) rotateY(${pn}deg)`;Gn(0,gt).style.transform=ai}},setTransition:xe=>{const Ue=i.slides.map(Qe=>(0,Qi.g)(Qe));Ue.forEach(Qe=>{Qe.style.transitionDuration=`${xe}ms`,Qe.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(Ze=>{Ze.style.transitionDuration=`${xe}ms`})}),si({swiper:i,duration:xe,transformElements:Ue})},recreateShadows:()=>{i.slides.forEach(xe=>{let Ue=xe.progress;i.params.flipEffect.limitRotation&&(Ue=Math.max(Math.min(xe.progress,1),-1)),w(xe,Ue)})},getEffectParams:()=>i.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!i.params.cssMode})})},function Yr(g){let{swiper:i,extendParams:d,on:_}=g;d({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),Bn({effect:"coverflow",swiper:i,on:_,setTranslate:()=>{const{width:W,height:se,slides:xe,slidesSizesGrid:Ue}=i,Qe=i.params.coverflowEffect,Ze=i.isHorizontal(),gt=i.translate,Kt=Ze?W/2-gt:se/2-gt,zt=Ze?Qe.rotate:-Qe.rotate,cn=Qe.depth;for(let pn=0,Xt=xe.length;pn<Xt;pn+=1){const wn=xe[pn],_n=Ue[pn],Er=(Kt-wn.swiperSlideOffset-_n/2)/_n,Ki="function"==typeof Qe.modifier?Qe.modifier(Er):Er*Qe.modifier;let pr=Ze?zt*Ki:0,Ti=Ze?0:zt*Ki,ci=-cn*Math.abs(Ki),mr=Qe.stretch;"string"==typeof mr&&-1!==mr.indexOf("%")&&(mr=parseFloat(Qe.stretch)/100*_n);let Gr=Ze?0:mr*Ki,ki=Ze?mr*Ki:0,zi=1-(1-Qe.scale)*Math.abs(Ki);Math.abs(ki)<.001&&(ki=0),Math.abs(Gr)<.001&&(Gr=0),Math.abs(ci)<.001&&(ci=0),Math.abs(pr)<.001&&(pr=0),Math.abs(Ti)<.001&&(Ti=0),Math.abs(zi)<.001&&(zi=0),i.browser&&i.browser.need3dFix&&(Math.abs(pr)/90%2==1&&(pr+=.001),Math.abs(Ti)/90%2==1&&(Ti+=.001));const Vi=`translate3d(${ki}px,${Gr}px,${ci}px)  rotateX(${Ti}deg) rotateY(${pr}deg) scale(${zi})`;if(Gn(0,wn).style.transform=Vi,wn.style.zIndex=1-Math.abs(Math.round(Ki)),Qe.slideShadows){let Ui=wn.querySelector(Ze?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),Kn=wn.querySelector(Ze?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");Ui||(Ui=Jn("coverflow",wn,Ze?"left":"top")),Kn||(Kn=Jn("coverflow",wn,Ze?"right":"bottom")),Ui&&(Ui.style.opacity=Ki>0?Ki:0),Kn&&(Kn.style.opacity=-Ki>0?-Ki:0)}}},setTransition:W=>{i.slides.map(xe=>(0,Qi.g)(xe)).forEach(xe=>{xe.style.transitionDuration=`${W}ms`,xe.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(Ue=>{Ue.style.transitionDuration=`${W}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function Ws(g){let{swiper:i,extendParams:d,on:_}=g;d({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const w=se=>"string"==typeof se?se:`${se}px`;Bn({effect:"creative",swiper:i,on:_,setTranslate:()=>{const{slides:se,wrapperEl:xe,slidesSizesGrid:Ue}=i,Qe=i.params.creativeEffect,{progressMultiplier:Ze}=Qe,gt=i.params.centeredSlides;gt&&(xe.style.transform=`translateX(calc(50% - ${Ue[0]/2-i.params.slidesOffsetBefore||0}px))`);for(let Kt=0;Kt<se.length;Kt+=1){const zt=se[Kt],cn=zt.progress,pn=Math.min(Math.max(zt.progress,-Qe.limitProgress),Qe.limitProgress);let Xt=pn;gt||(Xt=Math.min(Math.max(zt.originalProgress,-Qe.limitProgress),Qe.limitProgress));const wn=zt.swiperSlideOffset,_n=[i.params.cssMode?-wn-i.translate:-wn,0,0],ai=[0,0,0];let Er=!1;i.isHorizontal()||(_n[1]=_n[0],_n[0]=0);let Ki={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};pn<0?(Ki=Qe.next,Er=!0):pn>0&&(Ki=Qe.prev,Er=!0),_n.forEach((zi,Vi)=>{_n[Vi]=`calc(${zi}px + (${w(Ki.translate[Vi])} * ${Math.abs(pn*Ze)}))`}),ai.forEach((zi,Vi)=>{let Dr=Ki.rotate[Vi]*Math.abs(pn*Ze);i.browser&&i.browser.need3dFix&&Math.abs(Dr)/90%2==1&&(Dr+=.001),ai[Vi]=Dr}),zt.style.zIndex=-Math.abs(Math.round(cn))+se.length;const pr=_n.join(", "),mr=Xt<0?1+(1-Ki.opacity)*Xt*Ze:1-(1-Ki.opacity)*Xt*Ze,Gr=`translate3d(${pr}) rotateX(${ai[0]}deg) rotateY(${ai[1]}deg) rotateZ(${ai[2]}deg) ${Xt<0?`scale(${1+(1-Ki.scale)*Xt*Ze})`:`scale(${1-(1-Ki.scale)*Xt*Ze})`}`;if(Er&&Ki.shadow||!Er){let zi=zt.querySelector(".swiper-slide-shadow");!zi&&Ki.shadow&&(zi=Jn("creative",zt)),zi&&(zi.style.opacity=Math.min(Math.max(Math.abs(Qe.shadowPerProgress?pn*(1/Qe.limitProgress):pn),0),1))}const ki=Gn(0,zt);ki.style.transform=Gr,ki.style.opacity=mr,Ki.origin&&(ki.style.transformOrigin=Ki.origin)}},setTransition:se=>{const xe=i.slides.map(Ue=>(0,Qi.g)(Ue));xe.forEach(Ue=>{Ue.style.transitionDuration=`${se}ms`,Ue.querySelectorAll(".swiper-slide-shadow").forEach(Qe=>{Qe.style.transitionDuration=`${se}ms`})}),si({swiper:i,duration:se,transformElements:xe,allSlides:!0})},perspective:()=>i.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!i.params.cssMode})})},function xs(g){let{swiper:i,extendParams:d,on:_}=g;d({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Bn({effect:"cards",swiper:i,on:_,setTranslate:()=>{const{slides:W,activeIndex:se,rtlTranslate:xe}=i,Ue=i.params.cardsEffect,{startTranslate:Qe,isTouched:Ze}=i.touchEventsData,gt=xe?-i.translate:i.translate;for(let Kt=0;Kt<W.length;Kt+=1){const zt=W[Kt],cn=zt.progress,pn=Math.min(Math.max(cn,-4),4);let Xt=zt.swiperSlideOffset;i.params.centeredSlides&&!i.params.cssMode&&(i.wrapperEl.style.transform=`translateX(${i.minTranslate()}px)`),i.params.centeredSlides&&i.params.cssMode&&(Xt-=W[0].swiperSlideOffset);let wn=i.params.cssMode?-Xt-i.translate:-Xt,_n=0;const ai=-100*Math.abs(pn);let Er=1,Ki=-Ue.perSlideRotate*pn,pr=Ue.perSlideOffset-.75*Math.abs(pn);const Ti=i.virtual&&i.params.virtual.enabled?i.virtual.from+Kt:Kt;if((Ti===se||Ti===se-1)&&pn>0&&pn<1&&(Ze||i.params.cssMode)&&gt<Qe||(Ti===se||Ti===se+1)&&pn<0&&pn>-1&&(Ze||i.params.cssMode)&&gt>Qe){const Vi=(1-Math.abs((Math.abs(pn)-.5)/.5))**.5;Ki+=-28*pn*Vi,Er+=-.5*Vi,pr+=96*Vi,_n=-25*Vi*Math.abs(pn)+"%"}if(wn=pn<0?`calc(${wn}px ${xe?"-":"+"} (${pr*Math.abs(pn)}%))`:pn>0?`calc(${wn}px ${xe?"-":"+"} (-${pr*Math.abs(pn)}%))`:`${wn}px`,!i.isHorizontal()){const Vi=_n;_n=wn,wn=Vi}const ki=`\n        translate3d(${wn}, ${_n}, ${ai}px)\n        rotateZ(${Ue.rotate?xe?-Ki:Ki:0}deg)\n        scale(${pn<0?""+(1+(1-Er)*pn):""+(1-(1-Er)*pn)})\n      `;if(Ue.slideShadows){let Vi=zt.querySelector(".swiper-slide-shadow");Vi||(Vi=Jn("cards",zt)),Vi&&(Vi.style.opacity=Math.min(Math.max((Math.abs(pn)-.5)/.5,0),1))}zt.style.zIndex=-Math.abs(Math.round(cn))+W.length,Gn(0,zt).style.transform=ki}},setTransition:W=>{const se=i.slides.map(xe=>(0,Qi.g)(xe));se.forEach(xe=>{xe.style.transitionDuration=`${W}ms`,xe.querySelectorAll(".swiper-slide-shadow").forEach(Ue=>{Ue.style.transitionDuration=`${W}ms`})}),si({swiper:i,duration:W,transformElements:se})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!i.params.cssMode})})}]);const Ks=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ys(g){return"object"==typeof g&&null!==g&&g.constructor&&"Object"===Object.prototype.toString.call(g).slice(8,-1)&&!g.__swiper__}function zr(g,i){const d=["__proto__","constructor","prototype"];Object.keys(i).filter(_=>d.indexOf(_)<0).forEach(_=>{typeof g[_]>"u"?g[_]=i[_]:Ys(i[_])&&Ys(g[_])&&Object.keys(i[_]).length>0?i[_].__swiper__?g[_]=i[_]:zr(g[_],i[_]):g[_]=i[_]})}function Rc(g){return void 0===g&&(g=""),g.replace(/-[a-z]/g,i=>i.toUpperCase().replace("-",""))}const Lc=g=>{if(parseFloat(g)===Number(g))return Number(g);if("true"===g||""===g)return!0;if("false"===g)return!1;if("null"===g)return null;if("undefined"!==g){if("string"==typeof g&&g.includes("{")&&g.includes("}")&&g.includes('"')){let i;try{i=JSON.parse(g)}catch{i=g}return i}return g}},vm=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function iu(g,i,d){const _={},w={};zr(_,vg.d);const N=[...Ks,"on"],W=N.map(xe=>xe.replace(/_/,""));N.forEach(xe=>{xe=xe.replace("_",""),typeof g[xe]<"u"&&(w[xe]=g[xe])});const se=[...g.attributes];return"string"==typeof i&&typeof d<"u"&&se.push({name:i,value:Ys(d)?{...d}:d}),se.forEach(xe=>{const Ue=vm.filter(Qe=>0===xe.name.indexOf(`${Qe}-`))[0];if(Ue){const Qe=Rc(Ue),Ze=Rc(xe.name.split(`${Ue}-`)[1]);typeof w[Qe]>"u"&&(w[Qe]={}),!0===w[Qe]&&(w[Qe]={enabled:!0}),w[Qe][Ze]=Lc(xe.value)}else{const Qe=Rc(xe.name);if(!W.includes(Qe))return;const Ze=Lc(xe.value);w[Qe]&&vm.includes(xe.name)&&!Ys(Ze)?(w[Qe].constructor!==Object&&(w[Qe]={}),w[Qe].enabled=!!Ze):w[Qe]=Ze}}),zr(_,w),_.navigation?_.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...!0!==_.navigation?_.navigation:{}}:!1===_.navigation&&delete _.navigation,_.scrollbar?_.scrollbar={el:".swiper-scrollbar",...!0!==_.scrollbar?_.scrollbar:{}}:!1===_.scrollbar&&delete _.scrollbar,_.pagination?_.pagination={el:".swiper-pagination",...!0!==_.pagination?_.pagination:{}}:!1===_.pagination&&delete _.pagination,{params:_,passedParams:w}}const xb=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",D0=typeof window>"u"||typeof HTMLElement>"u"?class O_{}:HTMLElement,Vf='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',Cb=(g,i)=>{if(typeof CSSStyleSheet<"u"&&g.adoptedStyleSheets){const d=new CSSStyleSheet;d.replaceSync(i),g.adoptedStyleSheets=[d]}else{const d=document.createElement("style");d.rel="stylesheet",d.textContent=i,g.appendChild(d)}};class Tb extends D0{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return Vf}static get prevButtonSvg(){return Vf.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[xb,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const i=this.slideSlots||0,d=[...this.querySelectorAll("[slot^=slide-]")].map(_=>parseInt(_.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=d.length?Math.max(...d)+1:0,this.rendered)if(this.slideSlots>i)for(let _=i;_<this.slideSlots;_+=1){const w=document.createElement("swiper-slide");w.setAttribute("part",`slide slide-${_+1}`);const N=document.createElement("slot");N.setAttribute("name",`slide-${_+1}`),w.appendChild(N),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(w)}else if(this.slideSlots<i){const _=this.swiper.slides;for(let w=_.length-1;w>=0;w-=1)w>this.slideSlots&&_[w].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let i=this.cssStyles();this.slideSlots>0&&(i=i.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),i.length&&Cb(this.shadowRoot,i),this.cssLinks().forEach(_=>{if(this.shadowRoot.querySelector(`link[href="${_}"]`))return;const N=document.createElement("link");N.rel="stylesheet",N.href=_,this.shadowRoot.appendChild(N)});const d=document.createElement("div");d.classList.add("swiper"),d.part="container",d.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((_,w)=>`\n        <swiper-slide part="slide slide-${w}">\n          <slot name="slide-${w}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function lo(g){return void 0===g&&(g={}),g.navigation&&typeof g.navigation.nextEl>"u"&&typeof g.navigation.prevEl>"u"}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function pc(g){return void 0===g&&(g={}),g.pagination&&typeof g.pagination.el>"u"}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function _o(g){return void 0===g&&(g={}),g.scrollbar&&typeof g.scrollbar.el>"u"}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(d),this.rendered=!0}initialize(){var i=this;if(this.initialized)return;this.initialized=!0;const{params:d,passedParams:_}=iu(this);this.swiperParams=d,this.passedParams=_,delete this.swiperParams.init,this.render(),this.swiper=new vg.S(this.shadowRoot.querySelector(".swiper"),{...d.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0},...d,touchEventsTarget:"container",onAny:function(w){"observerUpdate"===w&&i.calcSlideSlots();const N=d.eventsPrefix?`${d.eventsPrefix}${w.toLowerCase()}`:w.toLowerCase();for(var W=arguments.length,se=new Array(W>1?W-1:0),xe=1;xe<W;xe++)se[xe-1]=arguments[xe];const Ue=new CustomEvent(N,{detail:se,bubbles:"hashChange"!==w,cancelable:!0});i.dispatchEvent(Ue)}})}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(i,d){const{params:_,passedParams:w}=iu(this,i,d);this.passedParams=w,this.swiperParams=_,(!this.swiper||this.swiper.params[i]!==d)&&function ll(g){let{swiper:i,slides:d,passedParams:_,changedParams:w,nextEl:N,prevEl:W,scrollbarEl:se,paginationEl:xe}=g;const Ue=w.filter(ci=>"children"!==ci&&"direction"!==ci&&"wrapperClass"!==ci),{params:Qe,pagination:Ze,navigation:gt,scrollbar:Kt,virtual:zt,thumbs:cn}=i;let pn,Xt,wn,_n,ai,Er,Ki,pr;w.includes("thumbs")&&_.thumbs&&_.thumbs.swiper&&Qe.thumbs&&!Qe.thumbs.swiper&&(pn=!0),w.includes("controller")&&_.controller&&_.controller.control&&Qe.controller&&!Qe.controller.control&&(Xt=!0),w.includes("pagination")&&_.pagination&&(_.pagination.el||xe)&&(Qe.pagination||!1===Qe.pagination)&&Ze&&!Ze.el&&(wn=!0),w.includes("scrollbar")&&_.scrollbar&&(_.scrollbar.el||se)&&(Qe.scrollbar||!1===Qe.scrollbar)&&Kt&&!Kt.el&&(_n=!0),w.includes("navigation")&&_.navigation&&(_.navigation.prevEl||W)&&(_.navigation.nextEl||N)&&(Qe.navigation||!1===Qe.navigation)&&gt&&!gt.prevEl&&!gt.nextEl&&(ai=!0);const Ti=ci=>{i[ci]&&(i[ci].destroy(),"navigation"===ci?(i.isElement&&(i[ci].prevEl.remove(),i[ci].nextEl.remove()),Qe[ci].prevEl=void 0,Qe[ci].nextEl=void 0,i[ci].prevEl=void 0,i[ci].nextEl=void 0):(i.isElement&&i[ci].el.remove(),Qe[ci].el=void 0,i[ci].el=void 0))};w.includes("loop")&&i.isElement&&(Qe.loop&&!_.loop?Er=!0:!Qe.loop&&_.loop?Ki=!0:pr=!0),Ue.forEach(ci=>{if(Ys(Qe[ci])&&Ys(_[ci]))Object.assign(Qe[ci],_[ci]),("navigation"===ci||"pagination"===ci||"scrollbar"===ci)&&"enabled"in _[ci]&&!_[ci].enabled&&Ti(ci);else{const mr=_[ci];!0!==mr&&!1!==mr||"navigation"!==ci&&"pagination"!==ci&&"scrollbar"!==ci?Qe[ci]=_[ci]:!1===mr&&Ti(ci)}}),Ue.includes("controller")&&!Xt&&i.controller&&i.controller.control&&Qe.controller&&Qe.controller.control&&(i.controller.control=Qe.controller.control),w.includes("children")&&d&&zt&&Qe.virtual.enabled?(zt.slides=d,zt.update(!0)):w.includes("virtual")&&zt&&Qe.virtual.enabled&&(d&&(zt.slides=d),zt.update(!0)),w.includes("children")&&d&&Qe.loop&&(pr=!0),pn&&cn.init()&&cn.update(!0),Xt&&(i.controller.control=Qe.controller.control),wn&&(i.isElement&&(!xe||"string"==typeof xe)&&(xe=document.createElement("div"),xe.classList.add("swiper-pagination"),xe.part.add("pagination"),i.el.appendChild(xe)),xe&&(Qe.pagination.el=xe),Ze.init(),Ze.render(),Ze.update()),_n&&(i.isElement&&(!se||"string"==typeof se)&&(se=document.createElement("div"),se.classList.add("swiper-scrollbar"),se.part.add("scrollbar"),i.el.appendChild(se)),se&&(Qe.scrollbar.el=se),Kt.init(),Kt.updateSize(),Kt.setTranslate()),ai&&(i.isElement&&((!N||"string"==typeof N)&&(N=document.createElement("div"),N.classList.add("swiper-button-next"),N.innerHTML=i.hostEl.constructor.nextButtonSvg,N.part.add("button-next"),i.el.appendChild(N)),(!W||"string"==typeof W)&&(W=document.createElement("div"),W.classList.add("swiper-button-prev"),W.innerHTML=i.hostEl.constructor.prevButtonSvg,W.part.add("button-prev"),i.el.appendChild(W))),N&&(Qe.navigation.nextEl=N),W&&(Qe.navigation.prevEl=W),gt.init(),gt.update()),w.includes("allowSlideNext")&&(i.allowSlideNext=_.allowSlideNext),w.includes("allowSlidePrev")&&(i.allowSlidePrev=_.allowSlidePrev),w.includes("direction")&&i.changeDirection(_.direction,!1),(Er||pr)&&i.loopDestroy(),(Ki||pr)&&i.loopCreate(),i.update()}({swiper:this.swiper,passedParams:this.passedParams,changedParams:[Rc(i)],..."navigation"===i&&w[i]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},..."pagination"===i&&w[i]?{paginationEl:".swiper-pagination"}:{},..."scrollbar"===i&&w[i]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(i,d,_){this.initialized&&("true"===d&&null===_&&(_=!1),this.updateSwiperOnPropChange(i,_))}static get observedAttributes(){return Ks.filter(d=>d.includes("_")).map(d=>d.replace(/[A-Z]/g,_=>`-${_}`).replace("_","").toLowerCase())}}Ks.forEach(g=>{"init"!==g&&(g=g.replace("_",""),Object.defineProperty(Tb.prototype,g,{configurable:!0,get(){return(this.passedParams||{})[g]},set(i){this.passedParams||(this.passedParams={}),this.passedParams[g]=i,this.initialized&&this.updateSwiperOnPropChange(g,i)}}))});typeof window<"u"&&(window.SwiperElementRegisterParams=g=>{Ks.push(...g)}),typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",Tb),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class P_ extends D0{constructor(){super(),this.attachShadow({mode:"open"})}render(){const i=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(Cb(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),i){const d=document.createElement("div");d.classList.add("swiper-lazy-preloader"),d.part.add("preloader"),this.shadowRoot.appendChild(d)}}initialize(){this.render()}connectedCallback(){this.initialize()}})),pt.c.production&&(0,m.SmG)(),p.sG().bootstrapModule(Eb).catch(g=>console.error(g))},3188:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(8891),E(8855),E(4147),E(2414),function(){var m=p,F=m.lib.BlockCipher,x=m.algo,ce=[],ne=[],q=[],z=[],O=[],I=[],k=[],A=[],H=[],Q=[];!function(){for(var me=[],Ne=0;Ne<256;Ne++)me[Ne]=Ne<128?Ne<<1:Ne<<1^283;var Be=0,Ve=0;for(Ne=0;Ne<256;Ne++){var Le=Ve^Ve<<1^Ve<<2^Ve<<3^Ve<<4;ce[Be]=Le=Le>>>8^255&Le^99,ne[Le]=Be;var fe,J=me[Be],ae=me[J],de=me[ae];q[Be]=(fe=257*me[Le]^16843008*Le)<<24|fe>>>8,z[Be]=fe<<16|fe>>>16,O[Be]=fe<<8|fe>>>24,I[Be]=fe,k[Le]=(fe=16843009*de^65537*ae^257*J^16843008*Be)<<24|fe>>>8,A[Le]=fe<<16|fe>>>16,H[Le]=fe<<8|fe>>>24,Q[Le]=fe,Be?(Be=J^me[me[me[de^J]]],Ve^=me[me[Ve]]):Be=Ve=1}}();var ee=[0,1,2,4,8,16,32,64,128,27,54],be=x.AES=F.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var Ne=this._keyPriorReset=this._key,Be=Ne.words,Ve=Ne.sigBytes/4,J=4*((this._nRounds=Ve+6)+1),ae=this._keySchedule=[],de=0;de<J;de++)de<Ve?ae[de]=Be[de]:(me=ae[de-1],de%Ve?Ve>6&&de%Ve==4&&(me=ce[me>>>24]<<24|ce[me>>>16&255]<<16|ce[me>>>8&255]<<8|ce[255&me]):(me=ce[(me=me<<8|me>>>24)>>>24]<<24|ce[me>>>16&255]<<16|ce[me>>>8&255]<<8|ce[255&me],me^=ee[de/Ve|0]<<24),ae[de]=ae[de-Ve]^me);for(var fe=this._invKeySchedule=[],Re=0;Re<J;Re++){if(de=J-Re,Re%4)var me=ae[de];else me=ae[de-4];fe[Re]=Re<4||de<=4?me:k[ce[me>>>24]]^A[ce[me>>>16&255]]^H[ce[me>>>8&255]]^Q[ce[255&me]]}}},encryptBlock:function(me,Ne){this._doCryptBlock(me,Ne,this._keySchedule,q,z,O,I,ce)},decryptBlock:function(me,Ne){var Be=me[Ne+1];me[Ne+1]=me[Ne+3],me[Ne+3]=Be,this._doCryptBlock(me,Ne,this._invKeySchedule,k,A,H,Q,ne),Be=me[Ne+1],me[Ne+1]=me[Ne+3],me[Ne+3]=Be},_doCryptBlock:function(me,Ne,Be,Ve,Le,J,ae,de){for(var fe=this._nRounds,Re=me[Ne]^Be[0],_e=me[Ne+1]^Be[1],Xe=me[Ne+2]^Be[2],Ye=me[Ne+3]^Be[3],Ot=4,un=1;un<fe;un++){var Cn=Ve[Re>>>24]^Le[_e>>>16&255]^J[Xe>>>8&255]^ae[255&Ye]^Be[Ot++],An=Ve[_e>>>24]^Le[Xe>>>16&255]^J[Ye>>>8&255]^ae[255&Re]^Be[Ot++],Nn=Ve[Xe>>>24]^Le[Ye>>>16&255]^J[Re>>>8&255]^ae[255&_e]^Be[Ot++],Et=Ve[Ye>>>24]^Le[Re>>>16&255]^J[_e>>>8&255]^ae[255&Xe]^Be[Ot++];Re=Cn,_e=An,Xe=Nn,Ye=Et}Cn=(de[Re>>>24]<<24|de[_e>>>16&255]<<16|de[Xe>>>8&255]<<8|de[255&Ye])^Be[Ot++],An=(de[_e>>>24]<<24|de[Xe>>>16&255]<<16|de[Ye>>>8&255]<<8|de[255&Re])^Be[Ot++],Nn=(de[Xe>>>24]<<24|de[Ye>>>16&255]<<16|de[Re>>>8&255]<<8|de[255&_e])^Be[Ot++],Et=(de[Ye>>>24]<<24|de[Re>>>16&255]<<16|de[_e>>>8&255]<<8|de[255&Xe])^Be[Ot++],me[Ne]=Cn,me[Ne+1]=An,me[Ne+2]=Nn,me[Ne+3]=Et},keySize:8});m.AES=F._createHelper(be)}(),p.AES)},5269:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(8891),E(8855),E(4147),E(2414),function(){var m=p,F=m.lib.BlockCipher;const ce=16,ne=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],q=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var z={pbox:[],sbox:[]};function O(Q,ee){let Ve=Q.sbox[0][ee>>24&255]+Q.sbox[1][ee>>16&255];return Ve^=Q.sbox[2][ee>>8&255],Ve+=Q.sbox[3][255&ee],Ve}function I(Q,ee,be){let Be,me=ee,Ne=be;for(let Ve=0;Ve<ce;++Ve)me^=Q.pbox[Ve],Ne=O(Q,me)^Ne,Be=me,me=Ne,Ne=Be;return Be=me,me=Ne,Ne=Be,Ne^=Q.pbox[ce],me^=Q.pbox[ce+1],{left:me,right:Ne}}var H=m.algo.Blowfish=F.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var Q=this._keyPriorReset=this._key;!function A(Q,ee,be){for(let Le=0;Le<4;Le++){Q.sbox[Le]=[];for(let J=0;J<256;J++)Q.sbox[Le][J]=q[Le][J]}let me=0;for(let Le=0;Le<ce+2;Le++)Q.pbox[Le]=ne[Le]^ee[me],me++,me>=be&&(me=0);let Ne=0,Be=0,Ve=0;for(let Le=0;Le<ce+2;Le+=2)Ve=I(Q,Ne,Be),Ne=Ve.left,Be=Ve.right,Q.pbox[Le]=Ne,Q.pbox[Le+1]=Be;for(let Le=0;Le<4;Le++)for(let J=0;J<256;J+=2)Ve=I(Q,Ne,Be),Ne=Ve.left,Be=Ve.right,Q.sbox[Le][J]=Ne,Q.sbox[Le][J+1]=Be;return!0}(z,Q.words,Q.sigBytes/4)}},encryptBlock:function(Q,ee){var be=I(z,Q[ee],Q[ee+1]);Q[ee]=be.left,Q[ee+1]=be.right},decryptBlock:function(Q,ee){var be=function k(Q,ee,be){let Be,me=ee,Ne=be;for(let Ve=ce+1;Ve>1;--Ve)me^=Q.pbox[Ve],Ne=O(Q,me)^Ne,Be=me,me=Ne,Ne=Be;return Be=me,me=Ne,Ne=Be,Ne^=Q.pbox[1],me^=Q.pbox[0],{left:me,right:Ne}}(z,Q[ee],Q[ee+1]);Q[ee]=be.left,Q[ee+1]=be.right},blockSize:2,keySize:4,ivSize:2});m.Blowfish=F._createHelper(H)}(),p.Blowfish)},2414:function(Jt,ke,E){var T,F,x,ce,ne,q,O,k,A,Q,ee,be,Ne,Ve,J,ae,fe,Re,p;Jt.exports=(p=E(7656),E(4147),void(p.lib.Cipher||(T=p,F=T.lib,x=F.Base,ce=F.WordArray,ne=F.BufferedBlockAlgorithm,q=T.enc,O=q.Base64,k=T.algo.EvpKDF,A=F.Cipher=ne.extend({cfg:x.extend(),createEncryptor:function(_e,Xe){return this.create(this._ENC_XFORM_MODE,_e,Xe)},createDecryptor:function(_e,Xe){return this.create(this._DEC_XFORM_MODE,_e,Xe)},init:function(_e,Xe,Ye){this.cfg=this.cfg.extend(Ye),this._xformMode=_e,this._key=Xe,this.reset()},reset:function(){ne.reset.call(this),this._doReset()},process:function(_e){return this._append(_e),this._process()},finalize:function(_e){return _e&&this._append(_e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function _e(Xe){return"string"==typeof Xe?Re:ae}return function(Xe){return{encrypt:function(Ye,Ot,un){return _e(Ot).encrypt(Xe,Ye,Ot,un)},decrypt:function(Ye,Ot,un){return _e(Ot).decrypt(Xe,Ye,Ot,un)}}}}()}),F.StreamCipher=A.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),Q=T.mode={},ee=F.BlockCipherMode=x.extend({createEncryptor:function(_e,Xe){return this.Encryptor.create(_e,Xe)},createDecryptor:function(_e,Xe){return this.Decryptor.create(_e,Xe)},init:function(_e,Xe){this._cipher=_e,this._iv=Xe}}),be=Q.CBC=function(){var _e=ee.extend();function Xe(Ye,Ot,un){var Cn,An=this._iv;An?(Cn=An,this._iv=undefined):Cn=this._prevBlock;for(var Nn=0;Nn<un;Nn++)Ye[Ot+Nn]^=Cn[Nn]}return _e.Encryptor=_e.extend({processBlock:function(Ye,Ot){var un=this._cipher,Cn=un.blockSize;Xe.call(this,Ye,Ot,Cn),un.encryptBlock(Ye,Ot),this._prevBlock=Ye.slice(Ot,Ot+Cn)}}),_e.Decryptor=_e.extend({processBlock:function(Ye,Ot){var un=this._cipher,Cn=un.blockSize,An=Ye.slice(Ot,Ot+Cn);un.decryptBlock(Ye,Ot),Xe.call(this,Ye,Ot,Cn),this._prevBlock=An}}),_e}(),Ne=(T.pad={}).Pkcs7={pad:function(_e,Xe){for(var Ye=4*Xe,Ot=Ye-_e.sigBytes%Ye,un=Ot<<24|Ot<<16|Ot<<8|Ot,Cn=[],An=0;An<Ot;An+=4)Cn.push(un);var Nn=ce.create(Cn,Ot);_e.concat(Nn)},unpad:function(_e){_e.sigBytes-=255&_e.words[_e.sigBytes-1>>>2]}},F.BlockCipher=A.extend({cfg:A.cfg.extend({mode:be,padding:Ne}),reset:function(){var _e;A.reset.call(this);var Xe=this.cfg,Ye=Xe.iv,Ot=Xe.mode;this._xformMode==this._ENC_XFORM_MODE?_e=Ot.createEncryptor:(_e=Ot.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==_e?this._mode.init(this,Ye&&Ye.words):(this._mode=_e.call(Ot,this,Ye&&Ye.words),this._mode.__creator=_e)},_doProcessBlock:function(_e,Xe){this._mode.processBlock(_e,Xe)},_doFinalize:function(){var _e,Xe=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Xe.pad(this._data,this.blockSize),_e=this._process(!0)):(_e=this._process(!0),Xe.unpad(_e)),_e},blockSize:4}),Ve=F.CipherParams=x.extend({init:function(_e){this.mixIn(_e)},toString:function(_e){return(_e||this.formatter).stringify(this)}}),J=(T.format={}).OpenSSL={stringify:function(_e){var Ye=_e.ciphertext,Ot=_e.salt;return(Ot?ce.create([1398893684,1701076831]).concat(Ot).concat(Ye):Ye).toString(O)},parse:function(_e){var Xe,Ye=O.parse(_e),Ot=Ye.words;return 1398893684==Ot[0]&&1701076831==Ot[1]&&(Xe=ce.create(Ot.slice(2,4)),Ot.splice(0,4),Ye.sigBytes-=16),Ve.create({ciphertext:Ye,salt:Xe})}},ae=F.SerializableCipher=x.extend({cfg:x.extend({format:J}),encrypt:function(_e,Xe,Ye,Ot){Ot=this.cfg.extend(Ot);var un=_e.createEncryptor(Ye,Ot),Cn=un.finalize(Xe),An=un.cfg;return Ve.create({ciphertext:Cn,key:Ye,iv:An.iv,algorithm:_e,mode:An.mode,padding:An.padding,blockSize:_e.blockSize,formatter:Ot.format})},decrypt:function(_e,Xe,Ye,Ot){return Ot=this.cfg.extend(Ot),Xe=this._parse(Xe,Ot.format),_e.createDecryptor(Ye,Ot).finalize(Xe.ciphertext)},_parse:function(_e,Xe){return"string"==typeof _e?Xe.parse(_e,this):_e}}),fe=(T.kdf={}).OpenSSL={execute:function(_e,Xe,Ye,Ot,un){if(Ot||(Ot=ce.random(8)),un)var Cn=k.create({keySize:Xe+Ye,hasher:un}).compute(_e,Ot);else Cn=k.create({keySize:Xe+Ye}).compute(_e,Ot);var An=ce.create(Cn.words.slice(Xe),4*Ye);return Cn.sigBytes=4*Xe,Ve.create({key:Cn,iv:An,salt:Ot})}},Re=F.PasswordBasedCipher=ae.extend({cfg:ae.cfg.extend({kdf:fe}),encrypt:function(_e,Xe,Ye,Ot){var un=(Ot=this.cfg.extend(Ot)).kdf.execute(Ye,_e.keySize,_e.ivSize,Ot.salt,Ot.hasher);Ot.iv=un.iv;var Cn=ae.encrypt.call(this,_e,Xe,un.key,Ot);return Cn.mixIn(un),Cn},decrypt:function(_e,Xe,Ye,Ot){Ot=this.cfg.extend(Ot),Xe=this._parse(Xe,Ot.format);var un=Ot.kdf.execute(Ye,_e.keySize,_e.ivSize,Xe.salt,Ot.hasher);return Ot.iv=un.iv,ae.decrypt.call(this,_e,Xe,un.key,Ot)}}))))},7656:function(Jt,ke,E){var p;Jt.exports=(p=p||function(m,T){var F;if(typeof window<"u"&&window.crypto&&(F=window.crypto),typeof self<"u"&&self.crypto&&(F=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(F=globalThis.crypto),!F&&typeof window<"u"&&window.msCrypto&&(F=window.msCrypto),!F&&typeof global<"u"&&global.crypto&&(F=global.crypto),!F)try{F=E(477)}catch{}var x=function(){if(F){if("function"==typeof F.getRandomValues)try{return F.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof F.randomBytes)try{return F.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},ce=Object.create||function(){function me(){}return function(Ne){var Be;return me.prototype=Ne,Be=new me,me.prototype=null,Be}}(),ne={},q=ne.lib={},z=q.Base=function(){return{extend:function(me){var Ne=ce(this);return me&&Ne.mixIn(me),(!Ne.hasOwnProperty("init")||this.init===Ne.init)&&(Ne.init=function(){Ne.$super.init.apply(this,arguments)}),Ne.init.prototype=Ne,Ne.$super=this,Ne},create:function(){var me=this.extend();return me.init.apply(me,arguments),me},init:function(){},mixIn:function(me){for(var Ne in me)me.hasOwnProperty(Ne)&&(this[Ne]=me[Ne]);me.hasOwnProperty("toString")&&(this.toString=me.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),O=q.WordArray=z.extend({init:function(me,Ne){me=this.words=me||[],this.sigBytes=null!=Ne?Ne:4*me.length},toString:function(me){return(me||k).stringify(this)},concat:function(me){var Ne=this.words,Be=me.words,Ve=this.sigBytes,Le=me.sigBytes;if(this.clamp(),Ve%4)for(var J=0;J<Le;J++)Ne[Ve+J>>>2]|=(Be[J>>>2]>>>24-J%4*8&255)<<24-(Ve+J)%4*8;else for(var de=0;de<Le;de+=4)Ne[Ve+de>>>2]=Be[de>>>2];return this.sigBytes+=Le,this},clamp:function(){var me=this.words,Ne=this.sigBytes;me[Ne>>>2]&=4294967295<<32-Ne%4*8,me.length=m.ceil(Ne/4)},clone:function(){var me=z.clone.call(this);return me.words=this.words.slice(0),me},random:function(me){for(var Ne=[],Be=0;Be<me;Be+=4)Ne.push(x());return new O.init(Ne,me)}}),I=ne.enc={},k=I.Hex={stringify:function(me){for(var Ne=me.words,Be=me.sigBytes,Ve=[],Le=0;Le<Be;Le++){var J=Ne[Le>>>2]>>>24-Le%4*8&255;Ve.push((J>>>4).toString(16)),Ve.push((15&J).toString(16))}return Ve.join("")},parse:function(me){for(var Ne=me.length,Be=[],Ve=0;Ve<Ne;Ve+=2)Be[Ve>>>3]|=parseInt(me.substr(Ve,2),16)<<24-Ve%8*4;return new O.init(Be,Ne/2)}},A=I.Latin1={stringify:function(me){for(var Ne=me.words,Be=me.sigBytes,Ve=[],Le=0;Le<Be;Le++)Ve.push(String.fromCharCode(Ne[Le>>>2]>>>24-Le%4*8&255));return Ve.join("")},parse:function(me){for(var Ne=me.length,Be=[],Ve=0;Ve<Ne;Ve++)Be[Ve>>>2]|=(255&me.charCodeAt(Ve))<<24-Ve%4*8;return new O.init(Be,Ne)}},H=I.Utf8={stringify:function(me){try{return decodeURIComponent(escape(A.stringify(me)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(me){return A.parse(unescape(encodeURIComponent(me)))}},Q=q.BufferedBlockAlgorithm=z.extend({reset:function(){this._data=new O.init,this._nDataBytes=0},_append:function(me){"string"==typeof me&&(me=H.parse(me)),this._data.concat(me),this._nDataBytes+=me.sigBytes},_process:function(me){var Ne,Be=this._data,Ve=Be.words,Le=Be.sigBytes,J=this.blockSize,de=Le/(4*J),fe=(de=me?m.ceil(de):m.max((0|de)-this._minBufferSize,0))*J,Re=m.min(4*fe,Le);if(fe){for(var _e=0;_e<fe;_e+=J)this._doProcessBlock(Ve,_e);Ne=Ve.splice(0,fe),Be.sigBytes-=Re}return new O.init(Ne,Re)},clone:function(){var me=z.clone.call(this);return me._data=this._data.clone(),me},_minBufferSize:0}),be=(q.Hasher=Q.extend({cfg:z.extend(),init:function(me){this.cfg=this.cfg.extend(me),this.reset()},reset:function(){Q.reset.call(this),this._doReset()},update:function(me){return this._append(me),this._process(),this},finalize:function(me){return me&&this._append(me),this._doFinalize()},blockSize:16,_createHelper:function(me){return function(Ne,Be){return new me.init(Be).finalize(Ne)}},_createHmacHelper:function(me){return function(Ne,Be){return new be.HMAC.init(me,Be).finalize(Ne)}}}),ne.algo={});return ne}(Math),p)},8891:function(Jt,ke,E){var p,F;Jt.exports=(p=E(7656),F=p.lib.WordArray,p.enc.Base64={stringify:function(q){var z=q.words,O=q.sigBytes,I=this._map;q.clamp();for(var k=[],A=0;A<O;A+=3)for(var be=(z[A>>>2]>>>24-A%4*8&255)<<16|(z[A+1>>>2]>>>24-(A+1)%4*8&255)<<8|z[A+2>>>2]>>>24-(A+2)%4*8&255,me=0;me<4&&A+.75*me<O;me++)k.push(I.charAt(be>>>6*(3-me)&63));var Ne=I.charAt(64);if(Ne)for(;k.length%4;)k.push(Ne);return k.join("")},parse:function(q){var z=q.length,O=this._map,I=this._reverseMap;if(!I){I=this._reverseMap=[];for(var k=0;k<O.length;k++)I[O.charCodeAt(k)]=k}var A=O.charAt(64);if(A){var H=q.indexOf(A);-1!==H&&(z=H)}return function ne(q,z,O){for(var I=[],k=0,A=0;A<z;A++)if(A%4){var H=O[q.charCodeAt(A-1)]<<A%4*2,Q=O[q.charCodeAt(A)]>>>6-A%4*2;I[k>>>2]|=(H|Q)<<24-k%4*8,k++}return F.create(I,k)}(q,z,I)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},p.enc.Base64)},6598:function(Jt,ke,E){var p,F;Jt.exports=(p=E(7656),F=p.lib.WordArray,p.enc.Base64url={stringify:function(q,z){void 0===z&&(z=!0);var O=q.words,I=q.sigBytes,k=z?this._safe_map:this._map;q.clamp();for(var A=[],H=0;H<I;H+=3)for(var me=(O[H>>>2]>>>24-H%4*8&255)<<16|(O[H+1>>>2]>>>24-(H+1)%4*8&255)<<8|O[H+2>>>2]>>>24-(H+2)%4*8&255,Ne=0;Ne<4&&H+.75*Ne<I;Ne++)A.push(k.charAt(me>>>6*(3-Ne)&63));var Be=k.charAt(64);if(Be)for(;A.length%4;)A.push(Be);return A.join("")},parse:function(q,z){void 0===z&&(z=!0);var O=q.length,I=z?this._safe_map:this._map,k=this._reverseMap;if(!k){k=this._reverseMap=[];for(var A=0;A<I.length;A++)k[I.charCodeAt(A)]=A}var H=I.charAt(64);if(H){var Q=q.indexOf(H);-1!==Q&&(O=Q)}return function ne(q,z,O){for(var I=[],k=0,A=0;A<z;A++)if(A%4){var H=O[q.charCodeAt(A-1)]<<A%4*2,Q=O[q.charCodeAt(A)]>>>6-A%4*2;I[k>>>2]|=(H|Q)<<24-k%4*8,k++}return F.create(I,k)}(q,O,k)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},p.enc.Base64url)},5304:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),function(){var F=p.lib.WordArray,x=p.enc;function ne(q){return q<<8&4278255360|q>>>8&16711935}x.Utf16=x.Utf16BE={stringify:function(q){for(var z=q.words,O=q.sigBytes,I=[],k=0;k<O;k+=2)I.push(String.fromCharCode(z[k>>>2]>>>16-k%4*8&65535));return I.join("")},parse:function(q){for(var z=q.length,O=[],I=0;I<z;I++)O[I>>>1]|=q.charCodeAt(I)<<16-I%2*16;return F.create(O,2*z)}},x.Utf16LE={stringify:function(q){for(var z=q.words,O=q.sigBytes,I=[],k=0;k<O;k+=2){var A=ne(z[k>>>2]>>>16-k%4*8&65535);I.push(String.fromCharCode(A))}return I.join("")},parse:function(q){for(var z=q.length,O=[],I=0;I<z;I++)O[I>>>1]|=ne(q.charCodeAt(I)<<16-I%2*16);return F.create(O,2*z)}}}(),p.enc.Utf16)},4147:function(Jt,ke,E){var m,T,F,x,ce,q,p;Jt.exports=(p=E(7656),E(9986),E(7868),x=(T=(m=p).lib).WordArray,q=(ce=m.algo).EvpKDF=(F=T.Base).extend({cfg:F.extend({keySize:4,hasher:ce.MD5,iterations:1}),init:function(z){this.cfg=this.cfg.extend(z)},compute:function(z,O){for(var I,k=this.cfg,A=k.hasher.create(),H=x.create(),Q=H.words,ee=k.keySize,be=k.iterations;Q.length<ee;){I&&A.update(I),I=A.update(z).finalize(O),A.reset();for(var me=1;me<be;me++)I=A.finalize(I),A.reset();H.concat(I)}return H.sigBytes=4*ee,H}}),m.EvpKDF=function(z,O,I){return q.create(I).compute(z,O)},p.EvpKDF)},4564:function(Jt,ke,E){var p,x,ne;Jt.exports=(p=E(7656),E(2414),x=p.lib.CipherParams,ne=p.enc.Hex,p.format.Hex={stringify:function(O){return O.ciphertext.toString(ne)},parse:function(O){var I=ne.parse(O);return x.create({ciphertext:I})}},p.format.Hex)},7868:function(Jt,ke,E){var p,ce;Jt.exports=(p=E(7656),ce=p.enc.Utf8,void(p.algo.HMAC=p.lib.Base.extend({init:function(z,O){z=this._hasher=new z.init,"string"==typeof O&&(O=ce.parse(O));var I=z.blockSize,k=4*I;O.sigBytes>k&&(O=z.finalize(O)),O.clamp();for(var A=this._oKey=O.clone(),H=this._iKey=O.clone(),Q=A.words,ee=H.words,be=0;be<I;be++)Q[be]^=1549556828,ee[be]^=909522486;A.sigBytes=H.sigBytes=k,this.reset()},reset:function(){var z=this._hasher;z.reset(),z.update(this._iKey)},update:function(z){return this._hasher.update(z),this},finalize:function(z){var O=this._hasher,I=O.finalize(z);return O.reset(),O.finalize(this._oKey.clone().concat(I))}})))},1471:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(4501),E(8823),E(5304),E(8891),E(6598),E(8855),E(9986),E(5168),E(9225),E(885),E(4068),E(3752),E(447),E(7868),E(7738),E(4147),E(2414),E(4152),E(9098),E(1057),E(6700),E(6115),E(332),E(7516),E(9047),E(6964),E(2599),E(4564),E(3188),E(2515),E(5350),E(2795),E(2923),E(5269),p)},8823:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),function(){if("function"==typeof ArrayBuffer){var F=p.lib.WordArray,x=F.init,ce=F.init=function(ne){if(ne instanceof ArrayBuffer&&(ne=new Uint8Array(ne)),(ne instanceof Int8Array||typeof Uint8ClampedArray<"u"&&ne instanceof Uint8ClampedArray||ne instanceof Int16Array||ne instanceof Uint16Array||ne instanceof Int32Array||ne instanceof Uint32Array||ne instanceof Float32Array||ne instanceof Float64Array)&&(ne=new Uint8Array(ne.buffer,ne.byteOffset,ne.byteLength)),ne instanceof Uint8Array){for(var q=ne.byteLength,z=[],O=0;O<q;O++)z[O>>>2]|=ne[O]<<24-O%4*8;x.call(this,z,q)}else x.apply(this,arguments)};ce.prototype=F}}(),p.lib.WordArray)},8855:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),function(m){var T=p,F=T.lib,x=F.WordArray,ce=F.Hasher,ne=T.algo,q=[];!function(){for(var H=0;H<64;H++)q[H]=4294967296*m.abs(m.sin(H+1))|0}();var z=ne.MD5=ce.extend({_doReset:function(){this._hash=new x.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(H,Q){for(var ee=0;ee<16;ee++){var be=Q+ee,me=H[be];H[be]=16711935&(me<<8|me>>>24)|4278255360&(me<<24|me>>>8)}var Ne=this._hash.words,Be=H[Q+0],Ve=H[Q+1],Le=H[Q+2],J=H[Q+3],ae=H[Q+4],de=H[Q+5],fe=H[Q+6],Re=H[Q+7],_e=H[Q+8],Xe=H[Q+9],Ye=H[Q+10],Ot=H[Q+11],un=H[Q+12],Cn=H[Q+13],An=H[Q+14],Nn=H[Q+15],Et=Ne[0],Rt=Ne[1],jt=Ne[2],Dt=Ne[3];Et=O(Et,Rt,jt,Dt,Be,7,q[0]),Dt=O(Dt,Et,Rt,jt,Ve,12,q[1]),jt=O(jt,Dt,Et,Rt,Le,17,q[2]),Rt=O(Rt,jt,Dt,Et,J,22,q[3]),Et=O(Et,Rt,jt,Dt,ae,7,q[4]),Dt=O(Dt,Et,Rt,jt,de,12,q[5]),jt=O(jt,Dt,Et,Rt,fe,17,q[6]),Rt=O(Rt,jt,Dt,Et,Re,22,q[7]),Et=O(Et,Rt,jt,Dt,_e,7,q[8]),Dt=O(Dt,Et,Rt,jt,Xe,12,q[9]),jt=O(jt,Dt,Et,Rt,Ye,17,q[10]),Rt=O(Rt,jt,Dt,Et,Ot,22,q[11]),Et=O(Et,Rt,jt,Dt,un,7,q[12]),Dt=O(Dt,Et,Rt,jt,Cn,12,q[13]),jt=O(jt,Dt,Et,Rt,An,17,q[14]),Et=I(Et,Rt=O(Rt,jt,Dt,Et,Nn,22,q[15]),jt,Dt,Ve,5,q[16]),Dt=I(Dt,Et,Rt,jt,fe,9,q[17]),jt=I(jt,Dt,Et,Rt,Ot,14,q[18]),Rt=I(Rt,jt,Dt,Et,Be,20,q[19]),Et=I(Et,Rt,jt,Dt,de,5,q[20]),Dt=I(Dt,Et,Rt,jt,Ye,9,q[21]),jt=I(jt,Dt,Et,Rt,Nn,14,q[22]),Rt=I(Rt,jt,Dt,Et,ae,20,q[23]),Et=I(Et,Rt,jt,Dt,Xe,5,q[24]),Dt=I(Dt,Et,Rt,jt,An,9,q[25]),jt=I(jt,Dt,Et,Rt,J,14,q[26]),Rt=I(Rt,jt,Dt,Et,_e,20,q[27]),Et=I(Et,Rt,jt,Dt,Cn,5,q[28]),Dt=I(Dt,Et,Rt,jt,Le,9,q[29]),jt=I(jt,Dt,Et,Rt,Re,14,q[30]),Et=k(Et,Rt=I(Rt,jt,Dt,Et,un,20,q[31]),jt,Dt,de,4,q[32]),Dt=k(Dt,Et,Rt,jt,_e,11,q[33]),jt=k(jt,Dt,Et,Rt,Ot,16,q[34]),Rt=k(Rt,jt,Dt,Et,An,23,q[35]),Et=k(Et,Rt,jt,Dt,Ve,4,q[36]),Dt=k(Dt,Et,Rt,jt,ae,11,q[37]),jt=k(jt,Dt,Et,Rt,Re,16,q[38]),Rt=k(Rt,jt,Dt,Et,Ye,23,q[39]),Et=k(Et,Rt,jt,Dt,Cn,4,q[40]),Dt=k(Dt,Et,Rt,jt,Be,11,q[41]),jt=k(jt,Dt,Et,Rt,J,16,q[42]),Rt=k(Rt,jt,Dt,Et,fe,23,q[43]),Et=k(Et,Rt,jt,Dt,Xe,4,q[44]),Dt=k(Dt,Et,Rt,jt,un,11,q[45]),jt=k(jt,Dt,Et,Rt,Nn,16,q[46]),Et=A(Et,Rt=k(Rt,jt,Dt,Et,Le,23,q[47]),jt,Dt,Be,6,q[48]),Dt=A(Dt,Et,Rt,jt,Re,10,q[49]),jt=A(jt,Dt,Et,Rt,An,15,q[50]),Rt=A(Rt,jt,Dt,Et,de,21,q[51]),Et=A(Et,Rt,jt,Dt,un,6,q[52]),Dt=A(Dt,Et,Rt,jt,J,10,q[53]),jt=A(jt,Dt,Et,Rt,Ye,15,q[54]),Rt=A(Rt,jt,Dt,Et,Ve,21,q[55]),Et=A(Et,Rt,jt,Dt,_e,6,q[56]),Dt=A(Dt,Et,Rt,jt,Nn,10,q[57]),jt=A(jt,Dt,Et,Rt,fe,15,q[58]),Rt=A(Rt,jt,Dt,Et,Cn,21,q[59]),Et=A(Et,Rt,jt,Dt,ae,6,q[60]),Dt=A(Dt,Et,Rt,jt,Ot,10,q[61]),jt=A(jt,Dt,Et,Rt,Le,15,q[62]),Rt=A(Rt,jt,Dt,Et,Xe,21,q[63]),Ne[0]=Ne[0]+Et|0,Ne[1]=Ne[1]+Rt|0,Ne[2]=Ne[2]+jt|0,Ne[3]=Ne[3]+Dt|0},_doFinalize:function(){var H=this._data,Q=H.words,ee=8*this._nDataBytes,be=8*H.sigBytes;Q[be>>>5]|=128<<24-be%32;var me=m.floor(ee/4294967296),Ne=ee;Q[15+(be+64>>>9<<4)]=16711935&(me<<8|me>>>24)|4278255360&(me<<24|me>>>8),Q[14+(be+64>>>9<<4)]=16711935&(Ne<<8|Ne>>>24)|4278255360&(Ne<<24|Ne>>>8),H.sigBytes=4*(Q.length+1),this._process();for(var Be=this._hash,Ve=Be.words,Le=0;Le<4;Le++){var J=Ve[Le];Ve[Le]=16711935&(J<<8|J>>>24)|4278255360&(J<<24|J>>>8)}return Be},clone:function(){var H=ce.clone.call(this);return H._hash=this._hash.clone(),H}});function O(H,Q,ee,be,me,Ne,Be){var Ve=H+(Q&ee|~Q&be)+me+Be;return(Ve<<Ne|Ve>>>32-Ne)+Q}function I(H,Q,ee,be,me,Ne,Be){var Ve=H+(Q&be|ee&~be)+me+Be;return(Ve<<Ne|Ve>>>32-Ne)+Q}function k(H,Q,ee,be,me,Ne,Be){var Ve=H+(Q^ee^be)+me+Be;return(Ve<<Ne|Ve>>>32-Ne)+Q}function A(H,Q,ee,be,me,Ne,Be){var Ve=H+(ee^(Q|~be))+me+Be;return(Ve<<Ne|Ve>>>32-Ne)+Q}T.MD5=ce._createHelper(z),T.HmacMD5=ce._createHmacHelper(z)}(Math),p.MD5)},4152:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(2414),p.mode.CFB=function(){var m=p.lib.BlockCipherMode.extend();function T(F,x,ce,ne){var q,z=this._iv;z?(q=z.slice(0),this._iv=void 0):q=this._prevBlock,ne.encryptBlock(q,0);for(var O=0;O<ce;O++)F[x+O]^=q[O]}return m.Encryptor=m.extend({processBlock:function(F,x){var ce=this._cipher,ne=ce.blockSize;T.call(this,F,x,ne,ce),this._prevBlock=F.slice(x,x+ne)}}),m.Decryptor=m.extend({processBlock:function(F,x){var ce=this._cipher,ne=ce.blockSize,q=F.slice(x,x+ne);T.call(this,F,x,ne,ce),this._prevBlock=q}}),m}(),p.mode.CFB)},1057:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(2414),p.mode.CTRGladman=function(){var m=p.lib.BlockCipherMode.extend();function T(ce){if(255&~(ce>>24))ce+=1<<24;else{var ne=ce>>16&255,q=ce>>8&255,z=255&ce;255===ne?(ne=0,255===q?(q=0,255===z?z=0:++z):++q):++ne,ce=0,ce+=ne<<16,ce+=q<<8,ce+=z}return ce}var x=m.Encryptor=m.extend({processBlock:function(ce,ne){var q=this._cipher,z=q.blockSize,O=this._iv,I=this._counter;O&&(I=this._counter=O.slice(0),this._iv=void 0),function F(ce){return 0===(ce[0]=T(ce[0]))&&(ce[1]=T(ce[1])),ce}(I);var k=I.slice(0);q.encryptBlock(k,0);for(var A=0;A<z;A++)ce[ne+A]^=k[A]}});return m.Decryptor=x,m}(),p.mode.CTRGladman)},9098:function(Jt,ke,E){var m,T,p;Jt.exports=(p=E(7656),E(2414),p.mode.CTR=(T=(m=p.lib.BlockCipherMode.extend()).Encryptor=m.extend({processBlock:function(F,x){var ce=this._cipher,ne=ce.blockSize,q=this._iv,z=this._counter;q&&(z=this._counter=q.slice(0),this._iv=void 0);var O=z.slice(0);ce.encryptBlock(O,0),z[ne-1]=z[ne-1]+1|0;for(var I=0;I<ne;I++)F[x+I]^=O[I]}}),m.Decryptor=T,m),p.mode.CTR)},6115:function(Jt,ke,E){var m,p;Jt.exports=(p=E(7656),E(2414),p.mode.ECB=((m=p.lib.BlockCipherMode.extend()).Encryptor=m.extend({processBlock:function(T,F){this._cipher.encryptBlock(T,F)}}),m.Decryptor=m.extend({processBlock:function(T,F){this._cipher.decryptBlock(T,F)}}),m),p.mode.ECB)},6700:function(Jt,ke,E){var m,T,p;Jt.exports=(p=E(7656),E(2414),p.mode.OFB=(T=(m=p.lib.BlockCipherMode.extend()).Encryptor=m.extend({processBlock:function(F,x){var ce=this._cipher,ne=ce.blockSize,q=this._iv,z=this._keystream;q&&(z=this._keystream=q.slice(0),this._iv=void 0),ce.encryptBlock(z,0);for(var O=0;O<ne;O++)F[x+O]^=z[O]}}),m.Decryptor=T,m),p.mode.OFB)},332:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(2414),p.pad.AnsiX923={pad:function(m,T){var F=m.sigBytes,x=4*T,ce=x-F%x,ne=F+ce-1;m.clamp(),m.words[ne>>>2]|=ce<<24-ne%4*8,m.sigBytes+=ce},unpad:function(m){m.sigBytes-=255&m.words[m.sigBytes-1>>>2]}},p.pad.Ansix923)},7516:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(2414),p.pad.Iso10126={pad:function(m,T){var F=4*T,x=F-m.sigBytes%F;m.concat(p.lib.WordArray.random(x-1)).concat(p.lib.WordArray.create([x<<24],1))},unpad:function(m){m.sigBytes-=255&m.words[m.sigBytes-1>>>2]}},p.pad.Iso10126)},9047:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(2414),p.pad.Iso97971={pad:function(m,T){m.concat(p.lib.WordArray.create([2147483648],1)),p.pad.ZeroPadding.pad(m,T)},unpad:function(m){p.pad.ZeroPadding.unpad(m),m.sigBytes--}},p.pad.Iso97971)},2599:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(2414),p.pad.NoPadding={pad:function(){},unpad:function(){}},p.pad.NoPadding)},6964:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(2414),p.pad.ZeroPadding={pad:function(m,T){var F=4*T;m.clamp(),m.sigBytes+=F-(m.sigBytes%F||F)},unpad:function(m){var T=m.words,F=m.sigBytes-1;for(F=m.sigBytes-1;F>=0;F--)if(T[F>>>2]>>>24-F%4*8&255){m.sigBytes=F+1;break}}},p.pad.ZeroPadding)},7738:function(Jt,ke,E){var m,T,F,x,ce,q,z,p;Jt.exports=(p=E(7656),E(5168),E(7868),x=(T=(m=p).lib).WordArray,q=(ce=m.algo).HMAC,z=ce.PBKDF2=(F=T.Base).extend({cfg:F.extend({keySize:4,hasher:ce.SHA256,iterations:25e4}),init:function(O){this.cfg=this.cfg.extend(O)},compute:function(O,I){for(var k=this.cfg,A=q.create(k.hasher,O),H=x.create(),Q=x.create([1]),ee=H.words,be=Q.words,me=k.keySize,Ne=k.iterations;ee.length<me;){var Be=A.update(I).finalize(Q);A.reset();for(var Ve=Be.words,Le=Ve.length,J=Be,ae=1;ae<Ne;ae++){J=A.finalize(J),A.reset();for(var de=J.words,fe=0;fe<Le;fe++)Ve[fe]^=de[fe]}H.concat(Be),be[0]++}return H.sigBytes=4*me,H}}),m.PBKDF2=function(O,I,k){return z.create(k).compute(O,I)},p.PBKDF2)},2923:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(8891),E(8855),E(4147),E(2414),function(){var m=p,F=m.lib.StreamCipher,ce=[],ne=[],q=[],z=m.algo.RabbitLegacy=F.extend({_doReset:function(){var I=this._key.words,k=this.cfg.iv,A=this._X=[I[0],I[3]<<16|I[2]>>>16,I[1],I[0]<<16|I[3]>>>16,I[2],I[1]<<16|I[0]>>>16,I[3],I[2]<<16|I[1]>>>16],H=this._C=[I[2]<<16|I[2]>>>16,4294901760&I[0]|65535&I[1],I[3]<<16|I[3]>>>16,4294901760&I[1]|65535&I[2],I[0]<<16|I[0]>>>16,4294901760&I[2]|65535&I[3],I[1]<<16|I[1]>>>16,4294901760&I[3]|65535&I[0]];this._b=0;for(var Q=0;Q<4;Q++)O.call(this);for(Q=0;Q<8;Q++)H[Q]^=A[Q+4&7];if(k){var ee=k.words,be=ee[0],me=ee[1],Ne=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8),Be=16711935&(me<<8|me>>>24)|4278255360&(me<<24|me>>>8),Ve=Ne>>>16|4294901760&Be,Le=Be<<16|65535&Ne;for(H[0]^=Ne,H[1]^=Ve,H[2]^=Be,H[3]^=Le,H[4]^=Ne,H[5]^=Ve,H[6]^=Be,H[7]^=Le,Q=0;Q<4;Q++)O.call(this)}},_doProcessBlock:function(I,k){var A=this._X;O.call(this),ce[0]=A[0]^A[5]>>>16^A[3]<<16,ce[1]=A[2]^A[7]>>>16^A[5]<<16,ce[2]=A[4]^A[1]>>>16^A[7]<<16,ce[3]=A[6]^A[3]>>>16^A[1]<<16;for(var H=0;H<4;H++)ce[H]=16711935&(ce[H]<<8|ce[H]>>>24)|4278255360&(ce[H]<<24|ce[H]>>>8),I[k+H]^=ce[H]},blockSize:4,ivSize:2});function O(){for(var I=this._X,k=this._C,A=0;A<8;A++)ne[A]=k[A];for(k[0]=k[0]+1295307597+this._b|0,k[1]=k[1]+3545052371+(k[0]>>>0<ne[0]>>>0?1:0)|0,k[2]=k[2]+886263092+(k[1]>>>0<ne[1]>>>0?1:0)|0,k[3]=k[3]+1295307597+(k[2]>>>0<ne[2]>>>0?1:0)|0,k[4]=k[4]+3545052371+(k[3]>>>0<ne[3]>>>0?1:0)|0,k[5]=k[5]+886263092+(k[4]>>>0<ne[4]>>>0?1:0)|0,k[6]=k[6]+1295307597+(k[5]>>>0<ne[5]>>>0?1:0)|0,k[7]=k[7]+3545052371+(k[6]>>>0<ne[6]>>>0?1:0)|0,this._b=k[7]>>>0<ne[7]>>>0?1:0,A=0;A<8;A++){var H=I[A]+k[A],Q=65535&H,ee=H>>>16;q[A]=((Q*Q>>>17)+Q*ee>>>15)+ee*ee^((4294901760&H)*H|0)+((65535&H)*H|0)}I[0]=q[0]+(q[7]<<16|q[7]>>>16)+(q[6]<<16|q[6]>>>16)|0,I[1]=q[1]+(q[0]<<8|q[0]>>>24)+q[7]|0,I[2]=q[2]+(q[1]<<16|q[1]>>>16)+(q[0]<<16|q[0]>>>16)|0,I[3]=q[3]+(q[2]<<8|q[2]>>>24)+q[1]|0,I[4]=q[4]+(q[3]<<16|q[3]>>>16)+(q[2]<<16|q[2]>>>16)|0,I[5]=q[5]+(q[4]<<8|q[4]>>>24)+q[3]|0,I[6]=q[6]+(q[5]<<16|q[5]>>>16)+(q[4]<<16|q[4]>>>16)|0,I[7]=q[7]+(q[6]<<8|q[6]>>>24)+q[5]|0}m.RabbitLegacy=F._createHelper(z)}(),p.RabbitLegacy)},2795:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(8891),E(8855),E(4147),E(2414),function(){var m=p,F=m.lib.StreamCipher,ce=[],ne=[],q=[],z=m.algo.Rabbit=F.extend({_doReset:function(){for(var I=this._key.words,k=this.cfg.iv,A=0;A<4;A++)I[A]=16711935&(I[A]<<8|I[A]>>>24)|4278255360&(I[A]<<24|I[A]>>>8);var H=this._X=[I[0],I[3]<<16|I[2]>>>16,I[1],I[0]<<16|I[3]>>>16,I[2],I[1]<<16|I[0]>>>16,I[3],I[2]<<16|I[1]>>>16],Q=this._C=[I[2]<<16|I[2]>>>16,4294901760&I[0]|65535&I[1],I[3]<<16|I[3]>>>16,4294901760&I[1]|65535&I[2],I[0]<<16|I[0]>>>16,4294901760&I[2]|65535&I[3],I[1]<<16|I[1]>>>16,4294901760&I[3]|65535&I[0]];for(this._b=0,A=0;A<4;A++)O.call(this);for(A=0;A<8;A++)Q[A]^=H[A+4&7];if(k){var ee=k.words,be=ee[0],me=ee[1],Ne=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8),Be=16711935&(me<<8|me>>>24)|4278255360&(me<<24|me>>>8),Ve=Ne>>>16|4294901760&Be,Le=Be<<16|65535&Ne;for(Q[0]^=Ne,Q[1]^=Ve,Q[2]^=Be,Q[3]^=Le,Q[4]^=Ne,Q[5]^=Ve,Q[6]^=Be,Q[7]^=Le,A=0;A<4;A++)O.call(this)}},_doProcessBlock:function(I,k){var A=this._X;O.call(this),ce[0]=A[0]^A[5]>>>16^A[3]<<16,ce[1]=A[2]^A[7]>>>16^A[5]<<16,ce[2]=A[4]^A[1]>>>16^A[7]<<16,ce[3]=A[6]^A[3]>>>16^A[1]<<16;for(var H=0;H<4;H++)ce[H]=16711935&(ce[H]<<8|ce[H]>>>24)|4278255360&(ce[H]<<24|ce[H]>>>8),I[k+H]^=ce[H]},blockSize:4,ivSize:2});function O(){for(var I=this._X,k=this._C,A=0;A<8;A++)ne[A]=k[A];for(k[0]=k[0]+1295307597+this._b|0,k[1]=k[1]+3545052371+(k[0]>>>0<ne[0]>>>0?1:0)|0,k[2]=k[2]+886263092+(k[1]>>>0<ne[1]>>>0?1:0)|0,k[3]=k[3]+1295307597+(k[2]>>>0<ne[2]>>>0?1:0)|0,k[4]=k[4]+3545052371+(k[3]>>>0<ne[3]>>>0?1:0)|0,k[5]=k[5]+886263092+(k[4]>>>0<ne[4]>>>0?1:0)|0,k[6]=k[6]+1295307597+(k[5]>>>0<ne[5]>>>0?1:0)|0,k[7]=k[7]+3545052371+(k[6]>>>0<ne[6]>>>0?1:0)|0,this._b=k[7]>>>0<ne[7]>>>0?1:0,A=0;A<8;A++){var H=I[A]+k[A],Q=65535&H,ee=H>>>16;q[A]=((Q*Q>>>17)+Q*ee>>>15)+ee*ee^((4294901760&H)*H|0)+((65535&H)*H|0)}I[0]=q[0]+(q[7]<<16|q[7]>>>16)+(q[6]<<16|q[6]>>>16)|0,I[1]=q[1]+(q[0]<<8|q[0]>>>24)+q[7]|0,I[2]=q[2]+(q[1]<<16|q[1]>>>16)+(q[0]<<16|q[0]>>>16)|0,I[3]=q[3]+(q[2]<<8|q[2]>>>24)+q[1]|0,I[4]=q[4]+(q[3]<<16|q[3]>>>16)+(q[2]<<16|q[2]>>>16)|0,I[5]=q[5]+(q[4]<<8|q[4]>>>24)+q[3]|0,I[6]=q[6]+(q[5]<<16|q[5]>>>16)+(q[4]<<16|q[4]>>>16)|0,I[7]=q[7]+(q[6]<<8|q[6]>>>24)+q[5]|0}m.Rabbit=F._createHelper(z)}(),p.Rabbit)},5350:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(8891),E(8855),E(4147),E(2414),function(){var m=p,F=m.lib.StreamCipher,x=m.algo,ce=x.RC4=F.extend({_doReset:function(){for(var z=this._key,O=z.words,I=z.sigBytes,k=this._S=[],A=0;A<256;A++)k[A]=A;A=0;for(var H=0;A<256;A++){var Q=A%I,be=k[A];k[A]=k[H=(H+k[A]+(O[Q>>>2]>>>24-Q%4*8&255))%256],k[H]=be}this._i=this._j=0},_doProcessBlock:function(z,O){z[O]^=ne.call(this)},keySize:8,ivSize:0});function ne(){for(var z=this._S,O=this._i,I=this._j,k=0,A=0;A<4;A++){var H=z[O=(O+1)%256];z[O]=z[I=(I+z[O])%256],z[I]=H,k|=z[(z[O]+z[I])%256]<<24-8*A}return this._i=O,this._j=I,k}m.RC4=F._createHelper(ce);var q=x.RC4Drop=ce.extend({cfg:ce.cfg.extend({drop:192}),_doReset:function(){ce._doReset.call(this);for(var z=this.cfg.drop;z>0;z--)ne.call(this)}});m.RC4Drop=F._createHelper(q)}(),p.RC4)},447:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),function(m){var T=p,F=T.lib,x=F.WordArray,ce=F.Hasher,ne=T.algo,q=x.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),z=x.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),O=x.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),I=x.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),k=x.create([0,1518500249,1859775393,2400959708,2840853838]),A=x.create([1352829926,1548603684,1836072691,2053994217,0]),H=ne.RIPEMD160=ce.extend({_doReset:function(){this._hash=x.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Ve,Le){for(var J=0;J<16;J++){var ae=Le+J,de=Ve[ae];Ve[ae]=16711935&(de<<8|de>>>24)|4278255360&(de<<24|de>>>8)}var Cn,An,Nn,Et,Rt,jt,Dt,en,qe,We,ge,fe=this._hash.words,Re=k.words,_e=A.words,Xe=q.words,Ye=z.words,Ot=O.words,un=I.words;for(jt=Cn=fe[0],Dt=An=fe[1],en=Nn=fe[2],qe=Et=fe[3],We=Rt=fe[4],J=0;J<80;J+=1)ge=Cn+Ve[Le+Xe[J]]|0,ge+=J<16?Q(An,Nn,Et)+Re[0]:J<32?ee(An,Nn,Et)+Re[1]:J<48?be(An,Nn,Et)+Re[2]:J<64?me(An,Nn,Et)+Re[3]:Ne(An,Nn,Et)+Re[4],ge=(ge=Be(ge|=0,Ot[J]))+Rt|0,Cn=Rt,Rt=Et,Et=Be(Nn,10),Nn=An,An=ge,ge=jt+Ve[Le+Ye[J]]|0,ge+=J<16?Ne(Dt,en,qe)+_e[0]:J<32?me(Dt,en,qe)+_e[1]:J<48?be(Dt,en,qe)+_e[2]:J<64?ee(Dt,en,qe)+_e[3]:Q(Dt,en,qe)+_e[4],ge=(ge=Be(ge|=0,un[J]))+We|0,jt=We,We=qe,qe=Be(en,10),en=Dt,Dt=ge;ge=fe[1]+Nn+qe|0,fe[1]=fe[2]+Et+We|0,fe[2]=fe[3]+Rt+jt|0,fe[3]=fe[4]+Cn+Dt|0,fe[4]=fe[0]+An+en|0,fe[0]=ge},_doFinalize:function(){var Ve=this._data,Le=Ve.words,J=8*this._nDataBytes,ae=8*Ve.sigBytes;Le[ae>>>5]|=128<<24-ae%32,Le[14+(ae+64>>>9<<4)]=16711935&(J<<8|J>>>24)|4278255360&(J<<24|J>>>8),Ve.sigBytes=4*(Le.length+1),this._process();for(var de=this._hash,fe=de.words,Re=0;Re<5;Re++){var _e=fe[Re];fe[Re]=16711935&(_e<<8|_e>>>24)|4278255360&(_e<<24|_e>>>8)}return de},clone:function(){var Ve=ce.clone.call(this);return Ve._hash=this._hash.clone(),Ve}});function Q(Ve,Le,J){return Ve^Le^J}function ee(Ve,Le,J){return Ve&Le|~Ve&J}function be(Ve,Le,J){return(Ve|~Le)^J}function me(Ve,Le,J){return Ve&J|Le&~J}function Ne(Ve,Le,J){return Ve^(Le|~J)}function Be(Ve,Le){return Ve<<Le|Ve>>>32-Le}T.RIPEMD160=ce._createHelper(H),T.HmacRIPEMD160=ce._createHmacHelper(H)}(Math),p.RIPEMD160)},9986:function(Jt,ke,E){var m,T,F,x,ne,q,p;Jt.exports=(p=E(7656),F=(T=(m=p).lib).WordArray,ne=[],q=m.algo.SHA1=(x=T.Hasher).extend({_doReset:function(){this._hash=new F.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(z,O){for(var I=this._hash.words,k=I[0],A=I[1],H=I[2],Q=I[3],ee=I[4],be=0;be<80;be++){if(be<16)ne[be]=0|z[O+be];else{var me=ne[be-3]^ne[be-8]^ne[be-14]^ne[be-16];ne[be]=me<<1|me>>>31}var Ne=(k<<5|k>>>27)+ee+ne[be];Ne+=be<20?1518500249+(A&H|~A&Q):be<40?1859775393+(A^H^Q):be<60?(A&H|A&Q|H&Q)-1894007588:(A^H^Q)-899497514,ee=Q,Q=H,H=A<<30|A>>>2,A=k,k=Ne}I[0]=I[0]+k|0,I[1]=I[1]+A|0,I[2]=I[2]+H|0,I[3]=I[3]+Q|0,I[4]=I[4]+ee|0},_doFinalize:function(){var z=this._data,O=z.words,I=8*this._nDataBytes,k=8*z.sigBytes;return O[k>>>5]|=128<<24-k%32,O[14+(k+64>>>9<<4)]=Math.floor(I/4294967296),O[15+(k+64>>>9<<4)]=I,z.sigBytes=4*O.length,this._process(),this._hash},clone:function(){var z=x.clone.call(this);return z._hash=this._hash.clone(),z}}),m.SHA1=x._createHelper(q),m.HmacSHA1=x._createHmacHelper(q),p.SHA1)},9225:function(Jt,ke,E){var m,F,x,ce,ne,p;Jt.exports=(p=E(7656),E(5168),F=(m=p).lib.WordArray,ne=(x=m.algo).SHA224=(ce=x.SHA256).extend({_doReset:function(){this._hash=new F.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var q=ce._doFinalize.call(this);return q.sigBytes-=4,q}}),m.SHA224=ce._createHelper(ne),m.HmacSHA224=ce._createHmacHelper(ne),p.SHA224)},5168:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),function(m){var T=p,F=T.lib,x=F.WordArray,ce=F.Hasher,ne=T.algo,q=[],z=[];!function(){function k(ee){for(var be=m.sqrt(ee),me=2;me<=be;me++)if(!(ee%me))return!1;return!0}function A(ee){return 4294967296*(ee-(0|ee))|0}for(var H=2,Q=0;Q<64;)k(H)&&(Q<8&&(q[Q]=A(m.pow(H,.5))),z[Q]=A(m.pow(H,1/3)),Q++),H++}();var O=[],I=ne.SHA256=ce.extend({_doReset:function(){this._hash=new x.init(q.slice(0))},_doProcessBlock:function(k,A){for(var H=this._hash.words,Q=H[0],ee=H[1],be=H[2],me=H[3],Ne=H[4],Be=H[5],Ve=H[6],Le=H[7],J=0;J<64;J++){if(J<16)O[J]=0|k[A+J];else{var ae=O[J-15],fe=O[J-2];O[J]=((ae<<25|ae>>>7)^(ae<<14|ae>>>18)^ae>>>3)+O[J-7]+((fe<<15|fe>>>17)^(fe<<13|fe>>>19)^fe>>>10)+O[J-16]}var Xe=Q&ee^Q&be^ee&be,un=Le+((Ne<<26|Ne>>>6)^(Ne<<21|Ne>>>11)^(Ne<<7|Ne>>>25))+(Ne&Be^~Ne&Ve)+z[J]+O[J];Le=Ve,Ve=Be,Be=Ne,Ne=me+un|0,me=be,be=ee,ee=Q,Q=un+(((Q<<30|Q>>>2)^(Q<<19|Q>>>13)^(Q<<10|Q>>>22))+Xe)|0}H[0]=H[0]+Q|0,H[1]=H[1]+ee|0,H[2]=H[2]+be|0,H[3]=H[3]+me|0,H[4]=H[4]+Ne|0,H[5]=H[5]+Be|0,H[6]=H[6]+Ve|0,H[7]=H[7]+Le|0},_doFinalize:function(){var k=this._data,A=k.words,H=8*this._nDataBytes,Q=8*k.sigBytes;return A[Q>>>5]|=128<<24-Q%32,A[14+(Q+64>>>9<<4)]=m.floor(H/4294967296),A[15+(Q+64>>>9<<4)]=H,k.sigBytes=4*A.length,this._process(),this._hash},clone:function(){var k=ce.clone.call(this);return k._hash=this._hash.clone(),k}});T.SHA256=ce._createHelper(I),T.HmacSHA256=ce._createHmacHelper(I)}(Math),p.SHA256)},3752:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(4501),function(m){var T=p,F=T.lib,x=F.WordArray,ce=F.Hasher,q=T.x64.Word,z=T.algo,O=[],I=[],k=[];!function(){for(var Q=1,ee=0,be=0;be<24;be++){O[Q+5*ee]=(be+1)*(be+2)/2%64;var Ne=(2*Q+3*ee)%5;Q=ee%5,ee=Ne}for(Q=0;Q<5;Q++)for(ee=0;ee<5;ee++)I[Q+5*ee]=ee+(2*Q+3*ee)%5*5;for(var Be=1,Ve=0;Ve<24;Ve++){for(var Le=0,J=0,ae=0;ae<7;ae++){if(1&Be){var de=(1<<ae)-1;de<32?J^=1<<de:Le^=1<<de-32}128&Be?Be=Be<<1^113:Be<<=1}k[Ve]=q.create(Le,J)}}();var A=[];!function(){for(var Q=0;Q<25;Q++)A[Q]=q.create()}();var H=z.SHA3=ce.extend({cfg:ce.cfg.extend({outputLength:512}),_doReset:function(){for(var Q=this._state=[],ee=0;ee<25;ee++)Q[ee]=new q.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Q,ee){for(var be=this._state,me=this.blockSize/2,Ne=0;Ne<me;Ne++){var Be=Q[ee+2*Ne],Ve=Q[ee+2*Ne+1];Be=16711935&(Be<<8|Be>>>24)|4278255360&(Be<<24|Be>>>8),(Le=be[Ne]).high^=Ve=16711935&(Ve<<8|Ve>>>24)|4278255360&(Ve<<24|Ve>>>8),Le.low^=Be}for(var J=0;J<24;J++){for(var ae=0;ae<5;ae++){for(var de=0,fe=0,Re=0;Re<5;Re++)de^=(Le=be[ae+5*Re]).high,fe^=Le.low;var _e=A[ae];_e.high=de,_e.low=fe}for(ae=0;ae<5;ae++){var Xe=A[(ae+4)%5],Ye=A[(ae+1)%5],Ot=Ye.high,un=Ye.low;for(de=Xe.high^(Ot<<1|un>>>31),fe=Xe.low^(un<<1|Ot>>>31),Re=0;Re<5;Re++)(Le=be[ae+5*Re]).high^=de,Le.low^=fe}for(var Cn=1;Cn<25;Cn++){var An=(Le=be[Cn]).high,Nn=Le.low,Et=O[Cn];Et<32?(de=An<<Et|Nn>>>32-Et,fe=Nn<<Et|An>>>32-Et):(de=Nn<<Et-32|An>>>64-Et,fe=An<<Et-32|Nn>>>64-Et);var Rt=A[I[Cn]];Rt.high=de,Rt.low=fe}var jt=A[0],Dt=be[0];for(jt.high=Dt.high,jt.low=Dt.low,ae=0;ae<5;ae++)for(Re=0;Re<5;Re++){var en=A[Cn=ae+5*Re],qe=A[(ae+1)%5+5*Re],We=A[(ae+2)%5+5*Re];(Le=be[Cn]).high=en.high^~qe.high&We.high,Le.low=en.low^~qe.low&We.low}var Le,ge=k[J];(Le=be[0]).high^=ge.high,Le.low^=ge.low}},_doFinalize:function(){var Q=this._data,ee=Q.words,me=8*Q.sigBytes,Ne=32*this.blockSize;ee[me>>>5]|=1<<24-me%32,ee[(m.ceil((me+1)/Ne)*Ne>>>5)-1]|=128,Q.sigBytes=4*ee.length,this._process();for(var Be=this._state,Ve=this.cfg.outputLength/8,Le=Ve/8,J=[],ae=0;ae<Le;ae++){var de=Be[ae],fe=de.high,Re=de.low;fe=16711935&(fe<<8|fe>>>24)|4278255360&(fe<<24|fe>>>8),J.push(Re=16711935&(Re<<8|Re>>>24)|4278255360&(Re<<24|Re>>>8)),J.push(fe)}return new x.init(J,Ve)},clone:function(){for(var Q=ce.clone.call(this),ee=Q._state=this._state.slice(0),be=0;be<25;be++)ee[be]=ee[be].clone();return Q}});T.SHA3=ce._createHelper(H),T.HmacSHA3=ce._createHmacHelper(H)}(Math),p.SHA3)},4068:function(Jt,ke,E){var m,T,F,x,ce,ne,q,p;Jt.exports=(p=E(7656),E(4501),E(885),F=(T=(m=p).x64).Word,x=T.WordArray,q=(ce=m.algo).SHA384=(ne=ce.SHA512).extend({_doReset:function(){this._hash=new x.init([new F.init(3418070365,3238371032),new F.init(1654270250,914150663),new F.init(2438529370,812702999),new F.init(355462360,4144912697),new F.init(1731405415,4290775857),new F.init(2394180231,1750603025),new F.init(3675008525,1694076839),new F.init(1203062813,3204075428)])},_doFinalize:function(){var z=ne._doFinalize.call(this);return z.sigBytes-=16,z}}),m.SHA384=ne._createHelper(q),m.HmacSHA384=ne._createHmacHelper(q),p.SHA384)},885:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(4501),function(){var m=p,F=m.lib.Hasher,x=m.x64,ce=x.Word,ne=x.WordArray,q=m.algo;function z(){return ce.create.apply(ce,arguments)}var O=[z(1116352408,3609767458),z(1899447441,602891725),z(3049323471,3964484399),z(3921009573,2173295548),z(961987163,4081628472),z(1508970993,3053834265),z(2453635748,2937671579),z(2870763221,3664609560),z(3624381080,2734883394),z(310598401,1164996542),z(607225278,1323610764),z(1426881987,3590304994),z(1925078388,4068182383),z(2162078206,991336113),z(2614888103,633803317),z(3248222580,3479774868),z(3835390401,2666613458),z(4022224774,944711139),z(264347078,2341262773),z(604807628,2007800933),z(770255983,1495990901),z(1249150122,1856431235),z(1555081692,3175218132),z(1996064986,2198950837),z(2554220882,3999719339),z(2821834349,766784016),z(2952996808,2566594879),z(3210313671,3203337956),z(3336571891,1034457026),z(3584528711,2466948901),z(113926993,3758326383),z(338241895,168717936),z(666307205,1188179964),z(773529912,1546045734),z(1294757372,1522805485),z(1396182291,2643833823),z(1695183700,2343527390),z(1986661051,1014477480),z(2177026350,1206759142),z(2456956037,344077627),z(2730485921,1290863460),z(2820302411,3158454273),z(3259730800,3505952657),z(3345764771,106217008),z(3516065817,3606008344),z(3600352804,1432725776),z(4094571909,1467031594),z(275423344,851169720),z(430227734,3100823752),z(506948616,1363258195),z(659060556,3750685593),z(883997877,3785050280),z(958139571,3318307427),z(1322822218,3812723403),z(1537002063,2003034995),z(1747873779,3602036899),z(1955562222,1575990012),z(2024104815,1125592928),z(2227730452,2716904306),z(2361852424,442776044),z(2428436474,593698344),z(2756734187,3733110249),z(3204031479,2999351573),z(3329325298,3815920427),z(3391569614,3928383900),z(3515267271,566280711),z(3940187606,3454069534),z(4118630271,4000239992),z(116418474,1914138554),z(174292421,2731055270),z(289380356,3203993006),z(460393269,320620315),z(685471733,587496836),z(852142971,1086792851),z(1017036298,365543100),z(1126000580,2618297676),z(1288033470,3409855158),z(1501505948,4234509866),z(1607167915,987167468),z(1816402316,1246189591)],I=[];!function(){for(var A=0;A<80;A++)I[A]=z()}();var k=q.SHA512=F.extend({_doReset:function(){this._hash=new ne.init([new ce.init(1779033703,4089235720),new ce.init(3144134277,2227873595),new ce.init(1013904242,4271175723),new ce.init(2773480762,1595750129),new ce.init(1359893119,2917565137),new ce.init(2600822924,725511199),new ce.init(528734635,4215389547),new ce.init(1541459225,327033209)])},_doProcessBlock:function(A,H){for(var Q=this._hash.words,ee=Q[0],be=Q[1],me=Q[2],Ne=Q[3],Be=Q[4],Ve=Q[5],Le=Q[6],J=Q[7],ae=ee.high,de=ee.low,fe=be.high,Re=be.low,_e=me.high,Xe=me.low,Ye=Ne.high,Ot=Ne.low,un=Be.high,Cn=Be.low,An=Ve.high,Nn=Ve.low,Et=Le.high,Rt=Le.low,jt=J.high,Dt=J.low,en=ae,qe=de,We=fe,ge=Re,mt=_e,Ft=Xe,Lt=Ye,bn=Ot,it=un,dt=Cn,$t=An,Pn=Nn,qn=Et,Pi=Rt,hi=jt,Ci=Dt,qt=0;qt<80;qt++){var Ie,Te,Ge=I[qt];if(qt<16)Te=Ge.high=0|A[H+2*qt],Ie=Ge.low=0|A[H+2*qt+1];else{var kt=I[qt-15],Gt=kt.high,En=kt.low,Mi=(En>>>1|Gt<<31)^(En>>>8|Gt<<24)^(En>>>7|Gt<<25),yi=I[qt-2],bi=yi.high,rr=yi.low,Si=(rr>>>19|bi<<13)^(rr<<3|bi>>>29)^(rr>>>6|bi<<26),Ar=I[qt-7],rs=I[qt-16],On=rs.low;Ge.high=Te=(Te=(Te=((Gt>>>1|En<<31)^(Gt>>>8|En<<24)^Gt>>>7)+Ar.high+((Ie=Mi+Ar.low)>>>0<Mi>>>0?1:0))+((bi>>>19|rr<<13)^(bi<<3|rr>>>29)^bi>>>6)+((Ie+=Si)>>>0<Si>>>0?1:0))+rs.high+((Ie+=On)>>>0<On>>>0?1:0),Ge.low=Ie}var X,bt=it&$t^~it&qn,Pt=dt&Pn^~dt&Pi,Vt=en&We^en&mt^We&mt,ft=(qe>>>28|en<<4)^(qe<<30|en>>>2)^(qe<<25|en>>>7),st=O[qt],G=st.low,Ee=hi+((it>>>14|dt<<18)^(it>>>18|dt<<14)^(it<<23|dt>>>9))+((X=Ci+((dt>>>14|it<<18)^(dt>>>18|it<<14)^(dt<<23|it>>>9)))>>>0<Ci>>>0?1:0),ot=ft+(qe&ge^qe&Ft^ge&Ft);hi=qn,Ci=Pi,qn=$t,Pi=Pn,$t=it,Pn=dt,it=Lt+(Ee=(Ee=(Ee=Ee+bt+((X+=Pt)>>>0<Pt>>>0?1:0))+st.high+((X+=G)>>>0<G>>>0?1:0))+Te+((X+=Ie)>>>0<Ie>>>0?1:0))+((dt=bn+X|0)>>>0<bn>>>0?1:0)|0,Lt=mt,bn=Ft,mt=We,Ft=ge,We=en,ge=qe,en=Ee+(((en>>>28|qe<<4)^(en<<30|qe>>>2)^(en<<25|qe>>>7))+Vt+(ot>>>0<ft>>>0?1:0))+((qe=X+ot|0)>>>0<X>>>0?1:0)|0}de=ee.low=de+qe,ee.high=ae+en+(de>>>0<qe>>>0?1:0),Re=be.low=Re+ge,be.high=fe+We+(Re>>>0<ge>>>0?1:0),Xe=me.low=Xe+Ft,me.high=_e+mt+(Xe>>>0<Ft>>>0?1:0),Ot=Ne.low=Ot+bn,Ne.high=Ye+Lt+(Ot>>>0<bn>>>0?1:0),Cn=Be.low=Cn+dt,Be.high=un+it+(Cn>>>0<dt>>>0?1:0),Nn=Ve.low=Nn+Pn,Ve.high=An+$t+(Nn>>>0<Pn>>>0?1:0),Rt=Le.low=Rt+Pi,Le.high=Et+qn+(Rt>>>0<Pi>>>0?1:0),Dt=J.low=Dt+Ci,J.high=jt+hi+(Dt>>>0<Ci>>>0?1:0)},_doFinalize:function(){var A=this._data,H=A.words,Q=8*this._nDataBytes,ee=8*A.sigBytes;return H[ee>>>5]|=128<<24-ee%32,H[30+(ee+128>>>10<<5)]=Math.floor(Q/4294967296),H[31+(ee+128>>>10<<5)]=Q,A.sigBytes=4*H.length,this._process(),this._hash.toX32()},clone:function(){var A=F.clone.call(this);return A._hash=this._hash.clone(),A},blockSize:32});m.SHA512=F._createHelper(k),m.HmacSHA512=F._createHmacHelper(k)}(),p.SHA512)},2515:function(Jt,ke,E){var p;Jt.exports=(p=E(7656),E(8891),E(8855),E(4147),E(2414),function(){var m=p,T=m.lib,F=T.WordArray,x=T.BlockCipher,ce=m.algo,ne=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],q=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],z=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],O=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],I=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],k=ce.DES=x.extend({_doReset:function(){for(var be=this._key.words,me=[],Ne=0;Ne<56;Ne++){var Be=ne[Ne]-1;me[Ne]=be[Be>>>5]>>>31-Be%32&1}for(var Ve=this._subKeys=[],Le=0;Le<16;Le++){var J=Ve[Le]=[],ae=z[Le];for(Ne=0;Ne<24;Ne++)J[Ne/6|0]|=me[(q[Ne]-1+ae)%28]<<31-Ne%6,J[4+(Ne/6|0)]|=me[28+(q[Ne+24]-1+ae)%28]<<31-Ne%6;for(J[0]=J[0]<<1|J[0]>>>31,Ne=1;Ne<7;Ne++)J[Ne]=J[Ne]>>>4*(Ne-1)+3;J[7]=J[7]<<5|J[7]>>>27}var de=this._invSubKeys=[];for(Ne=0;Ne<16;Ne++)de[Ne]=Ve[15-Ne]},encryptBlock:function(ee,be){this._doCryptBlock(ee,be,this._subKeys)},decryptBlock:function(ee,be){this._doCryptBlock(ee,be,this._invSubKeys)},_doCryptBlock:function(ee,be,me){this._lBlock=ee[be],this._rBlock=ee[be+1],A.call(this,4,252645135),A.call(this,16,65535),H.call(this,2,858993459),H.call(this,8,16711935),A.call(this,1,1431655765);for(var Ne=0;Ne<16;Ne++){for(var Be=me[Ne],Ve=this._lBlock,Le=this._rBlock,J=0,ae=0;ae<8;ae++)J|=O[ae][((Le^Be[ae])&I[ae])>>>0];this._lBlock=Le,this._rBlock=Ve^J}var de=this._lBlock;this._lBlock=this._rBlock,this._rBlock=de,A.call(this,1,1431655765),H.call(this,8,16711935),H.call(this,2,858993459),A.call(this,16,65535),A.call(this,4,252645135),ee[be]=this._lBlock,ee[be+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function A(ee,be){var me=(this._lBlock>>>ee^this._rBlock)&be;this._rBlock^=me,this._lBlock^=me<<ee}function H(ee,be){var me=(this._rBlock>>>ee^this._lBlock)&be;this._lBlock^=me,this._rBlock^=me<<ee}m.DES=x._createHelper(k);var Q=ce.TripleDES=x.extend({_doReset:function(){var be=this._key.words;if(2!==be.length&&4!==be.length&&be.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var me=be.slice(0,2),Ne=be.length<4?be.slice(0,2):be.slice(2,4),Be=be.length<6?be.slice(0,2):be.slice(4,6);this._des1=k.createEncryptor(F.create(me)),this._des2=k.createEncryptor(F.create(Ne)),this._des3=k.createEncryptor(F.create(Be))},encryptBlock:function(ee,be){this._des1.encryptBlock(ee,be),this._des2.decryptBlock(ee,be),this._des3.encryptBlock(ee,be)},decryptBlock:function(ee,be){this._des3.decryptBlock(ee,be),this._des2.encryptBlock(ee,be),this._des1.decryptBlock(ee,be)},keySize:6,ivSize:2,blockSize:2});m.TripleDES=x._createHelper(Q)}(),p.TripleDES)},4501:function(Jt,ke,E){var F,x,ce,ne,p;Jt.exports=(p=E(7656),x=(F=p.lib).Base,ce=F.WordArray,(ne=p.x64={}).Word=x.extend({init:function(O,I){this.high=O,this.low=I}}),ne.WordArray=x.extend({init:function(O,I){O=this.words=O||[],this.sigBytes=null!=I?I:8*O.length},toX32:function(){for(var O=this.words,I=O.length,k=[],A=0;A<I;A++){var H=O[A];k.push(H.high),k.push(H.low)}return ce.create(k,this.sigBytes)},clone:function(){for(var O=x.clone.call(this),I=O.words=this.words.slice(0),k=I.length,A=0;A<k;A++)I[A]=I[A].clone();return O}}),p)},1874:(Jt,ke,E)=>{"use strict";var m=me(E(3209)),F=me(E(3931)),ce=me(E(9246)),q=me(E(8084)),O=me(E(2042)),k=me(E(1951)),H=me(E(650)),Q=E(1498),be=me(E(5482));function me(fe){return fe&&fe.__esModule?fe:{default:fe}}var Ne=function(){},Be=function(Re,_e,Xe){var Ye=new Ne;if(typeof Re>"u")throw Error("No element to render on was provided.");return Ye._renderProperties=(0,O.default)(Re),Ye._encodings=[],Ye._options=be.default,Ye._errorHandler=new H.default(Ye),typeof _e<"u"&&((Xe=Xe||{}).format||(Xe.format=ae()),Ye.options(Xe)[Xe.format](_e,Xe).render()),Ye};for(var Ve in Be.getModule=function(fe){return m.default[fe]},m.default)m.default.hasOwnProperty(Ve)&&Le(m.default,Ve);function Le(fe,Re){Ne.prototype[Re]=Ne.prototype[Re.toUpperCase()]=Ne.prototype[Re.toLowerCase()]=function(_e,Xe){var Ye=this;return Ye._errorHandler.wrapBarcodeCall(function(){Xe.text=typeof Xe.text>"u"?void 0:""+Xe.text;var Ot=(0,F.default)(Ye._options,Xe);Ot=(0,k.default)(Ot);var Cn=J(_e,fe[Re],Ot);return Ye._encodings.push(Cn),Ye})}}function J(fe,Re,_e){var Xe=new Re(fe=""+fe,_e);if(!Xe.valid())throw new Q.InvalidInputException(Xe.constructor.name,fe);var Ye=Xe.encode();Ye=(0,ce.default)(Ye);for(var Ot=0;Ot<Ye.length;Ot++)Ye[Ot].options=(0,F.default)(_e,Ye[Ot].options);return Ye}function ae(){return m.default.CODE128?"CODE128":Object.keys(m.default)[0]}function de(fe,Re,_e){Re=(0,ce.default)(Re);for(var Xe=0;Xe<Re.length;Xe++)Re[Xe].options=(0,F.default)(_e,Re[Xe].options),(0,q.default)(Re[Xe].options);(0,q.default)(_e),new(0,fe.renderer)(fe.element,Re,_e).render(),fe.afterRender&&fe.afterRender()}Ne.prototype.options=function(fe){return this._options=(0,F.default)(this._options,fe),this},Ne.prototype.blank=function(fe){var Re=new Array(fe+1).join("0");return this._encodings.push({data:Re}),this},Ne.prototype.init=function(){var fe;if(this._renderProperties)for(var Re in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var _e=(0,F.default)(this._options,(fe=this._renderProperties[Re]).options);"auto"==_e.format&&(_e.format=ae()),this._errorHandler.wrapBarcodeCall(function(){var Ot=J(_e.value,m.default[_e.format.toUpperCase()],_e);de(fe,Ot,_e)})}},Ne.prototype.render=function(){if(!this._renderProperties)throw new Q.NoElementException;if(Array.isArray(this._renderProperties))for(var fe=0;fe<this._renderProperties.length;fe++)de(this._renderProperties[fe],this._encodings,this._options);else de(this._renderProperties,this._encodings,this._options);return this},Ne.prototype._defaults=be.default,typeof window<"u"&&(window.JsBarcode=Be),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(fe,Re){var _e=[];return jQuery(this).each(function(){_e.push(this)}),Be(_e,fe,Re)}),Jt.exports=Be},2933:(Jt,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=function m(T,F){(function E(m,T){if(!(m instanceof T))throw new TypeError("Cannot call a class as a function")})(this,m),this.data=T,this.text=F.text||T,this.options=F}},3166:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function O(I,k){for(var A=0;A<k.length;A++){var H=k[A];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,k,A){return k&&O(I.prototype,k),A&&O(I,A),I}}(),T=function x(O){return O&&O.__esModule?O:{default:O}}(E(2933)),F=E(9973),z=function(O){function I(k,A){!function ce(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}(this,I);var H=function ne(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?O:I}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k.substring(1),A));return H.bytes=k.split("").map(function(Q){return Q.charCodeAt(0)}),H}return function q(O,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}(I,O),p(I,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var A=this.bytes,H=A.shift()-105,Q=F.SET_BY_CODE[H];if(void 0===Q)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&A.unshift(F.FNC1);var ee=I.next(A,1,Q);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:I.getBar(H)+ee.result+I.getBar((ee.checksum+H)%F.MODULO)+I.getBar(F.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var A=this.options.ean128||!1;return"string"==typeof A&&(A="true"===A.toLowerCase()),A}}],[{key:"getBar",value:function(A){return F.BARS[A]?F.BARS[A].toString():""}},{key:"correctIndex",value:function(A,H){if(H===F.SET_A){var Q=A.shift();return Q<32?Q+64:Q-32}return H===F.SET_B?A.shift()-32:10*(A.shift()-48)+A.shift()-48}},{key:"next",value:function(A,H,Q){if(!A.length)return{result:"",checksum:0};var ee=void 0,be=void 0;if(A[0]>=200){be=A.shift()-105;var me=F.SWAP[be];void 0!==me?ee=I.next(A,H+1,me):((Q===F.SET_A||Q===F.SET_B)&&be===F.SHIFT&&(A[0]=Q===F.SET_A?A[0]>95?A[0]-96:A[0]:A[0]<32?A[0]+96:A[0]),ee=I.next(A,H+1,Q))}else be=I.correctIndex(A,Q),ee=I.next(A,H+1,Q);return{result:I.getBar(be)+ee.result,checksum:be*H+ee.checksum}}}]),I}(T.default);ke.default=z},4675:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function O(I,k){for(var A=0;A<k.length;A++){var H=k[A];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,k,A){return k&&O(I.prototype,k),A&&O(I,A),I}}(),T=function x(O){return O&&O.__esModule?O:{default:O}}(E(3166)),F=E(9973),z=function(O){function I(k,A){return function ce(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}(this,I),function ne(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?O:I}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,F.A_START_CHAR+k,A))}return function q(O,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}(I,O),p(I,[{key:"valid",value:function(){return new RegExp("^"+F.A_CHARS+"+$").test(this.data)}}]),I}(T.default);ke.default=z},4502:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function O(I,k){for(var A=0;A<k.length;A++){var H=k[A];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,k,A){return k&&O(I.prototype,k),A&&O(I,A),I}}(),T=function x(O){return O&&O.__esModule?O:{default:O}}(E(3166)),F=E(9973),z=function(O){function I(k,A){return function ce(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}(this,I),function ne(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?O:I}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,F.B_START_CHAR+k,A))}return function q(O,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}(I,O),p(I,[{key:"valid",value:function(){return new RegExp("^"+F.B_CHARS+"+$").test(this.data)}}]),I}(T.default);ke.default=z},2693:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function O(I,k){for(var A=0;A<k.length;A++){var H=k[A];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,k,A){return k&&O(I.prototype,k),A&&O(I,A),I}}(),T=function x(O){return O&&O.__esModule?O:{default:O}}(E(3166)),F=E(9973),z=function(O){function I(k,A){return function ce(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}(this,I),function ne(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?O:I}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,F.C_START_CHAR+k,A))}return function q(O,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}(I,O),p(I,[{key:"valid",value:function(){return new RegExp("^"+F.C_CHARS+"+$").test(this.data)}}]),I}(T.default);ke.default=z},714:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var m=x(E(3166)),F=x(E(5113));function x(O){return O&&O.__esModule?O:{default:O}}function ne(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?O:I}var z=function(O){function I(k,A){if(function ce(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}(this,I),/^[\x00-\x7F\xC8-\xD3]+$/.test(k))var H=ne(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,(0,F.default)(k),A));else H=ne(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,A));return ne(H)}return function q(O,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}(I,O),I}(m.default);ke.default=z},5113:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=E(9973),m=function(q){return q.match(new RegExp("^"+p.A_CHARS+"*"))[0].length},T=function(q){return q.match(new RegExp("^"+p.B_CHARS+"*"))[0].length},F=function(q){return q.match(new RegExp("^"+p.C_CHARS+"*"))[0]};function x(ne,q){var z=q?p.A_CHARS:p.B_CHARS,O=ne.match(new RegExp("^("+z+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(O)return O[1]+"\xcc"+ce(ne.substring(O[1].length));var I=ne.match(new RegExp("^"+z+"+"))[0];return I.length===ne.length?ne:I+String.fromCharCode(q?205:206)+x(ne.substring(I.length),!q)}function ce(ne){var q=F(ne),z=q.length;if(z===ne.length)return ne;ne=ne.substring(z);var O=m(ne)>=T(ne);return q+String.fromCharCode(O?206:205)+x(ne,O)}ke.default=function(ne){var q=void 0;if(F(ne).length>=2)q=p.C_START_CHAR+ce(ne);else{var O=m(ne)>T(ne);q=(O?p.A_START_CHAR:p.B_START_CHAR)+x(ne,O)}return q.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(I,k){return"\xcb"+k})}},9973:(Jt,ke)=>{"use strict";var E;function p(Ve,Le,J){return Le in Ve?Object.defineProperty(Ve,Le,{value:J,enumerable:!0,configurable:!0,writable:!0}):Ve[Le]=J,Ve}Object.defineProperty(ke,"__esModule",{value:!0});var m=ke.SET_A=0,T=ke.SET_B=1,F=ke.SET_C=2,ce=(ke.SHIFT=98,ke.START_A=103),ne=ke.START_B=104,q=ke.START_C=105;ke.MODULO=103,ke.STOP=106,ke.FNC1=207,ke.SET_BY_CODE=(p(E={},ce,m),p(E,ne,T),p(E,q,F),E),ke.SWAP={101:m,100:T,99:F},ke.A_START_CHAR="\xd0",ke.B_START_CHAR="\xd1",ke.C_START_CHAR="\xd2",ke.A_CHARS="[\0-_\xc8-\xcf]",ke.B_CHARS="[ -\x7f\xc8-\xcf]",ke.C_CHARS="(\xcf*[0-9]{2}\xcf*)",ke.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},9152:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.CODE128C=ke.CODE128B=ke.CODE128A=ke.CODE128=void 0;var m=z(E(714)),F=z(E(4675)),ce=z(E(4502)),q=z(E(2693));function z(O){return O&&O.__esModule?O:{default:O}}ke.CODE128=m.default,ke.CODE128A=F.default,ke.CODE128B=ce.default,ke.CODE128C=q.default},3803:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.CODE39=void 0;var p=function(){function ee(be,me){for(var Ne=0;Ne<me.length;Ne++){var Be=me[Ne];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(be,Be.key,Be)}}return function(be,me,Ne){return me&&ee(be.prototype,me),Ne&&ee(be,Ne),be}}(),q=function(ee){function be(me,Ne){return function x(ee,be){if(!(ee instanceof be))throw new TypeError("Cannot call a class as a function")}(this,be),me=me.toUpperCase(),Ne.mod43&&(me+=function A(ee){return z[ee]}(function Q(ee){for(var be=0,me=0;me<ee.length;me++)be+=H(ee[me]);return be%=43}(me))),function ce(ee,be){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!be||"object"!=typeof be&&"function"!=typeof be?ee:be}(this,(be.__proto__||Object.getPrototypeOf(be)).call(this,me,Ne))}return function ne(ee,be){if("function"!=typeof be&&null!==be)throw new TypeError("Super expression must either be null or a function, not "+typeof be);ee.prototype=Object.create(be&&be.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),be&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,be):ee.__proto__=be)}(be,ee),p(be,[{key:"encode",value:function(){for(var Ne=I("*"),Be=0;Be<this.data.length;Be++)Ne+=I(this.data[Be])+"0";return{data:Ne+=I("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),be}(function F(ee){return ee&&ee.__esModule?ee:{default:ee}}(E(2933)).default),z=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],O=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function I(ee){return function k(ee){return O[ee].toString(2)}(H(ee))}function H(ee){return z.indexOf(ee)}ke.CODE39=q},7331:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function k(A,H){for(var Q=0;Q<H.length;Q++){var ee=H[Q];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(A,ee.key,ee)}}return function(A,H,Q){return H&&k(A.prototype,H),Q&&k(A,Q),A}}(),m=E(2846),F=ne(E(2143));function ne(k){return k&&k.__esModule?k:{default:k}}var I=function(k){function A(H,Q){!function q(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);var ee=function z(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?k:A}(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,H,Q));return ee.fontSize=!Q.flat&&Q.fontSize>10*Q.width?10*Q.width:Q.fontSize,ee.guardHeight=Q.height+ee.fontSize/2+Q.textMargin,ee}return function O(k,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}(A,k),p(A,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(Q,ee){return this.text.substr(Q,ee)}},{key:"leftEncode",value:function(Q,ee){return(0,F.default)(Q,ee)}},{key:"rightText",value:function(Q,ee){return this.text.substr(Q,ee)}},{key:"rightEncode",value:function(Q,ee){return(0,F.default)(Q,ee)}},{key:"encodeGuarded",value:function(){var Q={fontSize:this.fontSize},ee={height:this.guardHeight};return[{data:m.SIDE_BIN,options:ee},{data:this.leftEncode(),text:this.leftText(),options:Q},{data:m.MIDDLE_BIN,options:ee},{data:this.rightEncode(),text:this.rightText(),options:Q},{data:m.SIDE_BIN,options:ee}]}},{key:"encodeFlat",value:function(){return{data:[m.SIDE_BIN,this.leftEncode(),m.MIDDLE_BIN,this.rightEncode(),m.SIDE_BIN].join(""),text:this.text}}}]),A}(ne(E(2933)).default);ke.default=I},7779:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function k(A,H){for(var Q=0;Q<H.length;Q++){var ee=H[Q];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(A,ee.key,ee)}}return function(A,H,Q){return H&&k(A.prototype,H),Q&&k(A,Q),A}}(),m=function k(A,H,Q){null===A&&(A=Function.prototype);var ee=Object.getOwnPropertyDescriptor(A,H);if(void 0===ee){var be=Object.getPrototypeOf(A);return null===be?void 0:k(be,H,Q)}if("value"in ee)return ee.value;var me=ee.get;return void 0===me?void 0:me.call(Q)},T=E(2846),x=function ce(k){return k&&k.__esModule?k:{default:k}}(E(7331)),O=function(A){return(10-A.substr(0,12).split("").map(function(Q){return+Q}).reduce(function(Q,ee,be){return be%2?Q+3*ee:Q+ee},0)%10)%10},I=function(k){function A(H,Q){(function ne(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")})(this,A),-1!==H.search(/^[0-9]{12}$/)&&(H+=O(H));var ee=function q(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?k:A}(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,H,Q));return ee.lastChar=Q.lastChar,ee}return function z(k,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}(A,k),p(A,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===O(this.data)}},{key:"leftText",value:function(){return m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var Q=this.data.substr(1,6),ee=T.EAN13_STRUCTURE[this.data[0]];return m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"leftEncode",this).call(this,Q,ee)}},{key:"rightText",value:function(){return m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var Q=this.data.substr(7,6);return m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"rightEncode",this).call(this,Q,"RRRRRR")}},{key:"encodeGuarded",value:function(){var Q=m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(Q.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(Q.push({data:"00"}),Q.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),Q}}]),A}(x.default);ke.default=I},197:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function k(A,H){for(var Q=0;Q<H.length;Q++){var ee=H[Q];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(A,ee.key,ee)}}return function(A,H,Q){return H&&k(A.prototype,H),Q&&k(A,Q),A}}(),m=E(2846),F=ne(E(2143));function ne(k){return k&&k.__esModule?k:{default:k}}var I=function(k){function A(H,Q){return function q(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A),function z(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?k:A}(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,H,Q))}return function O(k,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}(A,k),p(A,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var Q=m.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,F.default)(this.data,Q,"01"),text:this.text}}}]),A}(ne(E(2933)).default);ke.default=I},6400:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function A(H,Q){for(var ee=0;ee<Q.length;ee++){var be=Q[ee];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(H,be.key,be)}}return function(H,Q,ee){return Q&&A(H.prototype,Q),ee&&A(H,ee),H}}(),m=E(2846),F=ne(E(2143));function ne(A){return A&&A.__esModule?A:{default:A}}var k=function(A){function H(Q,ee){return function q(A,H){if(!(A instanceof H))throw new TypeError("Cannot call a class as a function")}(this,H),function z(A,H){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!H||"object"!=typeof H&&"function"!=typeof H?A:H}(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,Q,ee))}return function O(A,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function, not "+typeof H);A.prototype=Object.create(H&&H.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(A,H):A.__proto__=H)}(H,A),p(H,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var ee=m.EAN5_STRUCTURE[function(H){return H.split("").map(function(ee){return+ee}).reduce(function(ee,be,me){return me%2?ee+9*be:ee+3*be},0)%10}(this.data)];return{data:"1011"+(0,F.default)(this.data,ee,"01"),text:this.text}}}]),H}(ne(E(2933)).default);ke.default=k},2587:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function I(k,A){for(var H=0;H<A.length;H++){var Q=A[H];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(k,Q.key,Q)}}return function(k,A,H){return A&&I(k.prototype,A),H&&I(k,H),k}}(),m=function I(k,A,H){null===k&&(k=Function.prototype);var Q=Object.getOwnPropertyDescriptor(k,A);if(void 0===Q){var ee=Object.getPrototypeOf(k);return null===ee?void 0:I(ee,A,H)}if("value"in Q)return Q.value;var be=Q.get;return void 0===be?void 0:be.call(H)},F=function x(I){return I&&I.__esModule?I:{default:I}}(E(7331)),z=function(k){return(10-k.substr(0,7).split("").map(function(H){return+H}).reduce(function(H,Q,ee){return ee%2?H+Q:H+3*Q},0)%10)%10},O=function(I){function k(A,H){return function ce(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}(this,k),-1!==A.search(/^[0-9]{7}$/)&&(A+=z(A)),function ne(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?I:k}(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A,H))}return function q(I,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}(k,I),p(k,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===z(this.data)}},{key:"leftText",value:function(){return m(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var H=this.data.substr(0,4);return m(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"leftEncode",this).call(this,H,"LLLL")}},{key:"rightText",value:function(){return m(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var H=this.data.substr(4,4);return m(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"rightEncode",this).call(this,H,"RRRR")}}]),k}(F.default);ke.default=O},1541:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function k(A,H){for(var Q=0;Q<H.length;Q++){var ee=H[Q];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(A,ee.key,ee)}}return function(A,H,Q){return H&&k(A.prototype,H),Q&&k(A,Q),A}}();ke.checksum=I;var T=ce(E(2143));function ce(k){return k&&k.__esModule?k:{default:k}}var O=function(k){function A(H,Q){(function ne(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")})(this,A),-1!==H.search(/^[0-9]{11}$/)&&(H+=I(H));var ee=function q(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?k:A}(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,H,Q));return ee.displayValue=Q.displayValue,ee.fontSize=Q.fontSize>10*Q.width?10*Q.width:Q.fontSize,ee.guardHeight=Q.height+ee.fontSize/2+Q.textMargin,ee}return function z(k,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}(A,k),p(A,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==I(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var Q="";return Q+="101",Q+=(0,T.default)(this.data.substr(0,6),"LLLLLL"),Q+="01010",Q+=(0,T.default)(this.data.substr(6,6),"RRRRRR"),{data:Q+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var Q=[];return this.displayValue&&Q.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),Q.push({data:"101"+(0,T.default)(this.data[0],"L"),options:{height:this.guardHeight}}),Q.push({data:(0,T.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),Q.push({data:"01010",options:{height:this.guardHeight}}),Q.push({data:(0,T.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),Q.push({data:(0,T.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&Q.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),Q}}]),A}(ce(E(2933)).default);function I(k){var H,A=0;for(H=1;H<11;H+=2)A+=parseInt(k[H]);for(H=0;H<11;H+=2)A+=3*parseInt(k[H]);return(10-A%10)%10}ke.default=O},7638:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function Q(ee,be){for(var me=0;me<be.length;me++){var Ne=be[me];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(ee,Ne.key,Ne)}}return function(ee,be,me){return be&&Q(ee.prototype,be),me&&Q(ee,me),ee}}(),T=ne(E(2143)),x=ne(E(2933)),ce=E(1541);function ne(Q){return Q&&Q.__esModule?Q:{default:Q}}function z(Q,ee){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ee||"object"!=typeof ee&&"function"!=typeof ee?Q:ee}var I=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],k=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],A=function(Q){function ee(be,me){!function q(Q,ee){if(!(Q instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,ee);var Ne=z(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,be,me));if(Ne.isValid=!1,-1!==be.search(/^[0-9]{6}$/))Ne.middleDigits=be,Ne.upcA=H(be,"0"),Ne.text=me.text||""+Ne.upcA[0]+be+Ne.upcA[Ne.upcA.length-1],Ne.isValid=!0;else{if(-1===be.search(/^[01][0-9]{7}$/))return z(Ne);if(Ne.middleDigits=be.substring(1,be.length-1),Ne.upcA=H(Ne.middleDigits,be[0]),Ne.upcA[Ne.upcA.length-1]!==be[be.length-1])return z(Ne);Ne.isValid=!0}return Ne.displayValue=me.displayValue,Ne.fontSize=me.fontSize>10*me.width?10*me.width:me.fontSize,Ne.guardHeight=me.height+Ne.fontSize/2+me.textMargin,Ne}return function O(Q,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);Q.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,ee):Q.__proto__=ee)}(ee,Q),p(ee,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var me="";return me+="101",me+=this.encodeMiddleDigits(),{data:me+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var me=[];return this.displayValue&&me.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),me.push({data:"101",options:{height:this.guardHeight}}),me.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),me.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&me.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),me}},{key:"encodeMiddleDigits",value:function(){var me=this.upcA[0],Be=k[parseInt(this.upcA[this.upcA.length-1])][parseInt(me)];return(0,T.default)(this.middleDigits,Be)}}]),ee}(x.default);function H(Q,ee){for(var be=parseInt(Q[Q.length-1]),me=I[be],Ne="",Be=0,Ve=0;Ve<me.length;Ve++){var Le=me[Ve];Ne+="X"===Le?Q[Be++]:Le}return(Ne=""+ee+Ne)+(0,ce.checksum)(Ne)}ke.default=A},2846:(Jt,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.SIDE_BIN="101",ke.MIDDLE_BIN="01010",ke.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},ke.EAN2_STRUCTURE=["LL","LG","GL","GG"],ke.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],ke.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2143:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=E(2846);ke.default=function(F,x,ce){var ne=F.split("").map(function(z,O){return p.BINARIES[x[O]]}).map(function(z,O){return z?z[F[O]]:""});if(ce){var q=F.length-1;ne=ne.map(function(z,O){return O<q?z+ce:z})}return ne.join("")}},9995:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.UPCE=ke.UPC=ke.EAN2=ke.EAN5=ke.EAN8=ke.EAN13=void 0;var m=A(E(7779)),F=A(E(2587)),ce=A(E(6400)),q=A(E(197)),O=A(E(1541)),k=A(E(7638));function A(H){return H&&H.__esModule?H:{default:H}}ke.EAN13=m.default,ke.EAN8=F.default,ke.EAN5=ce.default,ke.EAN2=q.default,ke.UPC=O.default,ke.UPCE=k.default},9257:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.GenericBarcode=void 0;var p=function(){function z(O,I){for(var k=0;k<I.length;k++){var A=I[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,I,k){return I&&z(O.prototype,I),k&&z(O,k),O}}(),q=function(z){function O(I,k){return function x(z,O){if(!(z instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),function ce(z,O){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?z:O}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,k))}return function ne(z,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);z.prototype=Object.create(O&&O.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(z,O):z.__proto__=O)}(O,z),p(O,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),O}(function F(z){return z&&z.__esModule?z:{default:z}}(E(2933)).default);ke.GenericBarcode=q},3534:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function O(I,k){for(var A=0;A<k.length;A++){var H=k[A];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,k,A){return k&&O(I.prototype,k),A&&O(I,A),I}}(),m=E(2218),z=function(O){function I(){return function ce(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}(this,I),function ne(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?O:I}(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return function q(O,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}(I,O),p(I,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var A=this,H=this.data.match(/.{2}/g).map(function(Q){return A.encodePair(Q)}).join("");return{data:m.START_BIN+H+m.END_BIN,text:this.text}}},{key:"encodePair",value:function(A){var H=m.BINARIES[A[1]];return m.BINARIES[A[0]].split("").map(function(Q,ee){return("1"===Q?"111":"1")+("1"===H[ee]?"000":"0")}).join("")}}]),I}(function x(O){return O&&O.__esModule?O:{default:O}}(E(2933)).default);ke.default=z},6023:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function O(I,k){for(var A=0;A<k.length;A++){var H=k[A];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,k,A){return k&&O(I.prototype,k),A&&O(I,A),I}}(),T=function F(O){return O&&O.__esModule?O:{default:O}}(E(3534)),q=function(I){var k=I.substr(0,13).split("").map(function(A){return parseInt(A,10)}).reduce(function(A,H,Q){return A+H*(3-Q%2*2)},0);return 10*Math.ceil(k/10)-k},z=function(O){function I(k,A){return function x(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}(this,I),-1!==k.search(/^[0-9]{13}$/)&&(k+=q(k)),function ce(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?O:I}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,A))}return function ne(O,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}(I,O),p(I,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===q(this.data)}}]),I}(T.default);ke.default=z},2218:(Jt,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.START_BIN="1010",ke.END_BIN="11101",ke.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},9319:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.ITF14=ke.ITF=void 0;var m=x(E(3534)),F=x(E(6023));function x(ce){return ce&&ce.__esModule?ce:{default:ce}}ke.ITF=m.default,ke.ITF14=F.default},8778:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function O(I,k){for(var A=0;A<k.length;A++){var H=k[A];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,k,A){return k&&O(I.prototype,k),A&&O(I,A),I}}(),q=function(O){function I(k,A){return function x(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}(this,I),function ce(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?O:I}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,A))}return function ne(O,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}(I,O),p(I,[{key:"encode",value:function(){for(var A="110",H=0;H<this.data.length;H++){var ee=parseInt(this.data[H]).toString(2);ee=z(ee,4-ee.length);for(var be=0;be<ee.length;be++)A+="0"==ee[be]?"100":"110"}return{data:A+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),I}(function F(O){return O&&O.__esModule?O:{default:O}}(E(2933)).default);function z(O,I){for(var k=0;k<I;k++)O="0"+O;return O}ke.default=q},3167:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var m=function F(z){return z&&z.__esModule?z:{default:z}}(E(8778)),T=E(2821),q=function(z){function O(I,k){return function x(z,O){if(!(z instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),function ce(z,O){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?z:O}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I+(0,T.mod10)(I),k))}return function ne(z,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);z.prototype=Object.create(O&&O.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(z,O):z.__proto__=O)}(O,z),O}(m.default);ke.default=q},1522:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var m=function F(z){return z&&z.__esModule?z:{default:z}}(E(8778)),T=E(2821),q=function(z){function O(I,k){return function x(z,O){if(!(z instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),I+=(0,T.mod10)(I),I+=(0,T.mod10)(I),function ce(z,O){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?z:O}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,k))}return function ne(z,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);z.prototype=Object.create(O&&O.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(z,O):z.__proto__=O)}(O,z),O}(m.default);ke.default=q},8552:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var m=function F(z){return z&&z.__esModule?z:{default:z}}(E(8778)),T=E(2821),q=function(z){function O(I,k){return function x(z,O){if(!(z instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),function ce(z,O){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?z:O}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I+(0,T.mod11)(I),k))}return function ne(z,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);z.prototype=Object.create(O&&O.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(z,O):z.__proto__=O)}(O,z),O}(m.default);ke.default=q},677:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var m=function F(z){return z&&z.__esModule?z:{default:z}}(E(8778)),T=E(2821),q=function(z){function O(I,k){return function x(z,O){if(!(z instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),I+=(0,T.mod11)(I),I+=(0,T.mod10)(I),function ce(z,O){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?z:O}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,k))}return function ne(z,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);z.prototype=Object.create(O&&O.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(z,O):z.__proto__=O)}(O,z),O}(m.default);ke.default=q},2821:(Jt,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.mod10=function E(m){for(var T=0,F=0;F<m.length;F++){var x=parseInt(m[F]);T+=(F+m.length)%2==0?x:2*x%10+Math.floor(2*x/10)}return(10-T%10)%10},ke.mod11=function p(m){for(var T=0,F=[2,3,4,5,6,7],x=0;x<m.length;x++){var ce=parseInt(m[m.length-1-x]);T+=F[x%F.length]*ce}return(11-T%11)%11}},3641:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.MSI1110=ke.MSI1010=ke.MSI11=ke.MSI10=ke.MSI=void 0;var m=I(E(8778)),F=I(E(3167)),ce=I(E(8552)),q=I(E(1522)),O=I(E(677));function I(k){return k&&k.__esModule?k:{default:k}}ke.MSI=m.default,ke.MSI10=F.default,ke.MSI11=ce.default,ke.MSI1010=q.default,ke.MSI1110=O.default},9468:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.codabar=void 0;var p=function(){function z(O,I){for(var k=0;k<I.length;k++){var A=I[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,I,k){return I&&z(O.prototype,I),k&&z(O,k),O}}(),q=function(z){function O(I,k){(function x(z,O){if(!(z instanceof O))throw new TypeError("Cannot call a class as a function")})(this,O),0===I.search(/^[0-9\-\$\:\.\+\/]+$/)&&(I="A"+I+"A");var A=function ce(z,O){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?z:O}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I.toUpperCase(),k));return A.text=A.options.text||A.text.replace(/[A-D]/g,""),A}return function ne(z,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);z.prototype=Object.create(O&&O.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(z,O):z.__proto__=O)}(O,z),p(O,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var k=[],A=this.getEncodings(),H=0;H<this.data.length;H++)k.push(A[this.data.charAt(H)]),H!==this.data.length-1&&k.push("0");return{text:this.text,data:k.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),O}(function F(z){return z&&z.__esModule?z:{default:z}}(E(2933)).default);ke.codabar=q},3209:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=E(3803),m=E(9152),T=E(9995),F=E(9319),x=E(3641),ce=E(4322),ne=E(9468),q=E(9257);ke.default={CODE39:p.CODE39,CODE128:m.CODE128,CODE128A:m.CODE128A,CODE128B:m.CODE128B,CODE128C:m.CODE128C,EAN13:T.EAN13,EAN8:T.EAN8,EAN5:T.EAN5,EAN2:T.EAN2,UPC:T.UPC,UPCE:T.UPCE,ITF14:F.ITF14,ITF:F.ITF,MSI:x.MSI,MSI10:x.MSI10,MSI11:x.MSI11,MSI1010:x.MSI1010,MSI1110:x.MSI1110,pharmacode:ce.pharmacode,codabar:ne.codabar,GenericBarcode:q.GenericBarcode}},4322:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.pharmacode=void 0;var p=function(){function z(O,I){for(var k=0;k<I.length;k++){var A=I[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,I,k){return I&&z(O.prototype,I),k&&z(O,k),O}}(),q=function(z){function O(I,k){!function x(z,O){if(!(z instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O);var A=function ce(z,O){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?z:O}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,k));return A.number=parseInt(I,10),A}return function ne(z,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);z.prototype=Object.create(O&&O.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(z,O):z.__proto__=O)}(O,z),p(O,[{key:"encode",value:function(){for(var k=this.number,A="";!isNaN(k)&&0!=k;)k%2==0?(A="11100"+A,k=(k-2)/2):(A="100"+A,k=(k-1)/2);return{data:A=A.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),O}(function F(z){return z&&z.__esModule?z:{default:z}}(E(2933)).default);ke.pharmacode=q},650:(Jt,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var E=function(){function T(F,x){for(var ce=0;ce<x.length;ce++){var ne=x[ce];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(F,ne.key,ne)}}return function(F,x,ce){return x&&T(F.prototype,x),ce&&T(F,ce),F}}(),m=function(){function T(F){(function p(T,F){if(!(T instanceof F))throw new TypeError("Cannot call a class as a function")})(this,T),this.api=F}return E(T,[{key:"handleCatch",value:function(x){if("InvalidInputException"!==x.name)throw x;if(this.api._options.valid===this.api._defaults.valid)throw x.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(x){try{var ce=x.apply(void 0,arguments);return this.api._options.valid(!0),ce}catch(ne){return this.handleCatch(ne),this.api}}}]),T}();ke.default=m},1498:(Jt,ke)=>{"use strict";function E(ce,ne){if(!(ce instanceof ne))throw new TypeError("Cannot call a class as a function")}function p(ce,ne){if(!ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ne||"object"!=typeof ne&&"function"!=typeof ne?ce:ne}function m(ce,ne){if("function"!=typeof ne&&null!==ne)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);ce.prototype=Object.create(ne&&ne.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,ne):ce.__proto__=ne)}Object.defineProperty(ke,"__esModule",{value:!0});var T=function(ce){function ne(q,z){E(this,ne);var O=p(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this));return O.name="InvalidInputException",O.symbology=q,O.input=z,O.message='"'+O.input+'" is not a valid input for '+O.symbology,O}return m(ne,Error),ne}(),F=function(ce){function ne(){E(this,ne);var q=p(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this));return q.name="InvalidElementException",q.message="Not supported type to render on",q}return m(ne,Error),ne}(),x=function(ce){function ne(){E(this,ne);var q=p(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this));return q.name="NoElementException",q.message="No element to render on.",q}return m(ne,Error),ne}();ke.InvalidInputException=T,ke.InvalidElementException=F,ke.NoElementException=x},8084:(Jt,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=function E(p){return p.marginTop=p.marginTop||p.margin,p.marginBottom=p.marginBottom||p.margin,p.marginRight=p.marginRight||p.margin,p.marginLeft=p.marginLeft||p.margin,p}},329:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var m=x(E(1951)),F=x(E(5482));function x(ne){return ne&&ne.__esModule?ne:{default:ne}}ke.default=function ce(ne){var q={};for(var z in F.default)F.default.hasOwnProperty(z)&&(ne.hasAttribute("jsbarcode-"+z.toLowerCase())&&(q[z]=ne.getAttribute("jsbarcode-"+z.toLowerCase())),ne.hasAttribute("data-"+z.toLowerCase())&&(q[z]=ne.getAttribute("data-"+z.toLowerCase())));return q.value=ne.getAttribute("jsbarcode-value")||ne.getAttribute("data-value"),(0,m.default)(q)}},2042:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},T=ne(E(329)),x=ne(E(2368)),ce=E(1498);function ne(I){return I&&I.__esModule?I:{default:I}}ke.default=function q(I){if("string"==typeof I)return function z(I){var k=document.querySelectorAll(I);if(0!==k.length){for(var A=[],H=0;H<k.length;H++)A.push(q(k[H]));return A}}(I);if(Array.isArray(I)){for(var k=[],A=0;A<I.length;A++)k.push(q(I[A]));return k}if(typeof HTMLCanvasElement<"u"&&I instanceof HTMLImageElement)return function O(I){var k=document.createElement("canvas");return{element:k,options:(0,T.default)(I),renderer:x.default.CanvasRenderer,afterRender:function(){I.setAttribute("src",k.toDataURL())}}}(I);if(I&&I.nodeName&&"svg"===I.nodeName.toLowerCase()||typeof SVGElement<"u"&&I instanceof SVGElement)return{element:I,options:(0,T.default)(I),renderer:x.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&I instanceof HTMLCanvasElement)return{element:I,options:(0,T.default)(I),renderer:x.default.CanvasRenderer};if(I&&I.getContext)return{element:I,renderer:x.default.CanvasRenderer};if(I&&"object"===(typeof I>"u"?"undefined":p(I))&&!I.nodeName)return{element:I,renderer:x.default.ObjectRenderer};throw new ce.InvalidElementException}},9246:(Jt,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=function E(p){var m=[];return function T(F){if(Array.isArray(F))for(var x=0;x<F.length;x++)T(F[x]);else F.text=F.text||"",F.data=F.data||"",m.push(F)}(p),m}},3931:(Jt,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var E=Object.assign||function(p){for(var m=1;m<arguments.length;m++){var T=arguments[m];for(var F in T)Object.prototype.hasOwnProperty.call(T,F)&&(p[F]=T[F])}return p};ke.default=function(p,m){return E({},p,m)}},1951:(Jt,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=function E(p){var m=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var T in m)m.hasOwnProperty(T)&&"string"==typeof p[T=m[T]]&&(p[T]=parseInt(p[T],10));return"string"==typeof p.displayValue&&(p.displayValue="false"!=p.displayValue),p}},5482:(Jt,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8682:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function q(z,O){for(var I=0;I<O.length;I++){var k=O[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(z,k.key,k)}}return function(z,O,I){return O&&q(z.prototype,O),I&&q(z,I),z}}(),T=function x(q){return q&&q.__esModule?q:{default:q}}(E(3931)),F=E(2283),ne=function(){function q(z,O,I){(function ce(q,z){if(!(q instanceof z))throw new TypeError("Cannot call a class as a function")})(this,q),this.canvas=z,this.encodings=O,this.options=I}return p(q,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var O=0;O<this.encodings.length;O++){var I=(0,T.default)(this.options,this.encodings[O].options);this.drawCanvasBarcode(I,this.encodings[O]),this.drawCanvasText(I,this.encodings[O]),this.moveCanvasDrawing(this.encodings[O])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var O=this.canvas.getContext("2d");O.save(),(0,F.calculateEncodingAttributes)(this.encodings,this.options,O);var I=(0,F.getTotalWidthOfEncodings)(this.encodings),k=(0,F.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=I+this.options.marginLeft+this.options.marginRight,this.canvas.height=k,O.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(O.fillStyle=this.options.background,O.fillRect(0,0,this.canvas.width,this.canvas.height)),O.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(O,I){var H,k=this.canvas.getContext("2d"),A=I.data;H="top"==O.textPosition?O.marginTop+O.fontSize+O.textMargin:O.marginTop,k.fillStyle=O.lineColor;for(var Q=0;Q<A.length;Q++){var ee=Q*O.width+I.barcodePadding;"1"===A[Q]?k.fillRect(ee,H,O.width,O.height):A[Q]&&k.fillRect(ee,H,O.width,O.height*A[Q])}}},{key:"drawCanvasText",value:function(O,I){var H,Q,k=this.canvas.getContext("2d");O.displayValue&&(Q="top"==O.textPosition?O.marginTop+O.fontSize-O.textMargin:O.height+O.textMargin+O.marginTop+O.fontSize,k.font=O.fontOptions+" "+O.fontSize+"px "+O.font,"left"==O.textAlign||I.barcodePadding>0?(H=0,k.textAlign="left"):"right"==O.textAlign?(H=I.width-1,k.textAlign="right"):(H=I.width/2,k.textAlign="center"),k.fillText(I.text,H,Q))}},{key:"moveCanvasDrawing",value:function(O){this.canvas.getContext("2d").translate(O.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),q}();ke.default=ne},2368:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var m=ne(E(8682)),F=ne(E(1538)),ce=ne(E(1045));function ne(q){return q&&q.__esModule?q:{default:q}}ke.default={CanvasRenderer:m.default,SVGRenderer:F.default,ObjectRenderer:ce.default}},1045:(Jt,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var E=function(){function T(F,x){for(var ce=0;ce<x.length;ce++){var ne=x[ce];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(F,ne.key,ne)}}return function(F,x,ce){return x&&T(F.prototype,x),ce&&T(F,ce),F}}(),m=function(){function T(F,x,ce){(function p(T,F){if(!(T instanceof F))throw new TypeError("Cannot call a class as a function")})(this,T),this.object=F,this.encodings=x,this.options=ce}return E(T,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),T}();ke.default=m},2283:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.getTotalWidthOfEncodings=ke.calculateEncodingAttributes=ke.getBarcodePadding=ke.getEncodingHeight=ke.getMaximumHeightOfEncodings=void 0;var m=function T(O){return O&&O.__esModule?O:{default:O}}(E(3931));function F(O,I){return I.height+(I.displayValue&&O.text.length>0?I.fontSize+I.textMargin:0)+I.marginTop+I.marginBottom}function x(O,I,k){if(k.displayValue&&I<O){if("center"==k.textAlign)return Math.floor((O-I)/2);if("left"==k.textAlign)return 0;if("right"==k.textAlign)return Math.floor(O-I)}return 0}function z(O,I,k){var A;if(k)A=k;else{if(!(typeof document<"u"))return 0;A=document.createElement("canvas").getContext("2d")}A.font=I.fontOptions+" "+I.fontSize+"px "+I.font;var H=A.measureText(O);return H?H.width:0}ke.getMaximumHeightOfEncodings=function q(O){for(var I=0,k=0;k<O.length;k++)O[k].height>I&&(I=O[k].height);return I},ke.getEncodingHeight=F,ke.getBarcodePadding=x,ke.calculateEncodingAttributes=function ce(O,I,k){for(var A=0;A<O.length;A++){var ee,H=O[A],Q=(0,m.default)(I,H.options);ee=Q.displayValue?z(H.text,Q,k):0;var be=H.data.length*Q.width;H.width=Math.ceil(Math.max(ee,be)),H.height=F(H,Q),H.barcodePadding=x(ee,be,Q)}},ke.getTotalWidthOfEncodings=function ne(O){for(var I=0,k=0;k<O.length;k++)I+=O[k].width;return I}},1538:(Jt,ke,E)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function z(O,I){for(var k=0;k<I.length;k++){var A=I[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,I,k){return I&&z(O.prototype,I),k&&z(O,k),O}}(),T=function x(z){return z&&z.__esModule?z:{default:z}}(E(3931)),F=E(2283),ne="http://www.w3.org/2000/svg",q=function(){function z(O,I,k){(function ce(z,O){if(!(z instanceof O))throw new TypeError("Cannot call a class as a function")})(this,z),this.svg=O,this.encodings=I,this.options=k,this.document=k.xmlDocument||document}return p(z,[{key:"render",value:function(){var I=this.options.marginLeft;this.prepareSVG();for(var k=0;k<this.encodings.length;k++){var A=this.encodings[k],H=(0,T.default)(this.options,A.options),Q=this.createGroup(I,H.marginTop,this.svg);this.setGroupOptions(Q,H),this.drawSvgBarcode(Q,H,A),this.drawSVGText(Q,H,A),I+=A.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,F.calculateEncodingAttributes)(this.encodings,this.options);var I=(0,F.getTotalWidthOfEncodings)(this.encodings),k=(0,F.getMaximumHeightOfEncodings)(this.encodings),A=I+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(A,k),this.options.background&&this.drawRect(0,0,A,k,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(I,k,A){var Q,H=A.data;Q="top"==k.textPosition?k.fontSize+k.textMargin:0;for(var ee=0,be=0,me=0;me<H.length;me++)be=me*k.width+A.barcodePadding,"1"===H[me]?ee++:ee>0&&(this.drawRect(be-k.width*ee,Q,k.width*ee,k.height,I),ee=0);ee>0&&this.drawRect(be-k.width*(ee-1),Q,k.width*ee,k.height,I)}},{key:"drawSVGText",value:function(I,k,A){var Q,ee,H=this.document.createElementNS(ne,"text");k.displayValue&&(H.setAttribute("style","font:"+k.fontOptions+" "+k.fontSize+"px "+k.font),ee="top"==k.textPosition?k.fontSize-k.textMargin:k.height+k.textMargin+k.fontSize,"left"==k.textAlign||A.barcodePadding>0?(Q=0,H.setAttribute("text-anchor","start")):"right"==k.textAlign?(Q=A.width-1,H.setAttribute("text-anchor","end")):(Q=A.width/2,H.setAttribute("text-anchor","middle")),H.setAttribute("x",Q),H.setAttribute("y",ee),H.appendChild(this.document.createTextNode(A.text)),I.appendChild(H))}},{key:"setSvgAttributes",value:function(I,k){var A=this.svg;A.setAttribute("width",I+"px"),A.setAttribute("height",k+"px"),A.setAttribute("x","0px"),A.setAttribute("y","0px"),A.setAttribute("viewBox","0 0 "+I+" "+k),A.setAttribute("xmlns",ne),A.setAttribute("version","1.1"),A.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(I,k,A){var H=this.document.createElementNS(ne,"g");return H.setAttribute("transform","translate("+I+", "+k+")"),A.appendChild(H),H}},{key:"setGroupOptions",value:function(I,k){I.setAttribute("style","fill:"+k.lineColor+";")}},{key:"drawRect",value:function(I,k,A,H,Q){var ee=this.document.createElementNS(ne,"rect");return ee.setAttribute("x",I),ee.setAttribute("y",k),ee.setAttribute("width",A),ee.setAttribute("height",H),Q.appendChild(ee),ee}}]),z}();ke.default=q},4017:(Jt,ke,E)=>{var p,m=function(){var T=String.fromCharCode,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",ce={};function ne(z,O){if(!ce[z]){ce[z]={};for(var I=0;I<z.length;I++)ce[z][z.charAt(I)]=I}return ce[z][O]}var q={compressToBase64:function(z){if(null==z)return"";var O=q._compress(z,6,function(I){return F.charAt(I)});switch(O.length%4){default:case 0:return O;case 1:return O+"===";case 2:return O+"==";case 3:return O+"="}},decompressFromBase64:function(z){return null==z?"":""==z?null:q._decompress(z.length,32,function(O){return ne(F,z.charAt(O))})},compressToUTF16:function(z){return null==z?"":q._compress(z,15,function(O){return T(O+32)})+" "},decompressFromUTF16:function(z){return null==z?"":""==z?null:q._decompress(z.length,16384,function(O){return z.charCodeAt(O)-32})},compressToUint8Array:function(z){for(var O=q.compress(z),I=new Uint8Array(2*O.length),k=0,A=O.length;k<A;k++){var H=O.charCodeAt(k);I[2*k]=H>>>8,I[2*k+1]=H%256}return I},decompressFromUint8Array:function(z){if(null==z)return q.decompress(z);for(var O=new Array(z.length/2),I=0,k=O.length;I<k;I++)O[I]=256*z[2*I]+z[2*I+1];var A=[];return O.forEach(function(H){A.push(T(H))}),q.decompress(A.join(""))},compressToEncodedURIComponent:function(z){return null==z?"":q._compress(z,6,function(O){return x.charAt(O)})},decompressFromEncodedURIComponent:function(z){return null==z?"":""==z?null:(z=z.replace(/ /g,"+"),q._decompress(z.length,32,function(O){return ne(x,z.charAt(O))}))},compress:function(z){return q._compress(z,16,function(O){return T(O)})},_compress:function(z,O,I){if(null==z)return"";var k,A,de,H={},Q={},ee="",be="",me="",Ne=2,Be=3,Ve=2,Le=[],J=0,ae=0;for(de=0;de<z.length;de+=1)if(ee=z.charAt(de),Object.prototype.hasOwnProperty.call(H,ee)||(H[ee]=Be++,Q[ee]=!0),be=me+ee,Object.prototype.hasOwnProperty.call(H,be))me=be;else{if(Object.prototype.hasOwnProperty.call(Q,me)){if(me.charCodeAt(0)<256){for(k=0;k<Ve;k++)J<<=1,ae==O-1?(ae=0,Le.push(I(J)),J=0):ae++;for(A=me.charCodeAt(0),k=0;k<8;k++)J=J<<1|1&A,ae==O-1?(ae=0,Le.push(I(J)),J=0):ae++,A>>=1}else{for(A=1,k=0;k<Ve;k++)J=J<<1|A,ae==O-1?(ae=0,Le.push(I(J)),J=0):ae++,A=0;for(A=me.charCodeAt(0),k=0;k<16;k++)J=J<<1|1&A,ae==O-1?(ae=0,Le.push(I(J)),J=0):ae++,A>>=1}0==--Ne&&(Ne=Math.pow(2,Ve),Ve++),delete Q[me]}else for(A=H[me],k=0;k<Ve;k++)J=J<<1|1&A,ae==O-1?(ae=0,Le.push(I(J)),J=0):ae++,A>>=1;0==--Ne&&(Ne=Math.pow(2,Ve),Ve++),H[be]=Be++,me=String(ee)}if(""!==me){if(Object.prototype.hasOwnProperty.call(Q,me)){if(me.charCodeAt(0)<256){for(k=0;k<Ve;k++)J<<=1,ae==O-1?(ae=0,Le.push(I(J)),J=0):ae++;for(A=me.charCodeAt(0),k=0;k<8;k++)J=J<<1|1&A,ae==O-1?(ae=0,Le.push(I(J)),J=0):ae++,A>>=1}else{for(A=1,k=0;k<Ve;k++)J=J<<1|A,ae==O-1?(ae=0,Le.push(I(J)),J=0):ae++,A=0;for(A=me.charCodeAt(0),k=0;k<16;k++)J=J<<1|1&A,ae==O-1?(ae=0,Le.push(I(J)),J=0):ae++,A>>=1}0==--Ne&&(Ne=Math.pow(2,Ve),Ve++),delete Q[me]}else for(A=H[me],k=0;k<Ve;k++)J=J<<1|1&A,ae==O-1?(ae=0,Le.push(I(J)),J=0):ae++,A>>=1;0==--Ne&&(Ne=Math.pow(2,Ve),Ve++)}for(A=2,k=0;k<Ve;k++)J=J<<1|1&A,ae==O-1?(ae=0,Le.push(I(J)),J=0):ae++,A>>=1;for(;;){if(J<<=1,ae==O-1){Le.push(I(J));break}ae++}return Le.join("")},decompress:function(z){return null==z?"":""==z?null:q._decompress(z.length,32768,function(O){return z.charCodeAt(O)})},_decompress:function(z,O,I){var Ne,Be,Ve,Le,J,ae,de,k=[],H=4,Q=4,ee=3,be="",me=[],fe={val:I(0),position:O,index:1};for(Ne=0;Ne<3;Ne+=1)k[Ne]=Ne;for(Ve=0,J=Math.pow(2,2),ae=1;ae!=J;)Le=fe.val&fe.position,fe.position>>=1,0==fe.position&&(fe.position=O,fe.val=I(fe.index++)),Ve|=(Le>0?1:0)*ae,ae<<=1;switch(Ve){case 0:for(Ve=0,J=Math.pow(2,8),ae=1;ae!=J;)Le=fe.val&fe.position,fe.position>>=1,0==fe.position&&(fe.position=O,fe.val=I(fe.index++)),Ve|=(Le>0?1:0)*ae,ae<<=1;de=T(Ve);break;case 1:for(Ve=0,J=Math.pow(2,16),ae=1;ae!=J;)Le=fe.val&fe.position,fe.position>>=1,0==fe.position&&(fe.position=O,fe.val=I(fe.index++)),Ve|=(Le>0?1:0)*ae,ae<<=1;de=T(Ve);break;case 2:return""}for(k[3]=de,Be=de,me.push(de);;){if(fe.index>z)return"";for(Ve=0,J=Math.pow(2,ee),ae=1;ae!=J;)Le=fe.val&fe.position,fe.position>>=1,0==fe.position&&(fe.position=O,fe.val=I(fe.index++)),Ve|=(Le>0?1:0)*ae,ae<<=1;switch(de=Ve){case 0:for(Ve=0,J=Math.pow(2,8),ae=1;ae!=J;)Le=fe.val&fe.position,fe.position>>=1,0==fe.position&&(fe.position=O,fe.val=I(fe.index++)),Ve|=(Le>0?1:0)*ae,ae<<=1;k[Q++]=T(Ve),de=Q-1,H--;break;case 1:for(Ve=0,J=Math.pow(2,16),ae=1;ae!=J;)Le=fe.val&fe.position,fe.position>>=1,0==fe.position&&(fe.position=O,fe.val=I(fe.index++)),Ve|=(Le>0?1:0)*ae,ae<<=1;k[Q++]=T(Ve),de=Q-1,H--;break;case 2:return me.join("")}if(0==H&&(H=Math.pow(2,ee),ee++),k[de])be=k[de];else{if(de!==Q)return null;be=Be+Be.charAt(0)}me.push(be),k[Q++]=Be+be.charAt(0),Be=be,0==--H&&(H=Math.pow(2,ee),ee++)}}};return q}();void 0!==(p=function(){return m}.call(ke,E,ke,Jt))&&(Jt.exports=p)},1846:(Jt,ke,E)=>{"use strict";E.d(ke,{X:()=>T});var p=E(1635),m=E(4438);let T=(()=>{let F=class{constructor(){this.webNavigator=null,this.webNavigator=window.navigator}canShare(){return null!==this.webNavigator&&void 0!==this.webNavigator.share}canShareFile(ce){return null!==this.webNavigator&&void 0!==this.webNavigator.share&&this.webNavigator.canShare({files:ce})}share({title:ce,text:ne,url:q,files:z}){return new Promise((O,I)=>(0,p.sH)(this,void 0,void 0,function*(){if(null!==this.webNavigator&&void 0!==this.webNavigator.share)if(null==ne&&null==q)console.warn("text and url both can't be empty, at least provide either text or url");else try{const k={title:ce,text:ne,url:q};z&&0!==z.length&&(k.files=z),yield this.webNavigator.share(k),O({shared:!0})}catch(k){I({shared:!1,error:k})}else I({shared:!1,error:"This service/api is not supported in your Browser"})}))}};return F.\u0275prov=(0,m.jDH)({factory:function(){return new F},token:F,providedIn:"root"}),F=(0,p.Cg)([(0,m._qm)({providedIn:"root"}),(0,p.Sn)("design:paramtypes",[])],F),F})()},4412:(Jt,ke,E)=>{"use strict";E.d(ke,{t:()=>m});var p=E(1413);class m extends p.B{constructor(F){super(),this._value=F}get value(){return this.getValue()}_subscribe(F){const x=super._subscribe(F);return!x.closed&&F.next(this._value),x}getValue(){const{hasError:F,thrownError:x,_value:ce}=this;if(F)throw x;return this._throwIfClosed(),ce}next(F){super.next(this._value=F)}}},1985:(Jt,ke,E)=>{"use strict";E.d(ke,{c:()=>q});var p=E(7707),m=E(8359),T=E(3494),F=E(1203),x=E(1026),ce=E(8071),ne=E(9786);let q=(()=>{class k{constructor(H){H&&(this._subscribe=H)}lift(H){const Q=new k;return Q.source=this,Q.operator=H,Q}subscribe(H,Q,ee){const be=function I(k){return k&&k instanceof p.vU||function O(k){return k&&(0,ce.T)(k.next)&&(0,ce.T)(k.error)&&(0,ce.T)(k.complete)}(k)&&(0,m.Uv)(k)}(H)?H:new p.Ms(H,Q,ee);return(0,ne.Y)(()=>{const{operator:me,source:Ne}=this;be.add(me?me.call(be,Ne):Ne?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(H){try{return this._subscribe(H)}catch(Q){H.error(Q)}}forEach(H,Q){return new(Q=z(Q))((ee,be)=>{const me=new p.Ms({next:Ne=>{try{H(Ne)}catch(Be){be(Be),me.unsubscribe()}},error:be,complete:ee});this.subscribe(me)})}_subscribe(H){var Q;return null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(H)}[T.s](){return this}pipe(...H){return(0,F.m)(H)(this)}toPromise(H){return new(H=z(H))((Q,ee)=>{let be;this.subscribe(me=>be=me,me=>ee(me),()=>Q(be))})}}return k.create=A=>new k(A),k})();function z(k){var A;return null!==(A=k??x.$.Promise)&&void 0!==A?A:Promise}},1413:(Jt,ke,E)=>{"use strict";E.d(ke,{B:()=>ne});var p=E(1985),m=E(8359);const F=(0,E(1853).L)(z=>function(){z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=E(7908),ce=E(9786);let ne=(()=>{class z extends p.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(I){const k=new q(this,this);return k.operator=I,k}_throwIfClosed(){if(this.closed)throw new F}next(I){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const k of this.currentObservers)k.next(I)}})}error(I){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=I;const{observers:k}=this;for(;k.length;)k.shift().error(I)}})}complete(){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:I}=this;for(;I.length;)I.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var I;return(null===(I=this.observers)||void 0===I?void 0:I.length)>0}_trySubscribe(I){return this._throwIfClosed(),super._trySubscribe(I)}_subscribe(I){return this._throwIfClosed(),this._checkFinalizedStatuses(I),this._innerSubscribe(I)}_innerSubscribe(I){const{hasError:k,isStopped:A,observers:H}=this;return k||A?m.Kn:(this.currentObservers=null,H.push(I),new m.yU(()=>{this.currentObservers=null,(0,x.o)(H,I)}))}_checkFinalizedStatuses(I){const{hasError:k,thrownError:A,isStopped:H}=this;k?I.error(A):H&&I.complete()}asObservable(){const I=new p.c;return I.source=this,I}}return z.create=(O,I)=>new q(O,I),z})();class q extends ne{constructor(O,I){super(),this.destination=O,this.source=I}next(O){var I,k;null===(k=null===(I=this.destination)||void 0===I?void 0:I.next)||void 0===k||k.call(I,O)}error(O){var I,k;null===(k=null===(I=this.destination)||void 0===I?void 0:I.error)||void 0===k||k.call(I,O)}complete(){var O,I;null===(I=null===(O=this.destination)||void 0===O?void 0:O.complete)||void 0===I||I.call(O)}_subscribe(O){var I,k;return null!==(k=null===(I=this.source)||void 0===I?void 0:I.subscribe(O))&&void 0!==k?k:m.Kn}}},7707:(Jt,ke,E)=>{"use strict";E.d(ke,{Ms:()=>ee,vU:()=>k});var p=E(8071),m=E(8359),T=E(1026),F=E(5334),x=E(5343);const ce=z("C",void 0,void 0);function z(Ve,Le,J){return{kind:Ve,value:Le,error:J}}var O=E(9270),I=E(9786);class k extends m.yU{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,m.Uv)(Le)&&Le.add(this)):this.destination=Be}static create(Le,J,ae){return new ee(Le,J,ae)}next(Le){this.isStopped?Ne(function q(Ve){return z("N",Ve,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?Ne(function ne(Ve){return z("E",void 0,Ve)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?Ne(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const A=Function.prototype.bind;function H(Ve,Le){return A.call(Ve,Le)}class Q{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:J}=this;if(J.next)try{J.next(Le)}catch(ae){be(ae)}}error(Le){const{partialObserver:J}=this;if(J.error)try{J.error(Le)}catch(ae){be(ae)}else be(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(J){be(J)}}}class ee extends k{constructor(Le,J,ae){let de;if(super(),(0,p.T)(Le)||!Le)de={next:Le??void 0,error:J??void 0,complete:ae??void 0};else{let fe;this&&T.$.useDeprecatedNextContext?(fe=Object.create(Le),fe.unsubscribe=()=>this.unsubscribe(),de={next:Le.next&&H(Le.next,fe),error:Le.error&&H(Le.error,fe),complete:Le.complete&&H(Le.complete,fe)}):de=Le}this.destination=new Q(de)}}function be(Ve){T.$.useDeprecatedSynchronousErrorHandling?(0,I.l)(Ve):(0,F.m)(Ve)}function Ne(Ve,Le){const{onStoppedNotification:J}=T.$;J&&O.f.setTimeout(()=>J(Ve,Le))}const Be={closed:!0,next:x.l,error:function me(Ve){throw Ve},complete:x.l}},8359:(Jt,ke,E)=>{"use strict";E.d(ke,{Kn:()=>ce,yU:()=>x,Uv:()=>ne});var p=E(8071);const T=(0,E(1853).L)(z=>function(I){z(this),this.message=I?`${I.length} errors occurred during unsubscription:\n${I.map((k,A)=>`${A+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=I});var F=E(7908);class x{constructor(O){this.initialTeardown=O,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let O;if(!this.closed){this.closed=!0;const{_parentage:I}=this;if(I)if(this._parentage=null,Array.isArray(I))for(const H of I)H.remove(this);else I.remove(this);const{initialTeardown:k}=this;if((0,p.T)(k))try{k()}catch(H){O=H instanceof T?H.errors:[H]}const{_finalizers:A}=this;if(A){this._finalizers=null;for(const H of A)try{q(H)}catch(Q){O=O??[],Q instanceof T?O=[...O,...Q.errors]:O.push(Q)}}if(O)throw new T(O)}}add(O){var I;if(O&&O!==this)if(this.closed)q(O);else{if(O instanceof x){if(O.closed||O._hasParent(this))return;O._addParent(this)}(this._finalizers=null!==(I=this._finalizers)&&void 0!==I?I:[]).push(O)}}_hasParent(O){const{_parentage:I}=this;return I===O||Array.isArray(I)&&I.includes(O)}_addParent(O){const{_parentage:I}=this;this._parentage=Array.isArray(I)?(I.push(O),I):I?[I,O]:O}_removeParent(O){const{_parentage:I}=this;I===O?this._parentage=null:Array.isArray(I)&&(0,F.o)(I,O)}remove(O){const{_finalizers:I}=this;I&&(0,F.o)(I,O),O instanceof x&&O._removeParent(this)}}x.EMPTY=(()=>{const z=new x;return z.closed=!0,z})();const ce=x.EMPTY;function ne(z){return z instanceof x||z&&"closed"in z&&(0,p.T)(z.remove)&&(0,p.T)(z.add)&&(0,p.T)(z.unsubscribe)}function q(z){(0,p.T)(z)?z():z.unsubscribe()}},1026:(Jt,ke,E)=>{"use strict";E.d(ke,{$:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(Jt,ke,E)=>{"use strict";E.d(ke,{G:()=>ce});var p=E(1985),m=E(8359),T=E(9898),F=E(4360),x=E(9974);class ce extends p.c{constructor(q,z){super(),this.source=q,this.subjectFactory=z,this._subject=null,this._refCount=0,this._connection=null,(0,x.S)(q)&&(this.lift=q.lift)}_subscribe(q){return this.getSubject().subscribe(q)}getSubject(){const q=this._subject;return(!q||q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:q}=this;this._subject=this._connection=null,q?.unsubscribe()}connect(){let q=this._connection;if(!q){q=this._connection=new m.yU;const z=this.getSubject();q.add(this.source.subscribe((0,F._)(z,void 0,()=>{this._teardown(),z.complete()},O=>{this._teardown(),z.error(O)},()=>this._teardown()))),q.closed&&(this._connection=null,q=m.yU.EMPTY)}return q}refCount(){return(0,T.B)()(this)}}},4572:(Jt,ke,E)=>{"use strict";E.d(ke,{z:()=>O});var p=E(1985),m=E(3073),T=E(8455),F=E(3669),x=E(6450),ce=E(9326),ne=E(8496),q=E(4360),z=E(5225);function O(...A){const H=(0,ce.lI)(A),Q=(0,ce.ms)(A),{args:ee,keys:be}=(0,m.D)(A);if(0===ee.length)return(0,T.H)([],H);const me=new p.c(function I(A,H,Q=F.D){return ee=>{k(H,()=>{const{length:be}=A,me=new Array(be);let Ne=be,Be=be;for(let Ve=0;Ve<be;Ve++)k(H,()=>{const Le=(0,T.H)(A[Ve],H);let J=!1;Le.subscribe((0,q._)(ee,ae=>{me[Ve]=ae,J||(J=!0,Be--),Be||ee.next(Q(me.slice()))},()=>{--Ne||ee.complete()}))},ee)},ee)}}(ee,H,be?Ne=>(0,ne.e)(be,Ne):F.D));return Q?me.pipe((0,x.I)(Q)):me}function k(A,H,Q){A?(0,z.N)(Q,A,H):H()}},8793:(Jt,ke,E)=>{"use strict";E.d(ke,{x:()=>x});var p=E(6365),T=E(9326),F=E(8455);function x(...ce){return function m(){return(0,p.U)(1)}()((0,F.H)(ce,(0,T.lI)(ce)))}},9030:(Jt,ke,E)=>{"use strict";E.d(ke,{v:()=>T});var p=E(1985),m=E(8750);function T(F){return new p.c(x=>{(0,m.Tg)(F()).subscribe(x)})}},983:(Jt,ke,E)=>{"use strict";E.d(ke,{w:()=>m});const m=new(E(1985).c)(x=>x.complete())},7468:(Jt,ke,E)=>{"use strict";E.d(ke,{p:()=>q});var p=E(1985),m=E(3073),T=E(8750),F=E(9326),x=E(4360),ce=E(6450),ne=E(8496);function q(...z){const O=(0,F.ms)(z),{args:I,keys:k}=(0,m.D)(z),A=new p.c(H=>{const{length:Q}=I;if(!Q)return void H.complete();const ee=new Array(Q);let be=Q,me=Q;for(let Ne=0;Ne<Q;Ne++){let Be=!1;(0,T.Tg)(I[Ne]).subscribe((0,x._)(H,Ve=>{Be||(Be=!0,me--),ee[Ne]=Ve},()=>be--,void 0,()=>{(!be||!Be)&&(me||H.next(k?(0,ne.e)(k,ee):ee),H.complete())}))}});return O?A.pipe((0,ce.I)(O)):A}},8455:(Jt,ke,E)=>{"use strict";E.d(ke,{H:()=>Le});var p=E(8750),m=E(941),T=E(6745),ce=E(1985),q=E(4761),z=E(8071),O=E(5225);function k(J,ae){if(!J)throw new Error("Iterable cannot be null");return new ce.c(de=>{(0,O.N)(de,ae,()=>{const fe=J[Symbol.asyncIterator]();(0,O.N)(de,ae,()=>{fe.next().then(Re=>{Re.done?de.complete():de.next(Re.value)})},0,!0)})})}var A=E(5055),H=E(9858),Q=E(7441),ee=E(5397),be=E(7953),me=E(591),Ne=E(5196);function Le(J,ae){return ae?function Ve(J,ae){if(null!=J){if((0,A.l)(J))return function F(J,ae){return(0,p.Tg)(J).pipe((0,T._)(ae),(0,m.Q)(ae))}(J,ae);if((0,Q.X)(J))return function ne(J,ae){return new ce.c(de=>{let fe=0;return ae.schedule(function(){fe===J.length?de.complete():(de.next(J[fe++]),de.closed||this.schedule())})})}(J,ae);if((0,H.y)(J))return function x(J,ae){return(0,p.Tg)(J).pipe((0,T._)(ae),(0,m.Q)(ae))}(J,ae);if((0,be.T)(J))return k(J,ae);if((0,ee.x)(J))return function I(J,ae){return new ce.c(de=>{let fe;return(0,O.N)(de,ae,()=>{fe=J[q.l](),(0,O.N)(de,ae,()=>{let Re,_e;try{({value:Re,done:_e}=fe.next())}catch(Xe){return void de.error(Xe)}_e?de.complete():de.next(Re)},0,!0)}),()=>(0,z.T)(fe?.return)&&fe.return()})}(J,ae);if((0,Ne.U)(J))return function Be(J,ae){return k((0,Ne.C)(J),ae)}(J,ae)}throw(0,me.L)(J)}(J,ae):(0,p.Tg)(J)}},3726:(Jt,ke,E)=>{"use strict";E.d(ke,{R:()=>O});var p=E(8750),m=E(1985),T=E(1397),F=E(7441),x=E(8071),ce=E(6450);const ne=["addListener","removeListener"],q=["addEventListener","removeEventListener"],z=["on","off"];function O(Q,ee,be,me){if((0,x.T)(be)&&(me=be,be=void 0),me)return O(Q,ee,be).pipe((0,ce.I)(me));const[Ne,Be]=function H(Q){return(0,x.T)(Q.addEventListener)&&(0,x.T)(Q.removeEventListener)}(Q)?q.map(Ve=>Le=>Q[Ve](ee,Le,be)):function k(Q){return(0,x.T)(Q.addListener)&&(0,x.T)(Q.removeListener)}(Q)?ne.map(I(Q,ee)):function A(Q){return(0,x.T)(Q.on)&&(0,x.T)(Q.off)}(Q)?z.map(I(Q,ee)):[];if(!Ne&&(0,F.X)(Q))return(0,T.Z)(Ve=>O(Ve,ee,be))((0,p.Tg)(Q));if(!Ne)throw new TypeError("Invalid event target");return new m.c(Ve=>{const Le=(...J)=>Ve.next(1<J.length?J:J[0]);return Ne(Le),()=>Be(Le)})}function I(Q,ee){return be=>me=>Q[be](ee,me)}},8750:(Jt,ke,E)=>{"use strict";E.d(ke,{Tg:()=>A});var p=E(1635),m=E(7441),T=E(9858),F=E(1985),x=E(5055),ce=E(7953),ne=E(591),q=E(5397),z=E(5196),O=E(8071),I=E(5334),k=E(3494);function A(Ve){if(Ve instanceof F.c)return Ve;if(null!=Ve){if((0,x.l)(Ve))return function H(Ve){return new F.c(Le=>{const J=Ve[k.s]();if((0,O.T)(J.subscribe))return J.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,m.X)(Ve))return function Q(Ve){return new F.c(Le=>{for(let J=0;J<Ve.length&&!Le.closed;J++)Le.next(Ve[J]);Le.complete()})}(Ve);if((0,T.y)(Ve))return function ee(Ve){return new F.c(Le=>{Ve.then(J=>{Le.closed||(Le.next(J),Le.complete())},J=>Le.error(J)).then(null,I.m)})}(Ve);if((0,ce.T)(Ve))return me(Ve);if((0,q.x)(Ve))return function be(Ve){return new F.c(Le=>{for(const J of Ve)if(Le.next(J),Le.closed)return;Le.complete()})}(Ve);if((0,z.U)(Ve))return function Ne(Ve){return me((0,z.C)(Ve))}(Ve)}throw(0,ne.L)(Ve)}function me(Ve){return new F.c(Le=>{(function Be(Ve,Le){var J,ae,de,fe;return(0,p.sH)(this,void 0,void 0,function*(){try{for(J=(0,p.xN)(Ve);!(ae=yield J.next()).done;)if(Le.next(ae.value),Le.closed)return}catch(Re){de={error:Re}}finally{try{ae&&!ae.done&&(fe=J.return)&&(yield fe.call(J))}finally{if(de)throw de.error}}Le.complete()})})(Ve,Le).catch(J=>Le.error(J))})}},7786:(Jt,ke,E)=>{"use strict";E.d(ke,{h:()=>ce});var p=E(6365),m=E(8750),T=E(983),F=E(9326),x=E(8455);function ce(...ne){const q=(0,F.lI)(ne),z=(0,F.R0)(ne,1/0),O=ne;return O.length?1===O.length?(0,m.Tg)(O[0]):(0,p.U)(z)((0,x.H)(O,q)):T.w}},7673:(Jt,ke,E)=>{"use strict";E.d(ke,{of:()=>T});var p=E(9326),m=E(8455);function T(...F){const x=(0,p.lI)(F);return(0,m.H)(F,x)}},8810:(Jt,ke,E)=>{"use strict";E.d(ke,{$:()=>T});var p=E(1985),m=E(8071);function T(F,x){const ce=(0,m.T)(F)?F:()=>F,ne=q=>q.error(ce());return new p.c(x?q=>x.schedule(ne,0,q):ne)}},1807:(Jt,ke,E)=>{"use strict";E.d(ke,{O:()=>x});var p=E(1985),m=E(3236),T=E(9470),F=E(8211);function x(ce=0,ne,q=m.b){let z=-1;return null!=ne&&((0,T.m)(ne)?q=ne:z=ne),new p.c(O=>{let I=(0,F.v)(ce)?+ce-q.now():ce;I<0&&(I=0);let k=0;return q.schedule(function(){O.closed||(O.next(k++),0<=z?this.schedule(void 0,z):O.complete())},I)})}},4360:(Jt,ke,E)=>{"use strict";E.d(ke,{_:()=>m});var p=E(7707);function m(F,x,ce,ne,q){return new T(F,x,ce,ne,q)}class T extends p.vU{constructor(x,ce,ne,q,z,O){super(x),this.onFinalize=z,this.shouldUnsubscribe=O,this._next=ce?function(I){try{ce(I)}catch(k){x.error(k)}}:super._next,this._error=q?function(I){try{q(I)}catch(k){x.error(k)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(I){x.error(I)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}}},9437:(Jt,ke,E)=>{"use strict";E.d(ke,{W:()=>F});var p=E(8750),m=E(4360),T=E(9974);function F(x){return(0,T.N)((ce,ne)=>{let O,q=null,z=!1;q=ce.subscribe((0,m._)(ne,void 0,void 0,I=>{O=(0,p.Tg)(x(I,F(x)(ce))),q?(q.unsubscribe(),q=null,O.subscribe(ne)):z=!0})),z&&(q.unsubscribe(),q=null,O.subscribe(ne))})}},274:(Jt,ke,E)=>{"use strict";E.d(ke,{H:()=>T});var p=E(1397),m=E(8071);function T(F,x){return(0,m.T)(x)?(0,p.Z)(F,x,1):(0,p.Z)(F,1)}},152:(Jt,ke,E)=>{"use strict";E.d(ke,{B:()=>F});var p=E(3236),m=E(9974),T=E(4360);function F(x,ce=p.E){return(0,m.N)((ne,q)=>{let z=null,O=null,I=null;const k=()=>{if(z){z.unsubscribe(),z=null;const H=O;O=null,q.next(H)}};function A(){const H=I+x,Q=ce.now();if(Q<H)return z=this.schedule(void 0,H-Q),void q.add(z);k()}ne.subscribe((0,T._)(q,H=>{O=H,I=ce.now(),z||(z=ce.schedule(A,x),q.add(z))},()=>{k(),q.complete()},void 0,()=>{O=z=null}))})}},9901:(Jt,ke,E)=>{"use strict";E.d(ke,{U:()=>T});var p=E(9974),m=E(4360);function T(F){return(0,p.N)((x,ce)=>{let ne=!1;x.subscribe((0,m._)(ce,q=>{ne=!0,ce.next(q)},()=>{ne||ce.next(F),ce.complete()}))})}},1986:(Jt,ke,E)=>{"use strict";E.d(ke,{c:()=>A});var p=E(3236),m=E(8793),T=E(6697),F=E(9974),x=E(4360),ce=E(5343),q=E(3703),z=E(1397),O=E(8750);function I(H,Q){return Q?ee=>(0,m.x)(Q.pipe((0,T.s)(1),function ne(){return(0,F.N)((H,Q)=>{H.subscribe((0,x._)(Q,ce.l))})}()),ee.pipe(I(H))):(0,z.Z)((ee,be)=>(0,O.Tg)(H(ee,be)).pipe((0,T.s)(1),(0,q.u)(ee)))}var k=E(1807);function A(H,Q=p.E){const ee=(0,k.O)(H,Q);return I(()=>ee)}},3294:(Jt,ke,E)=>{"use strict";E.d(ke,{F:()=>F});var p=E(3669),m=E(9974),T=E(4360);function F(ce,ne=p.D){return ce=ce??x,(0,m.N)((q,z)=>{let O,I=!0;q.subscribe((0,T._)(z,k=>{const A=ne(k);(I||!ce(O,A))&&(I=!1,O=A,z.next(k))}))})}function x(ce,ne){return ce===ne}},5964:(Jt,ke,E)=>{"use strict";E.d(ke,{p:()=>T});var p=E(9974),m=E(4360);function T(F,x){return(0,p.N)((ce,ne)=>{let q=0;ce.subscribe((0,m._)(ne,z=>F.call(x,z,q++)&&ne.next(z)))})}},980:(Jt,ke,E)=>{"use strict";E.d(ke,{j:()=>m});var p=E(9974);function m(T){return(0,p.N)((F,x)=>{try{F.subscribe(x)}finally{x.add(T)}})}},1594:(Jt,ke,E)=>{"use strict";E.d(ke,{$:()=>ne});var p=E(9350),m=E(5964),T=E(6697),F=E(9901),x=E(3774),ce=E(3669);function ne(q,z){const O=arguments.length>=2;return I=>I.pipe(q?(0,m.p)((k,A)=>q(k,A,I)):ce.D,(0,T.s)(1),O?(0,F.U)(z):(0,x.v)(()=>new p.G))}},6354:(Jt,ke,E)=>{"use strict";E.d(ke,{T:()=>T});var p=E(9974),m=E(4360);function T(F,x){return(0,p.N)((ce,ne)=>{let q=0;ce.subscribe((0,m._)(ne,z=>{ne.next(F.call(x,z,q++))}))})}},3703:(Jt,ke,E)=>{"use strict";E.d(ke,{u:()=>m});var p=E(6354);function m(T){return(0,p.T)(()=>T)}},6365:(Jt,ke,E)=>{"use strict";E.d(ke,{U:()=>T});var p=E(1397),m=E(3669);function T(F=1/0){return(0,p.Z)(m.D,F)}},1397:(Jt,ke,E)=>{"use strict";E.d(ke,{Z:()=>q});var p=E(6354),m=E(8750),T=E(9974),F=E(5225),x=E(4360),ne=E(8071);function q(z,O,I=1/0){return(0,ne.T)(O)?q((k,A)=>(0,p.T)((H,Q)=>O(k,H,A,Q))((0,m.Tg)(z(k,A))),I):("number"==typeof O&&(I=O),(0,T.N)((k,A)=>function ce(z,O,I,k,A,H,Q,ee){const be=[];let me=0,Ne=0,Be=!1;const Ve=()=>{Be&&!be.length&&!me&&O.complete()},Le=ae=>me<k?J(ae):be.push(ae),J=ae=>{H&&O.next(ae),me++;let de=!1;(0,m.Tg)(I(ae,Ne++)).subscribe((0,x._)(O,fe=>{A?.(fe),H?Le(fe):O.next(fe)},()=>{de=!0},void 0,()=>{if(de)try{for(me--;be.length&&me<k;){const fe=be.shift();Q?(0,F.N)(O,Q,()=>J(fe)):J(fe)}Ve()}catch(fe){O.error(fe)}}))};return z.subscribe((0,x._)(O,Le,()=>{Be=!0,Ve()})),()=>{ee?.()}}(k,A,z,I)))}},941:(Jt,ke,E)=>{"use strict";E.d(ke,{Q:()=>F});var p=E(5225),m=E(9974),T=E(4360);function F(x,ce=0){return(0,m.N)((ne,q)=>{ne.subscribe((0,T._)(q,z=>(0,p.N)(q,x,()=>q.next(z),ce),()=>(0,p.N)(q,x,()=>q.complete(),ce),z=>(0,p.N)(q,x,()=>q.error(z),ce)))})}},9898:(Jt,ke,E)=>{"use strict";E.d(ke,{B:()=>T});var p=E(9974),m=E(4360);function T(){return(0,p.N)((F,x)=>{let ce=null;F._refCount++;const ne=(0,m._)(x,void 0,void 0,void 0,()=>{if(!F||F._refCount<=0||0<--F._refCount)return void(ce=null);const q=F._connection,z=ce;ce=null,q&&(!z||q===z)&&q.unsubscribe(),x.unsubscribe()});F.subscribe(ne),ne.closed||(ce=F.connect())})}},2816:(Jt,ke,E)=>{"use strict";E.d(ke,{S:()=>F});var p=E(9974),m=E(4360);function F(x,ce){return(0,p.N)(function T(x,ce,ne,q,z){return(O,I)=>{let k=ne,A=ce,H=0;O.subscribe((0,m._)(I,Q=>{const ee=H++;A=k?x(A,Q,ee):(k=!0,Q),q&&I.next(A)},z&&(()=>{k&&I.next(A),I.complete()})))}}(x,ce,arguments.length>=2,!0))}},7647:(Jt,ke,E)=>{"use strict";E.d(ke,{u:()=>x});var p=E(8750),m=E(1413),T=E(7707),F=E(9974);function x(ne={}){const{connector:q=(()=>new m.B),resetOnError:z=!0,resetOnComplete:O=!0,resetOnRefCountZero:I=!0}=ne;return k=>{let A,H,Q,ee=0,be=!1,me=!1;const Ne=()=>{H?.unsubscribe(),H=void 0},Be=()=>{Ne(),A=Q=void 0,be=me=!1},Ve=()=>{const Le=A;Be(),Le?.unsubscribe()};return(0,F.N)((Le,J)=>{ee++,!me&&!be&&Ne();const ae=Q=Q??q();J.add(()=>{ee--,0===ee&&!me&&!be&&(H=ce(Ve,I))}),ae.subscribe(J),!A&&ee>0&&(A=new T.Ms({next:de=>ae.next(de),error:de=>{me=!0,Ne(),H=ce(Be,z,de),ae.error(de)},complete:()=>{be=!0,Ne(),H=ce(Be,O),ae.complete()}}),(0,p.Tg)(Le).subscribe(A))})(k)}}function ce(ne,q,...z){if(!0===q)return void ne();if(!1===q)return;const O=new T.Ms({next:()=>{O.unsubscribe(),ne()}});return(0,p.Tg)(q(...z)).subscribe(O)}},6496:(Jt,ke,E)=>{"use strict";E.d(ke,{t:()=>x});var p=E(1413),m=E(6129);class T extends p.B{constructor(ne=1/0,q=1/0,z=m.U){super(),this._bufferSize=ne,this._windowTime=q,this._timestampProvider=z,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=q===1/0,this._bufferSize=Math.max(1,ne),this._windowTime=Math.max(1,q)}next(ne){const{isStopped:q,_buffer:z,_infiniteTimeWindow:O,_timestampProvider:I,_windowTime:k}=this;q||(z.push(ne),!O&&z.push(I.now()+k)),this._trimBuffer(),super.next(ne)}_subscribe(ne){this._throwIfClosed(),this._trimBuffer();const q=this._innerSubscribe(ne),{_infiniteTimeWindow:z,_buffer:O}=this,I=O.slice();for(let k=0;k<I.length&&!ne.closed;k+=z?1:2)ne.next(I[k]);return this._checkFinalizedStatuses(ne),q}_trimBuffer(){const{_bufferSize:ne,_timestampProvider:q,_buffer:z,_infiniteTimeWindow:O}=this,I=(O?1:2)*ne;if(ne<1/0&&I<z.length&&z.splice(0,z.length-I),!O){const k=q.now();let A=0;for(let H=1;H<z.length&&z[H]<=k;H+=2)A=H;A&&z.splice(0,A+1)}}}var F=E(7647);function x(ce,ne,q){let z,O=!1;return ce&&"object"==typeof ce?({bufferSize:z=1/0,windowTime:ne=1/0,refCount:O=!1,scheduler:q}=ce):z=ce??1/0,(0,F.u)({connector:()=>new T(z,ne,q),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:O})}},5245:(Jt,ke,E)=>{"use strict";E.d(ke,{i:()=>m});var p=E(5964);function m(T){return(0,p.p)((F,x)=>T<=x)}},9172:(Jt,ke,E)=>{"use strict";E.d(ke,{Z:()=>F});var p=E(8793),m=E(9326),T=E(9974);function F(...x){const ce=(0,m.lI)(x);return(0,T.N)((ne,q)=>{(ce?(0,p.x)(x,ne,ce):(0,p.x)(x,ne)).subscribe(q)})}},6745:(Jt,ke,E)=>{"use strict";E.d(ke,{_:()=>m});var p=E(9974);function m(T,F=0){return(0,p.N)((x,ce)=>{ce.add(T.schedule(()=>x.subscribe(ce),F))})}},5558:(Jt,ke,E)=>{"use strict";E.d(ke,{n:()=>F});var p=E(8750),m=E(9974),T=E(4360);function F(x,ce){return(0,m.N)((ne,q)=>{let z=null,O=0,I=!1;const k=()=>I&&!z&&q.complete();ne.subscribe((0,T._)(q,A=>{z?.unsubscribe();let H=0;const Q=O++;(0,p.Tg)(x(A,Q)).subscribe(z=(0,T._)(q,ee=>q.next(ce?ce(A,ee,Q,H++):ee),()=>{z=null,k()}))},()=>{I=!0,k()}))})}},7083:(Jt,ke,E)=>{"use strict";E.d(ke,{K:()=>T});var p=E(5558),m=E(8071);function T(F,x){return(0,m.T)(x)?(0,p.n)(()=>F,x):(0,p.n)(()=>F)}},6697:(Jt,ke,E)=>{"use strict";E.d(ke,{s:()=>F});var p=E(983),m=E(9974),T=E(4360);function F(x){return x<=0?()=>p.w:(0,m.N)((ce,ne)=>{let q=0;ce.subscribe((0,T._)(ne,z=>{++q<=x&&(ne.next(z),x<=q&&ne.complete())}))})}},6977:(Jt,ke,E)=>{"use strict";E.d(ke,{Q:()=>x});var p=E(9974),m=E(4360),T=E(8750),F=E(5343);function x(ce){return(0,p.N)((ne,q)=>{(0,T.Tg)(ce).subscribe((0,m._)(q,()=>q.complete(),F.l)),!q.closed&&ne.subscribe(q)})}},8141:(Jt,ke,E)=>{"use strict";E.d(ke,{M:()=>x});var p=E(8071),m=E(9974),T=E(4360),F=E(3669);function x(ce,ne,q){const z=(0,p.T)(ce)||ne||q?{next:ce,error:ne,complete:q}:ce;return z?(0,m.N)((O,I)=>{var k;null===(k=z.subscribe)||void 0===k||k.call(z);let A=!0;O.subscribe((0,T._)(I,H=>{var Q;null===(Q=z.next)||void 0===Q||Q.call(z,H),I.next(H)},()=>{var H;A=!1,null===(H=z.complete)||void 0===H||H.call(z),I.complete()},H=>{var Q;A=!1,null===(Q=z.error)||void 0===Q||Q.call(z,H),I.error(H)},()=>{var H,Q;A&&(null===(H=z.unsubscribe)||void 0===H||H.call(z)),null===(Q=z.finalize)||void 0===Q||Q.call(z)}))}):F.D}},3774:(Jt,ke,E)=>{"use strict";E.d(ke,{v:()=>F});var p=E(9350),m=E(9974),T=E(4360);function F(ce=x){return(0,m.N)((ne,q)=>{let z=!1;ne.subscribe((0,T._)(q,O=>{z=!0,q.next(O)},()=>z?q.complete():q.error(ce())))})}function x(){return new p.G}},6780:(Jt,ke,E)=>{"use strict";E.d(ke,{R:()=>x});var p=E(8359);class m extends p.yU{constructor(ne,q){super()}schedule(ne,q=0){return this}}const T={setInterval(ce,ne,...q){const{delegate:z}=T;return z?.setInterval?z.setInterval(ce,ne,...q):setInterval(ce,ne,...q)},clearInterval(ce){const{delegate:ne}=T;return(ne?.clearInterval||clearInterval)(ce)},delegate:void 0};var F=E(7908);class x extends m{constructor(ne,q){super(ne,q),this.scheduler=ne,this.work=q,this.pending=!1}schedule(ne,q=0){var z;if(this.closed)return this;this.state=ne;const O=this.id,I=this.scheduler;return null!=O&&(this.id=this.recycleAsyncId(I,O,q)),this.pending=!0,this.delay=q,this.id=null!==(z=this.id)&&void 0!==z?z:this.requestAsyncId(I,this.id,q),this}requestAsyncId(ne,q,z=0){return T.setInterval(ne.flush.bind(ne,this),z)}recycleAsyncId(ne,q,z=0){if(null!=z&&this.delay===z&&!1===this.pending)return q;null!=q&&T.clearInterval(q)}execute(ne,q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const z=this._execute(ne,q);if(z)return z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,q){let O,z=!1;try{this.work(ne)}catch(I){z=!0,O=I||new Error("Scheduled action threw falsy error")}if(z)return this.unsubscribe(),O}unsubscribe(){if(!this.closed){const{id:ne,scheduler:q}=this,{actions:z}=q;this.work=this.state=this.scheduler=null,this.pending=!1,(0,F.o)(z,this),null!=ne&&(this.id=this.recycleAsyncId(q,ne,null)),this.delay=null,super.unsubscribe()}}}},9687:(Jt,ke,E)=>{"use strict";E.d(ke,{q:()=>T});var p=E(6129);class m{constructor(x,ce=m.now){this.schedulerActionCtor=x,this.now=ce}schedule(x,ce=0,ne){return new this.schedulerActionCtor(this,x).schedule(ne,ce)}}m.now=p.U.now;class T extends m{constructor(x,ce=m.now){super(x,ce),this.actions=[],this._active=!1}flush(x){const{actions:ce}=this;if(this._active)return void ce.push(x);let ne;this._active=!0;do{if(ne=x.execute(x.state,x.delay))break}while(x=ce.shift());if(this._active=!1,ne){for(;x=ce.shift();)x.unsubscribe();throw ne}}}},3236:(Jt,ke,E)=>{"use strict";E.d(ke,{E:()=>T,b:()=>F});var p=E(6780);const T=new(E(9687).q)(p.R),F=T},6129:(Jt,ke,E)=>{"use strict";E.d(ke,{U:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},9270:(Jt,ke,E)=>{"use strict";E.d(ke,{f:()=>p});const p={setTimeout(m,T,...F){const{delegate:x}=p;return x?.setTimeout?x.setTimeout(m,T,...F):setTimeout(m,T,...F)},clearTimeout(m){const{delegate:T}=p;return(T?.clearTimeout||clearTimeout)(m)},delegate:void 0}},4761:(Jt,ke,E)=>{"use strict";E.d(ke,{l:()=>m});const m=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Jt,ke,E)=>{"use strict";E.d(ke,{s:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Jt,ke,E)=>{"use strict";E.d(ke,{G:()=>m});const m=(0,E(1853).L)(T=>function(){T(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Jt,ke,E)=>{"use strict";E.d(ke,{R0:()=>ce,lI:()=>x,ms:()=>F});var p=E(8071),m=E(9470);function T(ne){return ne[ne.length-1]}function F(ne){return(0,p.T)(T(ne))?ne.pop():void 0}function x(ne){return(0,m.m)(T(ne))?ne.pop():void 0}function ce(ne,q){return"number"==typeof T(ne)?ne.pop():q}},3073:(Jt,ke,E)=>{"use strict";E.d(ke,{D:()=>x});const{isArray:p}=Array,{getPrototypeOf:m,prototype:T,keys:F}=Object;function x(ne){if(1===ne.length){const q=ne[0];if(p(q))return{args:q,keys:null};if(function ce(ne){return ne&&"object"==typeof ne&&m(ne)===T}(q)){const z=F(q);return{args:z.map(O=>q[O]),keys:z}}}return{args:ne,keys:null}}},7908:(Jt,ke,E)=>{"use strict";function p(m,T){if(m){const F=m.indexOf(T);0<=F&&m.splice(F,1)}}E.d(ke,{o:()=>p})},1853:(Jt,ke,E)=>{"use strict";function p(m){const F=m(x=>{Error.call(x),x.stack=(new Error).stack});return F.prototype=Object.create(Error.prototype),F.prototype.constructor=F,F}E.d(ke,{L:()=>p})},8496:(Jt,ke,E)=>{"use strict";function p(m,T){return m.reduce((F,x,ce)=>(F[x]=T[ce],F),{})}E.d(ke,{e:()=>p})},9786:(Jt,ke,E)=>{"use strict";E.d(ke,{Y:()=>T,l:()=>F});var p=E(1026);let m=null;function T(x){if(p.$.useDeprecatedSynchronousErrorHandling){const ce=!m;if(ce&&(m={errorThrown:!1,error:null}),x(),ce){const{errorThrown:ne,error:q}=m;if(m=null,ne)throw q}}else x()}function F(x){p.$.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=x)}},5225:(Jt,ke,E)=>{"use strict";function p(m,T,F,x=0,ce=!1){const ne=T.schedule(function(){F(),ce?m.add(this.schedule(null,x)):this.unsubscribe()},x);if(m.add(ne),!ce)return ne}E.d(ke,{N:()=>p})},3669:(Jt,ke,E)=>{"use strict";function p(m){return m}E.d(ke,{D:()=>p})},7441:(Jt,ke,E)=>{"use strict";E.d(ke,{X:()=>p});const p=m=>m&&"number"==typeof m.length&&"function"!=typeof m},7953:(Jt,ke,E)=>{"use strict";E.d(ke,{T:()=>m});var p=E(8071);function m(T){return Symbol.asyncIterator&&(0,p.T)(T?.[Symbol.asyncIterator])}},8211:(Jt,ke,E)=>{"use strict";function p(m){return m instanceof Date&&!isNaN(m)}E.d(ke,{v:()=>p})},8071:(Jt,ke,E)=>{"use strict";function p(m){return"function"==typeof m}E.d(ke,{T:()=>p})},5055:(Jt,ke,E)=>{"use strict";E.d(ke,{l:()=>T});var p=E(3494),m=E(8071);function T(F){return(0,m.T)(F[p.s])}},5397:(Jt,ke,E)=>{"use strict";E.d(ke,{x:()=>T});var p=E(4761),m=E(8071);function T(F){return(0,m.T)(F?.[p.l])}},4402:(Jt,ke,E)=>{"use strict";E.d(ke,{A:()=>T});var p=E(1985),m=E(8071);function T(F){return!!F&&(F instanceof p.c||(0,m.T)(F.lift)&&(0,m.T)(F.subscribe))}},9858:(Jt,ke,E)=>{"use strict";E.d(ke,{y:()=>m});var p=E(8071);function m(T){return(0,p.T)(T?.then)}},5196:(Jt,ke,E)=>{"use strict";E.d(ke,{C:()=>T,U:()=>F});var p=E(1635),m=E(8071);function T(x){return(0,p.AQ)(this,arguments,function*(){const ne=x.getReader();try{for(;;){const{value:q,done:z}=yield(0,p.N3)(ne.read());if(z)return yield(0,p.N3)(void 0);yield yield(0,p.N3)(q)}}finally{ne.releaseLock()}})}function F(x){return(0,m.T)(x?.getReader)}},9470:(Jt,ke,E)=>{"use strict";E.d(ke,{m:()=>m});var p=E(8071);function m(T){return T&&(0,p.T)(T.schedule)}},9974:(Jt,ke,E)=>{"use strict";E.d(ke,{N:()=>T,S:()=>m});var p=E(8071);function m(F){return(0,p.T)(F?.lift)}function T(F){return x=>{if(m(x))return x.lift(function(ce){try{return F(ce,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Jt,ke,E)=>{"use strict";E.d(ke,{I:()=>F});var p=E(6354);const{isArray:m}=Array;function F(x){return(0,p.T)(ce=>function T(x,ce){return m(ce)?x(...ce):x(ce)}(x,ce))}},5343:(Jt,ke,E)=>{"use strict";function p(){}E.d(ke,{l:()=>p})},1203:(Jt,ke,E)=>{"use strict";E.d(ke,{F:()=>m,m:()=>T});var p=E(3669);function m(...F){return T(F)}function T(F){return 0===F.length?p.D:1===F.length?F[0]:function(ce){return F.reduce((ne,q)=>q(ne),ce)}}},5334:(Jt,ke,E)=>{"use strict";E.d(ke,{m:()=>T});var p=E(1026),m=E(9270);function T(F){m.f.setTimeout(()=>{const{onUnhandledError:x}=p.$;if(!x)throw F;x(F)})}},591:(Jt,ke,E)=>{"use strict";function p(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(ke,{L:()=>p})},6883:(Jt,ke,E)=>{"use strict";E.d(ke,{A:()=>k});var p,m=new Uint8Array(16);function T(){if(!p&&!(p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(m)}const F=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var ne=[],q=0;q<256;++q)ne.push((q+256).toString(16).substr(1));const O=function z(A){var H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Q=(ne[A[H+0]]+ne[A[H+1]]+ne[A[H+2]]+ne[A[H+3]]+"-"+ne[A[H+4]]+ne[A[H+5]]+"-"+ne[A[H+6]]+ne[A[H+7]]+"-"+ne[A[H+8]]+ne[A[H+9]]+"-"+ne[A[H+10]]+ne[A[H+11]]+ne[A[H+12]]+ne[A[H+13]]+ne[A[H+14]]+ne[A[H+15]]).toLowerCase();if(!function x(A){return"string"==typeof A&&F.test(A)}(Q))throw TypeError("Stringified UUID is invalid");return Q},k=function I(A,H,Q){var ee=(A=A||{}).random||(A.rng||T)();if(ee[6]=15&ee[6]|64,ee[8]=63&ee[8]|128,H){Q=Q||0;for(var be=0;be<16;++be)H[Q+be]=ee[be];return H}return O(ee)}},5950:function(Jt){Jt.exports=function(){"use strict";const E={},p=function(c,t){return E[c]=E[c]||[],t&&(E[c]=E[c].concat(t)),E[c]},T=function(c,t){const o=p(c).indexOf(t);return!(o<=-1||(E[c]=E[c].slice(),E[c].splice(o,1),0))},x={prefixed:!0},ce=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],ne=ce[0];let q;for(let c=0;c<ce.length;c++)if(ce[c][1]in document){q=ce[c];break}if(q){for(let c=0;c<q.length;c++)x[ne[c]]=q[c];x.prefixed=q[0]!==ne[0]}let z=[];const k=function I(c){let o,t="info";const h=function(...y){o("log",t,y)};return o=((c,t)=>(o,h,y)=>{const M=t.levels[h],L=new RegExp(`^(${M})$`);if("log"!==o&&y.unshift(o.toUpperCase()+":"),y.unshift(c+":"),z){z.push([].concat(y));const pe=z.length-1e3;z.splice(0,pe>0?pe:0)}if(!window.console)return;let K=window.console[o];!K&&"debug"===o&&(K=window.console.info||window.console.log),K&&M&&L.test(o)&&K[Array.isArray(y)?"apply":"call"](window.console,y)})(c,h),h.createLogger=y=>I(c+": "+y),h.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:t},h.level=y=>{if("string"==typeof y){if(!h.levels.hasOwnProperty(y))throw new Error(`"${y}" in not a valid log level`);t=y}return t},(h.history=()=>z?[].concat(z):[]).filter=y=>(z||[]).filter(M=>new RegExp(`.*${y}.*`).test(M[0])),h.history.clear=()=>{z&&(z.length=0)},h.history.disable=()=>{null!==z&&(z.length=0,z=null)},h.history.enable=()=>{null===z&&(z=[])},h.error=(...y)=>o("error",t,y),h.warn=(...y)=>o("warn",t,y),h.debug=(...y)=>o("debug",t,y),h}("VIDEOJS"),A=k.createLogger,H=Object.prototype.toString,Q=function(c){return me(c)?Object.keys(c):[]};function ee(c,t){Q(c).forEach(o=>t(c[o],o))}function be(c,t,o=0){return Q(c).reduce((h,y)=>t(h,c[y],y),o)}function me(c){return!!c&&"object"==typeof c}function Ne(c){return me(c)&&"[object Object]"===H.call(c)&&c.constructor===Object}function Be(...c){const t={};return c.forEach(o=>{o&&ee(o,(h,y)=>{Ne(h)?(Ne(t[y])||(t[y]={}),t[y]=Be(t[y],h)):t[y]=h})}),t}function Ve(c,t,o,h=!0){const y=L=>Object.defineProperty(c,t,{value:L,enumerable:!0,writable:!0}),M={configurable:!0,enumerable:!0,get(){const L=o();return y(L),L}};return h&&(M.set=y),Object.defineProperty(c,t,M)}var Le=Object.freeze({__proto__:null,each:ee,reduce:be,isObject:me,isPlain:Ne,merge:Be,defineLazyProperty:Ve});let fe,J=!1,ae=null,de=!1,Re=!1,_e=!1,Xe=!1,Ye=!1,Ot=null,un=null,Cn=null,An=!1,Nn=!1,Et=!1,Rt=!1;const jt=!(!Ft()||!("ontouchstart"in window||window.navigator.maxTouchPoints||window.DocumentTouch&&window.document instanceof window.DocumentTouch)),Dt=window.navigator&&window.navigator.userAgentData;if(Dt&&(de="Android"===Dt.platform,_e=!!Dt.brands.find(c=>"Microsoft Edge"===c.brand),Xe=!!Dt.brands.find(c=>"Chromium"===c.brand),Ye=!_e&&Xe,Ot=un=(Dt.brands.find(c=>"Chromium"===c.brand)||{}).version||null,Nn="Windows"===Dt.platform),!Xe){const c=window.navigator&&window.navigator.userAgent||"";J=/iPod/i.test(c),ae=function(){const t=c.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),de=/Android/i.test(c),fe=function(){const t=c.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;const o=t[1]&&parseFloat(t[1]),h=t[2]&&parseFloat(t[2]);return o&&h?parseFloat(t[1]+"."+t[2]):o||null}(),Re=/Firefox/i.test(c),_e=/Edg/i.test(c),Xe=/Chrome/i.test(c)||/CriOS/i.test(c),Ye=!_e&&Xe,Ot=un=function(){const t=c.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Cn=function(){const t=/MSIE\s(\d+)\.\d/.exec(c);let o=t&&parseFloat(t[1]);return!o&&/Trident\/7.0/i.test(c)&&/rv:11.0/.test(c)&&(o=11),o}(),An=/Safari/i.test(c)&&!Ye&&!de&&!_e,Nn=/Windows/i.test(c),Et=/iPad/i.test(c)||An&&jt&&!/iPhone/i.test(c),Rt=/iPhone/i.test(c)&&!Et}const en=Rt||Et||J,qe=(An||en)&&!Ye;var We=Object.freeze({__proto__:null,get IS_IPOD(){return J},get IOS_VERSION(){return ae},get IS_ANDROID(){return de},get ANDROID_VERSION(){return fe},get IS_FIREFOX(){return Re},get IS_EDGE(){return _e},get IS_CHROMIUM(){return Xe},get IS_CHROME(){return Ye},get CHROMIUM_VERSION(){return Ot},get CHROME_VERSION(){return un},get IE_VERSION(){return Cn},get IS_SAFARI(){return An},get IS_WINDOWS(){return Nn},get IS_IPAD(){return Et},get IS_IPHONE(){return Rt},TOUCH_ENABLED:jt,IS_IOS:en,IS_ANY_SAFARI:qe});function ge(c){return"string"==typeof c&&!!c.trim()}function Ft(){return document===window.document}function Lt(c){return me(c)&&1===c.nodeType}function bn(){try{return window.parent!==window.self}catch{return!0}}function it(c){return function(t,o){if(!ge(t))return document[c](null);ge(o)&&(o=document.querySelector(o));const h=Lt(o)?o:document;return h[c]&&h[c](t)}}function dt(c="div",t={},o={},h){const y=document.createElement(c);return Object.getOwnPropertyNames(t).forEach(function(M){const L=t[M];"textContent"===M?$t(y,L):(y[M]!==L||"tabIndex"===M)&&(y[M]=L)}),Object.getOwnPropertyNames(o).forEach(function(M){y.setAttribute(M,o[M])}),h&&Si(y,h),y}function $t(c,t){return typeof c.textContent>"u"?c.innerText=t:c.textContent=t,c}function Pn(c,t){t.firstChild?t.insertBefore(c,t.firstChild):t.appendChild(c)}function qn(c,t){return function mt(c){if(c.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}(t),c.classList.contains(t)}function Pi(c,...t){return c.classList.add(...t.reduce((o,h)=>o.concat(h.split(/\s+/)),[])),c}function hi(c,...t){return c?(c.classList.remove(...t.reduce((o,h)=>o.concat(h.split(/\s+/)),[])),c):(k.warn("removeClass was called with an element that doesn't exist"),null)}function Ci(c,t,o){return"function"==typeof o&&(o=o(c,t)),"boolean"!=typeof o&&(o=void 0),t.split(/\s+/).forEach(h=>c.classList.toggle(h,o)),c}function qt(c,t){Object.getOwnPropertyNames(t).forEach(function(o){const h=t[o];null===h||typeof h>"u"||!1===h?c.removeAttribute(o):c.setAttribute(o,!0===h?"":h)})}function Ie(c){const t={};if(c&&c.attributes&&c.attributes.length>0){const h=c.attributes;for(let y=h.length-1;y>=0;y--){const M=h[y].name;let L=h[y].value;("boolean"==typeof c[M]||-1!==",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+M+","))&&(L=null!==L),t[M]=L}}return t}function Te(c,t){return c.getAttribute(t)}function Ge(c,t,o){c.setAttribute(t,o)}function kt(c,t){c.removeAttribute(t)}function Gt(){document.body.focus(),document.onselectstart=function(){return!1}}function En(){document.onselectstart=function(){return!0}}function Yn(c){if(c&&c.getBoundingClientRect&&c.parentNode){const t=c.getBoundingClientRect(),o={};return["bottom","height","left","right","top","width"].forEach(h=>{void 0!==t[h]&&(o[h]=t[h])}),o.height||(o.height=parseFloat(Dn(c,"height"))),o.width||(o.width=parseFloat(Dn(c,"width"))),o}}function Mi(c){if(!c||c&&!c.offsetParent)return{left:0,top:0,width:0,height:0};const t=c.offsetWidth,o=c.offsetHeight;let h=0,y=0;for(;c.offsetParent&&c!==document[x.fullscreenElement];)h+=c.offsetLeft,y+=c.offsetTop,c=c.offsetParent;return{left:h,top:y,width:t,height:o}}function yi(c,t){const o={x:0,y:0};if(en){let Je=c;for(;Je&&"html"!==Je.nodeName.toLowerCase();){const St=Dn(Je,"transform");if(/^matrix/.test(St)){const rn=St.slice(7,-1).split(/,\s/).map(Number);o.x+=rn[4],o.y+=rn[5]}else if(/^matrix3d/.test(St)){const rn=St.slice(9,-1).split(/,\s/).map(Number);o.x+=rn[12],o.y+=rn[13]}Je=Je.parentNode}}const h={},y=Mi(t.target),M=Mi(c),L=M.width;let pe=t.offsetY-(M.top-y.top),He=t.offsetX-(M.left-y.left);return t.changedTouches&&(He=t.changedTouches[0].pageX-M.left,pe=t.changedTouches[0].pageY+M.top,en&&(He-=o.x,pe-=o.y)),h.y=1-Math.max(0,Math.min(1,pe/M.height)),h.x=Math.max(0,Math.min(1,He/L)),h}function bi(c){return me(c)&&3===c.nodeType}function rr(c){for(;c.firstChild;)c.removeChild(c.firstChild);return c}function br(c){return"function"==typeof c&&(c=c()),(Array.isArray(c)?c:[c]).map(t=>("function"==typeof t&&(t=t()),Lt(t)||bi(t)?t:"string"==typeof t&&/\S/.test(t)?document.createTextNode(t):void 0)).filter(t=>t)}function Si(c,t){return br(t).forEach(o=>c.appendChild(o)),c}function Ar(c,t){return Si(rr(c),t)}function $i(c){return void 0===c.button&&void 0===c.buttons||0===c.button&&void 0===c.buttons||"mouseup"===c.type&&0===c.button&&0===c.buttons||!(0!==c.button||1!==c.buttons)}const Gi=it("querySelector"),rs=it("querySelectorAll");function Dn(c,t){if(!c||!t)return"";if("function"==typeof window.getComputedStyle){let o;try{o=window.getComputedStyle(c)}catch{return""}return o?o.getPropertyValue(t)||o[t]:""}return""}var On=Object.freeze({__proto__:null,isReal:Ft,isEl:Lt,isInFrame:bn,createEl:dt,textContent:$t,prependTo:Pn,hasClass:qn,addClass:Pi,removeClass:hi,toggleClass:Ci,setAttributes:qt,getAttributes:Ie,getAttribute:Te,setAttribute:Ge,removeAttribute:kt,blockTextSelection:Gt,unblockTextSelection:En,getBoundingClientRect:Yn,findPosition:Mi,getPointerPosition:yi,isTextNode:bi,emptyEl:rr,normalizeContent:br,appendContent:Si,insertContent:Ar,isSingleLeftClick:$i,$:Gi,$$:rs,computedStyle:Dn});let Pt,bt=!1;const Vt=function(){if(!1===Pt.options.autoSetup)return;const c=Array.prototype.slice.call(document.getElementsByTagName("video")),t=Array.prototype.slice.call(document.getElementsByTagName("audio")),o=Array.prototype.slice.call(document.getElementsByTagName("video-js")),h=c.concat(t,o);if(h&&h.length>0)for(let y=0,M=h.length;y<M;y++){const L=h[y];if(!L||!L.getAttribute){yt(1);break}void 0===L.player&&null!==L.getAttribute("data-setup")&&Pt(L)}else bt||yt(1)};function yt(c,t){Ft()&&(t&&(Pt=t),window.setTimeout(Vt,c))}function Ht(){bt=!0,window.removeEventListener("load",Ht)}Ft()&&("complete"===document.readyState?Ht():window.addEventListener("load",Ht));const ft=function(c){const t=document.createElement("style");return t.className=c,t},wt=function(c,t){c.styleSheet?c.styleSheet.cssText=t:c.textContent=t};var ze=new WeakMap;let ht,V=3;function G(){return V++}function X(c,t){if(!ze.has(c))return;const o=ze.get(c);0===o.handlers[t].length&&(delete o.handlers[t],c.removeEventListener?c.removeEventListener(t,o.dispatcher,!1):c.detachEvent&&c.detachEvent("on"+t,o.dispatcher)),Object.getOwnPropertyNames(o.handlers).length<=0&&(delete o.handlers,delete o.dispatcher,delete o.disabled),0===Object.getOwnPropertyNames(o).length&&ze.delete(c)}function Ee(c,t,o,h){o.forEach(function(y){c(t,y,h)})}function ot(c){if(c.fixed_)return c;function t(){return!0}function o(){return!1}if(!c||!c.isPropagationStopped||!c.isImmediatePropagationStopped){const h=c||window.event;c={};for(const y in h)"layerX"!==y&&"layerY"!==y&&"keyLocation"!==y&&"webkitMovementX"!==y&&"webkitMovementY"!==y&&"path"!==y&&("returnValue"===y&&h.preventDefault||(c[y]=h[y]));if(c.target||(c.target=c.srcElement||document),c.relatedTarget||(c.relatedTarget=c.fromElement===c.target?c.toElement:c.fromElement),c.preventDefault=function(){h.preventDefault&&h.preventDefault(),c.returnValue=!1,h.returnValue=!1,c.defaultPrevented=!0},c.defaultPrevented=!1,c.stopPropagation=function(){h.stopPropagation&&h.stopPropagation(),c.cancelBubble=!0,h.cancelBubble=!0,c.isPropagationStopped=t},c.isPropagationStopped=o,c.stopImmediatePropagation=function(){h.stopImmediatePropagation&&h.stopImmediatePropagation(),c.isImmediatePropagationStopped=t,c.stopPropagation()},c.isImmediatePropagationStopped=o,null!=c.clientX){const y=document.documentElement,M=document.body;c.pageX=c.clientX+(y&&y.scrollLeft||M&&M.scrollLeft||0)-(y&&y.clientLeft||M&&M.clientLeft||0),c.pageY=c.clientY+(y&&y.scrollTop||M&&M.scrollTop||0)-(y&&y.clientTop||M&&M.clientTop||0)}c.which=c.charCode||c.keyCode,null!=c.button&&(c.button=1&c.button?0:4&c.button?1:2&c.button?2:0)}return c.fixed_=!0,c}const on=function(){if("boolean"!=typeof ht){ht=!1;try{const c=Object.defineProperty({},"passive",{get(){ht=!0}});window.addEventListener("test",null,c),window.removeEventListener("test",null,c)}catch{}}return ht},gn=["touchstart","touchmove"];function pt(c,t,o){if(Array.isArray(t))return Ee(pt,c,t,o);ze.has(c)||ze.set(c,{});const h=ze.get(c);if(h.handlers||(h.handlers={}),h.handlers[t]||(h.handlers[t]=[]),o.guid||(o.guid=G()),h.handlers[t].push(o),h.dispatcher||(h.disabled=!1,h.dispatcher=function(y,M){if(h.disabled)return;y=ot(y);const L=h.handlers[y.type];if(L){const K=L.slice(0);for(let pe=0,He=K.length;pe<He&&!y.isImmediatePropagationStopped();pe++)try{K[pe].call(c,y,M)}catch(Je){k.error(Je)}}}),1===h.handlers[t].length)if(c.addEventListener){let y=!1;on()&&gn.indexOf(t)>-1&&(y={passive:!0}),c.addEventListener(t,h.dispatcher,y)}else c.attachEvent&&c.attachEvent("on"+t,h.dispatcher)}function Ut(c,t,o){if(!ze.has(c))return;const h=ze.get(c);if(!h.handlers)return;if(Array.isArray(t))return Ee(Ut,c,t,o);const y=function(L,K){h.handlers[K]=[],X(L,K)};if(void 0===t){for(const L in h.handlers)Object.prototype.hasOwnProperty.call(h.handlers||{},L)&&y(c,L);return}const M=h.handlers[t];if(M){if(!o)return void y(c,t);if(o.guid)for(let L=0;L<M.length;L++)M[L].guid===o.guid&&M.splice(L--,1);X(c,t)}}function lt(c,t,o){const h=ze.has(c)?ze.get(c):{},y=c.parentNode||c.ownerDocument;if("string"==typeof t?t={type:t,target:c}:t.target||(t.target=c),t=ot(t),h.dispatcher&&h.dispatcher.call(c,t,o),y&&!t.isPropagationStopped()&&!0===t.bubbles)lt.call(null,y,t,o);else if(!y&&!t.defaultPrevented&&t.target&&t.target[t.type]){ze.has(t.target)||ze.set(t.target,{});const M=ze.get(t.target);t.target[t.type]&&(M.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),M.disabled=!1)}return!t.defaultPrevented}function ln(c,t,o){if(Array.isArray(t))return Ee(ln,c,t,o);const h=function(){Ut(c,t,h),o.apply(this,arguments)};h.guid=o.guid=o.guid||G(),pt(c,t,h)}function Rn(c,t,o){const h=function(){Ut(c,t,h),o.apply(this,arguments)};h.guid=o.guid=o.guid||G(),pt(c,t,h)}var Nt=Object.freeze({__proto__:null,fixEvent:ot,on:pt,off:Ut,trigger:lt,one:ln,any:Rn});const $n=function(c,t,o){t.guid||(t.guid=G());const h=t.bind(c);return h.guid=o?o+"_"+t.guid:t.guid,h},Zn=function(c,t){let o=window.performance.now();return function(...y){const M=window.performance.now();M-o>=t&&(c(...y),o=M)}},Ai=function(c,t,o,h=window){let y;const L=function(){const K=this,pe=arguments;let He=function(){y=null,He=null,o||c.apply(K,pe)};!y&&o&&c.apply(K,pe),h.clearTimeout(y),y=h.setTimeout(He,t)};return L.cancel=()=>{h.clearTimeout(y),y=null},L};var sn=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:30,bind_:$n,throttle:Zn,debounce:Ai});let hn;class xt{on(t,o){const h=this.addEventListener;this.addEventListener=()=>{},pt(this,t,o),this.addEventListener=h}off(t,o){Ut(this,t,o)}one(t,o){const h=this.addEventListener;this.addEventListener=()=>{},ln(this,t,o),this.addEventListener=h}any(t,o){const h=this.addEventListener;this.addEventListener=()=>{},Rn(this,t,o),this.addEventListener=h}trigger(t){const o=t.type||t;"string"==typeof t&&(t={type:o}),t=ot(t),this.allowedEvents_[o]&&this["on"+o]&&this["on"+o](t),lt(this,t)}queueTrigger(t){hn||(hn=new Map);const o=t.type||t;let h=hn.get(this);h||(h=new Map,hn.set(this,h));const y=h.get(o);h.delete(o),window.clearTimeout(y);const M=window.setTimeout(()=>{h.delete(o),0===h.size&&(h=null,hn.delete(this)),this.trigger(t)},0);h.set(o,M)}}xt.prototype.allowedEvents_={},xt.prototype.addEventListener=xt.prototype.on,xt.prototype.removeEventListener=xt.prototype.off,xt.prototype.dispatchEvent=xt.prototype.trigger;const dn=c=>"function"==typeof c.name?c.name():"string"==typeof c.name?c.name:c.name_?c.name_:c.constructor&&c.constructor.name?c.constructor.name:typeof c,he=c=>c instanceof xt||!!c.eventBusEl_&&["on","one","off","trigger"].every(t=>"function"==typeof c[t]),we=c=>"string"==typeof c&&/\S/.test(c)||Array.isArray(c)&&!!c.length,at=(c,t,o)=>{if(!c||!c.nodeName&&!he(c))throw new Error(`Invalid target for ${dn(t)}#${o}; must be a DOM node or evented object.`)},Mt=(c,t,o)=>{if(!we(c))throw new Error(`Invalid event type for ${dn(t)}#${o}; must be a non-empty string or array.`)},Sn=(c,t,o)=>{if("function"!=typeof c)throw new Error(`Invalid listener for ${dn(t)}#${o}; must be a function.`)},Ln=(c,t,o)=>{const h=t.length<3||t[0]===c||t[0]===c.eventBusEl_;let y,M,L;return h?(y=c.eventBusEl_,t.length>=3&&t.shift(),[M,L]=t):[y,M,L]=t,at(y,c,o),Mt(M,c,o),Sn(L,c,o),L=$n(c,L),{isTargetingSelf:h,target:y,type:M,listener:L}},oi=(c,t,o,h)=>{at(c,c,t),c.nodeName?Nt[t](c,o,h):c[t](o,h)},Di={on(...c){const{isTargetingSelf:t,target:o,type:h,listener:y}=Ln(this,c,"on");if(oi(o,"on",h,y),!t){const M=()=>this.off(o,h,y);M.guid=y.guid;const L=()=>this.off("dispose",M);L.guid=y.guid,oi(this,"on","dispose",M),oi(o,"on","dispose",L)}},one(...c){const{isTargetingSelf:t,target:o,type:h,listener:y}=Ln(this,c,"one");if(t)oi(o,"one",h,y);else{const M=(...L)=>{this.off(o,h,M),y.apply(null,L)};M.guid=y.guid,oi(o,"one",h,M)}},any(...c){const{isTargetingSelf:t,target:o,type:h,listener:y}=Ln(this,c,"any");if(t)oi(o,"any",h,y);else{const M=(...L)=>{this.off(o,h,M),y.apply(null,L)};M.guid=y.guid,oi(o,"any",h,M)}},off(c,t,o){if(!c||we(c))Ut(this.eventBusEl_,c,t);else{const h=c,y=t;at(h,this,"off"),Mt(y,this,"off"),Sn(o,this,"off"),o=$n(this,o),this.off("dispose",o),h.nodeName?(Ut(h,y,o),Ut(h,"dispose",o)):he(h)&&(h.off(y,o),h.off("dispose",o))}},trigger(c,t){if(at(this.eventBusEl_,this,"trigger"),!we(c&&"string"!=typeof c?c.type:c))throw new Error(`Invalid event type for ${dn(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return lt(this.eventBusEl_,c,t)}};function ji(c,t={}){const{eventBusKey:o}=t;if(o){if(!c[o].nodeName)throw new Error(`The eventBusKey "${o}" does not refer to an element.`);c.eventBusEl_=c[o]}else c.eventBusEl_=dt("span",{className:"vjs-event-bus"});return Object.assign(c,Di),c.eventedCallbacks&&c.eventedCallbacks.forEach(h=>{h()}),c.on("dispose",()=>{c.off(),[c,c.el_,c.eventBusEl_].forEach(function(h){h&&ze.has(h)&&ze.delete(h)}),window.setTimeout(()=>{c.eventBusEl_=null},0)}),c}const Li={state:{},setState(c){let t;return"function"==typeof c&&(c=c()),ee(c,(o,h)=>{this.state[h]!==o&&(t=t||{},t[h]={from:this.state[h],to:o}),this.state[h]=o}),t&&he(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function ss(c,t){return Object.assign(c,Li),c.state=Object.assign({},c.state,t),"function"==typeof c.handleStateChanged&&he(c)&&c.on("statechanged",c.handleStateChanged),c}const Zr=function(c){return"string"!=typeof c?c:c.replace(/./,t=>t.toLowerCase())},pi=function(c){return"string"!=typeof c?c:c.replace(/./,t=>t.toUpperCase())},Or=function(c,t){return pi(c)===pi(t)};var bo=Object.freeze({__proto__:null,toLowerCase:Zr,toTitleCase:pi,titleCaseEquals:Or}),Xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fs(c,t){return c(t={exports:{}},t.exports),t.exports}var Fi=fs(function(c,t){function o(pe){if(pe&&"object"==typeof pe){var He=pe.which||pe.keyCode||pe.charCode;He&&(pe=He)}if("number"==typeof pe)return L[pe];var St,Je=String(pe);return(St=h[Je.toLowerCase()])?St:(St=y[Je.toLowerCase()])||(1===Je.length?Je.charCodeAt(0):void 0)}o.isEventKey=function(He,Je){if(He&&"object"==typeof He){var St=He.which||He.keyCode||He.charCode;if(null==St)return!1;if("string"==typeof Je){var rn;if(rn=h[Je.toLowerCase()])return rn===St;if(rn=y[Je.toLowerCase()])return rn===St}else if("number"==typeof Je)return Je===St;return!1}};var h=(t=c.exports=o).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},y=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(M=97;M<123;M++)h[String.fromCharCode(M)]=M-32;for(var M=48;M<58;M++)h[M-48]=M;for(M=1;M<13;M++)h["f"+M]=M+111;for(M=0;M<10;M++)h["numpad "+M]=M+96;var L=t.names=t.title={};for(M in h)L[h[M]]=M;for(var K in y)h[K]=y[K]});class mi{constructor(t,o,h){if(this.player_=!t&&this.play?t=this:t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Be({},this.options_),o=this.options_=Be(this.options_,o),this.id_=o.id||o.el&&o.el.id,!this.id_){const y=t&&t.id&&t.id()||"no_player";this.id_=`${y}_component_${G()}`}this.name_=o.name||null,o.el?this.el_=o.el:!1!==o.createEl&&(this.el_=this.createEl()),o.className&&this.el_&&o.className.split(" ").forEach(y=>this.addClass(y)),["on","off","one","any","trigger"].forEach(y=>{this[y]=void 0}),!1!==o.evented&&(ji(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),ss(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,!1!==o.initChildren&&this.initChildren(),this.ready(h),!1!==o.reportTouchActivity&&this.enableTouchActivity()}on(t,o){}off(t,o){}one(t,o){}any(t,o){}trigger(t){}dispose(t={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let o=this.children_.length-1;o>=0;o--)this.children_[o].dispose&&this.children_[o].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(t.restoreEl?this.el_.parentNode.replaceChild(t.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(t){return t?(this.options_=Be(this.options_,t),this.options_):this.options_}el(){return this.el_}createEl(t,o,h){return dt(t,o,h)}localize(t,o,h=t){const y=this.player_.language&&this.player_.language(),M=this.player_.languages&&this.player_.languages(),L=M&&M[y],K=y&&y.split("-")[0],pe=M&&M[K];let He=h;return L&&L[t]?He=L[t]:pe&&pe[t]&&(He=pe[t]),o&&(He=He.replace(/\{(\d+)\}/g,function(Je,St){const rn=o[St-1];let Bt=rn;return typeof rn>"u"&&(Bt=Je),Bt})),He}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(t){return this.childIndex_[t]}getChild(t){if(t)return this.childNameIndex_[t]}getDescendant(...t){t=t.reduce((h,y)=>h.concat(y),[]);let o=this;for(let h=0;h<t.length;h++)if(o=o.getChild(t[h]),!o||!o.getChild)return;return o}addChild(t,o={},h=this.children_.length){let y,M;if("string"==typeof t){M=pi(t);const L=o.componentClass||M;o.name=M;const K=mi.getComponent(L);if(!K)throw new Error(`Component ${L} does not exist`);if("function"!=typeof K)return null;y=new K(this.player_||this,o)}else y=t;if(y.parentComponent_&&y.parentComponent_.removeChild(y),this.children_.splice(h,0,y),y.parentComponent_=this,"function"==typeof y.id&&(this.childIndex_[y.id()]=y),M=M||y.name&&pi(y.name()),M&&(this.childNameIndex_[M]=y,this.childNameIndex_[Zr(M)]=y),"function"==typeof y.el&&y.el()){let L=null;this.children_[h+1]&&(this.children_[h+1].el_?L=this.children_[h+1].el_:Lt(this.children_[h+1])&&(L=this.children_[h+1])),this.contentEl().insertBefore(y.el(),L)}return y}removeChild(t){if("string"==typeof t&&(t=this.getChild(t)),!t||!this.children_)return;let o=!1;for(let y=this.children_.length-1;y>=0;y--)if(this.children_[y]===t){o=!0,this.children_.splice(y,1);break}if(!o)return;t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[pi(t.name())]=null,this.childNameIndex_[Zr(t.name())]=null;const h=t.el();h&&h.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}initChildren(){const t=this.options_.children;if(t){const o=this.options_,h=L=>{const K=L.name;let pe=L.opts;if(void 0!==o[K]&&(pe=o[K]),!1===pe)return;!0===pe&&(pe={}),pe.playerOptions=this.options_.playerOptions;const He=this.addChild(K,pe);He&&(this[K]=He)};let y;const M=mi.getComponent("Tech");y=Array.isArray(t)?t:Object.keys(t),y.concat(Object.keys(this.options_).filter(function(L){return!y.some(function(K){return"string"==typeof K?L===K:L===K.name})})).map(L=>{let K,pe;return"string"==typeof L?(K=L,pe=t[K]||this.options_[K]||{}):(K=L.name,pe=L),{name:K,opts:pe}}).filter(L=>{const K=mi.getComponent(L.opts.componentClass||pi(L.name));return K&&!M.isTech(K)}).forEach(h)}}buildCSSClass(){return""}ready(t,o=!1){if(t){if(!this.isReady_)return this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t);o?t.call(this):this.setTimeout(t,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(o){o.call(this)},this),this.trigger("ready")},1)}$(t,o){return Gi(t,o||this.contentEl())}$$(t,o){return rs(t,o||this.contentEl())}hasClass(t){return qn(this.el_,t)}addClass(...t){Pi(this.el_,...t)}removeClass(...t){hi(this.el_,...t)}toggleClass(t,o){Ci(this.el_,t,o)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(t){return Te(this.el_,t)}setAttribute(t,o){Ge(this.el_,t,o)}removeAttribute(t){kt(this.el_,t)}width(t,o){return this.dimension("width",t,o)}height(t,o){return this.dimension("height",t,o)}dimensions(t,o){this.width(t,!0),this.height(o)}dimension(t,o,h){if(void 0!==o)return(null===o||o!=o)&&(o=0),this.el_.style[t]=-1!==(""+o).indexOf("%")||-1!==(""+o).indexOf("px")?o:"auto"===o?"":o+"px",void(h||this.trigger("componentresize"));if(!this.el_)return 0;const y=this.el_.style[t],M=y.indexOf("px");return parseInt(-1!==M?y.slice(0,M):this.el_["offset"+pi(t)],10)}currentDimension(t){let o=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(o=Dn(this.el_,t),o=parseFloat(o),0===o||isNaN(o)){const h=`offset${pi(t)}`;o=this.el_[h]}return o}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(t){this.player_&&(Fi.isEventKey(t,"Tab")||t.stopPropagation(),this.player_.handleKeyDown(t))}handleKeyPress(t){this.handleKeyDown(t)}emitTapEvents(){let t=0,o=null;let M;this.on("touchstart",function(K){1===K.touches.length&&(o={pageX:K.touches[0].pageX,pageY:K.touches[0].pageY},t=window.performance.now(),M=!0)}),this.on("touchmove",function(K){if(K.touches.length>1)M=!1;else if(o){const pe=K.touches[0].pageX-o.pageX,He=K.touches[0].pageY-o.pageY;Math.sqrt(pe*pe+He*He)>10&&(M=!1)}});const L=function(){M=!1};this.on("touchleave",L),this.on("touchcancel",L),this.on("touchend",function(K){o=null,!0===M&&window.performance.now()-t<200&&(K.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const t=$n(this.player(),this.player().reportUserActivity);let o;this.on("touchstart",function(){t(),this.clearInterval(o),o=this.setInterval(t,250)});const h=function(y){t(),this.clearInterval(o)};this.on("touchmove",t),this.on("touchend",h),this.on("touchcancel",h)}setTimeout(t,o){var h;return t=$n(this,t),this.clearTimersOnDispose_(),h=window.setTimeout(()=>{this.setTimeoutIds_.has(h)&&this.setTimeoutIds_.delete(h),t()},o),this.setTimeoutIds_.add(h),h}clearTimeout(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_.delete(t),window.clearTimeout(t)),t}setInterval(t,o){t=$n(this,t),this.clearTimersOnDispose_();const h=window.setInterval(t,o);return this.setIntervalIds_.add(h),h}clearInterval(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_.delete(t),window.clearInterval(t)),t}requestAnimationFrame(t){var o;return this.clearTimersOnDispose_(),t=$n(this,t),o=window.requestAnimationFrame(()=>{this.rafIds_.has(o)&&this.rafIds_.delete(o),t()}),this.rafIds_.add(o),o}requestNamedAnimationFrame(t,o){if(this.namedRafs_.has(t))return;this.clearTimersOnDispose_(),o=$n(this,o);const h=this.requestAnimationFrame(()=>{o(),this.namedRafs_.has(t)&&this.namedRafs_.delete(t)});return this.namedRafs_.set(t,h),t}cancelNamedAnimationFrame(t){this.namedRafs_.has(t)&&(this.cancelAnimationFrame(this.namedRafs_.get(t)),this.namedRafs_.delete(t))}cancelAnimationFrame(t){return this.rafIds_.has(t)&&(this.rafIds_.delete(t),window.cancelAnimationFrame(t)),t}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([t,o])=>{this[t].forEach((h,y)=>this[o](y))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(t,o){if("string"!=typeof t||!t)throw new Error(`Illegal component name, "${t}"; must be a non-empty string.`);const h=mi.getComponent("Tech"),y=h&&h.isTech(o),M=mi===o||mi.prototype.isPrototypeOf(o.prototype);if(y||!M){let K;throw K=y?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error(`Illegal component, "${t}"; ${K}.`)}t=pi(t),mi.components_||(mi.components_={});const L=mi.getComponent("Player");if("Player"===t&&L&&L.players){const K=L.players,pe=Object.keys(K);if(K&&pe.length>0&&pe.map(He=>K[He]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return mi.components_[t]=o,mi.components_[Zr(t)]=o,o}static getComponent(t){if(t&&mi.components_)return mi.components_[t]}}function Oo(c,t,o,h){return function no(c,t,o){if("number"!=typeof t||t<0||t>o)throw new Error(`Failed to execute '${c}' on 'TimeRanges': The index provided (${t}) is non-numeric or out of bounds (0-${o}).`)}(c,h,o.length-1),o[h][t]}function As(c){let t;return t=void 0===c||0===c.length?{length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:{length:c.length,start:Oo.bind(null,"start",0,c),end:Oo.bind(null,"end",1,c)},window.Symbol&&window.Symbol.iterator&&(t[window.Symbol.iterator]=()=>(c||[]).values()),t}function io(c,t){return Array.isArray(c)?As(c):void 0===c||void 0===t?As():As([[c,t]])}mi.registerComponent("Component",mi);const kr=function(c,t){c=c<0?0:c;let o=Math.floor(c%60),h=Math.floor(c/60%60),y=Math.floor(c/3600);const M=Math.floor(t/60%60),L=Math.floor(t/3600);return(isNaN(c)||c===1/0)&&(y=h=o="-"),y=y>0||L>0?y+":":"",h=((y||M>=10)&&h<10?"0"+h:h)+":",o=o<10?"0"+o:o,y+h+o};let ps=kr;function Bc(c){ps=c}function Zo(){ps=kr}function Pa(c,t=c){return ps(c,t)}var Vc=Object.freeze({__proto__:null,createTimeRanges:io,createTimeRange:io,setFormatTime:Bc,resetFormatTime:Zo,formatTime:Pa});function dl(c,t){let h,y,o=0;if(!t)return 0;(!c||!c.length)&&(c=io(0,0));for(let M=0;M<c.length;M++)h=c.start(M),y=c.end(M),y>t&&(y=t),o+=y-h;return o/t}function No(c){if(c instanceof No)return c;"number"==typeof c?this.code=c:"string"==typeof c?this.message=c:me(c)&&("number"==typeof c.code&&(this.code=c.code),Object.assign(this,c)),this.message||(this.message=No.defaultMessages[this.code]||"")}No.prototype.code=0,No.prototype.message="",No.prototype.status=null,No.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],No.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let c=0;c<No.errorTypes.length;c++)No[No.errorTypes[c]]=c,No.prototype[No.errorTypes[c]]=c;var ds=function ul(c,t){var o,h=null;try{o=JSON.parse(c,t)}catch(y){h=y}return[h,o]};function Jo(c){return null!=c&&"function"==typeof c.then}function Ms(c){Jo(c)&&c.then(null,t=>{})}const Ga=function(c){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((o,h,y)=>(c[h]&&(o[h]=c[h]),o),{cues:c.cues&&Array.prototype.map.call(c.cues,function(o){return{startTime:o.startTime,endTime:o.endTime,text:o.text,id:o.id}})})};var Ra_textTracksToJson=function(c){const t=c.$$("track"),o=Array.prototype.map.call(t,y=>y.track);return Array.prototype.map.call(t,function(y){const M=Ga(y.track);return y.src&&(M.src=y.src),M}).concat(Array.prototype.filter.call(c.textTracks(),function(y){return-1===o.indexOf(y)}).map(Ga))},Ra_jsonToTextTracks=function(c,t){return c.forEach(function(o){const h=t.addRemoteTextTrack(o).track;!o.src&&o.cues&&o.cues.forEach(y=>h.addCue(y))}),t.textTracks()};const Ka="vjs-modal-dialog";class U extends mi{constructor(t,o){super(t,o),this.handleKeyDown_=h=>this.handleKeyDown(h),this.close_=h=>this.close(h),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=dt("div",{className:`${Ka}-content`},{role:"document"}),this.descEl_=dt("p",{className:`${Ka}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),$t(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${Ka} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t}open(){if(!this.opened_){const t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}}opened(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(t){if("boolean"==typeof t){const o=this.closeable_=!!t;let h=this.getChild("closeButton");if(o&&!h){const y=this.contentEl_;this.contentEl_=this.el_,h=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=y,this.on(h,"close",this.close_)}!o&&h&&(this.off(h,"close",this.close_),this.removeChild(h),h.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(t){const o=this.contentEl(),h=o.parentNode,y=o.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,h.removeChild(o),this.empty(),Ar(o,t),this.trigger("modalfill"),y?h.insertBefore(o,y):h.appendChild(o);const M=this.getChild("closeButton");M&&h.appendChild(M.el_)}empty(){this.trigger("beforemodalempty"),rr(this.contentEl()),this.trigger("modalempty")}content(t){return typeof t<"u"&&(this.content_=t),this.content_}conditionalFocus_(){const t=document.activeElement,o=this.player_.el_;this.previouslyActiveEl_=null,(o.contains(t)||o===t)&&(this.previouslyActiveEl_=t,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(t){if(t.stopPropagation(),Fi.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(!Fi.isEventKey(t,"Tab"))return;const o=this.focusableEls_(),h=this.el_.querySelector(":focus");let y;for(let M=0;M<o.length;M++)if(h===o[M]){y=M;break}document.activeElement===this.el_&&(y=0),t.shiftKey&&0===y?(o[o.length-1].focus(),t.preventDefault()):!t.shiftKey&&y===o.length-1&&(o[0].focus(),t.preventDefault())}focusableEls_(){const t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,o=>(o instanceof window.HTMLAnchorElement||o instanceof window.HTMLAreaElement)&&o.hasAttribute("href")||(o instanceof window.HTMLInputElement||o instanceof window.HTMLSelectElement||o instanceof window.HTMLTextAreaElement||o instanceof window.HTMLButtonElement)&&!o.hasAttribute("disabled")||o instanceof window.HTMLIFrameElement||o instanceof window.HTMLObjectElement||o instanceof window.HTMLEmbedElement||o.hasAttribute("tabindex")&&-1!==o.getAttribute("tabindex")||o.hasAttribute("contenteditable"))}}U.prototype.options_={pauseOnOpen:!0,temporary:!0},mi.registerComponent("ModalDialog",U);class De extends xt{constructor(t=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let o=0;o<t.length;o++)this.addTrack(t[o])}addTrack(t){const o=this.tracks_.length;""+o in this||Object.defineProperty(this,o,{get(){return this.tracks_[o]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=()=>{this.trigger({track:t,type:"labelchange",target:this})},he(t)&&t.addEventListener("labelchange",t.labelchange_)}removeTrack(t){let o;for(let h=0,y=this.length;h<y;h++)if(this[h]===t){o=this[h],o.off&&o.off(),this.tracks_.splice(h,1);break}o&&this.trigger({track:o,type:"removetrack",target:this})}getTrackById(t){let o=null;for(let h=0,y=this.length;h<y;h++){const M=this[h];if(M.id===t){o=M;break}}return o}}De.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const c in De.prototype.allowedEvents_)De.prototype["on"+c]=null;const Me=function(c,t){for(let o=0;o<c.length;o++)!Object.keys(c[o]).length||t.id===c[o].id||(c[o].enabled=!1)};const yn=function(c,t){for(let o=0;o<c.length;o++)!Object.keys(c[o]).length||t.id===c[o].id||(c[o].selected=!1)};class zn extends De{addTrack(t){super.addTrack(t),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),t.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(t){super.removeTrack(t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class gi{constructor(t){gi.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(t){const o=this.length||0;let h=0;const y=t.length;this.cues_=t,this.length_=t.length;const M=function(L){""+L in this||Object.defineProperty(this,""+L,{get(){return this.cues_[L]}})};if(o<y)for(h=o;h<y;h++)M.call(this,h)}getCueById(t){let o=null;for(let h=0,y=this.length;h<y;h++){const M=this[h];if(M.id===t){o=M;break}}return o}}const er={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Fr={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ni={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},xr={disabled:"disabled",hidden:"hidden",showing:"showing"};class ks extends xt{constructor(t={}){super();const o={id:t.id||"vjs_track_"+G(),kind:t.kind||"",language:t.language||""};let h=t.label||"";for(const y in o)Object.defineProperty(this,y,{get:()=>o[y],set(){}});Object.defineProperty(this,"label",{get:()=>h,set(y){y!==h&&(h=y,this.trigger("labelchange"))}})}}const zs=function(c){const t=["protocol","hostname","port","pathname","search","hash","host"],o=document.createElement("a");o.href=c;const h={};for(let y=0;y<t.length;y++)h[t[y]]=o[t[y]];return"http:"===h.protocol&&(h.host=h.host.replace(/:80$/,"")),"https:"===h.protocol&&(h.host=h.host.replace(/:443$/,"")),h.protocol||(h.protocol=window.location.protocol),h.host||(h.host=window.location.host),h},Ur=function(c){if(!c.match(/^https?:\/\//)){const t=document.createElement("a");t.href=c,c=t.href}return c},Rr=function(c){if("string"==typeof c){const o=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(c);if(o)return o.pop().toLowerCase()}return""},Bs=function(c,t=window.location){const o=zs(c);return(":"===o.protocol?t.protocol:o.protocol)+o.host!==t.protocol+t.host};var or=Object.freeze({__proto__:null,parseUrl:zs,getAbsoluteURL:Ur,getFileExtension:Rr,isCrossOrigin:Bs}),tr=typeof window<"u"?window:typeof Xs<"u"?Xs:typeof self<"u"?self:{},Qs=fs(function(c){function t(){return c.exports=t=Object.assign?Object.assign.bind():function(o){for(var h=1;h<arguments.length;h++){var y=arguments[h];for(var M in y)Object.prototype.hasOwnProperty.call(y,M)&&(o[M]=y[M])}return o},c.exports.__esModule=!0,c.exports.default=c.exports,t.apply(this,arguments)}c.exports=t,c.exports.__esModule=!0,c.exports.default=c.exports}),Us=function ts(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}(Qs),oa=function Go(c){if(!c)return!1;var t=aa.call(c);return"[object Function]"===t||"function"==typeof c&&"[object RegExp]"!==t||typeof window<"u"&&(c===window.setTimeout||c===window.alert||c===window.confirm||c===window.prompt)},aa=Object.prototype.toString;$r.httpHandler=function(t,o){return void 0===o&&(o=!1),function(h,y,M){if(h)t(h);else if(y.statusCode>=400&&y.statusCode<=599){var L=M;if(o)if(tr.TextDecoder){var K=function nd(c){return void 0===c&&(c=""),c.toLowerCase().split(";").reduce(function(t,o){var h=o.split("="),M=h[1];return"charset"===h[0].trim()?M.trim():t},"utf-8")}(y.headers&&y.headers["content-type"]);try{L=new TextDecoder(K).decode(M)}catch{}}else L=String.fromCharCode.apply(null,new Uint8Array(M));t({cause:L})}else t(null,M)}};var Il=function(t){var o={};return t&&t.trim().split("\n").forEach(function(h){var y=h.indexOf(":"),M=h.slice(0,y).trim().toLowerCase(),L=h.slice(y+1).trim();typeof o[M]>"u"?o[M]=L:Array.isArray(o[M])?o[M].push(L):o[M]=[o[M],L]}),o},la=$r,ea=$r;function Zs(c,t,o){var h=c;return oa(t)?(o=t,"string"==typeof c&&(h={uri:c})):h=Qs({},t,{uri:c}),h.callback=o,h}function $r(c,t,o){return Xo(t=Zs(c,t,o))}function Xo(c){if(typeof c.callback>"u")throw new Error("callback argument missing");var t=!1,o=function(Bi,wi,Jn){t||(t=!0,c.callback(Bi,wi,Jn))};function y(){var si=void 0;if(si=K.response?K.response:K.responseText||function id(c){try{if("document"===c.responseType)return c.responseXML;if(""===c.responseType&&(!c.responseXML||"parsererror"!==c.responseXML.documentElement.nodeName))return c.responseXML}catch{}return null}(K),Fn)try{si=JSON.parse(si)}catch{}return si}function M(si){return clearTimeout(Bn),si instanceof Error||(si=new Error(""+(si||"Unknown XMLHttpRequest Error"))),si.statusCode=0,o(si,Gn)}function L(){if(!He){var si;clearTimeout(Bn);var Bi=Gn,wi=null;return 0!==(si=c.useXDR&&void 0===K.status?200:1223===K.status?204:K.status)?(Bi={body:y(),statusCode:si,method:St,headers:{},url:Je,rawRequest:K},K.getAllResponseHeaders&&(Bi.headers=Il(K.getAllResponseHeaders()))):wi=new Error("Internal XMLHttpRequest Error"),o(wi,Bi,Bi.body)}}var K=c.xhr||null;K||(K=c.cors||c.useXDR?new $r.XDomainRequest:new $r.XMLHttpRequest);var pe,He,Bn,Je=K.url=c.uri||c.url,St=K.method=c.method||"GET",rn=c.body||c.data,Bt=K.headers=c.headers||{},Vn=!!c.sync,Fn=!1,Gn={body:void 0,headers:{},statusCode:0,method:St,url:Je,rawRequest:K};if("json"in c&&!1!==c.json&&(Fn=!0,Bt.accept||Bt.Accept||(Bt.Accept="application/json"),"GET"!==St&&"HEAD"!==St&&(Bt["content-type"]||Bt["Content-Type"]||(Bt["Content-Type"]="application/json"),rn=JSON.stringify(!0===c.json?rn:c.json))),K.onreadystatechange=function h(){4===K.readyState&&setTimeout(L,0)},K.onload=L,K.onerror=M,K.onprogress=function(){},K.onabort=function(){He=!0},K.ontimeout=M,K.open(St,Je,!Vn,c.username,c.password),Vn||(K.withCredentials=!!c.withCredentials),!Vn&&c.timeout>0&&(Bn=setTimeout(function(){if(!He){He=!0,K.abort("timeout");var si=new Error("XMLHttpRequest timeout");si.code="ETIMEDOUT",M(si)}},c.timeout)),K.setRequestHeader)for(pe in Bt)Bt.hasOwnProperty(pe)&&K.setRequestHeader(pe,Bt[pe]);else if(c.headers&&!function La(c){for(var t in c)if(c.hasOwnProperty(t))return!1;return!0}(c.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in c&&(K.responseType=c.responseType),"beforeSend"in c&&"function"==typeof c.beforeSend&&c.beforeSend(K),K.send(rn||null),K}$r.XMLHttpRequest=tr.XMLHttpRequest||function fl(){},$r.XDomainRequest="withCredentials"in new $r.XMLHttpRequest?$r.XMLHttpRequest:tr.XDomainRequest,function hl(c,t){for(var o=0;o<c.length;o++)t(c[o])}(["get","put","post","patch","head","delete"],function(c){$r["delete"===c?"del":c]=function(t,o,h){return(o=Zs(t,o,h)).method=c.toUpperCase(),Xo(o)}}),la.default=ea;const ca=function(c,t){const o=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()),h=[];o.oncue=function(y){t.addCue(y)},o.onparsingerror=function(y){h.push(y)},o.onflush=function(){t.trigger({type:"loadeddata",target:t})},o.parse(c),h.length>0&&(window.console&&window.console.groupCollapsed&&window.console.groupCollapsed(`Text Track parsing errors for ${t.src}`),h.forEach(y=>k.error(y)),window.console&&window.console.groupEnd&&window.console.groupEnd()),o.flush()},as=function(c,t){const o={uri:c},h=Bs(c);h&&(o.cors=h);const y="use-credentials"===t.tech_.crossOrigin();y&&(o.withCredentials=y),la(o,$n(this,function(M,L,K){if(M)return k.error(M,L);t.loaded_=!0,"function"!=typeof window.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],pe=>{if("vttjserror"!==pe.type)return ca(K,t);k.error(`vttjs failed to load, stopping trying to process ${t.src}`)}):ca(K,t)}))};class Fo extends ks{constructor(t={}){if(!t.tech)throw new Error("A tech was not provided.");const o=Be(t,{kind:Ni[t.kind]||"subtitles",language:t.language||t.srclang||""});let h=xr[o.mode]||"disabled";const y=o.default;("metadata"===o.kind||"chapters"===o.kind)&&(h="hidden"),super(o),this.tech_=o.tech,this.cues_=[],this.activeCues_=[],this.preload_=!1!==this.tech_.preloadTextTracks;const M=new gi(this.cues_),L=new gi(this.activeCues_);let K=!1;this.timeupdateHandler=$n(this,function(He={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_)return void("timeupdate"!==He.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)));this.activeCues=this.activeCues,K&&(this.trigger("cuechange"),K=!1),"timeupdate"!==He.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}}),this.tech_.one("dispose",()=>{this.stopTracking()}),"disabled"!==h&&this.startTracking(),Object.defineProperties(this,{default:{get:()=>y,set(){}},mode:{get:()=>h,set(He){xr[He]&&h!==He&&(h=He,!this.preload_&&"disabled"!==h&&0===this.cues.length&&as(this.src,this),this.stopTracking(),"disabled"!==h&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?M:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(0===this.cues.length)return L;const He=this.tech_.currentTime(),Je=[];for(let St=0,rn=this.cues.length;St<rn;St++){const Bt=this.cues[St];Bt.startTime<=He&&Bt.endTime>=He&&Je.push(Bt)}if(K=!1,Je.length!==this.activeCues_.length)K=!0;else for(let St=0;St<Je.length;St++)-1===this.activeCues_.indexOf(Je[St])&&(K=!0);return this.activeCues_=Je,L.setCues_(this.activeCues_),L},set(){}}}),o.src?(this.src=o.src,this.preload_||(this.loaded_=!0),(this.preload_||"subtitles"!==o.kind&&"captions"!==o.kind)&&as(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(t){let o=t;if(window.vttjs&&!(t instanceof window.vttjs.VTTCue)){o=new window.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(const y in t)y in o||(o[y]=t[y]);o.id=t.id,o.originalCue_=t}const h=this.tech_.textTracks();for(let y=0;y<h.length;y++)h[y]!==this&&h[y].removeCue(o);this.cues_.push(o),this.cues.setCues_(this.cues_)}removeCue(t){let o=this.cues_.length;for(;o--;){const h=this.cues_[o];if(h===t||h.originalCue_&&h.originalCue_===t){this.cues_.splice(o,1),this.cues.setCues_(this.cues_);break}}}}Fo.prototype.allowedEvents_={cuechange:"cuechange"};class rd extends ks{constructor(t={}){const o=Be(t,{kind:Fr[t.kind]||""});super(o);let h=!1;Object.defineProperty(this,"enabled",{get:()=>h,set(y){"boolean"!=typeof y||y===h||(h=y,this.trigger("enabledchange"))}}),o.enabled&&(this.enabled=o.enabled),this.loaded_=!0}}class Ml extends ks{constructor(t={}){const o=Be(t,{kind:er[t.kind]||""});super(o);let h=!1;Object.defineProperty(this,"selected",{get:()=>h,set(y){"boolean"!=typeof y||y===h||(h=y,this.trigger("selectedchange"))}}),o.selected&&(this.selected=o.selected)}}class ta extends xt{constructor(t={}){let o;super();const h=new Fo(t);this.kind=h.kind,this.src=h.src,this.srclang=h.language,this.label=h.label,this.default=h.default,Object.defineProperties(this,{readyState:{get:()=>o},track:{get:()=>h}}),o=ta.NONE,h.addEventListener("loadeddata",()=>{o=ta.LOADED,this.trigger({type:"load",target:this})})}}ta.prototype.allowedEvents_={load:"load"},ta.NONE=0,ta.LOADING=1,ta.LOADED=2,ta.ERROR=3;const Co={audio:{ListClass:class Yt extends De{constructor(t=[]){for(let o=t.length-1;o>=0;o--)if(t[o].enabled){Me(t,t[o]);break}super(t),this.changing_=!1}addTrack(t){t.enabled&&Me(this,t),super.addTrack(t),t.addEventListener&&(t.enabledChange_=()=>{this.changing_||(this.changing_=!0,Me(this,t),this.changing_=!1,this.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))}removeTrack(t){super.removeTrack(t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)}},TrackClass:rd,capitalName:"Audio"},video:{ListClass:class Wn extends De{constructor(t=[]){for(let o=t.length-1;o>=0;o--)if(t[o].selected){yn(t,t[o]);break}super(t),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set(){}})}addTrack(t){t.selected&&yn(this,t),super.addTrack(t),t.addEventListener&&(t.selectedChange_=()=>{this.changing_||(this.changing_=!0,yn(this,t),this.changing_=!1,this.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))}removeTrack(t){super.removeTrack(t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)}},TrackClass:Ml,capitalName:"Video"},text:{ListClass:zn,TrackClass:Fo,capitalName:"Text"}};Object.keys(Co).forEach(function(c){Co[c].getterName=`${c}Tracks`,Co[c].privateName=`${c}Tracks_`});const Ya={remoteText:{ListClass:zn,TrackClass:Fo,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:class Hn{constructor(t=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let o=0,h=t.length;o<h;o++)this.addTrackElement_(t[o])}addTrackElement_(t){const o=this.trackElements_.length;""+o in this||Object.defineProperty(this,o,{get(){return this.trackElements_[o]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)}getTrackElementByTrack_(t){let o;for(let h=0,y=this.trackElements_.length;h<y;h++)if(t===this.trackElements_[h].track){o=this.trackElements_[h];break}return o}removeTrackElement_(t){for(let o=0,h=this.trackElements_.length;o<h;o++)if(t===this.trackElements_[o]){this.trackElements_[o].track&&"function"==typeof this.trackElements_[o].track.off&&this.trackElements_[o].track.off(),"function"==typeof this.trackElements_[o].off&&this.trackElements_[o].off(),this.trackElements_.splice(o,1);break}}},TrackClass:ta,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Hs=Object.assign({},Co,Ya);Ya.names=Object.keys(Ya),Co.names=Object.keys(Co),Hs.names=[].concat(Ya.names).concat(Co.names);var rt,Xa=typeof Xs<"u"?Xs:typeof window<"u"?window:{};typeof document<"u"?rt=document:(rt=Xa["__GLOBAL_DOCUMENT_CACHE@4"])||(rt=Xa["__GLOBAL_DOCUMENT_CACHE@4"]={});var ut=rt,Fe=Object.create||function(){function c(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return c.prototype=t,new c}}();function It(c,t){this.name="ParsingError",this.code=c.code,this.message=t||c.message}function Tn(c){function t(h,y,M,L){return 3600*(0|h)+60*(0|y)+(0|M)+(0|L)/1e3}var o=c.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return o?o[3]?t(o[1],o[2],o[3].replace(":",""),o[4]):o[1]>59?t(o[1],o[2],0,o[4]):t(0,o[1],o[2],o[4]):null}function fr(){this.values=Fe(null)}function qr(c,t,o,h){var y=h?c.split(h):[c];for(var M in y)if("string"==typeof y[M]){var L=y[M].split(o);2===L.length&&t(L[0].trim(),L[1].trim())}}function ml(c,t,o){var h=c;function y(){var K=Tn(c);if(null===K)throw new It(It.Errors.BadTimeStamp,"Malformed timestamp: "+h);return c=c.replace(/^[^\sa-zA-Z-]+/,""),K}function L(){c=c.replace(/^\s+/,"")}if(L(),t.startTime=y(),L(),"--\x3e"!==c.substr(0,3))throw new It(It.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+h);c=c.substr(3),L(),t.endTime=y(),L(),function M(K,pe){var He=new fr;qr(K,function(Je,St){switch(Je){case"region":for(var rn=o.length-1;rn>=0;rn--)if(o[rn].id===St){He.set(Je,o[rn].region);break}break;case"vertical":He.alt(Je,St,["rl","lr"]);break;case"line":var Bt=St.split(","),Vn=Bt[0];He.integer(Je,Vn),He.percent(Je,Vn)&&He.set("snapToLines",!1),He.alt(Je,Vn,["auto"]),2===Bt.length&&He.alt("lineAlign",Bt[1],["start","center","end"]);break;case"position":Bt=St.split(","),He.percent(Je,Bt[0]),2===Bt.length&&He.alt("positionAlign",Bt[1],["start","center","end"]);break;case"size":He.percent(Je,St);break;case"align":He.alt(Je,St,["start","center","end","left","right"])}},/:/,/\s/),pe.region=He.get("region",null),pe.vertical=He.get("vertical","");try{pe.line=He.get("line","auto")}catch{}pe.lineAlign=He.get("lineAlign","start"),pe.snapToLines=He.get("snapToLines",!0),pe.size=He.get("size",100);try{pe.align=He.get("align","center")}catch{pe.align=He.get("align","middle")}try{pe.position=He.get("position","auto")}catch{pe.position=He.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},pe.align)}pe.positionAlign=He.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},pe.align)}(c,t)}(It.prototype=Fe(Error.prototype)).constructor=It,It.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},fr.prototype={set:function(c,t){!this.get(c)&&""!==t&&(this.values[c]=t)},get:function(c,t,o){return o?this.has(c)?this.values[c]:t[o]:this.has(c)?this.values[c]:t},has:function(c){return c in this.values},alt:function(c,t,o){for(var h=0;h<o.length;++h)if(t===o[h]){this.set(c,t);break}},integer:function(c,t){/^-?\d+$/.test(t)&&this.set(c,parseInt(t,10))},percent:function(c,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t),t>=0&&t<=100))&&(this.set(c,t),!0)}};var $s=ut.createElement&&ut.createElement("textarea"),ro={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},cu={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},af={v:"title",lang:"lang"},Td={rt:"ruby"};function _h(c,t){function o(){if(!t)return null;var Fn=t.match(/^([^<]*)(<[^>]*>?)?/);return function Vn(Bn){return t=t.substr(Bn.length),Bn}(Fn[1]?Fn[1]:Fn[2])}function y(Vn,Fn){return!Td[Fn.localName]||Td[Fn.localName]===Vn.localName}function M(Vn,Fn){var Bn=ro[Vn];if(!Bn)return null;var Gn=c.document.createElement(Bn),si=af[Vn];return si&&Fn&&(Gn[si]=Fn.trim()),Gn}for(var pe,L=c.document.createElement("div"),K=L,He=[];null!==(pe=o());)if("<"!==pe[0])K.appendChild(c.document.createTextNode(($s.innerHTML=Vn=pe,Vn=$s.textContent,$s.textContent="",Vn)));else{if("/"===pe[1]){He.length&&He[He.length-1]===pe.substr(2).replace(">","")&&(He.pop(),K=K.parentNode);continue}var St,Je=Tn(pe.substr(1,pe.length-2));if(Je){St=c.document.createProcessingInstruction("timestamp",Je),K.appendChild(St);continue}var rn=pe.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!rn||!(St=M(rn[1],rn[3]))||!y(K,St))continue;if(rn[2]){var Bt=rn[2].split(".");Bt.forEach(function(Vn){var Fn=/^bg_/.test(Vn),Bn=Fn?Vn.slice(3):Vn;cu.hasOwnProperty(Bn)&&(St.style[Fn?"background-color":"color"]=cu[Bn])}),St.className=Bt.join(" ")}He.push(rn[1]),K.appendChild(St),K=St}var Vn;return L}var co=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function vh(c){for(var t=0;t<co.length;t++){var o=co[t];if(c>=o[0]&&c<=o[1])return!0}return!1}function bh(c){var t=[],o="";if(!c||!c.childNodes)return"ltr";function y(K,pe){for(var He=pe.childNodes.length-1;He>=0;He--)K.push(pe.childNodes[He])}function M(K){if(!K||!K.length)return null;var pe=K.pop(),He=pe.textContent||pe.innerText;if(He){var Je=He.match(/^.*(\n|\r)/);return Je?(K.length=0,Je[0]):He}return"ruby"===pe.tagName?M(K):pe.childNodes?(y(K,pe),M(K)):void 0}for(y(t,c);o=M(t);)for(var L=0;L<o.length;L++)if(vh(o.charCodeAt(L)))return"rtl";return"ltr"}function Na(){}function gc(c,t,o){Na.call(this),this.cue=t,this.cueDiv=_h(c,t.text);var h={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(h,this.cueDiv),this.div=c.document.createElement("div"),h={direction:bh(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:o.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(h),this.div.appendChild(this.cueDiv);var y=0;switch(t.positionAlign){case"start":y=t.position;break;case"center":y=t.position-t.size/2;break;case"end":y=t.position-t.size}this.applyStyles(""===t.vertical?{left:this.formatStyle(y,"%"),width:this.formatStyle(t.size,"%")}:{top:this.formatStyle(y,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(M){this.applyStyles({top:this.formatStyle(M.top,"px"),bottom:this.formatStyle(M.bottom,"px"),left:this.formatStyle(M.left,"px"),right:this.formatStyle(M.right,"px"),height:this.formatStyle(M.height,"px"),width:this.formatStyle(M.width,"px")})}}function ga(c){var t,o,h,y;if(c.div){o=c.div.offsetHeight,h=c.div.offsetWidth,y=c.div.offsetTop;var M=(M=c.div.childNodes)&&(M=M[0])&&M.getClientRects&&M.getClientRects();c=c.div.getBoundingClientRect(),t=M?Math.max(M[0]&&M[0].height||0,c.height/M.length):0}this.left=c.left,this.right=c.right,this.top=c.top||y,this.height=c.height||o,this.bottom=c.bottom||y+(c.height||o),this.width=c.width||h,this.lineHeight=void 0!==t?t:c.lineHeight}function Lu(c,t,o,h){var M=new ga(t),L=t.cue,K=function lf(c){if("number"==typeof c.line&&(c.snapToLines||c.line>=0&&c.line<=100))return c.line;if(!c.track||!c.track.textTrackList||!c.track.textTrackList.mediaElement)return-1;for(var t=c.track,o=t.textTrackList,h=0,y=0;y<o.length&&o[y]!==t;y++)"showing"===o[y].mode&&h++;return-1*++h}(L),pe=[];if(L.snapToLines){var He;switch(L.vertical){case"":pe=["+y","-y"],He="height";break;case"rl":pe=["+x","-x"],He="width";break;case"lr":pe=["-x","+x"],He="width"}var Je=M.lineHeight,St=Je*Math.round(K),rn=o[He]+Je,Bt=pe[0];Math.abs(St)>rn&&(St=St<0?-1:1,St*=Math.ceil(rn/Je)*Je),K<0&&(St+=""===L.vertical?o.height:o.width,pe=pe.reverse()),M.move(Bt,St)}else{var Vn=M.lineHeight/o.height*100;switch(L.lineAlign){case"center":K-=Vn/2;break;case"end":K-=Vn}switch(L.vertical){case"":t.applyStyles({top:t.formatStyle(K,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(K,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(K,"%")})}pe=["+y","-x","+x","-y"],M=new ga(t)}var Fn=function y(Bn,Gn){for(var si,Bi=new ga(Bn),wi=1,Jn=0;Jn<Gn.length;Jn++){for(;Bn.overlapsOppositeAxis(o,Gn[Jn])||Bn.within(o)&&Bn.overlapsAny(h);)Bn.move(Gn[Jn]);if(Bn.within(o))return Bn;var Sr=Bn.intersectPercentage(o);wi>Sr&&(si=new ga(Bn),wi=Sr),Bn=new ga(Bi)}return si||Bi}(M,pe);t.move(Fn.toCSSCompatValues(o))}function Qa(){}Na.prototype.applyStyles=function(c,t){for(var o in t=t||this.div,c)c.hasOwnProperty(o)&&(t.style[o]=c[o])},Na.prototype.formatStyle=function(c,t){return 0===c?0:c+t},(gc.prototype=Fe(Na.prototype)).constructor=gc,ga.prototype.move=function(c,t){switch(t=void 0!==t?t:this.lineHeight,c){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},ga.prototype.overlaps=function(c){return this.left<c.right&&this.right>c.left&&this.top<c.bottom&&this.bottom>c.top},ga.prototype.overlapsAny=function(c){for(var t=0;t<c.length;t++)if(this.overlaps(c[t]))return!0;return!1},ga.prototype.within=function(c){return this.top>=c.top&&this.bottom<=c.bottom&&this.left>=c.left&&this.right<=c.right},ga.prototype.overlapsOppositeAxis=function(c,t){switch(t){case"+x":return this.left<c.left;case"-x":return this.right>c.right;case"+y":return this.top<c.top;case"-y":return this.bottom>c.bottom}},ga.prototype.intersectPercentage=function(c){return Math.max(0,Math.min(this.right,c.right)-Math.max(this.left,c.left))*Math.max(0,Math.min(this.bottom,c.bottom)-Math.max(this.top,c.top))/(this.height*this.width)},ga.prototype.toCSSCompatValues=function(c){return{top:this.top-c.top,bottom:c.bottom-this.bottom,left:this.left-c.left,right:c.right-this.right,height:this.height,width:this.width}},ga.getSimpleBoxPosition=function(c){var t=c.div?c.div.offsetHeight:c.tagName?c.offsetHeight:0,o=c.div?c.div.offsetWidth:c.tagName?c.offsetWidth:0,h=c.div?c.div.offsetTop:c.tagName?c.offsetTop:0;return{left:(c=c.div?c.div.getBoundingClientRect():c.tagName?c.getBoundingClientRect():c).left,right:c.right,top:c.top||h,height:c.height||t,bottom:c.bottom||h+(c.height||t),width:c.width||o}},Qa.StringDecoder=function(){return{decode:function(c){if(!c)return"";if("string"!=typeof c)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(c))}}},Qa.convertCueToDOMTree=function(c,t){return c&&t?_h(c,t):null};Qa.processCues=function(c,t,o){if(!c||!t||!o)return null;for(;o.firstChild;)o.removeChild(o.firstChild);var h=c.document.createElement("div");if(h.style.position="absolute",h.style.left="0",h.style.right="0",h.style.top="0",h.style.bottom="0",h.style.margin="1.5%",o.appendChild(h),function y(Je){for(var St=0;St<Je.length;St++)if(Je[St].hasBeenReset||!Je[St].displayState)return!0;return!1}(t)){var L=[],K=ga.getSimpleBoxPosition(h),He={font:Math.round(.05*K.height*100)/100+"px sans-serif"};!function(){for(var Je,St,rn=0;rn<t.length;rn++)Je=new gc(c,St=t[rn],He),h.appendChild(Je.div),Lu(0,Je,K,L),St.displayState=Je.div,L.push(ga.getSimpleBoxPosition(Je))}()}else for(var M=0;M<t.length;M++)h.appendChild(t[M].displayState)},Qa.Parser=function(c,t,o){o||(o=t,t={}),t||(t={}),this.window=c,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=o||new TextDecoder("utf8"),this.regionList=[]},Qa.Parser.prototype={reportOrThrowError:function(c){if(!(c instanceof It))throw c;this.onparsingerror&&this.onparsingerror(c)},parse:function(c){var t=this;function o(){for(var Je=t.buffer,St=0;St<Je.length&&"\r"!==Je[St]&&"\n"!==Je[St];)++St;var rn=Je.substr(0,St);return"\r"===Je[St]&&++St,"\n"===Je[St]&&++St,t.buffer=Je.substr(St),rn}function M(Je){Je.match(/X-TIMESTAMP-MAP/)?qr(Je,function(St,rn){"X-TIMESTAMP-MAP"===St&&function y(Je){var St=new fr;qr(Je,function(rn,Bt){switch(rn){case"MPEGT":St.integer(rn+"S",Bt);break;case"LOCA":St.set(rn+"L",Tn(Bt))}},/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:St.get("MPEGTS"),LOCAL:St.get("LOCAL")})}(rn)},/=/):qr(Je,function(St,rn){"Region"===St&&function h(Je){var St=new fr;if(qr(Je,function(Bt,Vn){switch(Bt){case"id":St.set(Bt,Vn);break;case"width":St.percent(Bt,Vn);break;case"lines":St.integer(Bt,Vn);break;case"regionanchor":case"viewportanchor":var Fn=Vn.split(",");if(2!==Fn.length)break;var Bn=new fr;if(Bn.percent("x",Fn[0]),Bn.percent("y",Fn[1]),!Bn.has("x")||!Bn.has("y"))break;St.set(Bt+"X",Bn.get("x")),St.set(Bt+"Y",Bn.get("y"));break;case"scroll":St.alt(Bt,Vn,["up"])}},/=/,/\s/),St.has("id")){var rn=new(t.vttjs.VTTRegion||t.window.VTTRegion);rn.width=St.get("width",100),rn.lines=St.get("lines",3),rn.regionAnchorX=St.get("regionanchorX",0),rn.regionAnchorY=St.get("regionanchorY",100),rn.viewportAnchorX=St.get("viewportanchorX",0),rn.viewportAnchorY=St.get("viewportanchorY",100),rn.scroll=St.get("scroll",""),t.onregion&&t.onregion(rn),t.regionList.push({id:St.get("id"),region:rn})}}(rn)},/:/)}c&&(t.buffer+=t.decoder.decode(c,{stream:!0}));try{var L;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var K=(L=o()).match(/^WEBVTT([ \t].*)?$/);if(!K||!K[0])throw new It(It.Errors.BadSignature);t.state="HEADER"}for(var pe=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(pe?pe=!1:L=o(),t.state){case"HEADER":/:/.test(L)?M(L):L||(t.state="ID");continue;case"NOTE":L||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(L)){t.state="NOTE";break}if(!L)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch{t.cue.align="middle"}if(t.state="CUE",-1===L.indexOf("--\x3e")){t.cue.id=L;continue}case"CUE":try{ml(L,t.cue,t.regionList)}catch(Je){t.reportOrThrowError(Je),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var He=-1!==L.indexOf("--\x3e");if(!L||He&&(pe=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=L.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":L||(t.state="ID");continue}}}catch(Je){t.reportOrThrowError(Je),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var c=this;try{if(c.buffer+=c.decoder.decode(),(c.cue||"HEADER"===c.state)&&(c.buffer+="\n\n",c.parse()),"INITIAL"===c.state)throw new It(It.Errors.BadSignature)}catch(t){c.reportOrThrowError(t)}return c.onflush&&c.onflush(),this}};var Dd=Qa,fo={"":1,lr:1,rl:1},Bo={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function To(c){return"string"==typeof c&&!!Bo[c.toLowerCase()]&&c.toLowerCase()}function uu(c,t,o){this.hasBeenReset=!1;var h="",y=!1,M=c,L=t,K=o,pe=null,He="",Je=!0,St="auto",rn="start",Bt="auto",Vn="auto",Fn=100,Bn="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return h},set:function(Gn){h=""+Gn}},pauseOnExit:{enumerable:!0,get:function(){return y},set:function(Gn){y=!!Gn}},startTime:{enumerable:!0,get:function(){return M},set:function(Gn){if("number"!=typeof Gn)throw new TypeError("Start time must be set to a number.");M=Gn,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return L},set:function(Gn){if("number"!=typeof Gn)throw new TypeError("End time must be set to a number.");L=Gn,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return K},set:function(Gn){K=""+Gn,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return pe},set:function(Gn){pe=Gn,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return He},set:function(Gn){var si=function qa(c){return"string"==typeof c&&!!fo[c.toLowerCase()]&&c.toLowerCase()}(Gn);if(!1===si)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");He=si,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return Je},set:function(Gn){Je=!!Gn,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return St},set:function(Gn){if("number"!=typeof Gn&&"auto"!==Gn)throw new SyntaxError("Line: an invalid number or illegal string was specified.");St=Gn,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return rn},set:function(Gn){var si=To(Gn);si?(rn=si,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return Bt},set:function(Gn){if(Gn<0||Gn>100)throw new Error("Position must be between 0 and 100.");Bt=Gn,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return Vn},set:function(Gn){var si=To(Gn);si?(Vn=si,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return Fn},set:function(Gn){if(Gn<0||Gn>100)throw new Error("Size must be between 0 and 100.");Fn=Gn,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return Bn},set:function(Gn){var si=To(Gn);if(!si)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");Bn=si,this.hasBeenReset=!0}}}),this.displayState=void 0}uu.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var hu=uu,Id={"":!0,up:!0};function Za(c){return"number"==typeof c&&c>=0&&c<=100}var Fu=function rc(){var c=100,t=3,o=0,h=100,y=0,M=100,L="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return c},set:function(K){if(!Za(K))throw new Error("Width must be between 0 and 100.");c=K}},lines:{enumerable:!0,get:function(){return t},set:function(K){if("number"!=typeof K)throw new TypeError("Lines must be set to a number.");t=K}},regionAnchorY:{enumerable:!0,get:function(){return h},set:function(K){if(!Za(K))throw new Error("RegionAnchorX must be between 0 and 100.");h=K}},regionAnchorX:{enumerable:!0,get:function(){return o},set:function(K){if(!Za(K))throw new Error("RegionAnchorY must be between 0 and 100.");o=K}},viewportAnchorY:{enumerable:!0,get:function(){return M},set:function(K){if(!Za(K))throw new Error("ViewportAnchorY must be between 0 and 100.");M=K}},viewportAnchorX:{enumerable:!0,get:function(){return y},set:function(K){if(!Za(K))throw new Error("ViewportAnchorX must be between 0 and 100.");y=K}},scroll:{enumerable:!0,get:function(){return L},set:function(K){var pe=function Nu(c){return"string"==typeof c&&!!Id[c.toLowerCase()]&&c.toLowerCase()}(K);!1===pe?console.warn("Scroll: an invalid or illegal string was specified."):L=pe}}})},gl=fs(function(c){var t=c.exports={WebVTT:Dd,VTTCue:hu,VTTRegion:Fu};tr.vttjs=t,tr.WebVTT=t.WebVTT;var o=t.VTTCue,h=t.VTTRegion,y=tr.VTTCue,M=tr.VTTRegion;t.shim=function(){tr.VTTCue=o,tr.VTTRegion=h},t.restore=function(){tr.VTTCue=y,tr.VTTRegion=M},tr.VTTCue||t.shim()});class ns extends mi{constructor(t={},o=function(){}){t.reportTouchActivity=!1,super(null,t,o),this.onDurationChange_=h=>this.onDurationChange(h),this.trackProgress_=h=>this.trackProgress(h),this.trackCurrentTime_=h=>this.trackCurrentTime(h),this.stopTrackingCurrentTime_=h=>this.stopTrackingCurrentTime(h),this.disposeSourceHandler_=h=>this.disposeSourceHandler(h),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Hs.names.forEach(h=>{const y=Hs[h];t&&t[y.getterName]&&(this[y.privateName]=t[y.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(h=>{!1===t[`native${h}Tracks`]&&(this[`featuresNative${h}Tracks`]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?this.featuresNativeTextTracks=!1:(!0===t.nativeCaptions||!0===t.nativeTextTracks)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=!1!==t.preloadTextTracks,this.autoRemoteTextTracks_=new Hs.text.ListClass,this.initTrackListeners(),t.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(t){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(t),1)),this.trigger({src:t,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval($n(this,function(){const o=this.bufferedPercent();this.bufferedPercent_!==o&&this.trigger("progress"),this.bufferedPercent_=o,1===o&&this.stopTrackingProgress()}),500)}onDurationChange(t){this.duration_=this.duration()}buffered(){return io(0,0)}bufferedPercent(){return dl(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Co.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(t){(t=[].concat(t)).forEach(o=>{const h=this[`${o}Tracks`]()||[];let y=h.length;for(;y--;){const M=h[y];"text"===o&&this.removeRemoteTextTrack(M),h.removeTrack(M)}})}cleanupAutoTextTracks(){const t=this.autoRemoteTextTracks_||[];let o=t.length;for(;o--;)this.removeRemoteTextTrack(t[o])}reset(){}crossOrigin(){}setCrossOrigin(){}error(t){return void 0!==t&&(this.error_=new No(t),this.trigger("error")),this.error_}played(){return this.hasStarted_?io(0,0):io()}play(){}setScrubbing(t){}scrubbing(){}setCurrentTime(t){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Co.names.forEach(t=>{const h=()=>{this.trigger(`${t}trackchange`)},y=this[Co[t].getterName]();y.addEventListener("removetrack",h),y.addEventListener("addtrack",h),this.on("dispose",()=>{y.removeEventListener("removetrack",h),y.removeEventListener("addtrack",h)})})}addWebVttScript_(){if(!window.WebVTT)if(document.body.contains(this.el())){if(!this.options_["vtt.js"]&&Ne(gl)&&Object.keys(gl).length>0)return void this.trigger("vttjsloaded");const t=document.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=()=>{this.trigger("vttjsloaded")},t.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{t.onload=null,t.onerror=null}),window.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const t=this.textTracks(),o=this.remoteTextTracks(),h=K=>t.addTrack(K.track),y=K=>t.removeTrack(K.track);o.on("addtrack",h),o.on("removetrack",y),this.addWebVttScript_();const M=()=>this.trigger("texttrackchange"),L=()=>{M();for(let K=0;K<t.length;K++){const pe=t[K];pe.removeEventListener("cuechange",M),"showing"===pe.mode&&pe.addEventListener("cuechange",M)}};L(),t.addEventListener("change",L),t.addEventListener("addtrack",L),t.addEventListener("removetrack",L),this.on("dispose",function(){o.off("addtrack",h),o.off("removetrack",y),t.removeEventListener("change",L),t.removeEventListener("addtrack",L),t.removeEventListener("removetrack",L);for(let K=0;K<t.length;K++)t[K].removeEventListener("cuechange",M)})}addTextTrack(t,o,h){if(!t)throw new Error("TextTrack kind is required but was not provided");return function Uc(c,t,o,h,y={}){const M=c.textTracks();y.kind=t,o&&(y.label=o),h&&(y.language=h),y.tech=c;const L=new Hs.text.TrackClass(y);return M.addTrack(L),L}(this,t,o,h)}createRemoteTextTrack(t){const o=Be(t,{tech:this});return new Ya.remoteTextEl.TrackClass(o)}addRemoteTextTrack(t={},o){const h=this.createRemoteTextTrack(t);return"boolean"!=typeof o&&(o=!1),this.remoteTextTrackEls().addTrackElement_(h),this.remoteTextTracks().addTrack(h.track),!1===o&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(h.track)),h}removeRemoteTextTrack(t){const o=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(o),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(t){const o=G();return!this.isReady_||this.paused()?(this.queuedHanders_.add(o),this.one("playing",()=>{this.queuedHanders_.has(o)&&(this.queuedHanders_.delete(o),t())})):this.requestNamedAnimationFrame(o,t),o}cancelVideoFrameCallback(t){this.queuedHanders_.has(t)?this.queuedHanders_.delete(t):this.cancelNamedAnimationFrame(t)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(t){}overrideNativeVideoTracks(t){}canPlayType(t){return""}static canPlayType(t){return""}static canPlaySource(t,o){return ns.canPlayType(t.type)}static isTech(t){return t.prototype instanceof ns||t instanceof ns||t===ns}static registerTech(t,o){if(ns.techs_||(ns.techs_={}),!ns.isTech(o))throw new Error(`Tech ${t} must be a Tech`);if(!ns.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!ns.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=pi(t),ns.techs_[t]=o,ns.techs_[Zr(t)]=o,"Tech"!==t&&ns.defaultTechOrder_.push(t),o}static getTech(t){if(t){if(ns.techs_&&ns.techs_[t])return ns.techs_[t];if(t=pi(t),window&&window.videojs&&window.videojs[t])return k.warn(`The ${t} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),window.videojs[t]}}}Hs.names.forEach(function(c){const t=Hs[c];ns.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),ns.prototype.featuresVolumeControl=!0,ns.prototype.featuresMuteControl=!0,ns.prototype.featuresFullscreenResize=!1,ns.prototype.featuresPlaybackRate=!1,ns.prototype.featuresProgressEvents=!1,ns.prototype.featuresSourceset=!1,ns.prototype.featuresTimeupdateEvents=!1,ns.prototype.featuresNativeTextTracks=!1,ns.prototype.featuresVideoFrameCallback=!1,ns.withSourceHandlers=function(c){c.registerSourceHandler=function(o,h){let y=c.sourceHandlers;y||(y=c.sourceHandlers=[]),void 0===h&&(h=y.length),y.splice(h,0,o)},c.canPlayType=function(o){const h=c.sourceHandlers||[];let y;for(let M=0;M<h.length;M++)if(y=h[M].canPlayType(o),y)return y;return""},c.selectSourceHandler=function(o,h){const y=c.sourceHandlers||[];let M;for(let L=0;L<y.length;L++)if(M=y[L].canHandleSource(o,h),M)return y[L];return null},c.canPlaySource=function(o,h){const y=c.selectSourceHandler(o,h);return y?y.canHandleSource(o,h):""},["seekable","seeking","duration"].forEach(function(o){const h=this[o];"function"==typeof h&&(this[o]=function(){return this.sourceHandler_&&this.sourceHandler_[o]?this.sourceHandler_[o].apply(this.sourceHandler_,arguments):h.apply(this,arguments)})},c.prototype),c.prototype.setSource=function(o){let h=c.selectSourceHandler(o,this.options_);h||(c.nativeSourceHandler?h=c.nativeSourceHandler:k.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),h!==c.nativeSourceHandler&&(this.currentSource_=o),this.sourceHandler_=h.handleSource(o,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},c.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},mi.registerComponent("Tech",ns),ns.registerTech("Tech",ns),ns.defaultTechOrder_=[];const Md={},Ad={},yh={};function jl(c,t,o){c.setTimeout(()=>vl(t,Md[t.type],o,c),1)}function Eh(c,t,o,h=null){const y="call"+pi(o),M=c.reduce(sd(y),h),L=M===yh,K=L?null:t[o](M);return function xa(c,t,o,h){for(let y=c.length-1;y>=0;y--){const M=c[y];M[t]&&M[t](h,o)}}(c,o,K,L),K}const Ia={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},cf={setCurrentTime:1,setMuted:1,setVolume:1},Gs={play:1,pause:1};function sd(c){return(t,o)=>t===yh?yh:o[c]?o[c](t):t}function vl(c={},t=[],o,h,y=[],M=!1){const[L,...K]=t;if("string"==typeof L)vl(c,Md[L],o,h,y,M);else if(L){const pe=function Vu(c,t){const o=Ad[c.id()];let h=null;if(null==o)return h=t(c),Ad[c.id()]=[[t,h]],h;for(let y=0;y<o.length;y++){const[M,L]=o[y];M===t&&(h=L)}return null===h&&(h=t(c),o.push([t,h])),h}(h,L);if(!pe.setSource)return y.push(pe),vl(c,K,o,h,y,M);pe.setSource(Object.assign({},c),function(He,Je){if(He)return vl(c,K,o,h,y,M);y.push(pe),vl(Je,c.type===Je.type?K:Md[Je.type],o,h,y,M)})}else K.length?vl(c,K,o,h,y,M):M?o(c,y):vl(c,Md["*"],o,h,y,!0)}const Hl={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},od=function(c=""){const t=Rr(c);return Hl[t.toLowerCase()]||""},zc=function(c){if(Array.isArray(c)){let t=[];c.forEach(function(o){o=zc(o),Array.isArray(o)?t=t.concat(o):me(o)&&t.push(o)}),c=t}else c="string"==typeof c&&c.trim()?[Fa({src:c})]:me(c)&&"string"==typeof c.src&&c.src&&c.src.trim()?[Fa(c)]:[];return c};function Fa(c){if(!c.type){const t=od(c.src);t&&(c.type=t)}return c}mi.registerComponent("MediaLoader",class wa extends mi{constructor(t,o,h){if(super(t,Be({createEl:!1},o),h),o.playerOptions.sources&&0!==o.playerOptions.sources.length)t.src(o.playerOptions.sources);else for(let M=0,L=o.playerOptions.techOrder;M<L.length;M++){const K=pi(L[M]);let pe=ns.getTech(K);if(K||(pe=mi.getComponent(K)),pe&&pe.isSupported()){t.loadTech_(K);break}}}});class ld extends mi{constructor(t,o){super(t,o),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=h=>this.handleMouseOver(h),this.handleMouseOut_=h=>this.handleMouseOut(h),this.handleClick_=h=>this.handleClick(h),this.handleKeyDown_=h=>this.handleKeyDown(h),this.emitTapEvents(),this.enable()}createEl(t="div",o={},h={}){o=Object.assign({className:this.buildCSSClass(),tabIndex:0},o),"button"===t&&k.error(`Creating a ClickableComponent with an HTML element of ${t} is not supported; use a Button instead.`),h=Object.assign({role:"button"},h),this.tabIndex_=o.tabIndex;const y=dt(t,o,h);return y.appendChild(dt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(y),y}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(t){return this.controlTextEl_=dt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_}controlText(t,o=this.el()){if(void 0===t)return this.controlText_||"Need Text";const h=this.localize(t);this.controlText_=t,$t(this.controlTextEl_,h),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&o.setAttribute("title",h)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(t){Fi.isEventKey(t,"Space")||Fi.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):super.handleKeyDown(t)}}mi.registerComponent("ClickableComponent",ld);class bl extends ld{constructor(t,o){super(t,o),this.update(),this.update_=h=>this.update(h),t.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return dt("div",{className:"vjs-poster"})}crossOrigin(t){if(typeof t>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;null===t||"anonymous"===t||"use-credentials"===t?this.$("img")&&(this.$("img").crossOrigin=t):this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${t}"`)}update(t){const o=this.player().poster();this.setSrc(o),o?this.show():this.hide()}setSrc(t){t?(this.$("img")||this.el_.appendChild(dt("picture",{className:"vjs-poster",tabIndex:-1},{},dt("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=t):this.el_.textContent=""}handleClick(t){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Ms(this.player_.play()):this.player_.pause())}}bl.prototype.crossorigin=bl.prototype.crossOrigin,mi.registerComponent("PosterImage",bl);const da="#222",re={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function vt(c,t){let o;if(4===c.length)o=c[1]+c[1]+c[2]+c[2]+c[3]+c[3];else{if(7!==c.length)throw new Error("Invalid color code provided, "+c+"; must be formatted as e.g. #f0e or #f604e2.");o=c.slice(1)}return"rgba("+parseInt(o.slice(0,2),16)+","+parseInt(o.slice(2,4),16)+","+parseInt(o.slice(4,6),16)+","+t+")"}function Oe(c,t,o){try{c.style[t]=o}catch{return}}mi.registerComponent("TextTrackDisplay",class et extends mi{constructor(t,o,h){super(t,o,h);const y=M=>this.updateDisplay(M);t.on("loadstart",M=>this.toggleDisplay(M)),t.on("texttrackchange",y),t.on("loadedmetadata",M=>this.preselectTrack(M)),t.ready($n(this,function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)return void this.hide();t.on("fullscreenchange",y),t.on("playerresize",y);const M=window.screen.orientation||window,L=window.screen.orientation?"change":"orientationchange";M.addEventListener(L,y),t.on("dispose",()=>M.removeEventListener(L,y));const K=this.options_.playerOptions.tracks||[];for(let pe=0;pe<K.length;pe++)this.player_.addRemoteTextTrack(K[pe],!0);this.preselectTrack()}))}preselectTrack(){const t={captions:1,subtitles:1},o=this.player_.textTracks(),h=this.player_.cache_.selectedLanguage;let y,M,L;for(let K=0;K<o.length;K++){const pe=o[K];h&&h.enabled&&h.language&&h.language===pe.language&&pe.kind in t?pe.kind===h.kind?L=pe:L||(L=pe):h&&!h.enabled?(L=null,y=null,M=null):pe.default&&("descriptions"!==pe.kind||y?pe.kind in t&&!M&&(M=pe):y=pe)}L?L.mode="showing":M?M.mode="showing":y&&(y.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.el_)}updateDisplay(){const t=this.player_.textTracks(),o=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),o){const L=[];for(let K=0;K<t.length;++K){const pe=t[K];"showing"===pe.mode&&L.push(pe)}return void this.updateForTrack(L)}let h=null,y=null,M=t.length;for(;M--;){const L=t[M];"showing"===L.mode&&("descriptions"===L.kind?h=L:y=L)}y?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(y)):h&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(h))}updateDisplayState(t){const o=this.player_.textTrackSettings.getValues(),h=t.activeCues;let y=h.length;for(;y--;){const M=h[y];if(!M)continue;const L=M.displayState;if(o.color&&(L.firstChild.style.color=o.color),o.textOpacity&&Oe(L.firstChild,"color",vt(o.color||"#fff",o.textOpacity)),o.backgroundColor&&(L.firstChild.style.backgroundColor=o.backgroundColor),o.backgroundOpacity&&Oe(L.firstChild,"backgroundColor",vt(o.backgroundColor||"#000",o.backgroundOpacity)),o.windowColor&&(o.windowOpacity?Oe(L,"backgroundColor",vt(o.windowColor,o.windowOpacity)):L.style.backgroundColor=o.windowColor),o.edgeStyle&&("dropshadow"===o.edgeStyle?L.firstChild.style.textShadow=`2px 2px 3px ${da}, 2px 2px 4px ${da}, 2px 2px 5px ${da}`:"raised"===o.edgeStyle?L.firstChild.style.textShadow=`1px 1px ${da}, 2px 2px ${da}, 3px 3px ${da}`:"depressed"===o.edgeStyle?L.firstChild.style.textShadow=`1px 1px #ccc, 0 1px #ccc, -1px -1px ${da}, 0 -1px ${da}`:"uniform"===o.edgeStyle&&(L.firstChild.style.textShadow=`0 0 4px ${da}, 0 0 4px ${da}, 0 0 4px ${da}, 0 0 4px ${da}`)),o.fontPercent&&1!==o.fontPercent){const K=window.parseFloat(L.style.fontSize);L.style.fontSize=K*o.fontPercent+"px",L.style.height="auto",L.style.top="auto"}o.fontFamily&&"default"!==o.fontFamily&&("small-caps"===o.fontFamily?L.firstChild.style.fontVariant="small-caps":L.firstChild.style.fontFamily=re[o.fontFamily])}}updateForTrack(t){if(Array.isArray(t)||(t=[t]),"function"!=typeof window.WebVTT||t.every(h=>!h.activeCues))return;const o=[];for(let h=0;h<t.length;++h){const y=t[h];for(let M=0;M<y.activeCues.length;++M)o.push(y.activeCues[M])}window.WebVTT.processCues(window,o,this.el_);for(let h=0;h<t.length;++h){const y=t[h];for(let M=0;M<y.activeCues.length;++M){const L=y.activeCues[M].displayState;Pi(L,"vjs-text-track-cue","vjs-text-track-cue-"+(y.language?y.language:h)),y.language&&Ge(L,"lang",y.language)}this.player_.textTrackSettings&&this.updateDisplayState(y)}}});mi.registerComponent("LoadingSpinner",class Qt extends mi{createEl(){const t=this.player_.isAudio(),o=this.localize(t?"Audio Player":"Video Player"),h=dt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[o])}),y=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return y.appendChild(h),y}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}});class Xn extends ld{createEl(t,o={},h={}){const y=dt("button",o=Object.assign({className:this.buildCSSClass()},o),h=Object.assign({type:"button"},h));return y.appendChild(dt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(y),y}addChild(t,o={}){return k.warn(`Adding an actionable (user controllable) child to a Button (${this.constructor.name}) is not supported; use a ClickableComponent instead.`),mi.prototype.addChild.call(this,t,o)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(t){Fi.isEventKey(t,"Space")||Fi.isEventKey(t,"Enter")?t.stopPropagation():super.handleKeyDown(t)}}mi.registerComponent("Button",Xn);class di extends Xn{constructor(t,o){super(t,o),this.mouseused_=!1,this.on("mousedown",h=>this.handleMouseDown(h))}buildCSSClass(){return"vjs-big-play-button"}handleClick(t){const o=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)return Ms(o),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());const h=this.player_.getChild("controlBar"),y=h&&h.getChild("playToggle");if(!y)return void this.player_.tech(!0).focus();const M=()=>y.focus();Jo(o)?o.then(M,()=>{}):this.setTimeout(M,1)}handleKeyDown(t){this.mouseused_=!1,super.handleKeyDown(t)}handleMouseDown(t){this.mouseused_=!0}}di.prototype.controlText_="Play Video",mi.registerComponent("BigPlayButton",di);mi.registerComponent("CloseButton",class gr extends Xn{constructor(t,o){super(t,o),this.controlText(o&&o.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(t){this.trigger({type:"close",bubbles:!1})}handleKeyDown(t){Fi.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):super.handleKeyDown(t)}});class qs extends Xn{constructor(t,o={}){super(t,o),o.replay=void 0===o.replay||o.replay,this.on(t,"play",h=>this.handlePlay(h)),this.on(t,"pause",h=>this.handlePause(h)),o.replay&&this.on(t,"ended",h=>this.handleEnded(h))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(t){this.player_.paused()?Ms(this.player_.play()):this.player_.pause()}handleSeeked(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)}handlePlay(t){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")}handlePause(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")}handleEnded(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",o=>this.handleSeeked(o))}}qs.prototype.controlText_="Play",mi.registerComponent("PlayToggle",qs);class Os extends mi{constructor(t,o){super(t,o),this.on(t,["timeupdate","ended"],h=>this.updateContent(h)),this.updateTextNode_()}createEl(){const t=this.buildCSSClass(),o=super.createEl("div",{className:`${t} vjs-time-control vjs-control`}),h=dt("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}\xa0`},{role:"presentation"});return o.appendChild(h),this.contentEl_=dt("span",{className:`${t}-display`},{role:"presentation"}),o.appendChild(this.contentEl_),o}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}updateTextNode_(t=0){t=Pa(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let o=this.textNode_;o&&this.contentEl_.firstChild!==o&&(o=null,k.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=document.createTextNode(this.formattedTime_),this.textNode_&&(o?this.contentEl_.replaceChild(this.textNode_,o):this.contentEl_.appendChild(this.textNode_))}))}updateContent(t){}}Os.prototype.labelText_="Time",Os.prototype.controlText_="Time",mi.registerComponent("TimeDisplay",Os);class eo extends Os{buildCSSClass(){return"vjs-current-time"}updateContent(t){let o;o=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(o)}}eo.prototype.labelText_="Current Time",eo.prototype.controlText_="Current Time",mi.registerComponent("CurrentTimeDisplay",eo);class ys extends Os{constructor(t,o){super(t,o);const h=y=>this.updateContent(y);this.on(t,"durationchange",h),this.on(t,"loadstart",h),this.on(t,"loadedmetadata",h)}buildCSSClass(){return"vjs-duration"}updateContent(t){const o=this.player_.duration();this.updateTextNode_(o)}}ys.prototype.labelText_="Duration",ys.prototype.controlText_="Duration",mi.registerComponent("DurationDisplay",ys);mi.registerComponent("TimeDivider",class uo extends mi{createEl(){const t=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),o=super.createEl("div"),h=super.createEl("span",{textContent:"/"});return o.appendChild(h),t.appendChild(o),t}});class ms extends Os{constructor(t,o){super(t,o),this.on(t,"durationchange",h=>this.updateContent(h))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const t=super.createEl();return!1!==this.options_.displayNegative&&t.insertBefore(dt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t}updateContent(t){if("number"!=typeof this.player_.duration())return;let o;o=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(o)}}ms.prototype.labelText_="Remaining Time",ms.prototype.controlText_="Remaining Time",mi.registerComponent("RemainingTimeDisplay",ms);mi.registerComponent("LiveDisplay",class Ps extends mi{constructor(t,o){super(t,o),this.updateShowing(),this.on(this.player(),"durationchange",h=>this.updateShowing(h))}createEl(){const t=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=dt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(dt("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}\xa0`})),this.contentEl_.appendChild(document.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,super.dispose()}updateShowing(t){this.player().duration()===1/0?this.show():this.hide()}});class ws extends Xn{constructor(t,o){super(t,o),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=h=>this.updateLiveEdgeStatus(h),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const t=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=dt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}function Ri(c,t,o){return c=Number(c),Math.min(o,Math.max(t,isNaN(c)?t:c))}ws.prototype.controlText_="Seek to live, currently playing live",mi.registerComponent("SeekToLive",ws);var Ir=Object.freeze({__proto__:null,clamp:Ri});class so extends mi{constructor(t,o){super(t,o),this.handleMouseDown_=h=>this.handleMouseDown(h),this.handleMouseUp_=h=>this.handleMouseUp(h),this.handleKeyDown_=h=>this.handleKeyDown(h),this.handleClick_=h=>this.handleClick(h),this.handleMouseMove_=h=>this.handleMouseMove(h),this.update_=h=>this.update(h),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(t,o={},h={}){return o.className=o.className+" vjs-slider",o=Object.assign({tabIndex:0},o),h=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},h),super.createEl(t,o,h)}handleMouseDown(t){const o=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"===t.type&&!Ye&&t.preventDefault(),Gt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(o,"mousemove",this.handleMouseMove_),this.on(o,"mouseup",this.handleMouseUp_),this.on(o,"touchmove",this.handleMouseMove_),this.on(o,"touchend",this.handleMouseUp_),this.handleMouseMove(t,!0)}handleMouseMove(t){}handleMouseUp(t){const o=this.bar.el_.ownerDocument;En(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(o,"mousemove",this.handleMouseMove_),this.off(o,"mouseup",this.handleMouseUp_),this.off(o,"touchmove",this.handleMouseMove_),this.off(o,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",()=>{const o=this.vertical()?"height":"width";this.bar.el().style[o]=(100*t).toFixed(2)+"%"})),t}getProgress(){return Number(Ri(this.getPercent(),0,1).toFixed(4))}calculateDistance(t){const o=yi(this.el_,t);return this.vertical()?o.y:o.x}handleKeyDown(t){Fi.isEventKey(t,"Left")||Fi.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):Fi.isEventKey(t,"Right")||Fi.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):super.handleKeyDown(t)}handleClick(t){t.stopPropagation(),t.preventDefault()}vertical(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")}}mi.registerComponent("Slider",so);const Ei=(c,t)=>Ri(c/t*100,0,100).toFixed(2)+"%";mi.registerComponent("LoadProgressBar",class Lr extends mi{constructor(t,o){super(t,o),this.partEls_=[],this.on(t,"progress",h=>this.update(h))}createEl(){const t=super.createEl("div",{className:"vjs-load-progress"}),o=dt("span",{className:"vjs-control-text"}),h=dt("span",{textContent:this.localize("Loaded")}),y=document.createTextNode(": ");return this.percentageEl_=dt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(o),o.appendChild(h),o.appendChild(y),o.appendChild(this.percentageEl_),t}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(t){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const o=this.player_.liveTracker,h=this.player_.buffered(),y=o&&o.isLive()?o.seekableEnd():this.player_.duration(),M=this.player_.bufferedEnd(),L=this.partEls_,K=Ei(M,y);this.percent_!==K&&(this.el_.style.width=K,$t(this.percentageEl_,K),this.percent_=K);for(let pe=0;pe<h.length;pe++){const He=h.start(pe),Je=h.end(pe);let St=L[pe];St||(St=this.el_.appendChild(dt()),L[pe]=St),(St.dataset.start!==He||St.dataset.end!==Je)&&(St.dataset.start=He,St.dataset.end=Je,St.style.left=Ei(He,M),St.style.width=Ei(Je-He,M))}for(let pe=L.length;pe>h.length;pe--)this.el_.removeChild(L[pe-1]);L.length=h.length})}});mi.registerComponent("TimeTooltip",class Rs extends mi{constructor(t,o){super(t,o),this.update=Zn($n(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(t,o,h){const y=Mi(this.el_),M=Yn(this.player_.el()),L=t.width*o;if(!M||!y)return;const K=t.left-M.left+L,pe=t.width-L+(M.right-t.right);let He=y.width/2;K<He?He+=He-K:pe<He&&(He=pe),He<0?He=0:He>y.width&&(He=y.width),He=Math.round(He),this.el_.style.right=`-${He}px`,this.write(h)}write(t){$t(this.el_,t)}updateTime(t,o,h,y){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let M;const L=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const K=this.player_.liveTracker.liveWindow(),pe=K-o*K;M=(pe<1?"":"-")+Pa(pe,K)}else M=Pa(h,L);this.update(t,o,M),y&&y()})}});class $l extends mi{constructor(t,o){super(t,o),this.update=Zn($n(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(t,o){const h=this.getChild("timeTooltip");if(!h)return;const y=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();h.updateTime(t,o,y)}}$l.prototype.options_={children:[]},!en&&!de&&$l.prototype.options_.children.push("timeTooltip"),mi.registerComponent("PlayProgressBar",$l);class Zi extends mi{constructor(t,o){super(t,o),this.update=Zn($n(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(t,o){const h=o*this.player_.duration();this.getChild("timeTooltip").updateTime(t,o,h,()=>{this.el_.style.left=t.width*o+"px"})}}Zi.prototype.options_={children:["timeTooltip"]},mi.registerComponent("MouseTimeDisplay",Zi);class vi extends so{constructor(t,o){super(t,o),this.setEventHandlers_()}setEventHandlers_(){this.update_=$n(this,this.update),this.update=Zn(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=t=>this.enableInterval_(t),this.disableIntervalHandler_=t=>this.disableInterval_(t),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.on(document,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(t){"hidden"===document.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))}disableInterval_(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(t){if("hidden"===document.visibilityState)return;const o=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const h=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),y=this.player_.liveTracker;let M=this.player_.duration();y&&y.isLive()&&(M=this.player_.liveTracker.liveCurrentTime()),this.percent_!==o&&(this.el_.setAttribute("aria-valuenow",(100*o).toFixed(2)),this.percent_=o),(this.currentTime_!==h||this.duration_!==M)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Pa(h,M),Pa(M,M)],"{1} of {2}")),this.currentTime_=h,this.duration_=M),this.bar&&this.bar.update(Yn(this.el()),this.getProgress())}),o}userSeek_(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const t=this.getCurrentTime_();let o;const h=this.player_.liveTracker;return h&&h.isLive()?(o=(t-h.seekableStart())/h.liveWindow(),h.atLiveEdge()&&(o=1)):o=t/this.player_.duration(),o}handleMouseDown(t){$i(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(t))}handleMouseMove(t,o=!1){if(!$i(t))return;let h;!o&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);const y=this.calculateDistance(t),M=this.player_.liveTracker;if(M&&M.isLive()){if(y>=.99)return void M.seekToLiveEdge();const L=M.seekableStart(),K=M.liveCurrentTime();if(h=L+y*M.liveWindow(),h>=K&&(h=K),h<=L&&(h=L+.1),h===1/0)return}else h=y*this.player_.duration(),h===this.player_.duration()&&(h-=.1);this.userSeek_(h)}enable(){super.enable();const t=this.getChild("mouseTimeDisplay");t&&t.show()}disable(){super.disable();const t=this.getChild("mouseTimeDisplay");t&&t.hide()}handleMouseUp(t){super.handleMouseUp(t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ms(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+5)}stepBack(){this.userSeek_(this.player_.currentTime()-5)}handleAction(t){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(t){const o=this.player_.liveTracker;if(Fi.isEventKey(t,"Space")||Fi.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(Fi.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(Fi.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),o&&o.isLive()?this.userSeek_(o.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Fi(t))){t.preventDefault(),t.stopPropagation();const h=10*(Fi.codes[Fi(t)]-Fi.codes[0])/100;o&&o.isLive()?this.userSeek_(o.seekableStart()+o.liveWindow()*h):this.userSeek_(this.player_.duration()*h)}else Fi.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):Fi.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):super.handleKeyDown(t)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.off(document,"visibilitychange",this.toggleVisibility_),super.dispose()}}vi.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},!en&&!de&&vi.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),mi.registerComponent("SeekBar",vi);class ei extends mi{constructor(t,o){super(t,o),this.handleMouseMove=Zn($n(this,this.handleMouseMove),30),this.throttledHandleMouseSeek=Zn($n(this,this.handleMouseSeek),30),this.handleMouseUpHandler_=h=>this.handleMouseUp(h),this.handleMouseDownHandler_=h=>this.handleMouseDown(h),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(t){const o=this.getChild("seekBar");if(!o)return;const h=o.getChild("playProgressBar"),y=o.getChild("mouseTimeDisplay");if(!h&&!y)return;const M=o.el(),L=Mi(M);let K=yi(M,t).x;K=Ri(K,0,1),y&&y.update(L,K),h&&h.update(L,o.getProgress())}handleMouseSeek(t){const o=this.getChild("seekBar");o&&o.handleMouseMove(t)}enabled(){return this.enabled_}disable(){if(this.children().forEach(t=>t.disable&&t.disable()),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&Ms(this.player_.play())}}enable(){this.children().forEach(t=>t.enable&&t.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseDown(t){const o=this.el_.ownerDocument,h=this.getChild("seekBar");h&&h.handleMouseDown(t),this.on(o,"mousemove",this.throttledHandleMouseSeek),this.on(o,"touchmove",this.throttledHandleMouseSeek),this.on(o,"mouseup",this.handleMouseUpHandler_),this.on(o,"touchend",this.handleMouseUpHandler_)}handleMouseUp(t){const o=this.getChild("seekBar");o&&o.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()}}ei.prototype.options_={children:["seekBar"]},mi.registerComponent("ProgressControl",ei);class Oi extends Xn{constructor(t,o){super(t,o),this.on(t,["enterpictureinpicture","leavepictureinpicture"],h=>this.handlePictureInPictureChange(h)),this.on(t,["disablepictureinpicturechanged","loadedmetadata"],h=>this.handlePictureInPictureEnabledChange(h)),this.on(t,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>{"audio"===t.currentType().substring(0,5)||t.audioPosterMode()||t.audioOnlyMode()?(t.isInPictureInPicture()&&t.exitPictureInPicture(),this.hide()):this.show()}),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control ${super.buildCSSClass()}`}handlePictureInPictureEnabledChange(){document.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in window?this.enable():this.disable()}handlePictureInPictureChange(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()}handleClick(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}}Oi.prototype.controlText_="Picture-in-Picture",mi.registerComponent("PictureInPictureToggle",Oi);class po extends Xn{constructor(t,o){super(t,o),this.on(t,"fullscreenchange",h=>this.handleFullscreenChange(h)),!1===document[t.fsApi_.fullscreenEnabled]&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(t){this.player_.isFullscreen()?this.controlText("Exit Fullscreen"):this.controlText("Fullscreen")}handleClick(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}po.prototype.controlText_="Fullscreen",mi.registerComponent("FullscreenToggle",po);mi.registerComponent("VolumeLevel",class Uu extends mi{createEl(){const t=super.createEl("div",{className:"vjs-volume-level"});return t.appendChild(super.createEl("span",{className:"vjs-control-text"})),t}});mi.registerComponent("VolumeLevelTooltip",class kd extends mi{constructor(t,o){super(t,o),this.update=Zn($n(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(t,o,h,y){if(!h){const M=Yn(this.el_),L=Yn(this.player_.el()),K=t.width*o;if(!L||!M)return;const pe=t.left-L.left+K,He=t.width-K+(L.right-t.right);let Je=M.width/2;pe<Je?Je+=Je-pe:He<Je&&(Je=He),Je<0?Je=0:Je>M.width&&(Je=M.width),this.el_.style.right=`-${Je}px`}this.write(`${y}%`)}write(t){$t(this.el_,t)}updateVolume(t,o,h,y,M){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(t,o,h,y.toFixed(0)),M&&M()})}});class yc extends mi{constructor(t,o){super(t,o),this.update=Zn($n(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(t,o,h){const y=100*o;this.getChild("volumeLevelTooltip").updateVolume(t,o,h,y,()=>{h?this.el_.style.bottom=t.height*o+"px":this.el_.style.left=t.width*o+"px"})}}yc.prototype.options_={children:["volumeLevelTooltip"]},mi.registerComponent("MouseVolumeLevelDisplay",yc);class Od extends so{constructor(t,o){super(t,o),this.on("slideractive",h=>this.updateLastVolume_(h)),this.on(t,"volumechange",h=>this.updateARIAAttributes(h)),t.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(t){$i(t)&&super.handleMouseDown(t)}handleMouseMove(t){const o=this.getChild("mouseVolumeLevelDisplay");if(o){const h=this.el(),y=Yn(h),M=this.vertical();let L=yi(h,t);L=M?L.y:L.x,L=Ri(L,0,1),o.update(y,L,M)}$i(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(t){const o=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",o),this.el_.setAttribute("aria-valuetext",o+"%")}volumeAsPercentage_(){return Math.round(100*this.player_.volume())}updateLastVolume_(){const t=this.player_.volume();this.one("sliderinactive",()=>{0===this.player_.volume()&&this.player_.lastVolume_(t)})}}Od.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},!en&&!de&&Od.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Od.prototype.playerEvent="volumechange",mi.registerComponent("VolumeBar",Od);class wm extends mi{constructor(t,o={}){o.vertical=o.vertical||!1,(typeof o.volumeBar>"u"||Ne(o.volumeBar))&&(o.volumeBar=o.volumeBar||{},o.volumeBar.vertical=o.vertical),super(t,o),function(c,t){t.tech_&&!t.tech_.featuresVolumeControl&&c.addClass("vjs-hidden"),c.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?c.removeClass("vjs-hidden"):c.addClass("vjs-hidden")})}(this,t),this.throttledHandleMouseMove=Zn($n(this,this.handleMouseMove),30),this.handleMouseUpHandler_=h=>this.handleMouseUp(h),this.on("mousedown",h=>this.handleMouseDown(h)),this.on("touchstart",h=>this.handleMouseDown(h)),this.on("mousemove",h=>this.handleMouseMove(h)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${t}`})}handleMouseDown(t){const o=this.el_.ownerDocument;this.on(o,"mousemove",this.throttledHandleMouseMove),this.on(o,"touchmove",this.throttledHandleMouseMove),this.on(o,"mouseup",this.handleMouseUpHandler_),this.on(o,"touchend",this.handleMouseUpHandler_)}handleMouseUp(t){const o=this.el_.ownerDocument;this.off(o,"mousemove",this.throttledHandleMouseMove),this.off(o,"touchmove",this.throttledHandleMouseMove),this.off(o,"mouseup",this.handleMouseUpHandler_),this.off(o,"touchend",this.handleMouseUpHandler_)}handleMouseMove(t){this.volumeBar.handleMouseMove(t)}}wm.prototype.options_={children:["volumeBar"]},mi.registerComponent("VolumeControl",wm);class fu extends Xn{constructor(t,o){super(t,o),function(c,t){t.tech_&&!t.tech_.featuresMuteControl&&c.addClass("vjs-hidden"),c.on(t,"loadstart",function(){t.tech_.featuresMuteControl?c.removeClass("vjs-hidden"):c.addClass("vjs-hidden")})}(this,t),this.on(t,["loadstart","volumechange"],h=>this.update(h))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(t){const o=this.player_.volume(),h=this.player_.lastVolume_();0===o?(this.player_.volume(h<.1?.1:h),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())}update(t){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const t=this.player_.volume();let o=3;en&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?o=0:t<.33?o=1:t<.67&&(o=2),hi(this.el_,[0,1,2,3].reduce((h,y)=>h+`${y?" ":""}vjs-vol-${y}`,"")),Pi(this.el_,`vjs-vol-${o}`)}updateControlText_(){const o=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==o&&this.controlText(o)}}fu.prototype.controlText_="Mute",mi.registerComponent("MuteToggle",fu);class pu extends mi{constructor(t,o={}){o.inline=!(typeof o.inline<"u")||o.inline,(typeof o.volumeControl>"u"||Ne(o.volumeControl))&&(o.volumeControl=o.volumeControl||{},o.volumeControl.vertical=!o.inline),super(t,o),this.handleKeyPressHandler_=h=>this.handleKeyPress(h),this.on(t,["loadstart"],h=>this.volumePanelState_(h)),this.on(this.muteToggle,"keyup",h=>this.handleKeyPress(h)),this.on(this.volumeControl,"keyup",h=>this.handleVolumeControlKeyUp(h)),this.on("keydown",h=>this.handleKeyPress(h)),this.on("mouseover",h=>this.handleMouseOver(h)),this.on("mouseout",h=>this.handleMouseOut(h)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${t}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(t){Fi.isEventKey(t,"Esc")&&this.muteToggle.focus()}handleMouseOver(t){this.addClass("vjs-hover"),pt(document,"keyup",this.handleKeyPressHandler_)}handleMouseOut(t){this.removeClass("vjs-hover"),Ut(document,"keyup",this.handleKeyPressHandler_)}handleKeyPress(t){Fi.isEventKey(t,"Esc")&&this.handleMouseOut()}}pu.prototype.options_={children:["muteToggle","volumeControl"]},mi.registerComponent("VolumePanel",pu);mi.registerComponent("SkipForward",class Jr extends Xn{constructor(t,o){super(t,o),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){const t=this.options_.playerOptions;return t.controlBar&&t.controlBar.skipButtons&&t.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(t){const o=this.player_.currentTime(),h=this.player_.liveTracker,y=h&&h.isLive()?h.seekableEnd():this.player_.duration();let M;M=o+this.skipTime<=y?o+this.skipTime:y,this.player_.currentTime(M)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}});class $f extends Xn{constructor(t,o){super(t,o),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipBackwardTime(){const t=this.options_.playerOptions;return t.controlBar&&t.controlBar.skipButtons&&t.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(t){const o=this.player_.currentTime(),h=this.player_.liveTracker,y=h&&h.isLive()&&h.seekableStart();let M;M=y&&o-this.skipTime<=y?y:o>=this.skipTime?o-this.skipTime:0,this.player_.currentTime(M)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}$f.prototype.controlText_="Skip Backward",mi.registerComponent("SkipBackward",$f);class is extends mi{constructor(t,o){super(t,o),o&&(this.menuButton_=o.menuButton),this.focusedChild_=-1,this.on("keydown",h=>this.handleKeyDown(h)),this.boundHandleBlur_=h=>this.handleBlur(h),this.boundHandleTapClick_=h=>this.handleTapClick(h)}addEventListenerForItem(t){t instanceof mi&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(t){t instanceof mi&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))}removeChild(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),super.removeChild(t)}addItem(t){const o=this.addChild(t);o&&this.addEventListenerForItem(o)}createEl(){this.contentEl_=dt(this.options_.contentElType||"ul",{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const o=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return o.appendChild(this.contentEl_),pt(o,"click",function(h){h.preventDefault(),h.stopImmediatePropagation()}),o}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(t){const o=t.relatedTarget||document.activeElement;if(!this.children().some(h=>h.el()===o)){const h=this.menuButton_;h&&h.buttonPressed_&&o!==h.el().firstChild&&h.unpressButton()}}handleTapClick(t){if(this.menuButton_){this.menuButton_.unpressButton();const o=this.children();if(!Array.isArray(o))return;const h=o.filter(y=>y.el()===t.target)[0];if(!h)return;"CaptionSettingsMenuItem"!==h.name()&&this.menuButton_.focus()}}handleKeyDown(t){Fi.isEventKey(t,"Left")||Fi.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(Fi.isEventKey(t,"Right")||Fi.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())}stepForward(){let t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)}stepBack(){let t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)}focus(t=0){const o=this.children().slice();o.length&&o[0].hasClass("vjs-menu-title")&&o.shift(),o.length>0&&(t<0?t=0:t>=o.length&&(t=o.length-1),this.focusedChild_=t,o[t].el_.focus())}}mi.registerComponent("Menu",is);class Ca extends mi{constructor(t,o={}){super(t,o),this.menuButton_=new Xn(t,o),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const h=Xn.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+h,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const y=M=>this.handleClick(M);this.handleMenuKeyUp_=M=>this.handleMenuKeyUp(M),this.on(this.menuButton_,"tap",y),this.on(this.menuButton_,"click",y),this.on(this.menuButton_,"keydown",M=>this.handleKeyDown(M)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),pt(document,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",M=>this.handleMouseLeave(M)),this.on("keydown",M=>this.handleSubmenuKeyDown(M))}update(){const t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const t=new is(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const o=dt("li",{className:"vjs-menu-title",textContent:pi(this.options_.title),tabIndex:-1}),h=new mi(this.player_,{el:o});t.addItem(h)}if(this.items=this.createItems(),this.items)for(let o=0;o<this.items.length;o++)t.addItem(this.items[o]);return t}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}buildWrapperCSSClass(){let t="vjs-menu-button";return t+=!0===this.options_.inline?"-inline":"-popup",`vjs-menu-button ${t} ${Xn.prototype.buildCSSClass()} ${super.buildCSSClass()}`}buildCSSClass(){let t="vjs-menu-button";return t+=!0===this.options_.inline?"-inline":"-popup",`vjs-menu-button ${t} ${super.buildCSSClass()}`}controlText(t,o=this.menuButton_.el()){return this.menuButton_.controlText(t,o)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(t){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(t){this.removeClass("vjs-hover"),Ut(document,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(t){Fi.isEventKey(t,"Esc")||Fi.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),Fi.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(Fi.isEventKey(t,"Up")||Fi.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))}handleMenuKeyUp(t){(Fi.isEventKey(t,"Esc")||Fi.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(t){this.handleSubmenuKeyDown(t)}handleSubmenuKeyDown(t){(Fi.isEventKey(t,"Esc")||Fi.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Fi.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),en&&bn())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}mi.registerComponent("MenuButton",Ca);class ju extends Ca{constructor(t,o){const h=o.tracks;if(super(t,o),this.items.length<=1&&this.hide(),!h)return;const y=$n(this,this.update);h.addEventListener("removetrack",y),h.addEventListener("addtrack",y),h.addEventListener("labelchange",y),this.player_.on("ready",y),this.player_.on("dispose",function(){h.removeEventListener("removetrack",y),h.removeEventListener("addtrack",y),h.removeEventListener("labelchange",y)})}}mi.registerComponent("TrackButton",ju);const ls=["Tab","Esc","Up","Down","Right","Left"];class cr extends ld{constructor(t,o){super(t,o),this.selectable=o.selectable,this.isSelected_=o.selected||!1,this.multiSelectable=o.multiSelectable,this.selected(this.isSelected_),this.el_.setAttribute("role",this.selectable?this.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem")}createEl(t,o,h){this.nonIconControl=!0;const y=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},o),h);return y.replaceChild(dt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),y.querySelector(".vjs-icon-placeholder")),y}handleKeyDown(t){ls.some(o=>Fi.isEventKey(t,o))||super.handleKeyDown(t)}handleClick(t){this.selected(!0)}selected(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}mi.registerComponent("MenuItem",cr);class Al extends cr{constructor(t,o){const h=o.track,y=t.textTracks();o.label=h.label||h.language||"Unknown",o.selected="showing"===h.mode,super(t,o),this.track=h,this.kinds=(o.kinds||[o.kind||this.track.kind]).filter(Boolean);const M=(...K)=>{this.handleTracksChange.apply(this,K)},L=(...K)=>{this.handleSelectedLanguageChange.apply(this,K)};if(t.on(["loadstart","texttrackchange"],M),y.addEventListener("change",M),y.addEventListener("selectedlanguagechange",L),this.on("dispose",function(){t.off(["loadstart","texttrackchange"],M),y.removeEventListener("change",M),y.removeEventListener("selectedlanguagechange",L)}),void 0===y.onchange){let K;this.on(["tap","click"],function(){if("object"!=typeof window.Event)try{K=new window.Event("change")}catch{}K||(K=document.createEvent("Event"),K.initEvent("change",!0,!0)),y.dispatchEvent(K)})}this.handleTracksChange()}handleClick(t){const o=this.track,h=this.player_.textTracks();if(super.handleClick(t),h)for(let y=0;y<h.length;y++){const M=h[y];-1!==this.kinds.indexOf(M.kind)&&(M===o?"showing"!==M.mode&&(M.mode="showing"):"disabled"!==M.mode&&(M.mode="disabled"))}}handleTracksChange(t){const o="showing"===this.track.mode;o!==this.isSelected_&&this.selected(o)}handleSelectedLanguageChange(t){if("showing"===this.track.mode){const o=this.player_.cache_.selectedLanguage;if(o&&o.enabled&&o.language===this.track.language&&o.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}mi.registerComponent("TextTrackMenuItem",Al);class Xr extends Al{constructor(t,o){o.track={player:t,kind:o.kind,kinds:o.kinds,default:!1,mode:"disabled"},o.kinds||(o.kinds=[o.kind]),o.track.label=o.label?o.label:o.kinds.join(" and ")+" off",o.selectable=!0,o.multiSelectable=!1,super(t,o)}handleTracksChange(t){const o=this.player().textTracks();let h=!0;for(let y=0,M=o.length;y<M;y++){const L=o[y];if(this.options_.kinds.indexOf(L.kind)>-1&&"showing"===L.mode){h=!1;break}}h!==this.isSelected_&&this.selected(h)}handleSelectedLanguageChange(t){const o=this.player().textTracks();let h=!0;for(let y=0,M=o.length;y<M;y++){const L=o[y];if(["captions","descriptions","subtitles"].indexOf(L.kind)>-1&&"showing"===L.mode){h=!1;break}}h&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}mi.registerComponent("OffTextTrackMenuItem",Xr);class Qo extends ju{constructor(t,o={}){o.tracks=t.textTracks(),super(t,o)}createItems(t=[],o=Al){let h;this.label_&&(h=`${this.label_} off`),t.push(new Xr(this.player_,{kinds:this.kinds_,kind:this.kind_,label:h})),this.hideThreshold_+=1;const y=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let M=0;M<y.length;M++){const L=y[M];if(this.kinds_.indexOf(L.kind)>-1){const K=new o(this.player_,{track:L,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});K.addClass(`vjs-${L.kind}-menu-item`),t.push(K)}}return t}}mi.registerComponent("TextTrackButton",Qo);class So extends cr{constructor(t,o){const h=o.track,y=o.cue,M=t.currentTime();o.selectable=!0,o.multiSelectable=!1,o.label=y.text,o.selected=y.startTime<=M&&M<y.endTime,super(t,o),this.track=h,this.cue=y}handleClick(t){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}mi.registerComponent("ChaptersTrackMenuItem",So);class ir extends Qo{constructor(t,o,h){super(t,o,h),this.selectCurrentItem_=()=>{this.items.forEach(y=>{y.selected(this.track_.activeCues[0]===y.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(t){if(t&&t.track&&"chapters"!==t.track.kind)return;const o=this.findChaptersTrack();o!==this.track_?(this.setTrack(o),super.update()):(!this.items||o&&o.cues&&o.cues.length!==this.items.length)&&super.update()}setTrack(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const o=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);o&&o.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";const o=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);o&&o.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const t=this.player_.textTracks()||[];for(let o=t.length-1;o>=0;o--){const h=t[o];if(h.kind===this.kind_)return h}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(pi(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const t=[];if(!this.track_)return t;const o=this.track_.cues;if(!o)return t;for(let h=0,y=o.length;h<y;h++){const L=new So(this.player_,{track:this.track_,cue:o[h]});t.push(L)}return t}}ir.prototype.kind_="chapters",ir.prototype.controlText_="Chapters",mi.registerComponent("ChaptersButton",ir);class $c extends Qo{constructor(t,o,h){super(t,o,h);const y=t.textTracks(),M=$n(this,this.handleTracksChange);y.addEventListener("change",M),this.on("dispose",function(){y.removeEventListener("change",M)})}handleTracksChange(t){const o=this.player().textTracks();let h=!1;for(let y=0,M=o.length;y<M;y++){const L=o[y];if(L.kind!==this.kind_&&"showing"===L.mode){h=!0;break}}h?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}$c.prototype.kind_="descriptions",$c.prototype.controlText_="Descriptions",mi.registerComponent("DescriptionsButton",$c);class Gl extends Qo{constructor(t,o,h){super(t,o,h)}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}Gl.prototype.kind_="subtitles",Gl.prototype.controlText_="Subtitles",mi.registerComponent("SubtitlesButton",Gl);class Wl extends Al{constructor(t,o){o.track={player:t,kind:o.kind,label:o.kind+" settings",selectable:!1,default:!1,mode:"disabled"},o.selectable=!1,o.name="CaptionSettingsMenuItem",super(t,o),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+o.kind+" settings dialog")}handleClick(t){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}mi.registerComponent("CaptionSettingsMenuItem",Wl);class df extends Qo{constructor(t,o,h){super(t,o,h)}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new Wl(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(t)}}df.prototype.kind_="captions",df.prototype.controlText_="Captions",mi.registerComponent("CaptionsButton",df);class Ec extends Al{createEl(t,o,h){const y=super.createEl(t,o,h),M=y.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(M.appendChild(dt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),M.appendChild(dt("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),y}}mi.registerComponent("SubsCapsMenuItem",Ec);class sc extends Qo{constructor(t,o={}){super(t,o),this.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions"),this.menuButton_.controlText(pi(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new Wl(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=super.createItems(t,Ec),t}}sc.prototype.kinds_=["captions","subtitles"],sc.prototype.controlText_="Subtitles",mi.registerComponent("SubsCapsButton",sc);class zu extends cr{constructor(t,o){const h=o.track,y=t.audioTracks();o.label=h.label||h.language||"Unknown",o.selected=h.enabled,super(t,o),this.track=h,this.addClass(`vjs-${h.kind}-menu-item`);const M=(...L)=>{this.handleTracksChange.apply(this,L)};y.addEventListener("change",M),this.on("dispose",()=>{y.removeEventListener("change",M)})}createEl(t,o,h){const y=super.createEl(t,o,h),M=y.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(M.appendChild(dt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),M.appendChild(dt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),y}handleClick(t){if(super.handleClick(t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const o=this.player_.audioTracks();for(let h=0;h<o.length;h++){const y=o[h];y!==this.track&&(y.enabled=y===this.track)}}}handleTracksChange(t){this.selected(this.track.enabled)}}mi.registerComponent("AudioTrackMenuItem",zu);class Gf extends ju{constructor(t,o={}){o.tracks=t.audioTracks(),super(t,o)}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(t=[]){this.hideThreshold_=1;const o=this.player_.audioTracks();for(let h=0;h<o.length;h++)t.push(new zu(this.player_,{track:o[h],selectable:!0,multiSelectable:!1}));return t}}Gf.prototype.controlText_="Audio Track",mi.registerComponent("AudioTrackButton",Gf);class Hu extends cr{constructor(t,o){const h=o.rate,y=parseFloat(h,10);o.label=h,o.selected=y===t.playbackRate(),o.selectable=!0,o.multiSelectable=!1,super(t,o),this.label=h,this.rate=y,this.on(t,"ratechange",M=>this.update(M))}handleClick(t){super.handleClick(),this.player().playbackRate(this.rate)}update(t){this.selected(this.player().playbackRate()===this.rate)}}Hu.prototype.contentElType="button",mi.registerComponent("PlaybackRateMenuItem",Hu);class Kl extends Ca{constructor(t,o){super(t,o),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(t,"loadstart",h=>this.updateVisibility(h)),this.on(t,"ratechange",h=>this.updateLabel(h)),this.on(t,"playbackrateschange",h=>this.handlePlaybackRateschange(h))}createEl(){const t=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=dt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const t=this.playbackRates(),o=[];for(let h=t.length-1;h>=0;h--)o.push(new Hu(this.player(),{rate:t[h]+"x"}));return o}handlePlaybackRateschange(t){this.update()}playbackRates(){const t=this.player();return t.playbackRates&&t.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}Kl.prototype.controlText_="Playback Rate",mi.registerComponent("PlaybackRateMenuButton",Kl);class Cm extends mi{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(t="div",o={},h={}){return o.className||(o.className=this.buildCSSClass()),super.createEl(t,o,h)}}mi.registerComponent("Spacer",Cm);mi.registerComponent("CustomControlSpacer",class te extends Cm{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:"\xa0"})}});class Ce extends mi{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}Ce.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in document&&Ce.prototype.options_.children.splice(Ce.prototype.options_.children.length-1,0,"pictureInPictureToggle"),mi.registerComponent("ControlBar",Ce);class ie extends U{constructor(t,o){super(t,o),this.on(t,"error",h=>this.open(h))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const t=this.player().error();return t?this.localize(t.message):""}}ie.prototype.options_=Object.assign({},U.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),mi.registerComponent("ErrorDisplay",ie);const Se="vjs-text-track-settings",Ae=["#000","Black"],At=["#00F","Blue"],fn=["#0FF","Cyan"],li=["#0F0","Green"],ii=["#F0F","Magenta"],_r=["#F00","Red"],os=["#FFF","White"],_s=["#FF0","Yellow"],Po=["1","Opaque"],xh=["0.5","Semi-Transparent"],$u=["0","Transparent"],Ba={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ae,os,_r,li,At,_s,ii,fn]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Po,xh,$u]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[os,Ae,_r,li,At,_s,ii,fn]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:c=>"1.00"===c?null:Number(c)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Po,xh]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[$u,xh,Po]}};function Gu(c,t){if(t&&(c=t(c)),c&&"none"!==c)return c}Ba.windowColor.options=Ba.backgroundColor.options;mi.registerComponent("TextTrackSettings",class uf extends U{constructor(t,o){o.temporary=!1,super(t,o),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=dt("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),void 0===o.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),ee(Ba,h=>{this.on(this.$(h.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(t,o="",h="label"){const y=Ba[t],M=y.id.replace("%s",this.id_),L=[o,M].join(" ").trim();return[`<${h} id="${M}" class="${"label"===h?"vjs-label":""}">`,this.localize(y.label),`</${h}>`,`<select aria-labelledby="${L}">`].concat(y.options.map(K=>{const pe=M+"-"+K[1].replace(/\W+/g,"");return[`<option id="${pe}" value="${K[0]}" `,`aria-labelledby="${L} ${pe}">`,this.localize(K[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){const t=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${t}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",t),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")}createElBgColor_(){const t=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${t}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",t),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")}createElWinColor_(){const t=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${t}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",t),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")}createElColors_(){return dt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return dt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const t=this.localize("restore all settings to the default values");return dt("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${t}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${t}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return be(Ba,(t,o,h)=>{const y=function nn(c,t){return Gu(c.options[c.options.selectedIndex].value,t)}(this.$(o.selector),o.parser);return void 0!==y&&(t[h]=y),t},{})}setValues(t){ee(Ba,(o,h)=>{!function Wu(c,t,o){if(t)for(let h=0;h<c.options.length;h++)if(Gu(c.options[h].value,o)===t){c.selectedIndex=h;break}}(this.$(o.selector),t[h],o.parser)})}setDefaults(){ee(Ba,t=>{const o=t.hasOwnProperty("default")?t.default:0;this.$(t.selector).selectedIndex=o})}restoreSettings(){let t;try{t=JSON.parse(window.localStorage.getItem(Se))}catch(o){k.warn(o)}t&&this.setValues(t)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const t=this.getValues();try{Object.keys(t).length?window.localStorage.setItem(Se,JSON.stringify(t)):window.localStorage.removeItem(Se)}catch(o){k.warn(o)}}updateDisplay(){const t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const t=this.player_.controlBar,o=t&&t.subsCapsButton,h=t&&t.captionsButton;o?o.focus():h&&h.focus()}handleLanguagechange(){this.fill()}});mi.registerComponent("ResizeManager",class Tm extends mi{constructor(t,o){let h=o.ResizeObserver||window.ResizeObserver;null===o.ResizeObserver&&(h=!1),super(t,Be({createEl:!h,reportTouchActivity:!1},o)),this.ResizeObserver=o.ResizeObserver||window.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=Ai(()=>{this.resizeHandler()},100,!1,this),h?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(t.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const M=this.debouncedHandler_;let L=this.unloadListener_=function(){Ut(this,"resize",M),Ut(this,"unload",L),L=null};pt(this.el_.contentWindow,"unload",L),pt(this.el_.contentWindow,"resize",M)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}});const yl={trackingThreshold:20,liveTolerance:15};mi.registerComponent("LiveTracker",class Sm extends mi{constructor(t,o){super(t,Be(yl,o,{createEl:!1})),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=y=>this.handlePlay(y),this.handleFirstTimeupdate_=y=>this.handleFirstTimeupdate(y),this.handleSeeked_=y=>this.handleSeeked(y),this.seekToLiveEdge_=y=>this.seekToLiveEdge(y),this.reset_(),this.on(this.player_,"durationchange",y=>this.handleDurationchange(y)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const t=this.player_.seekable();if(!t||!t.length)return;const o=Number(window.performance.now().toFixed(4)),h=-1===this.lastTime_?0:(o-this.lastTime_)/1e3;this.lastTime_=o,this.pastSeekEnd_=this.pastSeekEnd()+h;const y=this.liveCurrentTime(),M=this.player_.currentTime();let L=this.player_.paused()||this.seekedBehindLive_||Math.abs(y-M)>this.options_.liveTolerance;(!this.timeupdateSeen_||y===1/0)&&(L=!1),L!==this.behindLiveEdge_&&(this.behindLiveEdge_=L,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const t=this.player_.seekable(),o=[];let h=t?t.length:0;for(;h--;)o.push(t.end(h));return o.length?o.sort()[o.length-1]:1/0}seekableStart(){const t=this.player_.seekable(),o=[];let h=t?t.length:0;for(;h--;)o.push(t.start(h));return o.length?o.sort()[0]:0}liveWindow(){const t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const t=this.seekableEnd();return-1!==this.lastSeekEnd_&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return"number"==typeof this.trackingInterval_}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}});mi.registerComponent("TitleBar",class Tg extends mi{constructor(t,o){super(t,o),this.on("statechanged",h=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:dt("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${G()}`}),description:dt("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${G()}`})},dt("div",{className:"vjs-title-bar"},{},Object.values(this.els))}updateDom_(){const t=this.player_.tech_,o=t&&t.el_,h={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(y=>{const M=this.state[y],L=this.els[y],K=h[y];rr(L),M&&$t(L,M),o&&(o.removeAttribute(K),M&&o.setAttribute(K,L.id))}),this.state.title||this.state.description?this.show():this.hide()}update(t){this.setState(t)}dispose(){const t=this.player_.tech_,o=t&&t.el_;o&&(o.removeAttribute("aria-labelledby"),o.removeAttribute("aria-describedby")),super.dispose(),this.els=null}});const xc=c=>{const t=c.el();if(t.hasAttribute("src"))return c.triggerSourceset(t.src),!0;const o=c.$$("source"),h=[];let y="";if(!o.length)return!1;for(let M=0;M<o.length;M++){const L=o[M].src;L&&-1===h.indexOf(L)&&h.push(L)}return!!h.length&&(1===h.length&&(y=h[0]),c.triggerSourceset(y),!0)},Fp=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(c){const t=document.createElement(this.nodeName.toLowerCase());t.innerHTML=c;const o=document.createDocumentFragment();for(;t.childNodes.length;)o.appendChild(t.childNodes[0]);return this.innerText="",window.Element.prototype.appendChild.call(this,o),this.innerHTML}}),Gc=(c,t)=>{let o={};for(let h=0;h<c.length&&(o=Object.getOwnPropertyDescriptor(c[h],t),!(o&&o.set&&o.get));h++);return o.enumerable=!0,o.configurable=!0,o},mu=function(c){const t=c.el();if(t.resetSourceWatch_)return;const o={},h=(c=>Gc([c.el(),window.HTMLMediaElement.prototype,window.Element.prototype,Fp],"innerHTML"))(c),y=M=>(...L)=>{const K=M.apply(t,L);return xc(c),K};["append","appendChild","insertAdjacentHTML"].forEach(M=>{t[M]&&(o[M]=t[M],t[M]=y(o[M]))}),Object.defineProperty(t,"innerHTML",Be(h,{set:y(h.set)})),t.resetSourceWatch_=()=>{t.resetSourceWatch_=null,Object.keys(o).forEach(M=>{t[M]=o[M]}),Object.defineProperty(t,"innerHTML",h)},c.one("sourceset",t.resetSourceWatch_)},Sg=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?Ur(window.Element.prototype.getAttribute.call(this,"src")):""},set(c){return window.Element.prototype.setAttribute.call(this,"src",c),c}}),wh=function(c){if(!c.featuresSourceset)return;const t=c.el();if(t.resetSourceset_)return;const o=(c=>Gc([c.el(),window.HTMLMediaElement.prototype,Sg],"src"))(c),h=t.setAttribute,y=t.load;Object.defineProperty(t,"src",Be(o,{set:M=>{const L=o.set.call(t,M);return c.triggerSourceset(t.src),L}})),t.setAttribute=(M,L)=>{const K=h.call(t,M,L);return/src/i.test(M)&&c.triggerSourceset(t.src),K},t.load=()=>{const M=y.call(t);return xc(c)||(c.triggerSourceset(""),mu(c)),M},t.currentSrc?c.triggerSourceset(t.currentSrc):xc(c)||mu(c),t.resetSourceset_=()=>{t.resetSourceset_=null,t.load=y,t.setAttribute=h,Object.defineProperty(t,"src",o),t.resetSourceWatch_&&t.resetSourceWatch_()}};class yr extends ns{constructor(t,o){super(t,o);const h=t.source;let y=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&"VIDEO"===this.el_.tagName,h&&(this.el_.currentSrc!==h.src||t.tag&&3===t.tag.initNetworkState_)?this.setSource(h):this.handleLateInit_(this.el_),t.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const M=this.el_.childNodes;let L=M.length;const K=[];for(;L--;){const pe=M[L];"track"===pe.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(pe),this.remoteTextTracks().addTrack(pe.track),this.textTracks().addTrack(pe.track),!y&&!this.el_.hasAttribute("crossorigin")&&Bs(pe.src)&&(y=!0)):K.push(pe))}for(let pe=0;pe<K.length;pe++)this.el_.removeChild(K[pe])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&y&&k.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(jt||Rt)&&!0===t.nativeControlsForTouch&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),yr.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){wh(this)}restoreMetadataTracksInIOSNativePlayer_(){const t=this.textTracks();let o;const h=()=>{o=[];for(let M=0;M<t.length;M++){const L=t[M];"metadata"===L.kind&&o.push({track:L,storedMode:L.mode})}};h(),t.addEventListener("change",h),this.on("dispose",()=>t.removeEventListener("change",h));const y=()=>{for(let M=0;M<o.length;M++){const L=o[M];"disabled"===L.track.mode&&L.track.mode!==L.storedMode&&(L.track.mode=L.storedMode)}t.removeEventListener("change",y)};this.on("webkitbeginfullscreen",()=>{t.removeEventListener("change",h),t.removeEventListener("change",y),t.addEventListener("change",y)}),this.on("webkitendfullscreen",()=>{t.removeEventListener("change",h),t.addEventListener("change",h),t.removeEventListener("change",y)})}overrideNative_(t,o){if(o!==this[`featuresNative${t}Tracks`])return;const h=t.toLowerCase();this[`${h}TracksListeners_`]&&Object.keys(this[`${h}TracksListeners_`]).forEach(y=>{this.el()[`${h}Tracks`].removeEventListener(y,this[`${h}TracksListeners_`][y])}),this[`featuresNative${t}Tracks`]=!o,this[`${h}TracksListeners_`]=null,this.proxyNativeTracksForType_(h)}overrideNativeAudioTracks(t){this.overrideNative_("Audio",t)}overrideNativeVideoTracks(t){this.overrideNative_("Video",t)}proxyNativeTracksForType_(t){const o=Co[t],h=this.el()[o.getterName],y=this[o.getterName]();if(!this[`featuresNative${o.capitalName}Tracks`]||!h||!h.addEventListener)return;const M={change:K=>{const pe={type:"change",target:y,currentTarget:y,srcElement:y};y.trigger(pe),"text"===t&&this[Ya.remoteText.getterName]().trigger(pe)},addtrack(K){y.addTrack(K.track)},removetrack(K){y.removeTrack(K.track)}},L=function(){const K=[];for(let pe=0;pe<y.length;pe++){let He=!1;for(let Je=0;Je<h.length;Je++)if(h[Je]===y[pe]){He=!0;break}He||K.push(y[pe])}for(;K.length;)y.removeTrack(K.shift())};this[o.getterName+"Listeners_"]=M,Object.keys(M).forEach(K=>{const pe=M[K];h.addEventListener(K,pe),this.on("dispose",He=>h.removeEventListener(K,pe))}),this.on("loadstart",L),this.on("dispose",K=>this.off("loadstart",L))}proxyNativeTracks_(){Co.names.forEach(t=>{this.proxyNativeTracksForType_(t)})}createEl(){let t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){const h=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(h,t),yr.disposeMediaElement(t),t=h}else{t=document.createElement("video");const y=Be({},this.options_.tag&&Ie(this.options_.tag));(!jt||!0!==this.options_.nativeControlsForTouch)&&delete y.controls,qt(t,Object.assign(y,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Ge(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);const o=["loop","muted","playsinline","autoplay"];for(let h=0;h<o.length;h++){const y=o[h],M=this.options_[y];typeof M<"u"&&(M?Ge(t,y,y):kt(t,y),t[y]=M)}return t}handleLateInit_(t){if(0===t.networkState||3===t.networkState)return;if(0===t.readyState){let h=!1;const y=function(){h=!0};this.on("loadstart",y);const M=function(){h||this.trigger("loadstart")};return this.on("loadedmetadata",M),void this.ready(function(){this.off("loadstart",y),this.off("loadedmetadata",M),h||this.trigger("loadstart")})}const o=["loadstart"];o.push("loadedmetadata"),t.readyState>=2&&o.push("loadeddata"),t.readyState>=3&&o.push("canplay"),t.readyState>=4&&o.push("canplaythrough"),this.ready(function(){o.forEach(function(h){this.trigger(h)},this)})}setScrubbing(t){this.isScrubbing_=t}scrubbing(){return this.isScrubbing_}setCurrentTime(t){try{this.isScrubbing_&&this.el_.fastSeek&&qe?this.el_.fastSeek(t):this.el_.currentTime=t}catch(o){k(o,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&de&&Ye&&0===this.el_.currentTime){const t=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},o=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",o),this.on("dispose",()=>{this.off("webkitbeginfullscreen",o),this.off("webkitendfullscreen",t)})}supportsFullScreen(){return"function"==typeof this.el_.webkitEnterFullScreen}enterFullScreen(){const t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Ms(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(o){this.trigger("fullscreenerror",o)}},0);else try{t.webkitEnterFullScreen()}catch(o){this.trigger("fullscreenerror",o)}}exitFullScreen(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):super.requestVideoFrameCallback(t)}cancelVideoFrameCallback(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):super.cancelVideoFrameCallback(t)}src(t){if(void 0===t)return this.el_.src;this.setSrc(t)}reset(){yr.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(t){this.el_.controls=!!t}addTextTrack(t,o,h){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,o,h):super.addTextTrack(t,o,h)}createRemoteTextTrack(t){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(t);const o=document.createElement("track");return t.kind&&(o.kind=t.kind),t.label&&(o.label=t.label),(t.language||t.srclang)&&(o.srclang=t.language||t.srclang),t.default&&(o.default=t.default),t.id&&(o.id=t.id),t.src&&(o.src=t.src),o}addRemoteTextTrack(t,o){const h=super.addRemoteTextTrack(t,o);return this.featuresNativeTextTracks&&this.el().appendChild(h),h}removeRemoteTextTrack(t){if(super.removeRemoteTextTrack(t),this.featuresNativeTextTracks){const o=this.$$("track");let h=o.length;for(;h--;)(t===o[h]||t===o[h].track)&&this.el().removeChild(o[h])}}getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();const t={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),window.performance&&(t.creationTime=window.performance.now()),t}}Ve(yr,"TEST_VID",function(){if(!Ft())return;const c=document.createElement("video"),t=document.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",c.appendChild(t),c}),yr.isSupported=function(){try{yr.TEST_VID.volume=.5}catch{return!1}return!(!yr.TEST_VID||!yr.TEST_VID.canPlayType)},yr.canPlayType=function(c){return yr.TEST_VID.canPlayType(c)},yr.canPlaySource=function(c,t){return yr.canPlayType(c.type)},yr.canControlVolume=function(){try{const c=yr.TEST_VID.volume;yr.TEST_VID.volume=c/2+.1;const t=c!==yr.TEST_VID.volume;return t&&en?(window.setTimeout(()=>{yr&&yr.prototype&&(yr.prototype.featuresVolumeControl=c!==yr.TEST_VID.volume)}),!1):t}catch{return!1}},yr.canMuteVolume=function(){try{const c=yr.TEST_VID.muted;return yr.TEST_VID.muted=!c,yr.TEST_VID.muted?Ge(yr.TEST_VID,"muted","muted"):kt(yr.TEST_VID,"muted"),c!==yr.TEST_VID.muted}catch{return!1}},yr.canControlPlaybackRate=function(){if(de&&Ye&&un<58)return!1;try{const c=yr.TEST_VID.playbackRate;return yr.TEST_VID.playbackRate=c/2+.1,c!==yr.TEST_VID.playbackRate}catch{return!1}},yr.canOverrideAttributes=function(){try{const c=()=>{};Object.defineProperty(document.createElement("video"),"src",{get:c,set:c}),Object.defineProperty(document.createElement("audio"),"src",{get:c,set:c}),Object.defineProperty(document.createElement("video"),"innerHTML",{get:c,set:c}),Object.defineProperty(document.createElement("audio"),"innerHTML",{get:c,set:c})}catch{return!1}return!0},yr.supportsNativeTextTracks=function(){return qe||en&&Ye},yr.supportsNativeVideoTracks=function(){return!(!yr.TEST_VID||!yr.TEST_VID.videoTracks)},yr.supportsNativeAudioTracks=function(){return!(!yr.TEST_VID||!yr.TEST_VID.audioTracks)},yr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([c,t]){Ve(yr.prototype,c,()=>yr[t](),!0)}),yr.prototype.featuresVolumeControl=yr.canControlVolume(),yr.prototype.movingMediaElementInDOM=!en,yr.prototype.featuresFullscreenResize=!0,yr.prototype.featuresProgressEvents=!0,yr.prototype.featuresTimeupdateEvents=!0,yr.prototype.featuresVideoFrameCallback=!(!yr.TEST_VID||!yr.TEST_VID.requestVideoFrameCallback),yr.disposeMediaElement=function(c){if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("src"),"function"==typeof c.load&&function(){try{c.load()}catch{}}()}},yr.resetMediaElement=function(c){if(!c)return;const t=c.querySelectorAll("source");let o=t.length;for(;o--;)c.removeChild(t[o]);c.removeAttribute("src"),"function"==typeof c.load&&function(){try{c.load()}catch{}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(c){yr.prototype[c]=function(){return this.el_[c]||this.el_.hasAttribute(c)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(c){yr.prototype["set"+pi(c)]=function(t){this.el_[c]=t,t?this.el_.setAttribute(c,c):this.el_.removeAttribute(c)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(c){yr.prototype[c]=function(){return this.el_[c]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(c){yr.prototype["set"+pi(c)]=function(t){this.el_[c]=t}}),["pause","load","play"].forEach(function(c){yr.prototype[c]=function(){return this.el_[c]()}}),ns.withSourceHandlers(yr),yr.nativeSourceHandler={},yr.nativeSourceHandler.canPlayType=function(c){try{return yr.TEST_VID.canPlayType(c)}catch{return""}},yr.nativeSourceHandler.canHandleSource=function(c,t){if(c.type)return yr.nativeSourceHandler.canPlayType(c.type);if(c.src){const o=Rr(c.src);return yr.nativeSourceHandler.canPlayType(`video/${o}`)}return""},yr.nativeSourceHandler.handleSource=function(c,t,o){t.setSrc(c.src)},yr.nativeSourceHandler.dispose=function(){},yr.registerSourceHandler(yr.nativeSourceHandler),ns.registerTech("Html5",yr);const Do=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Ch={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Vo=["tiny","xsmall","small","medium","large","xlarge","huge"],Uo={};Vo.forEach(c=>{const t="x"===c.charAt(0)?`x-${c.substring(1)}`:c;Uo[c]=`vjs-layout-${t}`});const Vp={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class js extends mi{constructor(t,o,h){if(t.id=t.id||o.id||`vjs_video_${G()}`,(o=Object.assign(js.getTagSettings(t),o)).initChildren=!1,o.createEl=!1,o.evented=!1,o.reportTouchActivity=!1,!o.language){const L=t.closest("[lang]");L&&(o.language=L.getAttribute("lang"))}if(super(null,o,h),this.boundDocumentFullscreenChange_=L=>this.documentFullscreenChange_(L),this.boundFullWindowOnEscKey_=L=>this.fullWindowOnEscKey(L),this.boundUpdateStyleEl_=L=>this.updateStyleEl_(L),this.boundApplyInitTime_=L=>this.applyInitTime_(L),this.boundUpdateCurrentBreakpoint_=L=>this.updateCurrentBreakpoint_(L),this.boundHandleTechClick_=L=>this.handleTechClick_(L),this.boundHandleTechDoubleClick_=L=>this.handleTechDoubleClick_(L),this.boundHandleTechTouchStart_=L=>this.handleTechTouchStart_(L),this.boundHandleTechTouchMove_=L=>this.handleTechTouchMove_(L),this.boundHandleTechTouchEnd_=L=>this.handleTechTouchEnd_(L),this.boundHandleTechTap_=L=>this.handleTechTap_(L),this.isFullscreen_=!1,this.log=A(this.id_),this.fsApi_=x,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=t,this.tagAttributes=t&&Ie(t),this.language(this.options_.language),o.languages){const L={};Object.getOwnPropertyNames(o.languages).forEach(function(K){L[K.toLowerCase()]=o.languages[K]}),this.languages_=L}else this.languages_=js.prototype.options_.languages;this.resetCache_(),this.poster_=o.poster||"",this.controls_=!!o.controls,t.controls=!1,t.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],t.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),o.plugins&&Object.keys(o.plugins).forEach(L=>{if("function"!=typeof this[L])throw new Error(`plugin "${L}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),ji(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(pt(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const y=Be(this.options_);o.plugins&&Object.keys(o.plugins).forEach(L=>{this[L](o.plugins[L])}),o.debug&&this.debug(!0),this.options_.playerOptions=y,this.middleware_=[],this.playbackRates(o.playbackRates),this.initChildren(),this.isAudio("audio"===t.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),jt&&this.addClass("vjs-touch-enabled"),en||this.addClass("vjs-workinghover"),js.players[this.id_]=this;const M="8.3.0".split(".")[0];this.addClass(`vjs-v${M}`),this.userActive(!0),this.reportUserActivity(),this.one("play",L=>this.listenForUserActivity_(L)),this.on("keydown",L=>this.handleKeyDown(L)),this.on("languagechange",L=>this.handleLanguagechange(L)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Ut(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ut(document,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),js.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function _l(c){Ad[c.id()]=null}(this),Hs.names.forEach(t=>{const h=this[Hs[t].getterName]();h&&h.off&&h.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let o,t=this.tag,h=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");const y="video-js"===this.tag.tagName.toLowerCase();h?o=this.el_=t.parentNode:y||(o=this.el_=super.createEl("div"));const M=Ie(t);if(y){for(o=this.el_=t,t=this.tag=document.createElement("video");o.children.length;)t.appendChild(o.firstChild);qn(o,"video-js")||Pi(o,"video-js"),o.appendChild(t),h=this.playerElIngest_=o,Object.keys(o).forEach(K=>{try{t[K]=o[K]}catch{}})}if(t.setAttribute("tabindex","-1"),M.tabindex="-1",Ye&&Nn&&(t.setAttribute("role","application"),M.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in M&&delete M.width,"height"in M&&delete M.height,Object.getOwnPropertyNames(M).forEach(function(K){y&&"class"===K||o.setAttribute(K,M[K]),y&&t.setAttribute(K,M[K])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=o.player=this,this.addClass("vjs-paused"),!0!==window.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=ft("vjs-styles-dimensions");const K=Gi(".vjs-styles-defaults"),pe=Gi("head");pe.insertBefore(this.styleEl_,K?K.nextSibling:pe.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const L=t.getElementsByTagName("a");for(let K=0;K<L.length;K++){const pe=L.item(K);Pi(pe,"vjs-hidden"),pe.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!h&&t.parentNode.insertBefore(o,t),Pn(t,o),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=o,o}crossOrigin(t){if(typeof t>"u")return this.techGet_("crossOrigin");null===t||"anonymous"===t||"use-credentials"===t?(this.techCall_("setCrossOrigin",t),this.posterImage&&this.posterImage.crossOrigin(t)):k.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${t}"`)}width(t){return this.dimension("width",t)}height(t){return this.dimension("height",t)}dimension(t,o){const h=t+"_";if(void 0===o)return this[h]||0;if(""===o||"auto"===o)return this[h]=void 0,void this.updateStyleEl_();const y=parseFloat(o);isNaN(y)?k.error(`Improper value "${o}" supplied for for ${t}`):(this[h]=y,this.updateStyleEl_())}fluid(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,he(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),((c,t)=>{he(c)?t():(c.eventedCallbacks||(c.eventedCallbacks=[]),c.eventedCallbacks.push(t))})(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(!0===window.VIDEOJS_NO_DYNAMIC_STYLE){const K="number"==typeof this.width_?this.width_:this.options_.width,pe="number"==typeof this.height_?this.height_:this.options_.height,He=this.tech_&&this.tech_.el();return void(He&&(K>=0&&(He.width=K),pe>=0&&(He.height=pe)))}let t,o,h,y;h=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";const M=h.split(":"),L=M[1]/M[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/L:this.videoWidth()||300,o=void 0!==this.height_?this.height_:t*L,y=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(y),wt(this.styleEl_,`\n      .${y} {\n        width: ${t}px;\n        height: ${o}px;\n      }\n\n      .${y}.vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ${100*L}%;\n      }\n    `)}loadTech_(t,o){this.tech_&&this.unloadTech_();const h=pi(t),y=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==h&&this.tag&&(ns.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=h,this.isReady_=!1;let M=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(M=!1);const L={source:o,autoplay:M,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${y}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Hs.names.forEach(pe=>{const He=Hs[pe];L[He.getterName]=this[He.privateName]}),Object.assign(L,this.options_[h]),Object.assign(L,this.options_[y]),Object.assign(L,this.options_[t.toLowerCase()]),this.tag&&(L.tag=this.tag),o&&o.src===this.cache_.src&&this.cache_.currentTime>0&&(L.startTime=this.cache_.currentTime);const K=ns.getTech(t);if(!K)throw new Error(`No Tech named '${h}' exists! '${h}' should be registered using videojs.registerTech()'`);this.tech_=new K(L),this.tech_.ready($n(this,this.handleTechReady_),!0),Ra_jsonToTextTracks(this.textTracksJson_||[],this.tech_),Do.forEach(pe=>{this.on(this.tech_,pe,He=>this[`handleTech${pi(pe)}_`](He))}),Object.keys(Ch).forEach(pe=>{this.on(this.tech_,pe,He=>{0===this.tech_.playbackRate()&&this.tech_.seeking()?this.queuedCallbacks_.push({callback:this[`handleTech${Ch[pe]}_`].bind(this),event:He}):this[`handleTech${Ch[pe]}_`](He)})}),this.on(this.tech_,"loadstart",pe=>this.handleTechLoadStart_(pe)),this.on(this.tech_,"sourceset",pe=>this.handleTechSourceset_(pe)),this.on(this.tech_,"waiting",pe=>this.handleTechWaiting_(pe)),this.on(this.tech_,"ended",pe=>this.handleTechEnded_(pe)),this.on(this.tech_,"seeking",pe=>this.handleTechSeeking_(pe)),this.on(this.tech_,"play",pe=>this.handleTechPlay_(pe)),this.on(this.tech_,"pause",pe=>this.handleTechPause_(pe)),this.on(this.tech_,"durationchange",pe=>this.handleTechDurationChange_(pe)),this.on(this.tech_,"fullscreenchange",(pe,He)=>this.handleTechFullscreenChange_(pe,He)),this.on(this.tech_,"fullscreenerror",(pe,He)=>this.handleTechFullscreenError_(pe,He)),this.on(this.tech_,"enterpictureinpicture",pe=>this.handleTechEnterPictureInPicture_(pe)),this.on(this.tech_,"leavepictureinpicture",pe=>this.handleTechLeavePictureInPicture_(pe)),this.on(this.tech_,"error",pe=>this.handleTechError_(pe)),this.on(this.tech_,"posterchange",pe=>this.handleTechPosterChange_(pe)),this.on(this.tech_,"textdata",pe=>this.handleTechTextData_(pe)),this.on(this.tech_,"ratechange",pe=>this.handleTechRateChange_(pe)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&("Html5"!==h||!this.tag)&&Pn(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Hs.names.forEach(t=>{const o=Hs[t];this[o.privateName]=this[o.getterName]()}),this.textTracksJson_=Ra_textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(t){return void 0===t&&k.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(t){if(!this.tech_||"string"!=typeof t)return;const o=()=>{const y=this.muted();this.muted(!0);const M=()=>{this.muted(y)};this.playTerminatedQueue_.push(M);const L=this.play();if(Jo(L))return L.catch(K=>{throw M(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${K||""}`)})};let h;return"any"!==t||this.muted()?h="muted"!==t||this.muted()?this.play():o():(h=this.play(),Jo(h)&&(h=h.catch(o))),Jo(h)?h.then(()=>{this.trigger({type:"autoplay-success",autoplay:t})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:t})}):void 0}updateSourceCaches_(t=""){let o=t,h="";"string"!=typeof o&&(o=t.src,h=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],o&&!h&&(h=((c,t)=>{if(!t)return"";if(c.cache_.source.src===t&&c.cache_.source.type)return c.cache_.source.type;const o=c.cache_.sources.filter(y=>y.src===t);if(o.length)return o[0].type;const h=c.$$("source");for(let y=0;y<h.length;y++){const M=h[y];if(M.type&&M.src&&M.src===t)return M.type}return od(t)})(this,o)),this.cache_.source=Be({},t,{src:o,type:h});const y=this.cache_.sources.filter(pe=>pe.src&&pe.src===o),M=[],L=this.$$("source"),K=[];for(let pe=0;pe<L.length;pe++){const He=Ie(L[pe]);M.push(He),He.src&&He.src===o&&K.push(He.src)}K.length&&!y.length?this.cache_.sources=M:y.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=o}handleTechSourceset_(t){if(!this.changingSrc_){let o=M=>this.updateSourceCaches_(M);const h=this.currentSource().src,y=t.src;h&&!/^blob:/.test(h)&&/^blob:/.test(y)&&(!this.lastSource_||this.lastSource_.tech!==y&&this.lastSource_.player!==h)&&(o=()=>{}),o(y),t.src||this.tech_.any(["sourceset","loadstart"],M=>{if("sourceset"===M.type)return;const L=this.techGet("currentSrc");this.lastSource_.tech=L,this.updateSourceCaches_(L)})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})}hasStarted(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(t=>t.callback(t.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const t=this.currentTime(),o=()=>{t!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",o))};this.on("timeupdate",o)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(t){this.controls_&&(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.click||!1!==this.options_.userActions.click)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,t):this.paused()?Ms(this.play()):this.pause())}handleTechDoubleClick_(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),h=>h.contains(t.target))||(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.doubleClick||!1!==this.options_.userActions.doubleClick)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(t){t.cancelable&&t.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(t){const o=t.target.player;if(o&&o!==this)return;const h=this.el();let y=document[this.fsApi_.fullscreenElement]===h;!y&&h.matches?y=h.matches(":"+this.fsApi_.fullscreen):!y&&h.msMatchesSelector&&(y=h.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(y)}handleTechFullscreenChange_(t,o){o&&(o.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(o.isFullscreen))}handleTechFullscreenError_(t,o){this.trigger("fullscreenerror",o)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(t){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(t){this.isInPictureInPicture(!1)}handleTechError_(){const t=this.tech_.error();this.error(t)}handleTechTextData_(){let t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(t,o){this.ready(function(){if(t in cf)return function jc(c,t,o,h){return t[o](c.reduce(sd(o),h))}(this.middleware_,this.tech_,t,o);if(t in Gs)return Eh(this.middleware_,this.tech_,t,o);try{this.tech_&&this.tech_[t](o)}catch(h){throw k(h),h}},!0)}techGet_(t){if(this.tech_&&this.tech_.isReady_){if(t in Ia)return function zl(c,t,o){return c.reduceRight(sd(o),t[o]())}(this.middleware_,this.tech_,t);if(t in Gs)return Eh(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(o){throw void 0===this.tech_[t]?(k(`Video.js: ${t} method not defined for ${this.techName_} playback technology.`,o),o):"TypeError"===o.name?(k(`Video.js: ${t} unavailable on ${this.techName_} playback technology element.`,o),this.tech_.isReady_=!1,o):(k(o),o)}}}play(){return new Promise(t=>{this.play_(t)})}play_(t=Ms){this.playCallbacks_.push(t);const o=!(this.changingSrc_||!this.src()&&!this.currentSrc()),h=!(!qe&&!en);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!o)return this.waitToPlay_=L=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!o&&h&&this.load());const y=this.techGet_("play");h&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===y?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(y)}runPlayTerminatedQueue_(){const t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(o){o()})}runPlayCallbacks_(t){const o=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],o.forEach(function(h){h(t)})}pause(){this.techCall_("pause")}paused(){return!1!==this.techGet_("paused")}played(){return this.techGet_("played")||io(0,0)}scrubbing(t){if(typeof t>"u")return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(t){return typeof t<"u"?(t<0&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let t=this.techGet_("buffered");return(!t||!t.length)&&(t=io(0,0)),t}bufferedPercent(){return dl(this.buffered(),this.duration())}bufferedEnd(){const t=this.buffered(),o=this.duration();let h=t.end(t.length-1);return h>o&&(h=o),h}volume(t){let o;return void 0!==t?(o=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=o,this.techCall_("setVolume",o),void(o>0&&this.lastVolume_(o))):(o=parseFloat(this.techGet_("volume")),isNaN(o)?1:o)}muted(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)}defaultMuted(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1}lastVolume_(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(t){if(void 0!==t){const o=this.isFullscreen_;return this.isFullscreen_=!!t,this.isFullscreen_!==o&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_}requestFullscreen(t){this.isInPictureInPicture()&&this.exitPictureInPicture();const o=this;return new Promise((h,y)=>{function M(){o.off("fullscreenerror",K),o.off("fullscreenchange",L)}function L(){M(),h()}function K(He,Je){M(),y(Je)}o.one("fullscreenchange",L),o.one("fullscreenerror",K);const pe=o.requestFullscreenHelper_(t);pe&&(pe.then(M,M),pe.then(h,y))})}requestFullscreenHelper_(t){let o;if(this.fsApi_.prefixed||(o=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(o=t)),this.fsApi_.requestFullscreen){const h=this.el_[this.fsApi_.requestFullscreen](o);return h&&h.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),h}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const t=this;return new Promise((o,h)=>{function y(){t.off("fullscreenerror",L),t.off("fullscreenchange",M)}function M(){y(),o()}function L(pe,He){y(),h(He)}t.one("fullscreenchange",M),t.one("fullscreenerror",L);const K=t.exitFullscreenHelper_();K&&(K.then(y,y),K.then(o,h))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const t=document[this.fsApi_.exitFullscreen]();return t&&Ms(t.then(()=>this.isFullscreen(!1))),t}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,pt(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow="hidden",Pi(document.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(t){Fi.isEventKey(t,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Ut(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow=this.docOrigOverflow,hi(document.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(t){if(void 0===t)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&window.documentPictureInPicture){const t=document.createElement(this.el().tagName);return t.classList=this.el().classList,t.classList.add("vjs-pip-container"),this.posterImage&&t.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&t.appendChild(this.titleBar.el().cloneNode(!0)),t.appendChild(dt("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),window.documentPictureInPicture.requestWindow({initialAspectRatio:this.videoWidth()/this.videoHeight(),copyStyleSheets:!0}).then(o=>(this.el_.parentNode.insertBefore(t,this.el_),o.document.body.append(this.el_),o.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),o.addEventListener("unload",h=>{const y=h.target.querySelector(".video-js");t.replaceWith(y),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),o))}return"pictureInPictureEnabled"in document&&!1===this.disablePictureInPicture()?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){return window.documentPictureInPicture&&window.documentPictureInPicture.window?(window.documentPictureInPicture.window.close(),Promise.resolve()):"pictureInPictureEnabled"in document?document.exitPictureInPicture():void 0}handleKeyDown(t){const{userActions:o}=this.options_;!o||!o.hotkeys||(y=>{const M=y.tagName.toLowerCase();return!!y.isContentEditable||("input"===M?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(y.type):-1!==["textarea"].indexOf(M))})(this.el_.ownerDocument.activeElement)||("function"==typeof o.hotkeys?o.hotkeys.call(this,t):this.handleHotkeys(t))}handleHotkeys(t){const o=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:h=(L=>Fi.isEventKey(L,"f")),muteKey:y=(L=>Fi.isEventKey(L,"m")),playPauseKey:M=(L=>Fi.isEventKey(L,"k")||Fi.isEventKey(L,"Space"))}=o;if(h.call(this,t)){t.preventDefault(),t.stopPropagation();const L=mi.getComponent("FullscreenToggle");!1!==document[this.fsApi_.fullscreenEnabled]&&L.prototype.handleClick.call(this,t)}else y.call(this,t)?(t.preventDefault(),t.stopPropagation(),mi.getComponent("MuteToggle").prototype.handleClick.call(this,t)):M.call(this,t)&&(t.preventDefault(),t.stopPropagation(),mi.getComponent("PlayToggle").prototype.handleClick.call(this,t))}canPlayType(t){let o;for(let h=0,y=this.options_.techOrder;h<y.length;h++){const M=y[h];let L=ns.getTech(M);if(L||(L=mi.getComponent(M)),L){if(L.isSupported()&&(o=L.canPlayType(t),o))return o}else k.error(`The "${M}" tech is undefined. Skipped browser support check for that tech.`)}return""}selectSource(t){const o=this.options_.techOrder.map(K=>[K,ns.getTech(K)]).filter(([K,pe])=>pe?pe.isSupported():(k.error(`The "${K}" tech is undefined. Skipped browser support check for that tech.`),!1)),h=function(K,pe,He){let Je;return K.some(St=>pe.some(rn=>{if(Je=He(St,rn),Je)return!0})),Je};let y;const L=([K,pe],He)=>{if(pe.canPlaySource(He,this.options_[K.toLowerCase()]))return{source:He,tech:K}};return y=this.options_.sourceOrder?h(t,o,(K=L,(pe,He)=>K(He,pe))):h(o,t,L),y||!1;var K}handleSrc_(t,o){if(typeof t>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const h=zc(t);if(h.length){if(this.changingSrc_=!0,o||(this.cache_.sources=h),this.updateSourceCaches_(h[0]),jl(this,h[0],(y,M)=>{if(this.middleware_=M,o||(this.cache_.sources=h),this.updateSourceCaches_(y),this.src_(y))return h.length>1?this.handleSrc_(h.slice(1)):(this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),void this.triggerReady());!function Bu(c,t){c.forEach(o=>o.setTech&&o.setTech(t))}(M,this.tech_)}),h.length>1){const y=()=>{this.error(null),this.handleSrc_(h.slice(1),!0)},M=()=>{this.off("error",y)};this.one("error",y),this.one("playing",M),this.resetRetryOnError_=()=>{this.off("error",y),this.off("playing",M)}}}else this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0)}src(t){return this.handleSrc_(t,!1)}src_(t){const o=this.selectSource([t]);return!o||(Or(o.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(o.tech,o.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1))}load(){this.techCall_("load")}reset(){this.paused()?this.doReset_():Ms(this.play().then(()=>this.doReset_()))}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),he(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:t,durationDisplay:o,progressControl:h,remainingTimeDisplay:y}=this.controlBar||{},{seekBar:M}=h||{};t&&t.updateContent(),o&&o.updateContent(),y&&y.updateContent(),M&&(M.update(),M.loadProgressBar&&M.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const t=this.currentSource(),o=[];return 0!==Object.keys(t).length&&o.push(t),this.cache_.sources||o}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")}autoplay(t){if(void 0===t)return this.options_.autoplay||!1;let o;"string"==typeof t&&/(any|play|muted)/.test(t)||!0===t&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_("string"==typeof t?t:"play"),o=!1):this.options_.autoplay=!!t,o=typeof o>"u"?this.options_.autoplay:o,this.tech_&&this.techCall_("setAutoplay",o)}playsinline(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")}loop(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")}poster(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(t){if(void 0===t)return!!this.controls_;this.controls_!==(t=!!t)&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(t){if(void 0===t)return!!this.usingNativeControls_;this.usingNativeControls_!==(t=!!t)&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(t){if(void 0===t)return this.error_||null;if(p("beforeerror").forEach(o=>{const h=o(this,t);me(h)&&!Array.isArray(h)||"string"==typeof h||"number"==typeof h||null===h?t=h:this.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&t&&4===t.code){const o=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],o),void this.one("loadstart",function(){this.off(["click","touchstart"],o)})}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new No(t),this.addClass("vjs-error"),k.error(`(CODE:${this.error_.code} ${No.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),p("error").forEach(o=>o(this,this.error_))}reportUserActivity(t){this.userActivity_=!0}userActive(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(o){o.stopPropagation(),o.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let t,o,h;const y=$n(this,this.reportUserActivity),K=function(Je){y(),this.clearInterval(t)};this.on("mousedown",function(){y(),this.clearInterval(t),t=this.setInterval(y,250)}),this.on("mousemove",function(Je){(Je.screenX!==o||Je.screenY!==h)&&(o=Je.screenX,h=Je.screenY,y())}),this.on("mouseup",K),this.on("mouseleave",K);const pe=this.getChild("controlBar");let He;pe&&!en&&!de&&(pe.on("mouseenter",function(Je){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),pe.on("mouseleave",function(Je){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",y),this.on("keyup",y),this.setInterval(function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(He);const Je=this.options_.inactivityTimeout;Je<=0||(He=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},Je))},250)}playbackRate(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)}defaultPlaybackRate(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const t=this.children(),o=this.getChild("ControlBar"),h=o&&o.currentHeight();t.forEach(y=>{y!==o&&y.el_&&!y.hasClass("vjs-hidden")&&(y.hide(),this.audioOnlyCache_.hiddenChildren.push(y))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(h),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(t=>t.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(t){if("boolean"!=typeof t||t===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=t,t){const o=[];return this.isInPictureInPicture()&&o.push(this.exitPictureInPicture()),this.isFullscreen()&&o.push(this.exitFullscreen()),this.audioPosterMode()&&o.push(this.audioPosterMode(!1)),Promise.all(o).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(t){return"boolean"!=typeof t||t===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=t,t?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(t,o,h){if(this.tech_)return this.tech_.addTextTrack(t,o,h)}addRemoteTextTrack(t,o){if(this.tech_)return this.tech_.addRemoteTextTrack(t,o)}removeRemoteTextTrack(t={}){let{track:o}=t;if(o||(o=t),this.tech_)return this.tech_.removeRemoteTextTrack(o)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(t){if(void 0===t)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),he(this)&&this.trigger("languagechange"))}languages(){return Be(js.prototype.options_.languages,this.languages_)}toJSON(){const t=Be(this.options_),o=t.tracks;t.tracks=[];for(let h=0;h<o.length;h++){let y=o[h];y=Be(y),y.player=void 0,t.tracks[h]=y}return t}createModal(t,o){(o=o||{}).content=t||"";const h=new U(this,o);return this.addChild(h),h.on("dispose",()=>{this.removeChild(h)}),h.open(),h}updateCurrentBreakpoint_(){if(!this.responsive())return;const t=this.currentBreakpoint(),o=this.currentWidth();for(let h=0;h<Vo.length;h++){const y=Vo[h];if(o<=this.breakpoints_[y]){if(t===y)return;t&&this.removeClass(Uo[t]),this.addClass(Uo[y]),this.breakpoint_=y;break}}}removeCurrentBreakpoint_(){const t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)}breakpoints(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=Object.assign({},Vp,t),this.updateCurrentBreakpoint_()),Object.assign(this.breakpoints_)}responsive(t){return void 0===t?this.responsive_:(t=!!t)!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Uo[this.breakpoint_]||""}loadMedia(t,o){if(!t||"object"!=typeof t)return;this.reset(),this.cache_.media=Be(t);const{artist:h,artwork:y,description:M,poster:L,src:K,textTracks:pe,title:He}=this.cache_.media;!y&&L&&(this.cache_.media.artwork=[{src:L,type:od(L)}]),K&&this.src(K),L&&this.poster(L),Array.isArray(pe)&&pe.forEach(Je=>this.addRemoteTextTrack(Je,!1)),this.titleBar&&this.titleBar.update({title:He,description:M||h||""}),this.ready(o)}getMedia(){if(!this.cache_.media){const t=this.poster(),y={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),M=>({kind:M.kind,label:M.label,language:M.language,src:M.src}))};return t&&(y.poster=t,y.artwork=[{src:y.poster,type:od(y.poster)}]),y}return Be(this.cache_.media)}static getTagSettings(t){const o={sources:[],tracks:[]},h=Ie(t),y=h["data-setup"];if(qn(t,"vjs-fill")&&(h.fill=!0),qn(t,"vjs-fluid")&&(h.fluid=!0),null!==y){const[M,L]=ds(y||"{}");M&&k.error(M),Object.assign(h,L)}if(Object.assign(o,h),t.hasChildNodes()){const M=t.childNodes;for(let L=0,K=M.length;L<K;L++){const pe=M[L],He=pe.nodeName.toLowerCase();"source"===He?o.sources.push(Ie(pe)):"track"===He&&o.tracks.push(Ie(pe))}}return o}debug(t){if(void 0===t)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(t){if(void 0===t)return this.cache_.playbackRates;Array.isArray(t)&&t.every(o=>"number"==typeof o)&&(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))}}Hs.names.forEach(function(c){const t=Hs[c];js.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),js.prototype.crossorigin=js.prototype.crossOrigin,js.players={};const na=window.navigator;js.prototype.options_={techOrder:ns.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:na&&(na.languages&&na.languages[0]||na.userLanguage||na.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(c){js.prototype[c]=function(){return this.techGet_(c)}}),Do.forEach(function(c){js.prototype[`handleTech${pi(c)}_`]=function(){return this.trigger(c)}}),mi.registerComponent("Player",js);const Yl="plugin",Pd="activePlugins_",Ku={},dd=c=>Ku.hasOwnProperty(c),Ma=c=>dd(c)?Ku[c]:void 0,ud=(c,t)=>{c[Pd]=c[Pd]||{},c[Pd][t]=!0},Up=(c,t,o)=>{const h=(o?"before":"")+"pluginsetup";c.trigger(h,t),c.trigger(h+":"+t.name,t)},Wf=(c,t)=>(t.prototype.name=c,function(...o){Up(this,{name:c,plugin:t,instance:null},!0);const h=new t(this,...o);return this[c]=()=>h,Up(this,h.getEventHash()),h});let oc=(()=>{class c{constructor(o){if(this.constructor===c)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=o,this.log||(this.log=this.player.log.createLogger(this.name)),ji(this),delete this.trigger,ss(this,this.constructor.defaultState),ud(o,this.name),this.dispose=this.dispose.bind(this),o.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(o={}){return o.name=this.name,o.plugin=this.constructor,o.instance=this,o}trigger(o,h={}){return lt(this.eventBusEl_,o,this.getEventHash(h))}handleStateChanged(o){}dispose(){const{name:o,player:h}=this;this.trigger("dispose"),this.off(),h.off("dispose",this.dispose),h[Pd][o]=!1,this.player=this.state=null,h[o]=Wf(o,Ku[o])}static isBasic(o){const h="string"==typeof o?Ma(o):o;return"function"==typeof h&&!c.prototype.isPrototypeOf(h.prototype)}static registerPlugin(o,h){if("string"!=typeof o)throw new Error(`Illegal plugin name, "${o}", must be a string, was ${typeof o}.`);if(dd(o))k.warn(`A plugin named "${o}" already exists. You may want to avoid re-registering plugins!`);else if(js.prototype.hasOwnProperty(o))throw new Error(`Illegal plugin name, "${o}", cannot share a name with an existing player method!`);if("function"!=typeof h)throw new Error(`Illegal plugin for "${o}", must be a function, was ${typeof h}.`);return Ku[o]=h,o!==Yl&&(js.prototype[o]=c.isBasic(h)?function(c,t){const o=function(){Up(this,{name:c,plugin:t,instance:null},!0);const h=t.apply(this,arguments);return ud(this,c),Up(this,{name:c,plugin:t,instance:h}),h};return Object.keys(t).forEach(function(h){o[h]=t[h]}),o}(o,h):Wf(o,h)),h}static deregisterPlugin(o){if(o===Yl)throw new Error("Cannot de-register base plugin.");dd(o)&&(delete Ku[o],delete js.prototype[o])}static getPlugins(o=Object.keys(Ku)){let h;return o.forEach(y=>{const M=Ma(y);M&&(h=h||{},h[y]=M)}),h}static getPluginVersion(o){const h=Ma(o);return h&&h.VERSION||""}}return c.getPlugin=Ma,c.BASE_PLUGIN_NAME=Yl,c})();function Xl(c,t,o,h){return function Ls(c,t){let o=!1;return function(...h){return o||k.warn(c),o=!0,t.apply(this,h)}}(`${t} is deprecated and will be removed in ${c}.0; please use ${o} instead.`,h)}oc.registerPlugin(Yl,oc),js.prototype.usingPlugin=function(c){return!!this[Pd]&&!0===this[Pd][c]},js.prototype.hasPlugin=function(c){return!!dd(c)};const ac=c=>0===c.indexOf("#")?c.slice(1):c;function ui(c,t,o){let h=ui.getPlayer(c);if(h)return t&&k.warn(`Player "${c}" is already initialised. Options will not be applied.`),o&&h.ready(o),h;const y="string"==typeof c?Gi("#"+ac(c)):c;if(!Lt(y))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!y.ownerDocument.defaultView||!y.ownerDocument.body.contains(y))&&k.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(y.parentNode&&y.parentNode.hasAttribute("data-vjs-player")?y.parentNode:y).cloneNode(!0)),p("beforesetup").forEach(L=>{const K=L(y,Be(t));me(K)&&!Array.isArray(K)?t=Be(t,K):k.error("please return an object in beforesetup hooks")});const M=mi.getComponent("Player");return h=new M(y,t,o),p("setup").forEach(L=>L(h)),h}if(ui.hooks_=E,ui.hooks=p,ui.hook=function(c,t){p(c,t)},ui.hookOnce=function(c,t){p(c,[].concat(t).map(o=>{const h=(...y)=>(T(c,h),o(...y));return h}))},ui.removeHook=T,!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&Ft()){let c=Gi(".vjs-styles-defaults");if(!c){c=ft("vjs-styles-defaults");const t=Gi("head");t&&t.insertBefore(c,t.firstChild),wt(c,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}yt(1,ui),ui.VERSION="8.3.0",ui.options=js.prototype.options_,ui.getPlayers=()=>js.players,ui.getPlayer=c=>{const t=js.players;let o;if("string"==typeof c){const h=ac(c),y=t[h];if(y)return y;o=Gi("#"+h)}else o=c;if(Lt(o)){const{player:h,playerId:y}=o;if(h||t[y])return h||t[y]}},ui.getAllPlayers=()=>Object.keys(js.players).map(c=>js.players[c]).filter(Boolean),ui.players=js.players,ui.getComponent=mi.getComponent,ui.registerComponent=(c,t)=>{ns.isTech(t)&&k.warn(`The ${c} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),mi.registerComponent.call(mi,c,t)},ui.getTech=ns.getTech,ui.registerTech=ns.registerTech,ui.use=function vc(c,t){Md[c]=Md[c]||[],Md[c].push(t)},Object.defineProperty(ui,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(ui.middleware,"TERMINATOR",{value:yh,writeable:!1,enumerable:!0}),ui.browser=We,ui.obj=Le,ui.mergeOptions=Xl(9,"videojs.mergeOptions","videojs.obj.merge",Be),ui.defineLazyProperty=Xl(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Ve),ui.bind=Xl(9,"videojs.bind","native Function.prototype.bind",$n),ui.registerPlugin=oc.registerPlugin,ui.deregisterPlugin=oc.deregisterPlugin,ui.plugin=(c,t)=>(k.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),oc.registerPlugin(c,t)),ui.getPlugins=oc.getPlugins,ui.getPlugin=oc.getPlugin,ui.getPluginVersion=oc.getPluginVersion,ui.addLanguage=function(c,t){return c=(""+c).toLowerCase(),(ui.options.languages=Be(ui.options.languages,{[c]:t}))[c]},ui.log=k,ui.createLogger=A,ui.time=Vc,ui.createTimeRange=Xl(9,"videojs.createTimeRange","videojs.time.createTimeRanges",io),ui.createTimeRanges=Xl(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",io),ui.formatTime=Xl(9,"videojs.formatTime","videojs.time.formatTime",Pa),ui.setFormatTime=Xl(9,"videojs.setFormatTime","videojs.time.setFormatTime",Bc),ui.resetFormatTime=Xl(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",Zo),ui.parseUrl=Xl(9,"videojs.parseUrl","videojs.url.parseUrl",zs),ui.isCrossOrigin=Xl(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",Bs),ui.EventTarget=xt,ui.any=Rn,ui.on=pt,ui.one=ln,ui.off=Ut,ui.trigger=lt,ui.xhr=la,ui.TextTrack=Fo,ui.AudioTrack=rd,ui.VideoTrack=Ml,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(c=>{ui[c]=function(){return k.warn(`videojs.${c}() is deprecated; use videojs.dom.${c}() instead`),On[c].apply(null,arguments)}}),ui.computedStyle=Xl(9,"videojs.computedStyle","videojs.dom.computedStyle",Dn),ui.dom=On,ui.fn=sn,ui.num=Ir,ui.str=bo,ui.url=or,fs(function(c,t){c.exports=function(o){function h(St){return St&&"object"==typeof St&&"default"in St?St:{default:St}}var y=h(o);class M{constructor(rn){let Bt=this;return Bt.id=rn.id,Bt.label=Bt.id,Bt.width=rn.width,Bt.height=rn.height,Bt.bitrate=rn.bandwidth,Bt.frameRate=rn.frameRate,Bt.enabled_=rn.enabled,Object.defineProperty(Bt,"enabled",{get:()=>Bt.enabled_(),set(Vn){Bt.enabled_(Vn)}}),Bt}}class L extends y.default.EventTarget{constructor(){super();let rn=this;return rn.levels_=[],rn.selectedIndex_=-1,Object.defineProperty(rn,"selectedIndex",{get:()=>rn.selectedIndex_}),Object.defineProperty(rn,"length",{get:()=>rn.levels_.length}),rn}addQualityLevel(rn){let Bt=this.getQualityLevelById(rn.id);if(Bt)return Bt;const Vn=this.levels_.length;return Bt=new M(rn),""+Vn in this||Object.defineProperty(this,Vn,{get(){return this.levels_[Vn]}}),this.levels_.push(Bt),this.trigger({qualityLevel:Bt,type:"addqualitylevel"}),Bt}removeQualityLevel(rn){let Bt=null;for(let Vn=0,Fn=this.length;Vn<Fn;Vn++)if(this[Vn]===rn){Bt=this.levels_.splice(Vn,1)[0],this.selectedIndex_===Vn?this.selectedIndex_=-1:this.selectedIndex_>Vn&&this.selectedIndex_--;break}return Bt&&this.trigger({qualityLevel:rn,type:"removequalitylevel"}),Bt}getQualityLevelById(rn){for(let Bt=0,Vn=this.length;Bt<Vn;Bt++){const Fn=this[Bt];if(Fn.id===rn)return Fn}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}L.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const St in L.prototype.allowedEvents_)L.prototype["on"+St]=null;var K="3.0.0";const Je=function(St){return function(St,rn){const Bt=St.qualityLevels,Vn=new L,Fn=function(){Vn.dispose(),St.qualityLevels=Bt,St.off("dispose",Fn)};return St.on("dispose",Fn),St.qualityLevels=()=>Vn,St.qualityLevels.VERSION=K,Vn}(this,y.default.mergeOptions({},St))};return(y.default.registerPlugin||y.default.plugin)("qualityLevels",Je),Je.VERSION=K,Je}(ui)});var wr=fs(function(c,t){var h,y,M,L,K;h=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,y=/^(?=([^\/?#]*))\1([^]*)$/,M=/(?:\/|^)\.(?=\/)/g,L=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,c.exports=K={buildAbsoluteURL:function(pe,He,Je){if(Je=Je||{},pe=pe.trim(),!(He=He.trim())){if(!Je.alwaysNormalize)return pe;var St=K.parseURL(pe);if(!St)throw new Error("Error trying to parse base URL.");return St.path=K.normalizePath(St.path),K.buildURLFromParts(St)}var rn=K.parseURL(He);if(!rn)throw new Error("Error trying to parse relative URL.");if(rn.scheme)return Je.alwaysNormalize?(rn.path=K.normalizePath(rn.path),K.buildURLFromParts(rn)):He;var Bt=K.parseURL(pe);if(!Bt)throw new Error("Error trying to parse base URL.");if(!Bt.netLoc&&Bt.path&&"/"!==Bt.path[0]){var Vn=y.exec(Bt.path);Bt.netLoc=Vn[1],Bt.path=Vn[2]}Bt.netLoc&&!Bt.path&&(Bt.path="/");var Fn={scheme:Bt.scheme,netLoc:rn.netLoc,path:null,params:rn.params,query:rn.query,fragment:rn.fragment};if(!rn.netLoc&&(Fn.netLoc=Bt.netLoc,"/"!==rn.path[0]))if(rn.path){var Bn=Bt.path,Gn=Bn.substring(0,Bn.lastIndexOf("/")+1)+rn.path;Fn.path=K.normalizePath(Gn)}else Fn.path=Bt.path,rn.params||(Fn.params=Bt.params,rn.query||(Fn.query=Bt.query));return null===Fn.path&&(Fn.path=Je.alwaysNormalize?K.normalizePath(rn.path):rn.path),K.buildURLFromParts(Fn)},parseURL:function(pe){var He=h.exec(pe);return He?{scheme:He[1]||"",netLoc:He[2]||"",path:He[3]||"",params:He[4]||"",query:He[5]||"",fragment:He[6]||""}:null},normalizePath:function(pe){for(pe=pe.split("").reverse().join("").replace(M,"");pe.length!==(pe=pe.replace(L,"")).length;);return pe.split("").reverse().join("")},buildURLFromParts:function(pe){return pe.scheme+pe.netLoc+pe.path+pe.params+pe.query+pe.fragment}}}),Th="http://example.com",mo=function(){function c(){this.listeners={}}var t=c.prototype;return t.on=function(h,y){this.listeners[h]||(this.listeners[h]=[]),this.listeners[h].push(y)},t.off=function(h,y){if(!this.listeners[h])return!1;var M=this.listeners[h].indexOf(y);return this.listeners[h]=this.listeners[h].slice(0),this.listeners[h].splice(M,1),M>-1},t.trigger=function(h){var y=this.listeners[h];if(y)if(2===arguments.length)for(var M=y.length,L=0;L<M;++L)y[L].call(this,arguments[1]);else for(var K=Array.prototype.slice.call(arguments,1),pe=y.length,He=0;He<pe;++He)y[He].apply(this,K)},t.dispose=function(){this.listeners={}},t.pipe=function(h){this.on("data",function(y){h.push(y)})},c}();function Kc(c){for(var t=function(t){return window.atob?window.atob(t):Buffer.from(t,"base64").toString("binary")}(c),o=new Uint8Array(t.length),h=0;h<t.length;h++)o[h]=t.charCodeAt(h);return o}class Ql extends mo{constructor(){super(),this.buffer=""}push(t){let o;for(this.buffer+=t,o=this.buffer.indexOf("\n");o>-1;o=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,o)),this.buffer=this.buffer.substring(o+1)}}const Ig=function(c){const t=/([0-9.]*)?@?([0-9.]*)?/.exec(c||""),o={};return t[1]&&(o.length=parseInt(t[1],10)),t[2]&&(o.offset=parseInt(t[2],10)),o},kl=function(c){const t={};if(!c)return t;const o=c.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'));let y,h=o.length;for(;h--;)""!==o[h]&&(y=/([^=]*)=(.*)/.exec(o[h]).slice(1),y[0]=y[0].replace(/^\s+|\s+$/g,""),y[1]=y[1].replace(/^\s+|\s+$/g,""),y[1]=y[1].replace(/^['"](.*)['"]$/g,"$1"),t[y[0]]=y[1]);return t};class fd extends mo{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(t){let o,h;0!==(t=t.trim()).length&&("#"===t[0]?this.tagMappers.reduce((M,L)=>{const K=L(t);return K===t?M:M.concat([K])},[t]).forEach(M=>{for(let L=0;L<this.customParsers.length;L++)if(this.customParsers[L].call(this,M))return;if(0===M.indexOf("#EXT"))if(M=M.replace("\r",""),o=/^#EXTM3U/.exec(M),o)this.trigger("data",{type:"tag",tagType:"m3u"});else{if(o=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(M),o)return h={type:"tag",tagType:"inf"},o[1]&&(h.duration=parseFloat(o[1])),o[2]&&(h.title=o[2]),void this.trigger("data",h);if(o=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(M),o)return h={type:"tag",tagType:"targetduration"},o[1]&&(h.duration=parseInt(o[1],10)),void this.trigger("data",h);if(o=/^#EXT-X-VERSION:([0-9.]*)?/.exec(M),o)return h={type:"tag",tagType:"version"},o[1]&&(h.version=parseInt(o[1],10)),void this.trigger("data",h);if(o=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(M),o)return h={type:"tag",tagType:"media-sequence"},o[1]&&(h.number=parseInt(o[1],10)),void this.trigger("data",h);if(o=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(M),o)return h={type:"tag",tagType:"discontinuity-sequence"},o[1]&&(h.number=parseInt(o[1],10)),void this.trigger("data",h);if(o=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(M),o)return h={type:"tag",tagType:"playlist-type"},o[1]&&(h.playlistType=o[1]),void this.trigger("data",h);if(o=/^#EXT-X-BYTERANGE:(.*)?$/.exec(M),o)return h=Us(Ig(o[1]),{type:"tag",tagType:"byterange"}),void this.trigger("data",h);if(o=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(M),o)return h={type:"tag",tagType:"allow-cache"},o[1]&&(h.allowed=!/NO/.test(o[1])),void this.trigger("data",h);if(o=/^#EXT-X-MAP:(.*)$/.exec(M),o){if(h={type:"tag",tagType:"map"},o[1]){const L=kl(o[1]);L.URI&&(h.uri=L.URI),L.BYTERANGE&&(h.byterange=Ig(L.BYTERANGE))}this.trigger("data",h)}else if(o=/^#EXT-X-STREAM-INF:(.*)$/.exec(M),o){if(h={type:"tag",tagType:"stream-inf"},o[1]){if(h.attributes=kl(o[1]),h.attributes.RESOLUTION){const L=h.attributes.RESOLUTION.split("x"),K={};L[0]&&(K.width=parseInt(L[0],10)),L[1]&&(K.height=parseInt(L[1],10)),h.attributes.RESOLUTION=K}h.attributes.BANDWIDTH&&(h.attributes.BANDWIDTH=parseInt(h.attributes.BANDWIDTH,10)),h.attributes["FRAME-RATE"]&&(h.attributes["FRAME-RATE"]=parseFloat(h.attributes["FRAME-RATE"])),h.attributes["PROGRAM-ID"]&&(h.attributes["PROGRAM-ID"]=parseInt(h.attributes["PROGRAM-ID"],10))}this.trigger("data",h)}else{if(o=/^#EXT-X-MEDIA:(.*)$/.exec(M),o)return h={type:"tag",tagType:"media"},o[1]&&(h.attributes=kl(o[1])),void this.trigger("data",h);if(o=/^#EXT-X-ENDLIST/.exec(M),o)this.trigger("data",{type:"tag",tagType:"endlist"});else{if(o=/^#EXT-X-DISCONTINUITY/.exec(M),!o)return o=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(M),o?(h={type:"tag",tagType:"program-date-time"},o[1]&&(h.dateTimeString=o[1],h.dateTimeObject=new Date(o[1])),void this.trigger("data",h)):(o=/^#EXT-X-KEY:(.*)$/.exec(M),o?(h={type:"tag",tagType:"key"},o[1]&&(h.attributes=kl(o[1]),h.attributes.IV&&("0x"===h.attributes.IV.substring(0,2).toLowerCase()&&(h.attributes.IV=h.attributes.IV.substring(2)),h.attributes.IV=h.attributes.IV.match(/.{8}/g),h.attributes.IV[0]=parseInt(h.attributes.IV[0],16),h.attributes.IV[1]=parseInt(h.attributes.IV[1],16),h.attributes.IV[2]=parseInt(h.attributes.IV[2],16),h.attributes.IV[3]=parseInt(h.attributes.IV[3],16),h.attributes.IV=new Uint32Array(h.attributes.IV))),void this.trigger("data",h)):(o=/^#EXT-X-START:(.*)$/.exec(M),o?(h={type:"tag",tagType:"start"},o[1]&&(h.attributes=kl(o[1]),h.attributes["TIME-OFFSET"]=parseFloat(h.attributes["TIME-OFFSET"]),h.attributes.PRECISE=/YES/.test(h.attributes.PRECISE)),void this.trigger("data",h)):(o=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(M),o?(h={type:"tag",tagType:"cue-out-cont"},h.data=o[1]?o[1]:"",void this.trigger("data",h)):(o=/^#EXT-X-CUE-OUT:(.*)?$/.exec(M),o?(h={type:"tag",tagType:"cue-out"},h.data=o[1]?o[1]:"",void this.trigger("data",h)):(o=/^#EXT-X-CUE-IN:(.*)?$/.exec(M),o?(h={type:"tag",tagType:"cue-in"},h.data=o[1]?o[1]:"",void this.trigger("data",h)):(o=/^#EXT-X-SKIP:(.*)$/.exec(M),o&&o[1]?(h={type:"tag",tagType:"skip"},h.attributes=kl(o[1]),h.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(h.attributes["SKIPPED-SEGMENTS"]=parseInt(h.attributes["SKIPPED-SEGMENTS"],10)),h.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(h.attributes["RECENTLY-REMOVED-DATERANGES"]=h.attributes["RECENTLY-REMOVED-DATERANGES"].split("\t")),void this.trigger("data",h)):(o=/^#EXT-X-PART:(.*)$/.exec(M),o&&o[1]?(h={type:"tag",tagType:"part"},h.attributes=kl(o[1]),["DURATION"].forEach(function(L){h.attributes.hasOwnProperty(L)&&(h.attributes[L]=parseFloat(h.attributes[L]))}),["INDEPENDENT","GAP"].forEach(function(L){h.attributes.hasOwnProperty(L)&&(h.attributes[L]=/YES/.test(h.attributes[L]))}),h.attributes.hasOwnProperty("BYTERANGE")&&(h.attributes.byterange=Ig(h.attributes.BYTERANGE)),void this.trigger("data",h)):(o=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(M),o&&o[1]?(h={type:"tag",tagType:"server-control"},h.attributes=kl(o[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(L){h.attributes.hasOwnProperty(L)&&(h.attributes[L]=parseFloat(h.attributes[L]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(L){h.attributes.hasOwnProperty(L)&&(h.attributes[L]=/YES/.test(h.attributes[L]))}),void this.trigger("data",h)):(o=/^#EXT-X-PART-INF:(.*)$/.exec(M),o&&o[1]?(h={type:"tag",tagType:"part-inf"},h.attributes=kl(o[1]),["PART-TARGET"].forEach(function(L){h.attributes.hasOwnProperty(L)&&(h.attributes[L]=parseFloat(h.attributes[L]))}),void this.trigger("data",h)):(o=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(M),o&&o[1]?(h={type:"tag",tagType:"preload-hint"},h.attributes=kl(o[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(L){if(h.attributes.hasOwnProperty(L)){h.attributes[L]=parseInt(h.attributes[L],10);const K="BYTERANGE-LENGTH"===L?"length":"offset";h.attributes.byterange=h.attributes.byterange||{},h.attributes.byterange[K]=h.attributes[L],delete h.attributes[L]}}),void this.trigger("data",h)):(o=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(M),o&&o[1]?(h={type:"tag",tagType:"rendition-report"},h.attributes=kl(o[1]),["LAST-MSN","LAST-PART"].forEach(function(L){h.attributes.hasOwnProperty(L)&&(h.attributes[L]=parseInt(h.attributes[L],10))}),void this.trigger("data",h)):void this.trigger("data",{type:"tag",data:M.slice(4)}))))))))))));this.trigger("data",{type:"tag",tagType:"discontinuity"})}}}else this.trigger("data",{type:"comment",text:M.slice(1)})}):this.trigger("data",{type:"uri",uri:t}))}addParser({expression:t,customType:o,dataParser:h,segment:y}){"function"!=typeof h&&(h=M=>M),this.customParsers.push(M=>{if(t.exec(M))return this.trigger("data",{type:"custom",data:h(M),customType:o,segment:y}),!0})}addTagMapper({expression:t,map:o}){this.tagMappers.push(y=>t.test(y)?o(y):y)}}const fi=function(c){const t={};return Object.keys(c).forEach(function(o){t[(c=>c.toLowerCase().replace(/-(\w)/g,t=>t[1].toUpperCase()))(o)]=c[o]}),t},Cs=function(c){const{serverControl:t,targetDuration:o,partTargetDuration:h}=c;if(!t)return;const y="#EXT-X-SERVER-CONTROL",M="holdBack",L="partHoldBack",K=o&&3*o,pe=h&&2*h;o&&!t.hasOwnProperty(M)&&(t[M]=K,this.trigger("info",{message:`${y} defaulting HOLD-BACK to targetDuration * 3 (${K}).`})),K&&t[M]<K&&(this.trigger("warn",{message:`${y} clamping HOLD-BACK (${t[M]}) to targetDuration * 3 (${K})`}),t[M]=K),h&&!t.hasOwnProperty(L)&&(t[L]=3*h,this.trigger("info",{message:`${y} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${t[L]}).`})),h&&t[L]<pe&&(this.trigger("warn",{message:`${y} clamping PART-HOLD-BACK (${t[L]}) to partTargetDuration * 2 (${pe}).`}),t[L]=pe)};class Kf extends mo{constructor(){super(),this.lineStream=new Ql,this.parseStream=new fd,this.lineStream.pipe(this.parseStream);const t=this,o=[];let y,M,h={},L=!1;const K=function(){},pe={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};let Je=0;this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};let St=0,rn=0;this.on("end",()=>{h.uri||!h.parts&&!h.preloadHints||(!h.map&&y&&(h.map=y),!h.key&&M&&(h.key=M),!h.timeline&&"number"==typeof Je&&(h.timeline=Je),this.manifest.preloadSegment=h)}),this.parseStream.on("data",function(Bt){let Vn,Fn;({tag(){({version(){Bt.version&&(this.manifest.version=Bt.version)},"allow-cache"(){this.manifest.allowCache=Bt.allowed,"allowed"in Bt||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const Bn={};"length"in Bt&&(h.byterange=Bn,Bn.length=Bt.length,"offset"in Bt||(Bt.offset=St)),"offset"in Bt&&(h.byterange=Bn,Bn.offset=Bt.offset),St=Bn.offset+Bn.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),Bt.duration>0&&(h.duration=Bt.duration),0===Bt.duration&&(h.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key(){if(Bt.attributes)if("NONE"!==Bt.attributes.METHOD){if(Bt.attributes.URI)return"com.apple.streamingkeydelivery"===Bt.attributes.KEYFORMAT?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:Bt.attributes})):"com.microsoft.playready"===Bt.attributes.KEYFORMAT?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:Bt.attributes.URI})):"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===Bt.attributes.KEYFORMAT?-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(Bt.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===Bt.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==Bt.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):Bt.attributes.KEYID&&"0x"===Bt.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:Bt.attributes.KEYFORMAT,keyId:Bt.attributes.KEYID.substring(2)},pssh:Kc(Bt.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"})):(Bt.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),M={method:Bt.attributes.METHOD||"AES-128",uri:Bt.attributes.URI},void(typeof Bt.attributes.IV<"u"&&(M.iv=Bt.attributes.IV)));this.trigger("warn",{message:"ignoring key declaration without URI"})}else M=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence"(){isFinite(Bt.number)?this.manifest.mediaSequence=Bt.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+Bt.number})},"discontinuity-sequence"(){isFinite(Bt.number)?(this.manifest.discontinuitySequence=Bt.number,Je=Bt.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+Bt.number})},"playlist-type"(){/VOD|EVENT/.test(Bt.playlistType)?this.manifest.playlistType=Bt.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+Bt.playlist})},map(){y={},Bt.uri&&(y.uri=Bt.uri),Bt.byterange&&(y.byterange=Bt.byterange),M&&(y.key=M)},"stream-inf"(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||pe,Bt.attributes?(h.attributes||(h.attributes={}),Us(h.attributes,Bt.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||pe,!(Bt.attributes&&Bt.attributes.TYPE&&Bt.attributes["GROUP-ID"]&&Bt.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});const Bn=this.manifest.mediaGroups[Bt.attributes.TYPE];Bn[Bt.attributes["GROUP-ID"]]=Bn[Bt.attributes["GROUP-ID"]]||{},Vn=Bn[Bt.attributes["GROUP-ID"]],Fn={default:/yes/i.test(Bt.attributes.DEFAULT)},Fn.autoselect=!!Fn.default||/yes/i.test(Bt.attributes.AUTOSELECT),Bt.attributes.LANGUAGE&&(Fn.language=Bt.attributes.LANGUAGE),Bt.attributes.URI&&(Fn.uri=Bt.attributes.URI),Bt.attributes["INSTREAM-ID"]&&(Fn.instreamId=Bt.attributes["INSTREAM-ID"]),Bt.attributes.CHARACTERISTICS&&(Fn.characteristics=Bt.attributes.CHARACTERISTICS),Bt.attributes.FORCED&&(Fn.forced=/yes/i.test(Bt.attributes.FORCED)),Vn[Bt.attributes.NAME]=Fn},discontinuity(){Je+=1,h.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=Bt.dateTimeString,this.manifest.dateTimeObject=Bt.dateTimeObject),h.dateTimeString=Bt.dateTimeString,h.dateTimeObject=Bt.dateTimeObject},targetduration(){!isFinite(Bt.duration)||Bt.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+Bt.duration}):(this.manifest.targetDuration=Bt.duration,Cs.call(this,this.manifest))},start(){Bt.attributes&&!isNaN(Bt.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:Bt.attributes["TIME-OFFSET"],precise:Bt.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out"(){h.cueOut=Bt.data},"cue-out-cont"(){h.cueOutCont=Bt.data},"cue-in"(){h.cueIn=Bt.data},skip(){this.manifest.skip=fi(Bt.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",Bt.attributes,["SKIPPED-SEGMENTS"])},part(){L=!0;const Bn=this.manifest.segments.length,Gn=fi(Bt.attributes);h.parts=h.parts||[],h.parts.push(Gn),Gn.byterange&&(Gn.byterange.hasOwnProperty("offset")||(Gn.byterange.offset=rn),rn=Gn.byterange.offset+Gn.byterange.length),this.warnOnMissingAttributes_(`#EXT-X-PART #${h.parts.length-1} for segment #${Bn}`,Bt.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((Bi,wi)=>{Bi.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${wi} lacks required attribute(s): LAST-PART`})})},"server-control"(){const Bn=this.manifest.serverControl=fi(Bt.attributes);Bn.hasOwnProperty("canBlockReload")||(Bn.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Cs.call(this,this.manifest),Bn.canSkipDateranges&&!Bn.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const Bn=this.manifest.segments.length,Gn=fi(Bt.attributes),si=Gn.type&&"PART"===Gn.type;h.preloadHints=h.preloadHints||[],h.preloadHints.push(Gn),Gn.byterange&&(Gn.byterange.hasOwnProperty("offset")||(Gn.byterange.offset=si?rn:0,si&&(rn=Gn.byterange.offset+Gn.byterange.length)));const Bi=h.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${Bi} for segment #${Bn}`,Bt.attributes,["TYPE","URI"]),Gn.type)for(let wi=0;wi<h.preloadHints.length-1;wi++){const Jn=h.preloadHints[wi];Jn.type&&Jn.type===Gn.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${Bi} for segment #${Bn} has the same TYPE ${Gn.type} as preload hint #${wi}`})}},"rendition-report"(){const Bn=fi(Bt.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(Bn);const Gn=this.manifest.renditionReports.length-1,si=["LAST-MSN","URI"];L&&si.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${Gn}`,Bt.attributes,si)},"part-inf"(){this.manifest.partInf=fi(Bt.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",Bt.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Cs.call(this,this.manifest)}}[Bt.tagType]||K).call(t)},uri(){h.uri=Bt.uri,o.push(h),this.manifest.targetDuration&&!("duration"in h)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),h.duration=this.manifest.targetDuration),M&&(h.key=M),h.timeline=Je,y&&(h.map=y),rn=0,h={}},comment(){},custom(){Bt.segment?(h.custom=h.custom||{},h.custom[Bt.customType]=Bt.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[Bt.customType]=Bt.data)}})[Bt.type].call(t)})}warnOnMissingAttributes_(t,o,h){const y=[];h.forEach(function(M){o.hasOwnProperty(M)||y.push(M)}),y.length&&this.trigger("warn",{message:`${t} lacks required attribute(s): ${y.join(", ")}`})}push(t){this.lineStream.push(t)}end(){this.lineStream.push("\n"),this.trigger("end")}addParser(t){this.parseStream.addParser(t)}addTagMapper(t){this.parseStream.addTagMapper(t)}}var c,lc={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Io=["video","audio","text"],Yc=["Video","Audio","Text"],xl=function(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(o,h,y){return"avc1."+("00"+Number(h).toString(16)).slice(-2)+"00"+("00"+Number(y).toString(16)).slice(-2)})},ia=function(t){void 0===t&&(t="");var o=t.split(","),h=[];return o.forEach(function(y){var M;y=y.trim(),Io.forEach(function(L){var K=lc[L].exec(y.toLowerCase());if(K&&!(K.length<=1)){M=L;var pe=y.substring(0,K[1].length),He=y.replace(pe,"");h.push({type:pe,details:He,mediaType:L})}}),M||h.push({type:y,details:"",mediaType:"unknown"})}),h},Ol=function(t){return void 0===t&&(t=""),lc.audio.test(t.trim().toLowerCase())},Xc=function(t){if(t&&"string"==typeof t){var o=t.toLowerCase().split(",").map(function(M){return xl(M.trim())}),h="video";1===o.length&&Ol(o[0])?h="audio":1===o.length&&function(t){return void 0===t&&(t=""),lc.text.test(t.trim().toLowerCase())}(o[0])&&(h="application");var y="mp4";return o.every(function(M){return lc.mp4.test(M)})?y="mp4":o.every(function(M){return lc.webm.test(M)})?y="webm":o.every(function(M){return lc.ogg.test(M)})&&(y="ogg"),h+"/"+y+';codecs="'+t+'"'}},hf=function(t){return void 0===t&&(t=""),window.MediaSource&&window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported(Xc(t))||!1},ra=function(t){return void 0===t&&(t=""),t.toLowerCase().split(",").every(function(o){o=o.trim();for(var h=0;h<Yc.length;h++)if(lc["muxer"+Yc[h]].test(o))return!0;return!1})},wc="mp4a.40.2",el=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Rd=/^application\/dash\+xml/i,ff=function(t){return el.test(t)?"hls":Rd.test(t)?"dash":"application/vnd.videojs.vhs+json"===t?"vhs-json":null},zp=function(t){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},Kr=function(t){return t instanceof Uint8Array?t:(!Array.isArray(t)&&!function(t){return zp(t)}(t)&&!(t instanceof ArrayBuffer)&&(t="number"!=typeof t||"number"==typeof t&&t!=t?0:[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))},Va=window.BigInt||Number,Xu=[Va("0x1"),Va("0x100"),Va("0x10000"),Va("0x1000000"),Va("0x100000000"),Va("0x10000000000"),Va("0x1000000000000"),Va("0x100000000000000"),Va("0x10000000000000000")];c=new Uint16Array([65484]),new Uint8Array(c.buffer,c.byteOffset,c.byteLength);var U0=function(t,o){var h=void 0===o?{}:o,y=h.signed,M=void 0!==y&&y,L=h.le,K=void 0!==L&&L;t=Kr(t);var pe=K?"reduce":"reduceRight",Je=(t[pe]?t[pe]:Array.prototype[pe]).call(t,function(rn,Bt,Vn){var Fn=K?Vn:Math.abs(Vn+1-t.length);return rn+Va(Bt)*Xu[Fn]},Va(0));if(M){var St=Xu[t.length]/Va(2)-Va(1);(Je=Va(Je))>St&&(Je-=St,Je-=St,Je-=Va(2))}return Number(Je)},Ag=function(t,o){var y=(void 0===o?{}:o).le,M=void 0!==y&&y;("bigint"!=typeof t&&"number"!=typeof t||"number"==typeof t&&t!=t)&&(t=0);for(var L=function(t){return Math.ceil(function(t){return t.toString(2).length}(t)/8)}(t=Va(t)),K=new Uint8Array(new ArrayBuffer(L)),pe=0;pe<L;pe++){var He=M?pe:Math.abs(pe+1-K.length);K[He]=Number(t/Xu[pe]&Va(255)),t<0&&(K[He]=Math.abs(~K[He]),K[He]-=0===pe?1:2)}return K},Ua=function(t,o){if("string"!=typeof t&&t&&"function"==typeof t.toString&&(t=t.toString()),"string"!=typeof t)return new Uint8Array;o||(t=unescape(encodeURIComponent(t)));for(var h=new Uint8Array(t.length),y=0;y<t.length;y++)h[y]=t.charCodeAt(y);return h},cs=function(t,o,h){var y=void 0===h?{}:h,M=y.offset,L=void 0===M?0:M,K=y.mask,pe=void 0===K?[]:K;return t=Kr(t),(o=Kr(o)).length&&t.length-L>=o.length&&(o.every?o.every:Array.prototype.every).call(o,function(Je,St){return Je===(pe[St]?pe[St]&t[L+St]:t[L+St])})},Ld="http://example.com",Hp=function(t,o){if(/^[a-z]+:/i.test(o))return o;/^data:/.test(t)&&(t=window.location&&window.location.href||"");var h="function"==typeof window.URL,y=/^\/\//.test(t),M=!window.location&&!/\/\//i.test(t);if(h?t=new window.URL(t,window.location||Ld):/\/\//i.test(t)||(t=wr.buildAbsoluteURL(window.location&&window.location.href||"",t)),h){var L=new URL(o,t);return M?L.href.slice(18):y?L.href.slice(L.protocol.length):L.href}return wr.buildAbsoluteURL(t,o)};function va(c){for(var t=function(t){return window.atob?window.atob(t):Buffer.from(t,"base64").toString("binary")}(c),o=new Uint8Array(t.length),h=0;h<t.length;h++)o[h]=t.charCodeAt(h);return o}function Nr(c,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(c):c}var _u=Nr({HTML:"text/html",isHTML:function(c){return c===_u.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Nd=Nr({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(c){return c===Nd.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}),vu={assign:function Mo(c,t){if(null===c||"object"!=typeof c)throw new TypeError("target is not an object");for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(c[o]=t[o]);return c},find:function gu(c,t,o){if(void 0===o&&(o=Array.prototype),c&&"function"==typeof o.find)return o.find.call(c,t);for(var h=0;h<c.length;h++)if(Object.prototype.hasOwnProperty.call(c,h)){var y=c[h];if(t.call(void 0,y,h,c))return y}},freeze:Nr,MIME_TYPE:_u,NAMESPACE:Nd},ql=vu.find,Ih=vu.NAMESPACE;function mf(c){return""!==c}function Om(c,t){return c.hasOwnProperty(t)||(c[t]=!0),c}function Xf(c){if(!c)return[];var t=function km(c){return c?c.split(/[\t\n\f\r ]+/).filter(mf):[]}(c);return Object.keys(t.reduce(Om,{}))}function Bd(c,t){for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o])}function Pl(c,t){var o=c.prototype;if(!(o instanceof t)){let h=function(){};h.prototype=t.prototype,h=new h,Bd(o,h),c.prototype=o=h}o.constructor!=c&&("function"!=typeof c&&console.error("unknown Class:"+c),o.constructor=c)}var tl={},Aa=tl.ELEMENT_NODE=1,Cc=tl.ATTRIBUTE_NODE=2,Vd=tl.TEXT_NODE=3,gf=tl.CDATA_SECTION_NODE=4,Pg=tl.ENTITY_REFERENCE_NODE=5,Ao=tl.ENTITY_NODE=6,Ts=tl.PROCESSING_INSTRUCTION_NODE=7,vs=tl.COMMENT_NODE=8,Tc=tl.DOCUMENT_NODE=9,oo=tl.DOCUMENT_TYPE_NODE=10,cc=tl.DOCUMENT_FRAGMENT_NODE=11,Mh=tl.NOTATION_NODE=12,ho={},Ko={};ho.INDEX_SIZE_ERR=(Ko[1]="Index size error",1),ho.DOMSTRING_SIZE_ERR=(Ko[2]="DOMString size error",2);var Vs=ho.HIERARCHY_REQUEST_ERR=(Ko[3]="Hierarchy request error",3);ho.WRONG_DOCUMENT_ERR=(Ko[4]="Wrong document",4),ho.INVALID_CHARACTER_ERR=(Ko[5]="Invalid character",5),ho.NO_DATA_ALLOWED_ERR=(Ko[6]="No data allowed",6),ho.NO_MODIFICATION_ALLOWED_ERR=(Ko[7]="No modification allowed",7);var Ss=ho.NOT_FOUND_ERR=(Ko[8]="Not found",8);ho.NOT_SUPPORTED_ERR=(Ko[9]="Not supported",9);var yo=ho.INUSE_ATTRIBUTE_ERR=(Ko[10]="Attribute in use",10);function Ta(c,t){if(t instanceof Error)var o=t;else o=this,Error.call(this,Ko[c]),this.message=Ko[c],Error.captureStackTrace&&Error.captureStackTrace(this,Ta);return o.code=c,t&&(this.message=this.message+": "+t),o}function ka(){}function ba(c,t){this._node=c,this._refresh=t,$p(this)}function $p(c){var t=c._node._inc||c._node.ownerDocument._inc;if(c._inc!=t){var o=c._refresh(c._node);qf(c,"length",o.length),Bd(o,c),c._inc=t}}function bu(){}function Rm(c,t){for(var o=c.length;o--;)if(c[o]===t)return o}function Ud(c,t,o,h){if(h?t[Rm(t,h)]=o:t[t.length++]=o,c){o.ownerElement=c;var y=c.ownerDocument;y&&(h&&Ah(y,c,h),function Qu(c,t,o){c&&c._inc++,o.namespaceURI===Ih.XMLNS&&(t._nsMap[o.prefix?o.localName:""]=o.value)}(y,c,o))}}function jd(c,t,o){var h=Rm(t,o);if(!(h>=0))throw new Ta(Ss,new Error(c.tagName+"@"+o));for(var y=t.length-1;h<y;)t[h]=t[++h];if(t.length=y,c){var M=c.ownerDocument;M&&(Ah(M,c,o),o.ownerElement=null)}}function wl(){}function to(){}function _f(c){return("<"==c?"&lt;":">"==c&&"&gt;")||"&"==c&&"&amp;"||'"'==c&&"&quot;"||"&#"+c.charCodeAt()+";"}function vf(c,t){if(t(c))return!0;if(c=c.firstChild)do{if(vf(c,t))return!0}while(c=c.nextSibling)}function Rl(){this.ownerDocument=this}function Ah(c,t,o,h){c&&c._inc++,o.namespaceURI===Ih.XMLNS&&delete t._nsMap[o.prefix?o.localName:""]}function Gp(c,t,o){if(c&&c._inc){c._inc++;var h=t.childNodes;if(o)h[h.length++]=o;else{for(var y=t.firstChild,M=0;y;)h[M++]=y,y=y.nextSibling;h.length=M,delete h[h.length]}}}function qu(c,t){var o=t.previousSibling,h=t.nextSibling;return o?o.nextSibling=h:c.firstChild=h,h?h.previousSibling=o:c.lastChild=o,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,Gp(c.ownerDocument,c),t}function go(c){return c&&c.nodeType===to.DOCUMENT_TYPE_NODE}function md(c){return c&&c.nodeType===to.ELEMENT_NODE}function Ll(c){return c&&c.nodeType===to.TEXT_NODE}function kh(c,t){var o=c.childNodes||[];if(ql(o,md)||go(t))return!1;var h=ql(o,go);return!(t&&h&&o.indexOf(h)>o.indexOf(t))}function dc(c,t){var o=c.childNodes||[];if(ql(o,function h(M){return md(M)&&M!==t}))return!1;var y=ql(o,go);return!(t&&y&&o.indexOf(y)>o.indexOf(t))}function j0(c,t,o){if(!function sr(c){return c&&(c.nodeType===to.DOCUMENT_NODE||c.nodeType===to.DOCUMENT_FRAGMENT_NODE||c.nodeType===to.ELEMENT_NODE)}(c))throw new Ta(Vs,"Unexpected parent node type "+c.nodeType);if(o&&o.parentNode!==c)throw new Ta(Ss,"child not in parent");if(!function zd(c){return c&&(md(c)||Ll(c)||go(c)||c.nodeType===to.DOCUMENT_FRAGMENT_NODE||c.nodeType===to.COMMENT_NODE||c.nodeType===to.PROCESSING_INSTRUCTION_NODE)}(t)||go(t)&&c.nodeType!==to.DOCUMENT_NODE)throw new Ta(Vs,"Unexpected node type "+t.nodeType+" for parent node type "+c.nodeType)}function Cl(c,t,o){var h=c.childNodes||[],y=t.childNodes||[];if(t.nodeType===to.DOCUMENT_FRAGMENT_NODE){var M=y.filter(md);if(M.length>1||ql(y,Ll))throw new Ta(Vs,"More than one element or text in fragment");if(1===M.length&&!kh(c,o))throw new Ta(Vs,"Element in fragment can not be inserted before doctype")}if(md(t)&&!kh(c,o))throw new Ta(Vs,"Only one element can be added and only after doctype");if(go(t)){if(ql(h,go))throw new Ta(Vs,"Only one doctype is allowed");var L=ql(h,md);if(o&&h.indexOf(L)<h.indexOf(o))throw new Ta(Vs,"Doctype can only be inserted before an element");if(!o&&L)throw new Ta(Vs,"Doctype can not be appended since element is present")}}function Rg(c,t,o){var h=c.childNodes||[],y=t.childNodes||[];if(t.nodeType===to.DOCUMENT_FRAGMENT_NODE){var M=y.filter(md);if(M.length>1||ql(y,Ll))throw new Ta(Vs,"More than one element or text in fragment");if(1===M.length&&!dc(c,o))throw new Ta(Vs,"Element in fragment can not be inserted before doctype")}if(md(t)&&!dc(c,o))throw new Ta(Vs,"Only one element can be added and only after doctype");if(go(t)){if(ql(h,function(pe){return go(pe)&&pe!==o}))throw new Ta(Vs,"Only one doctype is allowed");var L=ql(h,md);if(o&&h.indexOf(L)<h.indexOf(o))throw new Ta(Vs,"Doctype can only be inserted before an element")}}function gd(c,t,o,h){j0(c,t,o),c.nodeType===to.DOCUMENT_NODE&&(h||Cl)(c,t,o);var y=t.parentNode;if(y&&y.removeChild(t),t.nodeType===cc){var M=t.firstChild;if(null==M)return t;var L=t.lastChild}else M=L=t;var K=o?o.previousSibling:c.lastChild;M.previousSibling=K,L.nextSibling=o,K?K.nextSibling=M:c.firstChild=M,null==o?c.lastChild=L:o.previousSibling=L;do{M.parentNode=c}while(M!==L&&(M=M.nextSibling));return Gp(c.ownerDocument||c,c),t.nodeType==cc&&(t.firstChild=t.lastChild=null),t}function $d(){this._nsMap={}}function Zl(){}function bf(){}function yu(){}function Zu(){}function Qf(){}function Ju(){}function Lg(){}function Ng(){}function jo(){}function ao(){}function Oh(){}function Lm(){}function nl(c,t){var o=[],h=9==this.nodeType&&this.documentElement||this,y=h.prefix,M=h.namespaceURI;if(M&&null==y&&null==(y=h.lookupPrefix(M)))var L=[{namespace:M,prefix:null}];return Tl(this,o,c,t,L),o.join("")}function yf(c,t,o){var h=c.prefix||"",y=c.namespaceURI;if(!y||"xml"===h&&y===Ih.XML||y===Ih.XMLNS)return!1;for(var M=o.length;M--;){var L=o[M];if(L.prefix===h)return L.namespace!==y}return!0}function Oa(c,t,o){c.push(" ",t,'="',o.replace(/[<>&"\t\n\r]/g,_f),'"')}function Tl(c,t,o,h,y){if(y||(y=[]),h){if(!(c=h(c)))return;if("string"==typeof c)return void t.push(c)}switch(c.nodeType){case Aa:var M=c.attributes,L=M.length,Gn=c.firstChild,K=c.tagName,pe=K;if(!(o=Ih.isHTML(c.namespaceURI)||o)&&!c.prefix&&c.namespaceURI){for(var He,Je=0;Je<M.length;Je++)if("xmlns"===M.item(Je).name){He=M.item(Je).value;break}if(!He)for(var St=y.length-1;St>=0;St--)if(""===(rn=y[St]).prefix&&rn.namespace===c.namespaceURI){He=rn.namespace;break}if(He!==c.namespaceURI)for(St=y.length-1;St>=0;St--){var rn;if((rn=y[St]).namespace===c.namespaceURI){rn.prefix&&(pe=rn.prefix+":"+K);break}}}t.push("<",pe);for(var Bt=0;Bt<L;Bt++)"xmlns"==(Vn=M.item(Bt)).prefix?y.push({prefix:Vn.localName,namespace:Vn.value}):"xmlns"==Vn.nodeName&&y.push({prefix:"",namespace:Vn.value});for(Bt=0;Bt<L;Bt++){var Vn,Fn,Bn;yf(Vn=M.item(Bt),0,y)&&(Oa(t,(Fn=Vn.prefix||"")?"xmlns:"+Fn:"xmlns",Bn=Vn.namespaceURI),y.push({prefix:Fn,namespace:Bn})),Tl(Vn,t,o,h,y)}if(K===pe&&yf(c,0,y)&&(Oa(t,(Fn=c.prefix||"")?"xmlns:"+Fn:"xmlns",Bn=c.namespaceURI),y.push({prefix:Fn,namespace:Bn})),Gn||o&&!/^(?:meta|link|img|br|hr|input)$/i.test(K)){if(t.push(">"),o&&/^script$/i.test(K))for(;Gn;)Gn.data?t.push(Gn.data):Tl(Gn,t,o,h,y.slice()),Gn=Gn.nextSibling;else for(;Gn;)Tl(Gn,t,o,h,y.slice()),Gn=Gn.nextSibling;t.push("</",pe,">")}else t.push("/>");return;case Tc:case cc:for(Gn=c.firstChild;Gn;)Tl(Gn,t,o,h,y.slice()),Gn=Gn.nextSibling;return;case Cc:return Oa(t,c.name,c.value);case Vd:return t.push(c.data.replace(/[<&>]/g,_f));case gf:return t.push("<![CDATA[",c.data,"]]>");case vs:return t.push("\x3c!--",c.data,"--\x3e");case oo:var si=c.publicId,Bi=c.systemId;if(t.push("<!DOCTYPE ",c.name),si)t.push(" PUBLIC ",si),Bi&&"."!=Bi&&t.push(" ",Bi),t.push(">");else if(Bi&&"."!=Bi)t.push(" SYSTEM ",Bi,">");else{var wi=c.internalSubset;wi&&t.push(" [",wi,"]"),t.push(">")}return;case Ts:return t.push("<?",c.target," ",c.data,"?>");case Pg:return t.push("&",c.nodeName,";");default:t.push("??",c.nodeName)}}function Sc(c,t,o){var h;switch(t.nodeType){case Aa:(h=t.cloneNode(!1)).ownerDocument=c;case cc:break;case Cc:o=!0}if(h||(h=t.cloneNode(!1)),h.ownerDocument=c,h.parentNode=null,o)for(var y=t.firstChild;y;)h.appendChild(Sc(c,y,o)),y=y.nextSibling;return h}function jr(c,t,o){var h=new t.constructor;for(var y in t)if(Object.prototype.hasOwnProperty.call(t,y)){var M=t[y];"object"!=typeof M&&M!=h[y]&&(h[y]=M)}switch(t.childNodes&&(h.childNodes=new ka),h.ownerDocument=c,h.nodeType){case Aa:var L=t.attributes,K=h.attributes=new bu,pe=L.length;K._ownerElement=h;for(var He=0;He<pe;He++)h.setAttributeNode(jr(c,L.item(He),!0));break;case Cc:o=!0}if(o)for(var Je=t.firstChild;Je;)h.appendChild(jr(c,Je,o)),Je=Je.nextSibling;return h}function qf(c,t,o){c[t]=o}ho.INVALID_STATE_ERR=(Ko[11]="Invalid state",11),ho.SYNTAX_ERR=(Ko[12]="Syntax error",12),ho.INVALID_MODIFICATION_ERR=(Ko[13]="Invalid modification",13),ho.NAMESPACE_ERR=(Ko[14]="Invalid namespace",14),ho.INVALID_ACCESS_ERR=(Ko[15]="Invalid access",15),Ta.prototype=Error.prototype,Bd(ho,Ta),ka.prototype={length:0,item:function(c){return this[c]||null},toString:function(c,t){for(var o=[],h=0;h<this.length;h++)Tl(this[h],o,c,t);return o.join("")},filter:function(c){return Array.prototype.filter.call(this,c)},indexOf:function(c){return Array.prototype.indexOf.call(this,c)}},ba.prototype.item=function(c){return $p(this),this[c]},Pl(ba,ka),bu.prototype={length:0,item:ka.prototype.item,getNamedItem:function(c){for(var t=this.length;t--;){var o=this[t];if(o.nodeName==c)return o}},setNamedItem:function(c){var t=c.ownerElement;if(t&&t!=this._ownerElement)throw new Ta(yo);var o=this.getNamedItem(c.nodeName);return Ud(this._ownerElement,this,c,o),o},setNamedItemNS:function(c){var o,t=c.ownerElement;if(t&&t!=this._ownerElement)throw new Ta(yo);return o=this.getNamedItemNS(c.namespaceURI,c.localName),Ud(this._ownerElement,this,c,o),o},removeNamedItem:function(c){var t=this.getNamedItem(c);return jd(this._ownerElement,this,t),t},removeNamedItemNS:function(c,t){var o=this.getNamedItemNS(c,t);return jd(this._ownerElement,this,o),o},getNamedItemNS:function(c,t){for(var o=this.length;o--;){var h=this[o];if(h.localName==t&&h.namespaceURI==c)return h}return null}},wl.prototype={hasFeature:function(c,t){return!0},createDocument:function(c,t,o){var h=new Rl;if(h.implementation=this,h.childNodes=new ka,h.doctype=o||null,o&&h.appendChild(o),t){var y=h.createElementNS(c,t);h.appendChild(y)}return h},createDocumentType:function(c,t,o){var h=new Ju;return h.name=c,h.nodeName=c,h.publicId=t||"",h.systemId=o||"",h}},to.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(c,t){return gd(this,c,t)},replaceChild:function(c,t){gd(this,c,t,Rg),t&&this.removeChild(t)},removeChild:function(c){return qu(this,c)},appendChild:function(c){return this.insertBefore(c,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(c){return jr(this.ownerDocument||this,this,c)},normalize:function(){for(var c=this.firstChild;c;){var t=c.nextSibling;t&&t.nodeType==Vd&&c.nodeType==Vd?(this.removeChild(t),c.appendData(t.data)):(c.normalize(),c=t)}},isSupported:function(c,t){return this.ownerDocument.implementation.hasFeature(c,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(c){for(var t=this;t;){var o=t._nsMap;if(o)for(var h in o)if(Object.prototype.hasOwnProperty.call(o,h)&&o[h]===c)return h;t=t.nodeType==Cc?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(c){for(var t=this;t;){var o=t._nsMap;if(o&&Object.prototype.hasOwnProperty.call(o,c))return o[c];t=t.nodeType==Cc?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(c){return null==this.lookupPrefix(c)}},Bd(tl,to),Bd(tl,to.prototype),Rl.prototype={nodeName:"#document",nodeType:Tc,doctype:null,documentElement:null,_inc:1,insertBefore:function(c,t){if(c.nodeType==cc){for(var o=c.firstChild;o;){var h=o.nextSibling;this.insertBefore(o,t),o=h}return c}return gd(this,c,t),c.ownerDocument=this,null===this.documentElement&&c.nodeType===Aa&&(this.documentElement=c),c},removeChild:function(c){return this.documentElement==c&&(this.documentElement=null),qu(this,c)},replaceChild:function(c,t){gd(this,c,t,Rg),c.ownerDocument=this,t&&this.removeChild(t),md(c)&&(this.documentElement=c)},importNode:function(c,t){return Sc(this,c,t)},getElementById:function(c){var t=null;return vf(this.documentElement,function(o){if(o.nodeType==Aa&&o.getAttribute("id")==c)return t=o,!0}),t},getElementsByClassName:function(c){var t=Xf(c);return new ba(this,function(o){var h=[];return t.length>0&&vf(o.documentElement,function(y){if(y!==o&&y.nodeType===Aa){var M=y.getAttribute("class");if(M){var L=c===M;if(!L){var K=Xf(M);L=t.every(function Pm(c){return function(t){return c&&-1!==c.indexOf(t)}}(K))}L&&h.push(y)}}}),h})},createElement:function(c){var t=new $d;return t.ownerDocument=this,t.nodeName=c,t.tagName=c,t.localName=c,t.childNodes=new ka,(t.attributes=new bu)._ownerElement=t,t},createDocumentFragment:function(){var c=new ao;return c.ownerDocument=this,c.childNodes=new ka,c},createTextNode:function(c){var t=new yu;return t.ownerDocument=this,t.appendData(c),t},createComment:function(c){var t=new Zu;return t.ownerDocument=this,t.appendData(c),t},createCDATASection:function(c){var t=new Qf;return t.ownerDocument=this,t.appendData(c),t},createProcessingInstruction:function(c,t){var o=new Oh;return o.ownerDocument=this,o.tagName=o.target=c,o.nodeValue=o.data=t,o},createAttribute:function(c){var t=new Zl;return t.ownerDocument=this,t.name=c,t.nodeName=c,t.localName=c,t.specified=!0,t},createEntityReference:function(c){var t=new jo;return t.ownerDocument=this,t.nodeName=c,t},createElementNS:function(c,t){var o=new $d,h=t.split(":"),y=o.attributes=new bu;return o.childNodes=new ka,o.ownerDocument=this,o.nodeName=t,o.tagName=t,o.namespaceURI=c,2==h.length?(o.prefix=h[0],o.localName=h[1]):o.localName=t,y._ownerElement=o,o},createAttributeNS:function(c,t){var o=new Zl,h=t.split(":");return o.ownerDocument=this,o.nodeName=t,o.name=t,o.namespaceURI=c,o.specified=!0,2==h.length?(o.prefix=h[0],o.localName=h[1]):o.localName=t,o}},Pl(Rl,to),$d.prototype={nodeType:Aa,hasAttribute:function(c){return null!=this.getAttributeNode(c)},getAttribute:function(c){var t=this.getAttributeNode(c);return t&&t.value||""},getAttributeNode:function(c){return this.attributes.getNamedItem(c)},setAttribute:function(c,t){var o=this.ownerDocument.createAttribute(c);o.value=o.nodeValue=""+t,this.setAttributeNode(o)},removeAttribute:function(c){var t=this.getAttributeNode(c);t&&this.removeAttributeNode(t)},appendChild:function(c){return c.nodeType===cc?this.insertBefore(c,null):function Hd(c,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=c,t.previousSibling=c.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:c.firstChild=t,c.lastChild=t,Gp(c.ownerDocument,c,t),t}(this,c)},setAttributeNode:function(c){return this.attributes.setNamedItem(c)},setAttributeNodeNS:function(c){return this.attributes.setNamedItemNS(c)},removeAttributeNode:function(c){return this.attributes.removeNamedItem(c.nodeName)},removeAttributeNS:function(c,t){var o=this.getAttributeNodeNS(c,t);o&&this.removeAttributeNode(o)},hasAttributeNS:function(c,t){return null!=this.getAttributeNodeNS(c,t)},getAttributeNS:function(c,t){var o=this.getAttributeNodeNS(c,t);return o&&o.value||""},setAttributeNS:function(c,t,o){var h=this.ownerDocument.createAttributeNS(c,t);h.value=h.nodeValue=""+o,this.setAttributeNode(h)},getAttributeNodeNS:function(c,t){return this.attributes.getNamedItemNS(c,t)},getElementsByTagName:function(c){return new ba(this,function(t){var o=[];return vf(t,function(h){h!==t&&h.nodeType==Aa&&("*"===c||h.tagName==c)&&o.push(h)}),o})},getElementsByTagNameNS:function(c,t){return new ba(this,function(o){var h=[];return vf(o,function(y){y!==o&&y.nodeType===Aa&&("*"===c||y.namespaceURI===c)&&("*"===t||y.localName==t)&&h.push(y)}),h})}},Rl.prototype.getElementsByTagName=$d.prototype.getElementsByTagName,Rl.prototype.getElementsByTagNameNS=$d.prototype.getElementsByTagNameNS,Pl($d,to),Zl.prototype.nodeType=Cc,Pl(Zl,to),bf.prototype={data:"",substringData:function(c,t){return this.data.substring(c,c+t)},appendData:function(c){this.nodeValue=this.data=c=this.data+c,this.length=c.length},insertData:function(c,t){this.replaceData(c,0,t)},appendChild:function(c){throw new Error(Ko[Vs])},deleteData:function(c,t){this.replaceData(c,t,"")},replaceData:function(c,t,o){var h=this.data.substring(0,c),y=this.data.substring(c+t);this.nodeValue=this.data=o=h+o+y,this.length=o.length}},Pl(bf,to),yu.prototype={nodeName:"#text",nodeType:Vd,splitText:function(c){var t=this.data,o=t.substring(c);t=t.substring(0,c),this.data=this.nodeValue=t,this.length=t.length;var h=this.ownerDocument.createTextNode(o);return this.parentNode&&this.parentNode.insertBefore(h,this.nextSibling),h}},Pl(yu,bf),Zu.prototype={nodeName:"#comment",nodeType:vs},Pl(Zu,bf),Qf.prototype={nodeName:"#cdata-section",nodeType:gf},Pl(Qf,bf),Ju.prototype.nodeType=oo,Pl(Ju,to),Lg.prototype.nodeType=Mh,Pl(Lg,to),Ng.prototype.nodeType=Ao,Pl(Ng,to),jo.prototype.nodeType=Pg,Pl(jo,to),ao.prototype.nodeName="#document-fragment",ao.prototype.nodeType=cc,Pl(ao,to),Oh.prototype.nodeType=Ts,Pl(Oh,to),Lm.prototype.serializeToString=function(c,t,o){return nl.call(c,t,o)},to.prototype.toString=nl;try{if(Object.defineProperty){let c=function(t){switch(t.nodeType){case Aa:case cc:var o=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&o.push(c(t)),t=t.nextSibling;return o.join("");default:return t.nodeValue}};Object.defineProperty(ba.prototype,"length",{get:function(){return $p(this),this.$$length}}),Object.defineProperty(to.prototype,"textContent",{get:function(){return c(this)},set:function(t){switch(this.nodeType){case Aa:case cc:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),qf=function(t,o,h){t["$$"+o]=h}}}catch{}var Kp_DOMImplementation=wl,Ph=fs(function(c,t){var o=vu.freeze;t.XML_ENTITIES=o({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=o({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES}),Lo=vu.NAMESPACE,es=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Gd=new RegExp("[\\-\\.0-9"+es.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Eu=new RegExp("^"+es.source+Gd.source+"*(?::"+es.source+Gd.source+"*)?$"),Rh=0,Sa=1,il=2,Ef=3,Wd=4,Dc=5,Kd=6,Yd=7;function Xd(c,t){this.message=c,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,Xd)}function Qd(){}function Jf(c,t,o,h,y){function L(_o){var al=_o.slice(1,-1);return Object.hasOwnProperty.call(o,al)?o[al]:"#"===al.charAt(0)?function M(_o){return _o>65535?(_o-=65536,String.fromCharCode(55296+(_o>>10),56320+(1023&_o))):String.fromCharCode(_o)}(parseInt(al.substr(1).replace("x","0x"))):(y.error("entity not found:"+_o),_o)}function K(_o){if(_o>Fn){var al=c.substring(Fn,_o).replace(/&#?\w+;/g,L);rn&&pe(Fn),h.characters(al,0,_o-Fn),Fn=_o}}function pe(_o,al){for(;_o>=Je&&(al=St.exec(c));)Je=(He=al.index)+al[0].length,rn.lineNumber++;rn.columnNumber=_o-He+1}for(var He=0,Je=0,St=/.*(?:\r\n?|\n)|.*$/g,rn=h.locator,Bt=[{currentNSMap:t}],Vn={},Fn=0;;){try{var Bn=c.indexOf("<",Fn);if(Bn<0){if(!c.substr(Fn).match(/^\s*$/)){var Gn=h.doc,si=Gn.createTextNode(c.substr(Fn));Gn.appendChild(si),h.currentElement=si}return}switch(Bn>Fn&&K(Bn),c.charAt(Bn+1)){case"/":var Ks=c.indexOf(">",Bn+3),Bi=c.substring(Bn+2,Ks).replace(/[ \t\n\r]+$/g,""),wi=Bt.pop();Ks<0?(Bi=c.substring(Bn+2).replace(/[\s<].*/,""),y.error("end tag name: "+Bi+" is not complete:"+wi.tagName),Ks=Bn+1+Bi.length):Bi.match(/\s</)&&(Bi=Bi.replace(/[\s<].*/,""),y.error("end tag name: "+Bi+" maybe not complete"),Ks=Bn+1+Bi.length);var Jn=wi.localNSMap,Sr=wi.tagName==Bi;if(Sr||wi.tagName&&wi.tagName.toLowerCase()==Bi.toLowerCase()){if(h.endElement(wi.uri,wi.localName,Bi),Jn)for(var Ws in Jn)Object.prototype.hasOwnProperty.call(Jn,Ws)&&h.endPrefixMapping(Ws);Sr||y.fatalError("end tag name: "+Bi+" is not match the current start tagName:"+wi.tagName)}else Bt.push(wi);Ks++;break;case"?":rn&&pe(Bn),Ks=jn(c,Bn,h);break;case"!":rn&&pe(Bn),Ks=xn(c,Bn,h,y);break;default:rn&&pe(Bn);var xs=new xi,$o=Bt[Bt.length-1].currentNSMap,Ys=(Ks=S(c,Bn,xs,$o,L,y),xs.length);if(!xs.closed&&$e(c,Ks,xs.tagName,Vn)&&(xs.closed=!0,o.nbsp||y.warning("unclosed xml attribute")),rn&&Ys){for(var zr=$(rn,{}),lo=0;lo<Ys;lo++){var pc=xs[lo];pe(pc.offset),pc.locator=$(rn,{})}h.locator=zr,P(xs,h,$o)&&Bt.push(xs),h.locator=rn}else P(xs,h,$o)&&Bt.push(xs);Lo.isHTML(xs.uri)&&!xs.closed?Ks=Z(c,Ks,xs.tagName,L,h):Ks++}}catch(_o){if(_o instanceof Xd)throw _o;y.error("element parse error: "+_o),Ks=-1}Ks>Fn?Fn=Ks:K(Math.max(Bn,Fn)+1)}}function $(c,t){return t.lineNumber=c.lineNumber,t.columnNumber=c.columnNumber,t}function S(c,t,o,h,y,M){function L(rn,Bt,Vn){o.attributeNames.hasOwnProperty(rn)&&M.fatalError("Attribute "+rn+" redefined"),o.addValue(rn,Bt.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,y),Vn)}for(var K,He=++t,Je=Rh;;){var St=c.charAt(He);switch(St){case"=":if(Je===Sa)K=c.slice(t,He),Je=Ef;else{if(Je!==il)throw new Error("attribute equal must after attrName");Je=Ef}break;case"'":case'"':if(Je===Ef||Je===Sa){if(Je===Sa&&(M.warning('attribute value must after "="'),K=c.slice(t,He)),!((He=c.indexOf(St,t=He+1))>0))throw new Error("attribute value no end '"+St+"' match");L(K,pe=c.slice(t,He),t-1),Je=Dc}else{if(Je!=Wd)throw new Error('attribute value must after "="');L(K,pe=c.slice(t,He),t),M.warning('attribute "'+K+'" missed start quot('+St+")!!"),t=He+1,Je=Dc}break;case"/":switch(Je){case Rh:o.setTagName(c.slice(t,He));case Dc:case Kd:case Yd:Je=Yd,o.closed=!0;case Wd:case Sa:case il:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return M.error("unexpected end of input"),Je==Rh&&o.setTagName(c.slice(t,He)),He;case">":switch(Je){case Rh:o.setTagName(c.slice(t,He));case Dc:case Kd:case Yd:break;case Wd:case Sa:"/"===(pe=c.slice(t,He)).slice(-1)&&(o.closed=!0,pe=pe.slice(0,-1));case il:Je===il&&(pe=K),Je==Wd?(M.warning('attribute "'+pe+'" missed quot(")!'),L(K,pe,t)):((!Lo.isHTML(h[""])||!pe.match(/^(?:disabled|checked|selected)$/i))&&M.warning('attribute "'+pe+'" missed value!! "'+pe+'" instead!!'),L(pe,pe,t));break;case Ef:throw new Error("attribute value missed!!")}return He;case"\x80":St=" ";default:if(St<=" ")switch(Je){case Rh:o.setTagName(c.slice(t,He)),Je=Kd;break;case Sa:K=c.slice(t,He),Je=il;break;case Wd:var pe=c.slice(t,He);M.warning('attribute "'+pe+'" missed quot(")!!'),L(K,pe,t);case Dc:Je=Kd}else switch(Je){case il:(!Lo.isHTML(h[""])||!K.match(/^(?:disabled|checked|selected)$/i))&&M.warning('attribute "'+K+'" missed value!! "'+K+'" instead2!!'),L(K,K,t),t=He,Je=Sa;break;case Dc:M.warning('attribute space is required"'+K+'"!!');case Kd:Je=Sa,t=He;break;case Ef:Je=Wd,t=He;break;case Yd:throw new Error("elements closed character '/' and '>' must be connected to")}}He++}}function P(c,t,o){for(var h=c.tagName,y=null,St=c.length;St--;){var M=c[St],L=M.qName,K=M.value;if((rn=L.indexOf(":"))>0)var pe=M.prefix=L.slice(0,rn),He=L.slice(rn+1),Je="xmlns"===pe&&He;else He=L,pe=null,Je="xmlns"===L&&"";M.localName=He,!1!==Je&&(null==y&&(y={},Ct(o,o={})),o[Je]=y[Je]=K,M.uri=Lo.XMLNS,t.startPrefixMapping(Je,K))}for(St=c.length;St--;)(pe=(M=c[St]).prefix)&&("xml"===pe&&(M.uri=Lo.XML),"xmlns"!==pe&&(M.uri=o[pe||""]));var rn;(rn=h.indexOf(":"))>0?(pe=c.prefix=h.slice(0,rn),He=c.localName=h.slice(rn+1)):(pe=null,He=c.localName=h);var Bt=c.uri=o[pe||""];if(t.startElement(Bt,He,h,c),!c.closed)return c.currentNSMap=o,c.localNSMap=y,!0;if(t.endElement(Bt,He,h),y)for(pe in y)Object.prototype.hasOwnProperty.call(y,pe)&&t.endPrefixMapping(pe)}function Z(c,t,o,h,y){if(/^(?:script|textarea)$/i.test(o)){var M=c.indexOf("</"+o+">",t),L=c.substring(t+1,M);if(/[&<]/.test(L))return/^script$/i.test(o)?(y.characters(L,0,L.length),M):(L=L.replace(/&#?\w+;/g,h),y.characters(L,0,L.length),M)}return t+1}function $e(c,t,o,h){var y=h[o];return null==y&&((y=c.lastIndexOf("</"+o+">"))<t&&(y=c.lastIndexOf("</"+o)),h[o]=y),y<t}function Ct(c,t){for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o])}function xn(c,t,o,h){if("-"===c.charAt(t+2))return"-"===c.charAt(t+3)?(M=c.indexOf("--\x3e",t+4))>t?(o.comment(c,t+4,M-t-4),M+3):(h.error("Unclosed comment"),-1):-1;if("CDATA["==c.substr(t+3,6)){var M=c.indexOf("]]>",t+9);return o.startCDATA(),o.characters(c,t+9,M-t-9),o.endCDATA(),M+3}var L=function dr(c,t){var o,h=[],y=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(y.lastIndex=t,y.exec(c);o=y.exec(c);)if(h.push(o),o[1])return h}(c,t),K=L.length;if(K>1&&/!doctype/i.test(L[0][0])){var pe=L[1][0],He=!1,Je=!1;K>3&&(/^public$/i.test(L[2][0])?(He=L[3][0],Je=K>4&&L[4][0]):/^system$/i.test(L[2][0])&&(Je=L[3][0]));var St=L[K-1];return o.startDTD(pe,He,Je),o.endDTD(),St.index+St[0].length}return-1}function jn(c,t,o){var h=c.indexOf("?>",t);if(h){var y=c.substring(t,h).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return y?(o.processingInstruction(y[1],y[2]),h+2):-1}return-1}function xi(){this.attributeNames={}}(Xd.prototype=new Error).name=Xd.name,Qd.prototype={parse:function(c,t,o){var h=this.domBuilder;h.startDocument(),Ct(t,t={}),Jf(c,t,o,h,this.errorHandler),h.endDocument()}},xi.prototype={setTagName:function(c){if(!Eu.test(c))throw new Error("invalid tagName:"+c);this.tagName=c},addValue:function(c,t,o){if(!Eu.test(c))throw new Error("invalid attribute:"+c);this.attributeNames[c]=this.length,this[this.length++]={qName:c,value:t,offset:o}},length:0,getLocalName:function(c){return this[c].localName},getLocator:function(c){return this[c].locator},getQName:function(c){return this[c].qName},getURI:function(c){return this[c].uri},getValue:function(c){return this[c].value}};var Ns=Kp_DOMImplementation,xu=vu.NAMESPACE,ep=Xd,xf=Qd;function wu(c){return c.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function Nl(c){this.options=c||{locator:{}}}function qc(){this.cdata=!1}function Jl(c,t){t.lineNumber=c.lineNumber,t.columnNumber=c.columnNumber}function tp(c){if(c)return"\n@"+(c.systemId||"")+"#[line:"+c.lineNumber+",col:"+c.columnNumber+"]"}function Nm(c,t,o){return"string"==typeof c?c.substr(t,o):c.length>=t+o||t?new java.lang.String(c,t,o)+"":c}function th(c,t){c.currentElement?c.currentElement.appendChild(t):c.doc.appendChild(t)}Nl.prototype.parseFromString=function(c,t){var o=this.options,h=new xf,y=o.domBuilder||new qc,M=o.errorHandler,L=o.locator,K=o.xmlns||{},pe=/\/x?html?$/.test(t),He=pe?Ph.HTML_ENTITIES:Ph.XML_ENTITIES;return L&&y.setDocumentLocator(L),h.errorHandler=function Cu(c,t,o){if(!c){if(t instanceof qc)return t;c=t}var h={},y=c instanceof Function;function M(L){var K=c[L];!K&&y&&(K=2==c.length?function(pe){c(L,pe)}:c),h[L]=K&&function(pe){K("[xmldom "+L+"]\t"+pe+tp(o))}||function(){}}return o=o||{},M("warning"),M("error"),M("fatalError"),h}(M,y,L),h.domBuilder=o.domBuilder||y,pe&&(K[""]=xu.HTML),K.xml=K.xml||xu.XML,c&&"string"==typeof c?h.parse((o.normalizeLineEndings||wu)(c),K,He):h.errorHandler.error("invalid doc source"),y.doc},qc.prototype={startDocument:function(){this.doc=(new Ns).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(c,t,o,h){var y=this.doc,M=y.createElementNS(c,o||t),L=h.length;th(this,M),this.currentElement=M,this.locator&&Jl(this.locator,M);for(var K=0;K<L;K++){c=h.getURI(K);var pe=h.getValue(K),He=(o=h.getQName(K),y.createAttributeNS(c,o));this.locator&&Jl(h.getLocator(K),He),He.value=He.nodeValue=pe,M.setAttributeNode(He)}},endElement:function(c,t,o){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(c,t){},endPrefixMapping:function(c){},processingInstruction:function(c,t){var o=this.doc.createProcessingInstruction(c,t);this.locator&&Jl(this.locator,o),th(this,o)},ignorableWhitespace:function(c,t,o){},characters:function(c,t,o){if(c=Nm.apply(this,arguments)){if(this.cdata)var h=this.doc.createCDATASection(c);else h=this.doc.createTextNode(c);this.currentElement?this.currentElement.appendChild(h):/^\s*$/.test(c)&&this.doc.appendChild(h),this.locator&&Jl(this.locator,h)}},skippedEntity:function(c){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(c){(this.locator=c)&&(c.lineNumber=0)},comment:function(c,t,o){c=Nm.apply(this,arguments);var h=this.doc.createComment(c);this.locator&&Jl(this.locator,h),th(this,h)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(c,t,o){var h=this.doc.implementation;if(h&&h.createDocumentType){var y=h.createDocumentType(c,t,o);this.locator&&Jl(this.locator,y),th(this,y),this.doc.doctype=y}},warning:function(c){console.warn("[xmldom warning]\t"+c,tp(this.locator))},error:function(c){console.error("[xmldom error]\t"+c,tp(this.locator))},fatalError:function(c){throw new ep(c,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(c){qc.prototype[c]=function(){return null}});var G_={__DOMHandler:qc,normalizeLineEndings:wu,DOMParser:Nl}.DOMParser;const Yp=c=>!!c&&"object"==typeof c,ya=(...c)=>c.reduce((t,o)=>("object"!=typeof o||Object.keys(o).forEach(h=>{t[h]=Array.isArray(t[h])&&Array.isArray(o[h])?t[h].concat(o[h]):Yp(t[h])&&Yp(o[h])?ya(t[h],o[h]):o[h]}),t),{}),Bm=c=>Object.keys(c).map(t=>c[t]),Ho=c=>c.reduce((t,o)=>t.concat(o),[]),Tu=c=>{if(!c.length)return[];const t=[];for(let o=0;o<c.length;o++)t.push(c[o]);return t};var qd_INVALID_NUMBER_OF_PERIOD="INVALID_NUMBER_OF_PERIOD",qd_DASH_EMPTY_MANIFEST="DASH_EMPTY_MANIFEST",qd_DASH_INVALID_XML="DASH_INVALID_XML",qd_NO_BASE_URL="NO_BASE_URL",qd_SEGMENT_TIME_UNSPECIFIED="SEGMENT_TIME_UNSPECIFIED",qd_UNSUPPORTED_UTC_TIMING_SCHEME="UNSUPPORTED_UTC_TIMING_SCHEME";const Zd=({baseUrl:c="",source:t="",range:o="",indexRange:h=""})=>{const y={uri:t,resolvedUri:Hp(c||"",t)};if(o||h){const L=(o||h).split("-");let He,K=window.BigInt?window.BigInt(L[0]):parseInt(L[0],10),pe=window.BigInt?window.BigInt(L[1]):parseInt(L[1],10);K<Number.MAX_SAFE_INTEGER&&"bigint"==typeof K&&(K=Number(K)),pe<Number.MAX_SAFE_INTEGER&&"bigint"==typeof pe&&(pe=Number(pe)),He="bigint"==typeof pe||"bigint"==typeof K?window.BigInt(pe)-window.BigInt(K)+window.BigInt(1):pe-K+1,"bigint"==typeof He&&He<Number.MAX_SAFE_INTEGER&&(He=Number(He)),y.byterange={length:He,offset:K}}return y},W_=c=>(c&&"number"!=typeof c&&(c=parseInt(c,10)),isNaN(c)?null:c),ip={static(c){const{duration:t,timescale:o=1,sourceDuration:h,periodDuration:y}=c,M=W_(c.endNumber),L=t/o;return"number"==typeof M?{start:0,end:M}:"number"==typeof y?{start:0,end:y/L}:{start:0,end:h/L}},dynamic(c){const{NOW:t,clientOffset:o,availabilityStartTime:h,timescale:y=1,duration:M,periodStart:L=0,minimumUpdatePeriod:K=0,timeShiftBufferDepth:pe=1/0}=c,He=W_(c.endNumber),Je=(t+o)/1e3,St=h+L,Vn=Math.ceil((Je+K-St)*y/M),Fn=Math.floor((Je-St-pe)*y/M),Bn=Math.floor((Je-St)*y/M);return{start:Math.max(0,Fn),end:"number"==typeof He?He:Math.min(Vn,Bn)}}},Nh=c=>{const{type:t,duration:o,timescale:h=1,periodDuration:y,sourceDuration:M}=c,{start:L,end:K}=ip[t](c),pe=((c,t)=>{const o=[];for(let h=c;h<t;h++)o.push(h);return o})(L,K).map((c=>t=>{const{duration:o,timescale:h=1,periodStart:y,startNumber:M=1}=c;return{number:M+t,duration:o/h,timeline:y,time:t*o}})(c));if("static"===t){const He=pe.length-1;pe[He].duration=("number"==typeof y?y:M)-o/h*He}return pe},Vg=c=>{const{baseUrl:t,initialization:o={},sourceDuration:h,indexRange:y="",periodStart:M,presentationTime:L,number:K=0,duration:pe}=c;if(!t)throw new Error(qd_NO_BASE_URL);const He=Zd({baseUrl:t,source:o.sourceURL,range:o.range}),Je=Zd({baseUrl:t,source:t,indexRange:y});if(Je.map=He,pe){const St=Nh(c);St.length&&(Je.duration=St[0].duration,Je.timeline=St[0].timeline)}else h&&(Je.duration=h,Je.timeline=M);return Je.presentationTime=L||M,Je.number=K,[Je]},Xp=(c,t,o)=>{const h=c.sidx.map?c.sidx.map:null,y=c.sidx.duration,M=c.timeline||0,L=c.sidx.byterange,K=L.offset+L.length,pe=t.timescale,He=t.references.filter(Bn=>1!==Bn.referenceType),Je=[],St=c.endList?"static":"dynamic",rn=c.sidx.timeline;let Fn,Bt=rn,Vn=c.mediaSequence||0;Fn="bigint"==typeof t.firstOffset?window.BigInt(K)+t.firstOffset:K+t.firstOffset;for(let Bn=0;Bn<He.length;Bn++){const Gn=t.references[Bn],si=Gn.referencedSize,Bi=Gn.subsegmentDuration;let wi;wi="bigint"==typeof Fn?Fn+window.BigInt(si)-window.BigInt(1):Fn+si-1;const Yr=Vg({baseUrl:o,timescale:pe,timeline:M,periodStart:rn,presentationTime:Bt,number:Vn,duration:Bi,sourceDuration:y,indexRange:`${Fn}-${wi}`,type:St})[0];h&&(Yr.map=h),Je.push(Yr),Fn+="bigint"==typeof Fn?window.BigInt(si):si,Bt+=Bi/pe,Vn++}return c.segments=Je,c},ih=["AUDIO","SUBTITLES"],sp=c=>((c,t)=>Bm(c.reduce((o,h)=>(h.forEach(y=>{o[t(y)]=y}),o),{})))(c,({timeline:t})=>t).sort((t,o)=>t.timeline>o.timeline?1:-1),ap=c=>{let t=[];return function(t,o,h){o.forEach(function(y){for(var M in t.mediaGroups[y])for(var L in t.mediaGroups[y][M])h(t.mediaGroups[y][M][L],y,M,L)})}(c,ih,(o,h,y,M)=>{t=t.concat(o.playlists||[])}),t},Yv=({playlist:c,mediaSequence:t})=>{c.mediaSequence=t,c.segments.forEach((o,h)=>{o.number=c.mediaSequence+h})},G0=({oldManifest:c,newManifest:t})=>{const o=c.playlists.concat(ap(c)),h=t.playlists.concat(ap(t));return t.timelineStarts=sp([c.timelineStarts,t.timelineStarts]),(({oldPlaylists:c,newPlaylists:t,timelineStarts:o})=>{t.forEach(h=>{h.discontinuitySequence=o.findIndex(function({timeline:pe}){return pe===h.timeline});const y=((c,t)=>{for(let o=0;o<c.length;o++)if(c[o].attributes.NAME===t)return c[o];return null})(c,h.attributes.NAME);if(!y||h.sidx)return;const M=h.segments[0],L=y.segments.findIndex(function(pe){return Math.abs(pe.presentationTime-M.presentationTime)<.016666666666666666});if(-1===L)return Yv({playlist:h,mediaSequence:y.mediaSequence+y.segments.length}),h.segments[0].discontinuity=!0,h.discontinuityStarts.unshift(0),void((!y.segments.length&&h.timeline>y.timeline||y.segments.length&&h.timeline>y.segments[y.segments.length-1].timeline)&&h.discontinuitySequence--);y.segments[L].discontinuity&&!M.discontinuity&&(M.discontinuity=!0,h.discontinuityStarts.unshift(0),h.discontinuitySequence--),Yv({playlist:h,mediaSequence:y.segments[L].number})})})({oldPlaylists:o,newPlaylists:h,timelineStarts:t.timelineStarts}),t},Qp=c=>c&&c.uri+"-"+(c=>{let t;return t="bigint"==typeof c.offset||"bigint"==typeof c.length?window.BigInt(c.offset)+window.BigInt(c.length)-window.BigInt(1):c.offset+c.length-1,`${c.offset}-${t}`})(c.byterange),Ug=c=>Bm(c.reduce((o,h)=>{const y=h.attributes.id+(h.attributes.lang||"");return o[y]?(h.segments&&(h.segments[0]&&(h.segments[0].discontinuity=!0),o[y].segments.push(...h.segments)),h.attributes.contentProtection&&(o[y].attributes.contentProtection=h.attributes.contentProtection)):(o[y]=h,o[y].attributes.timelineStarts=[]),o[y].attributes.timelineStarts.push({start:h.attributes.periodStart,timeline:h.attributes.periodStart}),o},{})).map(o=>(o.discontinuityStarts=((c,t)=>c.reduce((o,h,y)=>(h[t]&&o.push(y),o),[]))(o.segments||[],"discontinuity"),o)),Xv=(c,t)=>{const o=Qp(c.sidx),h=o&&t[o]&&t[o].sidx;return h&&Xp(c,h,c.sidx.resolvedUri),c},zb=(c,t={})=>{if(!Object.keys(t).length)return c;for(const o in c)c[o]=Xv(c[o],t);return c},zg=({attributes:c,segments:t,sidx:o,discontinuityStarts:h})=>{const y={attributes:{NAME:c.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:c.width,height:c.height},CODECS:c.codecs,BANDWIDTH:c.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===c.type,timeline:c.periodStart,resolvedUri:"",targetDuration:c.duration,discontinuityStarts:h,timelineStarts:c.timelineStarts,segments:t};return c.frameRate&&(y.attributes["FRAME-RATE"]=c.frameRate),c.contentProtection&&(y.contentProtection=c.contentProtection),o&&(y.sidx=o),y},Vm=({attributes:c})=>"video/mp4"===c.mimeType||"video/webm"===c.mimeType||"video"===c.contentType,Hg=({attributes:c})=>"audio/mp4"===c.mimeType||"audio/webm"===c.mimeType||"audio"===c.contentType,Um=({attributes:c})=>"text/vtt"===c.mimeType||"text"===c.contentType,sh=c=>c?Object.keys(c).reduce((t,o)=>t.concat(c[o].playlists),[]):[],Fh=({dashPlaylists:c,locations:t,sidxMapping:o={},previousManifest:h})=>{if(!c.length)return{};const{sourceDuration:y,type:M,suggestedPresentationDelay:L,minimumUpdatePeriod:K}=c[0].attributes,pe=Ug(c.filter(Vm)).map(zg),He=Ug(c.filter(Hg)),Je=Ug(c.filter(Um)),St=c.map(si=>si.attributes.captionServices).filter(Boolean),rn={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:y,playlists:zb(pe,o)};K>=0&&(rn.minimumUpdatePeriod=1e3*K),t&&(rn.locations=t),"dynamic"===M&&(rn.suggestedPresentationDelay=L);const Vn=He.length?((c,t={},o=!1)=>{let h;const y=c.reduce((M,L)=>{const K=L.attributes.role&&L.attributes.role.value||"",pe=L.attributes.lang||"";let He=L.attributes.label||"main";pe&&!L.attributes.label&&(He=`${L.attributes.lang}${K?` (${K})`:""}`),M[He]||(M[He]={language:pe,autoselect:!0,default:"main"===K,playlists:[],uri:""});const Je=Xv((({attributes:c,segments:t,sidx:o,mediaSequence:h,discontinuitySequence:y,discontinuityStarts:M},L)=>{const K={attributes:{NAME:c.id,BANDWIDTH:c.bandwidth,CODECS:c.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===c.type,timeline:c.periodStart,resolvedUri:"",targetDuration:c.duration,discontinuitySequence:y,discontinuityStarts:M,timelineStarts:c.timelineStarts,mediaSequence:h,segments:t};return c.contentProtection&&(K.contentProtection=c.contentProtection),o&&(K.sidx=o),L&&(K.attributes.AUDIO="audio",K.attributes.SUBTITLES="subs"),K})(L,o),t);return M[He].playlists.push(Je),typeof h>"u"&&"main"===K&&(h=L,h.default=!0),M},{});return h||(y[Object.keys(y)[0]].default=!0),y})(He,o,0===rn.playlists.length):null,Fn=Je.length?((c,t={})=>c.reduce((o,h)=>{const y=h.attributes.lang||"text";return o[y]||(o[y]={language:y,default:!1,autoselect:!1,playlists:[],uri:""}),o[y].playlists.push(Xv((({attributes:c,segments:t,mediaSequence:o,discontinuityStarts:h,discontinuitySequence:y})=>{typeof t>"u"&&(t=[{uri:c.baseUrl,timeline:c.periodStart,resolvedUri:c.baseUrl||"",duration:c.sourceDuration,number:0}],c.duration=c.sourceDuration);const M={NAME:c.id,BANDWIDTH:c.bandwidth,"PROGRAM-ID":1};return c.codecs&&(M.CODECS=c.codecs),{attributes:M,uri:"",endList:"static"===c.type,timeline:c.periodStart,resolvedUri:c.baseUrl||"",targetDuration:c.duration,timelineStarts:c.timelineStarts,discontinuityStarts:h,discontinuitySequence:y,mediaSequence:o,segments:t}})(h),t)),o},{}))(Je,o):null,Bn=pe.concat(sh(Vn),sh(Fn)),Gn=Bn.map(({timelineStarts:si})=>si);return rn.timelineStarts=sp(Gn),((c,t)=>{c.forEach(o=>{o.mediaSequence=0,o.discontinuitySequence=t.findIndex(function({timeline:h}){return h===o.timeline}),o.segments&&o.segments.forEach((h,y)=>{h.number=y})})})(Bn,rn.timelineStarts),Vn&&(rn.mediaGroups.AUDIO.audio=Vn),Fn&&(rn.mediaGroups.SUBTITLES.subs=Fn),St.length&&(rn.mediaGroups["CLOSED-CAPTIONS"].cc=(c=>c.reduce((t,o)=>(o&&o.forEach(h=>{const{channel:y,language:M}=h;t[M]={autoselect:!1,default:!1,instreamId:y,language:M},h.hasOwnProperty("aspectRatio")&&(t[M].aspectRatio=h.aspectRatio),h.hasOwnProperty("easyReader")&&(t[M].easyReader=h.easyReader),h.hasOwnProperty("3D")&&(t[M]["3D"]=h["3D"])}),t),{}))(St)),h?G0({oldManifest:h,newManifest:rn}):rn},$g=(c,t,o)=>{const{NOW:h,clientOffset:y,availabilityStartTime:M,timescale:L=1,periodStart:K=0,minimumUpdatePeriod:pe=0}=c;return Math.ceil((((h+y)/1e3+pe-(M+K))*L-t)/o)},Y_=(c,t)=>{const{type:o,minimumUpdatePeriod:h=0,media:y="",sourceDuration:M,timescale:L=1,startNumber:K=1,periodStart:pe}=c,He=[];let Je=-1;for(let St=0;St<t.length;St++){const rn=t[St],Bt=rn.d,Vn=rn.r||0,Fn=rn.t||0;let Bn;if(Je<0&&(Je=Fn),Fn&&Fn>Je&&(Je=Fn),Vn<0){const Bi=St+1;Bn=Bi===t.length?"dynamic"===o&&h>0&&y.indexOf("$Number$")>0?$g(c,Je,Bt):(M*L-Je)/Bt:(t[Bi].t-Je)/Bt}else Bn=Vn+1;const Gn=K+He.length+Bn;let si=K+He.length;for(;si<Gn;)He.push({number:si,duration:Bt/L,time:Je,timeline:pe}),Je+=Bt,si++}return He},jm=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,K0=(c,t)=>c.replace(jm,(c=>(t,o,h,y)=>{if("$$"===t)return"$";if(typeof c[o]>"u")return t;const M=""+c[o];return"RepresentationID"===o||(y=h?parseInt(y,10):1,M.length>=y)?M:`${new Array(y-M.length+1).join("0")}${M}`})(t)),Qv=(c,t)=>{const o={RepresentationID:c.id,Bandwidth:c.bandwidth||0},{initialization:h={sourceURL:"",range:""}}=c,y=Zd({baseUrl:c.baseUrl,source:K0(h.sourceURL,o),range:h.range});return((c,t)=>c.duration||t?c.duration?Nh(c):Y_(c,t):[{number:c.startNumber||1,duration:c.sourceDuration,time:0,timeline:c.periodStart}])(c,t).map(L=>{o.Number=L.number,o.Time=L.time;const K=K0(c.media||"",o),Je=c.periodStart+(L.time-(c.presentationTimeOffset||0))/(c.timescale||1);return{uri:K,timeline:L.timeline,duration:L.duration,resolvedUri:Hp(c.baseUrl||"",K),map:y,number:L.number,presentationTime:Je}})},cp=(c,t)=>{const{duration:o,segmentUrls:h=[],periodStart:y}=c;if(!o&&!t||o&&t)throw new Error(qd_SEGMENT_TIME_UNSPECIFIED);const M=h.map(pe=>((c,t)=>{const{baseUrl:o,initialization:h={}}=c,y=Zd({baseUrl:o,source:h.sourceURL,range:h.range}),M=Zd({baseUrl:o,source:t.media,range:t.mediaRange});return M.map=y,M})(c,pe));let L;return o&&(L=Nh(c)),t&&(L=Y_(c,t)),L.map((pe,He)=>{if(M[He]){const Je=M[He],St=c.timescale||1,rn=c.presentationTimeOffset||0;return Je.timeline=pe.timeline,Je.duration=pe.duration,Je.number=pe.number,Je.presentationTime=y+(pe.time-rn)/St,Je}}).filter(pe=>pe)},Wg=({attributes:c,segmentInfo:t})=>{let o,h;t.template?(h=Qv,o=ya(c,t.template)):t.base?(h=Vg,o=ya(c,t.base)):t.list&&(h=cp,o=ya(c,t.list));const y={attributes:c};if(!h)return y;const M=h(o,t.segmentTimeline);if(o.duration){const{duration:L,timescale:K=1}=o;o.duration=L/K}else o.duration=M.length?M.reduce((L,K)=>Math.max(L,Math.ceil(K.duration)),0):0;return y.attributes=o,y.segments=M,t.base&&o.indexRange&&(y.sidx=M[0],y.segments=[]),y},rl=(c,t)=>Tu(c.childNodes).filter(({tagName:o})=>o===t),Bh=c=>c.textContent.trim(),dp=c=>{const K=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(c);if(!K)return 0;const[pe,He,Je,St,rn,Bt]=K.slice(1);return 31536e3*parseFloat(pe||0)+2592e3*parseFloat(He||0)+86400*parseFloat(Je||0)+3600*parseFloat(St||0)+60*parseFloat(rn||0)+parseFloat(Bt||0)},zm={mediaPresentationDuration:c=>dp(c),availabilityStartTime:c=>(c=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(c)&&(c+="Z"),Date.parse(c)))(c)/1e3,minimumUpdatePeriod:c=>dp(c),suggestedPresentationDelay:c=>dp(c),type:c=>c,timeShiftBufferDepth:c=>dp(c),start:c=>dp(c),width:c=>parseInt(c,10),height:c=>parseInt(c,10),bandwidth:c=>parseInt(c,10),frameRate:c=>(c=>parseFloat(c.split("/").reduce((t,o)=>t/o)))(c),startNumber:c=>parseInt(c,10),timescale:c=>parseInt(c,10),presentationTimeOffset:c=>parseInt(c,10),duration(c){const t=parseInt(c,10);return isNaN(t)?dp(c):t},d:c=>parseInt(c,10),t:c=>parseInt(c,10),r:c=>parseInt(c,10),DEFAULT:c=>c},Fl=c=>c&&c.attributes?Tu(c.attributes).reduce((t,o)=>(t[o.name]=(zm[o.name]||zm.DEFAULT)(o.value),t),{}):{},Vh={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Yg=(c,t)=>t.length?Ho(c.map(function(o){return t.map(function(h){return Hp(o,Bh(h))})})):c,Jp=c=>{const t=rl(c,"SegmentTemplate")[0],o=rl(c,"SegmentList")[0],h=o&&rl(o,"SegmentURL").map(St=>ya({tag:"SegmentURL"},Fl(St))),y=rl(c,"SegmentBase")[0],M=o||t,L=M&&rl(M,"SegmentTimeline")[0],K=o||y||t,pe=K&&rl(K,"Initialization")[0],He=t&&Fl(t);He&&pe?He.initialization=pe&&Fl(pe):He&&He.initialization&&(He.initialization={sourceURL:He.initialization});const Je={template:He,segmentTimeline:L&&rl(L,"S").map(St=>Fl(St)),list:o&&ya(Fl(o),{segmentUrls:h,initialization:Fl(pe)}),base:y&&ya(Fl(y),{initialization:Fl(pe)})};return Object.keys(Je).forEach(St=>{Je[St]||delete Je[St]}),Je},em=(c,t,o)=>h=>{const y=Fl(h),M=Yg(t,rl(h,"BaseURL")),L=rl(h,"Role")[0],K={role:Fl(L)};let pe=ya(c,y,K);const He=rl(h,"Accessibility")[0],Je=(c=>"urn:scte:dash:cc:cea-608:2015"===c.schemeIdUri?("string"!=typeof c.value?[]:c.value.split(";")).map(o=>{let h,y;return y=o,/^CC\d=/.test(o)?[h,y]=o.split("="):/^CC\d$/.test(o)&&(h=o),{channel:h,language:y}}):"urn:scte:dash:cc:cea-708:2015"===c.schemeIdUri?("string"!=typeof c.value?[]:c.value.split(";")).map(o=>{const h={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(o)){const[y,M=""]=o.split("=");h.channel=y,h.language=o,M.split(",").forEach(L=>{const[K,pe]=L.split(":");"lang"===K?h.language=pe:"er"===K?h.easyReader=Number(pe):"war"===K?h.aspectRatio=Number(pe):"3D"===K&&(h["3D"]=Number(pe))})}else h.language=o;return h.channel&&(h.channel="SERVICE"+h.channel),h}):void 0)(Fl(He));Je&&(pe=ya(pe,{captionServices:Je}));const St=rl(h,"Label")[0];if(St&&St.childNodes.length){const Bn=St.childNodes[0].nodeValue.trim();pe=ya(pe,{label:Bn})}const rn=(c=>c.reduce((t,o)=>{const h=Fl(o);h.schemeIdUri&&(h.schemeIdUri=h.schemeIdUri.toLowerCase());const y=Vh[h.schemeIdUri];if(y){t[y]={attributes:h};const M=rl(o,"cenc:pssh")[0];if(M){const L=Bh(M);t[y].pssh=L&&va(L)}}return t},{}))(rl(h,"ContentProtection"));Object.keys(rn).length&&(pe=ya(pe,{contentProtection:rn}));const Bt=Jp(h),Vn=rl(h,"Representation"),Fn=ya(o,Bt);return Ho(Vn.map(((c,t,o)=>h=>{const y=rl(h,"BaseURL"),M=Yg(t,y),L=ya(c,Fl(h)),K=Jp(h);return M.map(pe=>({segmentInfo:ya(o,K),attributes:ya(L,{baseUrl:pe})}))})(pe,M,Fn)))},Xg=(c,t)=>(o,h)=>{const y=Yg(t,rl(o.node,"BaseURL")),M=ya(c,{periodStart:o.attributes.start});"number"==typeof o.attributes.duration&&(M.periodDuration=o.attributes.duration);const L=rl(o.node,"AdaptationSet"),K=Jp(o.node);return Ho(L.map(em(M,y,K)))},Qg=c=>{if(""===c)throw new Error(qd_DASH_EMPTY_MANIFEST);const t=new G_;let o,h;try{o=t.parseFromString(c,"application/xml"),h=o&&"MPD"===o.documentElement.tagName?o.documentElement:null}catch{}if(!h||h&&h.getElementsByTagName("parsererror").length>0)throw new Error(qd_DASH_INVALID_XML);return h},Q0=(c,t={})=>{const o=((c,t={})=>{const{manifestUri:o="",NOW:h=Date.now(),clientOffset:y=0}=t,M=rl(c,"Period");if(!M.length)throw new Error(qd_INVALID_NUMBER_OF_PERIOD);const L=rl(c,"Location"),K=Fl(c),pe=Yg([o],rl(c,"BaseURL"));K.type=K.type||"static",K.sourceDuration=K.mediaPresentationDuration||0,K.NOW=h,K.clientOffset=y,L.length&&(K.locations=L.map(Bh));const He=[];return M.forEach((Je,St)=>{const rn=Fl(Je),Bt=He[St-1];rn.start=(({attributes:c,priorPeriodAttributes:t,mpdType:o})=>"number"==typeof c.start?c.start:t&&"number"==typeof t.start&&"number"==typeof t.duration?t.start+t.duration:t||"static"!==o?null:0)({attributes:rn,priorPeriodAttributes:Bt?Bt.attributes:null,mpdType:K.type}),He.push({node:Je,attributes:rn})}),{locations:K.locations,representationInfo:Ho(He.map(Xg(K,pe)))}})(Qg(c),t),h=(c=>c.map(Wg))(o.representationInfo);return Fh({dashPlaylists:h,locations:o.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})},hp=c=>(c=>{const t=rl(c,"UTCTiming")[0];if(!t)return null;const o=Fl(t);switch(o.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":o.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":o.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":o.method="DIRECT",o.value=Date.parse(o.value);break;default:throw new Error(qd_UNSUPPORTED_UTC_TIMING_SCHEME)}return o})(Qg(c));var jh=Math.pow(2,32),Hb=function(c){var o,t=new DataView(c.buffer,c.byteOffset,c.byteLength);return t.getBigUint64?(o=t.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(o):o:t.getUint32(0)*jh+t.getUint32(4)},q0=Kr([73,68,51]),Ic=function c(t,o){return void 0===o&&(o=0),(t=Kr(t)).length-o<10||!cs(t,q0,{offset:o})?o:c(t,o+=function(t,o){void 0===o&&(o=0);var y=(t=Kr(t))[o+6]<<21|t[o+7]<<14|t[o+8]<<7|t[o+9];return(16&t[o+5])>>4?y+20:y+10}(t,o))},Iu=function(t){return"string"==typeof t?Ua(t):t},eb=function c(t,o,h){void 0===h&&(h=!1),o=function(t){return Array.isArray(t)?t.map(function(o){return Iu(o)}):[Iu(t)]}(o),t=Kr(t);var y=[];if(!o.length)return y;for(var M=0;M<t.length;){var L=(t[M]<<24|t[M+1]<<16|t[M+2]<<8|t[M+3])>>>0,K=t.subarray(M+4,M+8);if(0===L)break;var pe=M+L;if(pe>t.length){if(h)break;pe=t.length}var He=t.subarray(M+8,pe);cs(K,o[0])&&(1===o.length?y.push(He):y.push.apply(y,c(He,o.slice(1),h))),M=pe}return y},J0={EBML:Kr([26,69,223,163]),DocType:Kr([66,130]),Segment:Kr([24,83,128,103]),SegmentInfo:Kr([21,73,169,102]),Tracks:Kr([22,84,174,107]),Track:Kr([174]),TrackNumber:Kr([215]),DefaultDuration:Kr([35,227,131]),TrackEntry:Kr([174]),TrackType:Kr([131]),FlagDefault:Kr([136]),CodecID:Kr([134]),CodecPrivate:Kr([99,162]),VideoTrack:Kr([224]),AudioTrack:Kr([225]),Cluster:Kr([31,67,182,117]),Timestamp:Kr([231]),TimestampScale:Kr([42,215,177]),BlockGroup:Kr([160]),BlockDuration:Kr([155]),Block:Kr([161]),SimpleBlock:Kr([163])},e_=[128,64,32,16,8,4,2,1],ec=function(t,o,h,y){void 0===h&&(h=!0),void 0===y&&(y=!1);var M=function(t){for(var o=1,h=0;h<e_.length&&!(t&e_[h]);h++)o++;return o}(t[o]),L=t.subarray(o,o+M);return h&&((L=Array.prototype.slice.call(t,o,o+M))[0]^=e_[M-1]),{length:M,value:U0(L,{signed:y}),bytes:L}},pp=function c(t){return"string"==typeof t?t.match(/.{1,2}/g).map(function(o){return c(o)}):"number"==typeof t?Ag(t):t},qg=function c(t,o,h){if(h>=o.length)return o.length;var y=ec(o,h,!1);if(cs(t.bytes,y.bytes))return h;var M=ec(o,h+y.length);return c(t,o,h+M.length+M.value+y.length)},Q_=function c(t,o){o=function(t){return Array.isArray(t)?t.map(function(o){return pp(o)}):[pp(t)]}(o),t=Kr(t);var h=[];if(!o.length)return h;for(var y=0;y<t.length;){var M=ec(t,y,!1),L=ec(t,y+M.length),K=y+M.length+L.length;127===L.value&&(L.value=qg(M,t,K),L.value!==t.length&&(L.value-=K));var He=t.subarray(K,K+L.value>t.length?t.length:K+L.value);cs(o[0],M.bytes)&&(1===o.length?h.push(He):h=h.concat(c(He,o.slice(1)))),y+=M.length+L.length+He.length}return h},$b=Kr([0,0,0,1]),Gb=Kr([0,0,1]),Gm=Kr([0,0,3]),Sl=function(t){for(var o=[],h=1;h<t.length-2;)cs(t.subarray(h,h+3),Gm)&&(o.push(h+2),h++),h++;if(0===o.length)return t;var y=t.length-o.length,M=new Uint8Array(y),L=0;for(h=0;h<y;L++,h++)L===o[0]&&(L++,o.shift()),M[h]=t[L];return M},tb=function(t,o,h,y){void 0===y&&(y=1/0),t=Kr(t),h=[].concat(h);for(var L,M=0,K=0;M<t.length&&(K<y||L);){var pe=void 0;if(cs(t.subarray(M),$b)?pe=4:cs(t.subarray(M),Gb)&&(pe=3),pe){if(K++,L)return Sl(t.subarray(L,M));var He=void 0;"h264"===o?He=31&t[M+pe]:"h265"===o&&(He=t[M+pe]>>1&63),-1!==h.indexOf(He)&&(L=M+pe),M+=pe+("h264"===o?1:2)}else M++}return t.subarray(0,0)},Zc={webm:Kr([119,101,98,109]),matroska:Kr([109,97,116,114,111,115,107,97]),flac:Kr([102,76,97,67]),ogg:Kr([79,103,103,83]),ac3:Kr([11,119]),riff:Kr([82,73,70,70]),avi:Kr([65,86,73]),wav:Kr([87,65,86,69]),"3gp":Kr([102,116,121,112,51,103]),mp4:Kr([102,116,121,112]),fmp4:Kr([115,116,121,112]),mov:Kr([102,116,121,112,113,116]),moov:Kr([109,111,111,118]),moof:Kr([109,111,111,102])},Mc={aac:function(t){var o=Ic(t);return cs(t,[255,16],{offset:o,mask:[255,22]})},mp3:function(t){var o=Ic(t);return cs(t,[255,2],{offset:o,mask:[255,6]})},webm:function(t){var o=Q_(t,[J0.EBML,J0.DocType])[0];return cs(o,Zc.webm)},mkv:function(t){var o=Q_(t,[J0.EBML,J0.DocType])[0];return cs(o,Zc.matroska)},mp4:function(t){return!Mc["3gp"](t)&&!Mc.mov(t)&&(!!(cs(t,Zc.mp4,{offset:4})||cs(t,Zc.fmp4,{offset:4})||cs(t,Zc.moof,{offset:4})||cs(t,Zc.moov,{offset:4}))||void 0)},mov:function(t){return cs(t,Zc.mov,{offset:4})},"3gp":function(t){return cs(t,Zc["3gp"],{offset:4})},ac3:function(t){var o=Ic(t);return cs(t,Zc.ac3,{offset:o})},ts:function(t){if(t.length<189&&t.length>=1)return 71===t[0];for(var o=0;o+188<t.length&&o<188;){if(71===t[o]&&71===t[o+188])return!0;o+=1}return!1},flac:function(t){var o=Ic(t);return cs(t,Zc.flac,{offset:o})},ogg:function(t){return cs(t,Zc.ogg)},avi:function(t){return cs(t,Zc.riff)&&cs(t,Zc.avi,{offset:8})},wav:function(t){return cs(t,Zc.riff)&&cs(t,Zc.wav,{offset:8})},h264:function(t){return function(t,o,h){return tb(t,"h264",o,h)}(t,7,3).length},h265:function(t){return function(t,o,h){return tb(t,"h265",o,h)}(t,[32,33],3).length}},Mu=Object.keys(Mc).filter(function(c){return"ts"!==c&&"h264"!==c&&"h265"!==c}).concat(["ts","h264","h265"]);Mu.forEach(function(c){var t=Mc[c];Mc[c]=function(o){return t(Kr(o))}});var Km,Ym,Df,_p,Sf=Mc,mp=function(t){t=Kr(t);for(var o=0;o<Mu.length;o++){var h=Mu[o];if(Sf[h](t))return h}return""};var Xm=[9e4,Km=function(c){return 9e4*c},Ym=function(c,t){return c*t},Df=function(c){return c/9e4},_p=function(c,t){return c/t}][0];const _d=function(t,o){if(/^[a-z]+:/i.test(o))return o;/^data:/.test(t)&&(t=window.location&&window.location.href||"");var h="function"==typeof window.URL,y=/^\/\//.test(t),M=!window.location&&!/\/\//i.test(t);if(h?t=new window.URL(t,window.location||Th):/\/\//i.test(t)||(t=wr.buildAbsoluteURL(window.location&&window.location.href||"",t)),h){var L=new URL(o,t);return M?L.href.slice(18):y?L.href.slice(L.protocol.length):L.href}return wr.buildAbsoluteURL(t,o)},Zg=(c,t)=>t&&t.responseURL&&c!==t.responseURL?t.responseURL:c,vd=c=>ui.log.debug?ui.log.debug.bind(ui,"VHS:",`${c} >`):function(){};function ua(...c){const t=ui.obj||ui;return(t.merge||t.mergeOptions).apply(t,c)}function tc(...c){const t=ui.time||ui;return(t.createTimeRanges||t.createTimeRanges).apply(t,c)}const $h=1/30,Jd=.1,n_=function(c,t){const o=[];let h;if(c&&c.length)for(h=0;h<c.length;h++)t(c.start(h),c.end(h))&&o.push([c.start(h),c.end(h)]);return tc(o)},bd=function(c,t){return n_(c,function(o,h){return o-Jd<=t&&h+Jd>=t})},Jc=function(c,t){return n_(c,function(o){return o-$h>=t})},i_=c=>{const t=[];if(!c||!c.length)return"";for(let o=0;o<c.length;o++)t.push(c.start(o)+" => "+c.end(o));return t.join(", ")},Au=c=>{const t=[];for(let o=0;o<c.length;o++)t.push({start:c.start(o),end:c.end(o)});return t},Qm=function(c){if(c&&c.length&&c.end)return c.end(c.length-1)},yp=function(c,t){let o=0;if(!c||!c.length)return o;for(let h=0;h<c.length;h++){const y=c.start(h),M=c.end(h);if(!(t>M)){if(t>y&&t<=M){o+=M-t;continue}o+=M-y}}return o},tm=(c,t)=>{if(!t.preload)return t.duration;let o=0;return(t.parts||[]).forEach(function(h){o+=h.duration}),(t.preloadHints||[]).forEach(function(h){"PART"===h.type&&(o+=c.partTargetDuration)}),o},r_=c=>(c.segments||[]).reduce((t,o,h)=>(o.parts?o.parts.forEach(function(y,M){t.push({duration:y.duration,segmentIndex:h,partIndex:M,part:y,segment:o})}):t.push({duration:o.duration,segmentIndex:h,partIndex:null,segment:o,part:null}),t),[]),ev=c=>{const t=c.segments&&c.segments.length&&c.segments[c.segments.length-1];return t&&t.parts||[]},s_=({preloadSegment:c})=>{if(!c)return;const{parts:t,preloadHints:o}=c;let h=(o||[]).reduce((y,M)=>y+("PART"===M.type?1:0),0);return h+=t&&t.length?t.length:0,h},Ep=(c,t)=>{if(t.endList)return 0;if(c&&c.suggestedPresentationDelay)return c.suggestedPresentationDelay;const o=ev(t).length>0;return o&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:o&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},xp=function(c,t,o){if(typeof t>"u"&&(t=c.mediaSequence+c.segments.length),t<c.mediaSequence)return 0;const h=function(c,t){let o=0,h=t-c.mediaSequence,y=c.segments[h];if(y){if(typeof y.start<"u")return{result:y.start,precise:!0};if(typeof y.end<"u")return{result:y.end-y.duration,precise:!0}}for(;h--;){if(y=c.segments[h],typeof y.end<"u")return{result:o+y.end,precise:!0};if(o+=tm(c,y),typeof y.start<"u")return{result:o+y.start,precise:!0}}return{result:o,precise:!1}}(c,t);if(h.precise)return h.result;const y=function(c,t){let h,o=0,y=t-c.mediaSequence;for(;y<c.segments.length;y++){if(h=c.segments[y],typeof h.start<"u")return{result:h.start-o,precise:!0};if(o+=tm(c,h),typeof h.end<"u")return{result:h.end-o,precise:!0}}return{result:-1,precise:!1}}(c,t);return y.precise?y.result:h.result+o},wp=function(c,t,o){if(!c)return 0;if("number"!=typeof o&&(o=0),typeof t>"u"){if(c.totalDuration)return c.totalDuration;if(!c.endList)return window.Infinity}return xp(c,t,o)},Ac=function({defaultDuration:c,durationList:t,startIndex:o,endIndex:h}){let y=0;if(o>h&&([o,h]=[h,o]),o<0){for(let M=o;M<Math.min(0,h);M++)y+=c;o=0}for(let M=o;M<h;M++)y+=t[M].duration;return y},im=function(c,t,o,h){if(!c||!c.segments)return null;if(c.endList)return wp(c);if(null===t)return null;let y=xp(c,c.mediaSequence+c.segments.length,t=t||0);return o&&(y-=h="number"==typeof h?h:Ep(null,c)),Math.max(0,y)},rm=function(c){return c.excludeUntil&&c.excludeUntil>Date.now()},If=function(c){return c.excludeUntil&&c.excludeUntil===1/0},Cp=function(c){const t=rm(c);return!c.disabled&&!t},Jg=function(c,t){return t.attributes&&t.attributes[c]},Tp=(c,t)=>{if(1===c.playlists.length)return!0;const o=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===c.playlists.filter(h=>!!Cp(h)&&(h.attributes.BANDWIDTH||0)<o).length},Wh=(c,t)=>!(!c&&!t||!c&&t||c&&!t||!(c===t||c.id&&t.id&&c.id===t.id||c.resolvedUri&&t.resolvedUri&&c.resolvedUri===t.resolvedUri||c.uri&&t.uri&&c.uri===t.uri)),ed=function(c,t){const o=c&&c.mediaGroups&&c.mediaGroups.AUDIO||{};let h=!1;for(const y in o){for(const M in o[y])if(h=t(o[y][M]),h)break;if(h)break}return!!h},qm=c=>{if(!c||!c.playlists||!c.playlists.length)return ed(c,o=>o.playlists&&o.playlists.length||o.uri);for(let t=0;t<c.playlists.length;t++){const o=c.playlists[t],h=o.attributes&&o.attributes.CODECS;if(!(h&&h.split(",").every(M=>Ol(M))||ed(c,M=>Wh(o,M))))return!1}return!0};var eu={liveEdgeDelay:Ep,duration:wp,seekable:function(c,t,o){const y=t||0,M=im(c,t,!0,o);return null===M?tc():tc(y,M)},getMediaInfoForTime:function({playlist:c,currentTime:t,startingSegmentIndex:o,startingPartIndex:h,startTime:y,exactManifestTimings:M}){let L=t-y;const K=r_(c);let pe=0;for(let He=0;He<K.length;He++){const Je=K[He];if(o===Je.segmentIndex&&("number"!=typeof h||"number"!=typeof Je.partIndex||h===Je.partIndex)){pe=He;break}}if(L<0){if(pe>0)for(let He=pe-1;He>=0;He--){const Je=K[He];if(L+=Je.duration,M){if(L<0)continue}else if(L+$h<=0)continue;return{partIndex:Je.partIndex,segmentIndex:Je.segmentIndex,startTime:y-Ac({defaultDuration:c.targetDuration,durationList:K,startIndex:pe,endIndex:He})}}return{partIndex:K[0]&&K[0].partIndex||null,segmentIndex:K[0]&&K[0].segmentIndex||0,startTime:t}}if(pe<0){for(let He=pe;He<0;He++)if(L-=c.targetDuration,L<0)return{partIndex:K[0]&&K[0].partIndex||null,segmentIndex:K[0]&&K[0].segmentIndex||0,startTime:t};pe=0}for(let He=pe;He<K.length;He++){const Je=K[He];if(L-=Je.duration,M){if(L>0)continue}else if(L-$h>=0)continue;return{partIndex:Je.partIndex,segmentIndex:Je.segmentIndex,startTime:y+Ac({defaultDuration:c.targetDuration,durationList:K,startIndex:pe,endIndex:He})}}return{segmentIndex:K[K.length-1].segmentIndex,partIndex:K[K.length-1].partIndex,startTime:t}},isEnabled:Cp,isDisabled:function(c){return c.disabled},isExcluded:rm,isIncompatible:If,playlistEnd:im,isAes:function(c){for(let t=0;t<c.segments.length;t++)if(c.segments[t].key)return!0;return!1},hasAttribute:Jg,estimateSegmentRequestTime:function(c,t,o,h=0){return Jg("BANDWIDTH",o)?(c*o.attributes.BANDWIDTH-8*h)/t:NaN},isLowestEnabledRendition:Tp,isAudioOnly:qm,playlistMatch:Wh,segmentDurationWithParts:tm};const{log:rb}=ui,sb=(c,t)=>`${c}-${t}`,Xb=(c,t,o)=>`placeholder-uri-${c}-${t}-${o}`,Kh=(c,t)=>{c.mediaGroups&&["AUDIO","SUBTITLES"].forEach(o=>{if(c.mediaGroups[o])for(const h in c.mediaGroups[o])for(const y in c.mediaGroups[o][h])t(c.mediaGroups[o][h][y],o,h,y)})},Sp=({playlist:c,uri:t,id:o})=>{c.id=o,c.playlistErrors_=0,t&&(c.uri=t),c.attributes=c.attributes||{}},am=(c,t,o=Xb)=>{c.uri=t;for(let y=0;y<c.playlists.length;y++)c.playlists[y].uri||(c.playlists[y].uri=`placeholder-uri-${y}`);const h=qm(c);Kh(c,(y,M,L,K)=>{if(!y.playlists||!y.playlists.length){if(h&&"AUDIO"===M&&!y.uri)for(let pe=0;pe<c.playlists.length;pe++){const He=c.playlists[pe];if(He.attributes&&He.attributes.AUDIO&&He.attributes.AUDIO===L)return}y.playlists=[Us({},y)]}y.playlists.forEach(function(pe,He){const Je=o(M,L,K,pe),St=sb(He,Je);pe.uri?pe.resolvedUri=pe.resolvedUri||_d(c.uri,pe.uri):(pe.uri=0===He?Je:St,pe.resolvedUri=pe.uri),pe.id=pe.id||St,pe.attributes=pe.attributes||{},c.playlists[pe.id]=pe,c.playlists[pe.uri]=pe})}),(c=>{let t=c.playlists.length;for(;t--;){const o=c.playlists[t];Sp({playlist:o,id:sb(t,o.uri)}),o.resolvedUri=_d(c.uri,o.uri),c.playlists[o.id]=o,c.playlists[o.uri]=o,o.attributes.BANDWIDTH||rb.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}})(c),(c=>{Kh(c,t=>{t.uri&&(t.resolvedUri=_d(c.uri,t.uri))})})(c)},{EventTarget:Dp}=ui,uc=(c,t)=>{if(!c)return t;const o=ua(c,t);if(c.preloadHints&&!t.preloadHints&&delete o.preloadHints,c.parts&&!t.parts)delete o.parts;else if(c.parts&&t.parts)for(let h=0;h<t.parts.length;h++)c.parts&&c.parts[h]&&(o.parts[h]=ua(c.parts[h],t.parts[h]));return!c.skipped&&t.skipped&&(o.skipped=!1),c.preload&&!t.preload&&(o.preload=!1),o},t0=(c,t)=>{!c.resolvedUri&&c.uri&&(c.resolvedUri=_d(t,c.uri)),c.key&&!c.key.resolvedUri&&(c.key.resolvedUri=_d(t,c.key.uri)),c.map&&!c.map.resolvedUri&&(c.map.resolvedUri=_d(t,c.map.uri)),c.map&&c.map.key&&!c.map.key.resolvedUri&&(c.map.key.resolvedUri=_d(t,c.map.key.uri)),c.parts&&c.parts.length&&c.parts.forEach(o=>{o.resolvedUri||(o.resolvedUri=_d(t,o.uri))}),c.preloadHints&&c.preloadHints.length&&c.preloadHints.forEach(o=>{o.resolvedUri||(o.resolvedUri=_d(t,o.uri))})},nv=function(c){const t=c.segments||[],o=c.preloadSegment;if(o&&o.parts&&o.parts.length){if(o.preloadHints)for(let h=0;h<o.preloadHints.length;h++)if("MAP"===o.preloadHints[h].type)return t;o.duration=c.targetDuration,o.preload=!0,t.push(o)}return t},Xh=(c,t)=>c===t||c.segments&&t.segments&&c.segments.length===t.segments.length&&c.endList===t.endList&&c.mediaSequence===t.mediaSequence&&c.preloadSegment===t.preloadSegment,iv=(c,t,o=Xh)=>{const h=ua(c,{}),y=h.playlists[t.id];if(!y||o(y,t))return null;t.segments=nv(t);const M=ua(y,t);if(M.preloadSegment&&!t.preloadSegment&&delete M.preloadSegment,y.segments){if(t.skip){t.segments=t.segments||[];for(let L=0;L<t.skip.skippedSegments;L++)t.segments.unshift({skipped:!0})}M.segments=((c,t,o)=>{const h=c.slice(),y=t.slice();o=o||0;const M=[];let L;for(let K=0;K<y.length;K++){const pe=h[K+o],He=y[K];pe?(L=pe.map||L,M.push(uc(pe,He))):(L&&!He.map&&(He.map=L),M.push(He))}return M})(y.segments,t.segments,t.mediaSequence-y.mediaSequence)}M.segments.forEach(L=>{t0(L,M.resolvedUri)});for(let L=0;L<h.playlists.length;L++)h.playlists[L].id===t.id&&(h.playlists[L]=M);return h.playlists[t.id]=M,h.playlists[t.uri]=M,Kh(c,(L,K,pe,He)=>{if(L.playlists)for(let Je=0;Je<L.playlists.length;Je++)t.id===L.playlists[Je].id&&(L.playlists[Je]=M)}),h},ob=(c,t)=>{const o=c.segments||[],h=o[o.length-1],y=h&&h.parts&&h.parts[h.parts.length-1],M=y&&y.duration||h&&h.duration;return t&&M?1e3*M:500*(c.partTargetDuration||c.targetDuration||10)};class Mf extends Dp{constructor(t,o,h={}){if(super(),!t)throw new Error("A non-empty playlist URL or object is required");this.logger_=vd("PlaylistLoader");const{withCredentials:y=!1}=h;this.src=t,this.vhs_=o,this.withCredentials=y;const M=o.options_;this.customTagParsers=M&&M.customTagParsers||[],this.customTagMappers=M&&M.customTagMappers||[],this.llhls=M&&M.llhls,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_)}handleMediaupdatetimeout_(){if("HAVE_METADATA"!==this.state)return;const t=this.media();let o=_d(this.main.uri,t.uri);this.llhls&&(o=((c,t)=>{if(t.endList||!t.serverControl)return c;const o={};if(t.serverControl.canBlockReload){const{preloadSegment:h}=t;let y=t.mediaSequence+t.segments.length;if(h){const M=h.parts||[],L=s_(t)-1;L>-1&&L!==M.length-1&&(o._HLS_part=L),(L>-1||M.length)&&y--}o._HLS_msn=y}if(t.serverControl&&t.serverControl.canSkipUntil&&(o._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(o).length){const h=new window.URL(c);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(y){o.hasOwnProperty(y)&&h.searchParams.set(y,o[y])}),c=h.toString()}return c})(o,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:o,withCredentials:this.withCredentials},(h,y)=>{if(this.request){if(h)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(t,o,h){const{uri:y,id:M}=o;this.request=null,h&&(this.state=h),this.error={playlist:this.main.playlists[M],status:t.status,message:`HLS playlist request error at URL: ${y}.`,responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}parseManifest_({url:t,manifestString:o}){return(({onwarn:c,oninfo:t,manifestString:o,customTagParsers:h=[],customTagMappers:y=[],llhls:M})=>{const L=new Kf;c&&L.on("warn",c),t&&L.on("info",t),h.forEach(He=>L.addParser(He)),y.forEach(He=>L.addTagMapper(He)),L.push(o),L.end();const K=L.manifest;if(M||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(He){K.hasOwnProperty(He)&&delete K[He]}),K.segments&&K.segments.forEach(function(He){["parts","preloadHints"].forEach(function(Je){He.hasOwnProperty(Je)&&delete He[Je]})})),!K.targetDuration){let He=10;K.segments&&K.segments.length&&(He=K.segments.reduce((Je,St)=>Math.max(Je,St.duration),0)),c&&c(`manifest has no targetDuration defaulting to ${He}`),K.targetDuration=He}const pe=ev(K);if(pe.length&&!K.partTargetDuration){const He=pe.reduce((Je,St)=>Math.max(Je,St.duration),0);c&&(c(`manifest has no partTargetDuration defaulting to ${He}`),rb.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),K.partTargetDuration=He}return K})({onwarn:({message:h})=>this.logger_(`m3u8-parser warn for ${t}: ${h}`),oninfo:({message:h})=>this.logger_(`m3u8-parser info for ${t}: ${h}`),manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:t,playlistObject:o,url:h,id:y}){this.request=null,this.state="HAVE_METADATA";const M=o||this.parseManifest_({url:h,manifestString:t});M.lastRequest=Date.now(),Sp({playlist:M,uri:h,id:y});const L=iv(this.main,M);this.targetDuration=M.partTargetDuration||M.targetDuration,this.pendingMedia_=null,L?(this.main=L,this.media_=this.main.playlists[y]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(ob(this.media(),!!L)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),window.clearTimeout(this.finalRenditionTimeout),this.off()}stopRequest(){if(this.request){const t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}media(t,o){if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof t){if(!this.main.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.main.playlists[t]}if(window.clearTimeout(this.finalRenditionTimeout),o){const L=(t.partTargetDuration||t.targetDuration)/2*1e3||5e3;return void(this.finalRenditionTimeout=window.setTimeout(this.media.bind(this,t,!1),L))}const h=this.state,y=!this.media_||t.id!==this.media_.id,M=this.main.playlists[t.id];if(M&&M.endList||t.endList&&t.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(y&&(this.trigger("mediachanging"),this.trigger("HAVE_MAIN_MANIFEST"===h?"loadedmetadata":"mediachange")));if(this.updateMediaUpdateTimeout_(ob(t,!0)),y){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=t,this.request=this.vhs_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},(L,K)=>{if(this.request){if(t.lastRequest=Date.now(),t.resolvedUri=Zg(t.resolvedUri,K),L)return this.playlistRequestError(this.request,t,h);this.haveMetadata({playlistString:K.responseText,url:t.uri,id:t.id}),this.trigger("HAVE_MAIN_MANIFEST"===h?"loadedmetadata":"mediachange")}})}}pause(){this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.state=this.media_?"HAVE_METADATA":"HAVE_MAIN_MANIFEST":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}load(t){this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const o=this.media();t?this.mediaUpdateTimeout=window.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},o?(o.partTargetDuration||o.targetDuration)/2*1e3:5e3):this.started?this.trigger(o&&!o.endList?"mediaupdatetimeout":"loadedplaylist"):this.start()}updateMediaUpdateTimeout_(t){this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=window.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(t)},t))}start(){if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=window.location.href),this.src.resolvedUri=this.src.uri,void setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(t,o)=>{if(!this.request)return;if(this.request=null,t)return this.error={status:o.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:o.responseText,code:2},"HAVE_NOTHING"===this.state&&(this.started=!1),this.trigger("error");this.src=Zg(this.src,o);const h=this.parseManifest_({manifestString:o.responseText,url:this.src});this.setupInitialPlaylist(h)})}srcUri(){return"string"==typeof this.src?this.src:this.src.uri}setupInitialPlaylist(t){if(this.state="HAVE_MAIN_MANIFEST",t.playlists)return this.main=t,am(this.main,this.srcUri()),t.playlists.forEach(h=>{h.segments=nv(h),h.segments.forEach(y=>{t0(y,h.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.main.playlists[0]));const o=this.srcUri()||window.location.href;this.main=((c,t)=>{const o=sb(0,t),h={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:window.location.href,resolvedUri:window.location.href,playlists:[{uri:t,id:o,resolvedUri:t,attributes:{}}]};return h.playlists[o]=h.playlists[0],h.playlists[t]=h.playlists[0],h})(0,o),this.haveMetadata({playlistObject:t,url:o,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}}const{xhr:a_}=ui,n0=function(c,t,o,h){const y="arraybuffer"===c.responseType?c.response:c.responseText;!t&&y&&(c.responseTime=Date.now(),c.roundTripTime=c.responseTime-c.requestTime,c.bytesReceived=y.byteLength||y.length,c.bandwidth||(c.bandwidth=Math.floor(c.bytesReceived/c.roundTripTime*8*1e3))),o.headers&&(c.responseHeaders=o.headers),t&&"ETIMEDOUT"===t.code&&(c.timedout=!0),!t&&!c.aborted&&200!==o.statusCode&&206!==o.statusCode&&0!==o.statusCode&&(t=new Error("XHR Failed with a response of: "+(c&&(y||c.responseText)))),h(t,c)},r0=function(){const c=function t(o,h){o=ua({timeout:45e3},o);const y=t.beforeRequest||ui.Vhs.xhr.beforeRequest;if(y&&"function"==typeof y){const pe=y(o);pe&&(o=pe)}const L=(!0===ui.Vhs.xhr.original?a_:ui.Vhs.xhr)(o,function(pe,He){return n0(L,pe,He,h)}),K=L.abort;return L.abort=function(){return L.aborted=!0,K.apply(L,arguments)},L.uri=o.uri,L.requestTime=Date.now(),L};return c.original=!0,c},ku=function(c){const t={};return c.byterange&&(t.Range=function(c){let t;const o=c.offset;return t="bigint"==typeof c.offset||"bigint"==typeof c.length?window.BigInt(c.offset)+window.BigInt(c.length)-window.BigInt(1):c.offset+c.length-1,"bytes="+o+"-"+t}(c.byterange)),t},rv=function(c,t){return c.start(t)+"-"+c.end(t)},ah=function(c,t){const o=c.toString(16);return"00".substring(0,2-o.length)+o+(t%2?" ":"")},Ip=function(c){return c>=32&&c<126?String.fromCharCode(c):"."},l_=function(c){const t={};return Object.keys(c).forEach(o=>{const h=c[o];t[o]=zp(h)?{bytes:h.buffer,byteOffset:h.byteOffset,byteLength:h.byteLength}:h}),t},kc=function(c){const t=c.byterange||{length:1/0,offset:0};return[t.length,t.offset,c.resolvedUri].join(",")},lm=function(c){return c.resolvedUri},sv=c=>{const t=Array.prototype.slice.call(c),o=16;let y,M,h="";for(let L=0;L<t.length/o;L++)y=t.slice(L*o,L*o+o).map(ah).join(""),M=t.slice(L*o,L*o+o).map(Ip).join(""),h+=y+" "+M+"\n";return h};var s0=Object.freeze({__proto__:null,createTransferableMessage:l_,initSegmentId:kc,segmentKeyId:lm,hexDump:sv,tagDump:({bytes:c})=>sv(c),textRanges:c=>{let o,t="";for(o=0;o<c.length;o++)t+=rv(c,o)+" ";return t}});const av=({playlist:c,time:t,callback:o})=>{if(!o)throw new Error("getProgramTime: callback must be provided");if(!c||void 0===t)return o({message:"getProgramTime: playlist and time must be provided"});const h=((c,t)=>{if(!t||!t.segments||0===t.segments.length)return null;let h,o=0;for(let M=0;M<t.segments.length&&(h=t.segments[M],o=h.videoTimingInfo?h.videoTimingInfo.transmuxedPresentationEnd:o+h.duration,!(c<=o));M++);const y=t.segments[t.segments.length-1];if(y.videoTimingInfo&&y.videoTimingInfo.transmuxedPresentationEnd<c)return null;if(c>o){if(c>o+.25*y.duration)return null;h=y}return{segment:h,estimatedStart:h.videoTimingInfo?h.videoTimingInfo.transmuxedPresentationStart:o-h.duration,type:h.videoTimingInfo?"accurate":"estimate"}})(t,c);if(!h)return o({message:"valid programTime was not found"});if("estimate"===h.type)return o({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:h.estimatedStart});const y={mediaSeconds:t},M=((c,t)=>{if(!t.dateTimeObject)return null;const M=c-(t.videoTimingInfo.transmuxedPresentationStart+t.videoTimingInfo.transmuxerPrependedSeconds);return new Date(t.dateTimeObject.getTime()+1e3*M)})(t,h.segment);return M&&(y.programDateTime=M.toISOString()),o(null,y)},eg=({programTime:c,playlist:t,retryCount:o=2,seekTo:h,pauseAfterSeek:y=!0,tech:M,callback:L})=>{if(!L)throw new Error("seekToProgramTime: callback must be provided");if(typeof c>"u"||!t||!h)return L({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!t.endList&&!M.hasStarted_)return L({message:"player must be playing a live stream to start buffering"});if(!(c=>{if(!c.segments||0===c.segments.length)return!1;for(let t=0;t<c.segments.length;t++)if(!c.segments[t].dateTimeObject)return!1;return!0})(t))return L({message:"programDateTime tags must be provided in the manifest "+t.resolvedUri});const K=((c,t)=>{let o;try{o=new Date(c)}catch{return null}if(!t||!t.segments||0===t.segments.length)return null;let h=t.segments[0];if(o<h.dateTimeObject)return null;for(let pe=0;pe<t.segments.length-1&&(h=t.segments[pe],!(o<t.segments[pe+1].dateTimeObject));pe++);const y=t.segments[t.segments.length-1],M=y.dateTimeObject,L=y.videoTimingInfo?(c=>c.transmuxedPresentationEnd-c.transmuxedPresentationStart-c.transmuxerPrependedSeconds)(y.videoTimingInfo):y.duration+.25*y.duration;return o>new Date(M.getTime()+1e3*L)?null:(o>M&&(h=y),{segment:h,estimatedStart:h.videoTimingInfo?h.videoTimingInfo.transmuxedPresentationStart:eu.duration(t,t.mediaSequence+t.segments.indexOf(h)),type:h.videoTimingInfo?"accurate":"estimate"})})(c,t);if(!K)return L({message:`${c} was not found in the stream`});const pe=K.segment,He=((c,t)=>{let o,h;try{o=new Date(c),h=new Date(t)}catch{}const y=o.getTime();return(h.getTime()-y)/1e3})(pe.dateTimeObject,c);if("estimate"===K.type)return 0===o?L({message:`${c} is not buffered yet. Try again`}):(h(K.estimatedStart+He),void M.one("seeked",()=>{eg({programTime:c,playlist:t,retryCount:o-1,seekTo:h,pauseAfterSeek:y,tech:M,callback:L})}));const Je=pe.start+He;M.one("seeked",()=>L(null,M.currentTime())),y&&M.pause(),h(Je)},dm=(c,t)=>{if(4===c.readyState)return t()},lh=(c,t,o)=>{let y,h=[],M=!1;const L=function(Je,St,rn,Bt){return St.abort(),M=!0,o(Je,St,rn,Bt)},K=function(Je,St){if(M)return;if(Je)return L(Je,St,"",h);const rn=St.responseText.substring(h&&h.byteLength||0,St.responseText.length);if(h=function(){for(var t=arguments.length,o=new Array(t),h=0;h<t;h++)o[h]=arguments[h];if((o=o.filter(function(K){return K&&(K.byteLength||K.length)&&"string"!=typeof K})).length<=1)return Kr(o[0]);var y=o.reduce(function(K,pe,He){return K+(pe.byteLength||pe.length)},0),M=new Uint8Array(y),L=0;return o.forEach(function(K){K=Kr(K),M.set(K,L),L+=K.byteLength}),M}(h,Ua(rn,!0)),y=y||Ic(h),h.length<10||y&&h.length<y+2)return dm(St,()=>L(Je,St,"",h));const Bt=mp(h);return"ts"===Bt&&h.length<188||!Bt&&h.length<376?dm(St,()=>L(Je,St,"",h)):L(null,St,Bt,h)},He=t({uri:c,beforeSend(Je){Je.overrideMimeType("text/plain; charset=x-user-defined"),Je.addEventListener("progress",function({}){return n0(Je,null,{statusCode:Je.status},K)})}},function(Je,St){return n0(He,Je,St,K)});return He},{EventTarget:l0}=ui,sl=function(c,t){if(!Xh(c,t)||c.sidx&&t.sidx&&(c.sidx.offset!==t.sidx.offset||c.sidx.length!==t.sidx.length))return!1;if(!c.sidx&&t.sidx||c.sidx&&!t.sidx||c.segments&&!t.segments||!c.segments&&t.segments)return!1;if(!c.segments&&!t.segments)return!0;for(let o=0;o<c.segments.length;o++){const h=c.segments[o],y=t.segments[o];if(h.uri!==y.uri)return!1;if(!h.byterange&&!y.byterange)continue;const M=h.byterange,L=y.byterange;if(M&&!L||!M&&L||M.offset!==L.offset||M.length!==L.length)return!1}return!0},ch=(c,t,o,h)=>`placeholder-uri-${c}-${t}-${h.attributes.NAME||o}`,hc=(c,t,o)=>{let h=!0,y=ua(c,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts});for(let M=0;M<t.playlists.length;M++){const L=t.playlists[M];if(L.sidx){const pe=Qp(L.sidx);o&&o[pe]&&o[pe].sidx&&Xp(L,o[pe].sidx,L.sidx.resolvedUri)}const K=iv(y,L,sl);K&&(y=K,h=!1)}return Kh(t,(M,L,K,pe)=>{if(M.playlists&&M.playlists.length){const He=M.playlists[0].id,Je=iv(y,M.playlists[0],sl);Je&&(y=Je,pe in y.mediaGroups[L][K]||(y.mediaGroups[L][K][pe]=M),y.mediaGroups[L][K][pe].playlists[0]=y.playlists[He],h=!1)}}),((c,t)=>{Kh(c,(o,h,y,M)=>{M in t.mediaGroups[h][y]||delete c.mediaGroups[h][y][M]})})(y,t),t.minimumUpdatePeriod!==c.minimumUpdatePeriod&&(h=!1),h?null:y},kf=(c,t)=>(!c.map&&!t.map||!(!c.map||!t.map||c.map.byterange.offset!==t.map.byterange.offset||c.map.byterange.length!==t.map.byterange.length))&&c.uri===t.uri&&c.byterange.offset===t.byterange.offset&&c.byterange.length===t.byterange.length,Of=(c,t)=>{const o={};for(const h in c){const M=c[h].sidx;if(M){const L=Qp(M);if(!t[L])break;kf(t[L].sidxInfo,M)&&(o[L]=t[L])}}return o};class dh extends l0{constructor(t,o,h={},y){super(),this.mainPlaylistLoader_=y||this,y||(this.isMain_=!0);const{withCredentials:M=!1}=h;if(this.vhs_=o,this.withCredentials=M,!t)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=vd("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=t,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=t}requestErrored_(t,o,h){return!this.request||(this.request=null,t?(this.error="object"!=typeof t||t instanceof Error?{status:o.status,message:"DASH request error at URL: "+o.uri,response:o.response,code:2}:t,h&&(this.state=h),this.trigger("error"),!0):void 0)}addSidxSegments_(t,o,h){const y=t.sidx&&Qp(t.sidx);if(!t.sidx||!y||this.mainPlaylistLoader_.sidxMapping_[y])return void(this.mediaRequest_=window.setTimeout(()=>h(!1),0));const M=Zg(t.sidx.resolvedUri),L=(K,pe)=>{if(this.requestErrored_(K,pe,o))return;const He=this.mainPlaylistLoader_.sidxMapping_;let Je;try{Je=function(c){var t=new DataView(c.buffer,c.byteOffset,c.byteLength),o={version:c[0],flags:new Uint8Array(c.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},h=12;0===o.version?(o.earliestPresentationTime=t.getUint32(h),o.firstOffset=t.getUint32(h+4),h+=8):(o.earliestPresentationTime=Hb(c.subarray(h)),o.firstOffset=Hb(c.subarray(h+8)),h+=16);var y=t.getUint16(h+=2);for(h+=2;y>0;h+=12,y--)o.references.push({referenceType:(128&c[h])>>>7,referencedSize:2147483647&t.getUint32(h),subsegmentDuration:t.getUint32(h+4),startsWithSap:!!(128&c[h+8]),sapType:(112&c[h+8])>>>4,sapDeltaTime:268435455&t.getUint32(h+8)});return o}(Kr(pe.response).subarray(8))}catch(St){return void this.requestErrored_(St,pe,o)}return He[y]={sidxInfo:t.sidx,sidx:Je},Xp(t,Je,t.sidx.resolvedUri),h(!0)};this.request=lh(M,this.vhs_.xhr,(K,pe,He,Je)=>{if(K)return L(K,pe);if(!He||"mp4"!==He)return L({status:pe.status,message:`Unsupported ${He||"unknown"} container type for sidx segment at URL: ${M}`,response:"",playlist:t,internal:!0,playlistExclusionDuration:1/0,code:2},pe);const{offset:St,length:rn}=t.sidx.byterange;if(Je.length>=rn+St)return L(K,{response:Je.subarray(St,St+rn),status:pe.status,uri:pe.uri});this.request=this.vhs_.xhr({uri:M,responseType:"arraybuffer",headers:ku({byterange:t.sidx.byterange})},L)})}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},window.clearTimeout(this.minimumUpdatePeriodTimeout_),window.clearTimeout(this.mediaRequest_),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}media(t){if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);const o=this.state;if("string"==typeof t){if(!this.mainPlaylistLoader_.main.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.mainPlaylistLoader_.main.playlists[t]}const h=!this.media_||t.id!==this.media_.id;if(h&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList)return this.state="HAVE_METADATA",this.media_=t,void(h&&(this.trigger("mediachanging"),this.trigger("mediachange")));h&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,o,y=>{this.haveMetadata({startingState:o,playlist:t})}))}haveMetadata({startingState:t,playlist:o}){this.state="HAVE_METADATA",this.loadedPlaylists_[o.id]=o,this.mediaRequest_=null,this.refreshMedia_(o.id),this.trigger("HAVE_MAIN_MANIFEST"===t?"loadedmetadata":"mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(window.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)}load(t){window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const o=this.media();t?this.mediaUpdateTimeout=window.setTimeout(()=>this.load(),o?o.targetDuration/2*1e3:5e3):this.started?o&&!o.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()}start(){this.started=!0,this.isMain_?this.requestMain_((t,o)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])}):this.mediaRequest_=window.setTimeout(()=>this.haveMain_(),0)}requestMain_(t){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(o,h)=>{if(this.requestErrored_(o,h))return void("HAVE_NOTHING"===this.state&&(this.started=!1));const y=h.responseText!==this.mainPlaylistLoader_.mainXml_;return this.mainPlaylistLoader_.mainXml_=h.responseText,this.mainLoaded_=h.responseHeaders&&h.responseHeaders.date?Date.parse(h.responseHeaders.date):Date.now(),this.mainPlaylistLoader_.srcUrl=Zg(this.mainPlaylistLoader_.srcUrl,h),y?(this.handleMain_(),void this.syncClientServerClock_(()=>t(h,y))):t(h,y)})}syncClientServerClock_(t){const o=hp(this.mainPlaylistLoader_.mainXml_);return null===o?(this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),t()):"DIRECT"===o.method?(this.mainPlaylistLoader_.clientOffset_=o.value-Date.now(),t()):void(this.request=this.vhs_.xhr({uri:_d(this.mainPlaylistLoader_.srcUrl,o.value),method:o.method,withCredentials:this.withCredentials},(h,y)=>{if(!this.request)return;if(h)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),t();let M;M="HEAD"===o.method?y.responseHeaders&&y.responseHeaders.date?Date.parse(y.responseHeaders.date):this.mainLoaded_:Date.parse(y.responseText),this.mainPlaylistLoader_.clientOffset_=M-Date.now(),t()}))}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const t=this.mainPlaylistLoader_.main;let o=(({mainXml:c,srcUrl:t,clientOffset:o,sidxMapping:h,previousManifest:y})=>{const M=Q0(c,{manifestUri:t,clientOffset:o,sidxMapping:h,previousManifest:y});return am(M,t,ch),M})({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:t});t&&(o=hc(t,o,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=o||t;const h=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return h&&h!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=h),(!t||o&&o.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),!!o}updateMinimumUpdatePeriodTimeout_(){const t=this.mainPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(window.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);let o=t.main&&t.main.minimumUpdatePeriod;0===o&&(t.media()?o=1e3*t.media().targetDuration:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),"number"!=typeof o||o<=0?o<0&&this.logger_(`found invalid minimumUpdatePeriod of ${o}, not setting a timeout`):this.createMUPTimeout_(o)}createMUPTimeout_(t){const o=this.mainPlaylistLoader_;o.minimumUpdatePeriodTimeout_=window.setTimeout(()=>{o.minimumUpdatePeriodTimeout_=null,o.trigger("minimumUpdatePeriod"),o.createMUPTimeout_(t)},t)}refreshXml_(){this.requestMain_((t,o)=>{o&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=((c,t)=>{let h=Of(c.playlists,t);return Kh(c,(y,M,L,K)=>{y.playlists&&y.playlists.length&&(h=ua(h,Of(y.playlists,t)))}),h})(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,h=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(t){if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const o=this.mainPlaylistLoader_.main.playlists,h=!this.media_||this.media_!==o[t];if(h?this.media_=o[t]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const y=()=>{this.media().endList||(this.mediaUpdateTimeout=window.setTimeout(()=>{this.trigger("mediaupdatetimeout"),y()},ob(this.media(),!!h)))};y()}this.trigger("loadedplaylist")}}var Dl={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const Mp=function(c){return c.on=c.addEventListener,c.off=c.removeEventListener,c},d_=function(c){return function(){const t=function(c){try{return URL.createObjectURL(new Blob([c],{type:"application/javascript"}))}catch{const o=new BlobBuilder;return o.append(c),URL.createObjectURL(o.getBlob())}}(c),o=Mp(new Worker(t));o.objURL=t;const h=o.terminate;return o.on=o.addEventListener,o.off=o.removeEventListener,o.terminate=function(){return URL.revokeObjectURL(t),h.call(this)},o}},ig=function(c){return`var browserWorkerPolyFill = ${Mp.toString()};\nbrowserWorkerPolyFill(self);\n`+c},c0=function(c){return c.toString().replace(/^function.+?{/,"").slice(0,-1)},d0=ig(c0(function(){var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=function(){this.init=function(){var j={};this.on=function(le,ye){j[le]||(j[le]=[]),j[le]=j[le].concat(ye)},this.off=function(le,ye){var ve;return!!j[le]&&(ve=j[le].indexOf(ye),j[le]=j[le].slice(),j[le].splice(ve,1),ve>-1)},this.trigger=function(le){var ye,ve,je,nt;if(ye=j[le])if(2===arguments.length)for(je=ye.length,ve=0;ve<je;++ve)ye[ve].call(this,arguments[1]);else{for(nt=[],ve=arguments.length,ve=1;ve<arguments.length;++ve)nt.push(arguments[ve]);for(je=ye.length,ve=0;ve<je;++ve)ye[ve].apply(this,nt)}},this.dispose=function(){j={}}}};t.prototype.pipe=function(j){return this.on("data",function(le){j.push(le)}),this.on("done",function(le){j.flush(le)}),this.on("partialdone",function(le){j.partialFlush(le)}),this.on("endedtimeline",function(le){j.endTimeline(le)}),this.on("reset",function(le){j.reset(le)}),j},t.prototype.push=function(j){this.trigger("data",j)},t.prototype.flush=function(j){this.trigger("done",j)},t.prototype.partialFlush=function(j){this.trigger("partialdone",j)},t.prototype.endTimeline=function(j){this.trigger("endedtimeline",j)},t.prototype.reset=function(j){this.trigger("reset",j)};var K,pe,He,Je,St,rn,Bt,Vn,Fn,Bn,Gn,si,Bi,wi,Jn,Sr,Yr,Ws,xs,$o,Ks,Ys,zr,lo,pc,_o,al,Rc,ph,ll,Lc,vm,iu,xb,wb,O_,j,le,o=t,h=Math.pow(2,32),M={getUint64:function(j){var ye,le=new DataView(j.buffer,j.byteOffset,j.byteLength);return le.getBigUint64?(ye=le.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(ye):ye:le.getUint32(0)*h+le.getUint32(4)},MAX_UINT32:h},L=M.MAX_UINT32;(function(){var j;if(zr={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(j in zr)zr.hasOwnProperty(j)&&(zr[j]=[j.charCodeAt(0),j.charCodeAt(1),j.charCodeAt(2),j.charCodeAt(3)]);lo=new Uint8Array([105,115,111,109]),_o=new Uint8Array([97,118,99,49]),pc=new Uint8Array([0,0,0,1]),al=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Rc=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ph={video:al,audio:Rc},vm=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Lc=new Uint8Array([0,0,0,0,0,0,0,0]),iu=new Uint8Array([0,0,0,0,0,0,0,0]),xb=iu,wb=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),O_=iu,ll=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),K=function(j){var ve,je,le=[],ye=0;for(ve=1;ve<arguments.length;ve++)le.push(arguments[ve]);for(ve=le.length;ve--;)ye+=le[ve].byteLength;for(je=new Uint8Array(ye+8),new DataView(je.buffer,je.byteOffset,je.byteLength).setUint32(0,je.byteLength),je.set(j,4),ve=0,ye=8;ve<le.length;ve++)je.set(le[ve],ye),ye+=le[ve].byteLength;return je},pe=function(){return K(zr.dinf,K(zr.dref,vm))},He=function(j){return K(zr.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,j.audioobjecttype<<3|j.samplingfrequencyindex>>>1,j.samplingfrequencyindex<<7|j.channelcount<<3,6,1,2]))},Je=function(){return K(zr.ftyp,lo,pc,lo,_o)},Sr=function(j){return K(zr.hdlr,ph[j])},St=function(j){return K(zr.mdat,j)},Jn=function(j){var le=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,j.duration>>>24&255,j.duration>>>16&255,j.duration>>>8&255,255&j.duration,85,196,0,0]);return j.samplerate&&(le[12]=j.samplerate>>>24&255,le[13]=j.samplerate>>>16&255,le[14]=j.samplerate>>>8&255,le[15]=255&j.samplerate),K(zr.mdhd,le)},wi=function(j){return K(zr.mdia,Jn(j),Sr(j.type),Bt(j))},rn=function(j){return K(zr.mfhd,new Uint8Array([0,0,0,0,(4278190080&j)>>24,(16711680&j)>>16,(65280&j)>>8,255&j]))},Bt=function(j){return K(zr.minf,"video"===j.type?K(zr.vmhd,ll):K(zr.smhd,Lc),pe(),Ws(j))},Vn=function(j,le){for(var ye=[],ve=le.length;ve--;)ye[ve]=$o(le[ve]);return K.apply(null,[zr.moof,rn(j)].concat(ye))},Fn=function(j){for(var le=j.length,ye=[];le--;)ye[le]=si(j[le]);return K.apply(null,[zr.moov,Gn(4294967295)].concat(ye).concat(Bn(j)))},Bn=function(j){for(var le=j.length,ye=[];le--;)ye[le]=Ks(j[le]);return K.apply(null,[zr.mvex].concat(ye))},Gn=function(j){var le=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&j)>>24,(16711680&j)>>16,(65280&j)>>8,255&j,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return K(zr.mvhd,le)},Yr=function(j){var ve,je,le=j.samples||[],ye=new Uint8Array(4+le.length);for(je=0;je<le.length;je++)ye[je+4]=(ve=le[je].flags).dependsOn<<4|ve.isDependedOn<<2|ve.hasRedundancy;return K(zr.sdtp,ye)},Ws=function(j){return K(zr.stbl,xs(j),K(zr.stts,O_),K(zr.stsc,xb),K(zr.stsz,wb),K(zr.stco,iu))},xs=function(ye){return K(zr.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===ye.type?j(ye):le(ye))},j=function(ye){var an,mn,ve=ye.sps||[],je=ye.pps||[],nt=[],Zt=[];for(an=0;an<ve.length;an++)nt.push((65280&ve[an].byteLength)>>>8),nt.push(255&ve[an].byteLength),nt=nt.concat(Array.prototype.slice.call(ve[an]));for(an=0;an<je.length;an++)Zt.push((65280&je[an].byteLength)>>>8),Zt.push(255&je[an].byteLength),Zt=Zt.concat(Array.prototype.slice.call(je[an]));if(mn=[zr.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&ye.width)>>8,255&ye.width,(65280&ye.height)>>8,255&ye.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),K(zr.avcC,new Uint8Array([1,ye.profileIdc,ye.profileCompatibility,ye.levelIdc,255].concat([ve.length],nt,[je.length],Zt))),K(zr.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],ye.sarRatio){var In=ye.sarRatio[0],Qn=ye.sarRatio[1];mn.push(K(zr.pasp,new Uint8Array([(4278190080&In)>>24,(16711680&In)>>16,(65280&In)>>8,255&In,(4278190080&Qn)>>24,(16711680&Qn)>>16,(65280&Qn)>>8,255&Qn])))}return K.apply(null,mn)},le=function(ye){return K(zr.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&ye.channelcount)>>8,255&ye.channelcount,(65280&ye.samplesize)>>8,255&ye.samplesize,0,0,0,0,(65280&ye.samplerate)>>8,255&ye.samplerate,0,0]),He(ye))},Bi=function(j){var le=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&j.id)>>24,(16711680&j.id)>>16,(65280&j.id)>>8,255&j.id,0,0,0,0,(4278190080&j.duration)>>24,(16711680&j.duration)>>16,(65280&j.duration)>>8,255&j.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&j.width)>>8,255&j.width,0,0,(65280&j.height)>>8,255&j.height,0,0]);return K(zr.tkhd,le)},$o=function(j){var le,ye,ve,je,Zt,an;return le=K(zr.tfhd,new Uint8Array([0,0,0,58,(4278190080&j.id)>>24,(16711680&j.id)>>16,(65280&j.id)>>8,255&j.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),Zt=Math.floor(j.baseMediaDecodeTime/L),an=Math.floor(j.baseMediaDecodeTime%L),ye=K(zr.tfdt,new Uint8Array([1,0,0,0,Zt>>>24&255,Zt>>>16&255,Zt>>>8&255,255&Zt,an>>>24&255,an>>>16&255,an>>>8&255,255&an])),92,"audio"===j.type?(ve=Ys(j,92),K(zr.traf,le,ye,ve)):(je=Yr(j),ve=Ys(j,je.length+92),K(zr.traf,le,ye,ve,je))},si=function(j){return j.duration=j.duration||4294967295,K(zr.trak,Bi(j),wi(j))},Ks=function(j){var le=new Uint8Array([0,0,0,0,(4278190080&j.id)>>24,(16711680&j.id)>>16,(65280&j.id)>>8,255&j.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==j.type&&(le[le.length-1]=0),K(zr.trex,le)},function(){var j,le,ye;ye=function(ve,je){var nt=0,Zt=0,an=0,mn=0;return ve.length&&(void 0!==ve[0].duration&&(nt=1),void 0!==ve[0].size&&(Zt=2),void 0!==ve[0].flags&&(an=4),void 0!==ve[0].compositionTimeOffset&&(mn=8)),[0,0,nt|Zt|an|mn,1,(4278190080&ve.length)>>>24,(16711680&ve.length)>>>16,(65280&ve.length)>>>8,255&ve.length,(4278190080&je)>>>24,(16711680&je)>>>16,(65280&je)>>>8,255&je]},le=function(ve,je){var nt,Zt,an,mn,In,Qn;for(an=ye(mn=ve.samples||[],je+=20+16*mn.length),(Zt=new Uint8Array(an.length+16*mn.length)).set(an),nt=an.length,Qn=0;Qn<mn.length;Qn++)Zt[nt++]=(4278190080&(In=mn[Qn]).duration)>>>24,Zt[nt++]=(16711680&In.duration)>>>16,Zt[nt++]=(65280&In.duration)>>>8,Zt[nt++]=255&In.duration,Zt[nt++]=(4278190080&In.size)>>>24,Zt[nt++]=(16711680&In.size)>>>16,Zt[nt++]=(65280&In.size)>>>8,Zt[nt++]=255&In.size,Zt[nt++]=In.flags.isLeading<<2|In.flags.dependsOn,Zt[nt++]=In.flags.isDependedOn<<6|In.flags.hasRedundancy<<4|In.flags.paddingValue<<1|In.flags.isNonSyncSample,Zt[nt++]=61440&In.flags.degradationPriority,Zt[nt++]=15&In.flags.degradationPriority,Zt[nt++]=(4278190080&In.compositionTimeOffset)>>>24,Zt[nt++]=(16711680&In.compositionTimeOffset)>>>16,Zt[nt++]=(65280&In.compositionTimeOffset)>>>8,Zt[nt++]=255&In.compositionTimeOffset;return K(zr.trun,Zt)},j=function(ve,je){var nt,Zt,an,mn,In,Qn;for(an=ye(mn=ve.samples||[],je+=20+8*mn.length),(nt=new Uint8Array(an.length+8*mn.length)).set(an),Zt=an.length,Qn=0;Qn<mn.length;Qn++)nt[Zt++]=(4278190080&(In=mn[Qn]).duration)>>>24,nt[Zt++]=(16711680&In.duration)>>>16,nt[Zt++]=(65280&In.duration)>>>8,nt[Zt++]=255&In.duration,nt[Zt++]=(4278190080&In.size)>>>24,nt[Zt++]=(16711680&In.size)>>>16,nt[Zt++]=(65280&In.size)>>>8,nt[Zt++]=255&In.size;return K(zr.trun,nt)},Ys=function(ve,je){return"audio"===ve.type?j(ve,je):le(ve,je)}}();var Ue,gt,Kt,zt,cn,pn,Xt,wn,D0={ftyp:Je,mdat:St,moof:Vn,moov:Fn,initSegment:function(j){var ve,le=Je(),ye=Fn(j);return(ve=new Uint8Array(le.byteLength+ye.byteLength)).set(le),ve.set(ye,le.byteLength),ve}},Sb=function(j,le){var ye={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return ye.dataOffset=le,ye.compositionTimeOffset=j.pts-j.dts,ye.duration=j.duration,ye.size=4*j.length,ye.size+=j.byteLength,j.keyFrame&&(ye.flags.dependsOn=2,ye.flags.isNonSyncSample=0),ye},w={groupNalsIntoFrames:function(j){var le,ye,ve=[],je=[];for(je.byteLength=0,je.nalCount=0,je.duration=0,ve.byteLength=0,le=0;le<j.length;le++)"access_unit_delimiter_rbsp"===(ye=j[le]).nalUnitType?(ve.length&&(ve.duration=ye.dts-ve.dts,je.byteLength+=ve.byteLength,je.nalCount+=ve.length,je.duration+=ve.duration,je.push(ve)),(ve=[ye]).byteLength=ye.data.byteLength,ve.pts=ye.pts,ve.dts=ye.dts):("slice_layer_without_partitioning_rbsp_idr"===ye.nalUnitType&&(ve.keyFrame=!0),ve.duration=ye.dts-ve.dts,ve.byteLength+=ye.data.byteLength,ve.push(ye));return je.length&&(!ve.duration||ve.duration<=0)&&(ve.duration=je[je.length-1].duration),je.byteLength+=ve.byteLength,je.nalCount+=ve.length,je.duration+=ve.duration,je.push(ve),je},groupFramesIntoGops:function(j){var le,ye,ve=[],je=[];for(ve.byteLength=0,ve.nalCount=0,ve.duration=0,ve.pts=j[0].pts,ve.dts=j[0].dts,je.byteLength=0,je.nalCount=0,je.duration=0,je.pts=j[0].pts,je.dts=j[0].dts,le=0;le<j.length;le++)(ye=j[le]).keyFrame?(ve.length&&(je.push(ve),je.byteLength+=ve.byteLength,je.nalCount+=ve.nalCount,je.duration+=ve.duration),(ve=[ye]).nalCount=ye.length,ve.byteLength=ye.byteLength,ve.pts=ye.pts,ve.dts=ye.dts,ve.duration=ye.duration):(ve.duration+=ye.duration,ve.nalCount+=ye.length,ve.byteLength+=ye.byteLength,ve.push(ye));return je.length&&ve.duration<=0&&(ve.duration=je[je.length-1].duration),je.byteLength+=ve.byteLength,je.nalCount+=ve.nalCount,je.duration+=ve.duration,je.push(ve),je},extendFirstKeyFrame:function(j){var le;return!j[0][0].keyFrame&&j.length>1&&(le=j.shift(),j.byteLength-=le.byteLength,j.nalCount-=le.nalCount,j[0][0].dts=le.dts,j[0][0].pts=le.pts,j[0][0].duration+=le.duration),j},generateSampleTable:function(j,le){var ye,ve,je,nt,an=le||0,mn=[];for(ye=0;ye<j.length;ye++)for(nt=j[ye],ve=0;ve<nt.length;ve++)an+=(je=Sb(nt[ve],an)).size,mn.push(je);return mn},concatenateNalData:function(j){var le,ye,ve,je,nt,Zt,an=0,_i=new Uint8Array(j.byteLength+4*j.nalCount),Mr=new DataView(_i.buffer);for(le=0;le<j.length;le++)for(je=j[le],ye=0;ye<je.length;ye++)for(nt=je[ye],ve=0;ve<nt.length;ve++)Mr.setUint32(an,(Zt=nt[ve]).data.byteLength),_i.set(Zt.data,an+=4),an+=Zt.data.byteLength;return _i},generateSampleTableForFrame:function(j,le){var ye,je=[];return ye=Sb(j,le||0),je.push(ye),je},concatenateNalDataForFrame:function(j){var le,ye,ve=0,an=new Uint8Array(j.byteLength+4*j.length),mn=new DataView(an.buffer);for(le=0;le<j.length;le++)mn.setUint32(ve,(ye=j[le]).data.byteLength),an.set(ye.data,ve+=4),ve+=ye.data.byteLength;return an}},N=[33,16,5,32,164,27],W=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],se=function(j){for(var le=[];j--;)le.push(0);return le};gt=function(j){return 9e4*j},Kt=function(j,le){return j*le},zt=function(j){return j/9e4},cn=function(j,le){return j/le},pn=function(j,le){return gt(cn(j,le))},Xt=function(j,le){return Kt(zt(j),le)},wn=function(j,le,ye){return zt(ye?j:j-le)};var _n={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:gt,secondsToAudioTs:Kt,videoTsToSeconds:zt,audioTsToSeconds:cn,audioTsToVideoTs:pn,videoTsToAudioTs:Xt,metadataTsToSeconds:wn},ai=function(){if(!Ue){var j={96e3:[N,[227,64],se(154),[56]],88200:[N,[231],se(170),[56]],64e3:[N,[248,192],se(240),[56]],48e3:[N,[255,192],se(268),[55,148,128],se(54),[112]],44100:[N,[255,192],se(268),[55,163,128],se(84),[112]],32e3:[N,[255,192],se(268),[55,234],se(226),[112]],24e3:[N,[255,192],se(268),[55,255,128],se(268),[111,112],se(126),[224]],16e3:[N,[255,192],se(268),[55,255,128],se(268),[111,255],se(269),[223,108],se(195),[1,192]],12e3:[W,se(268),[3,127,248],se(268),[6,255,240],se(268),[13,255,224],se(268),[27,253,128],se(259),[56]],11025:[W,se(268),[3,127,248],se(268),[6,255,240],se(268),[13,255,224],se(268),[27,255,192],se(268),[55,175,128],se(108),[112]],8e3:[W,se(268),[3,121,16],se(47),[7]]};Ue=function(j){return Object.keys(j).reduce(function(le,ye){return le[ye]=new Uint8Array(j[ye].reduce(function(ve,je){return ve.concat(je)},[])),le},{})}(j)}return Ue},Er=_n,Gr={prefixWithSilence:function(j,le,ye,ve){var je,In,Qn,_i,nt=0,Zt=0,an=0,mn=0;if(le.length&&(je=Er.audioTsToVideoTs(j.baseMediaDecodeTime,j.samplerate),nt=Math.ceil(Er.ONE_SECOND_IN_TS/(j.samplerate/1024)),ye&&ve&&(Zt=je-Math.max(ye,ve),mn=(an=Math.floor(Zt/nt))*nt),!(an<1||mn>Er.ONE_SECOND_IN_TS/2))){for((In=ai()[j.samplerate])||(In=le[0].data),Qn=0;Qn<an;Qn++)le.splice(0,0,{data:In,dts:(_i=le[0]).dts-nt,pts:_i.pts-nt});return j.baseMediaDecodeTime-=Math.floor(Er.videoTsToAudioTs(mn,j.samplerate)),mn}},trimAdtsFramesByEarliestDts:function(j,le,ye){return le.minSegmentDts>=ye?j:(le.minSegmentDts=1/0,j.filter(function(ve){return ve.dts>=ye&&(le.minSegmentDts=Math.min(le.minSegmentDts,ve.dts),le.minSegmentPts=le.minSegmentDts,!0)}))},generateSampleTable:function(j){var le,ve=[];for(le=0;le<j.length;le++)ve.push({size:j[le].data.byteLength,duration:1024});return ve},concatenateFrameData:function(j){var le,ye,ve=0,je=new Uint8Array(function(j){var le,ve=0;for(le=0;le<j.length;le++)ve+=j[le].data.byteLength;return ve}(j));for(le=0;le<j.length;le++)je.set((ye=j[le]).data,ve),ve+=ye.data.byteLength;return je}},ki=_n.ONE_SECOND_IN_TS,Ui={clearDtsInfo:function(j){delete j.minSegmentDts,delete j.maxSegmentDts,delete j.minSegmentPts,delete j.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(j,le){var ye,je=j.minSegmentDts;return le||(je-=j.timelineStartInfo.dts),ye=j.timelineStartInfo.baseMediaDecodeTime,ye+=je,ye=Math.max(0,ye),"audio"===j.type&&(ye*=j.samplerate/ki,ye=Math.floor(ye)),ye},collectDtsInfo:function(j,le){"number"==typeof le.pts&&(void 0===j.timelineStartInfo.pts&&(j.timelineStartInfo.pts=le.pts),j.minSegmentPts=void 0===j.minSegmentPts?le.pts:Math.min(j.minSegmentPts,le.pts),j.maxSegmentPts=void 0===j.maxSegmentPts?le.pts:Math.max(j.maxSegmentPts,le.pts)),"number"==typeof le.dts&&(void 0===j.timelineStartInfo.dts&&(j.timelineStartInfo.dts=le.dts),j.minSegmentDts=void 0===j.minSegmentDts?le.dts:Math.min(j.minSegmentDts,le.dts),j.maxSegmentDts=void 0===j.maxSegmentDts?le.dts:Math.max(j.maxSegmentDts,le.dts))}},Cr={parseSei:function(j){for(var le=0,ye={payloadType:-1,payloadSize:0},ve=0,je=0;le<j.byteLength&&128!==j[le];){for(;255===j[le];)ve+=255,le++;for(ve+=j[le++];255===j[le];)je+=255,le++;if(je+=j[le++],!ye.payload&&4===ve){if("GA94"===String.fromCharCode(j[le+3],j[le+4],j[le+5],j[le+6])){ye.payloadType=ve,ye.payloadSize=je,ye.payload=j.subarray(le,le+je);break}ye.payload=void 0}le+=je,ve=0,je=0}return ye},parseUserData:function(j){return 181!==j.payload[0]||49!=(j.payload[1]<<8|j.payload[2])||"GA94"!==String.fromCharCode(j.payload[3],j.payload[4],j.payload[5],j.payload[6])||3!==j.payload[7]?null:j.payload.subarray(8,j.payload.length-1)},parseCaptionPackets:function(j,le){var ve,je,nt,Zt,ye=[];if(!(64&le[0]))return ye;for(je=31&le[0],ve=0;ve<je;ve++)Zt={type:3&le[2+(nt=3*ve)],pts:j},4&le[nt+2]&&(Zt.ccData=le[nt+3]<<8|le[nt+4],ye.push(Zt));return ye},discardEmulationPreventionBytes:function(j){for(var je,nt,le=j.byteLength,ye=[],ve=1;ve<le-2;)0===j[ve]&&0===j[ve+1]&&3===j[ve+2]?(ye.push(ve+2),ve+=2):ve++;if(0===ye.length)return j;je=le-ye.length,nt=new Uint8Array(je);var Zt=0;for(ve=0;ve<je;Zt++,ve++)Zt===ye[0]&&(Zt++,ye.shift()),nt[ve]=j[Zt];return nt},USER_DATA_REGISTERED_ITU_T_T35:4},hs=o,Wr=Cr,Ds=function(j){j=j||{},Ds.prototype.init.call(this),this.parse708captions_="boolean"!=typeof j.parse708captions||j.parse708captions,this.captionPackets_=[],this.ccStreams_=[new ko(0,0),new ko(0,1),new ko(1,0),new ko(1,1)],this.parse708captions_&&(this.cc708Stream_=new Yo({captionServices:j.captionServices})),this.reset(),this.ccStreams_.forEach(function(le){le.on("data",this.trigger.bind(this,"data")),le.on("partialdone",this.trigger.bind(this,"partialdone")),le.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Ds.prototype=new hs,Ds.prototype.push=function(j){var le,ye,ve;if("sei_rbsp"===j.nalUnitType&&(le=Wr.parseSei(j.escapedRBSP)).payload&&le.payloadType===Wr.USER_DATA_REGISTERED_ITU_T_T35&&(ye=Wr.parseUserData(le))){if(j.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(j.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));ve=Wr.parseCaptionPackets(j.pts,ye),this.captionPackets_=this.captionPackets_.concat(ve),this.latestDts_!==j.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=j.dts}},Ds.prototype.flushCCStreams=function(j){this.ccStreams_.forEach(function(le){return"flush"===j?le.flush():le.partialFlush()},this)},Ds.prototype.flushStream=function(j){this.captionPackets_.length?(this.captionPackets_.forEach(function(le,ye){le.presortIndex=ye}),this.captionPackets_.sort(function(le,ye){return le.pts===ye.pts?le.presortIndex-ye.presortIndex:le.pts-ye.pts}),this.captionPackets_.forEach(function(le){le.type<2?this.dispatchCea608Packet(le):this.dispatchCea708Packet(le)},this),this.captionPackets_.length=0,this.flushCCStreams(j)):this.flushCCStreams(j)},Ds.prototype.flush=function(){return this.flushStream("flush")},Ds.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Ds.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(j){j.reset()})},Ds.prototype.dispatchCea608Packet=function(j){this.setsTextOrXDSActive(j)?this.activeCea608Channel_[j.type]=null:this.setsChannel1Active(j)?this.activeCea608Channel_[j.type]=0:this.setsChannel2Active(j)&&(this.activeCea608Channel_[j.type]=1),null!==this.activeCea608Channel_[j.type]&&this.ccStreams_[(j.type<<1)+this.activeCea608Channel_[j.type]].push(j)},Ds.prototype.setsChannel1Active=function(j){return 4096==(30720&j.ccData)},Ds.prototype.setsChannel2Active=function(j){return 6144==(30720&j.ccData)},Ds.prototype.setsTextOrXDSActive=function(j){return 256==(28928&j.ccData)||4138==(30974&j.ccData)||6186==(30974&j.ccData)},Ds.prototype.dispatchCea708Packet=function(j){this.parse708captions_&&this.cc708Stream_.push(j)};var xo={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},cl=function(j){return 32<=j&&j<=127||160<=j&&j<=255},Ha=function(j){this.windowNum=j,this.reset()};Ha.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Ha.prototype.getText=function(){return this.rows.join("\n")},Ha.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Ha.prototype.newLine=function(j){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(j),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Ha.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},Ha.prototype.addText=function(j){this.rows[this.rowIdx]+=j},Ha.prototype.backspace=function(){if(!this.isEmpty()){var j=this.rows[this.rowIdx];this.rows[this.rowIdx]=j.substr(0,j.length-1)}};var wd=function(j,le,ye){this.serviceNum=j,this.text="",this.currentWindow=new Ha(-1),this.windows=[],this.stream=ye,"string"==typeof le&&this.createTextDecoder(le)};wd.prototype.init=function(j,le){this.startPts=j;for(var ye=0;ye<8;ye++)this.windows[ye]=new Ha(ye),"function"==typeof le&&(this.windows[ye].beforeRowOverflow=le)},wd.prototype.setCurrentWindow=function(j){this.currentWindow=this.windows[j]},wd.prototype.createTextDecoder=function(j){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(j)}catch(le){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+j+" encoding. "+le})}};var Yo=function(j){j=j||{},Yo.prototype.init.call(this);var je,le=this,ye=j.captionServices||{},ve={};Object.keys(ye).forEach(nt=>{je=ye[nt],/^SERVICE/.test(nt)&&(ve[nt]=je.encoding)}),this.serviceEncodings=ve,this.current708Packet=null,this.services={},this.push=function(nt){3===nt.type?(le.new708Packet(),le.add708Bytes(nt)):(null===le.current708Packet&&le.new708Packet(),le.add708Bytes(nt))}};Yo.prototype=new hs,Yo.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Yo.prototype.add708Bytes=function(j){var le=j.ccData,ye=le>>>8,ve=255&le;this.current708Packet.ptsVals.push(j.pts),this.current708Packet.data.push(ye),this.current708Packet.data.push(ve)},Yo.prototype.push708Packet=function(){var j=this.current708Packet,le=j.data,ye=null,ve=null,je=0,nt=le[je++];for(j.seq=nt>>6,j.sizeCode=63&nt;je<le.length;je++)ve=31&(nt=le[je++]),7==(ye=nt>>5)&&ve>0&&(ye=nt=le[je++]),this.pushServiceBlock(ye,je,ve),ve>0&&(je+=ve-1)},Yo.prototype.pushServiceBlock=function(j,le,ye){var ve,je=le,nt=this.current708Packet.data,Zt=this.services[j];for(Zt||(Zt=this.initService(j,je));je<le+ye&&je<nt.length;je++)cl(ve=nt[je])?je=this.handleText(je,Zt):24===ve?je=this.multiByteCharacter(je,Zt):16===ve?je=this.extendedCommands(je,Zt):128<=ve&&ve<=135?je=this.setCurrentWindow(je,Zt):152<=ve&&ve<=159?je=this.defineWindow(je,Zt):136===ve?je=this.clearWindows(je,Zt):140===ve?je=this.deleteWindows(je,Zt):137===ve?je=this.displayWindows(je,Zt):138===ve?je=this.hideWindows(je,Zt):139===ve?je=this.toggleWindows(je,Zt):151===ve?je=this.setWindowAttributes(je,Zt):144===ve?je=this.setPenAttributes(je,Zt):145===ve?je=this.setPenColor(je,Zt):146===ve?je=this.setPenLocation(je,Zt):143===ve?Zt=this.reset(je,Zt):8===ve?Zt.currentWindow.backspace():12===ve?Zt.currentWindow.clearText():13===ve?Zt.currentWindow.pendingNewLine=!0:14===ve?Zt.currentWindow.clearText():141===ve&&je++},Yo.prototype.extendedCommands=function(j,le){var ve=this.current708Packet.data[++j];return cl(ve)&&(j=this.handleText(j,le,{isExtended:!0})),j},Yo.prototype.getPts=function(j){return this.current708Packet.ptsVals[Math.floor(j/2)]},Yo.prototype.initService=function(j,le){var ve,je,ye=this;return(ve="SERVICE"+j)in this.serviceEncodings&&(je=this.serviceEncodings[ve]),this.services[j]=new wd(j,je,ye),this.services[j].init(this.getPts(le),function(nt){ye.flushDisplayed(nt,ye.services[j])}),this.services[j]},Yo.prototype.handleText=function(j,le,ye){var Qn,_i,ve=ye&&ye.isExtended,nt=this.current708Packet.data,Zt=ve?4096:0,an=nt[j],In=le.currentWindow;return le.textDecoder_&&!ve?(ye&&ye.isMultiByte?(_i=[an,nt[j+1]],j++):_i=[an],Qn=le.textDecoder_.decode(new Uint8Array(_i))):Qn=function(j){var le=xo[j]||j;return 4096&j&&j===le?"":String.fromCharCode(le)}(Zt|an),In.pendingNewLine&&!In.isEmpty()&&In.newLine(this.getPts(j)),In.pendingNewLine=!1,In.addText(Qn),j},Yo.prototype.multiByteCharacter=function(j,le){var ye=this.current708Packet.data,je=ye[j+2];return cl(ye[j+1])&&cl(je)&&(j=this.handleText(++j,le,{isMultiByte:!0})),j},Yo.prototype.setCurrentWindow=function(j,le){return le.setCurrentWindow(7&this.current708Packet.data[j]),j},Yo.prototype.defineWindow=function(j,le){var ye=this.current708Packet.data,ve=ye[j];le.setCurrentWindow(7&ve);var nt=le.currentWindow;return ve=ye[++j],nt.visible=(32&ve)>>5,nt.rowLock=(16&ve)>>4,nt.columnLock=(8&ve)>>3,nt.priority=7&ve,ve=ye[++j],nt.relativePositioning=(128&ve)>>7,nt.anchorVertical=127&ve,ve=ye[++j],nt.anchorHorizontal=ve,ve=ye[++j],nt.anchorPoint=(240&ve)>>4,nt.rowCount=15&ve,ve=ye[++j],nt.columnCount=63&ve,ve=ye[++j],nt.windowStyle=(56&ve)>>3,nt.penStyle=7&ve,nt.virtualRowCount=nt.rowCount+1,j},Yo.prototype.setWindowAttributes=function(j,le){var ye=this.current708Packet.data,ve=ye[j],je=le.currentWindow.winAttr;return ve=ye[++j],je.fillOpacity=(192&ve)>>6,je.fillRed=(48&ve)>>4,je.fillGreen=(12&ve)>>2,je.fillBlue=3&ve,ve=ye[++j],je.borderType=(192&ve)>>6,je.borderRed=(48&ve)>>4,je.borderGreen=(12&ve)>>2,je.borderBlue=3&ve,ve=ye[++j],je.borderType+=(128&ve)>>5,je.wordWrap=(64&ve)>>6,je.printDirection=(48&ve)>>4,je.scrollDirection=(12&ve)>>2,je.justify=3&ve,ve=ye[++j],je.effectSpeed=(240&ve)>>4,je.effectDirection=(12&ve)>>2,je.displayEffect=3&ve,j},Yo.prototype.flushDisplayed=function(j,le){for(var ye=[],ve=0;ve<8;ve++)le.windows[ve].visible&&!le.windows[ve].isEmpty()&&ye.push(le.windows[ve].getText());le.endPts=j,le.text=ye.join("\n\n"),this.pushCaption(le),le.startPts=j},Yo.prototype.pushCaption=function(j){""!==j.text&&(this.trigger("data",{startPts:j.startPts,endPts:j.endPts,text:j.text,stream:"cc708_"+j.serviceNum}),j.text="",j.startPts=j.endPts)},Yo.prototype.displayWindows=function(j,le){var ve=this.current708Packet.data[++j],je=this.getPts(j);this.flushDisplayed(je,le);for(var nt=0;nt<8;nt++)ve&1<<nt&&(le.windows[nt].visible=1);return j},Yo.prototype.hideWindows=function(j,le){var ve=this.current708Packet.data[++j],je=this.getPts(j);this.flushDisplayed(je,le);for(var nt=0;nt<8;nt++)ve&1<<nt&&(le.windows[nt].visible=0);return j},Yo.prototype.toggleWindows=function(j,le){var ve=this.current708Packet.data[++j],je=this.getPts(j);this.flushDisplayed(je,le);for(var nt=0;nt<8;nt++)ve&1<<nt&&(le.windows[nt].visible^=1);return j},Yo.prototype.clearWindows=function(j,le){var ve=this.current708Packet.data[++j],je=this.getPts(j);this.flushDisplayed(je,le);for(var nt=0;nt<8;nt++)ve&1<<nt&&le.windows[nt].clearText();return j},Yo.prototype.deleteWindows=function(j,le){var ve=this.current708Packet.data[++j],je=this.getPts(j);this.flushDisplayed(je,le);for(var nt=0;nt<8;nt++)ve&1<<nt&&le.windows[nt].reset();return j},Yo.prototype.setPenAttributes=function(j,le){var ye=this.current708Packet.data,ve=ye[j],je=le.currentWindow.penAttr;return ve=ye[++j],je.textTag=(240&ve)>>4,je.offset=(12&ve)>>2,je.penSize=3&ve,ve=ye[++j],je.italics=(128&ve)>>7,je.underline=(64&ve)>>6,je.edgeType=(56&ve)>>3,je.fontStyle=7&ve,j},Yo.prototype.setPenColor=function(j,le){var ye=this.current708Packet.data,ve=ye[j],je=le.currentWindow.penColor;return ve=ye[++j],je.fgOpacity=(192&ve)>>6,je.fgRed=(48&ve)>>4,je.fgGreen=(12&ve)>>2,je.fgBlue=3&ve,ve=ye[++j],je.bgOpacity=(192&ve)>>6,je.bgRed=(48&ve)>>4,je.bgGreen=(12&ve)>>2,je.bgBlue=3&ve,ve=ye[++j],je.edgeRed=(48&ve)>>4,je.edgeGreen=(12&ve)>>2,je.edgeBlue=3&ve,j},Yo.prototype.setPenLocation=function(j,le){var ye=this.current708Packet.data,ve=ye[j],je=le.currentWindow.penLoc;return le.currentWindow.pendingNewLine=!0,ve=ye[++j],je.row=15&ve,ve=ye[++j],je.column=63&ve,j},Yo.prototype.reset=function(j,le){var ye=this.getPts(j);return this.flushDisplayed(ye,le),this.initService(le.serviceNum,j)};var Nv={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},I0=function(j){return null===j?"":(j=Nv[j]||j,String.fromCharCode(j))},Bv=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],tf=function(){for(var j=[],le=15;le--;)j.push("");return j},ko=function(j,le){ko.prototype.init.call(this),this.field_=j||0,this.dataChannel_=le||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(ye){var ve,je,nt,Zt,an;if((ve=32639&ye.ccData)!==this.lastControlCode_){if(4096==(61440&ve)?this.lastControlCode_=ve:ve!==this.PADDING_&&(this.lastControlCode_=null),nt=ve>>>8,Zt=255&ve,ve!==this.PADDING_)if(ve===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(ve===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(ye.pts),this.flushDisplayed(ye.pts),je=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=je,this.startPts_=ye.pts;else if(ve===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(ye.pts);else if(ve===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(ye.pts);else if(ve===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(ye.pts);else if(ve===this.CARRIAGE_RETURN_)this.clearFormatting(ye.pts),this.flushDisplayed(ye.pts),this.shiftRowsUp_(),this.startPts_=ye.pts;else if(ve===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(ve===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(ye.pts),this.displayed_=tf();else if(ve===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=tf();else if(ve===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(ye.pts),this.displayed_=tf()),this.mode_="paintOn",this.startPts_=ye.pts;else if(this.isSpecialCharacter(nt,Zt))an=I0((nt=(3&nt)<<8)|Zt),this[this.mode_](ye.pts,an),this.column_++;else if(this.isExtCharacter(nt,Zt))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),an=I0((nt=(3&nt)<<8)|Zt),this[this.mode_](ye.pts,an),this.column_++;else if(this.isMidRowCode(nt,Zt))this.clearFormatting(ye.pts),this[this.mode_](ye.pts," "),this.column_++,!(14&~Zt)&&this.addFormatting(ye.pts,["i"]),!(1&~Zt)&&this.addFormatting(ye.pts,["u"]);else if(this.isOffsetControlCode(nt,Zt))this.column_+=3&Zt;else if(this.isPAC(nt,Zt)){var mn=Bv.indexOf(7968&ve);"rollUp"===this.mode_&&(mn-this.rollUpRows_+1<0&&(mn=this.rollUpRows_-1),this.setRollUp(ye.pts,mn)),mn!==this.row_&&(this.clearFormatting(ye.pts),this.row_=mn),1&Zt&&-1===this.formatting_.indexOf("u")&&this.addFormatting(ye.pts,["u"]),!(16&~ve)&&(this.column_=4*((14&ve)>>1)),this.isColorPAC(Zt)&&!(14&~Zt)&&this.addFormatting(ye.pts,["i"])}else this.isNormalChar(nt)&&(0===Zt&&(Zt=null),an=I0(nt),an+=I0(Zt),this[this.mode_](ye.pts,an),this.column_+=an.length)}else this.lastControlCode_=null}};ko.prototype=new hs,ko.prototype.flushDisplayed=function(j){var le=this.displayed_.map(function(ye,ve){try{return ye.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+ve+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");le.length&&this.trigger("data",{startPts:this.startPts_,endPts:j,text:le,stream:this.name_})},ko.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=tf(),this.nonDisplayed_=tf(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},ko.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},ko.prototype.isSpecialCharacter=function(j,le){return j===this.EXT_&&le>=48&&le<=63},ko.prototype.isExtCharacter=function(j,le){return(j===this.EXT_+1||j===this.EXT_+2)&&le>=32&&le<=63},ko.prototype.isMidRowCode=function(j,le){return j===this.EXT_&&le>=32&&le<=47},ko.prototype.isOffsetControlCode=function(j,le){return j===this.OFFSET_&&le>=33&&le<=35},ko.prototype.isPAC=function(j,le){return j>=this.BASE_&&j<this.BASE_+8&&le>=64&&le<=127},ko.prototype.isColorPAC=function(j){return j>=64&&j<=79||j>=96&&j<=127},ko.prototype.isNormalChar=function(j){return j>=32&&j<=127},ko.prototype.setRollUp=function(j,le){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(j),this.nonDisplayed_=tf(),this.displayed_=tf()),void 0!==le&&le!==this.row_)for(var ye=0;ye<this.rollUpRows_;ye++)this.displayed_[le-ye]=this.displayed_[this.row_-ye],this.displayed_[this.row_-ye]="";void 0===le&&(le=this.row_),this.topRow_=le-this.rollUpRows_+1},ko.prototype.addFormatting=function(j,le){this.formatting_=this.formatting_.concat(le);var ye=le.reduce(function(ve,je){return ve+"<"+je+">"},"");this[this.mode_](j,ye)},ko.prototype.clearFormatting=function(j){if(this.formatting_.length){var le=this.formatting_.reverse().reduce(function(ye,ve){return ye+"</"+ve+">"},"");this.formatting_=[],this[this.mode_](j,le)}},ko.prototype.popOn=function(j,le){var ye=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=ye+=le},ko.prototype.rollUp=function(j,le){var ye=this.displayed_[this.row_];this.displayed_[this.row_]=ye+=le},ko.prototype.shiftRowsUp_=function(){var j;for(j=0;j<this.topRow_;j++)this.displayed_[j]="";for(j=this.row_+1;j<15;j++)this.displayed_[j]="";for(j=this.topRow_;j<this.row_;j++)this.displayed_[j]=this.displayed_[j+1];this.displayed_[this.row_]=""},ko.prototype.paintOn=function(j,le){var ye=this.displayed_[this.row_];this.displayed_[this.row_]=ye+=le};var Vv={CaptionStream:Ds,Cea608Stream:ko,Cea708Stream:Yo},M0={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},wy=function(j,le){var ye=1;for(j>le&&(ye=-1);Math.abs(le-j)>4294967296;)j+=8589934592*ye;return j},n1=function(j){var le,ye;n1.prototype.init.call(this),this.type_=j||"shared",this.push=function(ve){"shared"!==this.type_&&ve.type!==this.type_||(void 0===ye&&(ye=ve.dts),ve.dts=wy(ve.dts,ye),ve.pts=wy(ve.pts,ye),le=ve.dts,this.trigger("data",ve))},this.flush=function(){ye=le,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){ye=void 0,le=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};n1.prototype=new o;var jv,R1={TimestampRolloverStream:n1,handleRollover:wy},Cy=(j,le,ye)=>{if(!j)return-1;for(var ve=ye;ve<j.length;ve++)if(j[ve]===le)return ve;return-1},Ty_Utf8=3,N1=function(j,le,ye){var ve,je="";for(ve=le;ve<ye;ve++)je+="%"+("00"+j[ve].toString(16)).slice(-2);return je},ly=function(j,le,ye){return decodeURIComponent(N1(j,le,ye))},L_=function(j,le,ye){return unescape(N1(j,le,ye))},Uf=function(j){return j[0]<<21|j[1]<<14|j[2]<<7|j[3]},bg={APIC:function(j){var ye,ve,le=1;j.data[0]===Ty_Utf8&&!((ye=Cy(j.data,0,le))<0)&&(j.mimeType=L_(j.data,le,ye),j.pictureType=j.data[le=ye+1],le++,!((ve=Cy(j.data,0,le))<0)&&(j.description=ly(j.data,le,ve),le=ve+1,"--\x3e"===j.mimeType?j.url=L_(j.data,le,j.data.length):j.pictureData=j.data.subarray(le,j.data.length)))},"T*":function(j){j.data[0]===Ty_Utf8&&(j.value=ly(j.data,1,j.data.length).replace(/\0*$/,""),j.values=j.value.split("\0"))},TXXX:function(j){var le;j.data[0]===Ty_Utf8&&-1!==(le=Cy(j.data,0,1))&&(j.description=ly(j.data,1,le),j.value=ly(j.data,le+1,j.data.length).replace(/\0*$/,""),j.data=j.value)},"W*":function(j){j.url=L_(j.data,0,j.data.length).replace(/\0.*$/,"")},WXXX:function(j){var le;j.data[0]===Ty_Utf8&&-1!==(le=Cy(j.data,0,1))&&(j.description=ly(j.data,1,le),j.url=L_(j.data,le+1,j.data.length).replace(/\0.*$/,""))},PRIV:function(j){var le;for(le=0;le<j.data.length;le++)if(0===j.data[le]){j.owner=L_(j.data,0,le);break}j.privateData=j.data.subarray(le+1),j.data=j.privateData}},Ib={parseId3Frames:function(j){var le,ve=10,je=0,nt=[];if(!(j.length<10||73!==j[0]||68!==j[1]||51!==j[2])){je=Uf(j.subarray(6,10)),je+=10,64&j[5]&&(ve+=4,ve+=Uf(j.subarray(10,14)),je-=Uf(j.subarray(16,20)));do{if((le=Uf(j.subarray(ve+4,ve+8)))<1)break;var an={id:String.fromCharCode(j[ve],j[ve+1],j[ve+2],j[ve+3]),data:j.subarray(ve+10,ve+le+10)};an.key=an.id,bg[an.id]?bg[an.id](an):"T"===an.id[0]?bg["T*"](an):"W"===an.id[0]&&bg["W*"](an),nt.push(an),ve+=10,ve+=le}while(ve<je);return nt}},parseSyncSafeInteger:Uf,frameParsers:bg},s1=M0,ym=Ib;jv=function(j){var nt,le={descriptor:j&&j.descriptor},ye=0,ve=[],je=0;if(jv.prototype.init.call(this),this.dispatchType=s1.METADATA_STREAM_TYPE.toString(16),le.descriptor)for(nt=0;nt<le.descriptor.length;nt++)this.dispatchType+=("00"+le.descriptor[nt].toString(16)).slice(-2);this.push=function(Zt){var an,mn,In,Qn,_i;if("timed-metadata"===Zt.type){if(Zt.dataAlignmentIndicator&&(je=0,ve.length=0),0===ve.length&&(Zt.data.length<10||73!==Zt.data[0]||68!==Zt.data[1]||51!==Zt.data[2]))return void this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});if(ve.push(Zt),je+=Zt.data.byteLength,1===ve.length&&(ye=ym.parseSyncSafeInteger(Zt.data.subarray(6,10)),ye+=10),!(je<ye)){for(an={data:new Uint8Array(ye),frames:[],pts:ve[0].pts,dts:ve[0].dts},_i=0;_i<ye;)an.data.set(ve[0].data.subarray(0,ye-_i),_i),_i+=ve[0].data.byteLength,je-=ve[0].data.byteLength,ve.shift();mn=10,64&an.data[5]&&(mn+=4,mn+=ym.parseSyncSafeInteger(an.data.subarray(10,14)),ye-=ym.parseSyncSafeInteger(an.data.subarray(16,20)));do{if((In=ym.parseSyncSafeInteger(an.data.subarray(mn+4,mn+8)))<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if((Qn={id:String.fromCharCode(an.data[mn],an.data[mn+1],an.data[mn+2],an.data[mn+3]),data:an.data.subarray(mn+10,mn+In+10)}).key=Qn.id,ym.frameParsers[Qn.id]?ym.frameParsers[Qn.id](Qn):"T"===Qn.id[0]?ym.frameParsers["T*"](Qn):"W"===Qn.id[0]&&ym.frameParsers["W*"](Qn),"com.apple.streaming.transportStreamTimestamp"===Qn.owner){var Xi=Qn.data,bs=(1&Xi[3])<<30|Xi[4]<<22|Xi[5]<<14|Xi[6]<<6|Xi[7]>>>2;bs*=4,Qn.timeStamp=bs+=3&Xi[7],void 0===an.pts&&void 0===an.dts&&(an.pts=Qn.timeStamp,an.dts=Qn.timeStamp),this.trigger("timestamp",Qn)}an.frames.push(Qn),mn+=10,mn+=In}while(mn<ye);this.trigger("data",an)}}}},jv.prototype=new o;var N_,k0,zv,Dy=jv,A0=o,yg=Vv,nf=M0,o1=R1.TimestampRolloverStream;N_=function(){var j=new Uint8Array(188),le=0;N_.prototype.init.call(this),this.push=function(ye){var nt,ve=0,je=188;for(le?((nt=new Uint8Array(ye.byteLength+le)).set(j.subarray(0,le)),nt.set(ye,le),le=0):nt=ye;je<nt.byteLength;)71!==nt[ve]||71!==nt[je]?(ve++,je++):(this.trigger("data",nt.subarray(ve,je)),ve+=188,je+=188);ve<nt.byteLength&&(j.set(nt.subarray(ve),0),le=nt.byteLength-ve)},this.flush=function(){188===le&&71===j[0]&&(this.trigger("data",j),le=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){le=0,this.trigger("reset")}},N_.prototype=new A0,k0=function(){var j,le,ye,ve;k0.prototype.init.call(this),ve=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,j=function(je,nt){var Zt=0;nt.payloadUnitStartIndicator&&(Zt+=je[Zt]+1),"pat"===nt.type?le(je.subarray(Zt),nt):ye(je.subarray(Zt),nt)},le=function(je,nt){nt.section_number=je[7],nt.last_section_number=je[8],ve.pmtPid=(31&je[10])<<8|je[11],nt.pmtPid=ve.pmtPid},ye=function(je,nt){var an,In;if(1&je[5]){for(ve.programMapTable={video:null,audio:null,"timed-metadata":{}},an=3+((15&je[1])<<8|je[2])-4,In=12+((15&je[10])<<8|je[11]);In<an;){var Qn=je[In],_i=(31&je[In+1])<<8|je[In+2];Qn===nf.H264_STREAM_TYPE&&null===ve.programMapTable.video?ve.programMapTable.video=_i:Qn===nf.ADTS_STREAM_TYPE&&null===ve.programMapTable.audio?ve.programMapTable.audio=_i:Qn===nf.METADATA_STREAM_TYPE&&(ve.programMapTable["timed-metadata"][_i]=Qn),In+=5+((15&je[In+3])<<8|je[In+4])}nt.programMapTable=ve.programMapTable}},this.push=function(je){var nt={},Zt=4;if(nt.payloadUnitStartIndicator=!!(64&je[1]),nt.pid=31&je[1],nt.pid<<=8,nt.pid|=je[2],(48&je[3])>>>4>1&&(Zt+=je[Zt]+1),0===nt.pid)nt.type="pat",j(je.subarray(Zt),nt),this.trigger("data",nt);else if(nt.pid===this.pmtPid)for(nt.type="pmt",j(je.subarray(Zt),nt),this.trigger("data",nt);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([je,Zt,nt]):this.processPes_(je,Zt,nt)},this.processPes_=function(je,nt,Zt){Zt.streamType=Zt.pid===this.programMapTable.video?nf.H264_STREAM_TYPE:Zt.pid===this.programMapTable.audio?nf.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][Zt.pid],Zt.type="pes",Zt.data=je.subarray(nt),this.trigger("data",Zt)}},k0.prototype=new A0,k0.STREAM_TYPES={h264:27,adts:15},zv=function(){var nt,j=this,le=!1,ye={data:[],size:0},ve={data:[],size:0},je={data:[],size:0},an=function(mn,In,Qn){var Fc,_i=new Uint8Array(mn.size),Mr={type:In},Xi=0,bs=0,Fs=!1;if(mn.data.length&&!(mn.size<9)){for(Mr.trackId=mn.data[0].pid,Xi=0;Xi<mn.data.length;Xi++)_i.set((Fc=mn.data[Xi]).data,bs),bs+=Fc.data.byteLength;(function(mn,In){var Qn;const _i=mn[0]<<16|mn[1]<<8|mn[2];In.data=new Uint8Array,1===_i&&(In.packetLength=6+(mn[4]<<8|mn[5]),In.dataAlignmentIndicator=!!(4&mn[6]),192&(Qn=mn[7])&&(In.pts=(14&mn[9])<<27|(255&mn[10])<<20|(254&mn[11])<<12|(255&mn[12])<<5|(254&mn[13])>>>3,In.pts*=4,In.pts+=(6&mn[13])>>>1,In.dts=In.pts,64&Qn&&(In.dts=(14&mn[14])<<27|(255&mn[15])<<20|(254&mn[16])<<12|(255&mn[17])<<5|(254&mn[18])>>>3,In.dts*=4,In.dts+=(6&mn[18])>>>1)),In.data=mn.subarray(9+mn[8]))})(_i,Mr),Fs="video"===In||Mr.packetLength<=mn.size,(Qn||Fs)&&(mn.size=0,mn.data.length=0),Fs&&j.trigger("data",Mr)}};zv.prototype.init.call(this),this.push=function(mn){({pat:function(){},pes:function(){var In,Qn;switch(mn.streamType){case nf.H264_STREAM_TYPE:In=ye,Qn="video";break;case nf.ADTS_STREAM_TYPE:In=ve,Qn="audio";break;case nf.METADATA_STREAM_TYPE:In=je,Qn="timed-metadata";break;default:return}mn.payloadUnitStartIndicator&&an(In,Qn,!0),In.data.push(mn),In.size+=mn.data.byteLength},pmt:function(){var In={type:"metadata",tracks:[]};null!==(nt=mn.programMapTable).video&&In.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+nt.video,codec:"avc",type:"video"}),null!==nt.audio&&In.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+nt.audio,codec:"adts",type:"audio"}),le=!0,j.trigger("data",In)}})[mn.type]()},this.reset=function(){ye.size=0,ye.data.length=0,ve.size=0,ve.data.length=0,this.trigger("reset")},this.flushStreams_=function(){an(ye,"video"),an(ve,"audio"),an(je,"timed-metadata")},this.flush=function(){if(!le&&nt){var mn={type:"metadata",tracks:[]};null!==nt.video&&mn.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+nt.video,codec:"avc",type:"video"}),null!==nt.audio&&mn.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+nt.audio,codec:"adts",type:"audio"}),j.trigger("data",mn)}le=!1,this.flushStreams_(),this.trigger("done")}},zv.prototype=new A0;var Em={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:N_,TransportParseStream:k0,ElementaryStream:zv,TimestampRolloverStream:o1,CaptionStream:yg.CaptionStream,Cea608Stream:yg.Cea608Stream,Cea708Stream:yg.Cea708Stream,MetadataStream:Dy};for(var Cd in nf)nf.hasOwnProperty(Cd)&&(Em[Cd]=nf[Cd]);var Eg,ru=Em,Hv=_n.ONE_SECOND_IN_TS,B_=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Eg=function(j){var le,ye=0;Eg.prototype.init.call(this),this.skipWarn_=function(ve,je){this.trigger("log",{level:"warn",message:`adts skiping bytes ${ve} to ${je} in frame ${ye} outside syncword`})},this.push=function(ve){var nt,Zt,an,mn,In,je=0;if(j||(ye=0),"audio"===ve.type){le&&le.length?(an=le,(le=new Uint8Array(an.byteLength+ve.data.byteLength)).set(an),le.set(ve.data,an.byteLength)):le=ve.data;for(var Qn;je+7<le.length;)if(255===le[je]&&240==(246&le[je+1])){if("number"==typeof Qn&&(this.skipWarn_(Qn,je),Qn=null),Zt=2*(1&~le[je+1]),In=(mn=1024*(1+(3&le[je+6])))*Hv/B_[(60&le[je+2])>>>2],le.byteLength-je<(nt=(3&le[je+3])<<11|le[je+4]<<3|(224&le[je+5])>>5))break;this.trigger("data",{pts:ve.pts+ye*In,dts:ve.dts+ye*In,sampleCount:mn,audioobjecttype:1+(le[je+2]>>>6&3),channelcount:(1&le[je+2])<<2|(192&le[je+3])>>>6,samplerate:B_[(60&le[je+2])>>>2],samplingfrequencyindex:(60&le[je+2])>>>2,samplesize:16,data:le.subarray(je+7+Zt,je+nt)}),ye++,je+=nt}else"number"!=typeof Qn&&(Qn=je),je++;"number"==typeof Qn&&(this.skipWarn_(Qn,je),Qn=null),le=le.subarray(je)}},this.flush=function(){ye=0,this.trigger("done")},this.reset=function(){le=void 0,this.trigger("reset")},this.endTimeline=function(){le=void 0,this.trigger("endedtimeline")}},Eg.prototype=new o;var My,su=Eg;My=function(j){var le=j.byteLength,ye=0,ve=0;this.length=function(){return 8*le},this.bitsAvailable=function(){return 8*le+ve},this.loadWord=function(){var je=j.byteLength-le,nt=new Uint8Array(4),Zt=Math.min(4,le);if(0===Zt)throw new Error("no bytes available");nt.set(j.subarray(je,je+Zt)),ye=new DataView(nt.buffer).getUint32(0),ve=8*Zt,le-=Zt},this.skipBits=function(je){var nt;ve>je?(ye<<=je,ve-=je):(je-=ve,je-=8*(nt=Math.floor(je/8)),le-=nt,this.loadWord(),ye<<=je,ve-=je)},this.readBits=function(je){var nt=Math.min(ve,je),Zt=ye>>>32-nt;return(ve-=nt)>0?ye<<=nt:le>0&&this.loadWord(),(nt=je-nt)>0?Zt<<nt|this.readBits(nt):Zt},this.skipLeadingZeros=function(){var je;for(je=0;je<ve;++je)if(ye&2147483648>>>je)return ye<<=je,ve-=je,je;return this.loadWord(),je+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var je=this.skipLeadingZeros();return this.readBits(je+1)-1},this.readExpGolomb=function(){var je=this.readUnsignedExpGolomb();return 1&je?1+je>>>1:-1*(je>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var R0,rf,Ay,O0=o,P0=My;rf=function(){var le,ye,j=0;rf.prototype.init.call(this),this.push=function(ve){var je;ye?((je=new Uint8Array(ye.byteLength+ve.data.byteLength)).set(ye),je.set(ve.data,ye.byteLength),ye=je):ye=ve.data;for(var nt=ye.byteLength;j<nt-3;j++)if(1===ye[j+2]){le=j+5;break}for(;le<nt;)switch(ye[le]){case 0:if(0!==ye[le-1]){le+=2;break}if(0!==ye[le-2]){le++;break}j+3!==le-2&&this.trigger("data",ye.subarray(j+3,le-2));do{le++}while(1!==ye[le]&&le<nt);j=le-2,le+=3;break;case 1:if(0!==ye[le-1]||0!==ye[le-2]){le+=3;break}this.trigger("data",ye.subarray(j+3,le-2)),j=le-2,le+=3;break;default:le+=3}ye=ye.subarray(j),le-=j,j=0},this.reset=function(){ye=null,j=0,this.trigger("reset")},this.flush=function(){ye&&ye.byteLength>3&&this.trigger("data",ye.subarray(j+3)),ye=null,j=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},rf.prototype=new O0,Ay={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},R0=function(){var le,ye,ve,je,nt,Zt,an,j=new rf;R0.prototype.init.call(this),le=this,this.push=function(mn){"video"===mn.type&&(ye=mn.trackId,ve=mn.pts,je=mn.dts,j.push(mn))},j.on("data",function(mn){var In={trackId:ye,pts:ve,dts:je,data:mn,nalUnitTypeCode:31&mn[0]};switch(In.nalUnitTypeCode){case 5:In.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:In.nalUnitType="sei_rbsp",In.escapedRBSP=nt(mn.subarray(1));break;case 7:In.nalUnitType="seq_parameter_set_rbsp",In.escapedRBSP=nt(mn.subarray(1)),In.config=Zt(In.escapedRBSP);break;case 8:In.nalUnitType="pic_parameter_set_rbsp";break;case 9:In.nalUnitType="access_unit_delimiter_rbsp"}le.trigger("data",In)}),j.on("done",function(){le.trigger("done")}),j.on("partialdone",function(){le.trigger("partialdone")}),j.on("reset",function(){le.trigger("reset")}),j.on("endedtimeline",function(){le.trigger("endedtimeline")}),this.flush=function(){j.flush()},this.partialFlush=function(){j.partialFlush()},this.reset=function(){j.reset()},this.endTimeline=function(){j.endTimeline()},an=function(mn,In){var Mr,Qn=8,_i=8;for(Mr=0;Mr<mn;Mr++)0!==_i&&(_i=(Qn+In.readExpGolomb()+256)%256),Qn=0===_i?Qn:_i},nt=function(mn){for(var Mr,Xi,In=mn.byteLength,Qn=[],_i=1;_i<In-2;)0===mn[_i]&&0===mn[_i+1]&&3===mn[_i+2]?(Qn.push(_i+2),_i+=2):_i++;if(0===Qn.length)return mn;Mr=In-Qn.length,Xi=new Uint8Array(Mr);var bs=0;for(_i=0;_i<Mr;bs++,_i++)bs===Qn[0]&&(bs++,Qn.shift()),Xi[_i]=mn[bs];return Xi},Zt=function(mn){var Xi,bs,Fs,Fc,zf,Cg,N0,aE,lE,by,z_,F0,In=0,Qn=0,_i=0,Mr=0,Ul=[1,1];if(bs=(Xi=new P0(mn)).readUnsignedByte(),Fc=Xi.readUnsignedByte(),Fs=Xi.readUnsignedByte(),Xi.skipUnsignedExpGolomb(),Ay[bs]&&(3===(zf=Xi.readUnsignedExpGolomb())&&Xi.skipBits(1),Xi.skipUnsignedExpGolomb(),Xi.skipUnsignedExpGolomb(),Xi.skipBits(1),Xi.readBoolean()))for(z_=3!==zf?8:12,F0=0;F0<z_;F0++)Xi.readBoolean()&&an(F0<6?16:64,Xi);if(Xi.skipUnsignedExpGolomb(),0===(Cg=Xi.readUnsignedExpGolomb()))Xi.readUnsignedExpGolomb();else if(1===Cg)for(Xi.skipBits(1),Xi.skipExpGolomb(),Xi.skipExpGolomb(),N0=Xi.readUnsignedExpGolomb(),F0=0;F0<N0;F0++)Xi.skipExpGolomb();if(Xi.skipUnsignedExpGolomb(),Xi.skipBits(1),aE=Xi.readUnsignedExpGolomb(),lE=Xi.readUnsignedExpGolomb(),0===(by=Xi.readBits(1))&&Xi.skipBits(1),Xi.skipBits(1),Xi.readBoolean()&&(In=Xi.readUnsignedExpGolomb(),Qn=Xi.readUnsignedExpGolomb(),_i=Xi.readUnsignedExpGolomb(),Mr=Xi.readUnsignedExpGolomb()),Xi.readBoolean()&&Xi.readBoolean())switch(Xi.readUnsignedByte()){case 1:Ul=[1,1];break;case 2:Ul=[12,11];break;case 3:Ul=[10,11];break;case 4:Ul=[16,11];break;case 5:Ul=[40,33];break;case 6:Ul=[24,11];break;case 7:Ul=[20,11];break;case 8:Ul=[32,11];break;case 9:Ul=[80,33];break;case 10:Ul=[18,11];break;case 11:Ul=[15,11];break;case 12:Ul=[64,33];break;case 13:Ul=[160,99];break;case 14:Ul=[4,3];break;case 15:Ul=[3,2];break;case 16:Ul=[2,1];break;case 255:Ul=[Xi.readUnsignedByte()<<8|Xi.readUnsignedByte(),Xi.readUnsignedByte()<<8|Xi.readUnsignedByte()]}return{profileIdc:bs,levelIdc:Fs,profileCompatibility:Fc,width:16*(aE+1)-2*In-2*Qn,height:(2-by)*(lE+1)*16-2*_i-2*Mr,sarRatio:Ul}}},R0.prototype=new O0;var fy,F1={H264Stream:R0,NalByteStream:rf},ky=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Oy=function(j,le){var ye=j[le+6]<<21|j[le+7]<<14|j[le+8]<<7|j[le+9];return ye=ye>=0?ye:0,(16&j[le+5])>>4?ye+20:ye+10},xg=function(j,le){return j.length-le<10||73!==j[le]||68!==j[le+1]||51!==j[le+2]?le:(le+=Oy(j,le),xg(j,le))},Py=function(j){return j[0]<<21|j[1]<<14|j[2]<<7|j[3]},Ab=function(j,le,ye){return unescape(function(j,le,ye){var ve,je="";for(ve=le;ve<ye;ve++)je+="%"+("00"+j[ve].toString(16)).slice(-2);return je}(j,le,ye))},hy={isLikelyAacData:function(j){var le=xg(j,0);return j.length>=le+2&&!(255&~j[le])&&!(240&~j[le+1])&&16==(22&j[le+1])},parseId3TagSize:Oy,parseAdtsSize:function(j,le){return 6144&j[le+3]|j[le+4]<<3|(224&j[le+5])>>5},parseType:function(j,le){return 73===j[le]&&68===j[le+1]&&51===j[le+2]?"timed-metadata":!0&j[le]&&!(240&~j[le+1])?"audio":null},parseSampleRate:function(j){for(var le=0;le+5<j.length;){if(255===j[le]&&240==(246&j[le+1]))return ky[(60&j[le+2])>>>2];le++}return null},parseAacTimestamp:function(j){var le,ye,ve;le=10,64&j[5]&&(le+=4,le+=Py(j.subarray(10,14)));do{if((ye=Py(j.subarray(le+4,le+8)))<1)return null;if("PRIV"===String.fromCharCode(j[le],j[le+1],j[le+2],j[le+3])){ve=j.subarray(le+10,le+ye+10);for(var nt=0;nt<ve.byteLength;nt++)if(0===ve[nt]){if("com.apple.streaming.transportStreamTimestamp"===Ab(ve,0,nt)){var an=ve.subarray(nt+1),mn=(1&an[3])<<30|an[4]<<22|an[5]<<14|an[6]<<6|an[7]>>>2;return(mn*=4)+(3&an[7])}break}}le+=10,le+=ye}while(le<j.byteLength);return null}},Fy=hy;fy=function(){var j=new Uint8Array,le=0;fy.prototype.init.call(this),this.setTimestamp=function(ye){le=ye},this.push=function(ye){var Zt,an,mn,ve=0,je=0;for(j.length?(mn=j.length,(j=new Uint8Array(ye.byteLength+mn)).set(j.subarray(0,mn)),j.set(ye,mn)):j=ye;j.length-je>=3;)if(73!==j[je]||68!==j[je+1]||51!==j[je+2])if(255&~j[je]||240&~j[je+1])je++;else{if(j.length-je<7||je+(ve=Fy.parseAdtsSize(j,je))>j.length)break;an={type:"audio",data:j.subarray(je,je+ve),pts:le,dts:le},this.trigger("data",an),je+=ve}else{if(j.length-je<10||je+(ve=Fy.parseId3TagSize(j,je))>j.length)break;Zt={type:"timed-metadata",data:j.subarray(je,je+ve)},this.trigger("data",Zt),je+=ve}j=j.length-je>0?j.subarray(je):new Uint8Array},this.reset=function(){j=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){j=new Uint8Array,this.trigger("endedtimeline")}},fy.prototype=new o;var kn,ti,Ji,Wi,kb=o,Ob=D0,l=w,e=Gr,r=Ui,u=ru,v=_n,C=su,R=F1.H264Stream,ue=fy,Pe=hy.isLikelyAacData,tt=_n.ONE_SECOND_IN_TS,Tt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],tn=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],hr=function(j,le){le.stream=j,this.trigger("log",le)},Qr=function(j,le){for(var ye=Object.keys(le),ve=0;ve<ye.length;ve++){var je=ye[ve];"headOfPipeline"===je||!le[je].on||le[je].on("log",hr.bind(j,je))}},Br=function(j,le){var ye;if(j.length!==le.length)return!1;for(ye=0;ye<j.length;ye++)if(j[ye]!==le[ye])return!1;return!0},Vr=function(j,le,ye,ve,je,nt){return{start:{dts:j,pts:j+(ye-le)},end:{dts:j+(ve-le),pts:j+(je-ye)},prependedContentDuration:nt,baseMediaDecodeTime:j}};ti=function(j,le){var ve,ye=[],je=0,nt=0,Zt=1/0;ve=(le=le||{}).firstSequenceNumber||0,ti.prototype.init.call(this),this.push=function(an){r.collectDtsInfo(j,an),j&&Tt.forEach(function(mn){j[mn]=an[mn]}),ye.push(an)},this.setEarliestDts=function(an){je=an},this.setVideoBaseMediaDecodeTime=function(an){Zt=an},this.setAudioAppendStart=function(an){nt=an},this.flush=function(){var an,mn,In,Qn,_i,Mr,Xi;0!==ye.length?(an=e.trimAdtsFramesByEarliestDts(ye,j,je),j.baseMediaDecodeTime=r.calculateTrackBaseMediaDecodeTime(j,le.keepOriginalTimestamps),Xi=e.prefixWithSilence(j,an,nt,Zt),j.samples=e.generateSampleTable(an),In=Ob.mdat(e.concatenateFrameData(an)),ye=[],mn=Ob.moof(ve,[j]),Qn=new Uint8Array(mn.byteLength+In.byteLength),ve++,Qn.set(mn),Qn.set(In,mn.byteLength),r.clearDtsInfo(j),_i=Math.ceil(1024*tt/j.samplerate),an.length&&(Mr=an.length*_i,this.trigger("segmentTimingInfo",Vr(v.audioTsToVideoTs(j.baseMediaDecodeTime,j.samplerate),an[0].dts,an[0].pts,an[0].dts+Mr,an[0].pts+Mr,Xi||0)),this.trigger("timingInfo",{start:an[0].pts,end:an[0].pts+Mr})),this.trigger("data",{track:j,boxes:Qn}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){r.clearDtsInfo(j),ye=[],this.trigger("reset")}},ti.prototype=new kb,kn=function(j,le){var ye,nt,Zt,ve=[],je=[];ye=(le=le||{}).firstSequenceNumber||0,kn.prototype.init.call(this),delete j.minPTS,this.gopCache_=[],this.push=function(an){r.collectDtsInfo(j,an),"seq_parameter_set_rbsp"===an.nalUnitType&&!nt&&(nt=an.config,j.sps=[an.data],tn.forEach(function(mn){j[mn]=nt[mn]},this)),"pic_parameter_set_rbsp"===an.nalUnitType&&!Zt&&(Zt=an.data,j.pps=[an.data]),ve.push(an)},this.flush=function(){for(var an,mn,In,Qn,_i,Mr,bs,Fs,Xi=0;ve.length&&"access_unit_delimiter_rbsp"!==ve[0].nalUnitType;)ve.shift();if(0===ve.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(an=l.groupNalsIntoFrames(ve),(In=l.groupFramesIntoGops(an))[0][0].keyFrame||((mn=this.getGopForFusion_(ve[0],j))?(Xi=mn.duration,In.unshift(mn),In.byteLength+=mn.byteLength,In.nalCount+=mn.nalCount,In.pts=mn.pts,In.dts=mn.dts,In.duration+=mn.duration):In=l.extendFirstKeyFrame(In)),je.length){var Fc;if(!(Fc=le.alignGopsAtEnd?this.alignGopsAtEnd_(In):this.alignGopsAtStart_(In)))return this.gopCache_.unshift({gop:In.pop(),pps:j.pps,sps:j.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),ve=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");r.clearDtsInfo(j),In=Fc}r.collectDtsInfo(j,In),j.samples=l.generateSampleTable(In),_i=Ob.mdat(l.concatenateNalData(In)),j.baseMediaDecodeTime=r.calculateTrackBaseMediaDecodeTime(j,le.keepOriginalTimestamps),this.trigger("processedGopsInfo",In.map(function(zf){return{pts:zf.pts,dts:zf.dts,byteLength:zf.byteLength}})),this.trigger("segmentTimingInfo",Vr(j.baseMediaDecodeTime,(bs=In[0]).dts,bs.pts,(Fs=In[In.length-1]).dts+Fs.duration,Fs.pts+Fs.duration,Xi)),this.trigger("timingInfo",{start:In[0].pts,end:In[In.length-1].pts+In[In.length-1].duration}),this.gopCache_.unshift({gop:In.pop(),pps:j.pps,sps:j.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),ve=[],this.trigger("baseMediaDecodeTime",j.baseMediaDecodeTime),this.trigger("timelineStartInfo",j.timelineStartInfo),Qn=Ob.moof(ye,[j]),Mr=new Uint8Array(Qn.byteLength+_i.byteLength),ye++,Mr.set(Qn),Mr.set(_i,Qn.byteLength),this.trigger("data",{track:j,boxes:Mr}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),ve=[],this.gopCache_.length=0,je.length=0,this.trigger("reset")},this.resetStream_=function(){r.clearDtsInfo(j),nt=void 0,Zt=void 0},this.getGopForFusion_=function(an){var _i,Mr,Xi,bs,Fs,Qn=1/0;for(Fs=0;Fs<this.gopCache_.length;Fs++)Xi=(bs=this.gopCache_[Fs]).gop,j.pps&&Br(j.pps[0],bs.pps[0])&&j.sps&&Br(j.sps[0],bs.sps[0])&&(Xi.dts<j.timelineStartInfo.dts||(_i=an.dts-Xi.dts-Xi.duration)>=-1e4&&_i<=45e3&&(!Mr||Qn>_i)&&(Mr=bs,Qn=_i));return Mr?Mr.gop:null},this.alignGopsAtStart_=function(an){var mn,In,Qn,_i,Mr,Xi,bs,Fs;for(Mr=an.byteLength,Xi=an.nalCount,bs=an.duration,mn=In=0;mn<je.length&&In<an.length&&(Qn=je[mn]).pts!==(_i=an[In]).pts;)_i.pts>Qn.pts?mn++:(In++,Mr-=_i.byteLength,Xi-=_i.nalCount,bs-=_i.duration);return 0===In?an:In===an.length?null:((Fs=an.slice(In)).byteLength=Mr,Fs.duration=bs,Fs.nalCount=Xi,Fs.pts=Fs[0].pts,Fs.dts=Fs[0].dts,Fs)},this.alignGopsAtEnd_=function(an){var mn,In,Qn,_i,Mr,Xi,bs;for(mn=je.length-1,In=an.length-1,Mr=null,Xi=!1;mn>=0&&In>=0;){if((Qn=je[mn]).pts===(_i=an[In]).pts){Xi=!0;break}Qn.pts>_i.pts?mn--:(mn===je.length-1&&(Mr=In),In--)}if(!Xi&&null===Mr)return null;if(0===(bs=Xi?In:Mr))return an;var Fs=an.slice(bs),Fc=Fs.reduce(function(zf,Cg){return zf.byteLength+=Cg.byteLength,zf.duration+=Cg.duration,zf.nalCount+=Cg.nalCount,zf},{byteLength:0,duration:0,nalCount:0});return Fs.byteLength=Fc.byteLength,Fs.duration=Fc.duration,Fs.nalCount=Fc.nalCount,Fs.pts=Fs[0].pts,Fs.dts=Fs[0].dts,Fs},this.alignGopsWith=function(an){je=an}},kn.prototype=new kb,Wi=function(j,le){this.numberOfTracks=0,this.metadataStream=le,this.remuxTracks=!(typeof(j=j||{}).remux<"u"&&!j.remux),this.keepOriginalTimestamps="boolean"==typeof j.keepOriginalTimestamps&&j.keepOriginalTimestamps,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Wi.prototype.init.call(this),this.push=function(ye){return ye.text?this.pendingCaptions.push(ye):ye.frames?this.pendingMetadata.push(ye):(this.pendingTracks.push(ye.track),this.pendingBytes+=ye.boxes.byteLength,"video"===ye.track.type&&(this.videoTrack=ye.track,this.pendingBoxes.push(ye.boxes)),void("audio"===ye.track.type&&(this.audioTrack=ye.track,this.pendingBoxes.unshift(ye.boxes))))}},Wi.prototype=new kb,Wi.prototype.flush=function(j){var ve,je,nt,an,le=0,ye={captions:[],captionStreams:{},metadata:[],info:{}},Zt=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==j&&"AudioSegmentStream"!==j)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(Zt=this.videoTrack.timelineStartInfo.pts,tn.forEach(function(mn){ye.info[mn]=this.videoTrack[mn]},this)):this.audioTrack&&(Zt=this.audioTrack.timelineStartInfo.pts,Tt.forEach(function(mn){ye.info[mn]=this.audioTrack[mn]},this)),this.videoTrack||this.audioTrack){for(ye.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,nt=Ob.initSegment(this.pendingTracks),ye.initSegment=new Uint8Array(nt.byteLength),ye.initSegment.set(nt),ye.data=new Uint8Array(this.pendingBytes),an=0;an<this.pendingBoxes.length;an++)ye.data.set(this.pendingBoxes[an],le),le+=this.pendingBoxes[an].byteLength;for(an=0;an<this.pendingCaptions.length;an++)(ve=this.pendingCaptions[an]).startTime=v.metadataTsToSeconds(ve.startPts,Zt,this.keepOriginalTimestamps),ve.endTime=v.metadataTsToSeconds(ve.endPts,Zt,this.keepOriginalTimestamps),ye.captionStreams[ve.stream]=!0,ye.captions.push(ve);for(an=0;an<this.pendingMetadata.length;an++)(je=this.pendingMetadata[an]).cueTime=v.metadataTsToSeconds(je.pts,Zt,this.keepOriginalTimestamps),ye.metadata.push(je);for(ye.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",ye),an=0;an<ye.captions.length;an++)this.trigger("caption",ve=ye.captions[an]);for(an=0;an<ye.metadata.length;an++)this.trigger("id3Frame",je=ye.metadata[an])}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Wi.prototype.setRemux=function(j){this.remuxTracks=j},Ji=function(j){var ve,je,le=this,ye=!0;Ji.prototype.init.call(this),this.baseMediaDecodeTime=(j=j||{}).baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var nt={};this.transmuxPipeline_=nt,nt.type="aac",nt.metadataStream=new u.MetadataStream,nt.aacStream=new ue,nt.audioTimestampRolloverStream=new u.TimestampRolloverStream("audio"),nt.timedMetadataTimestampRolloverStream=new u.TimestampRolloverStream("timed-metadata"),nt.adtsStream=new C,nt.coalesceStream=new Wi(j,nt.metadataStream),nt.headOfPipeline=nt.aacStream,nt.aacStream.pipe(nt.audioTimestampRolloverStream).pipe(nt.adtsStream),nt.aacStream.pipe(nt.timedMetadataTimestampRolloverStream).pipe(nt.metadataStream).pipe(nt.coalesceStream),nt.metadataStream.on("timestamp",function(Zt){nt.aacStream.setTimestamp(Zt.timeStamp)}),nt.aacStream.on("data",function(Zt){"timed-metadata"!==Zt.type&&"audio"!==Zt.type||nt.audioSegmentStream||(je=je||{timelineStartInfo:{baseMediaDecodeTime:le.baseMediaDecodeTime},codec:"adts",type:"audio"},nt.coalesceStream.numberOfTracks++,nt.audioSegmentStream=new ti(je,j),nt.audioSegmentStream.on("log",le.getLogTrigger_("audioSegmentStream")),nt.audioSegmentStream.on("timingInfo",le.trigger.bind(le,"audioTimingInfo")),nt.adtsStream.pipe(nt.audioSegmentStream).pipe(nt.coalesceStream),le.trigger("trackinfo",{hasAudio:!!je,hasVideo:!!ve}))}),nt.coalesceStream.on("data",this.trigger.bind(this,"data")),nt.coalesceStream.on("done",this.trigger.bind(this,"done")),Qr(this,nt)},this.setupTsPipeline=function(){var nt={};this.transmuxPipeline_=nt,nt.type="ts",nt.metadataStream=new u.MetadataStream,nt.packetStream=new u.TransportPacketStream,nt.parseStream=new u.TransportParseStream,nt.elementaryStream=new u.ElementaryStream,nt.timestampRolloverStream=new u.TimestampRolloverStream,nt.adtsStream=new C,nt.h264Stream=new R,nt.captionStream=new u.CaptionStream(j),nt.coalesceStream=new Wi(j,nt.metadataStream),nt.headOfPipeline=nt.packetStream,nt.packetStream.pipe(nt.parseStream).pipe(nt.elementaryStream).pipe(nt.timestampRolloverStream),nt.timestampRolloverStream.pipe(nt.h264Stream),nt.timestampRolloverStream.pipe(nt.adtsStream),nt.timestampRolloverStream.pipe(nt.metadataStream).pipe(nt.coalesceStream),nt.h264Stream.pipe(nt.captionStream).pipe(nt.coalesceStream),nt.elementaryStream.on("data",function(Zt){var an;if("metadata"===Zt.type){for(an=Zt.tracks.length;an--;)ve||"video"!==Zt.tracks[an].type?!je&&"audio"===Zt.tracks[an].type&&((je=Zt.tracks[an]).timelineStartInfo.baseMediaDecodeTime=le.baseMediaDecodeTime):(ve=Zt.tracks[an]).timelineStartInfo.baseMediaDecodeTime=le.baseMediaDecodeTime;ve&&!nt.videoSegmentStream&&(nt.coalesceStream.numberOfTracks++,nt.videoSegmentStream=new kn(ve,j),nt.videoSegmentStream.on("log",le.getLogTrigger_("videoSegmentStream")),nt.videoSegmentStream.on("timelineStartInfo",function(mn){je&&!j.keepOriginalTimestamps&&(je.timelineStartInfo=mn,nt.audioSegmentStream.setEarliestDts(mn.dts-le.baseMediaDecodeTime))}),nt.videoSegmentStream.on("processedGopsInfo",le.trigger.bind(le,"gopInfo")),nt.videoSegmentStream.on("segmentTimingInfo",le.trigger.bind(le,"videoSegmentTimingInfo")),nt.videoSegmentStream.on("baseMediaDecodeTime",function(mn){je&&nt.audioSegmentStream.setVideoBaseMediaDecodeTime(mn)}),nt.videoSegmentStream.on("timingInfo",le.trigger.bind(le,"videoTimingInfo")),nt.h264Stream.pipe(nt.videoSegmentStream).pipe(nt.coalesceStream)),je&&!nt.audioSegmentStream&&(nt.coalesceStream.numberOfTracks++,nt.audioSegmentStream=new ti(je,j),nt.audioSegmentStream.on("log",le.getLogTrigger_("audioSegmentStream")),nt.audioSegmentStream.on("timingInfo",le.trigger.bind(le,"audioTimingInfo")),nt.audioSegmentStream.on("segmentTimingInfo",le.trigger.bind(le,"audioSegmentTimingInfo")),nt.adtsStream.pipe(nt.audioSegmentStream).pipe(nt.coalesceStream)),le.trigger("trackinfo",{hasAudio:!!je,hasVideo:!!ve})}}),nt.coalesceStream.on("data",this.trigger.bind(this,"data")),nt.coalesceStream.on("id3Frame",function(Zt){Zt.dispatchType=nt.metadataStream.dispatchType,le.trigger("id3Frame",Zt)}),nt.coalesceStream.on("caption",this.trigger.bind(this,"caption")),nt.coalesceStream.on("done",this.trigger.bind(this,"done")),Qr(this,nt)},this.setBaseMediaDecodeTime=function(nt){var Zt=this.transmuxPipeline_;j.keepOriginalTimestamps||(this.baseMediaDecodeTime=nt),je&&(je.timelineStartInfo.dts=void 0,je.timelineStartInfo.pts=void 0,r.clearDtsInfo(je),Zt.audioTimestampRolloverStream&&Zt.audioTimestampRolloverStream.discontinuity()),ve&&(Zt.videoSegmentStream&&(Zt.videoSegmentStream.gopCache_=[]),ve.timelineStartInfo.dts=void 0,ve.timelineStartInfo.pts=void 0,r.clearDtsInfo(ve),Zt.captionStream.reset()),Zt.timestampRolloverStream&&Zt.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(nt){je&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(nt)},this.setRemux=function(nt){var Zt=this.transmuxPipeline_;j.remux=nt,Zt&&Zt.coalesceStream&&Zt.coalesceStream.setRemux(nt)},this.alignGopsWith=function(nt){ve&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(nt)},this.getLogTrigger_=function(nt){var Zt=this;return function(an){an.stream=nt,Zt.trigger("log",an)}},this.push=function(nt){if(ye){var Zt=Pe(nt);Zt&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():!Zt&&"ts"!==this.transmuxPipeline_.type&&this.setupTsPipeline(),ye=!1}this.transmuxPipeline_.headOfPipeline.push(nt)},this.flush=function(){ye=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Ji.prototype=new kb;var Pb,g1,Z1,_y,gs={Transmuxer:Ji,VideoSegmentStream:kn,AudioSegmentStream:ti,AUDIO_PROPERTIES:Tt,VIDEO_PROPERTIES:tn,generateSegmentTimingInfo:Vr},Ea_toUnsigned=function(j){return j>>>0},Ea_toHexString=function(j){return("00"+j.toString(16)).slice(-2)},mh=function(j){var le="";return le+=String.fromCharCode(j[0]),le+=String.fromCharCode(j[1]),(le+=String.fromCharCode(j[2]))+String.fromCharCode(j[3])},my=Ea_toUnsigned,By=mh,Vy=function(j,le){var ve,je,nt,Zt,an,ye=[];if(!le.length)return null;for(ve=0;ve<j.byteLength;)je=my(j[ve]<<24|j[ve+1]<<16|j[ve+2]<<8|j[ve+3]),nt=By(j.subarray(ve+4,ve+8)),Zt=je>1?ve+je:j.byteLength,nt===le[0]&&(1===le.length?ye.push(j.subarray(ve+8,Zt)):(an=Vy(j.subarray(ve+8,Zt),le.slice(1))).length&&(ye=ye.concat(an))),ve=Zt;return ye},U1=Ea_toUnsigned,RE=M.getUint64,Yx=function(j){var le={version:j[0],flags:new Uint8Array(j.subarray(1,4))};return le.baseMediaDecodeTime=1===le.version?RE(j.subarray(4)):U1(j[4]<<24|j[5]<<16|j[6]<<8|j[7]),le},j1=function(j){return{isLeading:(12&j[0])>>>2,dependsOn:3&j[0],isDependedOn:(192&j[1])>>>6,hasRedundancy:(48&j[1])>>>4,paddingValue:(14&j[1])>>>1,isNonSyncSample:1&j[1],degradationPriority:j[2]<<8|j[3]}},NE=function(j){var _i,le={version:j[0],flags:new Uint8Array(j.subarray(1,4)),samples:[]},ye=new DataView(j.buffer,j.byteOffset,j.byteLength),ve=1&le.flags[2],je=4&le.flags[2],nt=1&le.flags[1],Zt=2&le.flags[1],an=4&le.flags[1],mn=8&le.flags[1],In=ye.getUint32(4),Qn=8;for(ve&&(le.dataOffset=ye.getInt32(Qn),Qn+=4),je&&In&&(_i={flags:j1(j.subarray(Qn,Qn+4))},Qn+=4,nt&&(_i.duration=ye.getUint32(Qn),Qn+=4),Zt&&(_i.size=ye.getUint32(Qn),Qn+=4),mn&&(_i.compositionTimeOffset=1===le.version?ye.getInt32(Qn):ye.getUint32(Qn),Qn+=4),le.samples.push(_i),In--);In--;)_i={},nt&&(_i.duration=ye.getUint32(Qn),Qn+=4),Zt&&(_i.size=ye.getUint32(Qn),Qn+=4),an&&(_i.flags=j1(j.subarray(Qn,Qn+4)),Qn+=4),mn&&(_i.compositionTimeOffset=1===le.version?ye.getInt32(Qn):ye.getUint32(Qn),Qn+=4),le.samples.push(_i);return le},z1=function(j){var Qn,le=new DataView(j.buffer,j.byteOffset,j.byteLength),ye={version:j[0],flags:new Uint8Array(j.subarray(1,4)),trackId:le.getUint32(4)},ve=1&ye.flags[2],je=2&ye.flags[2],nt=8&ye.flags[2],Zt=16&ye.flags[2],an=32&ye.flags[2],mn=65536&ye.flags[0],In=131072&ye.flags[0];return Qn=8,ve&&(Qn+=4,ye.baseDataOffset=le.getUint32(12),Qn+=4),je&&(ye.sampleDescriptionIndex=le.getUint32(Qn),Qn+=4),nt&&(ye.defaultSampleDuration=le.getUint32(Qn),Qn+=4),Zt&&(ye.defaultSampleSize=le.getUint32(Qn),Qn+=4),an&&(ye.defaultSampleFlags=le.getUint32(Qn)),mn&&(ye.durationIsEmpty=!0),!ve&&In&&(ye.baseDataOffsetIsMoof=!0),ye},FE=(Pb=typeof window<"u"?window:typeof c<"u"?c:typeof self<"u"?self:{},Cr.discardEmulationPreventionBytes),jy=Vv.CaptionStream,xm=Vy,BE=Yx,jf=NE,VE=z1,$1=Pb,u1=function(j,le){for(var ye=j,ve=0;ve<le.length;ve++){var je=le[ve];if(ye<je.size)return je;ye-=je.size}return null},UE=function(j,le){var ye=xm(j,["moof","traf"]),ve=xm(j,["mdat"]),je={},nt=[];return ve.forEach(function(Zt,an){nt.push({mdat:Zt,traf:ye[an]})}),nt.forEach(function(Zt){var Fs,Fc,an=Zt.mdat,mn=Zt.traf,In=xm(mn,["tfhd"]),Qn=VE(In[0]),_i=Qn.trackId,Mr=xm(mn,["tfdt"]),Xi=Mr.length>0?BE(Mr[0]).baseMediaDecodeTime:0,bs=xm(mn,["trun"]);le===_i&&bs.length>0&&(Fs=function(j,le,ye){var ve=le,je=ye.defaultSampleDuration||0,nt=ye.defaultSampleSize||0,Zt=ye.trackId,an=[];return j.forEach(function(mn){var Qn=jf(mn).samples;Qn.forEach(function(_i){void 0===_i.duration&&(_i.duration=je),void 0===_i.size&&(_i.size=nt),_i.trackId=Zt,_i.dts=ve,void 0===_i.compositionTimeOffset&&(_i.compositionTimeOffset=0),"bigint"==typeof ve?(_i.pts=ve+$1.BigInt(_i.compositionTimeOffset),ve+=$1.BigInt(_i.duration)):(_i.pts=ve+_i.compositionTimeOffset,ve+=_i.duration)}),an=an.concat(Qn)}),an}(bs,Xi,Qn),Fc=function(j,le,ye){var nt,Zt,an,mn,ve=new DataView(j.buffer,j.byteOffset,j.byteLength),je={logs:[],seiNals:[]};for(Zt=0;Zt+4<j.length;Zt+=an)if(an=ve.getUint32(Zt),Zt+=4,!(an<=0))switch(31&j[Zt]){case 6:var In=j.subarray(Zt+1,Zt+1+an),Qn=u1(Zt,le);if(nt={nalUnitType:"sei_rbsp",size:an,data:In,escapedRBSP:FE(In),trackId:ye},Qn)nt.pts=Qn.pts,nt.dts=Qn.dts,mn=Qn;else{if(!mn){je.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+Zt+" for trackId "+ye+". See mux.js#223."});break}nt.pts=mn.pts,nt.dts=mn.dts}je.seiNals.push(nt)}return je}(an,Fs,_i),je[_i]||(je[_i]={seiNals:[],logs:[]}),je[_i].seiNals=je[_i].seiNals.concat(Fc.seiNals),je[_i].logs=je[_i].logs.concat(Fc.logs))}),je},zy=function(){var le,ye,ve,je,nt,Zt,j=!1;this.isInitialized=function(){return j},this.init=function(an){le=new jy,j=!0,Zt=!!an&&an.isPartial,le.on("data",function(mn){mn.startTime=mn.startPts/je,mn.endTime=mn.endPts/je,nt.captions.push(mn),nt.captionStreams[mn.stream]=!0}),le.on("log",function(mn){nt.logs.push(mn)})},this.isNewInit=function(an,mn){return!(an&&0===an.length||mn&&"object"==typeof mn&&0===Object.keys(mn).length||ve===an[0]&&je===mn[ve])},this.parse=function(an,mn,In){var Qn;if(!this.isInitialized())return null;if(!mn||!In)return null;if(this.isNewInit(mn,In))je=In[ve=mn[0]];else if(null===ve||!je)return ye.push(an),null;for(;ye.length>0;){var _i=ye.shift();this.parse(_i,mn,In)}return(Qn=function(j,le,ye){if(null===le)return null;var je=UE(j,le)[le]||{};return{seiNals:je.seiNals,logs:je.logs,timescale:ye}}(an,ve,je))&&Qn.logs&&(nt.logs=nt.logs.concat(Qn.logs)),null!==Qn&&Qn.seiNals?(this.pushNals(Qn.seiNals),this.flushStream(),nt):nt.logs.length?{logs:nt.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(an){if(!this.isInitialized()||!an||0===an.length)return null;an.forEach(function(mn){le.push(mn)})},this.flushStream=function(){if(!this.isInitialized())return null;Zt?le.partialFlush():le.flush()},this.clearParsedCaptions=function(){nt.captions=[],nt.captionStreams={},nt.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;le.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){ye=[],ve=null,je=null,nt?this.clearParsedCaptions():nt={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},L0=function(j){for(var le=0,ye=String.fromCharCode(j[le]),ve="";"\0"!==ye;)ve+=ye,le++,ye=String.fromCharCode(j[le]);return ve+ye},K1=M.getUint64,p1=function(j,le){var ye="\0"!==le.scheme_id_uri,ve=0===j&&Hy(le.presentation_time_delta)&&ye,je=1===j&&Hy(le.presentation_time)&&ye;return!(j>1)&&ve||je},Hy=function(j){return void 0!==j||null!==j},gy=Ea_toUnsigned,Lb=Ea_toHexString,mc=Vy,Nb=mh,j__parseEmsgBox=function(j){var ve,je,nt,Zt,an,mn,In,le=4,ye=j[0];if(0===ye)le+=(ve=L0(j.subarray(le))).length,le+=(je=L0(j.subarray(le))).length,nt=(_i=new DataView(j.buffer)).getUint32(le),an=_i.getUint32(le+=4),mn=_i.getUint32(le+=4),In=_i.getUint32(le+=4),le+=4;else if(1===ye){var _i;nt=(_i=new DataView(j.buffer)).getUint32(le),Zt=K1(j.subarray(le+=4)),mn=_i.getUint32(le+=8),In=_i.getUint32(le+=4),le+=4,le+=(ve=L0(j.subarray(le))).length,le+=(je=L0(j.subarray(le))).length}var Mr={scheme_id_uri:ve,value:je,timescale:nt||1,presentation_time:Zt,presentation_time_delta:an,event_duration:mn,id:In,message_data:new Uint8Array(j.subarray(le,j.byteLength))};return p1(ye,Mr)?Mr:void 0},j__scaleTime=function(j,le,ye,ve){return j||0===j?j/le:ve+ye/le},Q1=z1,zE=NE,HE=Yx,$E=M.getUint64,_1=Pb,WE=Ib.parseId3Frames;g1=function(j,le){var ve=mc(le,["moof","traf"]).reduce(function(je,nt){var _i,Zt=mc(nt,["tfhd"])[0],an=gy(Zt[4]<<24|Zt[5]<<16|Zt[6]<<8|Zt[7]),mn=j[an]||9e4,In=mc(nt,["tfdt"])[0],Qn=new DataView(In.buffer,In.byteOffset,In.byteLength);let Mr;return"bigint"==typeof(_i=1===In[0]?$E(In.subarray(4,12)):Qn.getUint32(4))?Mr=_i/_1.BigInt(mn):"number"==typeof _i&&!isNaN(_i)&&(Mr=_i/mn),Mr<Number.MAX_SAFE_INTEGER&&(Mr=Number(Mr)),Mr<je&&(je=Mr),je},1/0);return"bigint"==typeof ve||isFinite(ve)?ve:0},_y=function(j){var ye=0===j[0]?12:20;return gy(j[ye]<<24|j[ye+1]<<16|j[ye+2]<<8|j[ye+3])},Z1=function(j){var le=mc(j,["moov","trak"]),ye=[];return le.forEach(function(ve){var Zt,an,je={},nt=mc(ve,["tkhd"])[0];nt&&(an=(Zt=new DataView(nt.buffer,nt.byteOffset,nt.byteLength)).getUint8(0),je.id=Zt.getUint32(0===an?12:20));var mn=mc(ve,["mdia","hdlr"])[0];if(mn){var In=Nb(mn.subarray(8,12));je.type="vide"===In?"video":"soun"===In?"audio":In}var Qn=mc(ve,["mdia","minf","stbl","stsd"])[0];if(Qn){var _i=Qn.subarray(8);je.codec=Nb(_i.subarray(4,8));var Xi,Mr=mc(_i,[je.codec])[0];Mr&&(/^[asm]vc[1-9]$/i.test(je.codec)?(Xi=Mr.subarray(78),"avcC"===Nb(Xi.subarray(4,8))&&Xi.length>11?(je.codec+=".",je.codec+=Lb(Xi[9]),je.codec+=Lb(Xi[10]),je.codec+=Lb(Xi[11])):je.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(je.codec)?(Xi=Mr.subarray(28),"esds"===Nb(Xi.subarray(4,8))&&Xi.length>20&&0!==Xi[19]?(je.codec+="."+Lb(Xi[19]),je.codec+="."+Lb(Xi[20]>>>2&63).replace(/^0/,"")):je.codec="mp4a.40.2"):je.codec=je.codec.toLowerCase())}var Fs=mc(ve,["mdia","mdhd"])[0];Fs&&(je.timescale=_y(Fs)),ye.push(je)}),ye};var J1_startTime=g1,J1_tracks=Z1,v1=M0,eE=function(j){var le=31&j[1];return(le<<=8)|j[2]},Gy=function(j){return!!(64&j[1])},Wy=function(j){var le=0;return(48&j[3])>>>4>1&&(le+=j[4]+1),le},b1=function(j){switch(j){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},tE=M0,Kv=R1.handleRollover,pa={};pa.ts={parseType:function(j,le){var ye=eE(j);return 0===ye?"pat":ye===le?"pmt":le?"pes":null},parsePat:function(j){var le=Gy(j),ye=4+Wy(j);return le&&(ye+=j[ye]+1),(31&j[ye+10])<<8|j[ye+11]},parsePmt:function(j){var le={},ye=Gy(j),ve=4+Wy(j);if(ye&&(ve+=j[ve]+1),1&j[ve+5]){var nt;nt=3+((15&j[ve+1])<<8|j[ve+2])-4;for(var an=12+((15&j[ve+10])<<8|j[ve+11]);an<nt;){var mn=ve+an;le[(31&j[mn+1])<<8|j[mn+2]]=j[mn],an+=5+((15&j[mn+3])<<8|j[mn+4])}return le}},parsePayloadUnitStartIndicator:Gy,parsePesType:function(j,le){switch(le[eE(j)]){case v1.H264_STREAM_TYPE:return"video";case v1.ADTS_STREAM_TYPE:return"audio";case v1.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(j){if(!Gy(j))return null;var ye=4+Wy(j);if(ye>=j.byteLength)return null;var je,ve=null;return 192&(je=j[ye+7])&&((ve={}).pts=(14&j[ye+9])<<27|(255&j[ye+10])<<20|(254&j[ye+11])<<12|(255&j[ye+12])<<5|(254&j[ye+13])>>>3,ve.pts*=4,ve.pts+=(6&j[ye+13])>>>1,ve.dts=ve.pts,64&je&&(ve.dts=(14&j[ye+14])<<27|(255&j[ye+15])<<20|(254&j[ye+16])<<12|(255&j[ye+17])<<5|(254&j[ye+18])>>>3,ve.dts*=4,ve.dts+=(6&j[ye+18])>>>1)),ve},videoPacketContainsKeyFrame:function(j){for(var le=4+Wy(j),ye=j.subarray(le),ve=0,je=0,nt=!1;je<ye.byteLength-3;je++)if(1===ye[je+2]){ve=je+5;break}for(;ve<ye.byteLength;)switch(ye[ve]){case 0:if(0!==ye[ve-1]){ve+=2;break}if(0!==ye[ve-2]){ve++;break}je+3!==ve-2&&"slice_layer_without_partitioning_rbsp_idr"===b1(31&ye[je+3])&&(nt=!0);do{ve++}while(1!==ye[ve]&&ve<ye.length);je=ve-2,ve+=3;break;case 1:if(0!==ye[ve-1]||0!==ye[ve-2]){ve+=3;break}"slice_layer_without_partitioning_rbsp_idr"===b1(31&ye[je+3])&&(nt=!0),je=ve-2,ve+=3;break;default:ve+=3}return ye=ye.subarray(je),ve-=je,je=0,ye&&ye.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===b1(31&ye[je+3])&&(nt=!0),nt}},pa.aac=hy;var sf=_n.ONE_SECOND_IN_TS,gh=188,iE=function(j,le,ye){for(var nt,an,mn,In,ve=0,je=gh,Qn=!1;je<=j.byteLength;)if(71!==j[ve]||71!==j[je]&&je!==j.byteLength)ve++,je++;else{if("pes"===(nt=j.subarray(ve,je),pa.ts.parseType(nt,le.pid))&&(an=pa.ts.parsePesType(nt,le.table),mn=pa.ts.parsePayloadUnitStartIndicator(nt),"audio"===an&&mn&&(In=pa.ts.parsePesTime(nt))&&(In.type="audio",ye.audio.push(In),Qn=!0)),Qn)break;ve+=gh,je+=gh}for(ve=(je=j.byteLength)-gh,Qn=!1;ve>=0;)if(71!==j[ve]||71!==j[je]&&je!==j.byteLength)ve--,je--;else{if("pes"===(nt=j.subarray(ve,je),pa.ts.parseType(nt,le.pid))&&(an=pa.ts.parsePesType(nt,le.table),mn=pa.ts.parsePayloadUnitStartIndicator(nt),"audio"===an&&mn&&(In=pa.ts.parsePesTime(nt))&&(In.type="audio",ye.audio.push(In),Qn=!0)),Qn)break;ve-=gh,je-=gh}},rE=function(j,le,ye){for(var nt,an,mn,In,Qn,_i,Mr,ve=0,je=gh,Xi=!1,bs={data:[],size:0};je<j.byteLength;)if(71!==j[ve]||71!==j[je])ve++,je++;else{if("pes"===(nt=j.subarray(ve,je),pa.ts.parseType(nt,le.pid))&&(an=pa.ts.parsePesType(nt,le.table),mn=pa.ts.parsePayloadUnitStartIndicator(nt),"video"===an&&(mn&&!Xi&&(In=pa.ts.parsePesTime(nt))&&(In.type="video",ye.video.push(In),Xi=!0),!ye.firstKeyFrame))){if(mn&&0!==bs.size){for(Qn=new Uint8Array(bs.size),_i=0;bs.data.length;)Mr=bs.data.shift(),Qn.set(Mr,_i),_i+=Mr.byteLength;if(pa.ts.videoPacketContainsKeyFrame(Qn)){var Fs=pa.ts.parsePesTime(Qn);Fs?(ye.firstKeyFrame=Fs,ye.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}bs.size=0}bs.data.push(nt),bs.size+=nt.byteLength}if(Xi&&ye.firstKeyFrame)break;ve+=gh,je+=gh}for(ve=(je=j.byteLength)-gh,Xi=!1;ve>=0;)if(71!==j[ve]||71!==j[je])ve--,je--;else{if("pes"===(nt=j.subarray(ve,je),pa.ts.parseType(nt,le.pid))&&(an=pa.ts.parsePesType(nt,le.table),mn=pa.ts.parsePayloadUnitStartIndicator(nt),"video"===an&&mn&&(In=pa.ts.parsePesTime(nt))&&(In.type="video",ye.video.push(In),Xi=!0)),Xi)break;ve-=gh,je-=gh}},y1=function(j){var le={pid:null,table:null},ye={};for(var ve in function(j,le){for(var je,ye=0,ve=gh;ve<j.byteLength;)if(71!==j[ye]||71!==j[ve])ye++,ve++;else{switch(je=j.subarray(ye,ve),pa.ts.parseType(je,le.pid)){case"pat":le.pid=pa.ts.parsePat(je);break;case"pmt":var Zt=pa.ts.parsePmt(je);le.table=le.table||{},Object.keys(Zt).forEach(function(an){le.table[an]=Zt[an]})}ye+=gh,ve+=gh}}(j,le),le.table)if(le.table.hasOwnProperty(ve))switch(le.table[ve]){case tE.H264_STREAM_TYPE:ye.video=[],rE(j,le,ye),0===ye.video.length&&delete ye.video;break;case tE.ADTS_STREAM_TYPE:ye.audio=[],iE(j,le,ye),0===ye.audio.length&&delete ye.audio}return ye},oE_inspect=function(j,le){var ve;return(ve=pa.aac.isLikelyAacData(j)?function(j){for(var an,le=!1,ye=0,ve=null,je=null,nt=0,Zt=0;j.length-Zt>=3;){switch(pa.aac.parseType(j,Zt)){case"timed-metadata":if(j.length-Zt<10){le=!0;break}if((nt=pa.aac.parseId3TagSize(j,Zt))>j.length){le=!0;break}null===je&&(an=j.subarray(Zt,Zt+nt),je=pa.aac.parseAacTimestamp(an)),Zt+=nt;break;case"audio":if(j.length-Zt<7){le=!0;break}if((nt=pa.aac.parseAdtsSize(j,Zt))>j.length){le=!0;break}null===ve&&(an=j.subarray(Zt,Zt+nt),ve=pa.aac.parseSampleRate(an)),ye++,Zt+=nt;break;default:Zt++}if(le)return null}if(null===ve||null===je)return null;var In=sf/ve;return{audio:[{type:"audio",dts:je,pts:je},{type:"audio",dts:je+1024*ye*In,pts:je+1024*ye*In}]}}(j):y1(j))&&(ve.audio||ve.video)?(function(j,le){if(j.audio&&j.audio.length){var ye=le;(typeof ye>"u"||isNaN(ye))&&(ye=j.audio[0].dts),j.audio.forEach(function(nt){nt.dts=Kv(nt.dts,ye),nt.pts=Kv(nt.pts,ye),nt.dtsTime=nt.dts/sf,nt.ptsTime=nt.pts/sf})}if(j.video&&j.video.length){var ve=le;if((typeof ve>"u"||isNaN(ve))&&(ve=j.video[0].dts),j.video.forEach(function(nt){nt.dts=Kv(nt.dts,ve),nt.pts=Kv(nt.pts,ve),nt.dtsTime=nt.dts/sf,nt.ptsTime=nt.pts/sf}),j.firstKeyFrame){var je=j.firstKeyFrame;je.dts=Kv(je.dts,ve),je.pts=Kv(je.pts,ve),je.dtsTime=je.dts/sf,je.ptsTime=je.pts/sf}}}(ve,le),ve):null};class Ky{constructor(le,ye){this.options=ye||{},this.self=le,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new gs.Transmuxer(this.options),function(j,le){le.on("data",function(ye){const ve=ye.initSegment;ye.initSegment={data:ve.buffer,byteOffset:ve.byteOffset,byteLength:ve.byteLength};const je=ye.data;ye.data=je.buffer,j.postMessage({action:"data",segment:ye,byteOffset:je.byteOffset,byteLength:je.byteLength},[ye.data])}),le.on("done",function(ye){j.postMessage({action:"done"})}),le.on("gopInfo",function(ye){j.postMessage({action:"gopInfo",gopInfo:ye})}),le.on("videoSegmentTimingInfo",function(ye){const ve={start:{decode:_n.videoTsToSeconds(ye.start.dts),presentation:_n.videoTsToSeconds(ye.start.pts)},end:{decode:_n.videoTsToSeconds(ye.end.dts),presentation:_n.videoTsToSeconds(ye.end.pts)},baseMediaDecodeTime:_n.videoTsToSeconds(ye.baseMediaDecodeTime)};ye.prependedContentDuration&&(ve.prependedContentDuration=_n.videoTsToSeconds(ye.prependedContentDuration)),j.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:ve})}),le.on("audioSegmentTimingInfo",function(ye){const ve={start:{decode:_n.videoTsToSeconds(ye.start.dts),presentation:_n.videoTsToSeconds(ye.start.pts)},end:{decode:_n.videoTsToSeconds(ye.end.dts),presentation:_n.videoTsToSeconds(ye.end.pts)},baseMediaDecodeTime:_n.videoTsToSeconds(ye.baseMediaDecodeTime)};ye.prependedContentDuration&&(ve.prependedContentDuration=_n.videoTsToSeconds(ye.prependedContentDuration)),j.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:ve})}),le.on("id3Frame",function(ye){j.postMessage({action:"id3Frame",id3Frame:ye})}),le.on("caption",function(ye){j.postMessage({action:"caption",caption:ye})}),le.on("trackinfo",function(ye){j.postMessage({action:"trackinfo",trackInfo:ye})}),le.on("audioTimingInfo",function(ye){j.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:_n.videoTsToSeconds(ye.start),end:_n.videoTsToSeconds(ye.end)}})}),le.on("videoTimingInfo",function(ye){j.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:_n.videoTsToSeconds(ye.start),end:_n.videoTsToSeconds(ye.end)}})}),le.on("log",function(ye){j.postMessage({action:"log",log:ye})})}(this.self,this.transmuxer)}pushMp4Captions(le){this.captionParser||(this.captionParser=new zy,this.captionParser.init());const ye=new Uint8Array(le.data,le.byteOffset,le.byteLength),ve=this.captionParser.parse(ye,le.trackIds,le.timescales);this.self.postMessage({action:"mp4Captions",captions:ve&&ve.captions||[],logs:ve&&ve.logs||[],data:ye.buffer},[ye.buffer])}probeMp4StartTime({timescales:le,data:ye}){const ve=J1_startTime(le,ye);this.self.postMessage({action:"probeMp4StartTime",startTime:ve,data:ye},[ye.buffer])}probeMp4Tracks({data:le}){const ye=J1_tracks(le);this.self.postMessage({action:"probeMp4Tracks",tracks:ye,data:le},[le.buffer])}probeTs({data:le,baseStartTime:ye}){const ve="number"!=typeof ye||isNaN(ye)?void 0:ye*_n.ONE_SECOND_IN_TS,je=oE_inspect(le,ve);let nt=null;je&&(nt={hasVideo:je.video&&2===je.video.length||!1,hasAudio:je.audio&&2===je.audio.length||!1},nt.hasVideo&&(nt.videoStart=je.video[0].ptsTime),nt.hasAudio&&(nt.audioStart=je.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:nt,data:le},[le.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(le){const ye=new Uint8Array(le.data,le.byteOffset,le.byteLength);this.transmuxer.push(ye)}reset(){this.transmuxer.reset()}setTimestampOffset(le){this.transmuxer.setBaseMediaDecodeTime(Math.round(_n.secondsToVideoTs(le.timestampOffset||0)))}setAudioAppendStart(le){this.transmuxer.setAudioAppendStart(Math.ceil(_n.secondsToVideoTs(le.appendStart)))}setRemux(le){this.transmuxer.setRemux(le.remux)}flush(le){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(le){this.transmuxer.alignGopsWith(le.gopsToAlignWith.slice())}}self.onmessage=function(j){"init"===j.data.action&&j.data.options?this.messageHandlers=new Ky(self,j.data.options):(this.messageHandlers||(this.messageHandlers=new Ky(self)),j.data&&j.data.action&&"init"!==j.data.action&&this.messageHandlers[j.data.action]&&this.messageHandlers[j.data.action](j.data))}}));var Pf=d_(d0);const cv=c=>{const{transmuxer:t,bytes:o,audioAppendStart:h,gopsToAlignWith:y,remux:M,onData:L,onTrackInfo:K,onAudioTimingInfo:pe,onVideoTimingInfo:He,onVideoSegmentTimingInfo:Je,onAudioSegmentTimingInfo:St,onId3:rn,onCaptions:Bt,onDone:Vn,onEndedTimeline:Fn,onTransmuxerLog:Bn,isEndOfTimeline:Gn}=c,si={buffer:[]};let Bi=Gn;if(t.onmessage=Jn=>{t.currentTransmux===c&&("data"===Jn.data.action&&((c,t,o)=>{const{type:h,initSegment:y,captions:M,captionStreams:L,metadata:K,videoFrameDtsTime:pe,videoFramePtsTime:He}=c.data.segment;t.buffer.push({captions:M,captionStreams:L,metadata:K});const Je=c.data.segment.boxes||{data:c.data.segment.data},St={type:h,data:new Uint8Array(Je.data,Je.data.byteOffset,Je.data.byteLength),initSegment:new Uint8Array(y.data,y.byteOffset,y.byteLength)};typeof pe<"u"&&(St.videoFrameDtsTime=pe),typeof He<"u"&&(St.videoFramePtsTime=He),o(St)})(Jn,si,L),"trackinfo"===Jn.data.action&&K(Jn.data.trackInfo),"gopInfo"===Jn.data.action&&((c,t)=>{t.gopInfo=c.data.gopInfo})(Jn,si),"audioTimingInfo"===Jn.data.action&&pe(Jn.data.audioTimingInfo),"videoTimingInfo"===Jn.data.action&&He(Jn.data.videoTimingInfo),"videoSegmentTimingInfo"===Jn.data.action&&Je(Jn.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===Jn.data.action&&St(Jn.data.audioSegmentTimingInfo),"id3Frame"===Jn.data.action&&rn([Jn.data.id3Frame],Jn.data.id3Frame.dispatchType),"caption"===Jn.data.action&&Bt(Jn.data.caption),"endedtimeline"===Jn.data.action&&(Bi=!1,Fn()),"log"===Jn.data.action&&Bn(Jn.data.log),"transmuxed"===Jn.data.type&&(Bi||(t.onmessage=null,(({transmuxedData:c,callback:t})=>{c.buffer=[],t(c)})({transmuxedData:si,callback:Vn}),h_(t))))},h&&t.postMessage({action:"setAudioAppendStart",appendStart:h}),Array.isArray(y)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:y}),typeof M<"u"&&t.postMessage({action:"setRemux",remux:M}),o.byteLength){const Jn=o instanceof ArrayBuffer?o:o.buffer,Sr=o instanceof ArrayBuffer?0:o.byteOffset;t.postMessage({action:"push",data:Jn,byteOffset:Sr,byteLength:o.byteLength},[Jn])}Gn&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},h_=c=>{c.currentTransmux=null,c.transmuxQueue.length&&(c.currentTransmux=c.transmuxQueue.shift(),"function"==typeof c.currentTransmux?c.currentTransmux():cv(c.currentTransmux))},u0=(c,t)=>{c.postMessage({action:t}),h_(c)},h0=(c,t)=>{if(!t.currentTransmux)return t.currentTransmux=c,void u0(t,c);t.transmuxQueue.push(u0.bind(null,t,c))},f_=c=>{if(!c.transmuxer.currentTransmux)return c.transmuxer.currentTransmux=c,void cv(c);c.transmuxer.transmuxQueue.push(c)};var p__reset=c=>{h0("reset",c)},p__createTransmuxer=c=>{const t=new Pf;t.currentTransmux=null,t.transmuxQueue=[];const o=t.terminate;return t.terminate=()=>(t.currentTransmux=null,t.transmuxQueue.length=0,o.call(t)),t.postMessage({action:"init",options:c}),t};const um=function(c){const t=c.transmuxer,o=c.endAction||c.action,h=c.callback,y=Us({},c,{endAction:null,transmuxer:null,callback:null}),M=L=>{L.data.action===o&&(t.removeEventListener("message",M),L.data.data&&(L.data.data=new Uint8Array(L.data.data,c.byteOffset||0,c.byteLength||L.data.data.byteLength),c.data&&(c.data=L.data.data)),h(L.data))};if(t.addEventListener("message",M),c.data){const L=c.data instanceof ArrayBuffer;y.byteOffset=L?0:c.data.byteOffset,y.byteLength=c.data.byteLength,t.postMessage(y,[L?c.data:c.data.buffer])}else t.postMessage(y)},uh_FAILURE=2,uh_TIMEOUT=-101,uh_ABORTED=-102,Ap=c=>{c.forEach(t=>{t.abort()})},Rf=(c,t)=>t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:uh_TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:uh_ABORTED,xhr:t}:c?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:uh_FAILURE,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:uh_FAILURE,xhr:t}:null,m0=(c,t,o)=>(h,y)=>{const M=y.response,L=Rf(h,y);if(L)return o(L,c);if(16!==M.byteLength)return o({status:y.status,message:"Invalid HLS key at URL: "+y.uri,code:uh_FAILURE,xhr:y},c);const K=new DataView(M),pe=new Uint32Array([K.getUint32(0),K.getUint32(4),K.getUint32(8),K.getUint32(12)]);for(let He=0;He<t.length;He++)t[He].bytes=pe;return o(null,c)},m_=(c,t)=>{const o=mp(c.map.bytes);if("mp4"!==o)return t({internal:!0,message:`Found unsupported ${o||"unknown"} container for initialization segment at URL: ${c.map.resolvedUri||c.map.uri}`,code:uh_FAILURE});um({action:"probeMp4Tracks",data:c.map.bytes,transmuxer:c.transmuxer,callback:({tracks:h,data:y})=>(c.map.bytes=y,h.forEach(function(M){c.map.tracks=c.map.tracks||{},!c.map.tracks[M.type]&&(c.map.tracks[M.type]=M,"number"==typeof M.id&&M.timescale&&(c.map.timescales=c.map.timescales||{},c.map.timescales[M.id]=M.timescale))}),t(null))})},dv=({segment:c,finishProcessingFn:t,responseType:o})=>(h,y)=>{const M=Rf(h,y);if(M)return t(M,c);const L="arraybuffer"!==o&&y.responseText?(c=>{const t=new Uint8Array(new ArrayBuffer(c.length));for(let o=0;o<c.length;o++)t[o]=c.charCodeAt(o);return t.buffer})(y.responseText.substring(c.lastReachedChar||0)):y.response;return c.stats=(c=>({bandwidth:c.bandwidth,bytesReceived:c.bytesReceived||0,roundTripTime:c.roundTripTime||0}))(y),c.key?c.encryptedBytes=new Uint8Array(L):c.bytes=new Uint8Array(L),t(null,c)},g_=({segment:c,bytes:t,trackInfoFn:o,timingInfoFn:h,videoSegmentTimingInfoFn:y,audioSegmentTimingInfoFn:M,id3Fn:L,captionsFn:K,isEndOfTimeline:pe,endedTimelineFn:He,dataFn:Je,doneFn:St,onTransmuxerLog:rn})=>{const Bt=c.map&&c.map.tracks||{},Vn=!(!Bt.audio||!Bt.video);let Fn=h.bind(null,c,"audio","start");const Bn=h.bind(null,c,"audio","end");let Gn=h.bind(null,c,"video","start");const si=h.bind(null,c,"video","end");um({action:"probeTs",transmuxer:c.transmuxer,data:t,baseStartTime:c.baseStartTime,callback:wi=>{c.bytes=t=wi.data;const Jn=wi.result;Jn&&(o(c,{hasAudio:Jn.hasAudio,hasVideo:Jn.hasVideo,isMuxed:Vn}),o=null,Jn.hasAudio&&!Vn&&Fn(Jn.audioStart),Jn.hasVideo&&Gn(Jn.videoStart),Fn=null,Gn=null),f_({bytes:t,transmuxer:c.transmuxer,audioAppendStart:c.audioAppendStart,gopsToAlignWith:c.gopsToAlignWith,remux:Vn,onData:wi=>{wi.type="combined"===wi.type?"video":wi.type,Je(c,wi)},onTrackInfo:wi=>{o&&(Vn&&(wi.isMuxed=!0),o(c,wi))},onAudioTimingInfo:wi=>{Fn&&typeof wi.start<"u"&&(Fn(wi.start),Fn=null),Bn&&typeof wi.end<"u"&&Bn(wi.end)},onVideoTimingInfo:wi=>{Gn&&typeof wi.start<"u"&&(Gn(wi.start),Gn=null),si&&typeof wi.end<"u"&&si(wi.end)},onVideoSegmentTimingInfo:wi=>{y(wi)},onAudioSegmentTimingInfo:wi=>{M(wi)},onId3:(wi,Jn)=>{L(c,wi,Jn)},onCaptions:wi=>{K(c,[wi])},isEndOfTimeline:pe,onEndedTimeline:()=>{He()},onTransmuxerLog:rn,onDone:wi=>{St&&(wi.type="combined"===wi.type?"video":wi.type,St(null,c,wi))}})}})},__=({segment:c,bytes:t,trackInfoFn:o,timingInfoFn:h,videoSegmentTimingInfoFn:y,audioSegmentTimingInfoFn:M,id3Fn:L,captionsFn:K,isEndOfTimeline:pe,endedTimelineFn:He,dataFn:Je,doneFn:St,onTransmuxerLog:rn})=>{let Bt=new Uint8Array(t);if(function(t){return eb(t,["moof"]).length>0}(Bt)){c.isFmp4=!0;const{tracks:Vn}=c.map,Fn={isFmp4:!0,hasVideo:!!Vn.video,hasAudio:!!Vn.audio};Vn.audio&&Vn.audio.codec&&"enca"!==Vn.audio.codec&&(Fn.audioCodec=Vn.audio.codec),Vn.video&&Vn.video.codec&&"encv"!==Vn.video.codec&&(Fn.videoCodec=Vn.video.codec),Vn.video&&Vn.audio&&(Fn.isMuxed=!0),o(c,Fn);const Bn=Gn=>{Je(c,{data:Bt,type:Fn.hasAudio&&!Fn.isMuxed?"audio":"video"}),Gn&&Gn.length&&K(c,Gn),St(null,c,{})};um({action:"probeMp4StartTime",timescales:c.map.timescales,data:Bt,transmuxer:c.transmuxer,callback:({data:Gn,startTime:si})=>{t=Gn.buffer,c.bytes=Bt=Gn,Fn.hasAudio&&!Fn.isMuxed&&h(c,"audio","start",si),Fn.hasVideo&&h(c,"video","start",si),Vn.video&&Gn.byteLength&&c.transmuxer?um({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:c.transmuxer,data:Bt,timescales:c.map.timescales,trackIds:[Vn.video.id],callback:Bi=>{t=Bi.data.buffer,c.bytes=Bt=Bi.data,Bi.logs.forEach(function(wi){rn(ua(wi,{stream:"mp4CaptionParser"}))}),Bn(Bi.captions)}}):Bn()}})}else{if(c.transmuxer)return typeof c.container>"u"&&(c.container=mp(Bt)),"ts"!==c.container&&"aac"!==c.container?(o(c,{hasAudio:!1,hasVideo:!1}),void St(null,c,{})):void g_({segment:c,bytes:t,trackInfoFn:o,timingInfoFn:h,videoSegmentTimingInfoFn:y,audioSegmentTimingInfoFn:M,id3Fn:L,captionsFn:K,isEndOfTimeline:pe,endedTimelineFn:He,dataFn:Je,doneFn:St,onTransmuxerLog:rn});St(null,c,{})}},v_=function({id:c,key:t,encryptedBytes:o,decryptionWorker:h},y){const M=K=>{if(K.data.source===c){h.removeEventListener("message",M);const pe=K.data.decrypted;y(new Uint8Array(pe.bytes,pe.byteOffset,pe.byteLength))}};let L;h.addEventListener("message",M),L=t.bytes.slice?t.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.bytes)),h.postMessage(l_({source:c,encrypted:o,key:L,iv:t.iv}),[o.buffer,L.buffer])},uv=({activeXhrs:c,decryptionWorker:t,trackInfoFn:o,timingInfoFn:h,videoSegmentTimingInfoFn:y,audioSegmentTimingInfoFn:M,id3Fn:L,captionsFn:K,isEndOfTimeline:pe,endedTimelineFn:He,dataFn:Je,doneFn:St,onTransmuxerLog:rn})=>{let Bt=0,Vn=!1;return(Fn,Bn)=>{if(!Vn){if(Fn)return Vn=!0,Ap(c),St(Fn,Bn);if(Bt+=1,Bt===c.length){const Gn=function(){if(Bn.encryptedBytes)return(({decryptionWorker:c,segment:t,trackInfoFn:o,timingInfoFn:h,videoSegmentTimingInfoFn:y,audioSegmentTimingInfoFn:M,id3Fn:L,captionsFn:K,isEndOfTimeline:pe,endedTimelineFn:He,dataFn:Je,doneFn:St,onTransmuxerLog:rn})=>{v_({id:t.requestId,key:t.key,encryptedBytes:t.encryptedBytes,decryptionWorker:c},Bt=>{t.bytes=Bt,__({segment:t,bytes:t.bytes,trackInfoFn:o,timingInfoFn:h,videoSegmentTimingInfoFn:y,audioSegmentTimingInfoFn:M,id3Fn:L,captionsFn:K,isEndOfTimeline:pe,endedTimelineFn:He,dataFn:Je,doneFn:St,onTransmuxerLog:rn})})})({decryptionWorker:t,segment:Bn,trackInfoFn:o,timingInfoFn:h,videoSegmentTimingInfoFn:y,audioSegmentTimingInfoFn:M,id3Fn:L,captionsFn:K,isEndOfTimeline:pe,endedTimelineFn:He,dataFn:Je,doneFn:St,onTransmuxerLog:rn});__({segment:Bn,bytes:Bn.bytes,trackInfoFn:o,timingInfoFn:h,videoSegmentTimingInfoFn:y,audioSegmentTimingInfoFn:M,id3Fn:L,captionsFn:K,isEndOfTimeline:pe,endedTimelineFn:He,dataFn:Je,doneFn:St,onTransmuxerLog:rn})};if(Bn.endOfAllRequests=Date.now(),Bn.map&&Bn.map.encryptedBytes&&!Bn.map.bytes)return v_({decryptionWorker:t,id:Bn.requestId+"-init",encryptedBytes:Bn.map.encryptedBytes,key:Bn.map.key},si=>{Bn.map.bytes=si,m_(Bn,Bi=>{if(Bi)return Ap(c),St(Bi,Bn);Gn()})});Gn()}}}},qb=({segment:c,progressFn:t})=>St=>{if(!St.target.aborted)return c.stats=ua(c.stats,(c=>{const t=c.target,h={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return h.bytesReceived=c.loaded,h.bandwidth=Math.floor(h.bytesReceived/h.roundTripTime*8*1e3),h})(St)),!c.stats.firstBytesReceivedAt&&c.stats.bytesReceived&&(c.stats.firstBytesReceivedAt=Date.now()),t(St,c)},fv=({xhr:c,xhrOptions:t,decryptionWorker:o,segment:h,abortFn:y,progressFn:M,trackInfoFn:L,timingInfoFn:K,videoSegmentTimingInfoFn:pe,audioSegmentTimingInfoFn:He,id3Fn:Je,captionsFn:St,isEndOfTimeline:rn,endedTimelineFn:Bt,dataFn:Vn,doneFn:Fn,onTransmuxerLog:Bn})=>{const Gn=[],si=uv({activeXhrs:Gn,decryptionWorker:o,trackInfoFn:L,timingInfoFn:K,videoSegmentTimingInfoFn:pe,audioSegmentTimingInfoFn:He,id3Fn:Je,captionsFn:St,isEndOfTimeline:rn,endedTimelineFn:Bt,dataFn:Vn,doneFn:Fn,onTransmuxerLog:Bn});if(h.key&&!h.key.bytes){const Yr=[h.key];h.map&&!h.map.bytes&&h.map.key&&h.map.key.resolvedUri===h.key.resolvedUri&&Yr.push(h.map.key);const $o=c(ua(t,{uri:h.key.resolvedUri,responseType:"arraybuffer"}),m0(h,Yr,si));Gn.push($o)}if(h.map&&!h.map.bytes){if(h.map.key&&(!h.key||h.key.resolvedUri!==h.map.key.resolvedUri)){const zr=c(ua(t,{uri:h.map.key.resolvedUri,responseType:"arraybuffer"}),m0(h,[h.map.key],si));Gn.push(zr)}const $o=c(ua(t,{uri:h.map.resolvedUri,responseType:"arraybuffer",headers:ku(h.map)}),(({segment:c,finishProcessingFn:t})=>(o,h)=>{const y=Rf(o,h);if(y)return t(y,c);const M=new Uint8Array(h.response);if(c.map.key)return c.map.encryptedBytes=M,t(null,c);c.map.bytes=M,m_(c,function(L){if(L)return L.xhr=h,L.status=h.status,t(L,c);t(null,c)})})({segment:h,finishProcessingFn:si}));Gn.push($o)}const Bi=ua(t,{uri:h.part&&h.part.resolvedUri||h.resolvedUri,responseType:"arraybuffer",headers:ku(h)}),Jn=c(Bi,dv({segment:h,finishProcessingFn:si,responseType:Bi.responseType}));Jn.addEventListener("progress",qb({segment:h,progressFn:M,trackInfoFn:L,timingInfoFn:K,videoSegmentTimingInfoFn:pe,audioSegmentTimingInfoFn:He,id3Fn:Je,captionsFn:St,isEndOfTimeline:rn,endedTimelineFn:Bt,dataFn:Vn})),Gn.push(Jn);const Sr={};return Gn.forEach(Yr=>{Yr.addEventListener("loadend",(({loadendState:c,abortFn:t})=>o=>{o.target.aborted&&t&&!c.calledAbortFn&&(t(),c.calledAbortFn=!0)})({loadendState:Sr,abortFn:y}))}),()=>Ap(Gn)},Zb=vd("CodecUtils"),pv=(c,t)=>{const o=t.attributes||{};return c&&c.mediaGroups&&c.mediaGroups.AUDIO&&o.AUDIO&&c.mediaGroups.AUDIO[o.AUDIO]},_0=function(c){const t={};return c.forEach(({mediaType:o,type:h,details:y})=>{t[o]=t[o]||[],t[o].push(xl(`${h}${y}`))}),Object.keys(t).forEach(function(o){if(t[o].length>1)return Zb(`multiple ${o} codecs found as attributes: ${t[o].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),void(t[o]=null);t[o]=t[o][0]}),t},b_=function(c){let t=0;return c.audio&&t++,c.video&&t++,t},ja=function(c,t){const o=t.attributes||{},h=_0(function(c){const t=c.attributes||{};if(t.CODECS)return ia(t.CODECS)}(t)||[]);if(pv(c,t)&&!h.audio&&!((c,t)=>{if(!pv(c,t))return!0;const h=c.mediaGroups.AUDIO[(t.attributes||{}).AUDIO];for(const y in h)if(!h[y].uri&&!h[y].playlists)return!0;return!1})(c,t)){const y=_0(function(t,o){if(!t.mediaGroups.AUDIO||!o)return null;var h=t.mediaGroups.AUDIO[o];if(!h)return null;for(var y in h){var M=h[y];if(M.default&&M.playlists)return ia(M.playlists[0].attributes.CODECS)}return null}(c,o.AUDIO)||[]);y.audio&&(h.audio=y.audio)}return h},ag=vd("PlaylistSelector"),fm=function(c){if(!c||!c.playlist)return;const t=c.playlist;return JSON.stringify({id:t.id,bandwidth:c.bandwidth,width:c.width,height:c.height,codecs:t.attributes&&t.attributes.CODECS||""})},y_=function(c,t){if(!c)return"";const o=window.getComputedStyle(c);return o?o[t]:""},qh=function(c,t){const o=c.slice();c.sort(function(h,y){const M=t(h,y);return 0===M?o.indexOf(h)-o.indexOf(y):M})},v0=function(c,t){let o,h;return c.attributes.BANDWIDTH&&(o=c.attributes.BANDWIDTH),o=o||window.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(h=t.attributes.BANDWIDTH),h=h||window.Number.MAX_VALUE,o-h};let Zh=function(c,t,o,h,y,M){if(!c)return;const L={bandwidth:t,width:o,height:h,limitRenditionByPlayerDimensions:y};let K=c.playlists;eu.isAudioOnly(c)&&(K=M.getAudioTrackPlaylists_(),L.audioOnly=!0);let pe=K.map(Jn=>{let Sr;return Sr=Jn.attributes&&Jn.attributes.BANDWIDTH,Sr=Sr||window.Number.MAX_VALUE,{bandwidth:Sr,width:Jn.attributes&&Jn.attributes.RESOLUTION&&Jn.attributes.RESOLUTION.width,height:Jn.attributes&&Jn.attributes.RESOLUTION&&Jn.attributes.RESOLUTION.height,playlist:Jn}});qh(pe,(Jn,Sr)=>Jn.bandwidth-Sr.bandwidth),pe=pe.filter(Jn=>!eu.isIncompatible(Jn.playlist));let He=pe.filter(Jn=>eu.isEnabled(Jn.playlist));He.length||(He=pe.filter(Jn=>!eu.isDisabled(Jn.playlist)));const Je=He.filter(Jn=>Jn.bandwidth*Dl.BANDWIDTH_VARIANCE<t);let St=Je[Je.length-1];const rn=Je.filter(Jn=>Jn.bandwidth===St.bandwidth)[0];if(!1===y){const Jn=rn||He[0]||pe[0];if(Jn&&Jn.playlist){let Sr="sortedPlaylistReps";return rn&&(Sr="bandwidthBestRep"),He[0]&&(Sr="enabledPlaylistReps"),ag(`choosing ${fm(Jn)} using ${Sr} with options`,L),Jn.playlist}return ag("could not choose a playlist with options",L),null}const Bt=Je.filter(Jn=>Jn.width&&Jn.height);qh(Bt,(Jn,Sr)=>Jn.width-Sr.width);const Vn=Bt.filter(Jn=>Jn.width===o&&Jn.height===h);St=Vn[Vn.length-1];const Fn=Vn.filter(Jn=>Jn.bandwidth===St.bandwidth)[0];let Bn,Gn,si,Bi;if(Fn||(Bn=Bt.filter(Jn=>Jn.width>o||Jn.height>h),Gn=Bn.filter(Jn=>Jn.width===Bn[0].width&&Jn.height===Bn[0].height),St=Gn[Gn.length-1],si=Gn.filter(Jn=>Jn.bandwidth===St.bandwidth)[0]),M.leastPixelDiffSelector){const Jn=Bt.map(Sr=>(Sr.pixelDiff=Math.abs(Sr.width-o)+Math.abs(Sr.height-h),Sr));qh(Jn,(Sr,Yr)=>Sr.pixelDiff===Yr.pixelDiff?Yr.bandwidth-Sr.bandwidth:Sr.pixelDiff-Yr.pixelDiff),Bi=Jn[0]}const wi=Bi||si||Fn||rn||He[0]||pe[0];if(wi&&wi.playlist){let Jn="sortedPlaylistReps";return Bi?Jn="leastPixelDiffRep":si?Jn="resolutionPlusOneRep":Fn?Jn="resolutionBestRep":rn?Jn="bandwidthBestRep":He[0]&&(Jn="enabledPlaylistReps"),ag(`choosing ${fm(wi)} using ${Jn} with options`,L),wi.playlist}return ag("could not choose a playlist with options",L),null};const gv=function(){const c=this.useDevicePixelRatio&&window.devicePixelRatio||1;return Zh(this.playlists.main,this.systemBandwidth,parseInt(y_(this.tech_.el(),"width"),10)*c,parseInt(y_(this.tech_.el(),"height"),10)*c,this.limitRenditionByPlayerDimensions,this.playlistController_)},ty=({inbandTextTracks:c,metadataArray:t,timestampOffset:o,videoDuration:h})=>{if(!t)return;const y=window.WebKitDataCue||window.VTTCue,M=c.metadataTrack_;if(!M||(t.forEach(Je=>{const St=Je.cueTime+o;"number"!=typeof St||window.isNaN(St)||St<0||!(St<1/0)||Je.frames.forEach(rn=>{const Bt=new y(St,St,rn.value||rn.url||rn.data||"");Bt.frame=rn,Bt.value=rn,function(c){Object.defineProperties(c.frame,{id:{get:()=>(ui.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),c.value.key)},value:{get:()=>(ui.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),c.value.data)},privateData:{get:()=>(ui.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),c.value.data)}})}(Bt),M.addCue(Bt)})}),!M.cues||!M.cues.length))return;const L=M.cues,K=[];for(let Je=0;Je<L.length;Je++)L[Je]&&K.push(L[Je]);const pe=K.reduce((Je,St)=>{const rn=Je[St.startTime]||[];return rn.push(St),Je[St.startTime]=rn,Je},{}),He=Object.keys(pe).sort((Je,St)=>Number(Je)-Number(St));He.forEach((Je,St)=>{const rn=pe[Je],Bt=Number(He[St+1])||h;rn.forEach(Vn=>{Vn.endTime=Bt})})},yd=function(c,t,o){let h,y;if(o&&o.cues)for(h=o.cues.length;h--;)y=o.cues[h],y.startTime>=c&&y.endTime<=t&&o.removeCue(y)},cg=c=>"number"==typeof c&&isFinite(c),pm=1/60,ha=c=>{const{startOfSegment:t,duration:o,segment:h,part:y,playlist:{mediaSequence:M,id:L,segments:K=[]},mediaIndex:pe,partIndex:He,timeline:Je}=c,St=K.length-1;let rn="mediaIndex/partIndex increment";c.getMediaInfoForTime?rn=`getMediaInfoForTime (${c.getMediaInfoForTime})`:c.isSyncRequest&&(rn="getSyncSegmentCandidate (isSyncRequest)"),c.independent&&(rn+=` with independent ${c.independent}`);const Bt="number"==typeof He,Vn=c.segment.uri?"segment":"pre-segment",Fn=Bt?s_({preloadSegment:h})-1:0;return`${Vn} [${M+pe}/${M+St}]`+(Bt?` part [${He}/${Fn}]`:"")+` segment start/end [${h.start} => ${h.end}]`+(Bt?` part start/end [${y.start} => ${y.end}]`:"")+` startOfSegment [${t}] duration [${o}] timeline [${Je}] selected by [${rn}] playlist [${L}]`},kp=c=>`${c}TimingInfo`,Lf=({timelineChangeController:c,currentTimeline:t,segmentTimeline:o,loaderType:h,audioDisabled:y})=>{if(t===o)return!1;if("audio"===h){const M=c.lastTimelineChange({type:"main"});return!M||M.to!==o}if("main"===h&&y){const M=c.pendingTimelineChange({type:"audio"});return!(M&&M.to===o)}return!1},Nf=({segmentDuration:c,maxDuration:t})=>!!c&&Math.round(c)>t+$h,dg=(c,t)=>{if("hls"!==t)return null;const o=(c=>{let t=0;return["video","audio"].forEach(function(o){const h=c[`${o}TimingInfo`];if(!h)return;const{start:y,end:M}=h;let L;"bigint"==typeof y||"bigint"==typeof M?L=window.BigInt(M)-window.BigInt(y):"number"==typeof y&&"number"==typeof M&&(L=M-y),typeof L<"u"&&L>t&&(t=L)}),"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),t})({audioTimingInfo:c.audioTimingInfo,videoTimingInfo:c.videoTimingInfo});if(!o)return null;const h=c.playlist.targetDuration,y=Nf({segmentDuration:o,maxDuration:2*h}),M=Nf({segmentDuration:o,maxDuration:h});return y||M?{severity:y?"warn":"info",message:`Segment with index ${c.mediaIndex} from playlist ${c.playlist.id} has a duration of ${o} when the reported duration is ${c.duration} and the target duration is ${h}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`}:null};class Op extends ui.EventTarget{constructor(t,o={}){if(super(),!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=t.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=t.hasPlayed,this.currentTime_=t.currentTime,this.seekable_=t.seekable,this.seeking_=t.seeking,this.duration_=t.duration,this.mediaSource_=t.mediaSource,this.vhs_=t.vhs,this.loaderType_=t.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=t.segmentMetadataTrack,this.goalBufferLength_=t.goalBufferLength,this.sourceType_=t.sourceType,this.sourceUpdater_=t.sourceUpdater,this.inbandTextTracks_=t.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=t.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=t.parse708captions,this.useDtsForTimestampOffset_=t.useDtsForTimestampOffset,this.captionServices_=t.captionServices,this.exactManifestTimings=t.exactManifestTimings,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=ui.browser.IE_VERSION>=11,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=t.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=t.decrypter,this.syncController_=t.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=vd(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(h){h!==this.state_&&(this.logger_(`${this.state_} -> ${h}`),this.state_=h,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),"main"===this.loaderType_&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),"audio"===this.loaderType_&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}createTransmuxer_(){return p__createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,window.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(t){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==t:(this.state="READY",!0)}error(t){return typeof t<"u"&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&p__reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const t=this.getMediaInfo_();if(!this.sourceUpdater_||!t)return tc();if("main"===this.loaderType_){const{hasAudio:o,hasVideo:h,isMuxed:y}=t;if(h&&o&&!this.audioDisabled_&&!y)return this.sourceUpdater_.buffered();if(h)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(t,o=!1){if(!t)return null;const h=kc(t);let y=this.initSegments_[h];return o&&!y&&t.bytes&&(this.initSegments_[h]=y={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),y||t}segmentKey(t,o=!1){if(!t)return null;const h=lm(t);let y=this.keyCache_[h];this.cacheEncryptionKeys_&&o&&!y&&t.bytes&&(this.keyCache_[h]=y={resolvedUri:t.resolvedUri,bytes:t.bytes});const M={resolvedUri:(y||t).resolvedUri};return y&&(M.bytes=y.bytes),M}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),this.playlist_){if("INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(t,o={}){if(!t)return;const h=this.playlist_,y=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=o,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(t));let M=null;if(h&&(h.id?M=h.id:h.uri&&(M=h.uri)),this.logger_(`playlist update [${M} => ${t.id||t.uri}]`),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!h||h.uri!==t.uri)return null!==this.mediaIndex&&(t.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");const L=t.mediaSequence-h.mediaSequence;if(this.logger_(`live window shift [${L}]`),null!==this.mediaIndex)if(this.mediaIndex-=L,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const K=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!K.parts||!K.parts.length||!K.parts[this.partIndex])){const pe=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=pe}}y&&(y.mediaIndex-=L,y.mediaIndex<0?(y.mediaIndex=null,y.partIndex=null):(y.mediaIndex>=0&&(y.segment=t.segments[y.mediaIndex]),y.partIndex>=0&&y.segment.parts&&(y.part=y.segment.parts[y.partIndex]))),this.syncController_.saveExpiredSegmentInfo(h,t)}pause(){this.checkBufferTimeout_&&(window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return null===this.checkBufferTimeout_}resetEverything(t){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&p__reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(t,o,h=(()=>{}),y=!1){if(o===1/0&&(o=this.duration_()),o<=t)return void this.logger_("skipping remove because end ${end} is <= start ${start}");if(!this.sourceUpdater_||!this.getMediaInfo_())return void this.logger_("skipping remove because no source updater or starting media info");let M=1;const L=()=>{M--,0===M&&h()};(y||!this.audioDisabled_)&&(M++,this.sourceUpdater_.removeAudio(t,o,L)),(y||"main"===this.loaderType_)&&(this.gopBuffer_=((c,t,o,h)=>{const y=Math.ceil((t-h)*Xm),M=Math.ceil((o-h)*Xm),L=c.slice();let K=c.length;for(;K--&&!(c[K].pts<=M););if(-1===K)return L;let pe=K+1;for(;pe--&&!(c[pe].pts<=y););return pe=Math.max(pe,0),L.splice(pe,K-pe+1),L})(this.gopBuffer_,t,o,this.timeMapping_),M++,this.sourceUpdater_.removeVideo(t,o,L));for(const K in this.inbandTextTracks_)yd(t,o,this.inbandTextTracks_[K]);yd(t,o,this.segmentMetadataTrack_),L()}monitorBuffer_(){this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),500)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const t=this.chooseNextRequest_();t&&("number"==typeof t.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t))}isEndOfStream_(t=this.mediaIndex,o=this.playlist_,h=this.partIndex){if(!o||!this.mediaSource_)return!1;const y="number"==typeof t&&o.segments[t];return o.endList&&"open"===this.mediaSource_.readyState&&t+1===o.segments.length&&(!y||!y.parts||h+1===y.parts.length)}chooseNextRequest_(){const t=this.buffered_(),o=Qm(t)||0,h=yp(t,this.currentTime_()),y=!this.hasPlayed_()&&h>=1,M=h>=this.goalBufferLength_(),L=this.playlist_.segments;if(!L.length||y||M)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());const K={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(K.isSyncRequest)K.mediaIndex=function(c,t,o){t=t||[];const h=[];let y=0;for(let M=0;M<t.length;M++){const L=t[M];if(c===L.timeline&&(h.push(M),y+=L.duration,y>o))return M}return 0===h.length?0:h[h.length-1]}(this.currentTimeline_,L,o);else if(null!==this.mediaIndex){const St=L[this.mediaIndex],rn="number"==typeof this.partIndex?this.partIndex:-1;K.startOfSegment=St.end?St.end:o,St.parts&&St.parts[rn+1]?(K.mediaIndex=this.mediaIndex,K.partIndex=rn+1):K.mediaIndex=this.mediaIndex+1}else{const{segmentIndex:St,startTime:rn,partIndex:Bt}=eu.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?o:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});K.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${o}`:`currentTime ${this.currentTime_()}`,K.mediaIndex=St,K.startOfSegment=rn,K.partIndex=Bt}const pe=L[K.mediaIndex];let He=pe&&"number"==typeof K.partIndex&&pe.parts&&pe.parts[K.partIndex];if(!pe||"number"==typeof K.partIndex&&!He)return null;if("number"!=typeof K.partIndex&&pe.parts&&(K.partIndex=0,He=pe.parts[0]),!h&&He&&!He.independent)if(0===K.partIndex){const St=L[K.mediaIndex-1],rn=St.parts&&St.parts.length&&St.parts[St.parts.length-1];rn&&rn.independent&&(K.mediaIndex-=1,K.partIndex=St.parts.length-1,K.independent="previous segment")}else pe.parts[K.partIndex-1].independent&&(K.partIndex-=1,K.independent="previous part");return K.mediaIndex>=L.length-1&&this.mediaSource_&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?null:this.generateSegmentInfo_(K)}generateSegmentInfo_(t){const{independent:o,playlist:h,mediaIndex:y,startOfSegment:M,isSyncRequest:L,partIndex:K,forceTimestampOffset:pe,getMediaInfoForTime:He}=t,Je=h.segments[y],St="number"==typeof K&&Je.parts[K],rn={requestId:"segment-loader-"+Math.random(),uri:St&&St.resolvedUri||Je.resolvedUri,mediaIndex:y,partIndex:St?K:null,isSyncRequest:L,startOfSegment:M,playlist:h,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:Je.timeline,duration:St&&St.duration||Je.duration,segment:Je,part:St,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:He,independent:o},Bt=typeof pe<"u"?pe:this.isPendingTimestampOffset_;rn.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:Je.timeline,currentTimeline:this.currentTimeline_,startOfSegment:M,buffered:this.buffered_(),overrideCheck:Bt});const Vn=Qm(this.sourceUpdater_.audioBuffered());return"number"==typeof Vn&&(rn.audioAppendStart=Vn-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(rn.gopsToAlignWith=((c,t,o)=>{if(typeof t>"u"||null===t||!c.length)return[];const h=Math.ceil((t-o+3)*Xm);let y;for(y=0;y<c.length&&!(c[y].pts>h);y++);return c.slice(y)})(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),rn}timestampOffsetForSegment_(t){return(({segmentTimeline:c,currentTimeline:t,startOfSegment:o,buffered:h,overrideCheck:y})=>y||c!==t?c<t?o:h.length?h.end(h.length-1):o:null)(t)}earlyAbortWhenNeeded_(t){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return;const o=this.currentTime_(),h=t.bandwidth,y=this.pendingSegment_.duration,M=eu.estimateSegmentRequestTime(y,h,this.playlist_,t.bytesReceived),L=function(c,t,o=1){return((c.length?c.end(c.length-1):0)-t)/o}(this.buffered_(),o,this.vhs_.tech_.playbackRate())-1;if(M<=L)return;const K=function(c){const{main:t,currentTime:o,bandwidth:h,duration:y,segmentDuration:M,timeUntilRebuffer:L,currentTimeline:K,syncController:pe}=c,He=t.playlists.filter(Vn=>!eu.isIncompatible(Vn));let Je=He.filter(eu.isEnabled);Je.length||(Je=He.filter(Vn=>!eu.isDisabled(Vn)));const rn=Je.filter(eu.hasAttribute.bind(null,"BANDWIDTH")).map(Vn=>{const Bn=pe.getSyncPoint(Vn,y,K,o)?1:2;return{playlist:Vn,rebufferingImpact:eu.estimateSegmentRequestTime(M,h,Vn)*Bn-L}}),Bt=rn.filter(Vn=>Vn.rebufferingImpact<=0);return qh(Bt,(Vn,Fn)=>v0(Fn.playlist,Vn.playlist)),Bt.length?Bt[0]:(qh(rn,(Vn,Fn)=>Vn.rebufferingImpact-Fn.rebufferingImpact),rn[0]||null)}({main:this.vhs_.playlists.main,currentTime:o,bandwidth:h,duration:this.duration_(),segmentDuration:y,timeUntilRebuffer:L,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!K)return;let Je=.5;L<=$h&&(Je=1),K.playlist&&K.playlist.uri!==this.playlist_.uri&&!(M-L-K.rebufferingImpact<Je)&&(this.bandwidth=K.playlist.attributes.BANDWIDTH*Dl.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(t){this.logger_(`Aborting ${ha(t)}`),this.mediaRequestsAborted+=1}handleProgress_(t,o){this.earlyAbortWhenNeeded_(o.stats),!this.checkForAbort_(o.requestId)&&this.trigger("progress")}handleTrackInfo_(t,o){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&(this.checkForIllegalMediaSwitch(o)||(function(c,t){if(!c&&!t||!c&&t||c&&!t)return!1;if(c===t)return!0;const o=Object.keys(c).sort(),h=Object.keys(t).sort();if(o.length!==h.length)return!1;for(let y=0;y<o.length;y++){const M=o[y];if(M!==h[y]||c[M]!==t[M])return!1}return!0}(this.currentMediaInfo_,o=o||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=o,this.currentMediaInfo_=o,this.logger_("trackinfo update",o),this.trigger("trackinfo")),!this.checkForAbort_(t.requestId)&&(this.pendingSegment_.trackInfo=o,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(t,o,h,y){if(this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId))return;const M=this.pendingSegment_,L=kp(o);M[L]=M[L]||{},M[L][h]=y,this.logger_(`timinginfo: ${o} - ${h} - ${y}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(t,o){if(this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId))return;if(0===o.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,o));const y=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),M={};o.forEach(L=>{M[L.stream]=M[L.stream]||{startTime:1/0,captions:[],endTime:0};const K=M[L.stream];K.startTime=Math.min(K.startTime,L.startTime+y),K.endTime=Math.max(K.endTime,L.endTime+y),K.captions.push(L)}),Object.keys(M).forEach(L=>{const{startTime:K,endTime:pe,captions:He}=M[L],Je=this.inbandTextTracks_;this.logger_(`adding cues from ${K} -> ${pe} for ${L}`),function(c,t,o){if(!c[o]){t.trigger({type:"usage",name:"vhs-608"});let h=o;/^cc708_/.test(o)&&(h="SERVICE"+o.split("_")[1]);const y=t.textTracks().getTrackById(h);if(y)c[o]=y;else{let L=o,K=o,pe=!1;const He=(t.options_.vhs&&t.options_.vhs.captionServices||{})[h];He&&(L=He.label,K=He.language,pe=He.default),c[o]=t.addRemoteTextTrack({kind:"captions",id:h,default:pe,label:L,language:K},!1).track}}}(Je,this.vhs_.tech_,L),yd(K,pe,Je[L]),function({inbandTextTracks:c,captionArray:t,timestampOffset:o}){if(!t)return;const h=window.WebKitDataCue||window.VTTCue;t.forEach(y=>{c[y.stream].addCue(new h(y.startTime+o,y.endTime+o,y.text))})}({captionArray:He,inbandTextTracks:Je,timestampOffset:y})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(t,o,h){if(this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId))return;if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,o,h));const M=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();((c,t,o)=>{c.metadataTrack_||(c.metadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,c.metadataTrack_.inBandMetadataTrackDispatchType=t)})(this.inbandTextTracks_,h,this.vhs_.tech_),ty({inbandTextTracks:this.inbandTextTracks_,metadataArray:o,timestampOffset:M,videoDuration:this.duration_()})}processMetadataQueue_(){this.metadataQueue_.id3.forEach(t=>t()),this.metadataQueue_.caption.forEach(t=>t()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const t=this.callQueue_;this.callQueue_=[],t.forEach(o=>o())}processLoadQueue_(){const t=this.loadQueue_;this.loadQueue_=[],t.forEach(o=>o())}hasEnoughInfoToLoad_(){if("audio"!==this.loaderType_)return!0;const t=this.pendingSegment_;return!(!t||this.getCurrentMediaInfo_()&&Lf({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}getCurrentMediaInfo_(t=this.pendingSegment_){return t&&t.trackInfo||this.currentMediaInfo_}getMediaInfo_(t=this.pendingSegment_){return this.getCurrentMediaInfo_(t)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const t=this.pendingSegment_,o=this.getCurrentMediaInfo_();if(!t||!o)return!1;const{hasAudio:h,hasVideo:y,isMuxed:M}=o;return!(y&&!t.videoTimingInfo||h&&!this.audioDisabled_&&!M&&!t.audioTimingInfo||Lf({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(t,o){if(this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return void this.callQueue_.push(this.handleData_.bind(this,t,o));const h=this.pendingSegment_;if(this.setTimeMapping_(h.timeline),this.updateMediaSecondsLoaded_(h.part||h.segment),"closed"!==this.mediaSource_.readyState){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),h.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),h.isFmp4=t.isFmp4,h.timingInfo=h.timingInfo||{},h.isFmp4)this.trigger("fmp4"),h.timingInfo.start=h[kp(o.type)].start;else{const y=this.getCurrentMediaInfo_(),M="main"===this.loaderType_&&y&&y.hasVideo;let L;M&&(L=h.videoTimingInfo.start),h.timingInfo.start=this.trueSegmentStart_({currentStart:h.timingInfo.start,playlist:h.playlist,mediaIndex:h.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:M,firstVideoFrameTimeForData:L,videoTimingInfo:h.videoTimingInfo,audioTimingInfo:h.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(h,o.type),this.updateSourceBufferTimestampOffset_(h),h.isSyncRequest){this.updateTimingInfoEnd_(h),this.syncController_.saveSegmentTimingInfo({segmentInfo:h,shouldSaveTimelineMapping:"main"===this.loaderType_});const y=this.chooseNextRequest_();if(y.mediaIndex!==h.mediaIndex||y.partIndex!==h.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}h.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(h,o)}}updateAppendInitSegmentStatus(t,o){"main"===this.loaderType_&&"number"==typeof t.timestampOffset&&!t.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[o]!==t.playlist&&(this.appendInitSegment_[o]=!0)}getInitSegmentAndUpdateState_({type:t,initSegment:o,map:h,playlist:y}){if(h){const M=kc(h);if(this.activeInitSegmentId_===M)return null;o=this.initSegmentForMap(h,!0).bytes,this.activeInitSegmentId_=M}return o&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=y,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,o):null}handleQuotaExceededError_({segmentInfo:t,type:o,bytes:h},y){const M=this.sourceUpdater_.audioBuffered(),L=this.sourceUpdater_.videoBuffered();M.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Au(M).join(", ")),L.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Au(L).join(", "));const K=M.length?M.start(0):0,pe=M.length?M.end(M.length-1):0,He=L.length?L.start(0):0,Je=L.length?L.end(L.length-1):0;if(pe-K<=1&&Je-He<=1)return this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${h.byteLength}, audio buffer: ${Au(M).join(", ")}, video buffer: ${Au(L).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:t,type:o,bytes:h}));const rn=this.currentTime_()-1;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${rn}`),this.remove(0,rn,()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=window.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},1e3)},!0)}handleAppendError_({segmentInfo:t,type:o,bytes:h},y){if(y){if(22===y.code)return void this.handleQuotaExceededError_({segmentInfo:t,type:o,bytes:h});this.logger_("Received non QUOTA_EXCEEDED_ERR on append",y),this.error(`${o} append of ${h.length}b failed for segment #${t.mediaIndex} in playlist ${t.playlist.id}`),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:t,type:o,initSegment:h,data:y,bytes:M}){if(!M){const L=[y];let K=y.byteLength;h&&(L.unshift(h),K+=h.byteLength),M=(c=>{let o,t=0;return c.bytes&&(o=new Uint8Array(c.bytes),c.segments.forEach(h=>{o.set(h,t),t+=h.byteLength})),o})({bytes:K,segments:L})}this.sourceUpdater_.appendBuffer({segmentInfo:t,type:o,bytes:M},this.handleAppendError_.bind(this,{segmentInfo:t,type:o,bytes:M}))}handleSegmentTimingInfo_(t,o,h){if(!this.pendingSegment_||o!==this.pendingSegment_.requestId)return;const y=this.pendingSegment_.segment,M=`${t}TimingInfo`;y[M]||(y[M]={}),y[M].transmuxerPrependedSeconds=h.prependedContentDuration||0,y[M].transmuxedPresentationStart=h.start.presentation,y[M].transmuxedDecodeStart=h.start.decode,y[M].transmuxedPresentationEnd=h.end.presentation,y[M].transmuxedDecodeEnd=h.end.decode,y[M].baseMediaDecodeTime=h.baseMediaDecodeTime}appendData_(t,o){const{type:h,data:y}=o;if(!y||!y.byteLength||"audio"===h&&this.audioDisabled_)return;const M=this.getInitSegmentAndUpdateState_({type:h,initSegment:o.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:h,initSegment:M,data:y})}loadSegment_(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),"number"==typeof t.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push(()=>{const o=Us({},t,{forceTimestampOffset:!0});Us(t,this.generateSegmentInfo_(o)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(t)})}updateTransmuxerAndRequestSegment_(t){this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));const o=this.createSimplifiedSegmentObj_(t),L=this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)||null!==this.mediaIndex&&t.timeline!==this.currentTimeline_&&t.timeline>0;this.logger_(`Requesting ${ha(t)}`),o.map&&!o.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),t.abortRequests=fv({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:o,abortFn:this.handleAbort_.bind(this,t),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",t.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",t.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:L,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:K,level:pe,stream:He})=>{this.logger_(`${ha(t)} logged from transmuxer stream ${He} as a ${pe}: ${K}`)}})}trimBackBuffer_(t){const o=((c,t,o)=>{let h=t-Dl.BACK_BUFFER_LENGTH;return c.length&&(h=Math.max(h,c.start(0))),Math.min(t-o,h)})(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);o>0&&this.remove(0,o)}createSimplifiedSegmentObj_(t){const o=t.segment,h=t.part,y={resolvedUri:h?h.resolvedUri:o.resolvedUri,byterange:h?h.byterange:o.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part},M=t.playlist.segments[t.mediaIndex-1];if(M&&M.timeline===o.timeline&&(M.videoTimingInfo?y.baseStartTime=M.videoTimingInfo.transmuxedDecodeEnd:M.audioTimingInfo&&(y.baseStartTime=M.audioTimingInfo.transmuxedDecodeEnd)),o.key){const L=o.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);y.key=this.segmentKey(o.key),y.key.iv=L}return o.map&&(y.map=this.initSegmentForMap(o.map)),y}saveTransferStats_(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)}saveBandwidthRelatedStats_(t,o){this.pendingSegment_.byteLength=o.bytesReceived,t<pm?this.logger_(`Ignoring segment's bandwidth because its duration of ${t} is less than the min to record ${pm}`):(this.bandwidth=o.bandwidth,this.roundTrip=o.roundTripTime)}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(t,o,h){if(this.callQueue_.length)return void this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,o,h));if(this.saveTransferStats_(o.stats),!this.pendingSegment_||o.requestId!==this.pendingSegment_.requestId)return;if(t){if(this.pendingSegment_=null,this.state="READY",t.code===uh_ABORTED)return;return this.pause(),t.code===uh_TIMEOUT?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error"))}const y=this.pendingSegment_;this.saveBandwidthRelatedStats_(y.duration,o.stats),y.endOfAllRequests=o.endOfAllRequests,h.gopInfo&&(this.gopBuffer_=((c,t,o)=>{if(!t.length)return c;if(o)return t.slice();const h=t[0].pts;let y=0;for(;y<c.length&&!(c[y].pts>=h);y++);return c.slice(0,y).concat(t)})(this.gopBuffer_,h.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(y)}setTimeMapping_(t){const o=this.syncController_.mappingForTimeline(t);null!==o&&(this.timeMapping_=o)}updateMediaSecondsLoaded_(t){this.mediaSecondsLoaded+="number"==typeof t.start&&"number"==typeof t.end?t.end-t.start:t.duration}shouldUpdateTransmuxerTimestampOffset_(t){return null!==t&&("main"===this.loaderType_&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset())}trueSegmentStart_({currentStart:t,playlist:o,mediaIndex:h,firstVideoFrameTimeForData:y,currentVideoTimestampOffset:M,useVideoTimingInfo:L,videoTimingInfo:K,audioTimingInfo:pe}){if(typeof t<"u")return t;if(!L)return pe.start;const He=o.segments[h-1];return 0===h||!He||typeof He.start>"u"||He.end!==y+M?y:K.start}waitForAppendsToComplete_(t){const o=this.getCurrentMediaInfo_(t);if(!o)return this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),void this.trigger("error");const{hasAudio:h,hasVideo:y,isMuxed:M}=o,L="main"===this.loaderType_&&y,K=!this.audioDisabled_&&h&&!M;if(t.waitingOnAppends=0,!t.hasAppendedData_)return!t.timingInfo&&"number"==typeof t.timestampOffset&&(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),void this.checkAppendsDone_(t);L&&t.waitingOnAppends++,K&&t.waitingOnAppends++,L&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),K&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))}checkAppendsDone_(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,0===t.waitingOnAppends&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(t){const o=((c,t,o)=>"main"===c&&t&&o?o.hasAudio||o.hasVideo?t.hasVideo&&!o.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&o.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null)(this.loaderType_,this.getCurrentMediaInfo_(),t);return!!o&&(this.error({message:o,playlistExclusionDuration:1/0}),this.trigger("error"),!0)}updateSourceBufferTimestampOffset_(t){if(null===t.timestampOffset||"number"!=typeof t.timingInfo.start||t.changedTimestampOffset||"main"!==this.loaderType_)return;let o=!1;t.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t.segment.videoTimingInfo,audioTimingInfo:t.segment.audioTimingInfo,timingInfo:t.timingInfo}),t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),o=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),o=!0),o&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t,audioTimingInfo:o,timingInfo:h}){return this.useDtsForTimestampOffset_?t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:o&&"number"==typeof o.transmuxedDecodeStart?o.transmuxedDecodeStart:h.start:h.start}updateTimingInfoEnd_(t){t.timingInfo=t.timingInfo||{};const o=this.getMediaInfo_(),y="main"===this.loaderType_&&o&&o.hasVideo&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;y&&(t.timingInfo.end="number"==typeof y.end?y.end:y.start+t.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());const t=this.pendingSegment_;this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:"main"===this.loaderType_});const o=dg(t,this.sourceType_);if(o&&("warn"===o.severity?ui.log.warn(o.message):this.logger_(o.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest&&(this.trigger("syncinfoupdate"),!t.hasAppendedData_))return void this.logger_(`Throwing away un-appended sync request ${ha(t)}`);this.logger_(`Appended ${ha(t)}`),this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),"main"===this.loaderType_&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");const h=t.segment,y=t.part,M=h.end&&this.currentTime_()-h.end>3*t.playlist.targetDuration,L=y&&y.end&&this.currentTime_()-y.end>3*t.playlist.partTargetDuration;if(M||L)return this.logger_(`bad ${M?"segment":"part"} ${ha(t)}`),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),t.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(t){if(t.duration<pm)return void this.logger_(`Ignoring segment's throughput because its duration of ${t.duration} is less than the min to record ${pm}`);const o=this.throughput.rate,h=Date.now()-t.endOfAllRequests+1,y=Math.floor(t.byteLength/h*8*1e3);this.throughput.rate+=(y-o)/++this.throughput.count}addSegmentMetadataCue_(t){if(!this.segmentMetadataTrack_)return;const o=t.segment,h=o.start,y=o.end;if(!cg(h)||!cg(y))return;yd(h,y,this.segmentMetadataTrack_);const M=window.WebKitDataCue||window.VTTCue,L={custom:o.custom,dateTimeObject:o.dateTimeObject,dateTimeString:o.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:h,end:y},pe=new M(h,y,JSON.stringify(L));pe.value=L,this.segmentMetadataTrack_.addCue(pe)}}function nu(){}const y0=function(c){return"string"!=typeof c?c:c.replace(/./,t=>t.toUpperCase())},Ff=["video","audio"],mm=(c,t)=>{const o=t[`${c}Buffer`];return o&&o.updating||t.queuePending[c]},Bf=(c,t)=>{if(0===t.queue.length)return;let o=0,h=t.queue[o];if("mediaSource"!==h.type){if("mediaSource"!==c&&t.ready()&&"closed"!==t.mediaSource.readyState&&!mm(c,t)){if(h.type!==c){if(o=((c,t)=>{for(let o=0;o<t.length;o++){const h=t[o];if("mediaSource"===h.type)return null;if(h.type===c)return o}return null})(c,t.queue),null===o)return;h=t.queue[o]}if(t.queue.splice(o,1),t.queuePending[c]=h,h.action(c,t),!h.doneFn)return t.queuePending[c]=null,void Bf(c,t)}}else!t.updating()&&"closed"!==t.mediaSource.readyState&&(t.queue.shift(),h.action(t),h.doneFn&&h.doneFn(),Bf("audio",t),Bf("video",t))},C_=(c,t)=>{const o=t[`${c}Buffer`],h=y0(c);o&&(o.removeEventListener("updateend",t[`on${h}UpdateEnd_`]),o.removeEventListener("error",t[`on${h}Error_`]),t.codecs[c]=null,t[`${c}Buffer`]=null)},Ru=(c,t)=>c&&t&&-1!==Array.prototype.indexOf.call(c.sourceBuffers,t),td_appendBuffer=(c,t,o)=>(h,y)=>{const M=y[`${h}Buffer`];if(Ru(y.mediaSource,M)){y.logger_(`Appending segment ${t.mediaIndex}'s ${c.length} bytes to ${h}Buffer`);try{M.appendBuffer(c)}catch(L){y.logger_(`Error with code ${L.code} `+(22===L.code?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${t.mediaIndex} to ${h}Buffer`),y.queuePending[h]=null,o(L)}}},td_remove=(c,t)=>(o,h)=>{const y=h[`${o}Buffer`];if(Ru(h.mediaSource,y)){h.logger_(`Removing ${c} to ${t} from ${o}Buffer`);try{y.remove(c,t)}catch{h.logger_(`Remove ${c} to ${t} from ${o}Buffer failed`)}}},td_timestampOffset=c=>(t,o)=>{const h=o[`${t}Buffer`];Ru(o.mediaSource,h)&&(o.logger_(`Setting ${t}timestampOffset to ${c}`),h.timestampOffset=c)},td_callback=c=>(t,o)=>{c()},td_endOfStream=c=>t=>{if("open"===t.mediaSource.readyState){t.logger_(`Calling mediaSource endOfStream(${c||""})`);try{t.mediaSource.endOfStream(c)}catch(o){ui.log.warn("Failed to call media source endOfStream",o)}}},td_duration=c=>t=>{t.logger_(`Setting mediaSource duration to ${c}`);try{t.mediaSource.duration=c}catch(o){ui.log.warn("Failed to set media source duration",o)}},td_abort=()=>(c,t)=>{if("open"!==t.mediaSource.readyState)return;const o=t[`${c}Buffer`];if(Ru(t.mediaSource,o)){t.logger_(`calling abort on ${c}Buffer`);try{o.abort()}catch(h){ui.log.warn(`Failed to abort on ${c}Buffer`,h)}}},td_addSourceBuffer=(c,t)=>o=>{const h=y0(c),y=Xc(t);o.logger_(`Adding ${c}Buffer with codec ${t} to mediaSource`);const M=o.mediaSource.addSourceBuffer(y);M.addEventListener("updateend",o[`on${h}UpdateEnd_`]),M.addEventListener("error",o[`on${h}Error_`]),o.codecs[c]=t,o[`${c}Buffer`]=M},td_removeSourceBuffer=c=>t=>{const o=t[`${c}Buffer`];if(C_(c,t),Ru(t.mediaSource,o)){t.logger_(`Removing ${c}Buffer with codec ${t.codecs[c]} from mediaSource`);try{t.mediaSource.removeSourceBuffer(o)}catch(h){ui.log.warn(`Failed to removeSourceBuffer ${c}Buffer`,h)}}},td_changeType=c=>(t,o)=>{const h=o[`${t}Buffer`],y=Xc(c);Ru(o.mediaSource,h)&&o.codecs[t]!==c&&(o.logger_(`changing ${t}Buffer codec from ${o.codecs[t]} to ${c}`),h.changeType(y),o.codecs[t]=c)},fc=({type:c,sourceUpdater:t,action:o,doneFn:h,name:y})=>{t.queue.push({type:c,action:o,doneFn:h,name:y}),Bf(c,t)},Pp=(c,t)=>o=>{if(t.queuePending[c]){const h=t.queuePending[c].doneFn;t.queuePending[c]=null,h&&h(t[`${c}Error_`])}Bf(c,t)};class Cv extends ui.EventTarget{constructor(t){super(),this.mediaSource=t,this.sourceopenListener_=()=>Bf("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=vd("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=Pp("video",this),this.onAudioUpdateEnd_=Pp("audio",this),this.onVideoError_=o=>{this.videoError_=o},this.onAudioError_=o=>{this.audioError_=o},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(t,o){fc({type:"mediaSource",sourceUpdater:this,action:td_addSourceBuffer(t,o),name:"addSourceBuffer"})}abort(t){fc({type:t,sourceUpdater:this,action:td_abort(t),name:"abort"})}removeSourceBuffer(t){this.canRemoveSourceBuffer()?fc({type:"mediaSource",sourceUpdater:this,action:td_removeSourceBuffer(t),name:"removeSourceBuffer"}):ui.log.error("removeSourceBuffer is not supported!")}canRemoveSourceBuffer(){return!ui.browser.IE_VERSION&&!ui.browser.IS_FIREFOX&&window.MediaSource&&window.MediaSource.prototype&&"function"==typeof window.MediaSource.prototype.removeSourceBuffer}static canChangeType(){return window.SourceBuffer&&window.SourceBuffer.prototype&&"function"==typeof window.SourceBuffer.prototype.changeType}canChangeType(){return this.constructor.canChangeType()}changeType(t,o){this.canChangeType()?fc({type:t,sourceUpdater:this,action:td_changeType(o),name:"changeType"}):ui.log.error("changeType is not supported!")}addOrChangeSourceBuffers(t){if(!t||"object"!=typeof t||0===Object.keys(t).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach(o=>{const h=t[o];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(o,h);this.canChangeType()&&this.changeType(o,h)})}appendBuffer(t,o){const{segmentInfo:h,type:y,bytes:M}=t;if(this.processedAppend_=!0,"audio"===y&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([t,o]),void this.logger_(`delayed audio append of ${M.length} until video append`);if(fc({type:y,sourceUpdater:this,action:td_appendBuffer(M,h||{mediaIndex:-1},o),doneFn:o,name:"appendBuffer"}),"video"===y){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const K=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${K.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,K.forEach(pe=>{this.appendBuffer.apply(this,pe)})}}audioBuffered(){return Ru(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:tc()}videoBuffered(){return Ru(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:tc()}buffered(){const t=Ru(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,o=Ru(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return o&&!t?this.audioBuffered():t&&!o?this.videoBuffered():function(c,t){let o=null,h=null,y=0;const M=[],L=[];if(!(c&&c.length&&t&&t.length))return tc();let K=c.length;for(;K--;)M.push({time:c.start(K),type:"start"}),M.push({time:c.end(K),type:"end"});for(K=t.length;K--;)M.push({time:t.start(K),type:"start"}),M.push({time:t.end(K),type:"end"});for(M.sort(function(pe,He){return pe.time-He.time}),K=0;K<M.length;K++)"start"===M[K].type?(y++,2===y&&(o=M[K].time)):"end"===M[K].type&&(y--,1===y&&(h=M[K].time)),null!==o&&null!==h&&(L.push([o,h]),o=null,h=null);return tc(L)}(this.audioBuffered(),this.videoBuffered())}setDuration(t,o=nu){fc({type:"mediaSource",sourceUpdater:this,action:td_duration(t),name:"duration",doneFn:o})}endOfStream(t=null,o=nu){"string"!=typeof t&&(t=void 0),fc({type:"mediaSource",sourceUpdater:this,action:td_endOfStream(t),name:"endOfStream",doneFn:o})}removeAudio(t,o,h=nu){this.audioBuffered().length&&0!==this.audioBuffered().end(0)?fc({type:"audio",sourceUpdater:this,action:td_remove(t,o),doneFn:h,name:"remove"}):h()}removeVideo(t,o,h=nu){this.videoBuffered().length&&0!==this.videoBuffered().end(0)?fc({type:"video",sourceUpdater:this,action:td_remove(t,o),doneFn:h,name:"remove"}):h()}updating(){return!(!mm("audio",this)&&!mm("video",this))}audioTimestampOffset(t){return typeof t<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(fc({type:"audio",sourceUpdater:this,action:td_timestampOffset(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_}videoTimestampOffset(t){return typeof t<"u"&&this.videoBuffer&&this.videoTimestampOffset!==t&&(fc({type:"video",sourceUpdater:this,action:td_timestampOffset(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_}audioQueueCallback(t){this.audioBuffer&&fc({type:"audio",sourceUpdater:this,action:td_callback(t),name:"callback"})}videoQueueCallback(t){this.videoBuffer&&fc({type:"video",sourceUpdater:this,action:td_callback(t),name:"callback"})}dispose(){this.trigger("dispose"),Ff.forEach(t=>{this.abort(t),this.canRemoveSourceBuffer()?this.removeSourceBuffer(t):this[`${t}QueueCallback`](()=>C_(t,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const ug=c=>decodeURIComponent(escape(String.fromCharCode.apply(null,c))),T_=new Uint8Array("\n\n".split("").map(c=>c.charCodeAt(0)));class Tv extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class Sv extends Op{constructor(t,o={}){super(t,o),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=t.featuresNativeTextTracks,this.loadVttJs=t.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return tc();const t=this.subtitlesTrack_.cues;return tc([[t[0].startTime,t[t.length-1].startTime]])}initSegmentForMap(t,o=!1){if(!t)return null;const h=kc(t);let y=this.initSegments_[h];if(o&&!y&&t.bytes){const L=new Uint8Array(T_.byteLength+t.bytes.byteLength);L.set(t.bytes),L.set(T_,t.bytes.byteLength),this.initSegments_[h]=y={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:L}}return y||t}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(t){return typeof t>"u"||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}remove(t,o){yd(t,o,this.subtitlesTrack_)}fillBuffer_(){const t=this.chooseNextRequest_();if(t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",()=>{this.state="READY",this.paused()||this.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(t){for(;t&&t.segment.empty;){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t}stopForError(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(t,o,h){if(!this.subtitlesTrack_)return void(this.state="READY");if(this.saveTransferStats_(o.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(t)return t.code===uh_TIMEOUT&&this.handleTimeout_(),t.code===uh_ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(t);const y=this.pendingSegment_;this.saveBandwidthRelatedStats_(y.duration,o.stats),o.key&&this.segmentKey(o.key,!0),this.state="APPENDING",this.trigger("appending");const M=y.segment;if(M.map&&(M.map.bytes=o.map.bytes),y.bytes=o.bytes,"function"!=typeof window.WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then(()=>this.segmentRequestFinished_(t,o,h),()=>this.stopForError({message:"Error loading vtt.js"}));M.requested=!0;try{this.parseVTTCues_(y)}catch(L){return void this.stopForError({message:L.message})}if(this.updateTimeMapping_(y,this.syncController_.timelines[y.timeline],this.playlist_),y.timingInfo=y.cues.length?{start:y.cues[0].startTime,end:y.cues[y.cues.length-1].endTime}:{start:y.startOfSegment,end:y.startOfSegment+y.duration},y.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");y.byteLength=y.bytes.byteLength,this.mediaSecondsLoaded+=M.duration,y.cues.forEach(L=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new window.VTTCue(L.startTime,L.endTime,L.text):L)}),function(c){const t=c.cues;if(t)for(let o=0;o<t.length;o++){const h=[];let y=0;for(let M=0;M<t.length;M++)t[o].startTime===t[M].startTime&&t[o].endTime===t[M].endTime&&t[o].text===t[M].text&&(y++,y>1&&h.push(t[M]));h.length&&h.forEach(M=>c.removeCue(M))}}(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(t){let o,h=!1;if("function"!=typeof window.WebVTT)throw new Tv;"function"==typeof window.TextDecoder?o=new window.TextDecoder("utf8"):(o=window.WebVTT.StringDecoder(),h=!0);const y=new window.WebVTT.Parser(window,window.vttjs,o);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},y.oncue=t.cues.push.bind(t.cues),y.ontimestampmap=L=>{t.timestampmap=L},y.onparsingerror=L=>{ui.log.warn("Error encountered when parsing cues: "+L.message)},t.segment.map){let L=t.segment.map.bytes;h&&(L=ug(L)),y.parse(L)}let M=t.bytes;h&&(M=ug(M)),y.parse(M),y.flush()}updateTimeMapping_(t,o,h){const y=t.segment;if(!o)return;if(!t.cues.length)return void(y.empty=!0);const M=t.timestampmap,L=M.MPEGTS/Xm-M.LOCAL+o.mapping;t.cues.forEach(K=>{K.startTime+=L,K.endTime+=L}),h.syncInfo||(h.syncInfo={mediaSequence:h.mediaSequence+t.mediaIndex,time:Math.min(t.cues[0].startTime,t.cues[t.cues.length-1].startTime-y.duration)})}}const gm=function(c,t){const o=c.cues;for(let h=0;h<o.length;h++){const y=o[h];if(t>=y.adStartTime&&t<=y.adEndTime)return y}return null},S_=[{name:"VOD",run:(c,t,o,h,y)=>o!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"ProgramDateTime",run:(c,t,o,h,y)=>{if(!Object.keys(c.timelineToDatetimeMappings).length)return null;let M=null,L=null;const K=r_(t);y=y||0;for(let pe=0;pe<K.length;pe++){const Je=K[t.endList||0===y?pe:K.length-(pe+1)],St=Je.segment,rn=c.timelineToDatetimeMappings[St.timeline];if(!rn||!St.dateTimeObject)continue;let Vn=St.dateTimeObject.getTime()/1e3+rn;if(St.parts&&"number"==typeof Je.partIndex)for(let Bn=0;Bn<Je.partIndex;Bn++)Vn+=St.parts[Bn].duration;const Fn=Math.abs(y-Vn);if(null!==L&&(0===Fn||L<Fn))break;L=Fn,M={time:Vn,segmentIndex:Je.segmentIndex,partIndex:Je.partIndex}}return M}},{name:"Segment",run:(c,t,o,h,y)=>{let M=null,L=null;y=y||0;const K=r_(t);for(let pe=0;pe<K.length;pe++){const Je=K[t.endList||0===y?pe:K.length-(pe+1)],St=Je.segment,rn=Je.part&&Je.part.start||St&&St.start;if(St.timeline===h&&typeof rn<"u"){const Bt=Math.abs(y-rn);if(null!==L&&L<Bt)break;(!M||null===L||L>=Bt)&&(L=Bt,M={time:rn,segmentIndex:Je.segmentIndex,partIndex:Je.partIndex})}}return M}},{name:"Discontinuity",run:(c,t,o,h,y)=>{let M=null;if(y=y||0,t.discontinuityStarts&&t.discontinuityStarts.length){let L=null;for(let K=0;K<t.discontinuityStarts.length;K++){const pe=t.discontinuityStarts[K],Je=c.discontinuities[t.discontinuitySequence+K+1];if(Je){const St=Math.abs(y-Je.time);if(null!==L&&L<St)break;(!M||null===L||L>=St)&&(L=St,M={time:Je.time,segmentIndex:pe,partIndex:null})}}}return M}},{name:"Playlist",run:(c,t,o,h,y)=>t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}];class pb extends ui.EventTarget{constructor(t={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.logger_=vd("SyncController")}getSyncPoint(t,o,h,y){const M=this.runStrategies_(t,o,h,y);return M.length?this.selectSyncPoint_(M,{key:"time",value:y}):null}getExpiredTime(t,o){if(!t||!t.segments)return null;const h=this.runStrategies_(t,o,t.discontinuitySequence,0);if(!h.length)return null;const y=this.selectSyncPoint_(h,{key:"segmentIndex",value:0});return y.segmentIndex>0&&(y.time*=-1),Math.abs(y.time+Ac({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:y.segmentIndex,endIndex:0}))}runStrategies_(t,o,h,y){const M=[];for(let L=0;L<S_.length;L++){const K=S_[L],pe=K.run(this,t,o,h,y);pe&&(pe.strategy=K.name,M.push({strategy:K.name,syncPoint:pe}))}return M}selectSyncPoint_(t,o){let h=t[0].syncPoint,y=Math.abs(t[0].syncPoint[o.key]-o.value),M=t[0].strategy;for(let L=1;L<t.length;L++){const K=Math.abs(t[L].syncPoint[o.key]-o.value);K<y&&(y=K,h=t[L].syncPoint,M=t[L].strategy)}return this.logger_(`syncPoint for [${o.key}: ${o.value}] chosen with strategy [${M}]: [time:${h.time}, segmentIndex:${h.segmentIndex}`+("number"==typeof h.partIndex?`,partIndex:${h.partIndex}`:"")+"]"),h}saveExpiredSegmentInfo(t,o){const h=o.mediaSequence-t.mediaSequence;if(h>86400)ui.log.warn(`Not saving expired segment info. Media sequence gap ${h} is too large.`);else for(let y=h-1;y>=0;y--){const M=t.segments[y];if(M&&typeof M.start<"u"){o.syncInfo={mediaSequence:t.mediaSequence+y,time:M.start},this.logger_(`playlist refresh sync: [time:${o.syncInfo.time}, mediaSequence: ${o.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(t){if(this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject){const o=t.segments[0],h=o.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[o.timeline]=-h}}saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:o}){const h=this.calculateSegmentTimeMapping_(t,t.timingInfo,o),y=t.segment;h&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:y.start}));const M=y.dateTimeObject;y.discontinuity&&o&&M&&(this.timelineToDatetimeMappings[y.timeline]=-M.getTime()/1e3)}timestampOffsetForTimeline(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].time}mappingForTimeline(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].mapping}calculateSegmentTimeMapping_(t,o,h){const y=t.segment,M=t.part;let K,pe,L=this.timelines[t.timeline];if("number"==typeof t.timestampOffset)L={time:t.startOfSegment,mapping:t.startOfSegment-o.start},h&&(this.timelines[t.timeline]=L,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${t.timeline}: [time: ${L.time}] [mapping: ${L.mapping}]`)),K=t.startOfSegment,pe=o.end+L.mapping;else{if(!L)return!1;K=o.start+L.mapping,pe=o.end+L.mapping}return M&&(M.start=K,M.end=pe),(!y.start||K<y.start)&&(y.start=K),y.end=pe,!0}saveDiscontinuitySyncInfo_(t){const o=t.playlist,h=t.segment;if(h.discontinuity)this.discontinuities[h.timeline]={time:h.start,accuracy:0};else if(o.discontinuityStarts&&o.discontinuityStarts.length)for(let y=0;y<o.discontinuityStarts.length;y++){const M=o.discontinuityStarts[y],L=o.discontinuitySequence+y+1,K=M-t.mediaIndex,pe=Math.abs(K);if(!this.discontinuities[L]||this.discontinuities[L].accuracy>pe){let He;He=K<0?h.start-Ac({defaultDuration:o.targetDuration,durationList:o.segments,startIndex:t.mediaIndex,endIndex:M}):h.end+Ac({defaultDuration:o.targetDuration,durationList:o.segments,startIndex:t.mediaIndex+1,endIndex:M}),this.discontinuities[L]={time:He,accuracy:pe}}}}dispose(){this.trigger("dispose"),this.off()}}class hg extends ui.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:t,from:o,to:h}){return"number"==typeof o&&"number"==typeof h&&(this.pendingTimelineChanges_[t]={type:t,from:o,to:h},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]}lastTimelineChange({type:t,from:o,to:h}){return"number"==typeof o&&"number"==typeof h&&(this.lastTimelineChanges_[t]={type:t,from:o,to:h},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const x0=ig(c0(function(){var c=function(){function Fn(){this.listeners={}}var Bn=Fn.prototype;return Bn.on=function(si,Bi){this.listeners[si]||(this.listeners[si]=[]),this.listeners[si].push(Bi)},Bn.off=function(si,Bi){if(!this.listeners[si])return!1;var wi=this.listeners[si].indexOf(Bi);return this.listeners[si]=this.listeners[si].slice(0),this.listeners[si].splice(wi,1),wi>-1},Bn.trigger=function(si){var Bi=this.listeners[si];if(Bi)if(2===arguments.length)for(var wi=Bi.length,Jn=0;Jn<wi;++Jn)Bi[Jn].call(this,arguments[1]);else for(var Sr=Array.prototype.slice.call(arguments,1),Yr=Bi.length,Ws=0;Ws<Yr;++Ws)Bi[Ws].apply(this,Sr)},Bn.dispose=function(){this.listeners={}},Bn.pipe=function(si){this.on("data",function(Bi){si.push(Bi)})},Fn}();let h=null;class y{constructor(Bn){let Gn,si,Bi;h||(h=function(){const Fn=[[[],[],[],[],[]],[[],[],[],[],[]]],Bn=Fn[0],Gn=Fn[1],si=Bn[4],Bi=Gn[4];let wi,Jn,Sr;const Yr=[],Ws=[];let xs,$o,Ks,Ys,zr,lo;for(wi=0;wi<256;wi++)Ws[(Yr[wi]=wi<<1^283*(wi>>7))^wi]=wi;for(Jn=Sr=0;!si[Jn];Jn^=xs||1,Sr=Ws[Sr]||1)for(Ys=Sr^Sr<<1^Sr<<2^Sr<<3^Sr<<4,Ys=Ys>>8^255&Ys^99,si[Jn]=Ys,Bi[Ys]=Jn,Ks=Yr[$o=Yr[xs=Yr[Jn]]],lo=16843009*Ks^65537*$o^257*xs^16843008*Jn,zr=257*Yr[Ys]^16843008*Ys,wi=0;wi<4;wi++)Bn[wi][Jn]=zr=zr<<24^zr>>>8,Gn[wi][Ys]=lo=lo<<24^lo>>>8;for(wi=0;wi<5;wi++)Bn[wi]=Bn[wi].slice(0),Gn[wi]=Gn[wi].slice(0);return Fn}()),this._tables=[[h[0][0].slice(),h[0][1].slice(),h[0][2].slice(),h[0][3].slice(),h[0][4].slice()],[h[1][0].slice(),h[1][1].slice(),h[1][2].slice(),h[1][3].slice(),h[1][4].slice()]];const wi=this._tables[0][4],Jn=this._tables[1],Sr=Bn.length;let Yr=1;if(4!==Sr&&6!==Sr&&8!==Sr)throw new Error("Invalid aes key size");const Ws=Bn.slice(0),xs=[];for(this._key=[Ws,xs],Gn=Sr;Gn<4*Sr+28;Gn++)Bi=Ws[Gn-1],(Gn%Sr==0||8===Sr&&Gn%Sr==4)&&(Bi=wi[Bi>>>24]<<24^wi[Bi>>16&255]<<16^wi[Bi>>8&255]<<8^wi[255&Bi],Gn%Sr==0&&(Bi=Bi<<8^Bi>>>24^Yr<<24,Yr=Yr<<1^283*(Yr>>7))),Ws[Gn]=Ws[Gn-Sr]^Bi;for(si=0;Gn;si++,Gn--)Bi=Ws[3&si?Gn:Gn-4],xs[si]=Gn<=4||si<4?Bi:Jn[0][wi[Bi>>>24]]^Jn[1][wi[Bi>>16&255]]^Jn[2][wi[Bi>>8&255]]^Jn[3][wi[255&Bi]]}decrypt(Bn,Gn,si,Bi,wi,Jn){const Sr=this._key[1];let Ks,Ys,zr,Yr=Bn^Sr[0],Ws=Bi^Sr[1],xs=si^Sr[2],$o=Gn^Sr[3];const lo=Sr.length/4-2;let pc,_o=4;const al=this._tables[1],Rc=al[0],ph=al[1],ll=al[2],Lc=al[3],vm=al[4];for(pc=0;pc<lo;pc++)Ks=Rc[Yr>>>24]^ph[Ws>>16&255]^ll[xs>>8&255]^Lc[255&$o]^Sr[_o],Ys=Rc[Ws>>>24]^ph[xs>>16&255]^ll[$o>>8&255]^Lc[255&Yr]^Sr[_o+1],zr=Rc[xs>>>24]^ph[$o>>16&255]^ll[Yr>>8&255]^Lc[255&Ws]^Sr[_o+2],$o=Rc[$o>>>24]^ph[Yr>>16&255]^ll[Ws>>8&255]^Lc[255&xs]^Sr[_o+3],_o+=4,Yr=Ks,Ws=Ys,xs=zr;for(pc=0;pc<4;pc++)wi[(3&-pc)+Jn]=vm[Yr>>>24]<<24^vm[Ws>>16&255]<<16^vm[xs>>8&255]<<8^vm[255&$o]^Sr[_o++],Ks=Yr,Yr=Ws,Ws=xs,xs=$o,$o=Ks}}class M extends c{constructor(){super(c),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null}push(Bn){this.jobs.push(Bn),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const L=function(Fn){return Fn<<24|(65280&Fn)<<8|(16711680&Fn)>>8|Fn>>>24};class pe{constructor(Bn,Gn,si,Bi){const wi=pe.STEP,Jn=new Int32Array(Bn.buffer),Sr=new Uint8Array(Bn.byteLength);let Yr=0;for(this.asyncStream_=new M,this.asyncStream_.push(this.decryptChunk_(Jn.subarray(Yr,Yr+wi),Gn,si,Sr)),Yr=wi;Yr<Jn.length;Yr+=wi)si=new Uint32Array([L(Jn[Yr-4]),L(Jn[Yr-3]),L(Jn[Yr-2]),L(Jn[Yr-1])]),this.asyncStream_.push(this.decryptChunk_(Jn.subarray(Yr,Yr+wi),Gn,si,Sr));this.asyncStream_.push(function(){Bi(null,function t(Fn){return Fn.subarray(0,Fn.byteLength-Fn[Fn.byteLength-1])}(Sr))})}static get STEP(){return 32e3}decryptChunk_(Bn,Gn,si,Bi){return function(){const wi=function(Fn,Bn,Gn){const si=new Int32Array(Fn.buffer,Fn.byteOffset,Fn.byteLength>>2),Bi=new y(Array.prototype.slice.call(Bn)),wi=new Uint8Array(Fn.byteLength),Jn=new Int32Array(wi.buffer);let Sr,Yr,Ws,xs,$o,Ks,Ys,zr,lo;for(Sr=Gn[0],Yr=Gn[1],Ws=Gn[2],xs=Gn[3],lo=0;lo<si.length;lo+=4)$o=L(si[lo]),Ks=L(si[lo+1]),Ys=L(si[lo+2]),zr=L(si[lo+3]),Bi.decrypt($o,Ks,Ys,zr,Jn,lo),Jn[lo]=L(Jn[lo]^Sr),Jn[lo+1]=L(Jn[lo+1]^Yr),Jn[lo+2]=L(Jn[lo+2]^Ws),Jn[lo+3]=L(Jn[lo+3]^xs),Sr=$o,Yr=Ks,Ws=Ys,xs=zr;return wi}(Bn,Gn,si);Bi.set(wi,Bn.byteOffset)}}}var Je,He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};Je=typeof window<"u"?window:typeof He<"u"?He:typeof self<"u"?self:{};var Fn,Bt=Je.BigInt||Number;Bt("0x1"),Bt("0x100"),Bt("0x10000"),Bt("0x1000000"),Bt("0x100000000"),Bt("0x10000000000"),Bt("0x1000000000000"),Bt("0x100000000000000"),Bt("0x10000000000000000"),Fn=new Uint16Array([65484]),new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);const Vn=function(Fn){const Bn={};return Object.keys(Fn).forEach(Gn=>{const si=Fn[Gn];Bn[Gn]=function(Bn){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(Bn):Bn&&Bn.buffer instanceof ArrayBuffer}(si)?{bytes:si.buffer,byteOffset:si.byteOffset,byteLength:si.byteLength}:si}),Bn};self.onmessage=function(Fn){const Bn=Fn.data,Gn=new Uint8Array(Bn.encrypted.bytes,Bn.encrypted.byteOffset,Bn.encrypted.byteLength),si=new Uint32Array(Bn.key.bytes,Bn.key.byteOffset,Bn.key.byteLength/4),Bi=new Uint32Array(Bn.iv.bytes,Bn.iv.byteOffset,Bn.iv.byteLength/4);new pe(Gn,si,Bi,function(wi,Jn){self.postMessage(Vn({source:Bn.source,decrypted:Jn}),[Jn.buffer])})}}));var fg=d_(x0);const iy=c=>{let t=c.default?"main":"alternative";return c.characteristics&&c.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},D_=(c,t)=>{c.abort(),c.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},Mv=(c,t)=>{t.activePlaylistLoader=c,c.load()},w0={AUDIO:(c,t)=>()=>{const{segmentLoaders:{[c]:o},mediaTypes:{[c]:h},excludePlaylist:y}=t;D_(o,h);const M=h.activeTrack(),L=h.activeGroup(),K=(L.filter(He=>He.default)[0]||L[0]).id,pe=h.tracks[K];if(M!==pe){ui.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const He in h.tracks)h.tracks[He].enabled=h.tracks[He]===pe;h.onTrackChanged()}else y({error:{message:"Problem encountered loading the default audio track."}})},SUBTITLES:(c,t)=>()=>{const{segmentLoaders:{[c]:o},mediaTypes:{[c]:h}}=t;ui.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),D_(o,h);const y=h.activeTrack();y&&(y.mode="disabled"),h.onTrackChanged()}},M_={AUDIO:(c,t,o)=>{if(!t)return;const{tech:h,requestOptions:y,segmentLoaders:{[c]:M}}=o;t.on("loadedmetadata",()=>{const L=t.media();M.playlist(L,y),(!h.paused()||L.endList&&"none"!==h.preload())&&M.load()}),t.on("loadedplaylist",()=>{M.playlist(t.media(),y),h.paused()||M.load()}),t.on("error",w0[c](c,o))},SUBTITLES:(c,t,o)=>{const{tech:h,requestOptions:y,segmentLoaders:{[c]:M},mediaTypes:{[c]:L}}=o;t.on("loadedmetadata",()=>{const K=t.media();M.playlist(K,y),M.track(L.activeTrack()),(!h.paused()||K.endList&&"none"!==h.preload())&&M.load()}),t.on("loadedplaylist",()=>{M.playlist(t.media(),y),h.paused()||M.load()}),t.on("error",w0[c](c,o))}},kv={AUDIO:(c,t)=>{const{vhs:o,sourceType:h,segmentLoaders:{[c]:y},requestOptions:M,main:{mediaGroups:L},mediaTypes:{[c]:{groups:K,tracks:pe,logger_:He}},mainPlaylistLoader:Je}=t,St=qm(Je.main);(!L[c]||0===Object.keys(L[c]).length)&&(L[c]={main:{default:{default:!0}}},St&&(L[c].main.default.playlists=Je.main.playlists));for(const rn in L[c]){K[rn]||(K[rn]=[]);for(const Bt in L[c][rn]){let Fn,Vn=L[c][rn][Bt];if(St?(He(`AUDIO group '${rn}' label '${Bt}' is a main playlist`),Vn.isMainPlaylist=!0,Fn=null):Fn="vhs-json"===h&&Vn.playlists?new Mf(Vn.playlists[0],o,M):Vn.resolvedUri?new Mf(Vn.resolvedUri,o,M):Vn.playlists&&"dash"===h?new dh(Vn.playlists[0],o,M,Je):null,Vn=ua({id:Bt,playlistLoader:Fn},Vn),M_[c](c,Vn.playlistLoader,t),K[rn].push(Vn),typeof pe[Bt]>"u"){const Bn=new ui.AudioTrack({id:Bt,kind:iy(Vn),enabled:!1,language:Vn.language,default:Vn.default,label:Bt});pe[Bt]=Bn}}}y.on("error",w0[c](c,t))},SUBTITLES:(c,t)=>{const{tech:o,vhs:h,sourceType:y,segmentLoaders:{[c]:M},requestOptions:L,main:{mediaGroups:K},mediaTypes:{[c]:{groups:pe,tracks:He}},mainPlaylistLoader:Je}=t;for(const St in K[c]){pe[St]||(pe[St]=[]);for(const rn in K[c][St]){if(K[c][St][rn].forced)continue;let Vn,Bt=K[c][St][rn];if("hls"===y)Vn=new Mf(Bt.resolvedUri,h,L);else if("dash"===y){if(!Bt.playlists.filter(Bn=>Bn.excludeUntil!==1/0).length)return;Vn=new dh(Bt.playlists[0],h,L,Je)}else"vhs-json"===y&&(Vn=new Mf(Bt.playlists?Bt.playlists[0]:Bt.resolvedUri,h,L));if(Bt=ua({id:rn,playlistLoader:Vn},Bt),M_[c](c,Bt.playlistLoader,t),pe[St].push(Bt),typeof He[rn]>"u"){const Fn=o.addRemoteTextTrack({id:rn,kind:"subtitles",default:Bt.default&&Bt.autoselect,language:Bt.language,label:rn},!1).track;He[rn]=Fn}}}M.on("error",w0[c](c,t))},"CLOSED-CAPTIONS":(c,t)=>{const{tech:o,main:{mediaGroups:h},mediaTypes:{[c]:{groups:y,tracks:M}}}=t;for(const L in h[c]){y[L]||(y[L]=[]);for(const K in h[c][L]){const pe=h[c][L][K];if(!/^(?:CC|SERVICE)/.test(pe.instreamId))continue;const He=o.options_.vhs&&o.options_.vhs.captionServices||{};let Je={label:K,language:pe.language,instreamId:pe.instreamId,default:pe.default&&pe.autoselect};if(He[Je.instreamId]&&(Je=ua(Je,He[Je.instreamId])),void 0===Je.default&&delete Je.default,y[L].push(ua({id:K},pe)),typeof M[K]>"u"){const St=o.addRemoteTextTrack({id:Je.instreamId,kind:"captions",default:Je.default,language:Je.language,label:Je.label},!1).track;M[K]=St}}}}},A_=(c,t)=>{for(let o=0;o<c.length;o++)if(Wh(t,c[o])||c[o].playlists&&A_(c[o].playlists,t))return!0;return!1},sy={AUDIO:(c,t)=>()=>{const{mediaTypes:{[c]:{tracks:o}}}=t;for(const h in o)if(o[h].enabled)return o[h];return null},SUBTITLES:(c,t)=>()=>{const{mediaTypes:{[c]:{tracks:o}}}=t;for(const h in o)if("showing"===o[h].mode||"hidden"===o[h].mode)return o[h];return null}},Js=c=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(He=>{kv[He](He,c)});const{mediaTypes:t,mainPlaylistLoader:o,tech:h,vhs:y,segmentLoaders:{AUDIO:M,main:L}}=c;["AUDIO","SUBTITLES"].forEach(He=>{t[He].activeGroup=((c,t)=>o=>{const{mainPlaylistLoader:h,mediaTypes:{[c]:{groups:y}}}=t,M=h.media();if(!M)return null;let L=null;M.attributes[c]&&(L=y[M.attributes[c]]);const K=Object.keys(y);if(!L)if("AUDIO"===c&&K.length>1&&qm(t.main))for(let pe=0;pe<K.length;pe++){const He=y[K[pe]];if(A_(He,M)){L=He;break}}else y.main?L=y.main:1===K.length&&(L=y[K[0]]);return typeof o>"u"?L:null!==o&&L&&L.filter(pe=>pe.id===o.id)[0]||null})(He,c),t[He].activeTrack=sy[He](He,c),t[He].onGroupChanged=((c,t)=>()=>{const{segmentLoaders:{[c]:o,main:h},mediaTypes:{[c]:y}}=t,M=y.activeTrack(),L=y.getActiveGroup(),K=y.activePlaylistLoader,pe=y.lastGroup_;if((!L||!pe||L.id!==pe.id)&&(y.lastGroup_=L,y.lastTrack_=M,D_(o,y),L&&!L.isMainPlaylist)){if(!L.playlistLoader)return void(K&&h.resetEverything());o.resyncLoader(),Mv(L.playlistLoader,y)}})(He,c),t[He].onGroupChanging=((c,t)=>()=>{const{segmentLoaders:{[c]:o},mediaTypes:{[c]:h}}=t;h.lastGroup_=null,o.abort(),o.pause()})(He,c),t[He].onTrackChanged=((c,t)=>()=>{const{mainPlaylistLoader:o,segmentLoaders:{[c]:h,main:y},mediaTypes:{[c]:M}}=t,L=M.activeTrack(),K=M.getActiveGroup(),pe=M.activePlaylistLoader,He=M.lastTrack_;if((!He||!L||He.id!==L.id)&&(M.lastGroup_=K,M.lastTrack_=L,D_(h,M),K)){if(K.isMainPlaylist){if(!L||!He||L.id===He.id)return;const Je=t.vhs.playlistController_,St=Je.selectPlaylist();if(Je.media()===St)return;return M.logger_(`track change. Switching main audio from ${He.id} to ${L.id}`),o.pause(),y.resetEverything(),void Je.fastQualityChange_(St)}if("AUDIO"===c){if(!K.playlistLoader)return y.setAudio(!0),void y.resetEverything();h.setAudio(!0),y.setAudio(!1)}if(pe===K.playlistLoader)return void Mv(K.playlistLoader,M);h.track&&h.track(L),h.resetEverything(),Mv(K.playlistLoader,M)}})(He,c),t[He].getActiveGroup=((c,{mediaTypes:t})=>()=>{const o=t[c].activeTrack();return o?t[c].activeGroup(o):null})(He,c)});const K=t.AUDIO.activeGroup();if(K){const He=(K.filter(St=>St.default)[0]||K[0]).id;t.AUDIO.tracks[He].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(L.setAudio(!1),M.setAudio(!0)):L.setAudio(!0)}o.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(He=>t[He].onGroupChanged())}),o.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(He=>t[He].onGroupChanging())});const pe=()=>{t.AUDIO.onTrackChanged(),h.trigger({type:"usage",name:"vhs-audio-change"})};h.audioTracks().addEventListener("change",pe),h.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),y.on("dispose",()=>{h.audioTracks().removeEventListener("change",pe),h.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),h.clearTracks("audio");for(const He in t.AUDIO.tracks)h.audioTracks().addTrack(t.AUDIO.tracks[He])};let Oc;const mg=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Vl=function(c){return this.audioSegmentLoader_[c]+this.mainSegmentLoader_[c]};class fh extends ui.EventTarget{constructor(t){super();const{src:o,withCredentials:h,tech:y,bandwidth:M,externVhs:L,useCueTags:K,playlistExclusionDuration:pe,enableLowInitialPlaylist:He,sourceType:Je,cacheEncryptionKeys:St,bufferBasedABR:rn,leastPixelDiffSelector:Bt,captionServices:Vn}=t;if(!o)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:Fn}=t;(null===Fn||typeof Fn>"u")&&(Fn=1/0),Oc=L,this.bufferBasedABR=!!rn,this.leastPixelDiffSelector=!!Bt,this.withCredentials=h,this.tech_=y,this.vhs_=y.vhs,this.sourceType_=Je,this.useCueTags_=K,this.playlistExclusionDuration=pe,this.maxPlaylistRetries=Fn,this.enableLowInitialPlaylist=He,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:h,maxPlaylistRetries:Fn,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=(()=>{const c={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(t=>{c[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:nu,activeTrack:nu,getActiveGroup:nu,onGroupChanged:nu,onTrackChanged:nu,lastTrack_:null,logger_:vd(`MediaGroups[${t}]`)}}),c})(),this.mediaSource=new window.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=tc(),this.hasPlayed_=!1,this.syncController_=new pb(t),this.segmentMetadataTrack_=y.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new fg,this.sourceUpdater_=new Cv(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new hg;const Bn={vhs:this.vhs_,parse708captions:t.parse708captions,useDtsForTimestampOffset:t.useDtsForTimestampOffset,captionServices:Vn,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:M,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:St,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:t.exactManifestTimings};this.mainPlaylistLoader_="dash"===this.sourceType_?new dh(o,this.vhs_,this.requestOptions_):new Mf(o,this.vhs_,this.requestOptions_),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new Op(ua(Bn,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),t),this.audioSegmentLoader_=new Op(ua(Bn,{loaderType:"audio"}),t),this.subtitleSegmentLoader_=new Sv(ua(Bn,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((si,Bi)=>{function wi(){y.off("vttjserror",Jn),si()}function Jn(){y.off("vttjsloaded",wi),Bi()}y.one("vttjsloaded",wi),y.one("vttjserror",Jn),y.addWebVttScript_()})}),t),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),mg.forEach(si=>{this[si+"_"]=Vl.bind(this,si)}),this.logger_=vd("pc"),this.triggeredFmp4Usage=!1,"none"===this.tech_.preload()?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const Gn="none"===this.tech_.preload()?"play":"loadstart";this.tech_.one(Gn,()=>{const si=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-si,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const t=this.mainAppendsToLoadedData_(),o=this.audioAppendsToLoadedData_();return-1===t||-1===o?-1:t+o}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(t="abr"){const o=this.selectPlaylist();o&&this.shouldSwitchToMedia_(o)&&this.switchMedia_(o,t)}switchMedia_(t,o,h){const y=this.media(),M=y&&(y.id||y.uri),L=t.id||t.uri;M&&M!==L&&(this.logger_(`switch media ${M} -> ${L} from ${o}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${o}`})),this.mainPlaylistLoader_.media(t,h)}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=window.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(window.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const t=this.main(),o=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return o;const h=t.mediaGroups.AUDIO,y=Object.keys(h);let M;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)M=this.mediaTypes_.AUDIO.activeTrack();else{const K=h.main||y.length&&h[y[0]];for(const pe in K)if(K[pe].default){M={label:pe};break}}if(!M)return o;const L=[];for(const K in h)if(h[K][M.label]){const pe=h[K][M.label];if(pe.playlists&&pe.playlists.length)L.push.apply(L,pe.playlists);else if(pe.uri)L.push(pe);else if(t.playlists.length)for(let He=0;He<t.playlists.length;He++){const Je=t.playlists[He];Je.attributes&&Je.attributes.AUDIO&&Je.attributes.AUDIO===K&&L.push(Je)}}return L.length?L:o}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const t=this.mainPlaylistLoader_.media(),o=1.5*t.targetDuration*1e3;this.requestOptions_.timeout=Tp(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?0:o,t.endList&&"none"!==this.tech_.preload()&&(this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.mainSegmentLoader_.load()),Js({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),t),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let t=this.mainPlaylistLoader_.media();if(!t){let o;if(this.excludeUnsupportedVariants_(),this.enableLowInitialPlaylist&&(o=this.selectInitialPlaylist()),o||(o=this.selectPlaylist()),!o||!this.shouldSwitchToMedia_(o)||(this.initialMedia_=o,this.switchMedia_(this.initialMedia_,"initial"),"vhs-json"!==this.sourceType_||!this.initialMedia_.segments))return;t=this.initialMedia_}this.handleUpdatedMediaPlaylist(t)}),this.mainPlaylistLoader_.on("error",()=>{const t=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:t.playlist,error:t})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const t=this.mainPlaylistLoader_.media(),o=1.5*t.targetDuration*1e3;this.requestOptions_.timeout=Tp(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?0:o,this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const t=this.mainPlaylistLoader_.media();"playlist-unchanged"!==t.lastExcludeReason_&&this.stuckAtPlaylistEnd_(t)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(t,o){const h=t.mediaGroups||{};let y=!0;const M=Object.keys(h.AUDIO);for(const L in h.AUDIO)for(const K in h.AUDIO[L])h.AUDIO[L][K].uri||(y=!1);y&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(h.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Oc.Playlist.isAes(o)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),M.length&&Object.keys(h.AUDIO[M[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(t){const o=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,h=this.tech_.currentTime(),y=this.bufferLowWaterLine(),M=this.bufferHighWaterLine();return function({currentPlaylist:c,buffered:t,currentTime:o,nextPlaylist:h,bufferLowWaterLine:y,bufferHighWaterLine:M,duration:L,bufferBasedABR:K,log:pe}){if(!h)return ui.log.warn("We received no playlist to switch to. Please check your stream."),!1;const He=`allowing switch ${c&&c.id||"null"} -> ${h.id}`;if(!c)return pe(`${He} as current playlist is not set`),!0;if(h.id===c.id)return!1;const Je=!!bd(t,o).length;if(!c.endList)return Je||"number"!=typeof c.partTargetDuration?(pe(`${He} as current playlist is live`),!0):(pe(`not ${He} as current playlist is live llhls, but currentTime isn't in buffered.`),!1);const St=yp(t,o),rn=K?Dl.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Dl.MAX_BUFFER_LOW_WATER_LINE;if(L<rn)return pe(`${He} as duration < max low water line (${L} < ${rn})`),!0;const Bt=h.attributes.BANDWIDTH,Vn=c.attributes.BANDWIDTH;if(Bt<Vn&&(!K||St<M)){let Fn=`${He} as next bandwidth < current bandwidth (${Bt} < ${Vn})`;return K&&(Fn+=` and forwardBuffer < bufferHighWaterLine (${St} < ${M})`),pe(Fn),!0}if((!K||Bt>Vn)&&St>=y){let Fn=`${He} as forwardBuffer >= bufferLowWaterLine (${St} >= ${y})`;return K&&(Fn+=` and next bandwidth > current bandwidth (${Bt} > ${Vn})`),pe(Fn),!0}return pe(`not ${He} as no switching criteria met`),!1}({buffered:this.tech_.buffered(),currentTime:h,currentPlaylist:o,nextPlaylist:t,bufferLowWaterLine:y,bufferHighWaterLine:M,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const o=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:o.playlist,error:o})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",o=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:120}))});const t=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const o=this.getCodecsOrExclude_();o&&this.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(t=this.selectPlaylist()){t!==this.mainPlaylistLoader_.media()?(this.switchMedia_(t,"fast-quality"),this.mainSegmentLoader_.resetEverything(()=>{this.tech_.setCurrentTime(ui.browser.IE_VERSION||ui.browser.IS_EDGE?this.tech_.currentTime()+.04:this.tech_.currentTime())})):this.logger_("skipping fastQualityChange because new media is same as old")}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}setupFirstPlay(){const t=this.mainPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){const o=this.seekable();if(!o.length)return!1;if(ui.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",()=>{this.trigger("firstplay"),this.tech_.setCurrentTime(o.end(0)),this.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(o.end(0))}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const t=this.tech_.play();typeof t<"u"&&"function"==typeof t.then&&t.then(null,o=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const t=this.inbandTextTracks_.metadataTrack_.cues;if(!t||!t.length)return;const o=this.duration();t[t.length-1].endTime=isNaN(o)||Math.abs(o)===1/0?Number.MAX_VALUE:o}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const o=this.mainSegmentLoader_.getCurrentMediaInfo_();t=!o||o.hasVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}t&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(t){if(!this.seekable().length)return!1;const h=this.syncController_.getExpiredTime(t,this.duration());if(null===h)return!1;const y=Oc.Playlist.playlistEnd(t,h),M=this.tech_.currentTime(),L=this.tech_.buffered();if(!L.length)return y-M<=Jd;const K=L.end(L.length-1);return K-M<=Jd&&y-K<=Jd}excludePlaylist({playlistToExclude:t=this.mainPlaylistLoader_.media(),error:o={},playlistExclusionDuration:h}){if(t=t||this.mainPlaylistLoader_.media(),h=h||o.playlistExclusionDuration||this.playlistExclusionDuration,!t)return this.error=o,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));t.playlistErrors_++;const y=this.mainPlaylistLoader_.main.playlists,M=y.filter(Cp),L=1===M.length&&M[0]===t;if(1===y.length&&h!==1/0)return ui.log.warn(`Problem encountered with playlist ${t.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(L);if(L){let Bt=!1;y.forEach(Vn=>{if(Vn===t)return;const Fn=Vn.excludeUntil;typeof Fn<"u"&&Fn!==1/0&&(Bt=!0,delete Vn.excludeUntil)}),Bt&&(ui.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let K;K=t.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*h,t.excludeUntil=K,o.reason&&(t.lastExcludeReason_=o.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const pe=this.selectPlaylist();if(!pe)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");(o.internal?this.logger_:ui.log.warn)(`${o.internal?"Internal problem":"Problem"} encountered with playlist ${t.id}.${o.message?" "+o.message:""} Switching to playlist ${pe.id}.`),pe.attributes.AUDIO!==t.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),pe.attributes.SUBTITLES!==t.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const St=pe.targetDuration/2*1e3||5e3,rn="number"==typeof pe.lastRequest&&Date.now()-pe.lastRequest<=St;return this.switchMedia_(pe,"exclude",L||rn)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(t,o){const h=[],y="all"===t;(y||"main"===t)&&h.push(this.mainPlaylistLoader_);const M=[];(y||"audio"===t)&&M.push("AUDIO"),(y||"subtitle"===t)&&(M.push("CLOSED-CAPTIONS"),M.push("SUBTITLES")),M.forEach(L=>{const K=this.mediaTypes_[L]&&this.mediaTypes_[L].activePlaylistLoader;K&&h.push(K)}),["main","audio","subtitle"].forEach(L=>{const K=this[`${L}SegmentLoader_`];K&&(t===L||"all"===t)&&h.push(K)}),h.forEach(L=>o.forEach(K=>{"function"==typeof L[K]&&L[K]()}))}setCurrentTime(t){const o=bd(this.tech_.buffered(),t);return this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media()&&this.mainPlaylistLoader_.media().segments?o&&o.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}duration(){if(!this.mainPlaylistLoader_)return 0;const t=this.mainPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:Oc.Playlist.duration(t):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let t;if(!this.mainPlaylistLoader_)return;let o=this.mainPlaylistLoader_.media();if(!o)return;let h=this.syncController_.getExpiredTime(o,this.duration());if(null===h)return;const y=this.mainPlaylistLoader_.main,M=Oc.Playlist.seekable(o,h,Oc.Playlist.liveEdgeDelay(y,o));if(0===M.length||this.mediaTypes_.AUDIO.activePlaylistLoader&&(o=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),h=this.syncController_.getExpiredTime(o,this.duration()),null===h||(t=Oc.Playlist.seekable(o,h,Oc.Playlist.liveEdgeDelay(y,o)),0===t.length)))return;let L,K;this.seekable_&&this.seekable_.length&&(L=this.seekable_.end(0),K=this.seekable_.start(0)),this.seekable_=t?t.start(0)>M.end(0)||M.start(0)>t.end(0)?M:tc([[t.start(0)>M.start(0)?t.start(0):M.start(0),t.end(0)<M.end(0)?t.end(0):M.end(0)]]):M,(!this.seekable_||!this.seekable_.length||this.seekable_.end(0)!==L||this.seekable_.start(0)!==K)&&(this.logger_(`seekable updated [${i_(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,t),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(t){const y=this.seekable();if(!y.length)return;return void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<y.end(y.length-1))&&this.sourceUpdater_.setDuration(y.end(y.length-1)))}const o=this.tech_.buffered();let h=Oc.Playlist.duration(this.mainPlaylistLoader_.media());o.length>0&&(h=Math.max(h,o.end(o.length-1))),this.mediaSource.duration!==h&&this.sourceUpdater_.setDuration(h)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(t=>{const o=this.mediaTypes_[t].groups;for(const h in o)o[h].forEach(y=>{y.playlistLoader&&y.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const t=!!this.mediaTypes_.AUDIO.activePlaylistLoader,o=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),h=!t||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!o||!h)}getCodecsOrExclude_(){const t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},o=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();t.video=t.main;const h=ja(this.main(),o),y={},M=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(y.video=h.video||t.main.videoCodec||"avc1.4d400d"),t.main.isMuxed&&(y.video+=`,${h.audio||t.main.audioCodec||wc}`),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||M)&&(y.audio=h.audio||t.main.audioCodec||t.audio.audioCodec||wc,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),!y.audio&&!y.video)return void this.excludePlaylist({playlistToExclude:o,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});const K={};let pe;if(["video","audio"].forEach(function(He){if(y.hasOwnProperty(He)&&!((He,Je)=>He?hf(Je):ra(Je))(t[He].isFmp4,y[He])){const Je=t[He].isFmp4?"browser":"muxer";K[Je]=K[Je]||[],K[Je].push(y[He]),"audio"===He&&(pe=Je)}}),M&&pe&&o.attributes.AUDIO){const He=o.attributes.AUDIO;this.main().playlists.forEach(Je=>{(Je.attributes&&Je.attributes.AUDIO)===He&&Je!==o&&(Je.excludeUntil=1/0)}),this.logger_(`excluding audio group ${He} as ${pe} does not support codec(s): "${y.audio}"`)}if(!Object.keys(K).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const He=[];if(["video","audio"].forEach(Je=>{const St=(ia(this.sourceUpdater_.codecs[Je]||"")[0]||{}).type,rn=(ia(y[Je]||"")[0]||{}).type;St&&rn&&St.toLowerCase()!==rn.toLowerCase()&&He.push(`"${this.sourceUpdater_.codecs[Je]}" -> "${y[Je]}"`)}),He.length)return void this.excludePlaylist({playlistToExclude:o,error:{message:`Codec switching not supported: ${He.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0})}return y}{const He=Object.keys(K).reduce((Je,St)=>(Je&&(Je+=", "),Je+`${St} does not support codec(s): "${K[St].join(",")}"`),"")+".";this.excludePlaylist({playlistToExclude:o,error:{internal:!0,message:He},playlistExclusionDuration:1/0})}}tryToCreateSourceBuffers_(){if("open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const t=this.getCodecsOrExclude_();if(!t)return;this.sourceUpdater_.createSourceBuffers(t);const o=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(o)}excludeUnsupportedVariants_(){const t=this.main().playlists,o=[];Object.keys(t).forEach(h=>{const y=t[h];if(-1!==o.indexOf(y.id))return;o.push(y.id);const M=ja(this.main,y),L=[];M.audio&&!ra(M.audio)&&!hf(M.audio)&&L.push(`audio codec ${M.audio}`),M.video&&!ra(M.video)&&!hf(M.video)&&L.push(`video codec ${M.video}`),M.text&&"stpp.ttml.im1t"===M.text&&L.push(`text codec ${M.text}`),L.length&&(y.excludeUntil=1/0,this.logger_(`excluding ${y.id} for unsupported: ${L.join(", ")}`))})}excludeIncompatibleVariants_(t){const o=[],h=this.main().playlists,y=_0(ia(t)),M=b_(y),L=y.video&&ia(y.video)[0]||null,K=y.audio&&ia(y.audio)[0]||null;Object.keys(h).forEach(pe=>{const He=h[pe];if(-1!==o.indexOf(He.id)||He.excludeUntil===1/0)return;o.push(He.id);const Je=[],St=ja(this.mainPlaylistLoader_.main,He),rn=b_(St);if(St.audio||St.video){if(rn!==M&&Je.push(`codec count "${rn}" !== "${M}"`),!this.sourceUpdater_.canChangeType()){const Bt=St.video&&ia(St.video)[0]||null,Vn=St.audio&&ia(St.audio)[0]||null;Bt&&L&&Bt.type.toLowerCase()!==L.type.toLowerCase()&&Je.push(`video codec "${Bt.type}" !== "${L.type}"`),Vn&&K&&Vn.type.toLowerCase()!==K.type.toLowerCase()&&Je.push(`audio codec "${Vn.type}" !== "${K.type}"`)}Je.length&&(He.excludeUntil=1/0,this.logger_(`excluding ${He.id}: ${Je.join(" && ")}`))}})}updateAdCues_(t){let o=0;const h=this.seekable();h.length&&(o=h.start(0)),function(c,t,o=0){if(!c.segments)return;let y,h=o;for(let M=0;M<c.segments.length;M++){const L=c.segments[M];if(y||(y=gm(t,h+L.duration/2)),y){if("cueIn"in L){y.endTime=h,y.adEndTime=h,h+=L.duration,y=null;continue}if(h<y.endTime){h+=L.duration;continue}y.endTime+=L.duration}else if("cueOut"in L&&(y=new window.VTTCue(h,h+L.duration,L.cueOut),y.adStartTime=h,y.adEndTime=h+parseFloat(L.cueOut),t.addCue(y)),"cueOutCont"in L){const[K,pe]=L.cueOutCont.split("/").map(parseFloat);y=new window.VTTCue(h,h+L.duration,""),y.adStartTime=h-K,y.adEndTime=y.adStartTime+pe,t.addCue(y)}h+=L.duration}}(t,this.cueTagsTrack_,o)}goalBufferLength(){const t=this.tech_.currentTime(),o=Dl.GOAL_BUFFER_LENGTH,h=Dl.GOAL_BUFFER_LENGTH_RATE,y=Math.max(o,Dl.MAX_GOAL_BUFFER_LENGTH);return Math.min(o+t*h,y)}bufferLowWaterLine(){const t=this.tech_.currentTime(),o=Dl.BUFFER_LOW_WATER_LINE,h=Dl.BUFFER_LOW_WATER_LINE_RATE,y=Math.max(o,Dl.MAX_BUFFER_LOW_WATER_LINE),M=Math.max(o,Dl.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(o+t*h,this.bufferBasedABR?M:y)}bufferHighWaterLine(){return Dl.BUFFER_HIGH_WATER_LINE}}class _b{constructor(t,o,h){const{playlistController_:y}=t,M=y.fastQualityChange_.bind(y);if(o.attributes){const L=o.attributes.RESOLUTION;this.width=L&&L.width,this.height=L&&L.height,this.bandwidth=o.attributes.BANDWIDTH,this.frameRate=o.attributes["FRAME-RATE"]}this.codecs=ja(y.main(),o),this.playlist=o,this.id=h,this.enabled=((c,t,o)=>h=>{const y=c.main.playlists[t],M=If(y),L=Cp(y);return typeof h>"u"?L:(h?delete y.disabled:y.disabled=!0,h!==L&&!M&&(o(),c.trigger(h?"renditionenabled":"renditiondisabled")),h)})(t.playlists,o.id,M)}}const Rp=["seeking","seeked","pause","playing","error"];class C0{constructor(t){this.playlistController_=t.playlistController,this.tech_=t.tech,this.seekable=t.seekable,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=t.liveRangeSafeTimeDelta,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=vd("PlaybackWatcher"),this.logger_("initialize");const o=()=>this.monitorCurrentTime_(),h=()=>this.monitorCurrentTime_(),y=()=>this.techWaiting_(),M=()=>this.resetTimeUpdate_(),L=this.playlistController_,K=["main","subtitle","audio"],pe={};K.forEach(Je=>{pe[Je]={reset:()=>this.resetSegmentDownloads_(Je),updateend:()=>this.checkSegmentDownloads_(Je)},L[`${Je}SegmentLoader_`].on("appendsdone",pe[Je].updateend),L[`${Je}SegmentLoader_`].on("playlistupdate",pe[Je].reset),this.tech_.on(["seeked","seeking"],pe[Je].reset)});const He=Je=>{["main","audio"].forEach(St=>{L[`${St}SegmentLoader_`][Je]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),He("off"))},this.clearSeekingAppendCheck_=()=>He("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),He("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",y),this.tech_.on(Rp,M),this.tech_.on("canplay",h),this.tech_.one("play",o),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",y),this.tech_.off(Rp,M),this.tech_.off("canplay",h),this.tech_.off("play",o),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),K.forEach(Je=>{L[`${Je}SegmentLoader_`].off("appendsdone",pe[Je].updateend),L[`${Je}SegmentLoader_`].off("playlistupdate",pe[Je].reset),this.tech_.off(["seeked","seeking"],pe[Je].reset)}),this.checkCurrentTimeTimeout_&&window.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&window.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=window.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(t){const o=this.playlistController_[`${t}SegmentLoader_`];this[`${t}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${t} loader`),this[`${t}StalledDownloads_`]=0,this[`${t}Buffered_`]=o.buffered_()}checkSegmentDownloads_(t){const o=this.playlistController_,h=o[`${t}SegmentLoader_`],y=h.buffered_(),M=function(c,t){if(c===t)return!1;if(!c&&t||!t&&c||c.length!==t.length)return!0;for(let o=0;o<c.length;o++)if(c.start(o)!==t.start(o)||c.end(o)!==t.end(o))return!0;return!1}(this[`${t}Buffered_`],y);this[`${t}Buffered_`]=y,M?this.resetSegmentDownloads_(t):(this[`${t}StalledDownloads_`]++,this.logger_(`found #${this[`${t}StalledDownloads_`]} ${t} appends that did not increase buffer (possible stalled download)`,{playlistId:h.playlist_&&h.playlist_.id,buffered:Au(y)}),!(this[`${t}StalledDownloads_`]<10)&&(this.logger_(`${t} loader stalled download exclusion`),this.resetSegmentDownloads_(t),this.tech_.trigger({type:"usage",name:`vhs-${t}-download-exclusion`}),"subtitle"!==t&&o.excludePlaylist({error:{message:`Excessive ${t} segment downloading detected.`},playlistExclusionDuration:1/0})))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const t=this.tech_.currentTime(),o=this.tech_.buffered();if(this.lastRecordedTime===t&&(!o.length||t+Jd>=o.end(o.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const o=this.seekable(),h=this.tech_.currentTime();let M;if(this.afterSeekableWindow_(o,h,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(M=o.end(o.length-1)),this.beforeSeekableWindow_(o,h)){const Vn=o.start(0);M=Vn+(Vn===o.end(0)?0:Jd)}if(typeof M<"u")return this.logger_(`Trying to seek outside of seekable at time ${h} with seekable range ${i_(o)}. Seeking to ${M}.`),this.tech_.setCurrentTime(M),!0;const L=this.playlistController_.sourceUpdater_,K=this.tech_.buffered(),pe=L.audioBuffer?L.audioBuffered():null,He=L.videoBuffer?L.videoBuffered():null,Je=this.media(),St=Je.partTargetDuration?Je.partTargetDuration:2*(Je.targetDuration-$h),rn=[pe,He];for(let Vn=0;Vn<rn.length;Vn++)if(rn[Vn]&&yp(rn[Vn],h)<St)return!1;const Bt=Jc(K,h);return 0!==Bt.length&&(M=Bt.start(0)+Jd,this.logger_(`Buffered region starts (${Bt.start(0)})  just beyond seek point (${h}). Seeking to ${M}.`),this.tech_.setCurrentTime(M),!0)}waiting_(){if(this.techWaiting_())return;const t=this.tech_.currentTime(),o=this.tech_.buffered(),h=bd(o,t);return h.length&&t+3<=h.end(0)?(this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.logger_(`Stopped at ${t} while inside a buffered region [${h.start(0)} -> ${h.end(0)}]. Attempting to resume playback by seeking to the current time.`),void this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"})):void 0}techWaiting_(){const t=this.seekable(),o=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(t,o)){const K=t.end(t.length-1);return this.logger_(`Fell out of live window at time ${o}. Seeking to live point (seekable end) ${K}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(K),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const h=this.tech_.vhs.playlistController_.sourceUpdater_,y=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:h.audioBuffered(),videoBuffered:h.videoBuffered(),currentTime:o}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const L=Jc(y,o);return L.length>0&&(this.logger_(`Stopped at ${o} and seeking to ${L.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(o),!0)}afterSeekableWindow_(t,o,h,y=!1){if(!t.length)return!1;let M=t.end(t.length-1)+Jd;return!h.endList&&y&&(M=t.end(t.length-1)+3*h.targetDuration),o>M}beforeSeekableWindow_(t,o){return!!(t.length&&t.start(0)>0&&o<t.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:t,audioBuffered:o,currentTime:h}){if(!t)return;let y;if(t.length&&o.length){const M=bd(t,h-3),L=bd(t,h),K=bd(o,h);K.length&&!L.length&&M.length&&(y={start:M.end(0),end:K.end(0)})}else Jc(t,h).length||(y=this.gapFromVideoUnderflow_(t,h));return!!y&&(this.logger_(`Encountered a gap in video from ${y.start} to ${y.end}. Seeking to current time ${h}`),!0)}skipTheGap_(t){const o=this.tech_.buffered(),h=this.tech_.currentTime(),y=Jc(o,h);this.resetTimeUpdate_(),0!==y.length&&h===t&&(this.logger_("skipTheGap_:","currentTime:",h,"scheduled currentTime:",t,"nextRange start:",y.start(0)),this.tech_.setCurrentTime(y.start(0)+$h),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(t,o){const h=function(c){if(c.length<2)return tc();const t=[];for(let o=1;o<c.length;o++){const h=c.end(o-1),y=c.start(o);t.push([h,y])}return tc(t)}(t);for(let y=0;y<h.length;y++){const M=h.start(y),L=h.end(y);if(o-M<4&&o-M>2)return{start:M,end:L}}return null}}const vb={errorInterval:30,getSource(c){return c(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},T0=function(c,t){let o=0,h=0;const y=ua(vb,t);c.ready(()=>{c.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const M=function(){h&&c.currentTime(h)},L=function(Je){null!=Je&&(h=c.duration()!==1/0&&c.currentTime()||0,c.one("loadedmetadata",M),c.src(Je),c.trigger({type:"usage",name:"vhs-error-reload"}),c.play())},K=function(){if(Date.now()-o<1e3*y.errorInterval)c.trigger({type:"usage",name:"vhs-error-reload-canceled"});else{if(y.getSource&&"function"==typeof y.getSource)return o=Date.now(),y.getSource.call(c,L);ui.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},pe=function(){c.off("loadedmetadata",M),c.off("error",K),c.off("dispose",pe)};c.on("error",K),c.on("dispose",pe),c.reloadSourceOnError=function(Je){pe(),T0(c,Je)}};const Pc={PlaylistLoader:Mf,Playlist:eu,utils:s0,STANDARD_PLAYLIST_SELECTOR:gv,INITIAL_PLAYLIST_SELECTOR:function(){const c=this.playlists.main.playlists.filter(eu.isEnabled);return qh(c,(o,h)=>v0(o,h)),c.filter(o=>!!ja(this.playlists.main,o).video)[0]||null},lastBandwidthSelector:gv,movingAverageBandwidthSelector:function(c){let t=-1,o=-1;if(c<0||c>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){const h=this.useDevicePixelRatio&&window.devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,o=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==o&&(t=c*this.systemBandwidth+(1-c)*t,o=this.systemBandwidth),Zh(this.playlists.main,t,parseInt(y_(this.tech_.el(),"width"),10)*h,parseInt(y_(this.tech_.el(),"height"),10)*h,this.limitRenditionByPlayerDimensions,this.playlistController_)}},comparePlaylistBandwidth:v0,comparePlaylistResolution:function(c,t){let o,h;return c.attributes.RESOLUTION&&c.attributes.RESOLUTION.width&&(o=c.attributes.RESOLUTION.width),o=o||window.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(h=t.attributes.RESOLUTION.width),h=h||window.Number.MAX_VALUE,o===h&&c.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?c.attributes.BANDWIDTH-t.attributes.BANDWIDTH:o-h},xhr:r0()};Object.keys(Dl).forEach(c=>{Object.defineProperty(Pc,c,{get:()=>(ui.log.warn(`using Vhs.${c} is UNSAFE be sure you know what you are doing`),Dl[c]),set(t){ui.log.warn(`using Vhs.${c} is UNSAFE be sure you know what you are doing`),"number"!=typeof t||t<0?ui.log.warn(`value of Vhs.${c} must be greater than or equal to 0`):Dl[c]=t}})});const S0="videojs-vhs",_g=function(c,t){const o=t.media();let h=-1;for(let y=0;y<c.length;y++)if(c[y].id===o.id){h=y;break}c.selectedIndex_=h,c.trigger({selectedIndex:h,type:"change"})};Pc.canPlaySource=function(){return ui.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const Qi=({player:c,sourceKeySystems:t,audioMedia:o,mainPlaylists:h})=>{if(!c.eme.initializeMediaKeys)return Promise.resolve();const M=((c,t)=>c.reduce((o,h)=>{if(!h.contentProtection)return o;const y=t.reduce((M,L)=>{const K=h.contentProtection[L];return K&&K.pssh&&(M[L]={pssh:K.pssh}),M},{});return Object.keys(y).length&&o.push(y),o},[]))(o?h.concat([o]):h,Object.keys(t)),L=[],K=[];return M.forEach(pe=>{K.push(new Promise((He,Je)=>{c.tech_.one("keysessioncreated",He)})),L.push(new Promise((He,Je)=>{c.eme.initializeMediaKeys({keySystems:pe},St=>{St?Je(St):He()})}))}),Promise.race([Promise.all(L),Promise.race(K)])},oy=({player:c,sourceKeySystems:t,media:o,audioMedia:h})=>{const y=((c,t,o)=>{if(!c)return c;let h={};t&&t.attributes&&t.attributes.CODECS&&(h=_0(ia(t.attributes.CODECS))),o&&o.attributes&&o.attributes.CODECS&&(h.audio=o.attributes.CODECS);const y=Xc(h.video),M=Xc(h.audio),L={};for(const K in c)L[K]={},M&&(L[K].audioContentType=M),y&&(L[K].videoContentType=y),t.contentProtection&&t.contentProtection[K]&&t.contentProtection[K].pssh&&(L[K].pssh=t.contentProtection[K].pssh),"string"==typeof c[K]&&(L[K].url=c[K]);return ua(c,L)})(t,o,h);return!(!y||(c.currentSource().keySystems=y,y&&!c.eme&&(ui.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1)))},ay=()=>{if(!window.localStorage)return null;const c=window.localStorage.getItem(S0);if(!c)return null;try{return JSON.parse(c)}catch{return null}};Pc.supportsNativeHls=function(){if(!document||!document.createElement)return!1;const c=document.createElement("video");return!!ui.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(o){return/maybe|probably/i.test(c.canPlayType(o))})}(),Pc.supportsNativeDash=!!(document&&document.createElement&&ui.getTech("Html5").isSupported())&&/maybe|probably/i.test(document.createElement("video").canPlayType("application/dash+xml")),Pc.supportsTypeNatively=c=>"hls"===c?Pc.supportsNativeHls:"dash"===c&&Pc.supportsNativeDash,Pc.isSupported=function(){return ui.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const Lv=ui.getComponent("Component");class Ed extends Lv{constructor(t,o,h){if(super(o,h.vhs),"number"==typeof h.initialBandwidth&&(this.options_.bandwidth=h.initialBandwidth),this.logger_=vd("VhsHandler"),o.options_&&o.options_.playerId){const y=ui.getPlayer(o.options_.playerId);this.player_=y}if(this.tech_=o,this.source_=t,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&o.overrideNativeAudioTracks&&o.overrideNativeVideoTracks)o.overrideNativeAudioTracks(!0),o.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(o.featuresNativeVideoTracks||o.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(document,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],y=>{const M=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;M&&M.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(){if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=!1!==this.options_.llhls,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,"number"!=typeof this.options_.playlistExclusionDuration&&(this.options_.playlistExclusionDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){const t=ay();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Dl.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Dl.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(t=>{typeof this.source_[t]<"u"&&(this.options_[t]=this.source_[t])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}src(t,o){if(!t)return;this.setOptions_(),this.options_.src=(c=>0===c.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(c.substring(c.indexOf(",")+1)):c)(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Pc,this.options_.sourceType=ff(o),this.options_.seekTo=M=>{this.tech_.setCurrentTime(M)},this.playlistController_=new fh(this.options_);const h=ua({liveRangeSafeTimeDelta:Jd},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new C0(h),this.playlistController_.on("error",()=>{const M=ui.players[this.tech_.options_.playerId];let L=this.playlistController_.error;"object"!=typeof L||L.code?"string"==typeof L&&(L={message:L,code:3}):L.code=3,M.error(L)});const y=this.options_.bufferBasedABR?Pc.movingAverageBandwidthSelector(.55):Pc.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):y.bind(this),this.playlistController_.selectInitialPlaylist=Pc.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(M){this.playlistController_.selectPlaylist=M.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(M){this.playlistController_.mainSegmentLoader_.throughput.rate=M,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let M=this.playlistController_.mainSegmentLoader_.bandwidth;const L=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,K=1e7;if(this.options_.useNetworkInformationApi&&L){const pe=1e3*L.downlink*1e3;M=pe>=K&&M>=K?Math.max(M,pe):pe}return M},set(M){this.playlistController_.mainSegmentLoader_.bandwidth=M,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){let L;return L=this.throughput>0?1/this.throughput:0,Math.floor(1/(1/(this.bandwidth||1)+L))},set(){ui.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Au(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Au(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&(c=>{if(!window.localStorage)return!1;let t=ay();t=t?ua(t,c):c;try{window.localStorage.setItem(S0,JSON.stringify(t))}catch{return!1}})({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{!function(c){c.representations=()=>{const t=c.playlistController_.main(),o=qm(t)?c.playlistController_.getAudioTrackPlaylists_():t.playlists;return o?o.filter(h=>!If(h)).map((h,y)=>new _b(c,h,h.id)):[]}}(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=window.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const t=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),Qi({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(o=>{this.logger_("error while creating EME key session",o),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const t=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,o=oy({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});this.player_.tech_.on("keystatuschange",h=>{if("output-restricted"!==h.status)return;const y=this.playlistController_.main();if(!y||!y.playlists)return;const M=[];y.playlists.forEach(L=>{L&&L.attributes&&L.attributes.RESOLUTION&&L.attributes.RESOLUTION.height>=720&&(!L.excludeUntil||L.excludeUntil<1/0)&&(L.excludeUntil=1/0,M.push(L))}),M.length&&(ui.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.',...M),this.playlistController_.fastQualityChange_())}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==ui.browser.IE_VERSION&&o?this.createKeySessions_():this.playlistController_.sourceUpdater_.initializedEme()}setupQualityLevels_(){const t=ui.players[this.tech_.options_.playerId];!t||!t.qualityLevels||this.qualityLevels_||(this.qualityLevels_=t.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{!function(c,t){t.representations().forEach(o=>{c.addQualityLevel(o)}),_g(c,t.playlists)}(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{_g(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":"3.0.2","mux.js":"6.3.0","mpd-parser":"1.0.1","m3u8-parser":"6.0.0","aes-decrypter":"4.0.1"}}version(){return this.constructor.version()}canChangeType(){return Cv.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(t){this.playlistController_.setCurrentTime(t)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&window.URL.revokeObjectURL&&(window.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(t,o){return av({playlist:this.playlistController_.media(),time:t,callback:o})}seekToProgramTime(t,o,h=!0,y=2){return eg({programTime:t,playlist:this.playlistController_.media(),retryCount:y,pauseAfterSeek:h,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:o})}}const k_={name:"videojs-http-streaming",VERSION:"3.0.2",canHandleSource(c,t={}){const o=ua(ui.options,t);return k_.canPlayType(c.type,o)},handleSource(c,t,o={}){const h=ua(ui.options,o);return t.vhs=new Ed(c,t,h),t.vhs.xhr=r0(),t.vhs.src(c.src,c.type),t.vhs},canPlayType(c,t){const o=ff(c);if(!o)return"";const h=k_.getOverrideNative(t);return!Pc.supportsTypeNatively(o)||h?"maybe":""},getOverrideNative(c={}){const{vhs:t={}}=c,o=!(ui.browser.IS_ANY_SAFARI||ui.browser.IS_IOS),{overrideNative:h=o}=t;return h}};return hf("avc1.4d400d,mp4a.40.2")&&ui.getTech("Html5").registerSourceHandler(k_,0),ui.VhsHandler=Ed,ui.VhsSourceHandler=k_,ui.Vhs=Pc,ui.use||ui.registerComponent("Vhs",Pc),ui.options.vhs=ui.options.vhs||{},(!ui.getPlugin||!ui.getPlugin("reloadSourceOnError"))&&ui.registerPlugin("reloadSourceOnError",function(c){T0(this,c)}),ui}()},477:()=>{},9969:(Jt,ke,E)=>{"use strict";E.d(ke,{FX:()=>fe,If:()=>p,K2:()=>ce,MA:()=>k,Os:()=>x,P:()=>H,hZ:()=>T,i0:()=>F,i7:()=>z,iF:()=>ne,kY:()=>O,kp:()=>m,sf:()=>ae,ui:()=>de,wk:()=>q});var p=function(Re){return Re[Re.State=0]="State",Re[Re.Transition=1]="Transition",Re[Re.Sequence=2]="Sequence",Re[Re.Group=3]="Group",Re[Re.Animate=4]="Animate",Re[Re.Keyframes=5]="Keyframes",Re[Re.Style=6]="Style",Re[Re.Trigger=7]="Trigger",Re[Re.Reference=8]="Reference",Re[Re.AnimateChild=9]="AnimateChild",Re[Re.AnimateRef=10]="AnimateRef",Re[Re.Query=11]="Query",Re[Re.Stagger=12]="Stagger",Re}(p||{});const m="*";function T(Re,_e){return{type:p.Trigger,name:Re,definitions:_e,options:{}}}function F(Re,_e=null){return{type:p.Animate,styles:_e,timings:Re}}function x(Re,_e=null){return{type:p.Group,steps:Re,options:_e}}function ce(Re,_e=null){return{type:p.Sequence,steps:Re,options:_e}}function ne(Re){return{type:p.Style,styles:Re,offset:null}}function q(Re,_e,Xe){return{type:p.State,name:Re,styles:_e,options:Xe}}function z(Re){return{type:p.Keyframes,steps:Re}}function O(Re,_e,Xe=null){return{type:p.Transition,expr:Re,animation:_e,options:Xe}}function k(Re=null){return{type:p.AnimateChild,options:Re}}function H(Re,_e,Xe=null){return{type:p.Query,selector:Re,animation:_e,options:Xe}}class ae{constructor(_e=0,Xe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_e+Xe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}onStart(_e){this._originalOnStartFns.push(_e),this._onStartFns.push(_e)}onDone(_e){this._originalOnDoneFns.push(_e),this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_e=>_e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_e){this._position=this.totalTime?_e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_e){const Xe="start"==_e?this._onStartFns:this._onDoneFns;Xe.forEach(Ye=>Ye()),Xe.length=0}}class de{constructor(_e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_e;let Xe=0,Ye=0,Ot=0;const un=this.players.length;0==un?queueMicrotask(()=>this._onFinish()):this.players.forEach(Cn=>{Cn.onDone(()=>{++Xe==un&&this._onFinish()}),Cn.onDestroy(()=>{++Ye==un&&this._onDestroy()}),Cn.onStart(()=>{++Ot==un&&this._onStart()})}),this.totalTime=this.players.reduce((Cn,An)=>Math.max(Cn,An.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}init(){this.players.forEach(_e=>_e.init())}onStart(_e){this._onStartFns.push(_e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_e=>_e()),this._onStartFns=[])}onDone(_e){this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_e=>_e.play())}pause(){this.players.forEach(_e=>_e.pause())}restart(){this.players.forEach(_e=>_e.restart())}finish(){this._onFinish(),this.players.forEach(_e=>_e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_e=>_e.destroy()),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this.players.forEach(_e=>_e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_e){const Xe=_e*this.totalTime;this.players.forEach(Ye=>{const Ot=Ye.totalTime?Math.min(1,Xe/Ye.totalTime):1;Ye.setPosition(Ot)})}getPosition(){const _e=this.players.reduce((Xe,Ye)=>null===Xe||Ye.totalTime>Xe.totalTime?Ye:Xe,null);return null!=_e?_e.getPosition():0}beforeDestroy(){this.players.forEach(_e=>{_e.beforeDestroy&&_e.beforeDestroy()})}triggerCallback(_e){const Xe="start"==_e?this._onStartFns:this._onDoneFns;Xe.forEach(Ye=>Ye()),Xe.length=0}}const fe="!"},2223:(Jt,ke,E)=>{"use strict";E.d(ke,{Ai:()=>yi,Au:()=>Ot,Bu:()=>un,FN:()=>Si,GX:()=>it,Pd:()=>On,Q_:()=>Dn,Z7:()=>An,_G:()=>Ci,kB:()=>dt,vR:()=>Ar,w6:()=>qt});var p=E(177),m=E(4438),T=E(8238),F=E(1413),x=E(8359),ce=E(4412),ne=E(7673),q=E(8854),z=E(8141),O=E(152),I=E(5964),k=E(6354),A=E(6697),H=E(5245),Q=E(3294),ee=E(6977),be=E(8363),me=E(7948);class Ye{constructor(Pt){this._items=Pt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new F.B,this._typeaheadSubscription=x.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Vt=>Vt.disabled,this._pressedLetters=[],this.tabOut=new F.B,this.change=new F.B,Pt instanceof m.rOR&&Pt.changes.subscribe(Vt=>{if(this._activeItem){const Ht=Vt.toArray().indexOf(this._activeItem);Ht>-1&&Ht!==this._activeItemIndex&&(this._activeItemIndex=Ht)}})}skipPredicate(Pt){return this._skipPredicateFn=Pt,this}withWrap(Pt=!0){return this._wrap=Pt,this}withVerticalOrientation(Pt=!0){return this._vertical=Pt,this}withHorizontalOrientation(Pt){return this._horizontal=Pt,this}withAllowedModifierKeys(Pt){return this._allowedModifierKeys=Pt,this}withTypeAhead(Pt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,z.M)(Vt=>this._pressedLetters.push(Vt)),(0,O.B)(Pt),(0,I.p)(()=>this._pressedLetters.length>0),(0,k.T)(()=>this._pressedLetters.join(""))).subscribe(Vt=>{const yt=this._getItemsArray();for(let Ht=1;Ht<yt.length+1;Ht++){const ft=(this._activeItemIndex+Ht)%yt.length,wt=yt[ft];if(!this._skipPredicateFn(wt)&&0===wt.getLabel().toUpperCase().trim().indexOf(Vt)){this.setActiveItem(ft);break}}this._pressedLetters=[]}),this}withHomeAndEnd(Pt=!0){return this._homeAndEnd=Pt,this}setActiveItem(Pt){const Vt=this._activeItem;this.updateActiveItem(Pt),this._activeItem!==Vt&&this.change.next(this._activeItemIndex)}onKeydown(Pt){const Vt=Pt.keyCode,Ht=["altKey","ctrlKey","metaKey","shiftKey"].every(ft=>!Pt[ft]||this._allowedModifierKeys.indexOf(ft)>-1);switch(Vt){case q.wn:return void this.tabOut.next();case q.n6:if(this._vertical&&Ht){this.setNextItemActive();break}return;case q.i7:if(this._vertical&&Ht){this.setPreviousItemActive();break}return;case q.LE:if(this._horizontal&&Ht){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case q.UQ:if(this._horizontal&&Ht){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case q.yZ:if(this._homeAndEnd&&Ht){this.setFirstItemActive();break}return;case q.Kp:if(this._homeAndEnd&&Ht){this.setLastItemActive();break}return;default:return void((Ht||(0,q.rp)(Pt,"shiftKey"))&&(Pt.key&&1===Pt.key.length?this._letterKeyStream.next(Pt.key.toLocaleUpperCase()):(Vt>=q.A&&Vt<=q.Z||Vt>=q.f2&&Vt<=q.bn)&&this._letterKeyStream.next(String.fromCharCode(Vt))))}this._pressedLetters=[],Pt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Pt){const Vt=this._getItemsArray(),yt="number"==typeof Pt?Pt:Vt.indexOf(Pt);this._activeItem=Vt[yt]??null,this._activeItemIndex=yt}_setActiveItemByDelta(Pt){this._wrap?this._setActiveInWrapMode(Pt):this._setActiveInDefaultMode(Pt)}_setActiveInWrapMode(Pt){const Vt=this._getItemsArray();for(let yt=1;yt<=Vt.length;yt++){const Ht=(this._activeItemIndex+Pt*yt+Vt.length)%Vt.length;if(!this._skipPredicateFn(Vt[Ht]))return void this.setActiveItem(Ht)}}_setActiveInDefaultMode(Pt){this._setActiveItemByIndex(this._activeItemIndex+Pt,Pt)}_setActiveItemByIndex(Pt,Vt){const yt=this._getItemsArray();if(yt[Pt]){for(;this._skipPredicateFn(yt[Pt]);)if(!yt[Pt+=Vt])return;this.setActiveItem(Pt)}}_getItemsArray(){return this._items instanceof m.rOR?this._items.toArray():this._items}}class Ot extends Ye{setActiveItem(Pt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Pt),this.activeItem&&this.activeItem.setActiveStyles()}}class un extends Ye{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Pt){return this._origin=Pt,this}setActiveItem(Pt){super.setActiveItem(Pt),this.activeItem&&this.activeItem.focus(this._origin)}}let An=(()=>{class bt{constructor(Vt){this._platform=Vt}isDisabled(Vt){return Vt.hasAttribute("disabled")}isVisible(Vt){return function Et(bt){return!!(bt.offsetWidth||bt.offsetHeight||"function"==typeof bt.getClientRects&&bt.getClientRects().length)}(Vt)&&"visible"===getComputedStyle(Vt).visibility}isTabbable(Vt){if(!this._platform.isBrowser)return!1;const yt=function Nn(bt){try{return bt.frameElement}catch{return null}}(function Lt(bt){return bt.ownerDocument&&bt.ownerDocument.defaultView||window}(Vt));if(yt&&(-1===ge(yt)||!this.isVisible(yt)))return!1;let Ht=Vt.nodeName.toLowerCase(),ft=ge(Vt);return Vt.hasAttribute("contenteditable")?-1!==ft:!("iframe"===Ht||"object"===Ht||this._platform.WEBKIT&&this._platform.IOS&&!function mt(bt){let Pt=bt.nodeName.toLowerCase(),Vt="input"===Pt&&bt.type;return"text"===Vt||"password"===Vt||"select"===Pt||"textarea"===Pt}(Vt))&&("audio"===Ht?!!Vt.hasAttribute("controls")&&-1!==ft:"video"===Ht?-1!==ft&&(null!==ft||this._platform.FIREFOX||Vt.hasAttribute("controls")):Vt.tabIndex>=0)}isFocusable(Vt,yt){return function Ft(bt){return!function jt(bt){return function en(bt){return"input"==bt.nodeName.toLowerCase()}(bt)&&"hidden"==bt.type}(bt)&&(function Rt(bt){let Pt=bt.nodeName.toLowerCase();return"input"===Pt||"select"===Pt||"button"===Pt||"textarea"===Pt}(bt)||function Dt(bt){return function qe(bt){return"a"==bt.nodeName.toLowerCase()}(bt)&&bt.hasAttribute("href")}(bt)||bt.hasAttribute("contenteditable")||We(bt))}(Vt)&&!this.isDisabled(Vt)&&(yt?.ignoreVisibility||this.isVisible(Vt))}}return bt.\u0275fac=function(Vt){return new(Vt||bt)(m.KVO(T.OD))},bt.\u0275prov=m.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"}),bt})();function We(bt){if(!bt.hasAttribute("tabindex")||void 0===bt.tabIndex)return!1;let Pt=bt.getAttribute("tabindex");return!(!Pt||isNaN(parseInt(Pt,10)))}function ge(bt){if(!We(bt))return null;const Pt=parseInt(bt.getAttribute("tabindex")||"",10);return isNaN(Pt)?-1:Pt}class bn{constructor(Pt,Vt,yt,Ht,ft=!1){this._element=Pt,this._checker=Vt,this._ngZone=yt,this._document=Ht,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,ft||this.attachAnchors()}get enabled(){return this._enabled}set enabled(Pt){this._enabled=Pt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Pt,this._startAnchor),this._toggleAnchorTabIndex(Pt,this._endAnchor))}destroy(){const Pt=this._startAnchor,Vt=this._endAnchor;Pt&&(Pt.removeEventListener("focus",this.startAnchorListener),Pt.remove()),Vt&&(Vt.removeEventListener("focus",this.endAnchorListener),Vt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Pt){return new Promise(Vt=>{this._executeOnStable(()=>Vt(this.focusInitialElement(Pt)))})}focusFirstTabbableElementWhenReady(Pt){return new Promise(Vt=>{this._executeOnStable(()=>Vt(this.focusFirstTabbableElement(Pt)))})}focusLastTabbableElementWhenReady(Pt){return new Promise(Vt=>{this._executeOnStable(()=>Vt(this.focusLastTabbableElement(Pt)))})}_getRegionBoundary(Pt){const Vt=this._element.querySelectorAll(`[cdk-focus-region-${Pt}], [cdkFocusRegion${Pt}], [cdk-focus-${Pt}]`);return"start"==Pt?Vt.length?Vt[0]:this._getFirstTabbableElement(this._element):Vt.length?Vt[Vt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Pt){const Vt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Vt){if(!this._checker.isFocusable(Vt)){const yt=this._getFirstTabbableElement(Vt);return yt?.focus(Pt),!!yt}return Vt.focus(Pt),!0}return this.focusFirstTabbableElement(Pt)}focusFirstTabbableElement(Pt){const Vt=this._getRegionBoundary("start");return Vt&&Vt.focus(Pt),!!Vt}focusLastTabbableElement(Pt){const Vt=this._getRegionBoundary("end");return Vt&&Vt.focus(Pt),!!Vt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Pt){if(this._checker.isFocusable(Pt)&&this._checker.isTabbable(Pt))return Pt;const Vt=Pt.children;for(let yt=0;yt<Vt.length;yt++){const Ht=Vt[yt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Vt[yt]):null;if(Ht)return Ht}return null}_getLastTabbableElement(Pt){if(this._checker.isFocusable(Pt)&&this._checker.isTabbable(Pt))return Pt;const Vt=Pt.children;for(let yt=Vt.length-1;yt>=0;yt--){const Ht=Vt[yt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Vt[yt]):null;if(Ht)return Ht}return null}_createAnchor(){const Pt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Pt),Pt.classList.add("cdk-visually-hidden"),Pt.classList.add("cdk-focus-trap-anchor"),Pt.setAttribute("aria-hidden","true"),Pt}_toggleAnchorTabIndex(Pt,Vt){Pt?Vt.setAttribute("tabindex","0"):Vt.removeAttribute("tabindex")}toggleAnchors(Pt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Pt,this._startAnchor),this._toggleAnchorTabIndex(Pt,this._endAnchor))}_executeOnStable(Pt){this._ngZone.isStable?Pt():this._ngZone.onStable.pipe((0,A.s)(1)).subscribe(Pt)}}let it=(()=>{class bt{constructor(Vt,yt,Ht){this._checker=Vt,this._ngZone=yt,this._document=Ht}create(Vt,yt=!1){return new bn(Vt,this._checker,this._ngZone,this._document,yt)}}return bt.\u0275fac=function(Vt){return new(Vt||bt)(m.KVO(An),m.KVO(m.SKi),m.KVO(p.qQ))},bt.\u0275prov=m.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"}),bt})(),dt=(()=>{class bt{constructor(Vt,yt,Ht){this._elementRef=Vt,this._focusTrapFactory=yt,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(Vt){this.focusTrap.enabled=(0,be.he)(Vt)}get autoCapture(){return this._autoCapture}set autoCapture(Vt){this._autoCapture=(0,be.he)(Vt)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Vt){const yt=Vt.autoCapture;yt&&!yt.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,T.vc)(),this.focusTrap.focusInitialElementWhenReady()}}return bt.\u0275fac=function(Vt){return new(Vt||bt)(m.rXU(m.aKT),m.rXU(it),m.rXU(p.qQ))},bt.\u0275dir=m.FsC({type:bt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[m.Mj6.None,"cdkTrapFocus","enabled"],autoCapture:[m.Mj6.None,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[m.OA$]}),bt})();function Ci(bt){return 0===bt.buttons||0===bt.offsetX&&0===bt.offsetY}function qt(bt){const Pt=bt.touches&&bt.touches[0]||bt.changedTouches&&bt.changedTouches[0];return!(!Pt||-1!==Pt.identifier||null!=Pt.radiusX&&1!==Pt.radiusX||null!=Pt.radiusY&&1!==Pt.radiusY)}const Ie=new m.nKC("cdk-input-modality-detector-options"),Te={ignoreKeys:[q.A$,q.W3,q.eg,q.Ge,q.FX]},kt=(0,T.BQ)({passive:!0,capture:!0});let Gt=(()=>{class bt{constructor(Vt,yt,Ht,ft){this._platform=Vt,this._mostRecentTarget=null,this._modality=new ce.t(null),this._lastTouchMs=0,this._onKeydown=wt=>{this._options?.ignoreKeys?.some(ze=>ze===wt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,T.Fb)(wt))},this._onMousedown=wt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ci(wt)?"keyboard":"mouse"),this._mostRecentTarget=(0,T.Fb)(wt))},this._onTouchstart=wt=>{qt(wt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,T.Fb)(wt))},this._options={...Te,...ft},this.modalityDetected=this._modality.pipe((0,H.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Q.F)()),Vt.isBrowser&&yt.runOutsideAngular(()=>{Ht.addEventListener("keydown",this._onKeydown,kt),Ht.addEventListener("mousedown",this._onMousedown,kt),Ht.addEventListener("touchstart",this._onTouchstart,kt)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,kt),document.removeEventListener("mousedown",this._onMousedown,kt),document.removeEventListener("touchstart",this._onTouchstart,kt))}}return bt.\u0275fac=function(Vt){return new(Vt||bt)(m.KVO(T.OD),m.KVO(m.SKi),m.KVO(p.qQ),m.KVO(Ie,8))},bt.\u0275prov=m.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"}),bt})();const En=new m.nKC("liveAnnouncerElement",{providedIn:"root",factory:function Yn(){return null}}),Mi=new m.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let yi=(()=>{class bt{constructor(Vt,yt,Ht,ft){this._ngZone=yt,this._defaultOptions=ft,this._document=Ht,this._liveElement=Vt||this._createLiveElement()}announce(Vt,...yt){const Ht=this._defaultOptions;let ft,wt;return 1===yt.length&&"number"==typeof yt[0]?wt=yt[0]:[ft,wt]=yt,this.clear(),clearTimeout(this._previousTimeout),ft||(ft=Ht&&Ht.politeness?Ht.politeness:"polite"),null==wt&&Ht&&(wt=Ht.duration),this._liveElement.setAttribute("aria-live",ft),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(ze=>this._currentResolve=ze)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Vt,"number"==typeof wt&&(this._previousTimeout=setTimeout(()=>this.clear(),wt)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Vt="cdk-live-announcer-element",yt=this._document.getElementsByClassName(Vt),Ht=this._document.createElement("div");for(let ft=0;ft<yt.length;ft++)yt[ft].remove();return Ht.classList.add(Vt),Ht.classList.add("cdk-visually-hidden"),Ht.setAttribute("aria-atomic","true"),Ht.setAttribute("aria-live","polite"),this._document.body.appendChild(Ht),Ht}}return bt.\u0275fac=function(Vt){return new(Vt||bt)(m.KVO(En,8),m.KVO(m.SKi),m.KVO(p.qQ),m.KVO(Mi,8))},bt.\u0275prov=m.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"}),bt})();const rr=new m.nKC("cdk-focus-monitor-default-options"),br=(0,T.BQ)({passive:!0,capture:!0});let Si=(()=>{class bt{constructor(Vt,yt,Ht,ft,wt){this._ngZone=Vt,this._platform=yt,this._inputModalityDetector=Ht,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new F.B,this._rootNodeFocusAndBlurListener=ze=>{const st=(0,T.Fb)(ze),V="focus"===ze.type?this._onFocus:this._onBlur;for(let G=st;G;G=G.parentElement)V.call(this,ze,G)},this._document=ft,this._detectionMode=wt?.detectionMode||0}monitor(Vt,yt=!1){const Ht=(0,be.i8)(Vt);if(!this._platform.isBrowser||1!==Ht.nodeType)return(0,ne.of)(null);const ft=(0,T.KT)(Ht)||this._getDocument(),wt=this._elementInfo.get(Ht);if(wt)return yt&&(wt.checkChildren=!0),wt.subject;const ze={checkChildren:yt,subject:new F.B,rootNode:ft};return this._elementInfo.set(Ht,ze),this._registerGlobalListeners(ze),ze.subject}stopMonitoring(Vt){const yt=(0,be.i8)(Vt),Ht=this._elementInfo.get(yt);Ht&&(Ht.subject.complete(),this._setClasses(yt),this._elementInfo.delete(yt),this._removeGlobalListeners(Ht))}focusVia(Vt,yt,Ht){const ft=(0,be.i8)(Vt);ft===this._getDocument().activeElement?this._getClosestElementsInfo(ft).forEach(([ze,st])=>this._originChanged(ze,yt,st)):(this._setOrigin(yt),"function"==typeof ft.focus&&ft.focus(Ht))}ngOnDestroy(){this._elementInfo.forEach((Vt,yt)=>this.stopMonitoring(yt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Vt){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Vt)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(Vt){return 1===this._detectionMode||!!Vt?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Vt,yt){Vt.classList.toggle("cdk-focused",!!yt),Vt.classList.toggle("cdk-touch-focused","touch"===yt),Vt.classList.toggle("cdk-keyboard-focused","keyboard"===yt),Vt.classList.toggle("cdk-mouse-focused","mouse"===yt),Vt.classList.toggle("cdk-program-focused","program"===yt)}_setOrigin(Vt,yt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Vt,this._originFromTouchInteraction="touch"===Vt&&yt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Vt,yt){const Ht=this._elementInfo.get(yt),ft=(0,T.Fb)(Vt);!Ht||!Ht.checkChildren&&yt!==ft||this._originChanged(yt,this._getFocusOrigin(ft),Ht)}_onBlur(Vt,yt){const Ht=this._elementInfo.get(yt);!Ht||Ht.checkChildren&&Vt.relatedTarget instanceof Node&&yt.contains(Vt.relatedTarget)||(this._setClasses(yt),this._emitOrigin(Ht.subject,null))}_emitOrigin(Vt,yt){this._ngZone.run(()=>Vt.next(yt))}_registerGlobalListeners(Vt){if(!this._platform.isBrowser)return;const yt=Vt.rootNode,Ht=this._rootNodeFocusListenerCount.get(yt)||0;Ht||this._ngZone.runOutsideAngular(()=>{yt.addEventListener("focus",this._rootNodeFocusAndBlurListener,br),yt.addEventListener("blur",this._rootNodeFocusAndBlurListener,br)}),this._rootNodeFocusListenerCount.set(yt,Ht+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ee.Q)(this._stopInputModalityDetector)).subscribe(ft=>{this._setOrigin(ft,!0)}))}_removeGlobalListeners(Vt){const yt=Vt.rootNode;if(this._rootNodeFocusListenerCount.has(yt)){const Ht=this._rootNodeFocusListenerCount.get(yt);Ht>1?this._rootNodeFocusListenerCount.set(yt,Ht-1):(yt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,br),yt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,br),this._rootNodeFocusListenerCount.delete(yt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Vt,yt,Ht){this._setClasses(Vt,yt),this._emitOrigin(Ht.subject,yt),this._lastFocusOrigin=yt}_getClosestElementsInfo(Vt){const yt=[];return this._elementInfo.forEach((Ht,ft)=>{(ft===Vt||Ht.checkChildren&&ft.contains(Vt))&&yt.push([ft,Ht])}),yt}}return bt.\u0275fac=function(Vt){return new(Vt||bt)(m.KVO(m.SKi),m.KVO(T.OD),m.KVO(Gt),m.KVO(p.qQ,8),m.KVO(rr,8))},bt.\u0275prov=m.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"}),bt})(),Ar=(()=>{class bt{constructor(Vt,yt){this._elementRef=Vt,this._focusMonitor=yt,this.cdkFocusChange=new m.bkB}ngAfterViewInit(){const Vt=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Vt,1===Vt.nodeType&&Vt.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(yt=>this.cdkFocusChange.emit(yt))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return bt.\u0275fac=function(Vt){return new(Vt||bt)(m.rXU(m.aKT),m.rXU(Si))},bt.\u0275dir=m.FsC({type:bt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),bt})();const $i="cdk-high-contrast-black-on-white",Gi="cdk-high-contrast-white-on-black",rs="cdk-high-contrast-active";let Dn=(()=>{class bt{constructor(Vt,yt){this._platform=Vt,this._document=yt}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Vt=this._document.createElement("div");Vt.style.backgroundColor="rgb(1,2,3)",Vt.style.position="absolute",this._document.body.appendChild(Vt);const yt=this._document.defaultView||window,Ht=yt&&yt.getComputedStyle?yt.getComputedStyle(Vt):null,ft=(Ht&&Ht.backgroundColor||"").replace(/ /g,"");switch(Vt.remove(),ft){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Vt=this._document.body.classList;Vt.remove(rs),Vt.remove($i),Vt.remove(Gi),this._hasCheckedHighContrastMode=!0;const yt=this.getHighContrastMode();1===yt?(Vt.add(rs),Vt.add($i)):2===yt&&(Vt.add(rs),Vt.add(Gi))}}}return bt.\u0275fac=function(Vt){return new(Vt||bt)(m.KVO(T.OD),m.KVO(p.qQ))},bt.\u0275prov=m.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"}),bt})(),On=(()=>{class bt{constructor(Vt){Vt._applyBodyHighContrastModeCssClasses()}}return bt.\u0275fac=function(Vt){return new(Vt||bt)(m.KVO(Dn))},bt.\u0275mod=m.$C({type:bt}),bt.\u0275inj=m.G2t({imports:[[me.w5]]}),bt})()},989:(Jt,ke,E)=>{"use strict";E.d(ke,{dS:()=>ne,jI:()=>z});var p=E(4438),m=E(177);const T=new p.nKC("cdk-dir-doc",{providedIn:"root",factory:function F(){return(0,p.WQX)(m.qQ)}}),x=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ne=(()=>{class O{constructor(k){this.value="ltr",this.change=new p.bkB,k&&(this.value=function ce(O){const I=O?.toLowerCase()||"";return"auto"===I&&typeof navigator<"u"&&navigator?.language?x.test(navigator.language)?"rtl":"ltr":"rtl"===I?"rtl":"ltr"}((k.body?k.body.dir:null)||(k.documentElement?k.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return O.\u0275fac=function(k){return new(k||O)(p.KVO(T,8))},O.\u0275prov=p.jDH({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),z=(()=>{class O{}return O.\u0275fac=function(k){return new(k||O)},O.\u0275mod=p.$C({type:O}),O.\u0275inj=p.G2t({}),O})()},8363:(Jt,ke,E)=>{"use strict";E.d(ke,{FG:()=>x,OE:()=>T,a1:()=>ce,cc:()=>q,he:()=>m,i8:()=>ne});var p=E(4438);function m(z){return null!=z&&"false"!=`${z}`}function T(z,O=0){return function F(z){return!isNaN(parseFloat(z))&&!isNaN(Number(z))}(z)?Number(z):O}function x(z){return Array.isArray(z)?z:[z]}function ce(z){return null==z?"":"string"==typeof z?z:`${z}px`}function ne(z){return z instanceof p.aKT?z.nativeElement:z}function q(z,O=/\s+/){const I=[];if(null!=z){const k=Array.isArray(z)?z:`${z}`.split(O);for(const A of k){const H=`${A}`.trim();H&&I.push(H)}}return I}},9482:(Jt,ke,E)=>{"use strict";E.d(ke,{CB:()=>O,zP:()=>k}),E(4402),E(7673);var T=E(1413),F=E(4438);class O{constructor(Q=!1,ee,be=!0){this._multiple=Q,this._emitChanges=be,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new T.B,ee&&ee.length&&(Q?ee.forEach(me=>this._markSelected(me)):this._markSelected(ee[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...Q){this._verifyValueAssignment(Q),Q.forEach(ee=>this._markSelected(ee)),this._emitChangeEvent()}deselect(...Q){this._verifyValueAssignment(Q),Q.forEach(ee=>this._unmarkSelected(ee)),this._emitChangeEvent()}toggle(Q){this.isSelected(Q)?this.deselect(Q):this.select(Q)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(Q){return this._selection.has(Q)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Q){this._multiple&&this.selected&&this._selected.sort(Q)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Q){this.isSelected(Q)||(this._multiple||this._unmarkAll(),this._selection.add(Q),this._emitChanges&&this._selectedToEmit.push(Q))}_unmarkSelected(Q){this.isSelected(Q)&&(this._selection.delete(Q),this._emitChanges&&this._deselectedToEmit.push(Q))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Q=>this._unmarkSelected(Q))}_verifyValueAssignment(Q){}}let k=(()=>{class H{constructor(){this._listeners=[]}notify(ee,be){for(let me of this._listeners)me(ee,be)}listen(ee){return this._listeners.push(ee),()=>{this._listeners=this._listeners.filter(be=>ee!==be)}}ngOnDestroy(){this._listeners=[]}}return H.\u0275fac=function(ee){return new(ee||H)},H.\u0275prov=F.jDH({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},8854:(Jt,ke,E)=>{"use strict";E.d(ke,{A:()=>Dt,A$:()=>q,FX:()=>ce,Fm:()=>x,Ge:()=>yi,Kp:()=>Q,LE:()=>Ne,UQ:()=>be,W3:()=>ne,Z:()=>Mi,_f:()=>I,bn:()=>An,dB:()=>H,eg:()=>Zr,f2:()=>de,i7:()=>me,n6:()=>Be,rp:()=>pi,t6:()=>k,w_:()=>A,wn:()=>T,yZ:()=>ee});const T=9,x=13,ce=16,ne=17,q=18,I=27,k=32,A=33,H=34,Q=35,ee=36,be=37,me=38,Ne=39,Be=40,de=48,An=57,Dt=65,Mi=90,yi=91,Zr=224;function pi(Or,...bo){return bo.length?bo.some(Xs=>Or[Xs]):Or.altKey||Or.shiftKey||Or.ctrlKey||Or.metaKey}},9185:(Jt,ke,E)=>{"use strict";E.d(ke,{QP:()=>Be,RH:()=>H,Rp:()=>Le});var p=E(4438),m=E(8363),T=E(1413),F=E(4572),x=E(8793),ce=E(1985),ne=E(6697),q=E(5245),z=E(152),O=E(6354),I=E(9172),k=E(6977),A=E(8238);let H=(()=>{class J{}return J.\u0275fac=function(de){return new(de||J)},J.\u0275mod=p.$C({type:J}),J.\u0275inj=p.G2t({}),J})();const Q=new Set;let ee,be=(()=>{class J{constructor(de){this._platform=de,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ne}matchMedia(de){return(this._platform.WEBKIT||this._platform.BLINK)&&function me(J){if(!Q.has(J))try{ee||(ee=document.createElement("style"),ee.setAttribute("type","text/css"),document.head.appendChild(ee)),ee.sheet&&(ee.sheet.insertRule(`@media ${J} {body{ }}`,0),Q.add(J))}catch(ae){console.error(ae)}}(de),this._matchMedia(de)}}return J.\u0275fac=function(de){return new(de||J)(p.KVO(A.OD))},J.\u0275prov=p.jDH({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();function Ne(J){return{matches:"all"===J||""===J,media:J,addListener:()=>{},removeListener:()=>{}}}let Be=(()=>{class J{constructor(de,fe){this._mediaMatcher=de,this._zone=fe,this._queries=new Map,this._destroySubject=new T.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(de){return Ve((0,m.FG)(de)).some(Re=>this._registerQuery(Re).mql.matches)}observe(de){const Re=Ve((0,m.FG)(de)).map(Xe=>this._registerQuery(Xe).observable);let _e=(0,F.z)(Re);return _e=(0,x.x)(_e.pipe((0,ne.s)(1)),_e.pipe((0,q.i)(1),(0,z.B)(0))),_e.pipe((0,O.T)(Xe=>{const Ye={matches:!1,breakpoints:{}};return Xe.forEach(({matches:Ot,query:un})=>{Ye.matches=Ye.matches||Ot,Ye.breakpoints[un]=Ot}),Ye}))}_registerQuery(de){if(this._queries.has(de))return this._queries.get(de);const fe=this._mediaMatcher.matchMedia(de),_e={observable:new ce.c(Xe=>{const Ye=Ot=>this._zone.run(()=>Xe.next(Ot));return fe.addListener(Ye),()=>{fe.removeListener(Ye)}}).pipe((0,I.Z)(fe),(0,O.T)(({matches:Xe})=>({query:de,matches:Xe})),(0,k.Q)(this._destroySubject)),mql:fe};return this._queries.set(de,_e),_e}}return J.\u0275fac=function(de){return new(de||J)(p.KVO(be),p.KVO(p.SKi))},J.\u0275prov=p.jDH({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();function Ve(J){return J.map(ae=>ae.split(",")).reduce((ae,de)=>ae.concat(de)).map(ae=>ae.trim())}const Le={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7948:(Jt,ke,E)=>{"use strict";E.d(ke,{Wv:()=>q,w5:()=>z});var p=E(8363),m=E(4438),T=E(1985),F=E(1413),x=E(152);let ce=(()=>{class O{create(k){return typeof MutationObserver>"u"?null:new MutationObserver(k)}}return O.\u0275fac=function(k){return new(k||O)},O.\u0275prov=m.jDH({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),ne=(()=>{class O{constructor(k){this._mutationObserverFactory=k,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((k,A)=>this._cleanupObserver(A))}observe(k){const A=(0,p.i8)(k);return new T.c(H=>{const ee=this._observeElement(A).subscribe(H);return()=>{ee.unsubscribe(),this._unobserveElement(A)}})}_observeElement(k){if(this._observedElements.has(k))this._observedElements.get(k).count++;else{const A=new F.B,H=this._mutationObserverFactory.create(Q=>A.next(Q));H&&H.observe(k,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(k,{observer:H,stream:A,count:1})}return this._observedElements.get(k).stream}_unobserveElement(k){this._observedElements.has(k)&&(this._observedElements.get(k).count--,this._observedElements.get(k).count||this._cleanupObserver(k))}_cleanupObserver(k){if(this._observedElements.has(k)){const{observer:A,stream:H}=this._observedElements.get(k);A&&A.disconnect(),H.complete(),this._observedElements.delete(k)}}}return O.\u0275fac=function(k){return new(k||O)(m.KVO(ce))},O.\u0275prov=m.jDH({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),q=(()=>{class O{constructor(k,A,H){this._contentObserver=k,this._elementRef=A,this._ngZone=H,this.event=new m.bkB,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(k){this._disabled=(0,p.he)(k),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(k){this._debounce=(0,p.OE)(k),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const k=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?k.pipe((0,x.B)(this.debounce)):k).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return O.\u0275fac=function(k){return new(k||O)(m.rXU(ne),m.rXU(m.aKT),m.rXU(m.SKi))},O.\u0275dir=m.FsC({type:O,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[m.Mj6.None,"cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),O})(),z=(()=>{class O{}return O.\u0275fac=function(k){return new(k||O)},O.\u0275mod=m.$C({type:O}),O.\u0275inj=m.G2t({providers:[ce]}),O})()},4531:(Jt,ke,E)=>{"use strict";E.d(ke,{WB:()=>Pn,$Q:()=>$t,rW:()=>Dt,hJ:()=>bn,rR:()=>fe,Sf:()=>Nn,z_:()=>hi});var p=E(7266),m=E(177),T=E(4438),F=E(8363),x=E(8238),ce=E(989),ne=E(6961),q=E(1413),z=E(8359),O=E(7786),I=E(6697),k=E(6977),A=E(9974),H=E(4360),ee=E(8854);const be=(0,x.CZ)();class me{constructor(Ie,Te){this._viewportRuler=Ie,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Te}attach(){}enable(){if(this._canBeEnabled()){const Ie=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Ie.style.left||"",this._previousHTMLStyles.top=Ie.style.top||"",Ie.style.left=(0,F.a1)(-this._previousScrollPosition.left),Ie.style.top=(0,F.a1)(-this._previousScrollPosition.top),Ie.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Ie=this._document.documentElement,Ge=Ie.style,kt=this._document.body.style,Gt=Ge.scrollBehavior||"",En=kt.scrollBehavior||"";this._isEnabled=!1,Ge.left=this._previousHTMLStyles.left,Ge.top=this._previousHTMLStyles.top,Ie.classList.remove("cdk-global-scrollblock"),be&&(Ge.scrollBehavior=kt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),be&&(Ge.scrollBehavior=Gt,kt.scrollBehavior=En)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Te=this._document.body,Ge=this._viewportRuler.getViewportSize();return Te.scrollHeight>Ge.height||Te.scrollWidth>Ge.width}}class Be{constructor(Ie,Te,Ge,kt){this._scrollDispatcher=Ie,this._ngZone=Te,this._viewportRuler=Ge,this._config=kt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Ie){this._overlayRef=Ie}enable(){if(this._scrollSubscription)return;const Ie=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Ie.subscribe(()=>{const Te=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Te-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Ie.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ve{enable(){}disable(){}attach(){}}function Le(qt,Ie){return Ie.some(Te=>qt.bottom<Te.top||qt.top>Te.bottom||qt.right<Te.left||qt.left>Te.right)}function J(qt,Ie){return Ie.some(Te=>qt.top<Te.top||qt.bottom>Te.bottom||qt.left<Te.left||qt.right>Te.right)}class ae{constructor(Ie,Te,Ge,kt){this._scrollDispatcher=Ie,this._viewportRuler=Te,this._ngZone=Ge,this._config=kt,this._scrollSubscription=null}attach(Ie){this._overlayRef=Ie}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Te=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ge,height:kt}=this._viewportRuler.getViewportSize();Le(Te,[{width:Ge,height:kt,bottom:kt,right:Ge,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let de=(()=>{class qt{constructor(Te,Ge,kt,Gt){this._scrollDispatcher=Te,this._viewportRuler=Ge,this._ngZone=kt,this.noop=()=>new Ve,this.close=En=>new Be(this._scrollDispatcher,this._ngZone,this._viewportRuler,En),this.block=()=>new me(this._viewportRuler,this._document),this.reposition=En=>new ae(this._scrollDispatcher,this._viewportRuler,this._ngZone,En),this._document=Gt}}return qt.\u0275fac=function(Te){return new(Te||qt)(T.KVO(p.R),T.KVO(p.Xj),T.KVO(T.SKi),T.KVO(m.qQ))},qt.\u0275prov=T.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})();class fe{constructor(Ie){if(this.scrollStrategy=new Ve,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Ie){const Te=Object.keys(Ie);for(const Ge of Te)void 0!==Ie[Ge]&&(this[Ge]=Ie[Ge])}}}class Xe{constructor(Ie,Te){this.connectionPair=Ie,this.scrollableViewProperties=Te}}let un=(()=>{class qt{constructor(Te){this._attachedOverlays=[],this._document=Te}ngOnDestroy(){this.detach()}add(Te){this.remove(Te),this._attachedOverlays.push(Te)}remove(Te){const Ge=this._attachedOverlays.indexOf(Te);Ge>-1&&this._attachedOverlays.splice(Ge,1),0===this._attachedOverlays.length&&this.detach()}}return qt.\u0275fac=function(Te){return new(Te||qt)(T.KVO(m.qQ))},qt.\u0275prov=T.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})(),Cn=(()=>{class qt extends un{constructor(Te,Ge){super(Te),this._ngZone=Ge,this._keydownListener=kt=>{const Gt=this._attachedOverlays;for(let En=Gt.length-1;En>-1;En--)if(Gt[En]._keydownEvents.observers.length>0){const Yn=Gt[En]._keydownEvents;this._ngZone?this._ngZone.run(()=>Yn.next(kt)):Yn.next(kt);break}}}add(Te){super.add(Te),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return qt.\u0275fac=function(Te){return new(Te||qt)(T.KVO(m.qQ),T.KVO(T.SKi,8))},qt.\u0275prov=T.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})(),An=(()=>{class qt extends un{constructor(Te,Ge,kt){super(Te),this._platform=Ge,this._ngZone=kt,this._cursorStyleIsSet=!1,this._pointerDownListener=Gt=>{this._pointerDownEventTarget=(0,x.Fb)(Gt)},this._clickListener=Gt=>{const En=(0,x.Fb)(Gt),Yn="click"===Gt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:En;this._pointerDownEventTarget=null;const Mi=this._attachedOverlays.slice();for(let yi=Mi.length-1;yi>-1;yi--){const bi=Mi[yi];if(bi._outsidePointerEvents.observers.length<1||!bi.hasAttached())continue;if(bi.overlayElement.contains(En)||bi.overlayElement.contains(Yn))break;const rr=bi._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>rr.next(Gt)):rr.next(Gt)}}}add(Te){if(super.add(Te),!this._isAttached){const Ge=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ge)):this._addEventListeners(Ge),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ge.style.cursor,Ge.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Te=this._document.body;Te.removeEventListener("pointerdown",this._pointerDownListener,!0),Te.removeEventListener("click",this._clickListener,!0),Te.removeEventListener("auxclick",this._clickListener,!0),Te.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Te.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Te){Te.addEventListener("pointerdown",this._pointerDownListener,!0),Te.addEventListener("click",this._clickListener,!0),Te.addEventListener("auxclick",this._clickListener,!0),Te.addEventListener("contextmenu",this._clickListener,!0)}}return qt.\u0275fac=function(Te){return new(Te||qt)(T.KVO(m.qQ),T.KVO(x.OD),T.KVO(T.SKi,8))},qt.\u0275prov=T.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})(),Nn=(()=>{class qt{constructor(Te,Ge){this._platform=Ge,this._document=Te}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Te="cdk-overlay-container";if(this._platform.isBrowser||(0,x.v8)()){const kt=this._document.querySelectorAll(`.${Te}[platform="server"], .${Te}[platform="test"]`);for(let Gt=0;Gt<kt.length;Gt++)kt[Gt].remove()}const Ge=this._document.createElement("div");Ge.classList.add(Te),(0,x.v8)()?Ge.setAttribute("platform","test"):this._platform.isBrowser||Ge.setAttribute("platform","server"),this._document.body.appendChild(Ge),this._containerElement=Ge}}return qt.\u0275fac=function(Te){return new(Te||qt)(T.KVO(m.qQ),T.KVO(x.OD))},qt.\u0275prov=T.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})();class Et{constructor(Ie,Te,Ge,kt,Gt,En,Yn,Mi,yi){this._portalOutlet=Ie,this._host=Te,this._pane=Ge,this._config=kt,this._ngZone=Gt,this._keyboardDispatcher=En,this._document=Yn,this._location=Mi,this._outsideClickDispatcher=yi,this._backdropElement=null,this._backdropClick=new q.B,this._attachments=new q.B,this._detachments=new q.B,this._locationChanges=z.yU.EMPTY,this._backdropClickHandler=bi=>this._backdropClick.next(bi),this._backdropTransitionendHandler=bi=>{this._disposeBackdrop(bi.target)},this._keydownEvents=new q.B,this._outsidePointerEvents=new q.B,kt.scrollStrategy&&(this._scrollStrategy=kt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=kt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Ie){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Te=this._portalOutlet.attach(Ie);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,I.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),Te}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Ie=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Ie}dispose(){const Ie=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Ie&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Ie){Ie!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Ie,this.hasAttached()&&(Ie.attach(this),this.updatePosition()))}updateSize(Ie){this._config={...this._config,...Ie},this._updateElementSize()}setDirection(Ie){this._config={...this._config,direction:Ie},this._updateElementDirection()}addPanelClass(Ie){this._pane&&this._toggleClasses(this._pane,Ie,!0)}removePanelClass(Ie){this._pane&&this._toggleClasses(this._pane,Ie,!1)}getDirection(){const Ie=this._config.direction;return Ie?"string"==typeof Ie?Ie:Ie.value:"ltr"}updateScrollStrategy(Ie){Ie!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Ie,this.hasAttached()&&(Ie.attach(this),Ie.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Ie=this._pane.style;Ie.width=(0,F.a1)(this._config.width),Ie.height=(0,F.a1)(this._config.height),Ie.minWidth=(0,F.a1)(this._config.minWidth),Ie.minHeight=(0,F.a1)(this._config.minHeight),Ie.maxWidth=(0,F.a1)(this._config.maxWidth),Ie.maxHeight=(0,F.a1)(this._config.maxHeight)}_togglePointerEvents(Ie){this._pane.style.pointerEvents=Ie?"":"none"}_attachBackdrop(){const Ie="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Ie)})}):this._backdropElement.classList.add(Ie)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Ie=this._backdropElement;Ie&&(Ie.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Ie.addEventListener("transitionend",this._backdropTransitionendHandler)}),Ie.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Ie)},500)))}_toggleClasses(Ie,Te,Ge){const kt=(0,F.FG)(Te||[]).filter(Gt=>!!Gt);kt.length&&(Ge?Ie.classList.add(...kt):Ie.classList.remove(...kt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Ie=this._ngZone.onStable.pipe((0,k.Q)((0,O.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Ie.unsubscribe())})})}_disposeScrollStrategy(){const Ie=this._scrollStrategy;Ie&&(Ie.disable(),Ie.detach&&Ie.detach())}_disposeBackdrop(Ie){Ie&&(Ie.removeEventListener("click",this._backdropClickHandler),Ie.removeEventListener("transitionend",this._backdropTransitionendHandler),Ie.remove(),this._backdropElement===Ie&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Rt="cdk-overlay-connected-position-bounding-box",jt=/([A-Za-z%]+)$/;class Dt{constructor(Ie,Te,Ge,kt,Gt){this._viewportRuler=Te,this._document=Ge,this._platform=kt,this._overlayContainer=Gt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new q.B,this._resizeSubscription=z.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Ie)}get positions(){return this._preferredPositions}attach(Ie){this._validatePositions(),Ie.hostElement.classList.add(Rt),this._overlayRef=Ie,this._boundingBox=Ie.hostElement,this._pane=Ie.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ie=this._originRect,Te=this._overlayRect,Ge=this._viewportRect,kt=this._containerRect,Gt=[];let En;for(let Yn of this._preferredPositions){let Mi=this._getOriginPoint(Ie,kt,Yn),yi=this._getOverlayPoint(Mi,Te,Yn),bi=this._getOverlayFit(yi,Te,Ge,Yn);if(bi.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Yn,Mi);this._canFitWithFlexibleDimensions(bi,yi,Ge)?Gt.push({position:Yn,origin:Mi,overlayRect:Te,boundingBoxRect:this._calculateBoundingBoxRect(Mi,Yn)}):(!En||En.overlayFit.visibleArea<bi.visibleArea)&&(En={overlayFit:bi,overlayPoint:yi,originPoint:Mi,position:Yn,overlayRect:Te})}if(Gt.length){let Yn=null,Mi=-1;for(const yi of Gt){const bi=yi.boundingBoxRect.width*yi.boundingBoxRect.height*(yi.position.weight||1);bi>Mi&&(Mi=bi,Yn=yi)}return this._isPushed=!1,void this._applyPosition(Yn.position,Yn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(En.position,En.originPoint);this._applyPosition(En.position,En.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&en(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Rt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Ie=this._lastPosition;if(Ie){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Te=this._getOriginPoint(this._originRect,this._containerRect,Ie);this._applyPosition(Ie,Te)}else this.apply()}withScrollableContainers(Ie){return this._scrollables=Ie,this}withPositions(Ie){return this._preferredPositions=Ie,-1===Ie.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Ie){return this._viewportMargin=Ie,this}withFlexibleDimensions(Ie=!0){return this._hasFlexibleDimensions=Ie,this}withGrowAfterOpen(Ie=!0){return this._growAfterOpen=Ie,this}withPush(Ie=!0){return this._canPush=Ie,this}withLockedPosition(Ie=!0){return this._positionLocked=Ie,this}setOrigin(Ie){return this._origin=Ie,this}withDefaultOffsetX(Ie){return this._offsetX=Ie,this}withDefaultOffsetY(Ie){return this._offsetY=Ie,this}withTransformOriginOn(Ie){return this._transformOriginSelector=Ie,this}_getOriginPoint(Ie,Te,Ge){let kt,Gt;if("center"==Ge.originX)kt=Ie.left+Ie.width/2;else{const En=this._isRtl()?Ie.right:Ie.left,Yn=this._isRtl()?Ie.left:Ie.right;kt="start"==Ge.originX?En:Yn}return Te.left<0&&(kt-=Te.left),Gt="center"==Ge.originY?Ie.top+Ie.height/2:"top"==Ge.originY?Ie.top:Ie.bottom,Te.top<0&&(Gt-=Te.top),{x:kt,y:Gt}}_getOverlayPoint(Ie,Te,Ge){let kt,Gt;return kt="center"==Ge.overlayX?-Te.width/2:"start"===Ge.overlayX?this._isRtl()?-Te.width:0:this._isRtl()?0:-Te.width,Gt="center"==Ge.overlayY?-Te.height/2:"top"==Ge.overlayY?0:-Te.height,{x:Ie.x+kt,y:Ie.y+Gt}}_getOverlayFit(Ie,Te,Ge,kt){const Gt=We(Te);let{x:En,y:Yn}=Ie,Mi=this._getOffset(kt,"x"),yi=this._getOffset(kt,"y");Mi&&(En+=Mi),yi&&(Yn+=yi);let br=0-Yn,Si=Yn+Gt.height-Ge.height,Ar=this._subtractOverflows(Gt.width,0-En,En+Gt.width-Ge.width),$i=this._subtractOverflows(Gt.height,br,Si),Gi=Ar*$i;return{visibleArea:Gi,isCompletelyWithinViewport:Gt.width*Gt.height===Gi,fitsInViewportVertically:$i===Gt.height,fitsInViewportHorizontally:Ar==Gt.width}}_canFitWithFlexibleDimensions(Ie,Te,Ge){if(this._hasFlexibleDimensions){const kt=Ge.bottom-Te.y,Gt=Ge.right-Te.x,En=qe(this._overlayRef.getConfig().minHeight),Yn=qe(this._overlayRef.getConfig().minWidth);return(Ie.fitsInViewportVertically||null!=En&&En<=kt)&&(Ie.fitsInViewportHorizontally||null!=Yn&&Yn<=Gt)}return!1}_pushOverlayOnScreen(Ie,Te,Ge){if(this._previousPushAmount&&this._positionLocked)return{x:Ie.x+this._previousPushAmount.x,y:Ie.y+this._previousPushAmount.y};const kt=We(Te),Gt=this._viewportRect,En=Math.max(Ie.x+kt.width-Gt.width,0),Yn=Math.max(Ie.y+kt.height-Gt.height,0),Mi=Math.max(Gt.top-Ge.top-Ie.y,0),yi=Math.max(Gt.left-Ge.left-Ie.x,0);let bi=0,rr=0;return bi=kt.width<=Gt.width?yi||-En:Ie.x<this._viewportMargin?Gt.left-Ge.left-Ie.x:0,rr=kt.height<=Gt.height?Mi||-Yn:Ie.y<this._viewportMargin?Gt.top-Ge.top-Ie.y:0,this._previousPushAmount={x:bi,y:rr},{x:Ie.x+bi,y:Ie.y+rr}}_applyPosition(Ie,Te){if(this._setTransformOrigin(Ie),this._setOverlayElementStyles(Te,Ie),this._setBoundingBoxStyles(Te,Ie),Ie.panelClass&&this._addPanelClasses(Ie.panelClass),this._lastPosition=Ie,this._positionChanges.observers.length){const Ge=this._getScrollVisibility(),kt=new Xe(Ie,Ge);this._positionChanges.next(kt)}this._isInitialRender=!1}_setTransformOrigin(Ie){if(!this._transformOriginSelector)return;const Te=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ge,kt=Ie.overlayY;Ge="center"===Ie.overlayX?"center":this._isRtl()?"start"===Ie.overlayX?"right":"left":"start"===Ie.overlayX?"left":"right";for(let Gt=0;Gt<Te.length;Gt++)Te[Gt].style.transformOrigin=`${Ge} ${kt}`}_calculateBoundingBoxRect(Ie,Te){const Ge=this._viewportRect,kt=this._isRtl();let Gt,En,Yn,bi,rr,br;if("top"===Te.overlayY)En=Ie.y,Gt=Ge.height-En+this._viewportMargin;else if("bottom"===Te.overlayY)Yn=Ge.height-Ie.y+2*this._viewportMargin,Gt=Ge.height-Yn+this._viewportMargin;else{const Si=Math.min(Ge.bottom-Ie.y+Ge.top,Ie.y),Ar=this._lastBoundingBoxSize.height;Gt=2*Si,En=Ie.y-Si,Gt>Ar&&!this._isInitialRender&&!this._growAfterOpen&&(En=Ie.y-Ar/2)}if("end"===Te.overlayX&&!kt||"start"===Te.overlayX&&kt)br=Ge.width-Ie.x+this._viewportMargin,bi=Ie.x-this._viewportMargin;else if("start"===Te.overlayX&&!kt||"end"===Te.overlayX&&kt)rr=Ie.x,bi=Ge.right-Ie.x;else{const Si=Math.min(Ge.right-Ie.x+Ge.left,Ie.x),Ar=this._lastBoundingBoxSize.width;bi=2*Si,rr=Ie.x-Si,bi>Ar&&!this._isInitialRender&&!this._growAfterOpen&&(rr=Ie.x-Ar/2)}return{top:En,left:rr,bottom:Yn,right:br,width:bi,height:Gt}}_setBoundingBoxStyles(Ie,Te){const Ge=this._calculateBoundingBoxRect(Ie,Te);!this._isInitialRender&&!this._growAfterOpen&&(Ge.height=Math.min(Ge.height,this._lastBoundingBoxSize.height),Ge.width=Math.min(Ge.width,this._lastBoundingBoxSize.width));const kt={};if(this._hasExactPosition())kt.top=kt.left="0",kt.bottom=kt.right=kt.maxHeight=kt.maxWidth="",kt.width=kt.height="100%";else{const Gt=this._overlayRef.getConfig().maxHeight,En=this._overlayRef.getConfig().maxWidth;kt.height=(0,F.a1)(Ge.height),kt.top=(0,F.a1)(Ge.top),kt.bottom=(0,F.a1)(Ge.bottom),kt.width=(0,F.a1)(Ge.width),kt.left=(0,F.a1)(Ge.left),kt.right=(0,F.a1)(Ge.right),kt.alignItems="center"===Te.overlayX?"center":"end"===Te.overlayX?"flex-end":"flex-start",kt.justifyContent="center"===Te.overlayY?"center":"bottom"===Te.overlayY?"flex-end":"flex-start",Gt&&(kt.maxHeight=(0,F.a1)(Gt)),En&&(kt.maxWidth=(0,F.a1)(En))}this._lastBoundingBoxSize=Ge,en(this._boundingBox.style,kt)}_resetBoundingBoxStyles(){en(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){en(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Ie,Te){const Ge={},kt=this._hasExactPosition(),Gt=this._hasFlexibleDimensions,En=this._overlayRef.getConfig();if(kt){const bi=this._viewportRuler.getViewportScrollPosition();en(Ge,this._getExactOverlayY(Te,Ie,bi)),en(Ge,this._getExactOverlayX(Te,Ie,bi))}else Ge.position="static";let Yn="",Mi=this._getOffset(Te,"x"),yi=this._getOffset(Te,"y");Mi&&(Yn+=`translateX(${Mi}px) `),yi&&(Yn+=`translateY(${yi}px)`),Ge.transform=Yn.trim(),En.maxHeight&&(kt?Ge.maxHeight=(0,F.a1)(En.maxHeight):Gt&&(Ge.maxHeight="")),En.maxWidth&&(kt?Ge.maxWidth=(0,F.a1)(En.maxWidth):Gt&&(Ge.maxWidth="")),en(this._pane.style,Ge)}_getExactOverlayY(Ie,Te,Ge){let kt={top:"",bottom:""},Gt=this._getOverlayPoint(Te,this._overlayRect,Ie);return this._isPushed&&(Gt=this._pushOverlayOnScreen(Gt,this._overlayRect,Ge)),"bottom"===Ie.overlayY?kt.bottom=this._document.documentElement.clientHeight-(Gt.y+this._overlayRect.height)+"px":kt.top=(0,F.a1)(Gt.y),kt}_getExactOverlayX(Ie,Te,Ge){let En,kt={left:"",right:""},Gt=this._getOverlayPoint(Te,this._overlayRect,Ie);return this._isPushed&&(Gt=this._pushOverlayOnScreen(Gt,this._overlayRect,Ge)),En=this._isRtl()?"end"===Ie.overlayX?"left":"right":"end"===Ie.overlayX?"right":"left","right"===En?kt.right=this._document.documentElement.clientWidth-(Gt.x+this._overlayRect.width)+"px":kt.left=(0,F.a1)(Gt.x),kt}_getScrollVisibility(){const Ie=this._getOriginRect(),Te=this._pane.getBoundingClientRect(),Ge=this._scrollables.map(kt=>kt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:J(Ie,Ge),isOriginOutsideView:Le(Ie,Ge),isOverlayClipped:J(Te,Ge),isOverlayOutsideView:Le(Te,Ge)}}_subtractOverflows(Ie,...Te){return Te.reduce((Ge,kt)=>Ge-Math.max(kt,0),Ie)}_getNarrowedViewportRect(){const Ie=this._document.documentElement.clientWidth,Te=this._document.documentElement.clientHeight,Ge=this._viewportRuler.getViewportScrollPosition();return{top:Ge.top+this._viewportMargin,left:Ge.left+this._viewportMargin,right:Ge.left+Ie-this._viewportMargin,bottom:Ge.top+Te-this._viewportMargin,width:Ie-2*this._viewportMargin,height:Te-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Ie,Te){return"x"===Te?null==Ie.offsetX?this._offsetX:Ie.offsetX:null==Ie.offsetY?this._offsetY:Ie.offsetY}_validatePositions(){}_addPanelClasses(Ie){this._pane&&(0,F.FG)(Ie).forEach(Te=>{""!==Te&&-1===this._appliedPanelClasses.indexOf(Te)&&(this._appliedPanelClasses.push(Te),this._pane.classList.add(Te))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Ie=>{this._pane.classList.remove(Ie)}),this._appliedPanelClasses=[])}_getOriginRect(){const Ie=this._origin;if(Ie instanceof T.aKT)return Ie.nativeElement.getBoundingClientRect();if(Ie instanceof Element)return Ie.getBoundingClientRect();const Te=Ie.width||0,Ge=Ie.height||0;return{top:Ie.y,bottom:Ie.y+Ge,left:Ie.x,right:Ie.x+Te,height:Ge,width:Te}}}function en(qt,Ie){for(let Te in Ie)Ie.hasOwnProperty(Te)&&(qt[Te]=Ie[Te]);return qt}function qe(qt){if("number"!=typeof qt&&null!=qt){const[Ie,Te]=qt.split(jt);return Te&&"px"!==Te?null:parseFloat(Ie)}return qt||null}function We(qt){return{top:Math.floor(qt.top),right:Math.floor(qt.right),bottom:Math.floor(qt.bottom),left:Math.floor(qt.left),width:Math.floor(qt.width),height:Math.floor(qt.height)}}const ge="cdk-global-overlay-wrapper";class mt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(Ie){const Te=Ie.getConfig();this._overlayRef=Ie,this._width&&!Te.width&&Ie.updateSize({width:this._width}),this._height&&!Te.height&&Ie.updateSize({height:this._height}),Ie.hostElement.classList.add(ge),this._isDisposed=!1}top(Ie=""){return this._bottomOffset="",this._topOffset=Ie,this._alignItems="flex-start",this}left(Ie=""){return this._rightOffset="",this._leftOffset=Ie,this._justifyContent="flex-start",this}bottom(Ie=""){return this._topOffset="",this._bottomOffset=Ie,this._alignItems="flex-end",this}right(Ie=""){return this._leftOffset="",this._rightOffset=Ie,this._justifyContent="flex-end",this}width(Ie=""){return this._overlayRef?this._overlayRef.updateSize({width:Ie}):this._width=Ie,this}height(Ie=""){return this._overlayRef?this._overlayRef.updateSize({height:Ie}):this._height=Ie,this}centerHorizontally(Ie=""){return this.left(Ie),this._justifyContent="center",this}centerVertically(Ie=""){return this.top(Ie),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Ie=this._overlayRef.overlayElement.style,Te=this._overlayRef.hostElement.style,Ge=this._overlayRef.getConfig(),{width:kt,height:Gt,maxWidth:En,maxHeight:Yn}=Ge,Mi=!("100%"!==kt&&"100vw"!==kt||En&&"100%"!==En&&"100vw"!==En),yi=!("100%"!==Gt&&"100vh"!==Gt||Yn&&"100%"!==Yn&&"100vh"!==Yn);Ie.position=this._cssPosition,Ie.marginLeft=Mi?"0":this._leftOffset,Ie.marginTop=yi?"0":this._topOffset,Ie.marginBottom=this._bottomOffset,Ie.marginRight=this._rightOffset,Mi?Te.justifyContent="flex-start":"center"===this._justifyContent?Te.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?Te.justifyContent="flex-end":"flex-end"===this._justifyContent&&(Te.justifyContent="flex-start"):Te.justifyContent=this._justifyContent,Te.alignItems=yi?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Ie=this._overlayRef.overlayElement.style,Te=this._overlayRef.hostElement,Ge=Te.style;Te.classList.remove(ge),Ge.justifyContent=Ge.alignItems=Ie.marginTop=Ie.marginBottom=Ie.marginLeft=Ie.marginRight=Ie.position="",this._overlayRef=null,this._isDisposed=!0}}let Ft=(()=>{class qt{constructor(Te,Ge,kt,Gt){this._viewportRuler=Te,this._document=Ge,this._platform=kt,this._overlayContainer=Gt}global(){return new mt}flexibleConnectedTo(Te){return new Dt(Te,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return qt.\u0275fac=function(Te){return new(Te||qt)(T.KVO(p.Xj),T.KVO(m.qQ),T.KVO(x.OD),T.KVO(Nn))},qt.\u0275prov=T.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})(),Lt=0,bn=(()=>{class qt{constructor(Te,Ge,kt,Gt,En,Yn,Mi,yi,bi,rr,br){this.scrollStrategies=Te,this._overlayContainer=Ge,this._componentFactoryResolver=kt,this._positionBuilder=Gt,this._keyboardDispatcher=En,this._injector=Yn,this._ngZone=Mi,this._document=yi,this._directionality=bi,this._location=rr,this._outsideClickDispatcher=br}create(Te){const Ge=this._createHostElement(),kt=this._createPaneElement(Ge),Gt=this._createPortalOutlet(kt),En=new fe(Te);return En.direction=En.direction||this._directionality.value,new Et(Gt,Ge,kt,En,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(Te){const Ge=this._document.createElement("div");return Ge.id="cdk-overlay-"+Lt++,Ge.classList.add("cdk-overlay-pane"),Te.appendChild(Ge),Ge}_createHostElement(){const Te=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Te),Te}_createPortalOutlet(Te){return this._appRef||(this._appRef=this._injector.get(T.o8S)),new ne.aI(Te,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return qt.\u0275fac=function(Te){return new(Te||qt)(T.KVO(de),T.KVO(Nn),T.KVO(T.OM3),T.KVO(Ft),T.KVO(Cn),T.KVO(T.zZn),T.KVO(T.SKi),T.KVO(m.qQ),T.KVO(ce.dS),T.KVO(m.aZ),T.KVO(An))},qt.\u0275prov=T.jDH({token:qt,factory:qt.\u0275fac}),qt})();const it=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],dt=new T.nKC("cdk-connected-overlay-scroll-strategy");let $t=(()=>{class qt{constructor(Te){this.elementRef=Te}}return qt.\u0275fac=function(Te){return new(Te||qt)(T.rXU(T.aKT))},qt.\u0275dir=T.FsC({type:qt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),qt})(),Pn=(()=>{class qt{constructor(Te,Ge,kt,Gt,En){this._overlay=Te,this._dir=En,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=z.yU.EMPTY,this._attachSubscription=z.yU.EMPTY,this._detachSubscription=z.yU.EMPTY,this._positionSubscription=z.yU.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new T.bkB,this.positionChange=new T.bkB,this.attach=new T.bkB,this.detach=new T.bkB,this.overlayKeydown=new T.bkB,this.overlayOutsideClick=new T.bkB,this._templatePortal=new ne.VA(Ge,kt),this._scrollStrategyFactory=Gt,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(Te){this._offsetX=Te,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Te){this._offsetY=Te,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Te){this._hasBackdrop=(0,F.he)(Te)}get lockPosition(){return this._lockPosition}set lockPosition(Te){this._lockPosition=(0,F.he)(Te)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Te){this._flexibleDimensions=(0,F.he)(Te)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Te){this._growAfterOpen=(0,F.he)(Te)}get push(){return this._push}set push(Te){this._push=(0,F.he)(Te)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Te){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Te.origin&&this.open&&this._position.apply()),Te.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=it);const Te=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Te.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Te.detachments().subscribe(()=>this.detach.emit()),Te.keydownEvents().subscribe(Ge=>{this.overlayKeydown.next(Ge),Ge.keyCode===ee._f&&!this.disableClose&&!(0,ee.rp)(Ge)&&(Ge.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Ge=>{this.overlayOutsideClick.next(Ge)})}_buildConfig(){const Te=this._position=this.positionStrategy||this._createPositionStrategy(),Ge=new fe({direction:this._dir,positionStrategy:Te,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Ge.width=this.width),(this.height||0===this.height)&&(Ge.height=this.height),(this.minWidth||0===this.minWidth)&&(Ge.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Ge.minHeight=this.minHeight),this.backdropClass&&(Ge.backdropClass=this.backdropClass),this.panelClass&&(Ge.panelClass=this.panelClass),Ge}_updatePositionStrategy(Te){const Ge=this.positions.map(kt=>({originX:kt.originX,originY:kt.originY,overlayX:kt.overlayX,overlayY:kt.overlayY,offsetX:kt.offsetX||this.offsetX,offsetY:kt.offsetY||this.offsetY,panelClass:kt.panelClass||void 0}));return Te.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Ge).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Te=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Te),Te}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof $t?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Te=>{this.backdropClick.emit(Te)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Q(qt,Ie=!1){return(0,A.N)((Te,Ge)=>{let kt=0;Te.subscribe((0,H._)(Ge,Gt=>{const En=qt(Gt,kt++);(En||Ie)&&Ge.next(Gt),!En&&Ge.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Te=>{this.positionChange.emit(Te),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return qt.\u0275fac=function(Te){return new(Te||qt)(T.rXU(bn),T.rXU(T.C4Q),T.rXU(T.c1b),T.rXU(dt),T.rXU(ce.dS,8))},qt.\u0275dir=T.FsC({type:qt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[T.Mj6.None,"cdkConnectedOverlayOrigin","origin"],positions:[T.Mj6.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[T.Mj6.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[T.Mj6.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[T.Mj6.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[T.Mj6.None,"cdkConnectedOverlayWidth","width"],height:[T.Mj6.None,"cdkConnectedOverlayHeight","height"],minWidth:[T.Mj6.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[T.Mj6.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[T.Mj6.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[T.Mj6.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[T.Mj6.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[T.Mj6.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[T.Mj6.None,"cdkConnectedOverlayOpen","open"],disableClose:[T.Mj6.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[T.Mj6.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[T.Mj6.None,"cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:[T.Mj6.None,"cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:[T.Mj6.None,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:[T.Mj6.None,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:[T.Mj6.None,"cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[T.OA$]}),qt})();const Pi={provide:dt,deps:[bn],useFactory:function qn(qt){return()=>qt.scrollStrategies.reposition()}};let hi=(()=>{class qt{}return qt.\u0275fac=function(Te){return new(Te||qt)},qt.\u0275mod=T.$C({type:qt}),qt.\u0275inj=T.G2t({providers:[bn,Pi],imports:[[ce.jI,ne.jc,p.E9],p.E9]}),qt})()},8238:(Jt,ke,E)=>{"use strict";E.d(ke,{BQ:()=>I,CZ:()=>H,Fb:()=>Be,KT:()=>me,MU:()=>q,OD:()=>F,v8:()=>Ve,vc:()=>Ne});var p=E(4438),m=E(177);let T;try{T=typeof Intl<"u"&&Intl.v8BreakIterator}catch{T=!1}let ce,F=(()=>{class Le{constructor(ae){this._platformId=ae,this.isBrowser=this._platformId?(0,m.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!T)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Le.\u0275fac=function(ae){return new(ae||Le)(p.KVO(p.Agw))},Le.\u0275prov=p.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();const ne=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function q(){if(ce)return ce;if("object"!=typeof document||!document)return ce=new Set(ne),ce;let Le=document.createElement("input");return ce=new Set(ne.filter(J=>(Le.setAttribute("type",J),Le.type===J))),ce}let z,A,ee;function I(Le){return function O(){if(null==z&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>z=!0}))}finally{z=z||!1}return z}()?Le:!!Le.capture}function H(){if(null==A){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return A=!1,A;if("scrollBehavior"in document.documentElement.style)A=!0;else{const Le=Element.prototype.scrollTo;A=!!Le&&!/\{\s*\[native code\]\s*\}/.test(Le.toString())}}return A}function me(Le){if(function be(){if(null==ee){const Le=typeof document<"u"?document.head:null;ee=!(!Le||!Le.createShadowRoot&&!Le.attachShadow)}return ee}()){const J=Le.getRootNode?Le.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&J instanceof ShadowRoot)return J}return null}function Ne(){let Le=typeof document<"u"&&document?document.activeElement:null;for(;Le&&Le.shadowRoot;){const J=Le.shadowRoot.activeElement;if(J===Le)break;Le=J}return Le}function Be(Le){return Le.composedPath?Le.composedPath()[0]:Le.target}function Ve(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6961:(Jt,ke,E)=>{"use strict";E.d(ke,{A8:()=>O,I3:()=>Ne,JP:()=>Le,VA:()=>I,aI:()=>Q,jc:()=>Ve,lb:()=>A});var p=E(4438),m=E(177);class z{attach(ae){return this._attachedHost=ae,ae.attach(this)}detach(){let ae=this._attachedHost;null!=ae&&(this._attachedHost=null,ae.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(ae){this._attachedHost=ae}}class O extends z{constructor(ae,de,fe,Re){super(),this.component=ae,this.viewContainerRef=de,this.injector=fe,this.componentFactoryResolver=Re}}class I extends z{constructor(ae,de,fe){super(),this.templateRef=ae,this.viewContainerRef=de,this.context=fe}get origin(){return this.templateRef.elementRef}attach(ae,de=this.context){return this.context=de,super.attach(ae)}detach(){return this.context=void 0,super.detach()}}class k extends z{constructor(ae){super(),this.element=ae instanceof p.aKT?ae.nativeElement:ae}}class A{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(ae){return ae instanceof O?(this._attachedPortal=ae,this.attachComponentPortal(ae)):ae instanceof I?(this._attachedPortal=ae,this.attachTemplatePortal(ae)):this.attachDomPortal&&ae instanceof k?(this._attachedPortal=ae,this.attachDomPortal(ae)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(ae){this._disposeFn=ae}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Q extends A{constructor(ae,de,fe,Re,_e){super(),this.outletElement=ae,this._componentFactoryResolver=de,this._appRef=fe,this._defaultInjector=Re,this.attachDomPortal=Xe=>{const Ye=Xe.element,Ot=this._document.createComment("dom-portal");Ye.parentNode.insertBefore(Ot,Ye),this.outletElement.appendChild(Ye),this._attachedPortal=Xe,super.setDisposeFn(()=>{Ot.parentNode&&Ot.parentNode.replaceChild(Ye,Ot)})},this._document=_e}attachComponentPortal(ae){const fe=(ae.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ae.component);let Re;return ae.viewContainerRef?(Re=ae.viewContainerRef.createComponent(fe,ae.viewContainerRef.length,ae.injector||ae.viewContainerRef.injector),this.setDisposeFn(()=>Re.destroy())):(Re=fe.create(ae.injector||this._defaultInjector||p.zZn.NULL),this._appRef.attachView(Re.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Re.hostView),Re.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Re)),this._attachedPortal=ae,Re}attachTemplatePortal(ae){let de=ae.viewContainerRef,fe=de.createEmbeddedView(ae.templateRef,ae.context);return fe.rootNodes.forEach(Re=>this.outletElement.appendChild(Re)),fe.detectChanges(),this.setDisposeFn(()=>{let Re=de.indexOf(fe);-1!==Re&&de.remove(Re)}),this._attachedPortal=ae,fe}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(ae){return ae.hostView.rootNodes[0]}}let Ne=(()=>{class J extends A{constructor(de,fe,Re){super(),this._componentFactoryResolver=de,this._viewContainerRef=fe,this._isInitialized=!1,this.attached=new p.bkB,this.attachDomPortal=_e=>{const Xe=_e.element,Ye=this._document.createComment("dom-portal");_e.setAttachedHost(this),Xe.parentNode.insertBefore(Ye,Xe),this._getRootNode().appendChild(Xe),this._attachedPortal=_e,super.setDisposeFn(()=>{Ye.parentNode&&Ye.parentNode.replaceChild(Xe,Ye)})},this._document=Re}get portal(){return this._attachedPortal}set portal(de){this.hasAttached()&&!de&&!this._isInitialized||(this.hasAttached()&&super.detach(),de&&super.attach(de),this._attachedPortal=de||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(de){de.setAttachedHost(this);const fe=null!=de.viewContainerRef?de.viewContainerRef:this._viewContainerRef,_e=(de.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(de.component),Xe=fe.createComponent(_e,fe.length,de.injector||fe.injector);return fe!==this._viewContainerRef&&this._getRootNode().appendChild(Xe.hostView.rootNodes[0]),super.setDisposeFn(()=>Xe.destroy()),this._attachedPortal=de,this._attachedRef=Xe,this.attached.emit(Xe),Xe}attachTemplatePortal(de){de.setAttachedHost(this);const fe=this._viewContainerRef.createEmbeddedView(de.templateRef,de.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=de,this._attachedRef=fe,this.attached.emit(fe),fe}_getRootNode(){const de=this._viewContainerRef.element.nativeElement;return de.nodeType===de.ELEMENT_NODE?de:de.parentNode}}return J.\u0275fac=function(de){return new(de||J)(p.rXU(p.OM3),p.rXU(p.c1b),p.rXU(m.qQ))},J.\u0275dir=p.FsC({type:J,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[p.Mj6.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[p.Vt3]}),J})(),Ve=(()=>{class J{}return J.\u0275fac=function(de){return new(de||J)},J.\u0275mod=p.$C({type:J}),J.\u0275inj=p.G2t({}),J})();class Le{constructor(ae,de){this._parentInjector=ae,this._customTokens=de}get(ae,de){const fe=this._customTokens.get(ae);return typeof fe<"u"?fe:this._parentInjector.get(ae,de)}}},7266:(Jt,ke,E)=>{"use strict";E.d(ke,{Gj:()=>Ci,R:()=>Lt,E9:()=>qt,Xj:()=>dt});var p=E(8363),m=E(4438),T=E(1413),F=E(7673),x=E(1985),ce=E(3726),ne=E(6780),q=E(8359);const z={schedule(Ie){let Te=requestAnimationFrame,Ge=cancelAnimationFrame;const{delegate:kt}=z;kt&&(Te=kt.requestAnimationFrame,Ge=kt.cancelAnimationFrame);const Gt=Te(En=>{Ge=void 0,Ie(En)});return new q.yU(()=>Ge?.(Gt))},requestAnimationFrame(...Ie){const{delegate:Te}=z;return(Te?.requestAnimationFrame||requestAnimationFrame)(...Ie)},cancelAnimationFrame(...Ie){const{delegate:Te}=z;return(Te?.cancelAnimationFrame||cancelAnimationFrame)(...Ie)},delegate:void 0};var I=E(9687);new class k extends I.q{flush(Te){this._active=!0;const Ge=this._scheduled;this._scheduled=void 0;const{actions:kt}=this;let Gt;Te=Te||kt.shift();do{if(Gt=Te.execute(Te.state,Te.delay))break}while((Te=kt[0])&&Te.id===Ge&&kt.shift());if(this._active=!1,Gt){for(;(Te=kt[0])&&Te.id===Ge&&kt.shift();)Te.unsubscribe();throw Gt}}}(class O extends ne.R{constructor(Te,Ge){super(Te,Ge),this.scheduler=Te,this.work=Ge}requestAsyncId(Te,Ge,kt=0){return null!==kt&&kt>0?super.requestAsyncId(Te,Ge,kt):(Te.actions.push(this),Te._scheduled||(Te._scheduled=z.requestAnimationFrame(()=>Te.flush(void 0))))}recycleAsyncId(Te,Ge,kt=0){var Gt;if(null!=kt?kt>0:this.delay>0)return super.recycleAsyncId(Te,Ge,kt);const{actions:En}=Te;null!=Ge&&(null===(Gt=En[En.length-1])||void 0===Gt?void 0:Gt.id)!==Ge&&(z.cancelAnimationFrame(Ge),Te._scheduled=void 0)}});let ee,Q=1;const be={};function me(Ie){return Ie in be&&(delete be[Ie],!0)}const Ne={setImmediate(Ie){const Te=Q++;return be[Te]=!0,ee||(ee=Promise.resolve()),ee.then(()=>me(Te)&&Ie()),Te},clearImmediate(Ie){me(Ie)}},{setImmediate:Ve,clearImmediate:Le}=Ne,J={setImmediate(...Ie){const{delegate:Te}=J;return(Te?.setImmediate||Ve)(...Ie)},clearImmediate(Ie){const{delegate:Te}=J;return(Te?.clearImmediate||Le)(Ie)},delegate:void 0};new class de extends I.q{flush(Te){this._active=!0;const Ge=this._scheduled;this._scheduled=void 0;const{actions:kt}=this;let Gt;Te=Te||kt.shift();do{if(Gt=Te.execute(Te.state,Te.delay))break}while((Te=kt[0])&&Te.id===Ge&&kt.shift());if(this._active=!1,Gt){for(;(Te=kt[0])&&Te.id===Ge&&kt.shift();)Te.unsubscribe();throw Gt}}}(class ae extends ne.R{constructor(Te,Ge){super(Te,Ge),this.scheduler=Te,this.work=Ge}requestAsyncId(Te,Ge,kt=0){return null!==kt&&kt>0?super.requestAsyncId(Te,Ge,kt):(Te.actions.push(this),Te._scheduled||(Te._scheduled=J.setImmediate(Te.flush.bind(Te,void 0))))}recycleAsyncId(Te,Ge,kt=0){var Gt;if(null!=kt?kt>0:this.delay>0)return super.recycleAsyncId(Te,Ge,kt);const{actions:En}=Te;null!=Ge&&(null===(Gt=En[En.length-1])||void 0===Gt?void 0:Gt.id)!==Ge&&(J.clearImmediate(Ge),Te._scheduled===Ge&&(Te._scheduled=void 0))}});var _e=E(3236),Xe=E(9974),Ye=E(8750),Ot=E(4360),Cn=E(1807);function An(Ie,Te=_e.E){return function un(Ie){return(0,Xe.N)((Te,Ge)=>{let kt=!1,Gt=null,En=null,Yn=!1;const Mi=()=>{if(En?.unsubscribe(),En=null,kt){kt=!1;const bi=Gt;Gt=null,Ge.next(bi)}Yn&&Ge.complete()},yi=()=>{En=null,Yn&&Ge.complete()};Te.subscribe((0,Ot._)(Ge,bi=>{kt=!0,Gt=bi,En||(0,Ye.Tg)(Ie(bi)).subscribe(En=(0,Ot._)(Ge,Mi,yi))},()=>{Yn=!0,(!kt||!En||En.closed)&&Ge.complete()}))})}(()=>(0,Cn.O)(Ie,Te))}var Nn=E(5964),Et=E(8238),Rt=E(177),jt=E(989);let Lt=(()=>{class Ie{constructor(Ge,kt,Gt){this._ngZone=Ge,this._platform=kt,this._scrolled=new T.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Gt}register(Ge){this.scrollContainers.has(Ge)||this.scrollContainers.set(Ge,Ge.elementScrolled().subscribe(()=>this._scrolled.next(Ge)))}deregister(Ge){const kt=this.scrollContainers.get(Ge);kt&&(kt.unsubscribe(),this.scrollContainers.delete(Ge))}scrolled(Ge=20){return this._platform.isBrowser?new x.c(kt=>{this._globalSubscription||this._addGlobalListener();const Gt=Ge>0?this._scrolled.pipe(An(Ge)).subscribe(kt):this._scrolled.subscribe(kt);return this._scrolledCount++,()=>{Gt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,F.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ge,kt)=>this.deregister(kt)),this._scrolled.complete()}ancestorScrolled(Ge,kt){const Gt=this.getAncestorScrollContainers(Ge);return this.scrolled(kt).pipe((0,Nn.p)(En=>!En||Gt.indexOf(En)>-1))}getAncestorScrollContainers(Ge){const kt=[];return this.scrollContainers.forEach((Gt,En)=>{this._scrollableContainsElement(En,Ge)&&kt.push(En)}),kt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ge,kt){let Gt=(0,p.i8)(kt),En=Ge.getElementRef().nativeElement;do{if(Gt==En)return!0}while(Gt=Gt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ge=this._getWindow();return(0,ce.R)(Ge.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Ie.\u0275fac=function(Ge){return new(Ge||Ie)(m.KVO(m.SKi),m.KVO(Et.OD),m.KVO(Rt.qQ,8))},Ie.\u0275prov=m.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})(),dt=(()=>{class Ie{constructor(Ge,kt,Gt){this._platform=Ge,this._change=new T.B,this._changeListener=En=>{this._change.next(En)},this._document=Gt,kt.runOutsideAngular(()=>{if(Ge.isBrowser){const En=this._getWindow();En.addEventListener("resize",this._changeListener),En.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ge=this._getWindow();Ge.removeEventListener("resize",this._changeListener),Ge.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ge={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ge}getViewportRect(){const Ge=this.getViewportScrollPosition(),{width:kt,height:Gt}=this.getViewportSize();return{top:Ge.top,left:Ge.left,bottom:Ge.top+Gt,right:Ge.left+kt,height:Gt,width:kt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ge=this._document,kt=this._getWindow(),Gt=Ge.documentElement,En=Gt.getBoundingClientRect();return{top:-En.top||Ge.body.scrollTop||kt.scrollY||Gt.scrollTop||0,left:-En.left||Ge.body.scrollLeft||kt.scrollX||Gt.scrollLeft||0}}change(Ge=20){return Ge>0?this._change.pipe(An(Ge)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ge=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ge.innerWidth,height:Ge.innerHeight}:{width:0,height:0}}}return Ie.\u0275fac=function(Ge){return new(Ge||Ie)(m.KVO(Et.OD),m.KVO(m.SKi),m.KVO(Rt.qQ,8))},Ie.\u0275prov=m.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})(),Ci=(()=>{class Ie{}return Ie.\u0275fac=function(Ge){return new(Ge||Ie)},Ie.\u0275mod=m.$C({type:Ie}),Ie.\u0275inj=m.G2t({}),Ie})(),qt=(()=>{class Ie{}return Ie.\u0275fac=function(Ge){return new(Ge||Ie)},Ie.\u0275mod=m.$C({type:Ie}),Ie.\u0275inj=m.G2t({imports:[[jt.jI,Ci],jt.jI,Ci]}),Ie})()},177:(Jt,ke,E)=>{"use strict";E.d(ke,{AJ:()=>Ur,B3:()=>kr,Jj:()=>ds,MD:()=>zs,N0:()=>ic,P9:()=>xr,PV:()=>Ms,Pc:()=>Ga,QT:()=>T,QX:()=>Hn,Sm:()=>ee,Sq:()=>Li,TG:()=>Yt,UE:()=>Pr,VF:()=>x,Vy:()=>tr,Xr:()=>aa,YU:()=>Ln,ZD:()=>F,_b:()=>at,aZ:()=>me,bT:()=>pi,e1:()=>Fi,fG:()=>mi,fw:()=>be,hb:()=>H,hj:()=>z,kt:()=>ns,qQ:()=>ne,ux:()=>fs,vh:()=>Ka});var p=E(4438);let m=null;function T(){return m}function F(re){m??=re}class x{}const ne=new p.nKC("");let q=(()=>{class re{historyGo(Oe){throw new Error("")}static#e=this.\u0275fac=function(et){return new(et||re)};static#t=this.\u0275prov=p.jDH({token:re,factory:()=>(0,p.WQX)(O),providedIn:"platform"})}return re})();const z=new p.nKC("");let O=(()=>{class re extends q{constructor(){super(),this._doc=(0,p.WQX)(ne),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return T().getBaseHref(this._doc)}onPopState(Oe){const et=T().getGlobalEventTarget(this._doc,"window");return et.addEventListener("popstate",Oe,!1),()=>et.removeEventListener("popstate",Oe)}onHashChange(Oe){const et=T().getGlobalEventTarget(this._doc,"window");return et.addEventListener("hashchange",Oe,!1),()=>et.removeEventListener("hashchange",Oe)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Oe){this._location.pathname=Oe}pushState(Oe,et,Qt){this._history.pushState(Oe,et,Qt)}replaceState(Oe,et,Qt){this._history.replaceState(Oe,et,Qt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Oe=0){this._history.go(Oe)}getState(){return this._history.state}static#e=this.\u0275fac=function(et){return new(et||re)};static#t=this.\u0275prov=p.jDH({token:re,factory:()=>new re,providedIn:"platform"})}return re})();function I(re,vt){if(0==re.length)return vt;if(0==vt.length)return re;let Oe=0;return re.endsWith("/")&&Oe++,vt.startsWith("/")&&Oe++,2==Oe?re+vt.substring(1):1==Oe?re+vt:re+"/"+vt}function k(re){const vt=re.match(/#|\?|$/),Oe=vt&&vt.index||re.length;return re.slice(0,Oe-("/"===re[Oe-1]?1:0))+re.slice(Oe)}function A(re){return re&&"?"!==re[0]?"?"+re:re}let H=(()=>{class re{historyGo(Oe){throw new Error("")}static#e=this.\u0275fac=function(et){return new(et||re)};static#t=this.\u0275prov=p.jDH({token:re,factory:()=>(0,p.WQX)(ee),providedIn:"root"})}return re})();const Q=new p.nKC("");let ee=(()=>{class re extends H{constructor(Oe,et){super(),this._platformLocation=Oe,this._removeListenerFns=[],this._baseHref=et??this._platformLocation.getBaseHrefFromDOM()??(0,p.WQX)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Oe){this._removeListenerFns.push(this._platformLocation.onPopState(Oe),this._platformLocation.onHashChange(Oe))}getBaseHref(){return this._baseHref}prepareExternalUrl(Oe){return I(this._baseHref,Oe)}path(Oe=!1){const et=this._platformLocation.pathname+A(this._platformLocation.search),Qt=this._platformLocation.hash;return Qt&&Oe?`${et}${Qt}`:et}pushState(Oe,et,Qt,Xn){const di=this.prepareExternalUrl(Qt+A(Xn));this._platformLocation.pushState(Oe,et,di)}replaceState(Oe,et,Qt,Xn){const di=this.prepareExternalUrl(Qt+A(Xn));this._platformLocation.replaceState(Oe,et,di)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Oe=0){this._platformLocation.historyGo?.(Oe)}static#e=this.\u0275fac=function(et){return new(et||re)(p.KVO(q),p.KVO(Q,8))};static#t=this.\u0275prov=p.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})(),be=(()=>{class re extends H{constructor(Oe,et){super(),this._platformLocation=Oe,this._baseHref="",this._removeListenerFns=[],null!=et&&(this._baseHref=et)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Oe){this._removeListenerFns.push(this._platformLocation.onPopState(Oe),this._platformLocation.onHashChange(Oe))}getBaseHref(){return this._baseHref}path(Oe=!1){const et=this._platformLocation.hash??"#";return et.length>0?et.substring(1):et}prepareExternalUrl(Oe){const et=I(this._baseHref,Oe);return et.length>0?"#"+et:et}pushState(Oe,et,Qt,Xn){let di=this.prepareExternalUrl(Qt+A(Xn));0==di.length&&(di=this._platformLocation.pathname),this._platformLocation.pushState(Oe,et,di)}replaceState(Oe,et,Qt,Xn){let di=this.prepareExternalUrl(Qt+A(Xn));0==di.length&&(di=this._platformLocation.pathname),this._platformLocation.replaceState(Oe,et,di)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Oe=0){this._platformLocation.historyGo?.(Oe)}static#e=this.\u0275fac=function(et){return new(et||re)(p.KVO(q),p.KVO(Q,8))};static#t=this.\u0275prov=p.jDH({token:re,factory:re.\u0275fac})}return re})(),me=(()=>{class re{constructor(Oe){this._subject=new p.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Oe;const et=this._locationStrategy.getBaseHref();this._basePath=function Le(re){if(new RegExp("^(https?:)?//").test(re)){const[,Oe]=re.split(/\/\/[^\/]+/);return Oe}return re}(k(Ve(et))),this._locationStrategy.onPopState(Qt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Qt.state,type:Qt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Oe=!1){return this.normalize(this._locationStrategy.path(Oe))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Oe,et=""){return this.path()==this.normalize(Oe+A(et))}normalize(Oe){return re.stripTrailingSlash(function Be(re,vt){if(!re||!vt.startsWith(re))return vt;const Oe=vt.substring(re.length);return""===Oe||["/",";","?","#"].includes(Oe[0])?Oe:vt}(this._basePath,Ve(Oe)))}prepareExternalUrl(Oe){return Oe&&"/"!==Oe[0]&&(Oe="/"+Oe),this._locationStrategy.prepareExternalUrl(Oe)}go(Oe,et="",Qt=null){this._locationStrategy.pushState(Qt,"",Oe,et),this._notifyUrlChangeListeners(this.prepareExternalUrl(Oe+A(et)),Qt)}replaceState(Oe,et="",Qt=null){this._locationStrategy.replaceState(Qt,"",Oe,et),this._notifyUrlChangeListeners(this.prepareExternalUrl(Oe+A(et)),Qt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Oe=0){this._locationStrategy.historyGo?.(Oe)}onUrlChange(Oe){return this._urlChangeListeners.push(Oe),this._urlChangeSubscription??=this.subscribe(et=>{this._notifyUrlChangeListeners(et.url,et.state)}),()=>{const et=this._urlChangeListeners.indexOf(Oe);this._urlChangeListeners.splice(et,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Oe="",et){this._urlChangeListeners.forEach(Qt=>Qt(Oe,et))}subscribe(Oe,et,Qt){return this._subject.subscribe({next:Oe,error:et,complete:Qt})}static#e=this.normalizeQueryParams=A;static#t=this.joinWithSlash=I;static#n=this.stripTrailingSlash=k;static#i=this.\u0275fac=function(et){return new(et||re)(p.KVO(H))};static#r=this.\u0275prov=p.jDH({token:re,factory:()=>function Ne(){return new me((0,p.KVO)(H))}(),providedIn:"root"})}return re})();function Ve(re){return re.replace(/\/index.html$/,"")}var ae=function(re){return re[re.Decimal=0]="Decimal",re[re.Percent=1]="Percent",re[re.Currency=2]="Currency",re[re.Scientific=3]="Scientific",re}(ae||{}),fe=function(re){return re[re.Format=0]="Format",re[re.Standalone=1]="Standalone",re}(fe||{}),Re=function(re){return re[re.Narrow=0]="Narrow",re[re.Abbreviated=1]="Abbreviated",re[re.Wide=2]="Wide",re[re.Short=3]="Short",re}(Re||{}),_e=function(re){return re[re.Short=0]="Short",re[re.Medium=1]="Medium",re[re.Long=2]="Long",re[re.Full=3]="Full",re}(_e||{});const Xe={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function jt(re,vt){return qn((0,p.H5H)(re)[p.KH2.DateFormat],vt)}function Dt(re,vt){return qn((0,p.H5H)(re)[p.KH2.TimeFormat],vt)}function en(re,vt){return qn((0,p.H5H)(re)[p.KH2.DateTimeFormat],vt)}function qe(re,vt){const Oe=(0,p.H5H)(re),et=Oe[p.KH2.NumberSymbols][vt];if(typeof et>"u"){if(vt===Xe.CurrencyDecimal)return Oe[p.KH2.NumberSymbols][Xe.Decimal];if(vt===Xe.CurrencyGroup)return Oe[p.KH2.NumberSymbols][Xe.Group]}return et}function it(re){if(!re[p.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${re[p.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function qn(re,vt){for(let Oe=vt;Oe>-1;Oe--)if(typeof re[Oe]<"u")return re[Oe];throw new Error("Locale data API: locale data undefined")}function Pi(re){const[vt,Oe]=re.split(":");return{hours:+vt,minutes:+Oe}}const Ie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Te={},Ge=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var kt=function(re){return re[re.Short=0]="Short",re[re.ShortGMT=1]="ShortGMT",re[re.Long=2]="Long",re[re.Extended=3]="Extended",re}(kt||{}),Gt=function(re){return re[re.FullYear=0]="FullYear",re[re.Month=1]="Month",re[re.Date=2]="Date",re[re.Hours=3]="Hours",re[re.Minutes=4]="Minutes",re[re.Seconds=5]="Seconds",re[re.FractionalSeconds=6]="FractionalSeconds",re[re.Day=7]="Day",re}(Gt||{}),En=function(re){return re[re.DayPeriods=0]="DayPeriods",re[re.Days=1]="Days",re[re.Months=2]="Months",re[re.Eras=3]="Eras",re}(En||{});function Yn(re,vt,Oe,et){let Qt=function V(re){if(X(re))return re;if("number"==typeof re&&!isNaN(re))return new Date(re);if("string"==typeof re){if(re=re.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(re)){const[Qt,Xn=1,di=1]=re.split("-").map(gr=>+gr);return Mi(Qt,Xn-1,di)}const Oe=parseFloat(re);if(!isNaN(re-Oe))return new Date(Oe);let et;if(et=re.match(Ie))return function G(re){const vt=new Date(0);let Oe=0,et=0;const Qt=re[8]?vt.setUTCFullYear:vt.setFullYear,Xn=re[8]?vt.setUTCHours:vt.setHours;re[9]&&(Oe=Number(re[9]+re[10]),et=Number(re[9]+re[11])),Qt.call(vt,Number(re[1]),Number(re[2])-1,Number(re[3]));const di=Number(re[4]||0)-Oe,gr=Number(re[5]||0)-et,qs=Number(re[6]||0),Os=Math.floor(1e3*parseFloat("0."+(re[7]||0)));return Xn.call(vt,di,gr,qs,Os),vt}(et)}const vt=new Date(re);if(!X(vt))throw new Error(`Unable to convert "${re}" into a date`);return vt}(re);vt=yi(Oe,vt)||vt;let gr,di=[];for(;vt;){if(gr=Ge.exec(vt),!gr){di.push(vt);break}{di=di.concat(gr.slice(1));const eo=di.pop();if(!eo)break;vt=eo}}let qs=Qt.getTimezoneOffset();et&&(qs=wt(et,qs),Qt=function st(re,vt,Oe){const et=Oe?-1:1,Qt=re.getTimezoneOffset();return function ze(re,vt){return(re=new Date(re.getTime())).setMinutes(re.getMinutes()+vt),re}(re,et*(wt(vt,Qt)-Qt))}(Qt,et,!0));let Os="";return di.forEach(eo=>{const ys=function ft(re){if(Ht[re])return Ht[re];let vt;switch(re){case"G":case"GG":case"GGG":vt=$i(En.Eras,Re.Abbreviated);break;case"GGGG":vt=$i(En.Eras,Re.Wide);break;case"GGGGG":vt=$i(En.Eras,Re.Narrow);break;case"y":vt=Si(Gt.FullYear,1,0,!1,!0);break;case"yy":vt=Si(Gt.FullYear,2,0,!0,!0);break;case"yyy":vt=Si(Gt.FullYear,3,0,!1,!0);break;case"yyyy":vt=Si(Gt.FullYear,4,0,!1,!0);break;case"Y":vt=yt(1);break;case"YY":vt=yt(2,!0);break;case"YYY":vt=yt(3);break;case"YYYY":vt=yt(4);break;case"M":case"L":vt=Si(Gt.Month,1,1);break;case"MM":case"LL":vt=Si(Gt.Month,2,1);break;case"MMM":vt=$i(En.Months,Re.Abbreviated);break;case"MMMM":vt=$i(En.Months,Re.Wide);break;case"MMMMM":vt=$i(En.Months,Re.Narrow);break;case"LLL":vt=$i(En.Months,Re.Abbreviated,fe.Standalone);break;case"LLLL":vt=$i(En.Months,Re.Wide,fe.Standalone);break;case"LLLLL":vt=$i(En.Months,Re.Narrow,fe.Standalone);break;case"w":vt=Vt(1);break;case"ww":vt=Vt(2);break;case"W":vt=Vt(1,!0);break;case"d":vt=Si(Gt.Date,1);break;case"dd":vt=Si(Gt.Date,2);break;case"c":case"cc":vt=Si(Gt.Day,1);break;case"ccc":vt=$i(En.Days,Re.Abbreviated,fe.Standalone);break;case"cccc":vt=$i(En.Days,Re.Wide,fe.Standalone);break;case"ccccc":vt=$i(En.Days,Re.Narrow,fe.Standalone);break;case"cccccc":vt=$i(En.Days,Re.Short,fe.Standalone);break;case"E":case"EE":case"EEE":vt=$i(En.Days,Re.Abbreviated);break;case"EEEE":vt=$i(En.Days,Re.Wide);break;case"EEEEE":vt=$i(En.Days,Re.Narrow);break;case"EEEEEE":vt=$i(En.Days,Re.Short);break;case"a":case"aa":case"aaa":vt=$i(En.DayPeriods,Re.Abbreviated);break;case"aaaa":vt=$i(En.DayPeriods,Re.Wide);break;case"aaaaa":vt=$i(En.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":vt=$i(En.DayPeriods,Re.Abbreviated,fe.Standalone,!0);break;case"bbbb":vt=$i(En.DayPeriods,Re.Wide,fe.Standalone,!0);break;case"bbbbb":vt=$i(En.DayPeriods,Re.Narrow,fe.Standalone,!0);break;case"B":case"BB":case"BBB":vt=$i(En.DayPeriods,Re.Abbreviated,fe.Format,!0);break;case"BBBB":vt=$i(En.DayPeriods,Re.Wide,fe.Format,!0);break;case"BBBBB":vt=$i(En.DayPeriods,Re.Narrow,fe.Format,!0);break;case"h":vt=Si(Gt.Hours,1,-12);break;case"hh":vt=Si(Gt.Hours,2,-12);break;case"H":vt=Si(Gt.Hours,1);break;case"HH":vt=Si(Gt.Hours,2);break;case"m":vt=Si(Gt.Minutes,1);break;case"mm":vt=Si(Gt.Minutes,2);break;case"s":vt=Si(Gt.Seconds,1);break;case"ss":vt=Si(Gt.Seconds,2);break;case"S":vt=Si(Gt.FractionalSeconds,1);break;case"SS":vt=Si(Gt.FractionalSeconds,2);break;case"SSS":vt=Si(Gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":vt=rs(kt.Short);break;case"ZZZZZ":vt=rs(kt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":vt=rs(kt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":vt=rs(kt.Long);break;default:return null}return Ht[re]=vt,vt}(eo);Os+=ys?ys(Qt,Oe,qs):"''"===eo?"'":eo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Os}function Mi(re,vt,Oe){const et=new Date(0);return et.setFullYear(re,vt,Oe),et.setHours(0,0,0),et}function yi(re,vt){const Oe=function Ot(re){return(0,p.H5H)(re)[p.KH2.LocaleId]}(re);if(Te[Oe]??={},Te[Oe][vt])return Te[Oe][vt];let et="";switch(vt){case"shortDate":et=jt(re,_e.Short);break;case"mediumDate":et=jt(re,_e.Medium);break;case"longDate":et=jt(re,_e.Long);break;case"fullDate":et=jt(re,_e.Full);break;case"shortTime":et=Dt(re,_e.Short);break;case"mediumTime":et=Dt(re,_e.Medium);break;case"longTime":et=Dt(re,_e.Long);break;case"fullTime":et=Dt(re,_e.Full);break;case"short":const Qt=yi(re,"shortTime"),Xn=yi(re,"shortDate");et=bi(en(re,_e.Short),[Qt,Xn]);break;case"medium":const di=yi(re,"mediumTime"),gr=yi(re,"mediumDate");et=bi(en(re,_e.Medium),[di,gr]);break;case"long":const qs=yi(re,"longTime"),Os=yi(re,"longDate");et=bi(en(re,_e.Long),[qs,Os]);break;case"full":const eo=yi(re,"fullTime"),ys=yi(re,"fullDate");et=bi(en(re,_e.Full),[eo,ys])}return et&&(Te[Oe][vt]=et),et}function bi(re,vt){return vt&&(re=re.replace(/\{([^}]+)}/g,function(Oe,et){return null!=vt&&et in vt?vt[et]:Oe})),re}function rr(re,vt,Oe="-",et,Qt){let Xn="";(re<0||Qt&&re<=0)&&(Qt?re=1-re:(re=-re,Xn=Oe));let di=String(re);for(;di.length<vt;)di="0"+di;return et&&(di=di.slice(di.length-vt)),Xn+di}function Si(re,vt,Oe=0,et=!1,Qt=!1){return function(Xn,di){let gr=function Ar(re,vt){switch(re){case Gt.FullYear:return vt.getFullYear();case Gt.Month:return vt.getMonth();case Gt.Date:return vt.getDate();case Gt.Hours:return vt.getHours();case Gt.Minutes:return vt.getMinutes();case Gt.Seconds:return vt.getSeconds();case Gt.FractionalSeconds:return vt.getMilliseconds();case Gt.Day:return vt.getDay();default:throw new Error(`Unknown DateType value "${re}".`)}}(re,Xn);if((Oe>0||gr>-Oe)&&(gr+=Oe),re===Gt.Hours)0===gr&&-12===Oe&&(gr=12);else if(re===Gt.FractionalSeconds)return function br(re,vt){return rr(re,3).substring(0,vt)}(gr,vt);const qs=qe(di,Xe.MinusSign);return rr(gr,vt,qs,et,Qt)}}function $i(re,vt,Oe=fe.Format,et=!1){return function(Qt,Xn){return function Gi(re,vt,Oe,et,Qt,Xn){switch(Oe){case En.Months:return function An(re,vt,Oe){const et=(0,p.H5H)(re),Xn=qn([et[p.KH2.MonthsFormat],et[p.KH2.MonthsStandalone]],vt);return qn(Xn,Oe)}(vt,Qt,et)[re.getMonth()];case En.Days:return function Cn(re,vt,Oe){const et=(0,p.H5H)(re),Xn=qn([et[p.KH2.DaysFormat],et[p.KH2.DaysStandalone]],vt);return qn(Xn,Oe)}(vt,Qt,et)[re.getDay()];case En.DayPeriods:const di=re.getHours(),gr=re.getMinutes();if(Xn){const Os=function dt(re){const vt=(0,p.H5H)(re);return it(vt),(vt[p.KH2.ExtraData][2]||[]).map(et=>"string"==typeof et?Pi(et):[Pi(et[0]),Pi(et[1])])}(vt),eo=function $t(re,vt,Oe){const et=(0,p.H5H)(re);it(et);const Xn=qn([et[p.KH2.ExtraData][0],et[p.KH2.ExtraData][1]],vt)||[];return qn(Xn,Oe)||[]}(vt,Qt,et),ys=Os.findIndex(uo=>{if(Array.isArray(uo)){const[ms,Ps]=uo,ws=di>=ms.hours&&gr>=ms.minutes,Ri=di<Ps.hours||di===Ps.hours&&gr<Ps.minutes;if(ms.hours<Ps.hours){if(ws&&Ri)return!0}else if(ws||Ri)return!0}else if(uo.hours===di&&uo.minutes===gr)return!0;return!1});if(-1!==ys)return eo[ys]}return function un(re,vt,Oe){const et=(0,p.H5H)(re),Xn=qn([et[p.KH2.DayPeriodsFormat],et[p.KH2.DayPeriodsStandalone]],vt);return qn(Xn,Oe)}(vt,Qt,et)[di<12?0:1];case En.Eras:return function Nn(re,vt){return qn((0,p.H5H)(re)[p.KH2.Eras],vt)}(vt,et)[re.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Oe}`)}}(Qt,Xn,re,vt,Oe,et)}}function rs(re){return function(vt,Oe,et){const Qt=-1*et,Xn=qe(Oe,Xe.MinusSign),di=Qt>0?Math.floor(Qt/60):Math.ceil(Qt/60);switch(re){case kt.Short:return(Qt>=0?"+":"")+rr(di,2,Xn)+rr(Math.abs(Qt%60),2,Xn);case kt.ShortGMT:return"GMT"+(Qt>=0?"+":"")+rr(di,1,Xn);case kt.Long:return"GMT"+(Qt>=0?"+":"")+rr(di,2,Xn)+":"+rr(Math.abs(Qt%60),2,Xn);case kt.Extended:return 0===et?"Z":(Qt>=0?"+":"")+rr(di,2,Xn)+":"+rr(Math.abs(Qt%60),2,Xn);default:throw new Error(`Unknown zone width "${re}"`)}}}const Dn=0,On=4;function Pt(re){const vt=re.getDay(),Oe=0===vt?-3:On-vt;return Mi(re.getFullYear(),re.getMonth(),re.getDate()+Oe)}function Vt(re,vt=!1){return function(Oe,et){let Qt;if(vt){const Xn=new Date(Oe.getFullYear(),Oe.getMonth(),1).getDay()-1,di=Oe.getDate();Qt=1+Math.floor((di+Xn)/7)}else{const Xn=Pt(Oe),di=function bt(re){const vt=Mi(re,Dn,1).getDay();return Mi(re,0,1+(vt<=On?On:On+7)-vt)}(Xn.getFullYear()),gr=Xn.getTime()-di.getTime();Qt=1+Math.round(gr/6048e5)}return rr(Qt,re,qe(et,Xe.MinusSign))}}function yt(re,vt=!1){return function(Oe,et){return rr(Pt(Oe).getFullYear(),re,qe(et,Xe.MinusSign),vt)}}const Ht={};function wt(re,vt){re=re.replace(/:/g,"");const Oe=Date.parse("Jan 01, 1970 00:00:00 "+re)/6e4;return isNaN(Oe)?vt:Oe}function X(re){return re instanceof Date&&!isNaN(re.valueOf())}const Ee=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function xt(re){const vt=parseInt(re);if(isNaN(vt))throw new Error("Invalid integer literal when parsing "+re);return vt}function at(re,vt){vt=encodeURIComponent(vt);for(const Oe of re.split(";")){const et=Oe.indexOf("="),[Qt,Xn]=-1==et?[Oe,""]:[Oe.slice(0,et),Oe.slice(et+1)];if(Qt.trim()===vt)return decodeURIComponent(Xn)}return null}const Mt=/\s+/,Sn=[];let Ln=(()=>{class re{constructor(Oe,et){this._ngEl=Oe,this._renderer=et,this.initialClasses=Sn,this.stateMap=new Map}set klass(Oe){this.initialClasses=null!=Oe?Oe.trim().split(Mt):Sn}set ngClass(Oe){this.rawClass="string"==typeof Oe?Oe.trim().split(Mt):Oe}ngDoCheck(){for(const et of this.initialClasses)this._updateState(et,!0);const Oe=this.rawClass;if(Array.isArray(Oe)||Oe instanceof Set)for(const et of Oe)this._updateState(et,!0);else if(null!=Oe)for(const et of Object.keys(Oe))this._updateState(et,!!Oe[et]);this._applyStateDiff()}_updateState(Oe,et){const Qt=this.stateMap.get(Oe);void 0!==Qt?(Qt.enabled!==et&&(Qt.changed=!0,Qt.enabled=et),Qt.touched=!0):this.stateMap.set(Oe,{enabled:et,changed:!0,touched:!0})}_applyStateDiff(){for(const Oe of this.stateMap){const et=Oe[0],Qt=Oe[1];Qt.changed?(this._toggleClass(et,Qt.enabled),Qt.changed=!1):Qt.touched||(Qt.enabled&&this._toggleClass(et,!1),this.stateMap.delete(et)),Qt.touched=!1}}_toggleClass(Oe,et){(Oe=Oe.trim()).length>0&&Oe.split(Mt).forEach(Qt=>{et?this._renderer.addClass(this._ngEl.nativeElement,Qt):this._renderer.removeClass(this._ngEl.nativeElement,Qt)})}static#e=this.\u0275fac=function(et){return new(et||re)(p.rXU(p.aKT),p.rXU(p.sFG))};static#t=this.\u0275dir=p.FsC({type:re,selectors:[["","ngClass",""]],inputs:{klass:[p.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return re})();class ji{constructor(vt,Oe,et,Qt){this.$implicit=vt,this.ngForOf=Oe,this.index=et,this.count=Qt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class re{set ngForOf(Oe){this._ngForOf=Oe,this._ngForOfDirty=!0}set ngForTrackBy(Oe){this._trackByFn=Oe}get ngForTrackBy(){return this._trackByFn}constructor(Oe,et,Qt){this._viewContainer=Oe,this._template=et,this._differs=Qt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Oe){Oe&&(this._template=Oe)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Oe=this._ngForOf;!this._differ&&Oe&&(this._differ=this._differs.find(Oe).create(this.ngForTrackBy))}if(this._differ){const Oe=this._differ.diff(this._ngForOf);Oe&&this._applyChanges(Oe)}}_applyChanges(Oe){const et=this._viewContainer;Oe.forEachOperation((Qt,Xn,di)=>{if(null==Qt.previousIndex)et.createEmbeddedView(this._template,new ji(Qt.item,this._ngForOf,-1,-1),null===di?void 0:di);else if(null==di)et.remove(null===Xn?void 0:Xn);else if(null!==Xn){const gr=et.get(Xn);et.move(gr,di),ss(gr,Qt)}});for(let Qt=0,Xn=et.length;Qt<Xn;Qt++){const gr=et.get(Qt).context;gr.index=Qt,gr.count=Xn,gr.ngForOf=this._ngForOf}Oe.forEachIdentityChange(Qt=>{ss(et.get(Qt.currentIndex),Qt)})}static ngTemplateContextGuard(Oe,et){return!0}static#e=this.\u0275fac=function(et){return new(et||re)(p.rXU(p.c1b),p.rXU(p.C4Q),p.rXU(p._q3))};static#t=this.\u0275dir=p.FsC({type:re,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return re})();function ss(re,vt){re.context.$implicit=vt.item}let pi=(()=>{class re{constructor(Oe,et){this._viewContainer=Oe,this._context=new Or,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=et}set ngIf(Oe){this._context.$implicit=this._context.ngIf=Oe,this._updateView()}set ngIfThen(Oe){bo("ngIfThen",Oe),this._thenTemplateRef=Oe,this._thenViewRef=null,this._updateView()}set ngIfElse(Oe){bo("ngIfElse",Oe),this._elseTemplateRef=Oe,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Oe,et){return!0}static#e=this.\u0275fac=function(et){return new(et||re)(p.rXU(p.c1b),p.rXU(p.C4Q))};static#t=this.\u0275dir=p.FsC({type:re,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return re})();class Or{constructor(){this.$implicit=null,this.ngIf=null}}function bo(re,vt){if(vt&&!vt.createEmbeddedView)throw new Error(`${re} must be a TemplateRef, but received '${(0,p.Tbb)(vt)}'.`)}class ts{constructor(vt,Oe){this._viewContainerRef=vt,this._templateRef=Oe,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(vt){vt&&!this._created?this.create():!vt&&this._created&&this.destroy()}}let fs=(()=>{class re{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Oe){this._ngSwitch=Oe,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Oe){this._defaultViews.push(Oe)}_matchCase(Oe){const et=Oe===this._ngSwitch;return this._lastCasesMatched||=et,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),et}_updateDefaultCases(Oe){if(this._defaultViews.length>0&&Oe!==this._defaultUsed){this._defaultUsed=Oe;for(const et of this._defaultViews)et.enforceState(Oe)}}static#e=this.\u0275fac=function(et){return new(et||re)};static#t=this.\u0275dir=p.FsC({type:re,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return re})(),Fi=(()=>{class re{constructor(Oe,et,Qt){this.ngSwitch=Qt,Qt._addCase(),this._view=new ts(Oe,et)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(et){return new(et||re)(p.rXU(p.c1b),p.rXU(p.C4Q),p.rXU(fs,9))};static#t=this.\u0275dir=p.FsC({type:re,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return re})(),mi=(()=>{class re{constructor(Oe,et,Qt){Qt._addDefault(new ts(Oe,et))}static#e=this.\u0275fac=function(et){return new(et||re)(p.rXU(p.c1b),p.rXU(p.C4Q),p.rXU(fs,9))};static#t=this.\u0275dir=p.FsC({type:re,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return re})(),kr=(()=>{class re{constructor(Oe,et,Qt){this._ngEl=Oe,this._differs=et,this._renderer=Qt,this._ngStyle=null,this._differ=null}set ngStyle(Oe){this._ngStyle=Oe,!this._differ&&Oe&&(this._differ=this._differs.find(Oe).create())}ngDoCheck(){if(this._differ){const Oe=this._differ.diff(this._ngStyle);Oe&&this._applyChanges(Oe)}}_setStyle(Oe,et){const[Qt,Xn]=Oe.split("."),di=-1===Qt.indexOf("-")?void 0:p.czy.DashCase;null!=et?this._renderer.setStyle(this._ngEl.nativeElement,Qt,Xn?`${et}${Xn}`:et,di):this._renderer.removeStyle(this._ngEl.nativeElement,Qt,di)}_applyChanges(Oe){Oe.forEachRemovedItem(et=>this._setStyle(et.key,null)),Oe.forEachAddedItem(et=>this._setStyle(et.key,et.currentValue)),Oe.forEachChangedItem(et=>this._setStyle(et.key,et.currentValue))}static#e=this.\u0275fac=function(et){return new(et||re)(p.rXU(p.aKT),p.rXU(p.MKu),p.rXU(p.sFG))};static#t=this.\u0275dir=p.FsC({type:re,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return re})();function Zo(re,vt){return new p.wOt(2100,!1)}class Pa{createSubscription(vt,Oe){return(0,p.O8t)(()=>vt.subscribe({next:Oe,error:et=>{throw et}}))}dispose(vt){(0,p.O8t)(()=>vt.unsubscribe())}}class Vc{createSubscription(vt,Oe){return vt.then(Oe,et=>{throw et})}dispose(vt){}}const dl=new Vc,No=new Pa;let ds=(()=>{class re{constructor(Oe){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Oe}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Oe){if(!this._obj){if(Oe)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Oe)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Oe!==this._obj?(this._dispose(),this.transform(Oe)):this._latestValue}_subscribe(Oe){this._obj=Oe,this._strategy=this._selectStrategy(Oe),this._subscription=this._strategy.createSubscription(Oe,et=>this._updateLatestValue(Oe,et))}_selectStrategy(Oe){if((0,p.jNT)(Oe))return dl;if((0,p.zjR)(Oe))return No;throw Zo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Oe,et){Oe===this._obj&&(this._latestValue=et,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(et){return new(et||re)(p.rXU(p.gRc,16))};static#t=this.\u0275pipe=p.EJ8({name:"async",type:re,pure:!1,standalone:!0})}return re})();const Jo=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ms=(()=>{class re{transform(Oe){if(null==Oe)return null;if("string"!=typeof Oe)throw Zo();return Oe.replace(Jo,et=>et[0].toUpperCase()+et.slice(1).toLowerCase())}static#e=this.\u0275fac=function(et){return new(et||re)};static#t=this.\u0275pipe=p.EJ8({name:"titlecase",type:re,pure:!0,standalone:!0})}return re})(),Ga=(()=>{class re{transform(Oe){if(null==Oe)return null;if("string"!=typeof Oe)throw Zo();return Oe.toUpperCase()}static#e=this.\u0275fac=function(et){return new(et||re)};static#t=this.\u0275pipe=p.EJ8({name:"uppercase",type:re,pure:!0,standalone:!0})}return re})();const nc=new p.nKC(""),Ra=new p.nKC("");let Ka=(()=>{class re{constructor(Oe,et,Qt){this.locale=Oe,this.defaultTimezone=et,this.defaultOptions=Qt}transform(Oe,et,Qt,Xn){if(null==Oe||""===Oe||Oe!=Oe)return null;try{return Yn(Oe,et??this.defaultOptions?.dateFormat??"mediumDate",Xn||this.locale,Qt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(di){throw Zo()}}static#e=this.\u0275fac=function(et){return new(et||re)(p.rXU(p.xe9,16),p.rXU(nc,24),p.rXU(Ra,24))};static#t=this.\u0275pipe=p.EJ8({name:"date",type:re,pure:!0,standalone:!0})}return re})(),Yt=(()=>{class re{transform(Oe){return JSON.stringify(Oe,null,2)}static#e=this.\u0275fac=function(et){return new(et||re)};static#t=this.\u0275pipe=p.EJ8({name:"json",type:re,pure:!1,standalone:!0})}return re})(),Hn=(()=>{class re{constructor(Oe){this._locale=Oe}transform(Oe,et,Qt){if(!function Fr(re){return!(null==re||""===re||re!=re)}(Oe))return null;Qt||=this._locale;try{return function $n(re,vt,Oe){return function Rn(re,vt,Oe,et,Qt,Xn,di=!1){let gr="",qs=!1;if(isFinite(re)){let Os=function sn(re){let et,Qt,Xn,di,gr,vt=Math.abs(re)+"",Oe=0;for((Qt=vt.indexOf("."))>-1&&(vt=vt.replace(".","")),(Xn=vt.search(/e/i))>0?(Qt<0&&(Qt=Xn),Qt+=+vt.slice(Xn+1),vt=vt.substring(0,Xn)):Qt<0&&(Qt=vt.length),Xn=0;"0"===vt.charAt(Xn);Xn++);if(Xn===(gr=vt.length))et=[0],Qt=1;else{for(gr--;"0"===vt.charAt(gr);)gr--;for(Qt-=Xn,et=[],di=0;Xn<=gr;Xn++,di++)et[di]=Number(vt.charAt(Xn))}return Qt>22&&(et=et.splice(0,21),Oe=Qt-1,Qt=1),{digits:et,exponent:Oe,integerLen:Qt}}(re);di&&(Os=function Ai(re){if(0===re.digits[0])return re;const vt=re.digits.length-re.integerLen;return re.exponent?re.exponent+=2:(0===vt?re.digits.push(0,0):1===vt&&re.digits.push(0),re.integerLen+=2),re}(Os));let eo=vt.minInt,ys=vt.minFrac,uo=vt.maxFrac;if(Xn){const so=Xn.match(Ee);if(null===so)throw new Error(`${Xn} is not a valid digit info`);const Ei=so[1],Lr=so[3],Rs=so[5];null!=Ei&&(eo=xt(Ei)),null!=Lr&&(ys=xt(Lr)),null!=Rs?uo=xt(Rs):null!=Lr&&ys>uo&&(uo=ys)}!function hn(re,vt,Oe){if(vt>Oe)throw new Error(`The minimum number of digits after fraction (${vt}) is higher than the maximum (${Oe}).`);let et=re.digits,Qt=et.length-re.integerLen;const Xn=Math.min(Math.max(vt,Qt),Oe);let di=Xn+re.integerLen,gr=et[di];if(di>0){et.splice(Math.max(re.integerLen,di));for(let ys=di;ys<et.length;ys++)et[ys]=0}else{Qt=Math.max(0,Qt),re.integerLen=1,et.length=Math.max(1,di=Xn+1),et[0]=0;for(let ys=1;ys<di;ys++)et[ys]=0}if(gr>=5)if(di-1<0){for(let ys=0;ys>di;ys--)et.unshift(0),re.integerLen++;et.unshift(1),re.integerLen++}else et[di-1]++;for(;Qt<Math.max(0,Xn);Qt++)et.push(0);let qs=0!==Xn;const Os=vt+re.integerLen,eo=et.reduceRight(function(ys,uo,ms,Ps){return Ps[ms]=(uo+=ys)<10?uo:uo-10,qs&&(0===Ps[ms]&&ms>=Os?Ps.pop():qs=!1),uo>=10?1:0},0);eo&&(et.unshift(eo),re.integerLen++)}(Os,ys,uo);let ms=Os.digits,Ps=Os.integerLen;const ws=Os.exponent;let Ri=[];for(qs=ms.every(so=>!so);Ps<eo;Ps++)ms.unshift(0);for(;Ps<0;Ps++)ms.unshift(0);Ps>0?Ri=ms.splice(Ps,ms.length):(Ri=ms,ms=[0]);const Ir=[];for(ms.length>=vt.lgSize&&Ir.unshift(ms.splice(-vt.lgSize,ms.length).join(""));ms.length>vt.gSize;)Ir.unshift(ms.splice(-vt.gSize,ms.length).join(""));ms.length&&Ir.unshift(ms.join("")),gr=Ir.join(qe(Oe,et)),Ri.length&&(gr+=qe(Oe,Qt)+Ri.join("")),ws&&(gr+=qe(Oe,Xe.Exponential)+"+"+ws)}else gr=qe(Oe,Xe.Infinity);return gr=re<0&&!qs?vt.negPre+gr+vt.negSuf:vt.posPre+gr+vt.posSuf,gr}(re,function Zn(re,vt="-"){const Oe={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},et=re.split(";"),Qt=et[0],Xn=et[1],di=-1!==Qt.indexOf(".")?Qt.split("."):[Qt.substring(0,Qt.lastIndexOf("0")+1),Qt.substring(Qt.lastIndexOf("0")+1)],gr=di[0],qs=di[1]||"";Oe.posPre=gr.substring(0,gr.indexOf("#"));for(let eo=0;eo<qs.length;eo++){const ys=qs.charAt(eo);"0"===ys?Oe.minFrac=Oe.maxFrac=eo+1:"#"===ys?Oe.maxFrac=eo+1:Oe.posSuf+=ys}const Os=gr.split(",");if(Oe.gSize=Os[1]?Os[1].length:0,Oe.lgSize=Os[2]||Os[1]?(Os[2]||Os[1]).length:0,Xn){const eo=Qt.length-Oe.posPre.length-Oe.posSuf.length,ys=Xn.indexOf("#");Oe.negPre=Xn.substring(0,ys).replace(/'/g,""),Oe.negSuf=Xn.slice(ys+eo).replace(/'/g,"")}else Oe.negPre=vt+Oe.posPre,Oe.negSuf=Oe.posSuf;return Oe}(function We(re,vt){return(0,p.H5H)(re)[p.KH2.NumberFormats][vt]}(vt,ae.Decimal),qe(vt,Xe.MinusSign)),vt,Xe.Group,Xe.Decimal,Oe)}(function Ni(re){if("string"==typeof re&&!isNaN(Number(re)-parseFloat(re)))return Number(re);if("number"!=typeof re)throw new Error(`${re} is not a number`);return re}(Oe),Qt,et)}catch(Xn){throw Zo()}}static#e=this.\u0275fac=function(et){return new(et||re)(p.rXU(p.xe9,16))};static#t=this.\u0275pipe=p.EJ8({name:"number",type:re,pure:!0,standalone:!0})}return re})();let xr=(()=>{class re{transform(Oe,et,Qt){if(null==Oe)return null;if(!this.supports(Oe))throw Zo();return Oe.slice(et,Qt)}supports(Oe){return"string"==typeof Oe||Array.isArray(Oe)}static#e=this.\u0275fac=function(et){return new(et||re)};static#t=this.\u0275pipe=p.EJ8({name:"slice",type:re,pure:!1,standalone:!0})}return re})(),zs=(()=>{class re{static#e=this.\u0275fac=function(et){return new(et||re)};static#t=this.\u0275mod=p.$C({type:re});static#n=this.\u0275inj=p.G2t({})}return re})();const Ur="browser",Rr="server";function Pr(re){return re===Ur}function tr(re){return re===Rr}let aa=(()=>{class re{static#e=this.\u0275prov=(0,p.jDH)({token:re,providedIn:"root",factory:()=>Pr((0,p.WQX)(p.Agw))?new Go((0,p.WQX)(ne),window):new nd})}return re})();class Go{constructor(vt,Oe){this.document=vt,this.window=Oe,this.offset=()=>[0,0]}setOffset(vt){this.offset=Array.isArray(vt)?()=>vt:vt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(vt){this.window.scrollTo(vt[0],vt[1])}scrollToAnchor(vt){const Oe=function ma(re,vt){const Oe=re.getElementById(vt)||re.getElementsByName(vt)[0];if(Oe)return Oe;if("function"==typeof re.createTreeWalker&&re.body&&"function"==typeof re.body.attachShadow){const et=re.createTreeWalker(re.body,NodeFilter.SHOW_ELEMENT);let Qt=et.currentNode;for(;Qt;){const Xn=Qt.shadowRoot;if(Xn){const di=Xn.getElementById(vt)||Xn.querySelector(`[name="${vt}"]`);if(di)return di}Qt=et.nextNode()}}return null}(this.document,vt);Oe&&(this.scrollToElement(Oe),Oe.focus())}setHistoryScrollRestoration(vt){this.window.history.scrollRestoration=vt}scrollToElement(vt){const Oe=vt.getBoundingClientRect(),et=Oe.left+this.window.pageXOffset,Qt=Oe.top+this.window.pageYOffset,Xn=this.offset();this.window.scrollTo(et-Xn[0],Qt-Xn[1])}}class nd{setOffset(vt){}getScrollPosition(){return[0,0]}scrollToPosition(vt){}scrollToAnchor(vt){}setHistoryScrollRestoration(vt){}}class ic{}const Xo=re=>re.src,id=new p.nKC("",{providedIn:"root",factory:()=>Xo}),du=new p.nKC("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let Sd=(()=>{class re{constructor(){this.preloadedImages=(0,p.WQX)(du),this.document=(0,p.WQX)(ne)}createPreloadLinkTag(Oe,et,Qt,Xn){if(this.preloadedImages.has(et))return;this.preloadedImages.add(et);const di=Oe.createElement("link");Oe.setAttribute(di,"as","image"),Oe.setAttribute(di,"href",et),Oe.setAttribute(di,"rel","preload"),Oe.setAttribute(di,"fetchpriority","high"),Xn&&Oe.setAttribute(di,"imageSizes",Xn),Qt&&Oe.setAttribute(di,"imageSrcset",Qt),Oe.appendChild(this.document.head,di)}static#e=this.\u0275fac=function(et){return new(et||re)};static#t=this.\u0275prov=p.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();const us=/^((\s*\d+w\s*(,|$)){1,})$/,To=[1,2];let ns=(()=>{class re{constructor(){this.imageLoader=(0,p.WQX)(id),this.config=function Md(re){let vt={};return re.breakpoints&&(vt.breakpoints=re.breakpoints.sort((Oe,et)=>Oe-et)),Object.assign({},p.PUk,re,vt)}((0,p.WQX)(p.GGh)),this.renderer=(0,p.WQX)(p.sFG),this.imgElement=(0,p.WQX)(p.aKT).nativeElement,this.injector=(0,p.WQX)(p.zZn),this.isServer=tr((0,p.WQX)(p.Agw)),this.preloadLinkCreator=(0,p.WQX)(Sd),this.lcpObserver=null,this._renderedSrc=null,this.priority=!1,this.disableOptimizedSrcset=!1,this.fill=!1}ngOnInit(){(0,p.ngT)("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const Oe=this.updateSrcAndSrcset();this.sizes&&this.setHostAttribute("sizes",this.sizes),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),Oe,this.sizes)}ngOnChanges(Oe){if(Oe.ngSrc&&!Oe.ngSrc.isFirstChange()){const et=this._renderedSrc;this.updateSrcAndSrcset(!0);const Qt=this._renderedSrc;null!==this.lcpObserver&&et&&Qt&&et!==Qt&&this.injector.get(p.SKi).runOutsideAngular(()=>{this.lcpObserver?.updateImage(et,Qt)})}}callImageLoader(Oe){let et=Oe;return this.loaderParams&&(et.loaderParams=this.loaderParams),this.imageLoader(et)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const Oe=us.test(this.ngSrcset);return this.ngSrcset.split(",").filter(Qt=>""!==Qt).map(Qt=>{Qt=Qt.trim();const Xn=Oe?parseFloat(Qt):parseFloat(Qt)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:Xn})} ${Qt}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:Oe}=this.config;let et=Oe;return"100vw"===this.sizes?.trim()&&(et=Oe.filter(Xn=>Xn>=640)),et.map(Xn=>`${this.callImageLoader({src:this.ngSrc,width:Xn})} ${Xn}w`).join(", ")}updateSrcAndSrcset(Oe=!1){Oe&&(this._renderedSrc=null);const et=this.getRewrittenSrc();let Qt;return this.setHostAttribute("src",et),this.ngSrcset?Qt=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(Qt=this.getAutomaticSrcset()),Qt&&this.setHostAttribute("srcset",Qt),Qt}getFixedSrcset(){return To.map(et=>`${this.callImageLoader({src:this.ngSrc,width:this.width*et})} ${et}x`).join(", ")}shouldGenerateAutomaticSrcset(){let Oe=!1;return this.sizes||(Oe=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Xo&&!Oe}generatePlaceholder(Oe){const{placeholderResolution:et}=this.config;return!0===Oe?`url(${this.callImageLoader({src:this.ngSrc,width:et,isPlaceholder:!0})})`:"string"==typeof Oe&&Oe.startsWith("data:")?`url(${Oe})`:null}shouldBlurPlaceholder(Oe){return!Oe||!Oe.hasOwnProperty("blur")||!!Oe.blur}removePlaceholderOnLoad(Oe){const et=()=>{const di=this.injector.get(p.gRc);Qt(),Xn(),this.placeholder=!1,di.markForCheck()},Qt=this.renderer.listen(Oe,"load",et),Xn=this.renderer.listen(Oe,"error",et)}ngOnDestroy(){}setHostAttribute(Oe,et){this.renderer.setAttribute(this.imgElement,Oe,et)}static#e=this.\u0275fac=function(et){return new(et||re)};static#t=this.\u0275dir=p.FsC({type:re,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(et,Qt){2&et&&p.xc7("position",Qt.fill?"absolute":null)("width",Qt.fill?"100%":null)("height",Qt.fill?"100%":null)("inset",Qt.fill?"0":null)("background-size",Qt.placeholder?"cover":null)("background-position",Qt.placeholder?"50% 50%":null)("background-repeat",Qt.placeholder?"no-repeat":null)("background-image",Qt.placeholder?Qt.generatePlaceholder(Qt.placeholder):null)("filter",Qt.placeholder&&Qt.shouldBlurPlaceholder(Qt.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[p.Mj6.HasDecoratorInputTransform,"ngSrc","ngSrc",da],ngSrcset:"ngSrcset",sizes:"sizes",width:[p.Mj6.HasDecoratorInputTransform,"width","width",p.Udg],height:[p.Mj6.HasDecoratorInputTransform,"height","height",p.Udg],loading:"loading",priority:[p.Mj6.HasDecoratorInputTransform,"priority","priority",p.L39],loaderParams:"loaderParams",disableOptimizedSrcset:[p.Mj6.HasDecoratorInputTransform,"disableOptimizedSrcset","disableOptimizedSrcset",p.L39],fill:[p.Mj6.HasDecoratorInputTransform,"fill","fill",p.L39],placeholder:[p.Mj6.HasDecoratorInputTransform,"placeholder","placeholder",bc],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},standalone:!0,features:[p.GFd,p.OA$]})}return re})();function da(re){return"string"==typeof re?re:(0,p.rcV)(re)}function bc(re){return"string"==typeof re&&re.startsWith("data:")?re:(0,p.L39)(re)}},1626:(Jt,ke,E)=>{"use strict";E.d(ke,{JV:()=>A,Kd:()=>Ye,Lr:()=>H,Qq:()=>jt,a7:()=>dt,q1:()=>gn,rx:()=>J}),E(467);var m=E(4438),T=E(7673),F=E(1985),x=E(8455),ce=E(274),ne=E(5964),q=E(6354),z=E(980),O=E(5558),I=E(177);class k{}class A{}class H{constructor(at){this.normalizedNames=new Map,this.lazyUpdate=null,at?"string"==typeof at?this.lazyInit=()=>{this.headers=new Map,at.split("\n").forEach(Mt=>{const Sn=Mt.indexOf(":");if(Sn>0){const Ln=Mt.slice(0,Sn),oi=Ln.toLowerCase(),Di=Mt.slice(Sn+1).trim();this.maybeSetNormalizedName(Ln,oi),this.headers.has(oi)?this.headers.get(oi).push(Di):this.headers.set(oi,[Di])}})}:typeof Headers<"u"&&at instanceof Headers?(this.headers=new Map,at.forEach((Mt,Sn)=>{this.setHeaderEntries(Sn,Mt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(at).forEach(([Mt,Sn])=>{this.setHeaderEntries(Mt,Sn)})}:this.headers=new Map}has(at){return this.init(),this.headers.has(at.toLowerCase())}get(at){this.init();const Mt=this.headers.get(at.toLowerCase());return Mt&&Mt.length>0?Mt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(at){return this.init(),this.headers.get(at.toLowerCase())||null}append(at,Mt){return this.clone({name:at,value:Mt,op:"a"})}set(at,Mt){return this.clone({name:at,value:Mt,op:"s"})}delete(at,Mt){return this.clone({name:at,value:Mt,op:"d"})}maybeSetNormalizedName(at,Mt){this.normalizedNames.has(Mt)||this.normalizedNames.set(Mt,at)}init(){this.lazyInit&&(this.lazyInit instanceof H?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(at=>this.applyUpdate(at)),this.lazyUpdate=null))}copyFrom(at){at.init(),Array.from(at.headers.keys()).forEach(Mt=>{this.headers.set(Mt,at.headers.get(Mt)),this.normalizedNames.set(Mt,at.normalizedNames.get(Mt))})}clone(at){const Mt=new H;return Mt.lazyInit=this.lazyInit&&this.lazyInit instanceof H?this.lazyInit:this,Mt.lazyUpdate=(this.lazyUpdate||[]).concat([at]),Mt}applyUpdate(at){const Mt=at.name.toLowerCase();switch(at.op){case"a":case"s":let Sn=at.value;if("string"==typeof Sn&&(Sn=[Sn]),0===Sn.length)return;this.maybeSetNormalizedName(at.name,Mt);const Ln=("a"===at.op?this.headers.get(Mt):void 0)||[];Ln.push(...Sn),this.headers.set(Mt,Ln);break;case"d":const oi=at.value;if(oi){let Di=this.headers.get(Mt);if(!Di)return;Di=Di.filter(ji=>-1===oi.indexOf(ji)),0===Di.length?(this.headers.delete(Mt),this.normalizedNames.delete(Mt)):this.headers.set(Mt,Di)}else this.headers.delete(Mt),this.normalizedNames.delete(Mt)}}setHeaderEntries(at,Mt){const Sn=(Array.isArray(Mt)?Mt:[Mt]).map(oi=>oi.toString()),Ln=at.toLowerCase();this.headers.set(Ln,Sn),this.maybeSetNormalizedName(at,Ln)}forEach(at){this.init(),Array.from(this.normalizedNames.keys()).forEach(Mt=>at(this.normalizedNames.get(Mt),this.headers.get(Mt)))}}class ee{encodeKey(at){return Be(at)}encodeValue(at){return Be(at)}decodeKey(at){return decodeURIComponent(at)}decodeValue(at){return decodeURIComponent(at)}}const me=/%(\d[a-f0-9])/gi,Ne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Be(we){return encodeURIComponent(we).replace(me,(at,Mt)=>Ne[Mt]??at)}function Ve(we){return`${we}`}class Le{constructor(at={}){if(this.updates=null,this.cloneFrom=null,this.encoder=at.encoder||new ee,at.fromString){if(at.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function be(we,at){const Mt=new Map;return we.length>0&&we.replace(/^\?/,"").split("&").forEach(Ln=>{const oi=Ln.indexOf("="),[Di,ji]=-1==oi?[at.decodeKey(Ln),""]:[at.decodeKey(Ln.slice(0,oi)),at.decodeValue(Ln.slice(oi+1))],Li=Mt.get(Di)||[];Li.push(ji),Mt.set(Di,Li)}),Mt}(at.fromString,this.encoder)}else at.fromObject?(this.map=new Map,Object.keys(at.fromObject).forEach(Mt=>{const Sn=at.fromObject[Mt],Ln=Array.isArray(Sn)?Sn.map(Ve):[Ve(Sn)];this.map.set(Mt,Ln)})):this.map=null}has(at){return this.init(),this.map.has(at)}get(at){this.init();const Mt=this.map.get(at);return Mt?Mt[0]:null}getAll(at){return this.init(),this.map.get(at)||null}keys(){return this.init(),Array.from(this.map.keys())}append(at,Mt){return this.clone({param:at,value:Mt,op:"a"})}appendAll(at){const Mt=[];return Object.keys(at).forEach(Sn=>{const Ln=at[Sn];Array.isArray(Ln)?Ln.forEach(oi=>{Mt.push({param:Sn,value:oi,op:"a"})}):Mt.push({param:Sn,value:Ln,op:"a"})}),this.clone(Mt)}set(at,Mt){return this.clone({param:at,value:Mt,op:"s"})}delete(at,Mt){return this.clone({param:at,value:Mt,op:"d"})}toString(){return this.init(),this.keys().map(at=>{const Mt=this.encoder.encodeKey(at);return this.map.get(at).map(Sn=>Mt+"="+this.encoder.encodeValue(Sn)).join("&")}).filter(at=>""!==at).join("&")}clone(at){const Mt=new Le({encoder:this.encoder});return Mt.cloneFrom=this.cloneFrom||this,Mt.updates=(this.updates||[]).concat(at),Mt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(at=>this.map.set(at,this.cloneFrom.map.get(at))),this.updates.forEach(at=>{switch(at.op){case"a":case"s":const Mt=("a"===at.op?this.map.get(at.param):void 0)||[];Mt.push(Ve(at.value)),this.map.set(at.param,Mt);break;case"d":if(void 0===at.value){this.map.delete(at.param);break}{let Sn=this.map.get(at.param)||[];const Ln=Sn.indexOf(Ve(at.value));-1!==Ln&&Sn.splice(Ln,1),Sn.length>0?this.map.set(at.param,Sn):this.map.delete(at.param)}}}),this.cloneFrom=this.updates=null)}}class J{constructor(at){this.defaultValue=at}}class ae{constructor(){this.map=new Map}set(at,Mt){return this.map.set(at,Mt),this}get(at){return this.map.has(at)||this.map.set(at,at.defaultValue()),this.map.get(at)}delete(at){return this.map.delete(at),this}has(at){return this.map.has(at)}keys(){return this.map.keys()}}function fe(we){return typeof ArrayBuffer<"u"&&we instanceof ArrayBuffer}function Re(we){return typeof Blob<"u"&&we instanceof Blob}function _e(we){return typeof FormData<"u"&&we instanceof FormData}class Ye{constructor(at,Mt,Sn,Ln){let oi;if(this.url=Mt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=at.toUpperCase(),function de(we){switch(we){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ln?(this.body=void 0!==Sn?Sn:null,oi=Ln):oi=Sn,oi&&(this.reportProgress=!!oi.reportProgress,this.withCredentials=!!oi.withCredentials,oi.responseType&&(this.responseType=oi.responseType),oi.headers&&(this.headers=oi.headers),oi.context&&(this.context=oi.context),oi.params&&(this.params=oi.params),this.transferCache=oi.transferCache),this.headers??=new H,this.context??=new ae,this.params){const Di=this.params.toString();if(0===Di.length)this.urlWithParams=Mt;else{const ji=Mt.indexOf("?");this.urlWithParams=Mt+(-1===ji?"?":ji<Mt.length-1?"&":"")+Di}}else this.params=new Le,this.urlWithParams=Mt}serializeBody(){return null===this.body?null:"string"==typeof this.body||fe(this.body)||Re(this.body)||_e(this.body)||function Xe(we){return typeof URLSearchParams<"u"&&we instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_e(this.body)?null:Re(this.body)?this.body.type||null:fe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(at={}){const Mt=at.method||this.method,Sn=at.url||this.url,Ln=at.responseType||this.responseType,oi=at.transferCache??this.transferCache,Di=void 0!==at.body?at.body:this.body,ji=at.withCredentials??this.withCredentials,Li=at.reportProgress??this.reportProgress;let ss=at.headers||this.headers,Zr=at.params||this.params;const pi=at.context??this.context;return void 0!==at.setHeaders&&(ss=Object.keys(at.setHeaders).reduce((Or,bo)=>Or.set(bo,at.setHeaders[bo]),ss)),at.setParams&&(Zr=Object.keys(at.setParams).reduce((Or,bo)=>Or.set(bo,at.setParams[bo]),Zr)),new Ye(Mt,Sn,Di,{params:Zr,headers:ss,context:pi,reportProgress:Li,responseType:Ln,withCredentials:ji,transferCache:oi})}}var Ot=function(we){return we[we.Sent=0]="Sent",we[we.UploadProgress=1]="UploadProgress",we[we.ResponseHeader=2]="ResponseHeader",we[we.DownloadProgress=3]="DownloadProgress",we[we.Response=4]="Response",we[we.User=5]="User",we}(Ot||{});class un{constructor(at,Mt=Et.Ok,Sn="OK"){this.headers=at.headers||new H,this.status=void 0!==at.status?at.status:Mt,this.statusText=at.statusText||Sn,this.url=at.url||null,this.ok=this.status>=200&&this.status<300}}class Cn extends un{constructor(at={}){super(at),this.type=Ot.ResponseHeader}clone(at={}){return new Cn({headers:at.headers||this.headers,status:void 0!==at.status?at.status:this.status,statusText:at.statusText||this.statusText,url:at.url||this.url||void 0})}}class An extends un{constructor(at={}){super(at),this.type=Ot.Response,this.body=void 0!==at.body?at.body:null}clone(at={}){return new An({body:void 0!==at.body?at.body:this.body,headers:at.headers||this.headers,status:void 0!==at.status?at.status:this.status,statusText:at.statusText||this.statusText,url:at.url||this.url||void 0})}}class Nn extends un{constructor(at){super(at,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${at.url||"(unknown url)"}`:`Http failure response for ${at.url||"(unknown url)"}: ${at.status} ${at.statusText}`,this.error=at.error||null}}var Et=function(we){return we[we.Continue=100]="Continue",we[we.SwitchingProtocols=101]="SwitchingProtocols",we[we.Processing=102]="Processing",we[we.EarlyHints=103]="EarlyHints",we[we.Ok=200]="Ok",we[we.Created=201]="Created",we[we.Accepted=202]="Accepted",we[we.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",we[we.NoContent=204]="NoContent",we[we.ResetContent=205]="ResetContent",we[we.PartialContent=206]="PartialContent",we[we.MultiStatus=207]="MultiStatus",we[we.AlreadyReported=208]="AlreadyReported",we[we.ImUsed=226]="ImUsed",we[we.MultipleChoices=300]="MultipleChoices",we[we.MovedPermanently=301]="MovedPermanently",we[we.Found=302]="Found",we[we.SeeOther=303]="SeeOther",we[we.NotModified=304]="NotModified",we[we.UseProxy=305]="UseProxy",we[we.Unused=306]="Unused",we[we.TemporaryRedirect=307]="TemporaryRedirect",we[we.PermanentRedirect=308]="PermanentRedirect",we[we.BadRequest=400]="BadRequest",we[we.Unauthorized=401]="Unauthorized",we[we.PaymentRequired=402]="PaymentRequired",we[we.Forbidden=403]="Forbidden",we[we.NotFound=404]="NotFound",we[we.MethodNotAllowed=405]="MethodNotAllowed",we[we.NotAcceptable=406]="NotAcceptable",we[we.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",we[we.RequestTimeout=408]="RequestTimeout",we[we.Conflict=409]="Conflict",we[we.Gone=410]="Gone",we[we.LengthRequired=411]="LengthRequired",we[we.PreconditionFailed=412]="PreconditionFailed",we[we.PayloadTooLarge=413]="PayloadTooLarge",we[we.UriTooLong=414]="UriTooLong",we[we.UnsupportedMediaType=415]="UnsupportedMediaType",we[we.RangeNotSatisfiable=416]="RangeNotSatisfiable",we[we.ExpectationFailed=417]="ExpectationFailed",we[we.ImATeapot=418]="ImATeapot",we[we.MisdirectedRequest=421]="MisdirectedRequest",we[we.UnprocessableEntity=422]="UnprocessableEntity",we[we.Locked=423]="Locked",we[we.FailedDependency=424]="FailedDependency",we[we.TooEarly=425]="TooEarly",we[we.UpgradeRequired=426]="UpgradeRequired",we[we.PreconditionRequired=428]="PreconditionRequired",we[we.TooManyRequests=429]="TooManyRequests",we[we.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",we[we.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",we[we.InternalServerError=500]="InternalServerError",we[we.NotImplemented=501]="NotImplemented",we[we.BadGateway=502]="BadGateway",we[we.ServiceUnavailable=503]="ServiceUnavailable",we[we.GatewayTimeout=504]="GatewayTimeout",we[we.HttpVersionNotSupported=505]="HttpVersionNotSupported",we[we.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",we[we.InsufficientStorage=507]="InsufficientStorage",we[we.LoopDetected=508]="LoopDetected",we[we.NotExtended=510]="NotExtended",we[we.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",we}(Et||{});function Rt(we,at){return{body:at,headers:we.headers,context:we.context,observe:we.observe,params:we.params,reportProgress:we.reportProgress,responseType:we.responseType,withCredentials:we.withCredentials,transferCache:we.transferCache}}let jt=(()=>{class we{constructor(Mt){this.handler=Mt}request(Mt,Sn,Ln={}){let oi;if(Mt instanceof Ye)oi=Mt;else{let Li,ss;Li=Ln.headers instanceof H?Ln.headers:new H(Ln.headers),Ln.params&&(ss=Ln.params instanceof Le?Ln.params:new Le({fromObject:Ln.params})),oi=new Ye(Mt,Sn,void 0!==Ln.body?Ln.body:null,{headers:Li,context:Ln.context,params:ss,reportProgress:Ln.reportProgress,responseType:Ln.responseType||"json",withCredentials:Ln.withCredentials,transferCache:Ln.transferCache})}const Di=(0,T.of)(oi).pipe((0,ce.H)(Li=>this.handler.handle(Li)));if(Mt instanceof Ye||"events"===Ln.observe)return Di;const ji=Di.pipe((0,ne.p)(Li=>Li instanceof An));switch(Ln.observe||"body"){case"body":switch(oi.responseType){case"arraybuffer":return ji.pipe((0,q.T)(Li=>{if(null!==Li.body&&!(Li.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Li.body}));case"blob":return ji.pipe((0,q.T)(Li=>{if(null!==Li.body&&!(Li.body instanceof Blob))throw new Error("Response is not a Blob.");return Li.body}));case"text":return ji.pipe((0,q.T)(Li=>{if(null!==Li.body&&"string"!=typeof Li.body)throw new Error("Response is not a string.");return Li.body}));default:return ji.pipe((0,q.T)(Li=>Li.body))}case"response":return ji;default:throw new Error(`Unreachable: unhandled observe type ${Ln.observe}}`)}}delete(Mt,Sn={}){return this.request("DELETE",Mt,Sn)}get(Mt,Sn={}){return this.request("GET",Mt,Sn)}head(Mt,Sn={}){return this.request("HEAD",Mt,Sn)}jsonp(Mt,Sn){return this.request("JSONP",Mt,{params:(new Le).append(Sn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Mt,Sn={}){return this.request("OPTIONS",Mt,Sn)}patch(Mt,Sn,Ln={}){return this.request("PATCH",Mt,Rt(Ln,Sn))}post(Mt,Sn,Ln={}){return this.request("POST",Mt,Rt(Ln,Sn))}put(Mt,Sn,Ln={}){return this.request("PUT",Mt,Rt(Ln,Sn))}static#e=this.\u0275fac=function(Sn){return new(Sn||we)(m.KVO(k))};static#t=this.\u0275prov=m.jDH({token:we,factory:we.\u0275fac})}return we})();function Lt(we,at){return at(we)}function bn(we,at){return(Mt,Sn)=>at.intercept(Mt,{handle:Ln=>we(Ln,Sn)})}const dt=new m.nKC(""),$t=new m.nKC(""),Pn=new m.nKC(""),qn=new m.nKC("");function Pi(){let we=null;return(at,Mt)=>{null===we&&(we=((0,m.WQX)(dt,{optional:!0})??[]).reduceRight(bn,Lt));const Sn=(0,m.WQX)(m.TgB),Ln=Sn.add();return we(at,Mt).pipe((0,z.j)(()=>Sn.remove(Ln)))}}let qt=(()=>{class we extends k{constructor(Mt,Sn){super(),this.backend=Mt,this.injector=Sn,this.chain=null,this.pendingTasks=(0,m.WQX)(m.TgB);const Ln=(0,m.WQX)(qn,{optional:!0});this.backend=Ln??Mt}handle(Mt){if(null===this.chain){const Ln=Array.from(new Set([...this.injector.get($t),...this.injector.get(Pn,[])]));this.chain=Ln.reduceRight((oi,Di)=>function it(we,at,Mt){return(Sn,Ln)=>(0,m.N4e)(Mt,()=>at(Sn,oi=>we(oi,Ln)))}(oi,Di,this.injector),Lt)}const Sn=this.pendingTasks.add();return this.chain(Mt,Ln=>this.backend.handle(Ln)).pipe((0,z.j)(()=>this.pendingTasks.remove(Sn)))}static#e=this.\u0275fac=function(Sn){return new(Sn||we)(m.KVO(A),m.KVO(m.uvJ))};static#t=this.\u0275prov=m.jDH({token:we,factory:we.\u0275fac})}return we})();const br=/^\)\]\}',?\n/;let Ar=(()=>{class we{constructor(Mt){this.xhrFactory=Mt}handle(Mt){if("JSONP"===Mt.method)throw new m.wOt(-2800,!1);const Sn=this.xhrFactory;return(Sn.\u0275loadImpl?(0,x.H)(Sn.\u0275loadImpl()):(0,T.of)(null)).pipe((0,O.n)(()=>new F.c(oi=>{const Di=Sn.build();if(Di.open(Mt.method,Mt.urlWithParams),Mt.withCredentials&&(Di.withCredentials=!0),Mt.headers.forEach((ts,fs)=>Di.setRequestHeader(ts,fs.join(","))),Mt.headers.has("Accept")||Di.setRequestHeader("Accept","application/json, text/plain, */*"),!Mt.headers.has("Content-Type")){const ts=Mt.detectContentTypeHeader();null!==ts&&Di.setRequestHeader("Content-Type",ts)}if(Mt.responseType){const ts=Mt.responseType.toLowerCase();Di.responseType="json"!==ts?ts:"text"}const ji=Mt.serializeBody();let Li=null;const ss=()=>{if(null!==Li)return Li;const ts=Di.statusText||"OK",fs=new H(Di.getAllResponseHeaders()),Fi=function Si(we){return"responseURL"in we&&we.responseURL?we.responseURL:/^X-Request-URL:/m.test(we.getAllResponseHeaders())?we.getResponseHeader("X-Request-URL"):null}(Di)||Mt.url;return Li=new Cn({headers:fs,status:Di.status,statusText:ts,url:Fi}),Li},Zr=()=>{let{headers:ts,status:fs,statusText:Fi,url:mi}=ss(),no=null;fs!==Et.NoContent&&(no=typeof Di.response>"u"?Di.responseText:Di.response),0===fs&&(fs=no?Et.Ok:0);let Oo=fs>=200&&fs<300;if("json"===Mt.responseType&&"string"==typeof no){const As=no;no=no.replace(br,"");try{no=""!==no?JSON.parse(no):null}catch(io){no=As,Oo&&(Oo=!1,no={error:io,text:no})}}Oo?(oi.next(new An({body:no,headers:ts,status:fs,statusText:Fi,url:mi||void 0})),oi.complete()):oi.error(new Nn({error:no,headers:ts,status:fs,statusText:Fi,url:mi||void 0}))},pi=ts=>{const{url:fs}=ss(),Fi=new Nn({error:ts,status:Di.status||0,statusText:Di.statusText||"Unknown Error",url:fs||void 0});oi.error(Fi)};let Or=!1;const bo=ts=>{Or||(oi.next(ss()),Or=!0);let fs={type:Ot.DownloadProgress,loaded:ts.loaded};ts.lengthComputable&&(fs.total=ts.total),"text"===Mt.responseType&&Di.responseText&&(fs.partialText=Di.responseText),oi.next(fs)},Xs=ts=>{let fs={type:Ot.UploadProgress,loaded:ts.loaded};ts.lengthComputable&&(fs.total=ts.total),oi.next(fs)};return Di.addEventListener("load",Zr),Di.addEventListener("error",pi),Di.addEventListener("timeout",pi),Di.addEventListener("abort",pi),Mt.reportProgress&&(Di.addEventListener("progress",bo),null!==ji&&Di.upload&&Di.upload.addEventListener("progress",Xs)),Di.send(ji),oi.next({type:Ot.Sent}),()=>{Di.removeEventListener("error",pi),Di.removeEventListener("abort",pi),Di.removeEventListener("load",Zr),Di.removeEventListener("timeout",pi),Mt.reportProgress&&(Di.removeEventListener("progress",bo),null!==ji&&Di.upload&&Di.upload.removeEventListener("progress",Xs)),Di.readyState!==Di.DONE&&Di.abort()}})))}static#e=this.\u0275fac=function(Sn){return new(Sn||we)(m.KVO(I.N0))};static#t=this.\u0275prov=m.jDH({token:we,factory:we.\u0275fac})}return we})();const $i=new m.nKC(""),rs=new m.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),On=new m.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class bt{}let Pt=(()=>{class we{constructor(Mt,Sn,Ln){this.doc=Mt,this.platform=Sn,this.cookieName=Ln,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Mt=this.doc.cookie||"";return Mt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,I._b)(Mt,this.cookieName),this.lastCookieString=Mt),this.lastToken}static#e=this.\u0275fac=function(Sn){return new(Sn||we)(m.KVO(I.qQ),m.KVO(m.Agw),m.KVO(rs))};static#t=this.\u0275prov=m.jDH({token:we,factory:we.\u0275fac})}return we})();function Vt(we,at){const Mt=we.url.toLowerCase();if(!(0,m.WQX)($i)||"GET"===we.method||"HEAD"===we.method||Mt.startsWith("http://")||Mt.startsWith("https://"))return at(we);const Sn=(0,m.WQX)(bt).getToken(),Ln=(0,m.WQX)(On);return null!=Sn&&!we.headers.has(Ln)&&(we=we.clone({headers:we.headers.set(Ln,Sn)})),at(we)}var Ht=function(we){return we[we.Interceptors=0]="Interceptors",we[we.LegacyInterceptors=1]="LegacyInterceptors",we[we.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",we[we.NoXsrfProtection=3]="NoXsrfProtection",we[we.JsonpSupport=4]="JsonpSupport",we[we.RequestsMadeViaParent=5]="RequestsMadeViaParent",we[we.Fetch=6]="Fetch",we}(Ht||{});function wt(...we){const at=[jt,Ar,qt,{provide:k,useExisting:qt},{provide:A,useExisting:Ar},{provide:$t,useValue:Vt,multi:!0},{provide:$i,useValue:!0},{provide:bt,useClass:Pt}];for(const Mt of we)at.push(...Mt.\u0275providers);return(0,m.EmA)(at)}const st=new m.nKC("");function V(){return function ft(we,at){return{\u0275kind:we,\u0275providers:at}}(Ht.LegacyInterceptors,[{provide:st,useFactory:Pi},{provide:$t,useExisting:st,multi:!0}])}let gn=(()=>{class we{static#e=this.\u0275fac=function(Sn){return new(Sn||we)};static#t=this.\u0275mod=m.$C({type:we});static#n=this.\u0275inj=m.G2t({providers:[wt(V())]})}return we})()},4438:(Jt,ke,E)=>{"use strict";E.d(ke,{bc$:()=>K_,iLQ:()=>Nx,sZ2:()=>rp,hnV:()=>TT,Hbi:()=>sA,o8S:()=>Vb,BIS:()=>G0,gRc:()=>BT,Ql9:()=>AM,OM3:()=>Je,Ocv:()=>BM,Z63:()=>Fo,aKT:()=>Gd,uvJ:()=>xa,zcH:()=>jr,bkB:()=>il,$GK:()=>ds,_qm:()=>ao,nKC:()=>Ln,zZn:()=>nl,_q3:()=>$x,MKu:()=>Gx,xe9:()=>SE,Co$:()=>uy,Vns:()=>xg,SKi:()=>Nc,Xx1:()=>Pr,Agw:()=>ap,PLl:()=>op,rOR:()=>Wd,sFG:()=>rn,_9s:()=>St,czy:()=>r0,WPN:()=>bp,kdw:()=>Qs,C4Q:()=>fg,NYb:()=>wM,giA:()=>wT,xvI:()=>qI,RxE:()=>mT,c1b:()=>w,gXe:()=>Ya,mal:()=>Yr,L39:()=>RA,Ol2:()=>$v,w6W:()=>Py,oH4:()=>RT,SmG:()=>$M,Rfq:()=>Vt,WQX:()=>Ni,naY:()=>HM,QuC:()=>qa,EmA:()=>rc,Udg:()=>LA,fpN:()=>rA,HJs:()=>HA,N4e:()=>bl,O8t:()=>FA,An2:()=>h,H3F:()=>gT,GGh:()=>Ug,PUk:()=>Qp,H8p:()=>Eh,KH2:()=>Qy,TgB:()=>U_,wOt:()=>hi,WHO:()=>ET,e01:()=>xT,lNU:()=>Pi,h9k:()=>Gh,$MX:()=>Mc,ZF7:()=>pp,Kcf:()=>qg,e5t:()=>Gm,UyX:()=>$b,cWb:()=>Q_,osQ:()=>Gb,H5H:()=>hx,Zy3:()=>Ci,mq5:()=>xw,JZv:()=>Si,LfX:()=>xt,plB:()=>Ys,jNT:()=>Rx,zjR:()=>CT,ngT:()=>si,TL$:()=>Xp,Tbb:()=>Dn,rcV:()=>ec,Vt3:()=>Cd,Mj6:()=>Hs,GFd:()=>Oy,OA$:()=>Wu,Jv_:()=>PC,aNF:()=>RC,R7$:()=>Pu,BMQ:()=>Ky,HbH:()=>iw,ZvI:()=>dw,AVh:()=>ix,vxM:()=>pw,wni:()=>cC,VBU:()=>ga,FsC:()=>Sd,jDH:()=>Zn,G2t:()=>sn,$C:()=>_c,EJ8:()=>Dd,rXU:()=>f0,nrm:()=>cx,bVm:()=>pE,qex:()=>fE,k0s:()=>hE,j41:()=>uE,RV6:()=>Ew,xGo:()=>Ll,Mr5:()=>dx,KVO:()=>er,kS0:()=>Cl,QTQ:()=>p_,bIt:()=>mx,lsd:()=>hC,joV:()=>Nd,qSk:()=>Mo,XpG:()=>Zw,nI1:()=>XC,bMT:()=>QC,i5U:()=>qC,brH:()=>ZC,SdG:()=>eC,NAR:()=>Jw,Y8G:()=>ex,FS9:()=>vx,Mz_:()=>bE,lJ4:()=>NC,eq3:()=>FC,l_i:()=>BC,sMw:()=>VC,ziG:()=>UC,s1E:()=>jC,l4e:()=>zC,zJS:()=>HC,mGM:()=>uC,sdS:()=>fC,Dyx:()=>_w,Z7z:()=>gw,fX1:()=>mw,Njj:()=>lc,EBC:()=>am,tSv:()=>om,eBV:()=>Kf,npT:()=>Au,B4B:()=>Qm,n$t:()=>Ep,xc7:()=>nx,Kam:()=>gx,zvX:()=>ux,DNE:()=>Tt,C5r:()=>JC,EFF:()=>wC,JRh:()=>bx,SpI:()=>yE,Lme:()=>yx,E5c:()=>Ex,DH7:()=>kC,mxI:()=>wx,R50:()=>xx,GBs:()=>dC}),E(467);let T=null,x=1;const ce=Symbol("SIGNAL");function ne(n){const s=T;return T=n,s}function H(n){if((!ae(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==x)){if(!n.producerMustRecompute(n)&&!Be(n))return n.dirty=!1,void(n.lastCleanEpoch=x);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=x}}function Be(n){de(n);for(let s=0;s<n.producerNode.length;s++){const a=n.producerNode[s],f=n.producerLastReadVersion[s];if(f!==a.version||(H(a),f!==a.version))return!0}return!1}function J(n,s){if(function fe(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),de(n),1===n.liveConsumerNode.length)for(let f=0;f<n.producerNode.length;f++)J(n.producerNode[f],n.producerIndexOfThis[f]);const a=n.liveConsumerNode.length-1;if(n.liveConsumerNode[s]=n.liveConsumerNode[a],n.liveConsumerIndexOfThis[s]=n.liveConsumerIndexOfThis[a],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,s<n.liveConsumerNode.length){const f=n.liveConsumerIndexOfThis[s],b=n.liveConsumerNode[s];de(b),b.producerIndexOfThis[f]=s}}function ae(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function de(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Cn=null;var it=E(1413),dt=E(8359),$t=E(4412),Pn=E(6354);const Pi="https://g.co/ng/security#xss";class hi extends Error{constructor(s,a){super(Ci(s,a)),this.code=s}}function Ci(n,s){return`NG0${Math.abs(n)}${s?": "+s:""}`}function Gt(n){return{toString:n}.toString()}const En="__annotations__",Yn="__parameters__",Mi="__prop__metadata__";function yi(n,s,a,f,b){return Gt(()=>{const D=bi(s);function B(...Y){if(this instanceof B)return D.call(this,...Y),this;const oe=new B(...Y);return function(_t){return b&&b(_t,...Y),(_t.hasOwnProperty(En)?_t[En]:Object.defineProperty(_t,En,{value:[]})[En]).push(oe),f&&f(_t),_t}}return a&&(B.prototype=Object.create(a.prototype)),B.prototype.ngMetadataName=n,B.annotationCls=B,B})}function bi(n){return function(...a){if(n){const f=n(...a);for(const b in f)this[b]=f[b]}}}function rr(n,s,a){return Gt(()=>{const f=bi(s);function b(...D){if(this instanceof b)return f.apply(this,D),this;const B=new b(...D);return Y.annotation=B,Y;function Y(oe,Ke,_t){const Wt=oe.hasOwnProperty(Yn)?oe[Yn]:Object.defineProperty(oe,Yn,{value:[]})[Yn];for(;Wt.length<=_t;)Wt.push(null);return(Wt[_t]=Wt[_t]||[]).push(B),oe}}return a&&(b.prototype=Object.create(a.prototype)),b.prototype.ngMetadataName=n,b.annotationCls=b,b})}const Si=globalThis;function Gi(n){for(let s in n)if(n[s]===Gi)return s;throw Error("Could not find renamed property on target object.")}function rs(n,s){for(const a in s)s.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=s[a])}function Dn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Dn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const s=n.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function On(n,s){return null==n||""===n?null===s?"":s:null==s||""===s?n:n+" "+s}const Pt=Gi({__forward_ref__:Gi});function Vt(n){return n.__forward_ref__=Vt,n.toString=function(){return Dn(this())},n}function yt(n){return Ht(n)?n():n}function Ht(n){return"function"==typeof n&&n.hasOwnProperty(Pt)&&n.__forward_ref__===Vt}function Zn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function sn(n){return{providers:n.providers||[],imports:n.imports||[]}}function hn(n){return dn(n,we)||dn(n,Mt)}function xt(n){return null!==hn(n)}function dn(n,s){return n.hasOwnProperty(s)?n[s]:null}function ct(n){return n&&(n.hasOwnProperty(at)||n.hasOwnProperty(Sn))?n[at]:null}const we=Gi({\u0275prov:Gi}),at=Gi({\u0275inj:Gi}),Mt=Gi({ngInjectableDef:Gi}),Sn=Gi({ngInjectorDef:Gi});class Ln{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Zn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ts(n){return n&&!!n.\u0275providers}const fs=Gi({\u0275cmp:Gi}),Fi=Gi({\u0275dir:Gi}),mi=Gi({\u0275pipe:Gi}),no=Gi({\u0275mod:Gi}),Oo=Gi({\u0275fac:Gi}),As=Gi({__NG_ELEMENT_ID__:Gi}),io=Gi({__NG_ENV_ID__:Gi});function kr(n){return"string"==typeof n?n:null==n?"":String(n)}function No(n,s){throw new hi(-201,!1)}var ds=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ds||{});let ul;function Jo(){return ul}function Ms(n){const s=ul;return ul=n,s}function Ga(n,s,a){const f=hn(n);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:a&ds.Optional?null:void 0!==s?s:void No()}const Ra={},Ka="__NG_DI_FLAG__",U="ngTempTokenPath",Me=/\n/gm,yn="__source";let Wn;function Hn(n){const s=Wn;return Wn=n,s}function gi(n,s=ds.Default){if(void 0===Wn)throw new hi(-203,!1);return null===Wn?Ga(n,void 0,s):Wn.get(n,s&ds.Optional?null:void 0,s)}function er(n,s=ds.Default){return(Jo()||gi)(yt(n),s)}function Ni(n,s=ds.Default){return er(n,xr(s))}function xr(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ks(n){const s=[];for(let a=0;a<n.length;a++){const f=yt(n[a]);if(Array.isArray(f)){if(0===f.length)throw new hi(900,!1);let b,D=ds.Default;for(let B=0;B<f.length;B++){const Y=f[B],oe=Ur(Y);"number"==typeof oe?-1===oe?b=Y.token:D|=oe:b=Y}s.push(er(b,D))}else s.push(er(f))}return s}function zs(n,s){return n[Ka]=s,n.prototype[Ka]=s,n}function Ur(n){return n[Ka]}const or=zs(rr("Inject",n=>({token:n})),-1),Pr=zs(rr("Optional"),8),tr=zs(rr("Self"),2),Qs=zs(rr("SkipSelf"),4),Us=zs(rr("Host"),1);function oa(n,s){return n.hasOwnProperty(Oo)?n[Oo]:null}function ma(n,s){n.forEach(a=>Array.isArray(a)?ma(a,s):s(a))}function nd(n,s,a){s>=n.length?n.push(a):n.splice(s,0,a)}function ic(n,s){return s>=n.length-1?n.pop():n.splice(s,1)[0]}function Il(n,s){const a=[];for(let f=0;f<n;f++)a.push(s);return a}function Zs(n,s,a){let f=Xo(n,s);return f>=0?n[1|f]=a:(f=~f,function hl(n,s,a,f){let b=n.length;if(b==s)n.push(a,f);else if(1===b)n.push(f,n[0]),n[0]=a;else{for(b--,n.push(n[b-1],n[b]);b>s;)n[b]=n[b-2],b--;n[s]=a,n[s+1]=f}}(n,f,s,a)),f}function $r(n,s){const a=Xo(n,s);if(a>=0)return n[1|a]}function Xo(n,s){return function fl(n,s,a){let f=0,b=n.length>>a;for(;b!==f;){const D=f+(b-f>>1),B=n[D<<a];if(s===B)return D<<a;B>s?b=D:f=D+1}return~(b<<a)}(n,s,1)}const ca={},as=[],Fo=new Ln(""),rd=new Ln("",-1),Ml=new Ln("");class ta{get(s,a=Ra){if(a===Ra){const f=new Error(`NullInjectorError: No provider for ${Dn(s)}!`);throw f.name="NullInjectorError",f}return a}}var Co=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Co||{}),Ya=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ya||{}),Hs=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Hs||{});function pl(n,s,a){let f=n.length;for(;;){const b=n.indexOf(s,a);if(-1===b)return b;if(0===b||n.charCodeAt(b-1)<=32){const D=s.length;if(b+D===f||n.charCodeAt(b+D)<=32)return b}a=b+1}}function Xa(n,s,a){let f=0;for(;f<a.length;){const b=a[f];if("number"==typeof b){if(0!==b)break;f++;const D=a[f++],B=a[f++],Y=a[f++];n.setAttribute(s,B,Y,D)}else{const D=b,B=a[++f];ut(D)?n.setProperty(s,D,B):n.setAttribute(s,D,B),f++}}return f}function rt(n){return 3===n||4===n||6===n}function ut(n){return 64===n.charCodeAt(0)}function Fe(n,s){if(null!==s&&0!==s.length)if(null===n||0===n.length)n=s.slice();else{let a=-1;for(let f=0;f<s.length;f++){const b=s[f];"number"==typeof b?a=b:0===a||It(n,a,b,null,-1===a||2===a?s[++f]:null)}}return n}function It(n,s,a,f,b){let D=0,B=n.length;if(-1===s)B=-1;else for(;D<n.length;){const Y=n[D++];if("number"==typeof Y){if(Y===s){B=-1;break}if(Y>s){B=D-1;break}}}for(;D<n.length;){const Y=n[D];if("number"==typeof Y)break;if(Y===a){if(null===f)return void(null!==b&&(n[D+1]=b));if(f===n[D+1])return void(n[D+2]=b)}D++,null!==f&&D++,null!==b&&D++}-1!==B&&(n.splice(B,0,s),D=B+1),n.splice(D++,0,a),null!==f&&n.splice(D++,0,f),null!==b&&n.splice(D++,0,b)}const Tn="ng-template";function fr(n,s,a,f){let b=0;if(f){for(;b<s.length&&"string"==typeof s[b];b+=2)if("class"===s[b]&&-1!==pl(s[b+1].toLowerCase(),a,0))return!0}else if(qr(n))return!1;if(b=s.indexOf(1,b),b>-1){let D;for(;++b<s.length&&"string"==typeof(D=s[b]);)if(D.toLowerCase()===a)return!0}return!1}function qr(n){return 4===n.type&&n.value!==Tn}function ml(n,s,a){return s===(4!==n.type||a?n.value:Tn)}function $s(n,s,a){let f=4;const b=n.attrs,D=null!==b?function _h(n){for(let s=0;s<n.length;s++)if(rt(n[s]))return s;return n.length}(b):0;let B=!1;for(let Y=0;Y<s.length;Y++){const oe=s[Y];if("number"!=typeof oe){if(!B)if(4&f){if(f=2|1&f,""!==oe&&!ml(n,oe,a)||""===oe&&1===s.length){if(ro(f))return!1;B=!0}}else if(8&f){if(null===b||!fr(n,b,oe,a)){if(ro(f))return!1;B=!0}}else{const Ke=s[++Y],_t=cu(oe,b,qr(n),a);if(-1===_t){if(ro(f))return!1;B=!0;continue}if(""!==Ke){let Wt;if(Wt=_t>D?"":b[_t+1].toLowerCase(),2&f&&Ke!==Wt){if(ro(f))return!1;B=!0}}}}else{if(!B&&!ro(f)&&!ro(oe))return!1;if(B&&ro(oe))continue;B=!1,f=oe|1&f}}return ro(f)||B}function ro(n){return!(1&n)}function cu(n,s,a,f){if(null===s)return-1;let b=0;if(f||!a){let D=!1;for(;b<s.length;){const B=s[b];if(B===n)return b;if(3===B||6===B)D=!0;else{if(1===B||2===B){let Y=s[++b];for(;"string"==typeof Y;)Y=s[++b];continue}if(4===B)break;if(0===B){b+=4;continue}}b+=D?1:2}return-1}return function co(n,s){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const f=n[a];if("number"==typeof f)return-1;if(f===s)return a;a++}return-1}(s,n)}function af(n,s,a=!1){for(let f=0;f<s.length;f++)if($s(n,s[f],a))return!0;return!1}function vh(n,s){e:for(let a=0;a<s.length;a++){const f=s[a];if(n.length===f.length){for(let b=0;b<n.length;b++)if(n[b]!==f[b])continue e;return!0}}return!1}function bh(n,s){return n?":not("+s.trim()+")":s}function lf(n){let s=n[0],a=1,f=2,b="",D=!1;for(;a<n.length;){let B=n[a];if("string"==typeof B)if(2&f){const Y=n[++a];b+="["+B+(Y.length>0?'="'+Y+'"':"")+"]"}else 8&f?b+="."+B:4&f&&(b+=" "+B);else""!==b&&!ro(B)&&(s+=bh(D,b),b=""),f=B,D=D||!ro(f);a++}return""!==b&&(s+=bh(D,b)),s}function ga(n){return Gt(()=>{const s=uu(n),a={...s,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Co.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ya.Emulated,styles:n.styles||as,_:null,schemas:n.schemas||null,tView:null,id:""};hu(a);const f=n.dependencies;return a.directiveDefs=Id(f,!1),a.pipeDefs=Id(f,!0),a.id=function Za(n){let s=0;const a=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const b of a)s=Math.imul(31,s)+b.charCodeAt(0)|0;return s+=2147483648,"c"+s}(a),a})}function Lu(n){return us(n)||fo(n)}function Qa(n){return null!==n}function _c(n){return Gt(()=>({type:n.type,bootstrap:n.bootstrap||as,declarations:n.declarations||as,imports:n.imports||as,exports:n.exports||as,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function du(n,s){if(null==n)return ca;const a={};for(const f in n)if(n.hasOwnProperty(f)){const b=n[f];let D,B,Y=Hs.None;Array.isArray(b)?(Y=b[0],D=b[1],B=b[2]??D):(D=b,B=b),s?(a[D]=Y!==Hs.None?[f,Y]:f,s[D]=B):a[D]=f}return a}function Sd(n){return Gt(()=>{const s=uu(n);return hu(s),s})}function Dd(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function us(n){return n[fs]||null}function fo(n){return n[Fi]||null}function Bo(n){return n[mi]||null}function qa(n){const s=us(n)||fo(n)||Bo(n);return null!==s&&s.standalone}function To(n,s){const a=n[no]||null;if(!a&&!0===s)throw new Error(`Type ${Dn(n)} does not have '\u0275mod' property.`);return a}function uu(n){const s={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:n.inputs||ca,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||as,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:du(n.inputs,s),outputs:du(n.outputs),debugInfo:null}}function hu(n){n.features?.forEach(s=>s(n))}function Id(n,s){if(!n)return null;const a=s?Bo:Lu;return()=>("function"==typeof n?n():n).map(f=>a(f)).filter(Qa)}function rc(n){return{\u0275providers:n}}function Fu(...n){return{\u0275providers:gl(0,n),\u0275fromNgModule:!0}}function gl(n,...s){const a=[],f=new Set;let b;const D=B=>{a.push(B)};return ma(s,B=>{const Y=B;ns(Y,D,[],f)&&(b||=[],b.push(Y))}),void 0!==b&&Uc(b,D),a}function Uc(n,s){for(let a=0;a<n.length;a++){const{ngModule:f,providers:b}=n[a];Ad(b,D=>{s(D,f)})}}function ns(n,s,a,f){if(!(n=yt(n)))return!1;let b=null,D=ct(n);const B=!D&&us(n);if(D||B){if(B&&!B.standalone)return!1;b=n}else{const oe=n.ngModule;if(D=ct(oe),!D)return!1;b=oe}const Y=f.has(b);if(B){if(Y)return!1;if(f.add(b),B.dependencies){const oe="function"==typeof B.dependencies?B.dependencies():B.dependencies;for(const Ke of oe)ns(Ke,s,a,f)}}else{if(!D)return!1;{if(null!=D.imports&&!Y){let Ke;f.add(b);try{ma(D.imports,_t=>{ns(_t,s,a,f)&&(Ke||=[],Ke.push(_t))})}finally{}void 0!==Ke&&Uc(Ke,s)}if(!Y){const Ke=oa(b)||(()=>new b);s({provide:b,useFactory:Ke,deps:as},b),s({provide:Ml,useValue:b,multi:!0},b),s({provide:Fo,useValue:()=>er(b),multi:!0},b)}const oe=D.providers;if(null!=oe&&!Y){const Ke=n;Ad(oe,_t=>{s(_t,Ke)})}}}return b!==n&&void 0!==n.providers}function Ad(n,s){for(let a of n)ts(a)&&(a=a.\u0275providers),Array.isArray(a)?Ad(a,s):s(a)}const yh=Gi({provide:String,useValue:Gi});function vc(n){return null!==n&&"object"==typeof n&&yh in n}function zl(n){return"function"==typeof n}const Eh=new Ln(""),Ia={},cf={};let Gs;function sd(){return void 0===Gs&&(Gs=new ta),Gs}class xa{}class _l extends xa{get destroyed(){return this._destroyed}constructor(s,a,f,b){super(),this.parent=a,this.source=f,this.scopes=b,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ld(s,B=>this.processProvider(B)),this.records.set(rd,ad(void 0,this)),b.has("environment")&&this.records.set(xa,ad(void 0,this));const D=this.records.get(Eh);null!=D&&"string"==typeof D.value&&this.scopes.add(D.value),this.injectorDefTypes=new Set(this.get(Ml,as,ds.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const s=ne(null);try{for(const f of this._ngOnDestroyHooks)f.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const f of a)f()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(s)}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Hn(this),f=Ms(void 0);try{return s()}finally{Hn(a),Ms(f)}}get(s,a=Ra,f=ds.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(io))return s[io](this);f=xr(f);const D=Hn(this),B=Ms(void 0);try{if(!(f&ds.SkipSelf)){let oe=this.records.get(s);if(void 0===oe){const Ke=function wa(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ln}(s)&&hn(s);oe=Ke&&this.injectableDefInScope(Ke)?ad(Vu(s),Ia):null,this.records.set(s,oe)}if(null!=oe)return this.hydrate(s,oe)}return(f&ds.Self?sd():this.parent).get(s,a=f&ds.Optional&&a===Ra?null:a)}catch(Y){if("NullInjectorError"===Y.name){if((Y[U]=Y[U]||[]).unshift(Dn(s)),D)throw Y;return function Rr(n,s,a,f){const b=n[U];throw s[yn]&&b.unshift(s[yn]),n.message=function Bs(n,s,a,f=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let b=Dn(s);if(Array.isArray(s))b=s.map(Dn).join(" -> ");else if("object"==typeof s){let D=[];for(let B in s)if(s.hasOwnProperty(B)){let Y=s[B];D.push(B+":"+("string"==typeof Y?JSON.stringify(Y):Dn(Y)))}b=`{${D.join(", ")}}`}return`${a}${f?"("+f+")":""}[${b}]: ${n.replace(Me,"\n  ")}`}("\n"+n.message,b,a,f),n.ngTokenPath=b,n[U]=null,n}(Y,s,"R3InjectorError",this.source)}throw Y}finally{Ms(B),Hn(D)}}resolveInjectorInitializers(){const s=ne(null),a=Hn(this),f=Ms(void 0);try{const D=this.get(Fo,as,ds.Self);for(const B of D)B()}finally{Hn(a),Ms(f),ne(s)}}toString(){const s=[],a=this.records;for(const f of a.keys())s.push(Dn(f));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new hi(205,!1)}processProvider(s){let a=zl(s=yt(s))?s:yt(s&&s.provide);const f=function Hl(n){return vc(n)?ad(void 0,n.useValue):ad(od(n),Ia)}(s);if(!zl(s)&&!0===s.multi){let b=this.records.get(a);b||(b=ad(void 0,Ia,!0),b.factory=()=>ks(b.multi),this.records.set(a,b)),a=s,b.multi.push(s)}this.records.set(a,f)}hydrate(s,a){const f=ne(null);try{return a.value===Ia&&(a.value=cf,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Fa(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}finally{ne(f)}}injectableDefInScope(s){if(!s.providedIn)return!1;const a=yt(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Vu(n){const s=hn(n),a=null!==s?s.factory:oa(n);if(null!==a)return a;if(n instanceof Ln)throw new hi(204,!1);if(n instanceof Function)return function vl(n){if(n.length>0)throw new hi(204,!1);const a=function he(n){return n&&(n[we]||n[Mt])||null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new hi(204,!1)}function od(n,s,a){let f;if(zl(n)){const b=yt(n);return oa(b)||Vu(b)}if(vc(n))f=()=>yt(n.useValue);else if(function Bu(n){return!(!n||!n.useFactory)}(n))f=()=>n.useFactory(...ks(n.deps||[]));else if(function jl(n){return!(!n||!n.useExisting)}(n))f=()=>er(yt(n.useExisting));else{const b=yt(n&&(n.useClass||n.provide));if(!function zc(n){return!!n.deps}(n))return oa(b)||Vu(b);f=()=>new b(...ks(n.deps))}return f}function ad(n,s,a=!1){return{factory:n,value:s,multi:a?[]:void 0}}function ld(n,s){for(const a of n)Array.isArray(a)?ld(a,s):a&&ts(a)?ld(a.\u0275providers,s):s(a)}function bl(n,s){n instanceof _l&&n.assertNotDestroyed();const f=Hn(n),b=Ms(void 0);try{return s()}finally{Hn(f),Ms(b)}}function da(){return void 0!==Jo()||null!=function zn(){return Wn}()}function et(n){const s=Si.ng;if(s&&s.\u0275compilerFacade)return s.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Qt={\u0275\u0275defineInjectable:Zn,\u0275\u0275defineInjector:sn,\u0275\u0275inject:er,\u0275\u0275invalidFactoryDep:function Fr(n){throw new hi(202,!1)},resolveForwardRef:yt},Xn=Function;function di(n){return"function"==typeof n}const gr=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,qs=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Os=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,eo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class uo{constructor(s){this._reflect=s||Si.Reflect}factory(s){return(...a)=>new s(...a)}_zipTypesAndAnnotations(s,a){let f;f=Il(typeof s>"u"?a.length:s.length);for(let b=0;b<f.length;b++)f[b]=typeof s>"u"?[]:s[b]&&s[b]!=Object?[s[b]]:[],a&&null!=a[b]&&(f[b]=f[b].concat(a[b]));return f}_ownParameters(s,a){if(function ys(n){return gr.test(n)||eo.test(n)||qs.test(n)&&!Os.test(n)}(s.toString()))return null;if(s.parameters&&s.parameters!==a.parameters)return s.parameters;const b=s.ctorParameters;if(b&&b!==a.ctorParameters){const Y="function"==typeof b?b():b,oe=Y.map(_t=>_t&&_t.type),Ke=Y.map(_t=>_t&&ms(_t.decorators));return this._zipTypesAndAnnotations(oe,Ke)}const D=s.hasOwnProperty(Yn)&&s[Yn],B=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",s);return B||D?this._zipTypesAndAnnotations(B,D):Il(s.length)}parameters(s){if(!di(s))return[];const a=Ps(s);let f=this._ownParameters(s,a);return!f&&a!==Object&&(f=this.parameters(a)),f||[]}_ownAnnotations(s,a){if(s.annotations&&s.annotations!==a.annotations){let f=s.annotations;return"function"==typeof f&&f.annotations&&(f=f.annotations),f}return s.decorators&&s.decorators!==a.decorators?ms(s.decorators):s.hasOwnProperty(En)?s[En]:null}annotations(s){if(!di(s))return[];const a=Ps(s),f=this._ownAnnotations(s,a)||[];return(a!==Object?this.annotations(a):[]).concat(f)}_ownPropMetadata(s,a){if(s.propMetadata&&s.propMetadata!==a.propMetadata){let f=s.propMetadata;return"function"==typeof f&&f.propMetadata&&(f=f.propMetadata),f}if(s.propDecorators&&s.propDecorators!==a.propDecorators){const f=s.propDecorators,b={};return Object.keys(f).forEach(D=>{b[D]=ms(f[D])}),b}return s.hasOwnProperty(Mi)?s[Mi]:null}propMetadata(s){if(!di(s))return{};const a=Ps(s),f={};if(a!==Object){const D=this.propMetadata(a);Object.keys(D).forEach(B=>{f[B]=D[B]})}const b=this._ownPropMetadata(s,a);return b&&Object.keys(b).forEach(D=>{const B=[];f.hasOwnProperty(D)&&B.push(...f[D]),B.push(...b[D]),f[D]=B}),f}ownPropMetadata(s){return di(s)&&this._ownPropMetadata(s,Ps(s))||{}}hasLifecycleHook(s,a){return s instanceof Xn&&a in s.prototype}}function ms(n){return n?n.map(s=>new(0,s.type.annotationCls)(...s.args?s.args:[])):[]}function Ps(n){const s=n.prototype?Object.getPrototypeOf(n.prototype):null;return(s?s.constructor:null)||Object}const ws=0,Ri=1,Ir=2,so=3,Ei=4,Lr=5,Rs=6,$l=7,Zi=8,ar=9,cd=10,vi=11,ei=12,Oi=13,po=14,Wo=15,Uu=16,kd=17,yc=18,Od=19,wm=20,Hc=21,fu=22,pu=23,Jr=25,$f=1,Ca=7,ls=9,cr=10;var Al=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Al||{});function Xr(n){return Array.isArray(n)&&"object"==typeof n[$f]}function Qo(n){return Array.isArray(n)&&!0===n[$f]}function So(n){return!!(4&n.flags)}function ir(n){return n.componentOffset>-1}function $c(n){return!(1&~n.flags)}function Gl(n){return!!n.template}function Wl(n){return!!(512&n[Ir])}class Gu{constructor(s,a,f){this.previousValue=s,this.currentValue=a,this.firstChange=f}isFirstChange(){return this.firstChange}}function nn(n,s,a,f){null!==s?s.applyValueToInputSignal(s,f):n[a]=f}function Wu(){return uf}function uf(n){return n.type.prototype.ngOnChanges&&(n.setInput=yl),Tm}function Tm(){const n=Tg(this),s=n?.current;if(s){const a=n.previous;if(a===ca)n.previous=s;else for(let f in s)a[f]=s[f];n.current=null,this.ngOnChanges(s)}}function yl(n,s,a,f,b){const D=this.declaredInputs[f],B=Tg(n)||function xc(n,s){return n[Sm]=s}(n,{previous:ca,current:null}),Y=B.current||(B.current={}),oe=B.previous,Ke=oe[D];Y[D]=new Gu(Ke&&Ke.currentValue,a,oe===ca),nn(n,s,b,a)}Wu.ngInherit=!0;const Sm="__ngSimpleChanges__";function Tg(n){return n[Sm]||null}const Wc=function(n,s,a){},mu="svg";let Bp=!1;function Do(n){for(;Array.isArray(n);)n=n[ws];return n}function Vo(n,s){return Do(s[n])}function Uo(n,s){return Do(s[n.index])}function js(n,s){return n.data[s]}function na(n,s){return n[s]}function Yl(n,s){const a=s[n];return Xr(a)?a:a[ws]}function Ku(n){return!(128&~n[Ir])}function Ma(n,s){return null==s?null:n[s]}function ud(n){n[kd]=0}function Up(n){1024&n[Ir]||(n[Ir]|=1024,Ku(n)&&Ls(n))}function Wf(n){return!!(9216&n[Ir]||n[pu]?.dirty)}function oc(n){n[cd].changeDetectionScheduler?.notify(1),Wf(n)?Ls(n):64&n[Ir]&&(function wh(){return Bp}()?(n[Ir]|=1024,Ls(n)):n[cd].changeDetectionScheduler?.notify())}function Ls(n){n[cd].changeDetectionScheduler?.notify();let s=ui(n);for(;null!==s&&!(8192&s[Ir])&&(s[Ir]|=8192,Ku(s));)s=ui(s)}function Xl(n,s){if(!(256&~n[Ir]))throw new hi(911,!1);null===n[Hc]&&(n[Hc]=[]),n[Hc].push(s)}function ui(n){const s=n[so];return Qo(s)?s[so]:s}const wr={lFrame:cs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ql(){return wr.bindingsEnabled}function hd(){return null!==wr.skipHydrationRootTNode}function fi(){return wr.lFrame.lView}function Cs(){return wr.lFrame.tView}function Kf(n){return wr.lFrame.contextLView=n,n[Zi]}function lc(n){return wr.lFrame.contextLView=null,n}function Io(){let n=Yc();for(;null!==n&&64===n.type;)n=n.parent;return n}function Yc(){return wr.lFrame.currentTNode}function ia(n,s){const a=wr.lFrame;a.currentTNode=n,a.isParent=s}function pd(){return wr.lFrame.isParent}function Ol(){wr.lFrame.isParent=!1}function ra(){const n=wr.lFrame;let s=n.bindingRootIndex;return-1===s&&(s=n.bindingRootIndex=n.tView.bindingStartIndex),s}function wc(){return wr.lFrame.bindingIndex}function el(){return wr.lFrame.bindingIndex++}function Rd(n){const s=wr.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+n,a}function Dm(n,s){const a=wr.lFrame;a.bindingIndex=a.bindingRootIndex=n,Dh(s)}function Dh(n){wr.lFrame.currentDirectiveIndex=n}function Kr(n){const s=wr.lFrame.currentDirectiveIndex;return-1===s?null:n[s]}function Va(){return wr.lFrame.currentQueryIndex}function Xu(n){wr.lFrame.currentQueryIndex=n}function U0(n){const s=n[Ri];return 2===s.type?s.declTNode:1===s.type?n[Lr]:null}function Ag(n,s,a){if(a&ds.SkipSelf){let b=s,D=n;for(;!(b=b.parent,null!==b||a&ds.Host||(b=U0(D),null===b||(D=D[po],10&b.type))););if(null===b)return!1;s=b,n=D}const f=wr.lFrame=kg();return f.currentTNode=s,f.lView=n,!0}function Ua(n){const s=kg(),a=n[Ri];wr.lFrame=s,s.currentTNode=a.firstChild,s.lView=n,s.tView=a,s.contextLView=n,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function kg(){const n=wr.lFrame,s=null===n?null:n.child;return null===s?cs(n):s}function cs(n){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=s),s}function Ld(){const n=wr.lFrame;return wr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Hp=Ld;function Im(){const n=Ld();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function va(){return wr.lFrame.selectedIndex}function gu(n){wr.lFrame.selectedIndex=n}function Nr(){const n=wr.lFrame;return js(n.tView,n.selectedIndex)}function Mo(){wr.lFrame.currentNamespace=mu}function Nd(){!function Mm(){wr.lFrame.currentNamespace=null}()}let Am=!0;function Yf(){return Am}function Fd(n){Am=n}function ql(n,s){for(let a=s.directiveStart,f=s.directiveEnd;a<f;a++){const D=n.data[a].type.prototype,{ngAfterContentInit:B,ngAfterContentChecked:Y,ngAfterViewInit:oe,ngAfterViewChecked:Ke,ngOnDestroy:_t}=D;B&&(n.contentHooks??=[]).push(-a,B),Y&&((n.contentHooks??=[]).push(a,Y),(n.contentCheckHooks??=[]).push(a,Y)),oe&&(n.viewHooks??=[]).push(-a,oe),Ke&&((n.viewHooks??=[]).push(a,Ke),(n.viewCheckHooks??=[]).push(a,Ke)),null!=_t&&(n.destroyHooks??=[]).push(a,_t)}}function Ih(n,s,a){Om(n,s,3,a)}function mf(n,s,a,f){(3&n[Ir])===a&&Om(n,s,a,f)}function km(n,s){let a=n[Ir];(3&a)===s&&(a&=16383,a+=1,n[Ir]=a)}function Om(n,s,a,f){const D=f??-1,B=s.length-1;let Y=0;for(let oe=void 0!==f?65535&n[kd]:0;oe<B;oe++)if("number"==typeof s[oe+1]){if(Y=s[oe],null!=f&&Y>=f)break}else s[oe]<0&&(n[kd]+=65536),(Y<D||-1==D)&&(Pm(n,a,s,oe),n[kd]=(4294901760&n[kd])+oe+2),oe++}function Xf(n,s){Wc(4,n,s);const a=ne(null);try{s.call(n)}finally{ne(a),Wc(5,n,s)}}function Pm(n,s,a,f){const b=a[f]<0,D=a[f+1],Y=n[b?-a[f]:a[f]];b?n[Ir]>>14<n[kd]>>16&&(3&n[Ir])===s&&(n[Ir]+=16384,Xf(Y,D)):Xf(Y,D)}const Bd=-1;class Pl{constructor(s,a,f){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=f}}function Ts(n){return n!==Bd}function vs(n){return 32767&n}function oo(n,s){let a=function Tc(n){return n>>16}(n),f=s;for(;a>0;)f=f[po],a--;return f}let cc=!0;function Mh(n){const s=cc;return cc=n,s}const Ko=255,Vs=5;let Ss=0;const yo={};function ka(n,s){const a=$p(n,s);if(-1!==a)return a;const f=s[Ri];f.firstCreatePass&&(n.injectorIndex=s.length,ba(f.data,n),ba(s,null),ba(f.blueprint,null));const b=bu(n,s),D=n.injectorIndex;if(Ts(b)){const B=vs(b),Y=oo(b,s),oe=Y[Ri].data;for(let Ke=0;Ke<8;Ke++)s[D+Ke]=Y[B+Ke]|oe[B+Ke]}return s[D+8]=b,D}function ba(n,s){n.push(0,0,0,0,0,0,0,0,s)}function $p(n,s){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===s[n.injectorIndex+8]?-1:n.injectorIndex}function bu(n,s){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,f=null,b=s;for(;null!==b;){if(f=j0(b),null===f)return Bd;if(a++,b=b[po],-1!==f.injectorIndex)return f.injectorIndex|a<<16}return Bd}function Rm(n,s,a){!function Ta(n,s,a){let f;"string"==typeof a?f=a.charCodeAt(0)||0:a.hasOwnProperty(As)&&(f=a[As]),null==f&&(f=a[As]=Ss++);const b=f&Ko;s.data[n+(b>>Vs)]|=1<<b}(n,s,a)}function jd(n,s,a){if(a&ds.Optional||void 0!==n)return n;No()}function wl(n,s,a,f){if(a&ds.Optional&&void 0===f&&(f=null),!(a&(ds.Self|ds.Host))){const b=n[ar],D=Ms(void 0);try{return b?b.get(s,f,a&ds.Optional):Ga(s,f,a&ds.Optional)}finally{Ms(D)}}return jd(f,0,a)}function to(n,s,a,f=ds.Default,b){if(null!==n){if(2048&s[Ir]&&!(f&ds.Self)){const B=function dc(n,s,a,f,b){let D=n,B=s;for(;null!==D&&null!==B&&2048&B[Ir]&&!(512&B[Ir]);){const Y=_f(D,B,a,f|ds.Self,yo);if(Y!==yo)return Y;let oe=D.parent;if(!oe){const Ke=B[wm];if(Ke){const _t=Ke.get(a,yo,f);if(_t!==yo)return _t}oe=j0(B),B=B[po]}D=oe}return b}(n,s,a,f,yo);if(B!==yo)return B}const D=_f(n,s,a,f,yo);if(D!==yo)return D}return wl(s,a,f,b)}function _f(n,s,a,f,b){const D=function Ah(n){if("string"==typeof n)return n.charCodeAt(0)||0;const s=n.hasOwnProperty(As)?n[As]:void 0;return"number"==typeof s?s>=0?s&Ko:md:s}(a);if("function"==typeof D){if(!Ag(s,n,f))return f&ds.Host?jd(b,0,f):wl(s,a,f,b);try{let B;if(B=D(f),null!=B||f&ds.Optional)return B;No()}finally{Hp()}}else if("number"==typeof D){let B=null,Y=$p(n,s),oe=Bd,Ke=f&ds.Host?s[Wo][Lr]:null;for((-1===Y||f&ds.SkipSelf)&&(oe=-1===Y?bu(n,s):s[Y+8],oe!==Bd&&qu(f,!1)?(B=s[Ri],Y=vs(oe),s=oo(oe,s)):Y=-1);-1!==Y;){const _t=s[Ri];if(Gp(D,Y,_t.data)){const Wt=vf(Y,s,a,B,f,Ke);if(Wt!==yo)return Wt}oe=s[Y+8],oe!==Bd&&qu(f,s[Ri].data[Y+8]===Ke)&&Gp(D,Y,s)?(B=_t,Y=vs(oe),s=oo(oe,s)):Y=-1}}return b}function vf(n,s,a,f,b,D){const B=s[Ri],Y=B.data[n+8],_t=Rl(Y,B,a,null==f?ir(Y)&&cc:f!=B&&!!(3&Y.type),b&ds.Host&&D===Y);return null!==_t?Qu(s,B,_t,Y):yo}function Rl(n,s,a,f,b){const D=n.providerIndexes,B=s.data,Y=1048575&D,oe=n.directiveStart,_t=D>>20,Mn=b?Y+_t:n.directiveEnd;for(let Un=f?Y:Y+_t;Un<Mn;Un++){const ni=B[Un];if(Un<oe&&a===ni||Un>=oe&&ni.type===a)return Un}if(b){const Un=B[oe];if(Un&&Gl(Un)&&Un.type===a)return oe}return null}function Qu(n,s,a,f){let b=n[a];const D=s.data;if(function tl(n){return n instanceof Pl}(b)){const B=b;B.resolving&&function Pa(n,s){throw s&&s.join(" > "),new hi(-200,n)}(function ps(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():kr(n)}(D[a]));const Y=Mh(B.canSeeViewProviders);B.resolving=!0;const Ke=B.injectImpl?Ms(B.injectImpl):null;Ag(n,f,ds.Default);try{b=n[a]=B.factory(void 0,D,n,f),s.firstCreatePass&&a>=f.directiveStart&&function vu(n,s,a){const{ngOnChanges:f,ngOnInit:b,ngDoCheck:D}=s.type.prototype;if(f){const B=uf(s);(a.preOrderHooks??=[]).push(n,B),(a.preOrderCheckHooks??=[]).push(n,B)}b&&(a.preOrderHooks??=[]).push(0-n,b),D&&((a.preOrderHooks??=[]).push(n,D),(a.preOrderCheckHooks??=[]).push(n,D))}(a,D[a],s)}finally{null!==Ke&&Ms(Ke),Mh(Y),B.resolving=!1,Hp()}}return b}function Gp(n,s,a){return!!(a[s+(n>>Vs)]&1<<n)}function qu(n,s){return!(n&ds.Self||n&ds.Host&&s)}class go{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,f){return to(this._tNode,this._lView,s,xr(f),a)}}function md(){return new go(Io(),fi())}function Ll(n){return Gt(()=>{const s=n.prototype.constructor,a=s[Oo]||kh(s),f=Object.prototype;let b=Object.getPrototypeOf(n.prototype).constructor;for(;b&&b!==f;){const D=b[Oo]||kh(b);if(D&&D!==a)return D;b=Object.getPrototypeOf(b)}return D=>new D})}function kh(n){return Ht(n)?()=>{const s=kh(yt(n));return s&&s()}:oa(n)}function j0(n){const s=n[Ri],a=s.type;return 2===a?s.declTNode:1===a?n[Lr]:null}function Cl(n){return function Ud(n,s){if("class"===s)return n.classes;if("style"===s)return n.styles;const a=n.attrs;if(a){const f=a.length;let b=0;for(;b<f;){const D=a[b];if(rt(D))break;if(0===D)b+=2;else if("number"==typeof D)for(b++;b<f&&"string"==typeof a[b];)b++;else{if(D===s)return a[b+1];b+=2}}}return null}(Io(),n)}const Rg=rr("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>Cl(n)}));let gd=null;function $d(n){return Zl(function Hd(){return gd=gd||new uo}().parameters(n))}function Zl(n){return n.map(s=>function bf(n){const s={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let a=0;a<n.length;a++){const f=n[a];if(void 0===f)continue;const b=Object.getPrototypeOf(f);if(f instanceof Pr||"Optional"===b.ngMetadataName)s.optional=!0;else if(f instanceof Qs||"SkipSelf"===b.ngMetadataName)s.skipSelf=!0;else if(f instanceof tr||"Self"===b.ngMetadataName)s.self=!0;else if(f instanceof Us||"Host"===b.ngMetadataName)s.host=!0;else if(f instanceof or)s.token=f.token;else if(f instanceof Rg){if(void 0===f.attributeName)throw new hi(204,!1);s.attribute=f.attributeName}else s.token=f}else s.token=void 0===n||Array.isArray(n)&&0===n.length?null:n;return s}(s))}const Zu=Gi({provide:String,useValue:Gi});function Qf(n){return void 0!==n.useClass}function Lg(n){return void 0!==n.useFactory}const ao=yi("Injectable",void 0,void 0,void 0,(n,s)=>function yu(n,s){let a=null,f=null;n.hasOwnProperty(we)||Object.defineProperty(n,we,{get:()=>(null===a&&(a=et().compileInjectable(Qt,`ng:///${n.name}/\u0275prov.js`,function jo(n,s){const a=s||{providedIn:null},f={name:n.name,type:n,typeArgumentCount:0,providedIn:a.providedIn};return(Qf(a)||Lg(a))&&void 0!==a.deps&&(f.deps=Zl(a.deps)),Qf(a)?f.useClass=a.useClass:function Ju(n){return Zu in n}(a)?f.useValue=a.useValue:Lg(a)?f.useFactory=a.useFactory:function Ng(n){return void 0!==n.useExisting}(a)&&(f.useExisting=a.useExisting),f}(n,s))),a)}),n.hasOwnProperty(Oo)||Object.defineProperty(n,Oo,{get:()=>{if(null===f){const b=et();f=b.compileFactory(Qt,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:$d(n),target:b.FactoryTarget.Injectable})}return f},configurable:!0})}(n,s));function Oh(n,s=null,a=null,f){const b=Lm(n,s,a,f);return b.resolveInjectorInitializers(),b}function Lm(n,s=null,a=null,f,b=new Set){const D=[a||as,Fu(n)];return f=f||("object"==typeof n?void 0:Dn(n)),new _l(D,s||sd(),f||null,b)}let nl=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Ra;static#t=this.NULL=new ta;static create(a,f){if(Array.isArray(a))return Oh({name:""},f,a,"");{const b=a.name??"";return Oh({name:b},a.parent,a.providers,b)}}static#n=this.\u0275prov=Zn({token:n,providedIn:"any",factory:()=>er(rd)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function Sc(n){return n.ngOriginalError}class jr{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Sc(s);for(;a&&Sc(a);)a=Sc(a);return a||null}}const qf=new Ln("",{providedIn:"root",factory:()=>Ni(jr).handleError.bind(void 0)});let Qc=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Ro;static#t=this.__NG_ENV_ID__=a=>a}return n})();class z0 extends Qc{constructor(s){super(),this._lView=s}onDestroy(s){return Xl(this._lView,s),()=>function ac(n,s){if(null===n[Hc])return;const a=n[Hc].indexOf(s);-1!==a&&n[Hc].splice(a,1)}(this._lView,s)}}function Ro(){return new z0(fi())}function Lo(){return es(Io(),fi())}function es(n,s){return new Gd(Uo(n,s))}let Gd=(()=>{class n{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Lo}return n})();function Eu(n){return n instanceof Gd?n.nativeElement:n}function Sa(n){return s=>{setTimeout(n,void 0,s)}}const il=class Rh extends it.B{constructor(s=!1){super(),this.destroyRef=void 0,this.__isAsync=s,da()&&(this.destroyRef=Ni(Qc,{optional:!0})??void 0)}emit(s){const a=ne(null);try{super.next(s)}finally{ne(a)}}subscribe(s,a,f){let b=s,D=a||(()=>null),B=f;if(s&&"object"==typeof s){const oe=s;b=oe.next?.bind(oe),D=oe.error?.bind(oe),B=oe.complete?.bind(oe)}this.__isAsync&&(D=Sa(D),b&&(b=Sa(b)),B&&(B=Sa(B)));const Y=super.subscribe({next:b,error:D,complete:B});return s instanceof dt.yU&&s.add(Y),Y}};function Ef(){return this._results[Symbol.iterator]()}class Wd{static#e=Symbol.iterator;get changes(){return this._changes??=new il}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=Wd.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Ef)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){this.dirty=!1;const f=function Go(n){return n.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function aa(n,s,a){if(n.length!==s.length)return!1;for(let f=0;f<n.length;f++){let b=n[f],D=s[f];if(a&&(b=a(b),D=a(D)),D!==b)return!1}return!0}(this._results,f,a))&&(this._results=f,this.length=f.length,this.last=f[this.length-1],this.first=f[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(s){this._onDirty=s}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Qd(n){return!(128&~n.flags)}const $=new Map;let S=0;const Tr="__ngContext__";function ur(n,s){Xr(s)?(n[Tr]=s[Od],function Z(n){$.set(n[Od],n)}(s)):n[Tr]=s}function Fm(n){return wf(n[ei])}function H0(n){return wf(n[Ei])}function wf(n){for(;null!==n&&!Qo(n);)n=n[Ei];return n}let Vg;function Xp(n){Vg=n}function ih(){if(void 0!==Vg)return Vg;if(typeof document<"u")return document;throw new hi(210,!1)}const rp=new Ln("",{providedIn:"root",factory:()=>sp}),sp="ng",op=new Ln(""),ap=new Ln("",{providedIn:"platform",factory:()=>"unknown"}),K_=new Ln(""),G0=new Ln("",{providedIn:"root",factory:()=>ih().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Qp={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Ug=new Ln("",{providedIn:"root",factory:()=>Qp});let Y0=()=>null;function cp(n,s,a=!1){return Y0(n,s,a)}const Qg=new Ln("",{providedIn:"root",factory:()=>!1});let Q0,$m;function jh(n){return function hp(){if(void 0===Q0&&(Q0=null,Si.trustedTypes))try{Q0=Si.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Q0}()?.createHTML(n)||n}function zh(){if(void 0===$m&&($m=null,Si.trustedTypes))try{$m=Si.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $m}function q0(n){return zh()?.createHTML(n)||n}function Ic(n){return zh()?.createScriptURL(n)||n}class Iu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pi})`}}class Z0 extends Iu{getTypeName(){return"HTML"}}class eb extends Iu{getTypeName(){return"Style"}}class J0 extends Iu{getTypeName(){return"Script"}}class e_ extends Iu{getTypeName(){return"URL"}}class fp extends Iu{getTypeName(){return"ResourceURL"}}function ec(n){return n instanceof Iu?n.changingThisBreaksApplicationSecurity:n}function pp(n,s){const a=function Tf(n){return n instanceof Iu&&n.getTypeName()||null}(n);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Pi})`)}return a===s}function qg(n){return new Z0(n)}function Q_(n){return new eb(n)}function $b(n){return new J0(n)}function Gb(n){return new e_(n)}function Gm(n){return new fp(n)}class tb{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(jh(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class q_{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=jh(s),a}}const Zc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mc(n){return(n=String(n)).match(Zc)?n:"unsafe:"+n}function Mu(n){const s={};for(const a of n.split(","))s[a]=!0;return s}function Sf(...n){const s={};for(const a of n)for(const f in a)a.hasOwnProperty(f)&&(s[f]=!0);return s}const mp=Mu("area,br,col,hr,img,wbr"),Wm=Mu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gp=Mu("rp,rt"),_p=Sf(mp,Sf(Wm,Mu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sf(gp,Mu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sf(gp,Wm)),Hh=Mu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),J_=Sf(Hh,Mu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xm=Mu("script,style,template");class _d{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,f=!0,b=[];for(;a;)if(a.nodeType===Node.ELEMENT_NODE?f=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,f&&a.firstChild)b.push(a),a=ua(a);else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let D=vd(a);if(D){a=D;break}a=b.pop()}return this.buf.join("")}startElement(s){const a=tc(s).toLowerCase();if(!_p.hasOwnProperty(a))return this.sanitizedSomething=!0,!Xm.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const f=s.attributes;for(let b=0;b<f.length;b++){const D=f.item(b),B=D.name,Y=B.toLowerCase();if(!J_.hasOwnProperty(Y)){this.sanitizedSomething=!0;continue}let oe=D.value;Hh[Y]&&(oe=Mc(oe)),this.buf.push(" ",B,'="',bd(oe),'"')}return this.buf.push(">"),!0}endElement(s){const a=tc(s).toLowerCase();_p.hasOwnProperty(a)&&!mp.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(bd(s))}}function vd(n){const s=n.nextSibling;if(s&&n!==s.previousSibling)throw $h(s);return s}function ua(n){const s=n.firstChild;if(s&&function Zg(n,s){return(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,s))throw $h(s);return s}function tc(n){const s=n.nodeName;return"string"==typeof s?s:"FORM"}function $h(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const Jd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n_=/([^\#-~ |!])/g;function bd(n){return n.replace(/&/g,"&amp;").replace(Jd,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(n_,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jc;function Gh(n,s){let a=null;try{Jc=Jc||function Sl(n){const s=new q_(n);return function t_(){try{return!!(new window.DOMParser).parseFromString(jh(""),"text/html")}catch{return!1}}()?new tb(s):s}(n);let f=s?String(s):"";a=Jc.getInertBodyElement(f);let b=5,D=f;do{if(0===b)throw new Error("Failed to sanitize html because the input is unstable");b--,f=D,D=a.innerHTML,a=Jc.getInertBodyElement(f)}while(f!==D);return jh((new _d).sanitizeChildren(vp(a)||a))}finally{if(a){const f=vp(a)||a;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function vp(n){return"content"in n&&function i_(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var bp=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(bp||{});function Au(n){const s=xp();return s?q0(s.sanitize(bp.HTML,n)||""):pp(n,"HTML")?q0(ec(n)):Gh(ih(),kr(n))}function Qm(n){const s=xp();return s?s.sanitize(bp.URL,n)||"":pp(n,"URL")?ec(n):Mc(kr(n))}function yp(n){const s=xp();if(s)return Ic(s.sanitize(bp.RESOURCE_URL,n)||"");if(pp(n,"ResourceURL"))return Ic(ec(n));throw new hi(904,!1)}function Ep(n,s,a){return function s_(n,s){return"src"===s&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===s&&("base"===n||"link"===n)?yp:Qm}(s,a)(n)}function xp(){const n=fi();return n&&n[cd].sanitizer}const wp=/^>|^->|<!--|-->|--!>|<!-$/g,Ac=/(<|>)/g,im="\u200b$1\u200b";function om(n){return n.ownerDocument.defaultView}function am(n){return n.ownerDocument}function uc(n){return n instanceof Function?n():n}var r0=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(r0||{});let Qh;function ku(n,s){return Qh(n,s)}function ah(n,s,a,f,b){if(null!=f){let D,B=!1;Qo(f)?D=f:Xr(f)&&(B=!0,f=f[ws]);const Y=Do(f);0===n&&null!==a?null==b?l0(s,a,Y):lh(s,a,Y,b||null,!0):1===n&&null!==a?lh(s,a,Y,b||null,!0):2===n?function ig(n,s,a){const f=Ou(n,s);f&&function ch(n,s,a,f){n.removeChild(s,a,f)}(n,f,s,a)}(s,Y,B):3===n&&s.destroyNode(Y),null!=D&&function u_(n,s,a,f,b){const D=a[Ca];D!==Do(a)&&ah(s,n,f,D,b);for(let Y=cr;Y<a.length;Y++){const oe=a[Y];Pf(oe[Ri],oe,n,s,f,D)}}(s,n,D,a,b)}}function kc(n,s){return n.createComment(function ib(n){return n.replace(wp,s=>s.replace(Ac,im))}(s))}function lm(n,s,a){return n.createElement(s,a)}function ov(n,s){s[cd].changeDetectionScheduler?.notify(1),Pf(n,s,s[vi],2,null,null)}function ab(n,s){const a=n[ls],f=a.indexOf(s);a.splice(f,1)}function cm(n,s){if(n.length<=cr)return;const a=cr+s,f=n[a];if(f){const b=f[Uu];null!==b&&b!==n&&ab(b,f),s>0&&(n[a-1][Ei]=f[Ei]);const D=ic(n,cr+s);!function sv(n,s){ov(n,s),s[ws]=null,s[Lr]=null}(f[Ri],f);const B=D[yc];null!==B&&B.detachView(D[Ri]),f[so]=null,f[Ei]=null,f[Ir]&=-129}return f}function Jm(n,s){if(!(256&s[Ir])){const a=s[vi];a.destroyNode&&Pf(n,s,a,3,null,null),function s0(n){let s=n[ei];if(!s)return a0(n[Ri],n);for(;s;){let a=null;if(Xr(s))a=s[ei];else{const f=s[cr];f&&(a=f)}if(!a){for(;s&&!s[Ei]&&s!==n;)Xr(s)&&a0(s[Ri],s),s=s[so];null===s&&(s=n),Xr(s)&&a0(s[Ri],s),a=s&&s[Ei]}s=a}}(s)}}function a0(n,s){if(256&s[Ir])return;const a=ne(null);try{s[Ir]&=-129,s[Ir]|=256,s[pu]&&function Ve(n){if(de(n),ae(n))for(let s=0;s<n.producerNode.length;s++)J(n.producerNode[s],n.producerIndexOfThis[s]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(s[pu]),function av(n,s){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let f=0;f<a.length;f+=2){const b=s[a[f]];if(!(b instanceof Pl)){const D=a[f+1];if(Array.isArray(D))for(let B=0;B<D.length;B+=2){const Y=b[D[B]],oe=D[B+1];Wc(4,Y,oe);try{oe.call(Y)}finally{Wc(5,Y,oe)}}else{Wc(4,b,D);try{D.call(b)}finally{Wc(5,b,D)}}}}}(n,s),function lb(n,s){const a=n.cleanup,f=s[$l];if(null!==a)for(let D=0;D<a.length-1;D+=2)if("string"==typeof a[D]){const B=a[D+3];B>=0?f[B]():f[-B].unsubscribe(),D+=2}else a[D].call(f[a[D+1]]);null!==f&&(s[$l]=null);const b=s[Hc];if(null!==b){s[Hc]=null;for(let D=0;D<b.length;D++)(0,b[D])()}}(n,s),1===s[Ri].type&&s[vi].destroy();const f=s[Uu];if(null!==f&&Qo(s[so])){f!==s[so]&&ab(f,s);const b=s[yc];null!==b&&b.detachView(n)}!function Ct(n){$.delete(n[Od])}(s)}finally{ne(a)}}function eg(n,s,a){return function dm(n,s,a){let f=s;for(;null!==f&&40&f.type;)f=(s=f).parent;if(null===f)return a[ws];{const{componentOffset:b}=f;if(b>-1){const{encapsulation:D}=n.data[f.directiveStart+b];if(D===Ya.None||D===Ya.Emulated)return null}return Uo(f,a)}}(n,s.parent,a)}function lh(n,s,a,f,b){n.insertBefore(s,a,f,b)}function l0(n,s,a){n.appendChild(s,a)}function sl(n,s,a,f,b){null!==f?lh(n,s,a,f,b):l0(n,s,a)}function Ou(n,s){return n.parentNode(s)}function kf(n,s,a){return lv(n,s,a)}let dh,lv=function Of(n,s,a){return 40&n.type?Uo(n,a):null};function tg(n,s,a,f){const b=eg(n,f,s),D=s[vi],Y=kf(f.parent||s[Lr],f,s);if(null!=b)if(Array.isArray(a))for(let oe=0;oe<a.length;oe++)sl(D,b,a[oe],Y,!1);else sl(D,b,a,Y,!1);void 0!==dh&&dh(D,f,s,a,b)}function Mp(n,s){if(null!==s){const a=s.type;if(3&a)return Uo(s,n);if(4&a)return d_(-1,n[s.index]);if(8&a){const f=s.child;if(null!==f)return Mp(n,f);{const b=n[s.index];return Qo(b)?d_(-1,b):Do(b)}}if(32&a)return ku(s,n)()||Do(n[s.index]);{const f=ng(n,s);return null!==f?Array.isArray(f)?f[0]:Mp(ui(n[Wo]),f):Mp(n,s.next)}}return null}function ng(n,s){return null!==s?n[Wo][Lr].projection[s.projection]:null}function d_(n,s){const a=cr+n+1;if(a<s.length){const f=s[a],b=f[Ri].firstChild;if(null!==b)return Mp(f,b)}return s[Ca]}function d0(n,s,a,f,b,D,B){for(;null!=a;){const Y=f[a.index],oe=a.type;if(B&&0===s&&(Y&&ur(Do(Y),f),a.flags|=2),32&~a.flags)if(8&oe)d0(n,s,a.child,f,b,D,!1),ah(s,n,b,Y,D);else if(32&oe){const Ke=ku(a,f);let _t;for(;_t=Ke();)ah(s,n,b,_t,D);ah(s,n,b,Y,D)}else 16&oe?sg(n,s,f,a,b,D):ah(s,n,b,Y,D);a=B?a.projectionNext:a.next}}function Pf(n,s,a,f,b,D){d0(a,f,n.firstChild,s,b,D,!1)}function sg(n,s,a,f,b,D){const B=a[Wo],oe=B[Lr].projection[f.projection];if(Array.isArray(oe))for(let Ke=0;Ke<oe.length;Ke++)ah(s,n,b,oe[Ke],D);else{let Ke=oe;const _t=B[so];Qd(f)&&(Ke.flags|=128),d0(n,s,Ke,_t,b,D,!0)}}function u0(n,s,a){""===a?n.removeAttribute(s,"class"):n.setAttribute(s,"class",a)}function h0(n,s,a){const{mergedAttrs:f,classes:b,styles:D}=a;null!==f&&Xa(n,s,f),null!==b&&u0(n,s,b),null!==D&&function h_(n,s,a){n.setAttribute(s,"style",a)}(n,s,D)}const Es={};function Pu(n=1){f_(Cs(),fi(),va()+n,!1)}function f_(n,s,a,f){if(!f)if(3&~s[Ir]){const D=n.preOrderHooks;null!==D&&mf(s,D,0,a)}else{const D=n.preOrderCheckHooks;null!==D&&Ih(s,D,a)}gu(a)}function f0(n,s=ds.Default){const a=fi();return null===a?er(n,s):to(Io(),a,yt(n),s)}function p_(){throw new Error("invalid")}function um(n,s,a,f,b,D){const B=ne(null);try{let Y=null;b&Hs.SignalBased&&(Y=s[f][ce]),null!==Y&&void 0!==Y.transformFn&&(D=Y.transformFn(D)),b&Hs.HasDecoratorInputTransform&&(D=n.inputTransforms[f].call(s,D)),null!==n.setInput?n.setInput(s,Y,D,a,f):nn(s,Y,f,D)}finally{ne(B)}}function Ap(n,s,a,f,b,D,B,Y,oe,Ke,_t){const Wt=s.blueprint.slice();return Wt[ws]=b,Wt[Ir]=204|f,(null!==Ke||n&&2048&n[Ir])&&(Wt[Ir]|=2048),ud(Wt),Wt[so]=Wt[po]=n,Wt[Zi]=a,Wt[cd]=B||n&&n[cd],Wt[vi]=Y||n&&n[vi],Wt[ar]=oe||n&&n[ar]||null,Wt[Lr]=D,Wt[Od]=function P(){return S++}(),Wt[Rs]=_t,Wt[wm]=Ke,Wt[Wo]=2==s.type?n[Wo]:Wt,Wt}function hm(n,s,a,f,b){let D=n.data[s];if(null===D)D=function p0(n,s,a,f,b){const D=Yc(),B=pd(),oe=n.data[s]=function tu(n,s,a,f,b,D){let B=s?s.injectorIndex:-1,Y=0;return hd()&&(Y|=128),{type:a,index:f,insertBeforeIndex:null,injectorIndex:B,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Y,providerIndexes:0,value:b,attrs:D,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,B?D:D&&D.parent,a,s,f,b);return null===n.firstChild&&(n.firstChild=oe),null!==D&&(B?null==D.child&&null!==oe.parent&&(D.child=oe):null===D.next&&(D.next=oe,oe.prev=D)),oe}(n,s,a,f,b),function ff(){return wr.lFrame.inI18n}()&&(D.flags|=32);else if(64&D.type){D.type=a,D.value=f,D.attrs=b;const B=function xl(){const n=wr.lFrame,s=n.currentTNode;return n.isParent?s:s.parent}();D.injectorIndex=null===B?-1:B.injectorIndex}return ia(D,!0),D}function Rf(n,s,a,f){if(0===a)return-1;const b=s.length;for(let D=0;D<a;D++)s.push(f),n.blueprint.push(f),n.data.push(null);return b}function m0(n,s,a,f,b){const D=va(),B=2&f;try{gu(-1),B&&s.length>Jr&&f_(n,s,Jr,!1),Wc(B?2:0,b),a(f,b)}finally{gu(D),Wc(B?3:1,b)}}function m_(n,s,a){if(So(s)){const f=ne(null);try{const D=s.directiveEnd;for(let B=s.directiveStart;B<D;B++){const Y=n.data[B];Y.contentQueries&&Y.contentQueries(1,a[B],B)}}finally{ne(f)}}}function g0(n,s,a){Ql()&&(function gv(n,s,a,f){const b=a.directiveStart,D=a.directiveEnd;ir(a)&&function xv(n,s,a){const f=Uo(s,n),b=g_(a);let B=16;a.signals?B=4096:a.onPush&&(B=64);const Y=b0(n,Ap(n,b,null,B,f,s,null,n[cd].rendererFactory.createRenderer(f,a),null,null,null));n[s.index]=Y}(s,a,n.data[b+a.componentOffset]),n.firstCreatePass||ka(a,s),ur(f,s);const B=a.initialInputs;for(let Y=b;Y<D;Y++){const oe=n.data[Y],Ke=Qu(s,n,Y,a);ur(Ke,s),null!==B&&ny(0,Y-b,Ke,oe,0,B),Gl(oe)&&(Yl(a.index,s)[Zi]=Qu(s,n,Y,a))}}(n,s,a,Uo(a,s)),!(64&~a.flags)&&_v(n,s,a))}function dv(n,s,a=Uo){const f=s.localNames;if(null!==f){let b=s.index+1;for(let D=0;D<f.length;D+=2){const B=f[D+1],Y=-1===B?a(s,n):n[B];n[b++]=Y}}}function g_(n){const s=n.tView;return null===s||s.incompleteFirstPass?n.tView=__(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):s}function __(n,s,a,f,b,D,B,Y,oe,Ke,_t){const Wt=Jr+f,Mn=Wt+b,Un=function v_(n,s){const a=[];for(let f=0;f<s;f++)a.push(f<n?null:Es);return a}(Wt,Mn),ni="function"==typeof Ke?Ke():Ke;return Un[Ri]={type:n,blueprint:Un,template:a,queries:null,viewQuery:Y,declTNode:s,data:Un.slice().fill(null,Wt),bindingStartIndex:Wt,expandoStartIndex:Mn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof D?D():D,pipeRegistry:"function"==typeof B?B():B,firstChild:null,schemas:oe,consts:ni,incompleteFirstPass:!1,ssrId:_t}}let hv=()=>null;function pv(n,s,a,f,b){for(let D in s){if(!s.hasOwnProperty(D))continue;const B=s[D];if(void 0===B)continue;f??={};let Y,oe=Hs.None;Array.isArray(B)?(Y=B[0],oe=B[1]):Y=B;let Ke=D;if(null!==b){if(!b.hasOwnProperty(D))continue;Ke=b[D]}0===n?og(f,a,Ke,Y,oe):og(f,a,Ke,Y)}return f}function og(n,s,a,f,b){let D;n.hasOwnProperty(a)?(D=n[a]).push(s,f):D=n[a]=[s,f],void 0!==b&&D.push(b)}function ja(n,s,a,f,b,D,B,Y){const oe=Uo(s,a);let _t,Ke=s.inputs;!Y&&null!=Ke&&(_t=Ke[f])?(Da(n,a,_t,f,b),ir(s)&&function ag(n,s){const a=Yl(s,n);16&a[Ir]||(a[Ir]|=64)}(a,s.index)):3&s.type&&(f=function b_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(f),b=null!=B?B(b,s.value||"",f):b,D.setProperty(oe,f,b))}function qh(n,s,a,f){if(Ql()){const b=null===f?null:{"":-1},D=function Jb(n,s){const a=n.directiveRegistry;let f=null,b=null;if(a)for(let D=0;D<a.length;D++){const B=a[D];if(af(s,B.selectors,!1))if(f||(f=[]),Gl(B))if(null!==B.findHostDirectiveDefs){const Y=[];b=b||new Map,B.findHostDirectiveDefs(B,Y,b),f.unshift(...Y,B),bv(n,s,Y.length)}else f.unshift(B),bv(n,s,0);else b=b||new Map,B.findHostDirectiveDefs?.(B,f,b),f.push(B)}return null===f?null:[f,b]}(n,a);let B,Y;null===D?B=Y=null:[B,Y]=D,null!==B&&v0(n,s,a,B,b,Y),b&&function yv(n,s,a){if(s){const f=n.localNames=[];for(let b=0;b<s.length;b+=2){const D=a[s[b+1]];if(null==D)throw new hi(-301,!1);f.push(s[b],D)}}}(a,f,b)}a.mergedAttrs=Fe(a.mergedAttrs,a.attrs)}function v0(n,s,a,f,b,D){for(let Ke=0;Ke<f.length;Ke++)Rm(ka(a,s),n,f[Ke].type);!function Ev(n,s,a){n.flags|=1,n.directiveStart=s,n.directiveEnd=s+a,n.providerIndexes=s}(a,n.data.length,f.length);for(let Ke=0;Ke<f.length;Ke++){const _t=f[Ke];_t.providersResolver&&_t.providersResolver(_t)}let B=!1,Y=!1,oe=Rf(n,s,f.length,null);for(let Ke=0;Ke<f.length;Ke++){const _t=f[Ke];a.mergedAttrs=Fe(a.mergedAttrs,_t.hostAttrs),ty(n,a,s,oe,_t),ey(oe,_t,b),null!==_t.contentQueries&&(a.flags|=4),(null!==_t.hostBindings||null!==_t.hostAttrs||0!==_t.hostVars)&&(a.flags|=64);const Wt=_t.type.prototype;!B&&(Wt.ngOnChanges||Wt.ngOnInit||Wt.ngDoCheck)&&((n.preOrderHooks??=[]).push(a.index),B=!0),!Y&&(Wt.ngOnChanges||Wt.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(a.index),Y=!0),oe++}!function _0(n,s,a){const b=s.directiveEnd,D=n.data,B=s.attrs,Y=[];let oe=null,Ke=null;for(let _t=s.directiveStart;_t<b;_t++){const Wt=D[_t],Mn=a?a.get(Wt):null,ni=Mn?Mn.outputs:null;oe=pv(0,Wt.inputs,_t,oe,Mn?Mn.inputs:null),Ke=pv(1,Wt.outputs,_t,Ke,ni);const Ii=null===oe||null===B||qr(s)?null:db(oe,_t,B);Y.push(Ii)}null!==oe&&(oe.hasOwnProperty("class")&&(s.flags|=8),oe.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=Y,s.inputs=oe,s.outputs=Ke}(n,a,D)}function _v(n,s,a){const f=a.directiveStart,b=a.directiveEnd,D=a.index,B=function zp(){return wr.lFrame.currentDirectiveIndex}();try{gu(D);for(let Y=f;Y<b;Y++){const oe=n.data[Y],Ke=s[Y];Dh(Y),(null!==oe.hostBindings||0!==oe.hostVars||null!==oe.hostAttrs)&&vv(oe,Ke)}}finally{gu(-1),Dh(B)}}function vv(n,s){null!==n.hostBindings&&n.hostBindings(1,s)}function bv(n,s,a){s.componentOffset=a,(n.components??=[]).push(s.index)}function ey(n,s,a){if(a){if(s.exportAs)for(let f=0;f<s.exportAs.length;f++)a[s.exportAs[f]]=n;Gl(s)&&(a[""]=n)}}function ty(n,s,a,f,b){n.data[f]=b;const D=b.factory||(b.factory=oa(b.type)),B=new Pl(D,Gl(b),f0);n.blueprint[f]=B,a[f]=B,function mv(n,s,a,f,b){const D=b.hostBindings;if(D){let B=n.hostBindingOpCodes;null===B&&(B=n.hostBindingOpCodes=[]);const Y=~s.index;(function Zh(n){let s=n.length;for(;s>0;){const a=n[--s];if("number"==typeof a&&a<0)return a}return 0})(B)!=Y&&B.push(Y),B.push(a,f,D)}}(n,s,f,Rf(n,a,b.hostVars,Es),b)}function yd(n,s,a,f,b,D){const B=Uo(n,s);!function E_(n,s,a,f,b,D,B){if(null==D)n.removeAttribute(s,b,a);else{const Y=null==B?kr(D):B(D,f||"",b);n.setAttribute(s,b,Y,a)}}(s[vi],B,D,n.value,a,f,b)}function ny(n,s,a,f,b,D){const B=D[s];if(null!==B)for(let Y=0;Y<B.length;)um(f,a,B[Y++],B[Y++],B[Y++],B[Y++])}function db(n,s,a){let f=null,b=0;for(;b<a.length;){const D=a[b];if(0!==D)if(5!==D){if("number"==typeof D)break;if(n.hasOwnProperty(D)){null===f&&(f=[]);const B=n[D];for(let Y=0;Y<B.length;Y+=3)if(B[Y]===s){f.push(D,B[Y+1],B[Y+2],a[b+1]);break}}b+=2}else b+=2;else b+=4}return f}function wv(n,s,a,f){return[n,!0,0,s,null,f,null,a,null,null]}function ub(n,s){const a=n.contentQueries;if(null!==a){const f=ne(null);try{for(let b=0;b<a.length;b+=2){const B=a[b+1];if(-1!==B){const Y=n.data[B];Xu(a[b]),Y.contentQueries(2,s[B],B)}}}finally{ne(f)}}}function b0(n,s){return n[ei]?n[Oi][Ei]=s:n[ei]=s,n[Oi]=s,s}function lg(n,s,a){Xu(0);const f=ne(null);try{s(n,a)}finally{ne(f)}}function w_(n){return n[$l]||(n[$l]=[])}function cg(n){return n.cleanup||(n.cleanup=[])}function pm(n,s,a){return(null===n||Gl(n))&&(a=function Ch(n){for(;Array.isArray(n);){if("object"==typeof n[$f])return n;n=n[ws]}return null}(a[s.index])),a[vi]}function hh(n,s){const a=n[ar],f=a?a.get(jr,null):null;f&&f.handleError(s)}function Da(n,s,a,f,b){for(let D=0;D<a.length;){const B=a[D++],Y=a[D++],oe=a[D++];um(n.data[B],s[B],f,Y,oe,b)}}function ha(n,s,a){const f=Vo(s,n);!function l_(n,s,a){n.setValue(s,a)}(n[vi],f,a)}function kp(n,s){const a=Yl(s,n),f=a[Ri];!function hb(n,s){for(let a=s.length;a<n.blueprint.length;a++)s.push(n.blueprint[a])}(f,a);const b=a[ws];null!==b&&null===a[Rs]&&(a[Rs]=cp(b,a[ar])),Lf(f,a,a[Zi])}function Lf(n,s,a){Ua(s);try{const f=n.viewQuery;null!==f&&lg(1,f,a);const b=n.template;null!==b&&m0(n,s,b,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),s[yc]?.finishViewCreation(n),n.staticContentQueries&&ub(n,s),n.staticViewQueries&&lg(2,n.viewQuery,a);const D=n.components;null!==D&&function fb(n,s){for(let a=0;a<s.length;a++)kp(n,s[a])}(s,D)}catch(f){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),f}finally{s[Ir]&=-5,Im()}}function Nf(n,s,a,f){const b=ne(null);try{const D=s.tView,oe=Ap(n,D,a,4096&n[Ir]?4096:16,null,s,null,null,f?.injector??null,f?.embeddedViewInjector??null,f?.dehydratedView??null);oe[Uu]=n[s.index];const _t=n[yc];return null!==_t&&(oe[yc]=_t.createEmbeddedView(D)),Lf(D,oe,a),oe}finally{ne(b)}}function dg(n,s){const a=cr+s;if(a<n.length)return n[a]}function Op(n,s){return!s||null===s.firstChild||Qd(n)}function nu(n,s,a,f=!0){const b=s[Ri];if(function c_(n,s,a,f){const b=cr+f,D=a.length;f>0&&(a[b-1][Ei]=s),f<D-cr?(s[Ei]=a[b],nd(a,cr+f,s)):(a.push(s),s[Ei]=null),s[so]=a;const B=s[Uu];null!==B&&a!==B&&function o0(n,s){const a=n[ls];s[Wo]!==s[so][so][Wo]&&(n[Ir]|=Al.HasTransplantedViews),null===a?n[ls]=[s]:a.push(s)}(B,s);const Y=s[yc];null!==Y&&Y.insertView(n),oc(s),s[Ir]|=128}(b,s,n,a),f){const B=d_(a,n),Y=s[vi],oe=Ou(Y,n[Ca]);null!==oe&&function Qb(n,s,a,f,b,D){f[ws]=b,f[Lr]=s,Pf(n,f,a,1,b,D)}(b,n[Lr],Y,s,oe,B)}const D=s[Rs];null!==D&&null!==D.firstChild&&(D.firstChild=null)}function y0(n,s){const a=cm(n,s);return void 0!==a&&Jm(a[Ri],a),a}function Ff(n,s,a,f,b=!1){for(;null!==a;){const D=s[a.index];null!==D&&f.push(Do(D)),Qo(D)&&mm(D,f);const B=a.type;if(8&B)Ff(n,s,a.child,f);else if(32&B){const Y=ku(a,s);let oe;for(;oe=Y();)f.push(oe)}else if(16&B){const Y=ng(s,a);if(Array.isArray(Y))f.push(...Y);else{const oe=ui(s[Wo]);Ff(oe[Ri],oe,Y,f,!0)}}a=b?a.projectionNext:a.next}return f}function mm(n,s){for(let a=cr;a<n.length;a++){const f=n[a],b=f[Ri].firstChild;null!==b&&Ff(f[Ri],f,b,s)}n[Ca]!==n[ws]&&s.push(n[Ca])}let E0=[];const td={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Ls(n.lView)},consumerOnSignalRead(){this.lView[pu]=this}},fc=100;function Pp(n,s=!0,a=0){const f=n[cd],b=f.rendererFactory;b.begin?.();try{!function Cv(n,s){S_(n,s);let a=0;for(;Wf(n);){if(a===fc)throw new hi(103,!1);a++,S_(n,1)}}(n,a)}catch(B){throw s&&hh(n,B),B}finally{b.end?.(),f.inlineEffectRunner?.flush()}}function T_(n,s,a,f){const b=s[Ir];if(!(256&~b))return;s[cd].inlineEffectRunner?.flush(),Ua(s);let B=null,Y=null;(function Tv(n){return 2!==n.type})(n)&&(Y=function Bf(n){return n[pu]??function C_(n){const s=E0.pop()??Object.create(td);return s.lView=n,s}(n)}(s),B=function me(n){return n&&(n.nextProducerIndex=0),ne(n)}(Y));try{ud(s),function Sh(n){return wr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&m0(n,s,a,2,f);const oe=!(3&~b);if(oe){const Wt=n.preOrderCheckHooks;null!==Wt&&Ih(s,Wt,null)}else{const Wt=n.preOrderHooks;null!==Wt&&mf(s,Wt,0,null),km(s,0)}if(function gm(n){for(let s=Fm(n);null!==s;s=H0(s)){if(!(s[Ir]&Al.HasTransplantedViews))continue;const a=s[ls];for(let f=0;f<a.length;f++){Up(a[f])}}}(s),Sv(s,0),null!==n.contentQueries&&ub(n,s),oe){const Wt=n.contentCheckHooks;null!==Wt&&Ih(s,Wt)}else{const Wt=n.contentHooks;null!==Wt&&mf(s,Wt,1),km(s,1)}!function uh(n,s){const a=n.hostBindingOpCodes;if(null!==a)try{for(let f=0;f<a.length;f++){const b=a[f];if(b<0)gu(~b);else{const D=b,B=a[++f],Y=a[++f];Dm(B,D),Y(2,s[D])}}}finally{gu(-1)}}(n,s);const Ke=n.components;null!==Ke&&pb(s,Ke,0);const _t=n.viewQuery;if(null!==_t&&lg(2,_t,f),oe){const Wt=n.viewCheckHooks;null!==Wt&&Ih(s,Wt)}else{const Wt=n.viewHooks;null!==Wt&&mf(s,Wt,2),km(s,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s[fu]){for(const Wt of s[fu])Wt();s[fu]=null}s[Ir]&=-73}catch(oe){throw Ls(s),oe}finally{null!==Y&&(function Ne(n,s){if(ne(s),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(ae(n))for(let a=n.nextProducerIndex;a<n.producerNode.length;a++)J(n.producerNode[a],n.producerIndexOfThis[a]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(Y,B),function Ru(n){n.lView[pu]!==n&&(n.lView=null,E0.push(n))}(Y)),Im()}}function Sv(n,s){for(let a=Fm(n);null!==a;a=H0(a))for(let f=cr;f<a.length;f++)Iv(a[f],s)}function Dv(n,s,a){Iv(Yl(s,n),a)}function Iv(n,s){Ku(n)&&S_(n,s)}function S_(n,s){const f=n[Ri],b=n[Ir],D=n[pu];let B=!!(0===s&&16&b);if(B||=!!(64&b&&0===s),B||=!!(1024&b),B||=!(!D?.dirty||!Be(D)),D&&(D.dirty=!1),n[Ir]&=-9217,B)T_(f,n,f.template,n[Zi]);else if(8192&b){Sv(n,1);const Y=f.components;null!==Y&&pb(n,Y,1)}}function pb(n,s,a){for(let f=0;f<s.length;f++)Dv(n,s[f],a)}function hg(n){for(n[cd].changeDetectionScheduler?.notify();n;){n[Ir]|=64;const s=ui(n);if(Wl(n)&&!s)return n;n=s}return null}class x0{get rootNodes(){const s=this._lView,a=s[Ri];return Ff(a,s,a.firstChild,[])}constructor(s,a,f=!0){this._lView=s,this._cdRefInjectingView=a,this.notifyErrorHandler=f,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zi]}set context(s){this._lView[Zi]=s}get destroyed(){return!(256&~this._lView[Ir])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[so];if(Qo(s)){const a=s[8],f=a?a.indexOf(this):-1;f>-1&&(cm(s,f),ic(a,f))}this._attachedToViewContainer=!1}Jm(this._lView[Ri],this._lView)}onDestroy(s){Xl(this._lView,s)}markForCheck(){hg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ir]&=-129}reattach(){oc(this._lView),this._lView[Ir]|=128}detectChanges(){this._lView[Ir]|=1024,Pp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new hi(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ov(this._lView[Ri],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new hi(902,!1);this._appRef=s,oc(this._lView)}}let fg=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Mv}return n})();const iy=fg,D_=class extends iy{constructor(s,a,f){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=f}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,f){const b=Nf(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:a,dehydratedView:f});return new x0(b)}};function Mv(){return I_(Io(),fi())}function I_(n,s){return 4&n.type?new D_(s,n,es(n,s)):null}let ef=()=>null;function o(n,s){return ef(n,s)}class h{}class y{}class M{}class He{resolveComponentFactory(s){throw function L(n){const s=Error(`No component factory found for ${Dn(n)}.`);return s.ngComponent=n,s}(s)}}let Je=(()=>{class n{static#e=this.NULL=new He}return n})();class St{}let rn=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Bt(){const n=fi(),a=Yl(Io().index,n);return(Xr(a)?a:n)[vi]}()}return n})(),Vn=(()=>{class n{static#e=this.\u0275prov=Zn({token:n,providedIn:"root",factory:()=>null})}return n})();const Fn={},Gn=new Set;function si(n){Gn.has(n)||(Gn.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Bi=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Bi||{});const wi={destroy(){}};function Yr(n,s){!s&&function bc(n){if(!da())throw new hi(-203,!1)}();const a=s?.injector??Ni(nl);if(!function Yh(n){return"browser"===(n??Ni(nl)).get(ap)}(a))return wi;si("NgAfterNextRender");const f=a.get($o),b=f.handler??=new xs,D=s?.phase??Bi.MixedReadWrite,B=()=>{b.unregister(oe),Y()},Y=a.get(Qc).onDestroy(B),oe=bl(a,()=>new Ws(D,()=>{B(),n()}));return b.register(oe),{destroy:B}}class Ws{constructor(s,a){this.phase=s,this.callbackFn=a,this.errorHandler=Ni(jr,{optional:!0}),Ni(h,{optional:!0})?.notify(1)}invoke(){try{this.callbackFn()}catch(s){this.errorHandler?.handleError(s)}}}class xs{constructor(){this.executingCallbacks=!1,this.buckets={[Bi.EarlyRead]:new Set,[Bi.Write]:new Set,[Bi.MixedReadWrite]:new Set,[Bi.Read]:new Set},this.deferredCallbacks=new Set}register(s){(this.executingCallbacks?this.deferredCallbacks:this.buckets[s.phase]).add(s)}unregister(s){this.buckets[s.phase].delete(s),this.deferredCallbacks.delete(s)}execute(){this.executingCallbacks=!0;for(const s of Object.values(this.buckets))for(const a of s)a.invoke();this.executingCallbacks=!1;for(const s of this.deferredCallbacks)this.buckets[s.phase].add(s);this.deferredCallbacks.clear()}destroy(){for(const s of Object.values(this.buckets))s.clear();this.deferredCallbacks.clear()}}let $o=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const f of a)f()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Zn({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ys(n){return!!To(n)}function iu(n,s,a){let f=a?n.styles:null,b=a?n.classes:null,D=0;if(null!==s)for(let B=0;B<s.length;B++){const Y=s[B];"number"==typeof Y?D=Y:1==D?b=On(b,Y):2==D&&(f=On(f,Y+": "+s[++B]+";"))}a?n.styles=f:n.stylesWithoutHost=f,a?n.classes=b:n.classesWithoutHost=b}class xb extends Je{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=us(s);return new Vf(a,this.ngModule)}}function wb(n){const s=[];for(const a in n){if(!n.hasOwnProperty(a))continue;const f=n[a];void 0!==f&&s.push({propName:Array.isArray(f)?f[0]:f,templateName:a})}return s}class D0{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,f){f=xr(f);const b=this.injector.get(s,Fn,f);return b!==Fn||a===Fn?b:this.parentInjector.get(s,a,f)}}class Vf extends M{get inputs(){const s=this.componentDef,a=s.inputTransforms,f=wb(s.inputs);if(null!==a)for(const b of f)a.hasOwnProperty(b.propName)&&(b.transform=a[b.propName]);return f}get outputs(){return wb(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Na(n){return n.map(lf).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,f,b){const D=ne(null);try{let B=(b=b||this.ngModule)instanceof xa?b:b?.injector;B&&null!==this.componentDef.getStandaloneInjector&&(B=this.componentDef.getStandaloneInjector(B)||B);const Y=B?new D0(s,B):s,oe=Y.get(St,null);if(null===oe)throw new hi(407,!1);const Ke=Y.get(Vn,null),Mn={rendererFactory:oe,sanitizer:Ke,inlineEffectRunner:null,afterRenderEventManager:Y.get($o,null),changeDetectionScheduler:Y.get(h,null)},Un=oe.createRenderer(null,this.componentDef),ni=this.componentDef.selectors[0][0]||"div",Ii=f?function cb(n,s,a,f){const D=f.get(Qg,!1)||a===Ya.ShadowDom,B=n.selectRootElement(s,D);return function uv(n){hv(n)}(B),B}(Un,f,this.componentDef.encapsulation,Y):lm(Un,ni,function O_(n){const s=n.toLowerCase();return"svg"===s?mu:"math"===s?"math":null}(ni));let nr=512;this.componentDef.signals?nr|=4096:this.componentDef.onPush||(nr|=16);let vr=null;null!==Ii&&(vr=cp(Ii,Y,!0));const Hi=__(0,null,null,1,0,null,null,null,null,null,null),Is=Ap(null,Hi,null,nr,null,null,Mn,Un,Y,null,vr);let qo,$a;Ua(Is);try{const lu=this.componentDef;let Np,t1=null;lu.findHostDirectiveDefs?(Np=[],t1=new Map,lu.findHostDirectiveDefs(lu,Np,t1),Np.push(lu)):Np=[lu];const mS=function Tb(n,s){const a=n[Ri],f=Jr;return n[f]=s,hm(a,f,2,"#host",null)}(Is,Ii),$A=function P_(n,s,a,f,b,D,B){const Y=b[Ri];!function Sb(n,s,a,f){for(const b of n)s.mergedAttrs=Fe(s.mergedAttrs,b.hostAttrs);null!==s.mergedAttrs&&(iu(s,s.mergedAttrs,!0),null!==a&&h0(f,a,s))}(f,n,s,B);let oe=null;null!==s&&(oe=cp(s,b[ar]));const Ke=D.rendererFactory.createRenderer(s,a);let _t=16;a.signals?_t=4096:a.onPush&&(_t=64);const Wt=Ap(b,g_(a),null,_t,b[n.index],n,D,Ke,null,null,oe);return Y.firstCreatePass&&bv(Y,n,f.length-1),b0(b,Wt),b[n.index]=Wt}(mS,Ii,lu,Np,Is,Mn,Un);$a=js(Hi,Jr),Ii&&function i(n,s,a,f){if(f)Xa(n,a,["ng-version","17.3.7"]);else{const{attrs:b,classes:D}=function gc(n){const s=[],a=[];let f=1,b=2;for(;f<n.length;){let D=n[f];if("string"==typeof D)2===b?""!==D&&s.push(D,n[++f]):8===b&&a.push(D);else{if(!ro(b))break;b=D}f++}return{attrs:s,classes:a}}(s.selectors[0]);b&&Xa(n,a,b),D&&D.length>0&&u0(n,a,D.join(" "))}}(Un,lu,Ii,f),void 0!==a&&function d(n,s,a){const f=n.projection=[];for(let b=0;b<s.length;b++){const D=a[b];f.push(null!=D?Array.from(D):null)}}($a,this.ngContentSelectors,a),qo=function g(n,s,a,f,b,D){const B=Io(),Y=b[Ri],oe=Uo(B,b);v0(Y,b,B,a,null,f);for(let _t=0;_t<a.length;_t++)ur(Qu(b,Y,B.directiveStart+_t,B),b);_v(Y,b,B),oe&&ur(oe,b);const Ke=Qu(b,Y,B.directiveStart+B.componentOffset,B);if(n[Zi]=b[Zi]=Ke,null!==D)for(const _t of D)_t(Ke,s);return m_(Y,B,b),Ke}($A,lu,Np,t1,Is,[_]),Lf(Hi,Is,null)}finally{Im()}return new Cb(this.componentType,qo,es($a,Is),Is,$a)}finally{ne(D)}}}class Cb extends y{constructor(s,a,f,b,D){super(),this.location=f,this._rootLView=b,this._tNode=D,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new x0(b,void 0,!1),this.componentType=s}setInput(s,a){const f=this._tNode.inputs;let b;if(null!==f&&(b=f[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const D=this._rootLView;Da(D[Ri],D,b,s,a),this.previousInputValues.set(s,a),hg(Yl(this._tNode.index,D))}}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function _(){const n=Io();ql(fi()[Ri],n)}let w=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=N}return n})();function N(){return Qe(Io(),fi())}const W=w,se=class extends W{constructor(s,a,f){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=f}get element(){return es(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const s=bu(this._hostTNode,this._hostLView);if(Ts(s)){const a=oo(s,this._hostLView),f=vs(s);return new go(a[Ri].data[f+8],a)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=xe(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-cr}createEmbeddedView(s,a,f){let b,D;"number"==typeof f?b=f:null!=f&&(b=f.index,D=f.injector);const B=o(this._lContainer,s.ssrId),Y=s.createEmbeddedViewImpl(a||{},D,B);return this.insertImpl(Y,b,Op(this._hostTNode,B)),Y}createComponent(s,a,f,b,D){const B=s&&!di(s);let Y;if(B)Y=a;else{const ni=a||{};Y=ni.index,f=ni.injector,b=ni.projectableNodes,D=ni.environmentInjector||ni.ngModuleRef}const oe=B?s:new Vf(us(s)),Ke=f||this.parentInjector;if(!D&&null==oe.ngModule){const Ii=(B?Ke:this.parentInjector).get(xa,null);Ii&&(D=Ii)}const _t=us(oe.componentType??{}),Wt=o(this._lContainer,_t?.id??null),Un=oe.create(Ke,b,Wt?.firstChild??null,D);return this.insertImpl(Un.hostView,Y,Op(this._hostTNode,Wt)),Un}insert(s,a){return this.insertImpl(s,a,!0)}insertImpl(s,a,f){const b=s._lView;if(function dd(n){return Qo(n[so])}(b)){const Y=this.indexOf(s);if(-1!==Y)this.detach(Y);else{const oe=b[so],Ke=new se(oe,oe[Lr],oe[so]);Ke.detach(Ke.indexOf(s))}}const D=this._adjustIndex(a),B=this._lContainer;return nu(B,b,D,f),s.attachToViewContainerRef(),nd(Ue(B),D,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=xe(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),f=cm(this._lContainer,a);f&&(ic(Ue(this._lContainer),a),Jm(f[Ri],f))}detach(s){const a=this._adjustIndex(s,-1),f=cm(this._lContainer,a);return f&&null!=ic(Ue(this._lContainer),a)?new x0(f):null}_adjustIndex(s,a=0){return s??this.length+a}};function xe(n){return n[8]}function Ue(n){return n[8]||(n[8]=[])}function Qe(n,s){let a;const f=s[n.index];return Qo(f)?a=f:(a=wv(f,s,null,n),s[n.index]=a,b0(s,a)),gt(a,s,n,f),new se(a,n,s)}let gt=function cn(n,s,a,f){if(n[Ca])return;let b;b=8&a.type?Do(f):function Ze(n,s){const a=n[vi],f=a.createComment(""),b=Uo(s,n);return lh(a,Ou(a,b),f,function hc(n,s){return n.nextSibling(s)}(a,b),!1),f}(s,a),n[Ca]=b},Kt=()=>!1;class _n{constructor(s){this.queryList=s,this.matches=null}clone(){return new _n(this.queryList)}setDirty(){this.queryList.setDirty()}}class ai{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const f=null!==s.contentQueries?s.contentQueries[0]:a.length,b=[];for(let D=0;D<f;D++){const B=a.getByIndex(D);b.push(this.queries[B.indexInDeclarationView].clone())}return new ai(b)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}finishViewCreation(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Yi(s,a).matches&&this.queries[a].setDirty()}}class Er{constructor(s,a,f=null){this.flags=a,this.read=f,this.predicate="string"==typeof s?function ri(n){return n.split(",").map(s=>s.trim())}(s):s}}class Ki{constructor(s=[]){this.queries=s}elementStart(s,a){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let f=0;f<this.length;f++){const b=null!==a?a.length:0,D=this.getByIndex(f).embeddedTView(s,b);D&&(D.indexInDeclarationView=f,null!==a?a.push(D):a=[D])}return null!==a?new Ki(a):null}template(s,a){for(let f=0;f<this.queries.length;f++)this.queries[f].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class pr{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new pr(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1&~this.metadata.flags){const a=this._declarationNodeIndex;let f=s.parent;for(;null!==f&&8&f.type&&f.index!==a;)f=f.parent;return a===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const f=this.metadata.predicate;if(Array.isArray(f))for(let b=0;b<f.length;b++){const D=f[b];this.matchTNodeWithReadOption(s,a,Ti(a,D)),this.matchTNodeWithReadOption(s,a,Rl(a,s,D,!1,!1))}else f===fg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Rl(a,s,f,!1,!1))}matchTNodeWithReadOption(s,a,f){if(null!==f){const b=this.metadata.read;if(null!==b)if(b===Gd||b===w||b===fg&&4&a.type)this.addMatch(a.index,-2);else{const D=Rl(a,s,b,!1,!1);null!==D&&this.addMatch(a.index,D)}else this.addMatch(a.index,f)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Ti(n,s){const a=n.localNames;if(null!==a)for(let f=0;f<a.length;f+=2)if(a[f]===s)return a[f+1];return null}function mr(n,s,a,f){return-1===a?function ci(n,s){return 11&n.type?es(n,s):4&n.type?I_(n,s):null}(s,n):-2===a?function Gr(n,s,a){return a===Gd?es(s,n):a===fg?I_(s,n):a===w?Qe(s,n):void 0}(n,s,f):Qu(n,n[Ri],a,s)}function ki(n,s,a,f){const b=s[yc].queries[f];if(null===b.matches){const D=n.data,B=a.matches,Y=[];for(let oe=0;null!==B&&oe<B.length;oe+=2){const Ke=B[oe];Y.push(Ke<0?null:mr(s,D[Ke],B[oe+1],a.metadata.read))}b.matches=Y}return b.matches}function zi(n,s,a,f){const b=n.queries.getByIndex(a),D=b.matches;if(null!==D){const B=ki(n,s,b,a);for(let Y=0;Y<D.length;Y+=2){const oe=D[Y];if(oe>0)f.push(B[Y/2]);else{const Ke=D[Y+1],_t=s[-oe];for(let Wt=cr;Wt<_t.length;Wt++){const Mn=_t[Wt];Mn[Uu]===Mn[so]&&zi(Mn[Ri],Mn,Ke,f)}if(null!==_t[ls]){const Wt=_t[ls];for(let Mn=0;Mn<Wt.length;Mn++){const Un=Wt[Mn];zi(Un[Ri],Un,Ke,f)}}}}}return f}function Dr(n,s,a){const f=new Wd(!(4&~a));return function Zb(n,s,a,f){const b=w_(s);b.push(a),n.firstCreatePass&&cg(n).push(f,b.length-1)}(n,s,f,f.destroy),(s[yc]??=new ai).queries.push(new _n(f))-1}function qi(n,s,a){null===n.queries&&(n.queries=new Ki),n.queries.track(new pr(s,a))}function Yi(n,s){return n.queries.getByIndex(s)}function lr(n,s){const a=n[Ri],f=Yi(a,s);return f.crossesNgTemplate?zi(a,n,s,[]):ki(a,n,f,s)}function xd(n){return function Cr(n){return"function"==typeof n&&void 0!==n[ce]}(n)&&"function"==typeof n.set}function Cd(n){let s=function Em(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const f=[n];for(;s;){let b;if(Gl(n))b=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new hi(903,!1);b=s.\u0275dir}if(b){if(a){f.push(b);const B=n;B.inputs=Hv(n.inputs),B.inputTransforms=Hv(n.inputTransforms),B.declaredInputs=Hv(n.declaredInputs),B.outputs=Hv(n.outputs);const Y=b.hostBindings;Y&&su(n,Y);const oe=b.viewQuery,Ke=b.contentQueries;if(oe&&Eg(n,oe),Ke&&B_(n,Ke),ru(n,b),rs(n.outputs,b.outputs),Gl(b)&&b.data.animation){const _t=n.data;_t.animation=(_t.animation||[]).concat(b.data.animation)}}const D=b.features;if(D)for(let B=0;B<D.length;B++){const Y=D[B];Y&&Y.ngInherit&&Y(n),Y===Cd&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Iy(n){let s=0,a=null;for(let f=n.length-1;f>=0;f--){const b=n[f];b.hostVars=s+=b.hostVars,b.hostAttrs=Fe(b.hostAttrs,a=Fe(a,b.hostAttrs))}}(f)}function ru(n,s){for(const a in s.inputs){if(!s.inputs.hasOwnProperty(a)||n.inputs.hasOwnProperty(a))continue;const f=s.inputs[a];if(void 0!==f&&(n.inputs[a]=f,n.declaredInputs[a]=s.declaredInputs[a],null!==s.inputTransforms)){const b=Array.isArray(f)?f[0]:f;if(!s.inputTransforms.hasOwnProperty(b))continue;n.inputTransforms??={},n.inputTransforms[b]=s.inputTransforms[b]}}}function Hv(n){return n===ca?{}:n===as?[]:n}function Eg(n,s){const a=n.viewQuery;n.viewQuery=a?(f,b)=>{s(f,b),a(f,b)}:s}function B_(n,s){const a=n.contentQueries;n.contentQueries=a?(f,b,D)=>{s(f,b,D),a(f,b,D)}:s}function su(n,s){const a=n.hostBindings;n.hostBindings=a?(f,b)=>{s(f,b),a(f,b)}:s}function Oy(n){const s=n.inputConfig,a={};for(const f in s)if(s.hasOwnProperty(f)){const b=s[f];Array.isArray(b)&&b[3]&&(a[f]=b[3])}n.inputTransforms=a}class xg{}class uy{}function Py(n,s){return new Ab(n,s??null,[])}class Ab extends xg{constructor(s,a,f){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xb(this);const b=To(s);this._bootstrapComponents=uc(b.bootstrap),this._r3Injector=Lm(s,a,[{provide:xg,useValue:this},{provide:Je,useValue:this.componentFactoryResolver},...f],Dn(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class V_ extends uy{constructor(s){super(),this.moduleType=s}create(s){return new Ab(this.moduleType,s,[])}}class Ny extends xg{constructor(s){super(),this.componentFactoryResolver=new xb(this),this.instance=null;const a=new _l([...s.providers,{provide:xg,useValue:this},{provide:Je,useValue:this.componentFactoryResolver}],s.parent||sd(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function $v(n,s,a=null){return new Ny({providers:n,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let U_=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $t.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(f){return new(f||n)};static#t=this.\u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wv(n){return!!l(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function l(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function r(n,s,a){return n[s]=a}function u(n,s){return n[s]}function v(n,s,a){return!Object.is(n[s],a)&&(n[s]=a,!0)}function C(n,s,a,f){const b=v(n,s,a);return v(n,s+1,f)||b}function R(n,s,a,f,b){const D=C(n,s,a,f);return v(n,s+2,b)||D}function ue(n,s,a,f,b,D){const B=C(n,s,a,f);return C(n,s+2,b,D)||B}function Tt(n,s,a,f,b,D,B,Y){const oe=fi(),Ke=Cs(),_t=n+Jr,Wt=Ke.firstCreatePass?function tt(n,s,a,f,b,D,B,Y,oe){const Ke=s.consts,_t=hm(s,n,4,B||null,Ma(Ke,Y));qh(s,a,_t,Ma(Ke,oe)),ql(s,_t);const Wt=_t.tView=__(2,_t,f,b,D,s.directiveRegistry,s.pipeRegistry,null,s.schemas,Ke,null);return null!==s.queries&&(s.queries.template(s,_t),Wt.queries=s.queries.embeddedTView(_t)),_t}(_t,Ke,oe,s,a,f,b,D,B):Ke.data[_t];ia(Wt,!1);const Mn=tn(Ke,oe,Wt,n);Yf()&&tg(Ke,oe,Mn,Wt),ur(Mn,oe);const Un=wv(Mn,oe,Mn,Wt);return oe[_t]=Un,b0(oe,Un),function zt(n,s,a){return Kt(n,s,a)}(Un,Wt,oe),$c(Wt)&&g0(Ke,oe,Wt),null!=B&&dv(oe,Wt,Y),Tt}let tn=function kn(n,s,a,f){return Fd(!0),s[vi].createComment("")};function U1(...n){}class Nc{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new il(!1),this.onMicrotaskEmpty=new il(!1),this.onStable=new il(!1),this.onError=new il(!1),typeof Zone>"u")throw new hi(908,!1);Zone.assertZonePatched();const b=this;b._nesting=0,b._outer=b._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(b._inner=b._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(b._inner=b._inner.fork(Zone.longStackTraceZoneSpec)),b.shouldCoalesceEventChangeDetection=!f&&a,b.shouldCoalesceRunChangeDetection=f,b.lastRequestAnimationFrameId=-1,b.nativeRequestAnimationFrame=function RE(){const n="function"==typeof Si.requestAnimationFrame;let s=Si[n?"requestAnimationFrame":"setTimeout"],a=Si[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f);const b=a[Zone.__symbol__("OriginalDelegate")];b&&(a=b)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function NE(n){const s=()=>{!function j1(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Si,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Uy(n),n.isCheckStableRunning=!0,c1(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Uy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,f,b,D,B,Y)=>{if(function H1(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(Y))return a.invokeTask(b,D,B,Y);try{return z1(n),a.invokeTask(b,D,B,Y)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===D.type||n.shouldCoalesceRunChangeDetection)&&s(),d1(n)}},onInvoke:(a,f,b,D,B,Y,oe)=>{try{return z1(n),a.invoke(b,D,B,Y,oe)}finally{n.shouldCoalesceRunChangeDetection&&s(),d1(n)}},onHasTask:(a,f,b,D)=>{a.hasTask(b,D),f===b&&("microTask"==D.change?(n._hasPendingMicrotasks=D.microTask,Uy(n),c1(n)):"macroTask"==D.change&&(n.hasPendingMacrotasks=D.macroTask))},onHandleError:(a,f,b,D)=>(a.handleError(b,D),n.runOutsideAngular(()=>n.onError.emit(D)),!1)})}(b)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nc.isInAngularZone())throw new hi(909,!1)}static assertNotInAngularZone(){if(Nc.isInAngularZone())throw new hi(909,!1)}run(s,a,f){return this._inner.run(s,a,f)}runTask(s,a,f,b){const D=this._inner,B=D.scheduleEventTask("NgZoneEvent: "+b,s,LE,U1,U1);try{return D.runTask(B,a,f)}finally{D.cancelTask(B)}}runGuarded(s,a,f){return this._inner.runGuarded(s,a,f)}runOutsideAngular(s){return this._outer.run(s)}}const LE={};function c1(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Uy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function z1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function d1(n){n._nesting--,c1(n)}class Pb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new il,this.onMicrotaskEmpty=new il,this.onStable=new il,this.onError=new il}run(s,a,f){return s.apply(a,f)}runGuarded(s,a,f){return s.apply(a,f)}runOutsideAngular(s){return s()}runTask(s,a,f,b){return s.apply(a,f)}}function Ky(n,s,a,f){const b=fi();return v(b,el(),s)&&(Cs(),yd(Nr(),b,n,s,a,f)),Ky}function le(n,s,a,f){return v(n,el(),a)?s+kr(a)+f:Es}function Cg(n,s){return n<<17|s<<2}function N0(n){return n>>17&32767}function by(n){return 2|n}function z_(n){return(131068&n)>>2}function Ul(n,s){return-131069&n|s<<2}function F0(n){return 1|n}function Qx(n,s,a,f){const b=n[a+1],D=null===s;let B=f?N0(b):z_(b),Y=!1;for(;0!==B&&(!1===Y||D);){const Ke=n[B+1];vS(n[B],s)&&(Y=!0,n[B+1]=f?F0(Ke):by(Ke)),B=f?N0(Ke):z_(Ke)}Y&&(n[a+1]=f?by(b):F0(b))}function vS(n,s){return null===n||null==s||(Array.isArray(n)?n[1]:n)===s||!(!Array.isArray(n)||"string"!=typeof s)&&Xo(n,s)>=0}const ou={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qx(n){return n.substring(ou.key,ou.keyEnd)}function Zx(n,s){const a=ou.textEnd;return a===s?-1:(s=ou.keyEnd=function xS(n,s,a){for(;s<a&&n.charCodeAt(s)>32;)s++;return s}(n,ou.key=s,a),Yy(n,s,a))}function Yy(n,s,a){for(;s<a&&n.charCodeAt(s)<=32;)s++;return s}function ex(n,s,a){const f=fi();return v(f,el(),s)&&ja(Cs(),Nr(),f,n,s,f[vi],a,!1),ex}function tx(n,s,a,f,b){const B=b?"class":"style";Da(n,a,s.inputs[B],B,f)}function nx(n,s,a){return B0(n,s,a,!1),nx}function ix(n,s){return B0(n,s,null,!0),ix}function iw(n){V0(kS,$_,n,!0)}function $_(n,s){for(let a=function yS(n){return function ew(n){ou.key=0,ou.keyEnd=0,ou.value=0,ou.valueEnd=0,ou.textEnd=n.length}(n),Zx(n,Yy(n,0,ou.textEnd))}(s);a>=0;a=Zx(s,a))Zs(n,qx(s),!0)}function B0(n,s,a,f){const b=fi(),D=Cs(),B=Rd(2);D.firstUpdatePass&&sw(D,n,B,f),s!==Es&&v(b,B,s)&&aw(D,D.data[va()],b,b[vi],n,b[B+1]=function PS(n,s){return null==n||""===n||("string"==typeof s?n+=s:"object"==typeof n&&(n=Dn(ec(n)))),n}(s,a),f,B)}function V0(n,s,a,f){const b=Cs(),D=Rd(2);b.firstUpdatePass&&sw(b,null,D,f);const B=fi();if(a!==Es&&v(B,D,a)){const Y=b.data[va()];if(cw(Y,f)&&!rw(b,D)){let oe=f?Y.classesWithoutHost:Y.stylesWithoutHost;null!==oe&&(a=On(oe,a||"")),tx(b,Y,B,a,f)}else!function OS(n,s,a,f,b,D,B,Y){b===Es&&(b=as);let oe=0,Ke=0,_t=0<b.length?b[0]:null,Wt=0<D.length?D[0]:null;for(;null!==_t||null!==Wt;){const Mn=oe<b.length?b[oe+1]:void 0,Un=Ke<D.length?D[Ke+1]:void 0;let Ii,ni=null;_t===Wt?(oe+=2,Ke+=2,Mn!==Un&&(ni=Wt,Ii=Un)):null===Wt||null!==_t&&_t<Wt?(oe+=2,ni=_t):(Ke+=2,ni=Wt,Ii=Un),null!==ni&&aw(n,s,a,f,ni,Ii,B,Y),_t=oe<b.length?b[oe]:null,Wt=Ke<D.length?D[Ke]:null}}(b,Y,B,B[vi],B[D+1],B[D+1]=function AS(n,s,a){if(null==a||""===a)return as;const f=[],b=ec(a);if(Array.isArray(b))for(let D=0;D<b.length;D++)n(f,b[D],!0);else if("object"==typeof b)for(const D in b)b.hasOwnProperty(D)&&n(f,D,b[D]);else"string"==typeof b&&s(f,b);return f}(n,s,a),f,D)}}function rw(n,s){return s>=n.expandoStartIndex}function sw(n,s,a,f){const b=n.data;if(null===b[a+1]){const D=b[va()],B=rw(n,a);cw(D,f)&&null===s&&!B&&(s=!1),s=function SS(n,s,a,f){const b=Kr(n);let D=f?s.residualClasses:s.residualStyles;if(null===b)0===(f?s.classBindings:s.styleBindings)&&(a=E1(a=rx(null,n,s,a,f),s.attrs,f),D=null);else{const B=s.directiveStylingLast;if(-1===B||n[B]!==b)if(a=rx(b,n,s,a,f),null===D){let oe=function DS(n,s,a){const f=a?s.classBindings:s.styleBindings;if(0!==z_(f))return n[N0(f)]}(n,s,f);void 0!==oe&&Array.isArray(oe)&&(oe=rx(null,n,s,oe[1],f),oe=E1(oe,s.attrs,f),function IS(n,s,a,f){n[N0(a?s.classBindings:s.styleBindings)]=f}(n,s,f,oe))}else D=function MS(n,s,a){let f;const b=s.directiveEnd;for(let D=1+s.directiveStylingLast;D<b;D++)f=E1(f,n[D].hostAttrs,a);return E1(f,s.attrs,a)}(n,s,f)}return void 0!==D&&(f?s.residualClasses=D:s.residualStyles=D),a}(b,D,s,f),function gS(n,s,a,f,b,D){let B=D?s.classBindings:s.styleBindings,Y=N0(B),oe=z_(B);n[f]=a;let _t,Ke=!1;if(Array.isArray(a)?(_t=a[1],(null===_t||Xo(a,_t)>0)&&(Ke=!0)):_t=a,b)if(0!==oe){const Mn=N0(n[Y+1]);n[f+1]=Cg(Mn,Y),0!==Mn&&(n[Mn+1]=Ul(n[Mn+1],f)),n[Y+1]=function lE(n,s){return 131071&n|s<<17}(n[Y+1],f)}else n[f+1]=Cg(Y,0),0!==Y&&(n[Y+1]=Ul(n[Y+1],f)),Y=f;else n[f+1]=Cg(oe,0),0===Y?Y=f:n[oe+1]=Ul(n[oe+1],f),oe=f;Ke&&(n[f+1]=by(n[f+1])),Qx(n,_t,f,!0),Qx(n,_t,f,!1),function _S(n,s,a,f,b){const D=b?n.residualClasses:n.residualStyles;null!=D&&"string"==typeof s&&Xo(D,s)>=0&&(a[f+1]=F0(a[f+1]))}(s,_t,n,f,D),B=Cg(Y,oe),D?s.classBindings=B:s.styleBindings=B}(b,D,s,a,B,f)}}function rx(n,s,a,f,b){let D=null;const B=a.directiveEnd;let Y=a.directiveStylingLast;for(-1===Y?Y=a.directiveStart:Y++;Y<B&&(D=s[Y],f=E1(f,D.hostAttrs,b),D!==n);)Y++;return null!==n&&(a.directiveStylingLast=Y),f}function E1(n,s,a){const f=a?1:2;let b=-1;if(null!==s)for(let D=0;D<s.length;D++){const B=s[D];"number"==typeof B?b=B:b===f&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zs(n,B,!!a||s[++D]))}return void 0===n?null:n}function kS(n,s,a){const f=String(s);""!==f&&!f.includes(" ")&&Zs(n,f,a)}function aw(n,s,a,f,b,D,B,Y){if(!(3&s.type))return;const oe=n.data,Ke=oe[Y+1],_t=function cE(n){return!(1&~n)}(Ke)?lw(oe,s,a,b,z_(Ke),B):void 0;dE(_t)||(dE(D)||function aE(n){return!(2&~n)}(Ke)&&(D=lw(oe,null,a,b,Y,B)),function cv(n,s,a,f,b){if(s)b?n.addClass(a,f):n.removeClass(a,f);else{let D=-1===f.indexOf("-")?void 0:r0.DashCase;null==b?n.removeStyle(a,f,D):("string"==typeof b&&b.endsWith("!important")&&(b=b.slice(0,-10),D|=r0.Important),n.setStyle(a,f,b,D))}}(f,B,Vo(va(),a),b,D))}function lw(n,s,a,f,b,D){const B=null===s;let Y;for(;b>0;){const oe=n[b],Ke=Array.isArray(oe),_t=Ke?oe[1]:oe,Wt=null===_t;let Mn=a[b+1];Mn===Es&&(Mn=Wt?as:void 0);let Un=Wt?$r(Mn,f):_t===f?Mn:void 0;if(Ke&&!dE(Un)&&(Un=$r(oe,f)),dE(Un)&&(Y=Un,B))return Y;const ni=n[b+1];b=B?N0(ni):z_(ni)}if(null!==s){let oe=D?s.residualClasses:s.residualStyles;null!=oe&&(Y=$r(oe,f))}return Y}function dE(n){return void 0!==n}function cw(n,s){return!!(n.flags&(s?8:16))}function dw(n,s,a){V0(Zs,$_,le(fi(),n,s,a),!0)}class HS{destroy(s){}updateValue(s,a){}swap(s,a){const f=Math.min(s,a),b=Math.max(s,a),D=this.detach(b);if(b-f>1){const B=this.detach(f);this.attach(f,D),this.attach(b,B)}else this.attach(f,D)}move(s,a){this.attach(a,this.detach(s))}}function sx(n,s,a,f,b){return n===a&&Object.is(s,f)?1:Object.is(b(n,s),b(a,f))?-1:0}function ox(n,s,a,f){return!(void 0===s||!s.has(f)||(n.attach(a,s.get(f)),s.delete(f),0))}function uw(n,s,a,f,b){if(ox(n,s,f,a(f,b)))n.updateValue(f,b);else{const D=n.create(f,b);n.attach(f,D)}}function hw(n,s,a,f){const b=new Set;for(let D=s;D<=a;D++)b.add(f(D,n.at(D)));return b}class fw{constructor(){this.kvMap=new Map,this._vMap=void 0}has(s){return this.kvMap.has(s)}delete(s){if(!this.has(s))return!1;const a=this.kvMap.get(s);return void 0!==this._vMap&&this._vMap.has(a)?(this.kvMap.set(s,this._vMap.get(a)),this._vMap.delete(a)):this.kvMap.delete(s),!0}get(s){return this.kvMap.get(s)}set(s,a){if(this.kvMap.has(s)){let f=this.kvMap.get(s);void 0===this._vMap&&(this._vMap=new Map);const b=this._vMap;for(;b.has(f);)f=b.get(f);b.set(f,a)}else this.kvMap.set(s,a)}forEach(s){for(let[a,f]of this.kvMap)if(s(f,a),void 0!==this._vMap){const b=this._vMap;for(;b.has(f);)f=b.get(f),s(f,a)}}}function pw(n,s,a){si("NgControlFlow");const f=fi(),b=el(),D=ax(f,Jr+n);if(v(f,b,s)){const Y=ne(null);try{if(y0(D,0),-1!==s){const oe=lx(f[Ri],Jr+s),Ke=o(D,oe.tView.ssrId);nu(D,Nf(f,oe,a,{dehydratedView:Ke}),0,Op(oe,Ke))}}finally{ne(Y)}}else{const Y=dg(D,0);void 0!==Y&&(Y[Zi]=a)}}class GS{constructor(s,a,f){this.lContainer=s,this.$implicit=a,this.$index=f}get $count(){return this.lContainer.length-cr}}function mw(n,s){return s}class KS{constructor(s,a,f){this.hasEmptyBlock=s,this.trackByFn=a,this.liveCollection=f}}function gw(n,s,a,f,b,D,B,Y,oe,Ke,_t,Wt,Mn){si("NgControlFlow");const Un=void 0!==oe,ni=fi(),Ii=Y?B.bind(ni[Wo][Zi]):B,nr=new KS(Un,Ii);ni[Jr+n]=nr,Tt(n+1,s,a,f,b,D),Un&&Tt(n+2,oe,Ke,_t,Wt,Mn)}class YS extends HS{constructor(s,a,f){super(),this.lContainer=s,this.hostLView=a,this.templateTNode=f,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-cr}at(s){return this.getLView(s)[Zi].$implicit}attach(s,a){const f=a[Rs];this.needsIndexUpdate||=s!==this.length,nu(this.lContainer,a,s,Op(this.templateTNode,f))}detach(s){return this.needsIndexUpdate||=s!==this.length-1,function XS(n,s){return cm(n,s)}(this.lContainer,s)}create(s,a){const f=o(this.lContainer,this.templateTNode.tView.ssrId);return Nf(this.hostLView,this.templateTNode,new GS(this.lContainer,a,s),{dehydratedView:f})}destroy(s){Jm(s[Ri],s)}updateValue(s,a){this.getLView(s)[Zi].$implicit=a}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let s=0;s<this.length;s++)this.getLView(s)[Zi].$index=s}getLView(s){return function QS(n,s){return dg(n,s)}(this.lContainer,s)}}function _w(n){const s=ne(null),a=va();try{const f=fi(),b=f[Ri],D=f[a];if(void 0===D.liveCollection){const Y=a+1,oe=ax(f,Y),Ke=lx(b,Y);D.liveCollection=new YS(oe,f,Ke)}else D.liveCollection.reset();const B=D.liveCollection;if(function $S(n,s,a){let f,b,D=0,B=n.length-1;if(Array.isArray(s)){let Y=s.length-1;for(;D<=B&&D<=Y;){const oe=n.at(D),Ke=s[D],_t=sx(D,oe,D,Ke,a);if(0!==_t){_t<0&&n.updateValue(D,Ke),D++;continue}const Wt=n.at(B),Mn=s[Y],Un=sx(B,Wt,Y,Mn,a);if(0!==Un){Un<0&&n.updateValue(B,Mn),B--,Y--;continue}const ni=a(D,oe),Ii=a(B,Wt),nr=a(D,Ke);if(Object.is(nr,Ii)){const vr=a(Y,Mn);Object.is(vr,ni)?(n.swap(D,B),n.updateValue(B,Mn),Y--,B--):n.move(B,D),n.updateValue(D,Ke),D++}else if(f??=new fw,b??=hw(n,D,B,a),ox(n,f,D,nr))n.updateValue(D,Ke),D++,B++;else if(b.has(nr))f.set(ni,n.detach(D)),B--;else{const vr=n.create(D,s[D]);n.attach(D,vr),D++,B++}}for(;D<=Y;)uw(n,f,a,D,s[D]),D++}else if(null!=s){const Y=s[Symbol.iterator]();let oe=Y.next();for(;!oe.done&&D<=B;){const Ke=n.at(D),_t=oe.value,Wt=sx(D,Ke,D,_t,a);if(0!==Wt)Wt<0&&n.updateValue(D,_t),D++,oe=Y.next();else{f??=new fw,b??=hw(n,D,B,a);const Mn=a(D,_t);if(ox(n,f,D,Mn))n.updateValue(D,_t),D++,B++,oe=Y.next();else if(b.has(Mn)){const Un=a(D,Ke);f.set(Un,n.detach(D)),B--}else n.attach(D,n.create(D,_t)),D++,B++,oe=Y.next()}}for(;!oe.done;)uw(n,f,a,n.length,oe.value),oe=Y.next()}for(;D<=B;)n.destroy(n.detach(B--));f?.forEach(Y=>{n.destroy(Y)})}(B,n,D.trackByFn),B.updateIndexes(),D.hasEmptyBlock){const Y=el(),oe=0===B.length;if(v(f,Y,oe)){const Ke=a+2,_t=ax(f,Ke);if(oe){const Wt=lx(b,Ke),Mn=o(_t,Wt.tView.ssrId);nu(_t,Nf(f,Wt,void 0,{dehydratedView:Mn}),0,Op(Wt,Mn))}else y0(_t,0)}}}finally{ne(s)}}function ax(n,s){return n[s]}function lx(n,s){return js(n,s)}function uE(n,s,a,f){const b=fi(),D=Cs(),B=Jr+n,Y=b[vi],oe=D.firstCreatePass?function qS(n,s,a,f,b,D){const B=s.consts,oe=hm(s,n,2,f,Ma(B,b));return qh(s,a,oe,Ma(B,D)),null!==oe.attrs&&iu(oe,oe.attrs,!1),null!==oe.mergedAttrs&&iu(oe,oe.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,oe),oe}(B,D,b,s,a,f):D.data[B],Ke=vw(D,b,oe,Y,s,n);b[B]=Ke;const _t=$c(oe);return ia(oe,!0),h0(Y,Ke,oe),!function Pe(n){return!(32&~n.flags)}(oe)&&Yf()&&tg(D,b,Ke,oe),0===function mo(){return wr.lFrame.elementDepthCount}()&&ur(Ke,b),function Dg(){wr.lFrame.elementDepthCount++}(),_t&&(g0(D,b,oe),m_(D,oe,b)),null!==f&&dv(b,oe),uE}function hE(){let n=Io();pd()?Ol():(n=n.parent,ia(n,!1));const s=n;(function Ig(n){return wr.skipHydrationRootTNode===n})(s)&&function _a(){wr.skipHydrationRootTNode=null}(),function Kc(){wr.lFrame.elementDepthCount--}();const a=Cs();return a.firstCreatePass&&(ql(a,n),So(n)&&a.queries.elementEnd(n)),null!=s.classesWithoutHost&&function Vd(n){return!!(8&n.flags)}(s)&&tx(a,s,fi(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function gf(n){return!!(16&n.flags)}(s)&&tx(a,s,fi(),s.stylesWithoutHost,!1),hE}function cx(n,s,a,f){return uE(n,s,a,f),hE(),cx}let vw=(n,s,a,f,b,D)=>(Fd(!0),lm(f,b,function Og(){return wr.lFrame.currentNamespace}()));function fE(n,s,a){const f=fi(),b=Cs(),D=n+Jr,B=b.firstCreatePass?function eD(n,s,a,f,b){const D=s.consts,B=Ma(D,f),Y=hm(s,n,8,"ng-container",B);return null!==B&&iu(Y,B,!0),qh(s,a,Y,Ma(D,b)),null!==s.queries&&s.queries.elementStart(s,Y),Y}(D,b,f,s,a):b.data[D];ia(B,!0);const Y=yw(b,f,B,n);return f[D]=Y,Yf()&&tg(b,f,Y,B),ur(Y,f),$c(B)&&(g0(b,f,B),m_(b,B,f)),null!=a&&dv(f,B),fE}function pE(){let n=Io();const s=Cs();return pd()?Ol():(n=n.parent,ia(n,!1)),s.firstCreatePass&&(ql(s,n),So(n)&&s.queries.elementEnd(n)),pE}let yw=(n,s,a,f)=>(Fd(!0),kc(s[vi],""));function Ew(){return fi()}function dx(n,s,a){const f=fi();return v(f,el(),s)&&ja(Cs(),Nr(),f,n,s,f[vi],a,!0),dx}function ux(n,s,a){const f=fi();if(v(f,el(),s)){const D=Cs(),B=Nr();ja(D,B,f,n,s,pm(Kr(D.data),B,f),a,!0)}return ux}const yy=void 0;var rD=["en",[["a","p"],["AM","PM"],yy],[["AM","PM"],yy,yy],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yy,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yy,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yy,"{1} 'at' {0}",yy],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iD(n){const a=Math.floor(Math.abs(n)),f=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===f?1:5}];let Xy={};function hx(n){const s=function sD(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=ww(s);if(a)return a;const f=s.split("-")[0];if(a=ww(f),a)return a;if("en"===f)return rD;throw new hi(701,!1)}function xw(n){return hx(n)[Qy.PluralCase]}function ww(n){return n in Xy||(Xy[n]=Si.ng&&Si.ng.common&&Si.ng.common.locales&&Si.ng.common.locales[n]),Xy[n]}var Qy=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Qy||{});const qy="en-US";let Cw=qy;function mx(n,s,a,f){const b=fi(),D=Cs(),B=Io();return _x(D,b,b[vi],B,n,s,f),mx}function gx(n,s){const a=Io(),f=fi(),b=Cs();return _x(b,f,pm(Kr(b.data),a,f),a,n,s),gx}function _x(n,s,a,f,b,D,B){const Y=$c(f),Ke=n.firstCreatePass&&cg(n),_t=s[Zi],Wt=w_(s);let Mn=!0;if(3&f.type||B){const Ii=Uo(f,s),nr=B?B(Ii):Ii,vr=Wt.length,Hi=B?qo=>B(Do(qo[f.index])):f.index;let Is=null;if(!B&&Y&&(Is=function tI(n,s,a,f){const b=n.cleanup;if(null!=b)for(let D=0;D<b.length-1;D+=2){const B=b[D];if(B===a&&b[D+1]===f){const Y=s[$l],oe=b[D+2];return Y.length>oe?Y[oe]:null}"string"==typeof B&&(D+=2)}return null}(n,s,b,f.index)),null!==Is)(Is.__ngLastListenerFn__||Is).__ngNextListenerFn__=D,Is.__ngLastListenerFn__=D,Mn=!1;else{D=qw(f,s,_t,D,!1);const qo=a.listen(nr,b,D);Wt.push(D,qo),Ke&&Ke.push(b,Hi,vr,vr+1)}}else D=qw(f,s,_t,D,!1);const Un=f.outputs;let ni;if(Mn&&null!==Un&&(ni=Un[b])){const Ii=ni.length;if(Ii)for(let nr=0;nr<Ii;nr+=2){const $a=s[ni[nr]][ni[nr+1]].subscribe(D),lu=Wt.length;Wt.push(D,$a),Ke&&Ke.push(b,f.index,lu,-(lu+1))}}}function Qw(n,s,a,f){const b=ne(null);try{return Wc(6,s,a),!1!==a(f)}catch(D){return hh(n,D),!1}finally{Wc(7,s,a),ne(b)}}function qw(n,s,a,f,b){return function D(B){if(B===Function)return f;hg(n.componentOffset>-1?Yl(n.index,s):s);let oe=Qw(s,a,f,B),Ke=D.__ngNextListenerFn__;for(;Ke;)oe=Qw(s,a,Ke,B)&&oe,Ke=Ke.__ngNextListenerFn__;return b&&!1===oe&&B.preventDefault(),oe}}function Zw(n=1){return function pf(n){return(wr.lFrame.contextLView=function Yu(n,s){for(;n>0;)s=s[po],n--;return s}(n,wr.lFrame.contextLView))[Zi]}(n)}function nI(n,s){let a=null;const f=function Td(n){const s=n.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(n);for(let b=0;b<s.length;b++){const D=s[b];if("*"!==D){if(null===f?af(n,D,!0):vh(f,D))return b}else a=b}return a}function Jw(n){const s=fi()[Wo][Lr];if(!s.projection){const f=s.projection=Il(n?n.length:1,null),b=f.slice();let D=s.child;for(;null!==D;){const B=n?nI(D,n):0;null!==B&&(b[B]?b[B].projectionNext=D:f[B]=D,b[B]=D),D=D.next}}}function eC(n,s=0,a){const f=fi(),b=Cs(),D=hm(b,Jr+n,16,null,a||null);null===D.projection&&(D.projection=s),Ol(),(!f[Rs]||hd())&&32&~D.flags&&function rg(n,s,a){sg(s[vi],0,s,a,eg(n,a,s),kf(a.parent||s[Lr],a,s))}(b,f,D)}function vx(n,s,a){return bE(n,"",s,"",a),vx}function bE(n,s,a,f,b){const D=fi(),B=le(D,s,a,f);return B!==Es&&ja(Cs(),Nr(),D,n,B,D[vi],b,!1),bE}function cC(n,s,a,f){!function Kn(n,s,a,f){const b=Cs();if(b.firstCreatePass){const D=Io();qi(b,new Er(s,a,f),D.index),function Hr(n,s){const a=n.contentQueries||(n.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,s)}(b,n),!(2&~a)&&(b.staticContentQueries=!0)}return Dr(b,fi(),a)}(n,s,a,f)}function dC(n,s,a){!function Ui(n,s,a){const f=Cs();return f.firstCreatePass&&(qi(f,new Er(n,s,a),-1),!(2&~s)&&(f.staticViewQueries=!0)),Dr(f,fi(),s)}(n,s,a)}function uC(n){const s=fi(),a=Cs(),f=Va();Xu(f+1);const b=Yi(a,f);if(n.dirty&&function Pd(n){return!(4&~n[Ir])}(s)===!(2&~b.metadata.flags)){if(null===b.matches)n.reset([]);else{const D=lr(s,f);n.reset(D,Eu),n.notifyOnChanges()}return!0}return!1}function hC(){return function Vi(n,s){return n[yc].queries[s].queryList}(fi(),Va())}function fC(n){return na(function jp(){return wr.lFrame.contextLView}(),Jr+n)}function wC(n,s=""){const a=fi(),f=Cs(),b=n+Jr,D=f.firstCreatePass?hm(f,b,1,s,null):f.data[b],B=CC(f,a,D,s,n);a[b]=B,Yf()&&tg(f,a,B,D),ia(D,!1)}let CC=(n,s,a,f,b)=>(Fd(!0),function Ip(n,s){return n.createText(s)}(s[vi],f));function bx(n){return yE("",n,""),bx}function yE(n,s,a){const f=fi(),b=le(f,n,s,a);return b!==Es&&ha(f,va(),b),yE}function yx(n,s,a,f,b){const D=fi(),B=function ye(n,s,a,f,b,D){const Y=C(n,wc(),a,b);return Rd(2),Y?s+kr(a)+f+kr(b)+D:Es}(D,n,s,a,f,b);return B!==Es&&ha(D,va(),B),yx}function Ex(n,s,a,f,b,D,B){const Y=fi(),oe=function ve(n,s,a,f,b,D,B,Y){const Ke=R(n,wc(),a,b,B);return Rd(3),Ke?s+kr(a)+f+kr(b)+D+kr(B)+Y:Es}(Y,n,s,a,f,b,D,B);return oe!==Es&&ha(Y,va(),oe),Ex}function xx(n,s,a){xd(s)&&(s=s());const f=fi();return v(f,el(),s)&&ja(Cs(),Nr(),f,n,s,f[vi],a,!1),xx}function kC(n,s){const a=xd(n);return a&&n.set(s),a}function wx(n,s){const a=fi(),f=Cs(),b=Io();return _x(f,a,a[vi],b,n,s),wx}function Cx(n,s,a,f,b){if(n=yt(n),Array.isArray(n))for(let D=0;D<n.length;D++)Cx(n[D],s,a,f,b);else{const D=Cs(),B=fi(),Y=Io();let oe=zl(n)?n:yt(n.provide);const Ke=od(n),_t=1048575&Y.providerIndexes,Wt=Y.directiveStart,Mn=Y.providerIndexes>>20;if(zl(n)||!n.multi){const Un=new Pl(Ke,b,f0),ni=Sx(oe,s,b?_t:_t+Mn,Wt);-1===ni?(Rm(ka(Y,B),D,oe),Tx(D,n,s.length),s.push(oe),Y.directiveStart++,Y.directiveEnd++,b&&(Y.providerIndexes+=1048576),a.push(Un),B.push(Un)):(a[ni]=Un,B[ni]=Un)}else{const Un=Sx(oe,s,_t+Mn,Wt),ni=Sx(oe,s,_t,_t+Mn),nr=ni>=0&&a[ni];if(b&&!nr||!b&&!(Un>=0&&a[Un])){Rm(ka(Y,B),D,oe);const vr=function EI(n,s,a,f,b){const D=new Pl(n,a,f0);return D.multi=[],D.index=s,D.componentProviders=0,OC(D,b,f&&!a),D}(b?yI:bI,a.length,b,f,Ke);!b&&nr&&(a[ni].providerFactory=vr),Tx(D,n,s.length,0),s.push(oe),Y.directiveStart++,Y.directiveEnd++,b&&(Y.providerIndexes+=1048576),a.push(vr),B.push(vr)}else Tx(D,n,Un>-1?Un:ni,OC(a[b?ni:Un],Ke,!b&&f));!b&&f&&nr&&a[ni].componentProviders++}}}function Tx(n,s,a,f){const b=zl(s),D=function jc(n){return!!n.useClass}(s);if(b||D){const oe=(D?yt(s.useClass):s).prototype.ngOnDestroy;if(oe){const Ke=n.destroyHooks||(n.destroyHooks=[]);if(!b&&s.multi){const _t=Ke.indexOf(a);-1===_t?Ke.push(a,[f,oe]):Ke[_t+1].push(f,oe)}else Ke.push(a,oe)}}}function OC(n,s,a){return a&&n.componentProviders++,n.multi.push(s)-1}function Sx(n,s,a,f){for(let b=a;b<f;b++)if(s[b]===n)return b;return-1}function bI(n,s,a,f){return Dx(this.multi,[])}function yI(n,s,a,f){const b=this.multi;let D;if(this.providerFactory){const B=this.providerFactory.componentProviders,Y=Qu(a,a[Ri],this.providerFactory.index,f);D=Y.slice(0,B),Dx(b,D);for(let oe=B;oe<Y.length;oe++)D.push(Y[oe])}else D=[],Dx(b,D);return D}function Dx(n,s){for(let a=0;a<n.length;a++)s.push((0,n[a])());return s}function PC(n,s=[]){return a=>{a.providersResolver=(f,b)=>function vI(n,s,a){const f=Cs();if(f.firstCreatePass){const b=Gl(n);Cx(a,f.data,f.blueprint,b,!0),Cx(s,f.data,f.blueprint,b,!1)}}(f,b?b(n):n,s)}}let xI=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const f=gl(0,a.type),b=f.length>0?$v([f],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,b)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Zn({token:n,providedIn:"environment",factory:()=>new n(er(xa))})}return n})();function RC(n){si("NgStandalone"),n.getStandaloneInjector=s=>s.get(xI).getOrCreateStandaloneInjector(n)}function NC(n,s,a){const f=ra()+n,b=fi();return b[f]===Es?r(b,f,a?s.call(a):s()):u(b,f)}function FC(n,s,a,f){return $C(fi(),ra(),n,s,a,f)}function BC(n,s,a,f,b){return GC(fi(),ra(),n,s,a,f,b)}function VC(n,s,a,f,b,D){return WC(fi(),ra(),n,s,a,f,b,D)}function UC(n,s,a,f,b,D,B){return function KC(n,s,a,f,b,D,B,Y,oe){const Ke=s+a;return ue(n,Ke,b,D,B,Y)?r(n,Ke+4,oe?f.call(oe,b,D,B,Y):f(b,D,B,Y)):I1(n,Ke+4)}(fi(),ra(),n,s,a,f,b,D,B)}function jC(n,s,a,f,b,D,B,Y){const oe=ra()+n,Ke=fi(),_t=ue(Ke,oe,a,f,b,D);return v(Ke,oe+4,B)||_t?r(Ke,oe+5,Y?s.call(Y,a,f,b,D,B):s(a,f,b,D,B)):u(Ke,oe+5)}function zC(n,s,a,f,b,D,B,Y,oe){const Ke=ra()+n,_t=fi(),Wt=ue(_t,Ke,a,f,b,D);return C(_t,Ke+4,B,Y)||Wt?r(_t,Ke+6,oe?s.call(oe,a,f,b,D,B,Y):s(a,f,b,D,B,Y)):u(_t,Ke+6)}function HC(n,s,a,f){return function YC(n,s,a,f,b,D){let B=s+a,Y=!1;for(let oe=0;oe<b.length;oe++)v(n,B++,b[oe])&&(Y=!0);return Y?r(n,B,f.apply(D,b)):I1(n,B)}(fi(),ra(),n,s,a,f)}function I1(n,s){const a=n[s];return a===Es?void 0:a}function $C(n,s,a,f,b,D){const B=s+a;return v(n,B,b)?r(n,B+1,D?f.call(D,b):f(b)):I1(n,B+1)}function GC(n,s,a,f,b,D,B){const Y=s+a;return C(n,Y,b,D)?r(n,Y+2,B?f.call(B,b,D):f(b,D)):I1(n,Y+2)}function WC(n,s,a,f,b,D,B,Y){const oe=s+a;return R(n,oe,b,D,B)?r(n,oe+3,Y?f.call(Y,b,D,B):f(b,D,B)):I1(n,oe+3)}function XC(n,s){const a=Cs();let f;const b=n+Jr;a.firstCreatePass?(f=function DI(n,s){if(s)for(let a=s.length-1;a>=0;a--){const f=s[a];if(n===f.name)return f}}(s,a.pipeRegistry),a.data[b]=f,f.onDestroy&&(a.destroyHooks??=[]).push(b,f.onDestroy)):f=a.data[b];const D=f.factory||(f.factory=oa(f.type)),Y=Ms(f0);try{const oe=Mh(!1),Ke=D();return Mh(oe),function oI(n,s,a,f){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),s[a]=f}(a,fi(),b,Ke),Ke}finally{Ms(Y)}}function QC(n,s,a){const f=n+Jr,b=fi(),D=na(b,f);return M1(b,f)?$C(b,ra(),s,D.transform,a,D):D.transform(a)}function qC(n,s,a,f){const b=n+Jr,D=fi(),B=na(D,b);return M1(D,b)?GC(D,ra(),s,B.transform,a,f,B):B.transform(a,f)}function ZC(n,s,a,f,b){const D=n+Jr,B=fi(),Y=na(B,D);return M1(B,D)?WC(B,ra(),s,Y.transform,a,f,b,Y):Y.transform(a,f,b)}function M1(n,s){return n[Ri].data[s].pure}function JC(n,s){return I_(n,s)}class mT{constructor(s){this.full=s;const a=s.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}const qI=new mT("17.3.7");let gT=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(f){return new(f||n)};static#t=this.\u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ET=new Ln(""),xT=new Ln("");let Px,wM=(()=>{class n{constructor(a,f,b){this._ngZone=a,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Px||(function CM(n){Px=n}(b),b.addToWindow(f)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nc.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(a)||(clearTimeout(f.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,f,b){let D=-1;f&&f>0&&(D=setTimeout(()=>{this._callbacks=this._callbacks.filter(B=>B.timeoutId!==D),a()},f)),this._callbacks.push({doneCb:a,timeoutId:D,updateCb:b})}whenStable(a,f,b){if(b&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,f,b),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,f,b){return[]}static#e=this.\u0275fac=function(f){return new(f||n)(er(Nc),er(wT),er(xT))};static#t=this.\u0275prov=Zn({token:n,factory:n.\u0275fac})}return n})(),wT=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,f){this._applications.set(a,f)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,f=!0){return Px?.findTestabilityInTree(this,a,f)??null}static#e=this.\u0275fac=function(f){return new(f||n)};static#t=this.\u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function Rx(n){return!!n&&"function"==typeof n.then}function CT(n){return!!n&&"function"==typeof n.subscribe}const TT=new Ln("");let Lx=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,f)=>{this.resolve=a,this.reject=f}),this.appInits=Ni(TT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const b of this.appInits){const D=b();if(Rx(D))a.push(D);else if(CT(D)){const B=new Promise((Y,oe)=>{D.subscribe({complete:Y,error:oe})});a.push(B)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{f()}).catch(b=>{this.reject(b)}),0===a.length&&f(),this.initialized=!0}static#e=this.\u0275fac=function(f){return new(f||n)};static#t=this.\u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Nx=new Ln("");function IT(n,s){return Array.isArray(s)?s.reduce(IT,n):{...n,...s}}let Vb=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ni(qf),this.afterRenderEffectManager=Ni($o),this.externalTestViews=new Set,this.beforeRender=new it.B,this.afterTick=new it.B,this.componentTypes=[],this.components=[],this.isStable=Ni(U_).hasPendingTasks.pipe((0,Pn.T)(a=>!a)),this._injector=Ni(xa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,f){const b=a instanceof M;if(!this._injector.get(Lx).done)throw!b&&qa(a),new hi(405,!1);let B;B=b?a:this._injector.get(Je).resolveComponentFactory(a),this.componentTypes.push(B.componentType);const Y=function TM(n){return n.isBoundToModule}(B)?void 0:this._injector.get(xg),Ke=B.create(nl.NULL,[],f||B.selector,Y),_t=Ke.location.nativeElement,Wt=Ke.injector.get(ET,null);return Wt?.registerApplication(_t),Ke.onDestroy(()=>{this.detachView(Ke.hostView),CE(this.components,Ke),Wt?.unregisterApplication(_t)}),this._loadComponent(Ke),Ke}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new hi(101,!1);const f=ne(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(b){this.internalErrorHandler(b)}finally{this.afterTick.next(),this._runningTick=!1,ne(f)}}detectChangesInAttachedViews(a){let f=0;const b=this.afterRenderEffectManager;for(;;){if(f===fc)throw new hi(103,!1);if(a){const D=0===f;this.beforeRender.next(D);for(let{_lView:B,notifyErrorHandler:Y}of this._views)DM(B,D,Y)}if(f++,b.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:D})=>Fx(D))&&(b.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:D})=>Fx(D))))break}}attachView(a){const f=a;this._views.push(f),f.attachToAppRef(this)}detachView(a){const f=a;CE(this._views,f),f.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const f=this._injector.get(Nx,[]);[...this._bootstrapListeners,...f].forEach(b=>b(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>CE(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new hi(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(f){return new(f||n)};static#t=this.\u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function CE(n,s){const a=n.indexOf(s);a>-1&&n.splice(a,1)}function DM(n,s,a){!s&&!Fx(n)||function IM(n,s,a){let f;a?(f=0,n[Ir]|=1024):f=64&n[Ir]?0:1,Pp(n,s,f)}(n,a,s)}function Fx(n){return Wf(n)}class MM{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let AM=(()=>{class n{compileModuleSync(a){return new V_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const f=this.compileModuleSync(a),D=uc(To(a).declarations).reduce((B,Y)=>{const oe=us(Y);return oe&&B.push(new Vf(oe)),B},[]);return new MM(f,D)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(f){return new(f||n)};static#t=this.\u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PM=(()=>{class n{constructor(){this.zone=Ni(Nc),this.applicationRef=Ni(Vb)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(f){return new(f||n)};static#t=this.\u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RM(){const n=Ni(Nc),s=Ni(jr);return a=>n.runOutsideAngular(()=>s.handleError(a))}let NM=(()=>{class n{constructor(){this.subscription=new dt.yU,this.initialized=!1,this.zone=Ni(Nc),this.pendingTasks=Ni(U_)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Nc.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Nc.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(f){return new(f||n)};static#t=this.\u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const SE=new Ln("",{providedIn:"root",factory:()=>Ni(SE,ds.Optional|ds.SkipSelf)||function FM(){return typeof $localize<"u"&&$localize.locale||qy}()}),BM=new Ln("",{providedIn:"root",factory:()=>"USD"}),Bx=new Ln("");let OT=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,f){const b=function FE(n="zone.js",s){return"noop"===n?new Pb:"zone.js"===n?new Nc(s):n}(f?.ngZone,function kT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return b.run(()=>{const D=function Ly(n,s,a){return new Ab(n,s,a)}(a.moduleType,this.injector,function AT(n){return[{provide:Nc,useFactory:n},{provide:Fo,multi:!0,useFactory:()=>{const s=Ni(PM,{optional:!0});return()=>s.initialize()}},{provide:Fo,multi:!0,useFactory:()=>{const s=Ni(NM);return()=>{s.initialize()}}},{provide:qf,useFactory:RM}]}(()=>b)),B=D.injector.get(jr,null);return b.runOutsideAngular(()=>{const Y=b.onError.subscribe({next:oe=>{B.handleError(oe)}});D.onDestroy(()=>{CE(this._modules,D),Y.unsubscribe()})}),function DT(n,s,a){try{const f=a();return Rx(f)?f.catch(b=>{throw s.runOutsideAngular(()=>n.handleError(b)),b}):f}catch(f){throw s.runOutsideAngular(()=>n.handleError(f)),f}}(B,b,()=>{const Y=D.injector.get(Lx);return Y.runInitializers(),Y.donePromise.then(()=>(function Tw(n){"string"==typeof n&&(Cw=n.toLowerCase().replace(/_/g,"-"))}(D.injector.get(SE,qy)||qy),this._moduleDoBootstrap(D),D))})})}bootstrapModule(a,f=[]){const b=IT({},f);return function OM(n,s,a){const f=new V_(a);return Promise.resolve(f)}(0,0,a).then(D=>this.bootstrapModuleFactory(D,b))}_moduleDoBootstrap(a){const f=a.injector.get(Vb);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(b=>f.bootstrap(b));else{if(!a.instance.ngDoBootstrap)throw new hi(-403,!1);a.instance.ngDoBootstrap(f)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new hi(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const a=this._injector.get(Bx,null);a&&(a.forEach(f=>f()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(f){return new(f||n)(er(nl))};static#t=this.\u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ub=null;const PT=new Ln("");function RT(n,s,a=[]){const f=`Platform: ${s}`,b=new Ln(f);return(D=[])=>{let B=Vx();if(!B||B.injector.get(PT,!1)){const Y=[...a,...D,{provide:b,useValue:!0}];n?n(Y):function UM(n){if(Ub&&!Ub.get(PT,!1))throw new hi(400,!1);(function ST(){!function Nn(n){Cn=n}(()=>{throw new hi(600,!1)})})(),Ub=n;const s=n.get(OT);(function NT(n){n.get(op,null)?.forEach(a=>a())})(n)}(function LT(n=[],s){return nl.create({name:s,providers:[{provide:Eh,useValue:"platform"},{provide:Bx,useValue:new Set([()=>Ub=null])},...n]})}(Y,f))}return function jM(n){const s=Vx();if(!s)throw new hi(401,!1);return s}()}}function Vx(){return Ub?.get(OT)??null}function HM(){return!1}function $M(){}let BT=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=GM}return n})();function GM(n){return function WM(n,s,a){if(ir(n)&&!a){const f=Yl(n.index,s);return new x0(f,f)}return 47&n.type?new x0(s[Wo],s):null}(Io(),fi(),!(16&~n))}class zT{constructor(){}supports(s){return Wv(s)}create(s){return new qM(s)}}const QM=(n,s)=>s;class qM{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||QM}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,f=this._removalsHead,b=0,D=null;for(;a||f;){const B=!f||a&&a.currentIndex<$T(f,b,D)?a:f,Y=$T(B,b,D),oe=B.currentIndex;if(B===f)b--,f=f._nextRemoved;else if(a=a._next,null==B.previousIndex)b++;else{D||(D=[]);const Ke=Y-b,_t=oe-b;if(Ke!=_t){for(let Mn=0;Mn<Ke;Mn++){const Un=Mn<D.length?D[Mn]:D[Mn]=0,ni=Un+Mn;_t<=ni&&ni<Ke&&(D[Mn]=Un+1)}D[B.previousIndex]=_t-Ke}}Y!==oe&&s(B,Y,oe)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Wv(s))throw new hi(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let b,D,B,a=this._itHead,f=!1;if(Array.isArray(s)){this.length=s.length;for(let Y=0;Y<this.length;Y++)D=s[Y],B=this._trackByFn(Y,D),null!==a&&Object.is(a.trackById,B)?(f&&(a=this._verifyReinsertion(a,D,B,Y)),Object.is(a.item,D)||this._addIdentityChange(a,D)):(a=this._mismatch(a,D,B,Y),f=!0),a=a._next}else b=0,function Ob(n,s){if(Array.isArray(n))for(let a=0;a<n.length;a++)s(n[a]);else{const a=n[Symbol.iterator]();let f;for(;!(f=a.next()).done;)s(f.value)}}(s,Y=>{B=this._trackByFn(b,Y),null!==a&&Object.is(a.trackById,B)?(f&&(a=this._verifyReinsertion(a,Y,B,b)),Object.is(a.item,Y)||this._addIdentityChange(a,Y)):(a=this._mismatch(a,Y,B,b),f=!0),a=a._next,b++}),this.length=b;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,f,b){let D;return null===s?D=this._itTail:(D=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,D,b)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(f,b))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,D,b)):s=this._addAfter(new ZM(a,f),D,b),s}_verifyReinsertion(s,a,f,b){let D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==D?s=this._reinsertAfter(D,s._prev,b):s.currentIndex!=b&&(s.currentIndex=b,this._addToMoves(s,b)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const b=s._prevRemoved,D=s._nextRemoved;return null===b?this._removalsHead=D:b._nextRemoved=D,null===D?this._removalsTail=b:D._prevRemoved=b,this._insertAfter(s,a,f),this._addToMoves(s,f),s}_moveAfter(s,a,f){return this._unlink(s),this._insertAfter(s,a,f),this._addToMoves(s,f),s}_addAfter(s,a,f){return this._insertAfter(s,a,f),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,f){const b=null===a?this._itHead:a._next;return s._next=b,s._prev=a,null===b?this._itTail=s:b._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new HT),this._linkedRecords.put(s),s.currentIndex=f,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,f=s._next;return null===a?this._itHead=f:a._next=f,null===f?this._itTail=a:f._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HT),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class ZM{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JM{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===a||a<=f.currentIndex)&&Object.is(f.trackById,s))return f;return null}remove(s){const a=s._prevDup,f=s._nextDup;return null===a?this._head=f:a._nextDup=f,null===f?this._tail=a:f._prevDup=a,null===this._head}}class HT{constructor(){this.map=new Map}put(s){const a=s.trackById;let f=this.map.get(a);f||(f=new JM,this.map.set(a,f)),f.add(s)}get(s,a){const b=this.map.get(s);return b?b.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $T(n,s,a){const f=n.previousIndex;if(null===f)return f;let b=0;return a&&f<a.length&&(b=a[f]),f+s+b}class GT{constructor(){}supports(s){return s instanceof Map||l(s)}create(){return new eA}}class eA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||l(s)))throw new hi(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(f,b)=>{if(a&&a.key===b)this._maybeAddToChanges(a,f),this._appendAfter=a,a=a._next;else{const D=this._getOrCreateRecordForKey(b,f);a=this._insertBeforeOrAppend(a,D)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let f=a;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const f=s._prev;return a._next=s,a._prev=f,s._prev=a,f&&(f._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const b=this._records.get(s);this._maybeAddToChanges(b,a);const D=b._prev,B=b._next;return D&&(D._next=B),B&&(B._prev=D),b._next=null,b._prev=null,b}const f=new tA(s);return this._records.set(s,f),f.currentValue=a,this._addToAdditions(f),f}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(f=>a(s[f],f))}}class tA{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WT(){return new $x([new zT])}let $x=(()=>{class n{static#e=this.\u0275prov=Zn({token:n,providedIn:"root",factory:WT});constructor(a){this.factories=a}static create(a,f){if(null!=f){const b=f.factories.slice();a=a.concat(b)}return new n(a)}static extend(a){return{provide:n,useFactory:f=>n.create(a,f||WT()),deps:[[n,new Qs,new Pr]]}}find(a){const f=this.factories.find(b=>b.supports(a));if(null!=f)return f;throw new hi(901,!1)}}return n})();function KT(){return new Gx([new GT])}let Gx=(()=>{class n{static#e=this.\u0275prov=Zn({token:n,providedIn:"root",factory:KT});constructor(a){this.factories=a}static create(a,f){if(f){const b=f.factories.slice();a=a.concat(b)}return new n(a)}static extend(a){return{provide:n,useFactory:f=>n.create(a,f||KT()),deps:[[n,new Qs,new Pr]]}}find(a){const f=this.factories.find(b=>b.supports(a));if(f)return f;throw new hi(901,!1)}}return n})();const rA=RT(null,"core",[]);let sA=(()=>{class n{constructor(a){}static#e=this.\u0275fac=function(f){return new(f||n)(er(Vb))};static#t=this.\u0275mod=_c({type:n});static#n=this.\u0275inj=sn({})}return n})();function RA(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function LA(n,s=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?s:Number(n)}function FA(n){const s=ne(null);try{return n()}finally{ne(s)}}function HA(n){const s=us(n);if(!s)return null;const a=new Vf(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},1152:(Jt,ke,E)=>{"use strict";E.d(ke,{$z:()=>ae,AU:()=>de,CP:()=>Ve,DS:()=>_e,UB:()=>fe,X8:()=>Xe,ZP:()=>J,gF:()=>Re,yy:()=>Le}),E(1112);var m=E(177),T=E(4438),F=E(1825),x=E(9253),ce=E(1413),ne=E(7673),q=E(1985),z=E(8455),O=E(7786),I=E(941),k=E(5558),A=E(6354),H=E(6496),Q=E(1594),ee=E(7083),be=E(6745),me=E(5964),Ne=E(7935);const Ve=new T.nKC("angularfire2.auth.use-emulator"),Le=new T.nKC("angularfire2.auth.settings"),J=new T.nKC("angularfire2.auth.tenant-id"),ae=new T.nKC("angularfire2.auth.langugage-code"),de=new T.nKC("angularfire2.auth.use-device-language"),fe=new T.nKC("angularfire.auth.persistence"),Re=(Ye,Ot,un,Cn,An,Nn,Et,Rt)=>(0,x.BM)(`${Ye.name}.auth`,"AngularFireAuth",Ye.name,()=>{const jt=Ot.runOutsideAngular(()=>Ye.auth());if(un&&jt.useEmulator(...un),Cn&&(jt.tenantId=Cn),jt.languageCode=An,Nn&&jt.useDeviceLanguage(),Et)for(const[Dt,en]of Object.entries(Et))jt.settings[Dt]=en;return Rt&&jt.setPersistence(Rt),jt},[un,Cn,An,Nn,Et,Rt]);let _e=(()=>{class Ye{authState;idToken;user;idTokenResult;credential;constructor(un,Cn,An,Nn,Et,Rt,jt,Dt,en,qe,We,ge){const mt=new ce.B,Ft=(0,ne.of)(void 0).pipe((0,I.Q)(Et.outsideAngular),(0,k.n)(()=>Nn.runOutsideAngular(()=>Promise.resolve().then(E.bind(E,1112)))),(0,A.T)(()=>(0,x.iB)(un,Nn,Cn)),(0,A.T)(Lt=>Re(Lt,Nn,Rt,Dt,en,qe,jt,We)),(0,H.t)({bufferSize:1,refCount:!1}));if((0,m.Vy)(An))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ne.of)(null);else{Ft.pipe((0,Q.$)()).subscribe();const Lt=Ft.pipe((0,k.n)(dt=>dt.getRedirectResult().then($t=>$t,()=>null)),F.U0,(0,H.t)({bufferSize:1,refCount:!1})),bn=Ft.pipe((0,k.n)(dt=>new q.c($t=>({unsubscribe:Nn.runOutsideAngular(()=>dt.onAuthStateChanged(Pn=>$t.next(Pn),Pn=>$t.error(Pn),()=>$t.complete()))})))),it=Ft.pipe((0,k.n)(dt=>new q.c($t=>({unsubscribe:Nn.runOutsideAngular(()=>dt.onIdTokenChanged(Pn=>$t.next(Pn),Pn=>$t.error(Pn),()=>$t.complete()))}))));this.authState=Lt.pipe((0,ee.K)(bn),(0,be._)(Et.outsideAngular),(0,I.Q)(Et.insideAngular)),this.user=Lt.pipe((0,ee.K)(it),(0,be._)(Et.outsideAngular),(0,I.Q)(Et.insideAngular)),this.idToken=this.user.pipe((0,k.n)(dt=>dt?(0,z.H)(dt.getIdToken()):(0,ne.of)(null))),this.idTokenResult=this.user.pipe((0,k.n)(dt=>dt?(0,z.H)(dt.getIdTokenResult()):(0,ne.of)(null))),this.credential=(0,O.h)(Lt,mt,this.authState.pipe((0,me.p)(dt=>!dt))).pipe((0,A.T)(dt=>dt?.user?dt:null),(0,be._)(Et.outsideAngular),(0,I.Q)(Et.insideAngular))}return(0,x.Gt)(this,Ft,Nn,{spy:{apply:(Lt,bn,it)=>{(Lt.startsWith("signIn")||Lt.startsWith("createUser"))&&it.then(dt=>mt.next(dt))}}})}static \u0275fac=function(Cn){return new(Cn||Ye)(T.KVO(x.rx),T.KVO(x.uP,8),T.KVO(T.Agw),T.KVO(T.SKi),T.KVO(F.u0),T.KVO(Ve,8),T.KVO(Le,8),T.KVO(J,8),T.KVO(ae,8),T.KVO(de,8),T.KVO(fe,8),T.KVO(F.Jv,8))};static \u0275prov=T.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"any"})}return Ye})(),Xe=(()=>{class Ye{constructor(){Ne.A.registerVersion("angularfire",F.xv.full,"auth-compat")}static \u0275fac=function(Cn){return new(Cn||Ye)};static \u0275mod=T.$C({type:Ye});static \u0275inj=T.G2t({providers:[_e]})}return Ye})()},3235:(Jt,ke,E)=>{"use strict";E.d(ke,{Qe:()=>kb});var p=E(177),m=E(4438),T=E(1825),F=E(9253),x=E(1152),ce=E(3236),ne=E(1985),q=E(8455),z=E(7673),O=E(9172),I=E(9974),k=E(4360);function A(){return(0,I.N)((l,e)=>{let r,u=!1;l.subscribe((0,k._)(e,v=>{const C=r;r=v,u&&e.next([C,v]),u=!0}))})}var Re,H=E(6354),Q=E(2816),ee=E(3294),be=E(5964),Ne=(E(1112),E(3345)),Be=E(467),Ve=E(8742),Le=E(1362),J=E(8041),ae=E(1076),de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe={},_e=_e||{},Xe=de||self;function Ye(l){var e=typeof l;return"array"==(e="object"!=e?e:l?Array.isArray(l)?"array":e:"null")||"object"==e&&"number"==typeof l.length}function Ot(l){var e=typeof l;return"object"==e&&null!=l||"function"==e}var Cn="closure_uid_"+(1e9*Math.random()>>>0),An=0;function Nn(l,e,r){return l.call.apply(l.bind,arguments)}function Et(l,e,r){if(!l)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,u),l.apply(e,v)}}return function(){return l.apply(e,arguments)}}function Rt(l,e,r){return(Rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nn:Et).apply(null,arguments)}function jt(l,e){var r=Array.prototype.slice.call(arguments,1);return function(){var u=r.slice();return u.push.apply(u,arguments),l.apply(this,u)}}function Dt(l,e){function r(){}r.prototype=e.prototype,l.$=e.prototype,l.prototype=new r,l.prototype.constructor=l,l.ac=function(u,v,C){for(var R=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)R[ue-2]=arguments[ue];return e.prototype[v].apply(u,R)}}function en(){this.s=this.s,this.o=this.o}en.prototype.s=!1,en.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function un(l){Object.prototype.hasOwnProperty.call(l,Cn)&&l[Cn]||(l[Cn]=++An)}(this)},en.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const We=Array.prototype.indexOf?function(l,e){return Array.prototype.indexOf.call(l,e,void 0)}:function(l,e){if("string"==typeof l)return"string"!=typeof e||1!=e.length?-1:l.indexOf(e,0);for(let r=0;r<l.length;r++)if(r in l&&l[r]===e)return r;return-1};function ge(l){const e=l.length;if(0<e){const r=Array(e);for(let u=0;u<e;u++)r[u]=l[u];return r}return[]}function mt(l,e){for(let r=1;r<arguments.length;r++){const u=arguments[r];if(Ye(u)){const v=l.length||0,C=u.length||0;l.length=v+C;for(let R=0;R<C;R++)l[v+R]=u[R]}else l.push(u)}}function Ft(l,e){this.type=l,this.g=this.target=e,this.defaultPrevented=!1}Ft.prototype.h=function(){this.defaultPrevented=!0};var Lt=function(){if(!Xe.addEventListener||!Object.defineProperty)return!1;var l=!1,e=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const r=()=>{};Xe.addEventListener("test",r,e),Xe.removeEventListener("test",r,e)}catch{}return l}();function bn(l){return/^[\s\xa0]*$/.test(l)}function it(){var l=Xe.navigator;return l&&(l=l.userAgent)?l:""}function dt(l){return-1!=it().indexOf(l)}function $t(l){return $t[" "](l),l}$t[" "]=function(){};var Ge,l,qn=dt("Opera"),Pi=dt("Trident")||dt("MSIE"),hi=dt("Edge"),Ci=hi||Pi,qt=dt("Gecko")&&!(-1!=it().toLowerCase().indexOf("webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Ie=-1!=it().toLowerCase().indexOf("webkit")&&!dt("Edge");function Te(){var l=Xe.document;return l?l.documentMode:void 0}e:{var kt="",Gt=(l=it(),qt?/rv:([^\);]+)(\)|;)/.exec(l):hi?/Edge\/([\d\.]+)/.exec(l):Pi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):Ie?/WebKit\/(\S+)/.exec(l):qn?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(Gt&&(kt=Gt?Gt[1]:""),Pi){var En=Te();if(null!=En&&En>parseFloat(kt)){Ge=String(En);break e}}Ge=kt}var yi=Xe.document&&Pi&&(Te()||parseInt(Ge,10))||void 0;function bi(l,e){if(Ft.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var r=this.type=l.type,u=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=e,e=l.relatedTarget){if(qt){e:{try{$t(e.nodeName);var v=!0;break e}catch{}v=!1}v||(e=null)}}else"mouseover"==r?e=l.fromElement:"mouseout"==r&&(e=l.toElement);this.relatedTarget=e,u?(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:rr[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&bi.$.h.call(this)}}Dt(bi,Ft);var rr={2:"touch",3:"pen",4:"mouse"};bi.prototype.h=function(){bi.$.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var br="closure_listenable_"+(1e6*Math.random()|0),Si=0;function Ar(l,e,r,u,v){this.listener=l,this.proxy=null,this.src=e,this.type=r,this.capture=!!u,this.la=v,this.key=++Si,this.fa=this.ia=!1}function $i(l){l.fa=!0,l.listener=null,l.proxy=null,l.src=null,l.la=null}function Gi(l,e,r){for(const u in l)e.call(r,l[u],u,l)}function Dn(l){const e={};for(const r in l)e[r]=l[r];return e}const On="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(l,e){let r,u;for(let v=1;v<arguments.length;v++){for(r in u=arguments[v],u)l[r]=u[r];for(let C=0;C<On.length;C++)r=On[C],Object.prototype.hasOwnProperty.call(u,r)&&(l[r]=u[r])}}function Pt(l){this.src=l,this.g={},this.h=0}function Vt(l,e){var r=e.type;if(r in l.g){var C,u=l.g[r],v=We(u,e);(C=0<=v)&&Array.prototype.splice.call(u,v,1),C&&($i(e),0==l.g[r].length&&(delete l.g[r],l.h--))}}function yt(l,e,r,u){for(var v=0;v<l.length;++v){var C=l[v];if(!C.fa&&C.listener==e&&C.capture==!!r&&C.la==u)return v}return-1}Pt.prototype.add=function(l,e,r,u,v){var C=l.toString();(l=this.g[C])||(l=this.g[C]=[],this.h++);var R=yt(l,e,u,v);return-1<R?(e=l[R],r||(e.ia=!1)):((e=new Ar(e,this.src,C,!!u,v)).ia=r,l.push(e)),e};var Ht="closure_lm_"+(1e6*Math.random()|0),ft={};function wt(l,e,r,u,v){if(u&&u.once)return V(l,e,r,u,v);if(Array.isArray(e)){for(var C=0;C<e.length;C++)wt(l,e[C],r,u,v);return null}return r=gn(r),l&&l[br]?l.O(e,r,Ot(u)?!!u.capture:!!u,v):ze(l,e,r,!1,u,v)}function ze(l,e,r,u,v,C){if(!e)throw Error("Invalid event type");var R=Ot(v)?!!v.capture:!!v,ue=ht(l);if(ue||(l[Ht]=ue=new Pt(l)),(r=ue.add(e,r,u,R,C)).proxy)return r;if(u=function st(){const e=ot;return function l(r){return e.call(l.src,l.listener,r)}}(),r.proxy=u,u.src=l,u.listener=r,l.addEventListener)Lt||(v=R),void 0===v&&(v=!1),l.addEventListener(e.toString(),u,v);else if(l.attachEvent)l.attachEvent(Ee(e.toString()),u);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(u)}return r}function V(l,e,r,u,v){if(Array.isArray(e)){for(var C=0;C<e.length;C++)V(l,e[C],r,u,v);return null}return r=gn(r),l&&l[br]?l.P(e,r,Ot(u)?!!u.capture:!!u,v):ze(l,e,r,!0,u,v)}function G(l,e,r,u,v){if(Array.isArray(e))for(var C=0;C<e.length;C++)G(l,e[C],r,u,v);else u=Ot(u)?!!u.capture:!!u,r=gn(r),l&&l[br]?(l=l.i,(e=String(e).toString())in l.g&&-1<(r=yt(C=l.g[e],r,u,v))&&($i(C[r]),Array.prototype.splice.call(C,r,1),0==C.length&&(delete l.g[e],l.h--))):l&&(l=ht(l))&&(e=l.g[e.toString()],l=-1,e&&(l=yt(e,r,u,v)),(r=-1<l?e[l]:null)&&X(r))}function X(l){if("number"!=typeof l&&l&&!l.fa){var e=l.src;if(e&&e[br])Vt(e.i,l);else{var r=l.type,u=l.proxy;e.removeEventListener?e.removeEventListener(r,u,l.capture):e.detachEvent?e.detachEvent(Ee(r),u):e.addListener&&e.removeListener&&e.removeListener(u),(r=ht(e))?(Vt(r,l),0==r.h&&(r.src=null,e[Ht]=null)):$i(l)}}}function Ee(l){return l in ft?ft[l]:ft[l]="on"+l}function ot(l,e){if(l.fa)l=!0;else{e=new bi(e,this);var r=l.listener,u=l.la||l.src;l.ia&&X(l),l=r.call(u,e)}return l}function ht(l){return(l=l[Ht])instanceof Pt?l:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(l){return"function"==typeof l?l:(l[on]||(l[on]=function(e){return l.handleEvent(e)}),l[on])}function pt(){en.call(this),this.i=new Pt(this),this.S=this,this.J=null}function Ut(l,e){var r,u=l.J;if(u)for(r=[];u;u=u.J)r.push(u);if(l=l.S,u=e.type||e,"string"==typeof e)e=new Ft(e,l);else if(e instanceof Ft)e.target=e.target||l;else{var v=e;bt(e=new Ft(u,l),v)}if(v=!0,r)for(var C=r.length-1;0<=C;C--){var R=e.g=r[C];v=lt(R,u,!0,e)&&v}if(v=lt(R=e.g=l,u,!0,e)&&v,v=lt(R,u,!1,e)&&v,r)for(C=0;C<r.length;C++)v=lt(R=e.g=r[C],u,!1,e)&&v}function lt(l,e,r,u){if(!(e=l.i.g[String(e)]))return!0;e=e.concat();for(var v=!0,C=0;C<e.length;++C){var R=e[C];if(R&&!R.fa&&R.capture==r){var ue=R.listener,Pe=R.la||R.src;R.ia&&Vt(l.i,R),v=!1!==ue.call(Pe,u)&&v}}return v&&!u.defaultPrevented}Dt(pt,en),pt.prototype[br]=!0,pt.prototype.removeEventListener=function(l,e,r,u){G(this,l,e,r,u)},pt.prototype.N=function(){if(pt.$.N.call(this),this.i){var e,l=this.i;for(e in l.g){for(var r=l.g[e],u=0;u<r.length;u++)$i(r[u]);delete l.g[e],l.h--}}this.J=null},pt.prototype.O=function(l,e,r,u){return this.i.add(String(l),e,!1,r,u)},pt.prototype.P=function(l,e,r,u){return this.i.add(String(l),e,!0,r,u)};var ln=Xe.JSON.stringify;function Nt(){var l=dn;let e=null;return l.g&&(e=l.g,l.g=l.g.next,l.g||(l.h=null),e.next=null),e}var $n=new class Rn{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Zn,l=>l.reset());class Zn{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Ai(l){var e=1;l=l.split(":");const r=[];for(;0<e&&l.length;)r.push(l.shift()),e--;return l.length&&r.push(l.join(":")),r}function sn(l){Xe.setTimeout(()=>{throw l},0)}let hn,xt=!1,dn=new class vn{constructor(){this.h=this.g=null}add(e,r){const u=$n.get();u.set(e,r),this.h?this.h.next=u:this.g=u,this.h=u}},he=()=>{const l=Xe.Promise.resolve(void 0);hn=()=>{l.then(ct)}};var ct=()=>{for(var l;l=Nt();){try{l.h.call(l.g)}catch(r){sn(r)}var e=$n;e.j(l),100>e.h&&(e.h++,l.next=e.g,e.g=l)}xt=!1};function we(l,e){pt.call(this),this.h=l||1,this.g=e||Xe,this.j=Rt(this.qb,this),this.l=Date.now()}function at(l){l.ga=!1,l.T&&(l.g.clearTimeout(l.T),l.T=null)}function Mt(l,e,r){if("function"==typeof l)r&&(l=Rt(l,r));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=Rt(l.handleEvent,l)}return 2147483647<Number(e)?-1:Xe.setTimeout(l,e||0)}function Sn(l){l.g=Mt(()=>{l.g=null,l.i&&(l.i=!1,Sn(l))},l.j);const e=l.h;l.h=null,l.m.apply(null,e)}Dt(we,pt),(Re=we.prototype).ga=!1,Re.T=null,Re.qb=function(){if(this.ga){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-l):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ut(this,"tick"),this.ga&&(at(this),this.start()))}},Re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Re.N=function(){we.$.N.call(this),at(this),delete this.g};class Ln extends en{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sn(this)}N(){super.N(),this.g&&(Xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(l){en.call(this),this.h=l,this.g={}}Dt(oi,en);var Di=[];function ji(l,e,r,u){Array.isArray(r)||(r&&(Di[0]=r.toString()),r=Di);for(var v=0;v<r.length;v++){var C=wt(e,r[v],u||l.handleEvent,!1,l.h||l);if(!C)break;l.g[C.key]=C}}function Li(l){Gi(l.g,function(e,r){this.g.hasOwnProperty(r)&&X(e)},l),l.g={}}function ss(){this.g=!0}function Or(l,e,r,u){l.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xs(l,e){if(!l.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(l=0;l<r.length;l++)if(Array.isArray(r[l])){var u=r[l];if(!(2>u.length)){var v=u[1];if(Array.isArray(v)&&!(1>v.length)){var C=v[0];if("noop"!=C&&"stop"!=C&&"close"!=C)for(var R=1;R<v.length;R++)v[R]=""}}}return ln(r)}catch{return e}}(l,r)+(u?" "+u:"")})}oi.prototype.N=function(){oi.$.N.call(this),Li(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ss.prototype.Ea=function(){this.g=!1},ss.prototype.info=function(){};var ts={},fs=null;function Fi(){return fs=fs||new pt}function mi(l){Ft.call(this,ts.Ta,l)}function no(l){const e=Fi();Ut(e,new mi(e))}function Oo(l,e){Ft.call(this,ts.STAT_EVENT,l),this.stat=e}function As(l){const e=Fi();Ut(e,new Oo(e,l))}function io(l,e){Ft.call(this,ts.Ua,l),this.size=e}function kr(l,e){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return Xe.setTimeout(function(){l()},e)}ts.Ta="serverreachability",Dt(mi,Ft),ts.STAT_EVENT="statevent",Dt(Oo,Ft),ts.Ua="timingevent",Dt(io,Ft);var ps={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zo(){}function Vc(){}Zo.prototype.h=null;var ul,dl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function No(){Ft.call(this,"d")}function ds(){Ft.call(this,"c")}function Jo(){}function Ms(l,e,r,u){this.l=l,this.j=e,this.m=r,this.W=u||1,this.U=new oi(this),this.P=Wa,this.V=new we(l=Ci?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ga}function Ga(){this.i=null,this.g="",this.h=!1}Dt(No,Ft),Dt(ds,Ft),Dt(Jo,Zo),Jo.prototype.g=function(){return new XMLHttpRequest},Jo.prototype.i=function(){return{}},ul=new Jo;var Wa=45e3,nc={},Ra={};function Ka(l,e,r){l.L=1,l.A=Qs(Rr(e)),l.u=r,l.S=!0,U(l,null)}function U(l,e){l.G=Date.now(),yn(l),l.B=Rr(l.A);var r=l.B,u=l.W;Array.isArray(u)||(u=[String(u)]),Zs(r.i,"t",u),l.o=0,r=l.l.J,l.h=new Ga,l.g=Ad(l.l,r?e:null,!l.u),0<l.O&&(l.M=new Ln(Rt(l.Pa,l,l.g),l.O)),ji(l.U,l.g,"readystatechange",l.nb),e=l.I?Dn(l.I):{},l.u?(l.v||(l.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",l.g.ha(l.B,l.v,l.u,e)):(l.v="GET",l.g.ha(l.B,l.v,null,e)),no(),function Zr(l,e,r,u,v,C){l.info(function(){if(l.g)if(C)for(var R="",ue=C.split("&"),Pe=0;Pe<ue.length;Pe++){var tt=ue[Pe].split("=");if(1<tt.length){var Tt=tt[0];tt=tt[1];var tn=Tt.split("_");R=2<=tn.length&&"type"==tn[1]?R+(Tt+"=")+tt+"&":R+(Tt+"=redacted&")}}else R=null;else R=C;return"XMLHTTP REQ ("+u+") [attempt "+v+"]: "+e+"\n"+r+"\n"+R})}(l.j,l.v,l.B,l.m,l.W,l.u)}function De(l){return!!l.g&&"GET"==l.v&&2!=l.L&&l.l.Ha}function Me(l,e,r){let v,u=!0;for(;!l.J&&l.o<r.length;){if(v=Yt(l,r),v==Ra){4==e&&(l.s=4,As(14),u=!1),Or(l.j,l.m,null,"[Incomplete Response]");break}if(v==nc){l.s=4,As(15),Or(l.j,l.m,r,"[Invalid Chunk]"),u=!1;break}Or(l.j,l.m,v,null),er(l,v)}De(l)&&0!=l.o&&(l.h.g=l.h.g.slice(l.o),l.o=0),4!=e||0!=r.length||l.h.h||(l.s=1,As(16),u=!1),l.i=l.i&&u,u?0<r.length&&!l.ba&&(l.ba=!0,(e=l.l).g==l&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),Nu(e),e.M=!0,As(11))):(Or(l.j,l.m,r,"[Invalid Chunked Response]"),gi(l),Hn(l))}function Yt(l,e){var r=l.o,u=e.indexOf("\n",r);return-1==u?Ra:(r=Number(e.substring(r,u)),isNaN(r)?nc:(u+=1)+r>e.length?Ra:(e=e.slice(u,u+r),l.o=u+r,e))}function yn(l){l.Y=Date.now()+l.P,Wn(l,l.P)}function Wn(l,e){if(null!=l.C)throw Error("WatchDog timer not null");l.C=kr(Rt(l.lb,l),e)}function zn(l){l.C&&(Xe.clearTimeout(l.C),l.C=null)}function Hn(l){0==l.l.H||l.J||Fu(l.l,l)}function gi(l){zn(l);var e=l.M;e&&"function"==typeof e.sa&&e.sa(),l.M=null,at(l.V),Li(l.U),l.g&&(e=l.g,l.g=null,e.abort(),e.sa())}function er(l,e){try{var r=l.l;if(0!=r.H&&(r.g==l||rd(r.i,l)))if(!l.K&&rd(r.i,l)&&3==r.H){try{var u=r.Ja.g.parse(e)}catch{u=null}if(Array.isArray(u)&&3==u.length){var v=u;if(0==v[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<l.G))break e;rc(r),Dd(r)}Id(r),As(18)}}else r.Fa=v[1],0<r.Fa-r.V&&37500>v[2]&&r.G&&0==r.A&&!r.v&&(r.v=kr(Rt(r.ib,r),6e3));if(1>=Fo(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Uc(r,11)}else if((l.K||r.g==l)&&rc(r),!bn(e))for(v=r.Ja.g.parse(e),e=0;e<v.length;e++){let tt=v[e];if(r.V=tt[0],tt=tt[1],2==r.H)if("c"==tt[0]){r.K=tt[1],r.pa=tt[2];const Tt=tt[3];null!=Tt&&(r.ra=Tt,r.l.info("VER="+r.ra));const tn=tt[4];null!=tn&&(r.Ga=tn,r.l.info("SVER="+r.Ga));const kn=tt[5];null!=kn&&"number"==typeof kn&&0<kn&&(r.L=u=1.5*kn,r.l.info("backChannelRequestTimeoutMs_="+u)),u=r;const ti=l.g;if(ti){const Ji=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var C=u.i;C.g||-1==Ji.indexOf("spdy")&&-1==Ji.indexOf("quic")&&-1==Ji.indexOf("h2")||(C.j=C.l,C.g=new Set,C.h&&(Ml(C,C.h),C.h=null))}if(u.F){const Wi=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Wi&&(u.Da=Wi,tr(u.I,u.F,Wi))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-l.G,r.l.info("Handshake RTT: "+r.S+"ms"));var R=l;if((u=r).wa=Md(u,u.J?u.pa:null,u.Y),R.K){ta(u.i,R);var ue=R,Pe=u.L;Pe&&ue.setTimeout(Pe),ue.C&&(zn(ue),yn(ue)),u.g=R}else hu(u);0<r.j.length&&fo(r)}else"stop"!=tt[0]&&"close"!=tt[0]||Uc(r,7);else 3==r.H&&("stop"==tt[0]||"close"==tt[0]?"stop"==tt[0]?Uc(r,7):Sd(r):"noop"!=tt[0]&&r.h&&r.h.Aa(tt),r.A=0)}no()}catch{}}function xr(l,e){if(l.forEach&&"function"==typeof l.forEach)l.forEach(e,void 0);else if(Ye(l)||"string"==typeof l)Array.prototype.forEach.call(l,e,void 0);else for(var r=function Ni(l){if(l.ta&&"function"==typeof l.ta)return l.ta();if(!l.Z||"function"!=typeof l.Z){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(Ye(l)||"string"==typeof l){var e=[];l=l.length;for(var r=0;r<l;r++)e.push(r);return e}e=[],r=0;for(const u in l)e[r++]=u;return e}}}(l),u=function Fr(l){if(l.Z&&"function"==typeof l.Z)return l.Z();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(Ye(l)){for(var e=[],r=l.length,u=0;u<r;u++)e.push(l[u]);return e}for(u in e=[],r=0,l)e[r++]=l[u];return e}(l),v=u.length,C=0;C<v;C++)e.call(void 0,u[C],r&&r[C],l)}(Re=Ms.prototype).setTimeout=function(l){this.P=l},Re.nb=function(l){l=l.target;const e=this.M;e&&3==Na(l)?e.l():this.Pa(l)},Re.Pa=function(l){try{if(l==this.g)e:{const Tt=Na(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Tt)&&(3!=Tt||Ci||this.g&&(this.h.h||this.g.ja()||gc(this.g)))){this.J||4!=Tt||7==e||no(),zn(this);var r=this.g.da();this.ca=r;t:if(De(this)){var u=gc(this.g);l="";var v=u.length,C=4==Na(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),Hn(this);var R="";break t}this.h.i=new Xe.TextDecoder}for(e=0;e<v;e++)this.h.h=!0,l+=this.h.i.decode(u[e],{stream:C&&e==v-1});u.length=0,this.h.g+=l,this.o=0,R=this.h.g}else R=this.g.ja();if(this.i=200==r,function pi(l,e,r,u,v,C,R){l.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+v+"]: "+e+"\n"+r+"\n"+C+" "+R})}(this.j,this.v,this.B,this.m,this.W,Tt,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var ue,Pe=this.g;if((ue=Pe.g?Pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bn(ue)){var tt=ue;break t}}tt=null}if(!(r=tt)){this.i=!1,this.s=3,As(12),gi(this),Hn(this);break e}Or(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,er(this,r)}this.S?(Me(this,Tt,R),Ci&&this.i&&3==Tt&&(ji(this.U,this.V,"tick",this.mb),this.V.start())):(Or(this.j,this.m,R,null),er(this,R)),4==Tt&&gi(this),this.i&&!this.J&&(4==Tt?Fu(this.l,this):(this.i=!1,yn(this)))}else(function ga(l){const e={};l=(l.g&&2<=Na(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let u=0;u<l.length;u++){if(bn(l[u]))continue;var r=Ai(l[u]);const v=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const C=e[v]||[];e[v]=C,C.push(r)}!function rs(l,e){for(const r in l)e.call(void 0,l[r],r,l)}(e,function(u){return u.join(", ")})})(this.g),400==r&&0<R.indexOf("Unknown SID")?(this.s=3,As(12)):(this.s=0,As(13)),gi(this),Hn(this)}}}catch{}},Re.mb=function(){if(this.g){var l=Na(this.g),e=this.g.ja();this.o<e.length&&(zn(this),Me(this,l,e),this.i&&4!=l&&yn(this))}},Re.cancel=function(){this.J=!0,gi(this)},Re.lb=function(){this.C=null;const l=Date.now();0<=l-this.Y?(function bo(l,e){l.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(no(),As(17)),gi(this),this.s=2,Hn(this)):Wn(this,this.Y-l)};var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ur(l){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,l instanceof Ur){this.h=l.h,Bs(this,l.j),this.s=l.s,this.g=l.g,or(this,l.m),this.l=l.l;var e=l.i,r=new la;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),Pr(this,r),this.o=l.o}else l&&(e=String(l).match(ks))?(this.h=!1,Bs(this,e[1]||"",!0),this.s=Us(e[2]||""),this.g=Us(e[3]||"",!0),or(this,e[4]),this.l=Us(e[5]||"",!0),Pr(this,e[6]||"",!0),this.o=Us(e[7]||"")):(this.h=!1,this.i=new la(null,this.h))}function Rr(l){return new Ur(l)}function Bs(l,e,r){l.j=r?Us(e,!0):e,l.j&&(l.j=l.j.replace(/:$/,""))}function or(l,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);l.m=e}else l.m=null}function Pr(l,e,r){e instanceof la?(l.i=e,function Xo(l,e){e&&!l.j&&(ea(l),l.i=null,l.g.forEach(function(r,u){var v=u.toLowerCase();u!=v&&(hl(this,u),Zs(this,v,r))},l)),l.j=e}(l.i,l.h)):(r||(e=oa(e,ic)),l.i=new la(e,l.h))}function tr(l,e,r){l.i.set(e,r)}function Qs(l){return tr(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Us(l,e){return l?e?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function oa(l,e,r){return"string"==typeof l?(l=encodeURI(l).replace(e,aa),r&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function aa(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}Ur.prototype.toString=function(){var l=[],e=this.j;e&&l.push(oa(e,Go,!0),":");var r=this.g;return(r||"file"==e)&&(l.push("//"),(e=this.s)&&l.push(oa(e,Go,!0),"@"),l.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&l.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&l.push("/"),l.push(oa(r,"/"==r.charAt(0)?nd:ma,!0))),(r=this.i.toString())&&l.push("?",r),(r=this.o)&&l.push("#",oa(r,Il)),l.join("")};var Go=/[#\/\?@]/g,ma=/[#\?:]/g,nd=/[#\?]/g,ic=/[#\?@]/g,Il=/#/g;function la(l,e){this.h=this.g=null,this.i=l||null,this.j=!!e}function ea(l){l.g||(l.g=new Map,l.h=0,l.i&&function zs(l,e){if(l){l=l.split("&");for(var r=0;r<l.length;r++){var u=l[r].indexOf("="),v=null;if(0<=u){var C=l[r].substring(0,u);v=l[r].substring(u+1)}else C=l[r];e(C,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}(l.i,function(e,r){l.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function hl(l,e){ea(l),e=$r(l,e),l.g.has(e)&&(l.i=null,l.h-=l.g.get(e).length,l.g.delete(e))}function La(l,e){return ea(l),e=$r(l,e),l.g.has(e)}function Zs(l,e,r){hl(l,e),0<r.length&&(l.i=null,l.g.set($r(l,e),ge(r)),l.h+=r.length)}function $r(l,e){return e=String(e),l.j&&(e=e.toLowerCase()),e}(Re=la.prototype).add=function(l,e){ea(this),this.i=null,l=$r(this,l);var r=this.g.get(l);return r||this.g.set(l,r=[]),r.push(e),this.h+=1,this},Re.forEach=function(l,e){ea(this),this.g.forEach(function(r,u){r.forEach(function(v){l.call(e,v,u,this)},this)},this)},Re.ta=function(){ea(this);const l=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let u=0;u<e.length;u++){const v=l[u];for(let C=0;C<v.length;C++)r.push(e[u])}return r},Re.Z=function(l){ea(this);let e=[];if("string"==typeof l)La(this,l)&&(e=e.concat(this.g.get($r(this,l))));else{l=Array.from(this.g.values());for(let r=0;r<l.length;r++)e=e.concat(l[r])}return e},Re.set=function(l,e){return ea(this),this.i=null,La(this,l=$r(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[e]),this.h+=1,this},Re.get=function(l,e){return l&&0<(l=this.Z(l)).length?String(l[0]):e},Re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var u=e[r];const C=encodeURIComponent(String(u)),R=this.Z(u);for(u=0;u<R.length;u++){var v=C;""!==R[u]&&(v+="="+encodeURIComponent(String(R[u]))),l.push(v)}}return this.i=l.join("&")};var id=class{constructor(l,e){this.g=l,this.map=e}};function fl(l){this.l=l||ca,l=Xe.PerformanceNavigationTiming?0<(l=Xe.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(Xe.g&&Xe.g.Ka&&Xe.g.Ka()&&Xe.g.Ka().dc),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ca=10;function as(l){return!!l.h||!!l.g&&l.g.size>=l.j}function Fo(l){return l.h?1:l.g?l.g.size:0}function rd(l,e){return l.h?l.h==e:!!l.g&&l.g.has(e)}function Ml(l,e){l.g?l.g.add(e):l.h=e}function ta(l,e){l.h&&l.h==e?l.h=null:l.g&&l.g.has(e)&&l.g.delete(e)}function Co(l){if(null!=l.h)return l.i.concat(l.h.F);if(null!=l.g&&0!==l.g.size){let e=l.i;for(const r of l.g.values())e=e.concat(r.F);return e}return ge(l.i)}fl.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var Ya=class{stringify(l){return Xe.JSON.stringify(l,void 0)}parse(l){return Xe.JSON.parse(l,void 0)}};function Hs(){this.g=new Ya}function pl(l,e,r){const u=r||"";try{xr(l,function(v,C){let R=v;Ot(v)&&(R=ln(v)),e.push(u+C+"="+encodeURIComponent(R))})}catch(v){throw e.push(u+"type="+encodeURIComponent("_badmap")),v}}function rt(l,e,r,u,v){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,v(u)}catch{}}function ut(l){this.l=l.ec||null,this.j=l.ob||!1}function Fe(l,e){pt.call(this),this.F=l,this.u=e,this.m=void 0,this.readyState=It,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(ut,Zo),ut.prototype.g=function(){return new Fe(this.l,this.j)},ut.prototype.i=function(l){return function(){return l}}({}),Dt(Fe,pt);var It=0;function Tn(l){l.j.read().then(l.Xa.bind(l)).catch(l.ka.bind(l))}function fr(l){l.readyState=4,l.l=null,l.j=null,l.A=null,qr(l)}function qr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(Re=Fe.prototype).open=function(l,e){if(this.readyState!=It)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=e,this.readyState=1,qr(this)},Re.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(e.body=l),(this.F||Xe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fr(this)),this.readyState=It},Re.$a=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xe.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tn(this)}else l.text().then(this.Za.bind(this),this.ka.bind(this))},Re.Xa=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var e=l.value?l.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!l.done}))&&(this.response=this.responseText+=e)}l.done?fr(this):qr(this),3==this.readyState&&Tn(this)}},Re.Za=function(l){this.g&&(this.response=this.responseText=l,fr(this))},Re.Ya=function(l){this.g&&(this.response=l,fr(this))},Re.ka=function(){this.g&&fr(this)},Re.setRequestHeader=function(l,e){this.v.append(l,e)},Re.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},Re.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],e=this.h.entries();for(var r=e.next();!r.done;)l.push((r=r.value)[0]+": "+r[1]),r=e.next();return l.join("\r\n")},Object.defineProperty(Fe.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var ml=Xe.JSON.parse;function $s(l){pt.call(this),this.headers=new Map,this.u=l||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ro,this.L=this.M=!1}Dt($s,pt);var ro="",cu=/^https?$/i,af=["POST","PUT"];function _h(l,e){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=e,l.m=5,co(l),bh(l)}function co(l){l.F||(l.F=!0,Ut(l,"complete"),Ut(l,"error"))}function vh(l){if(l.h&&typeof _e<"u"&&(!l.C[1]||4!=Na(l)||2!=l.da()))if(l.v&&4==Na(l))Mt(l.La,0,l);else if(Ut(l,"readystatechange"),4==Na(l)){l.h=!1;try{const R=l.da();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var u;if(u=0===R){var v=String(l.I).match(ks)[1]||null;!v&&Xe.self&&Xe.self.location&&(v=Xe.self.location.protocol.slice(0,-1)),u=!cu.test(v?v.toLowerCase():"")}r=u}if(r)Ut(l,"complete"),Ut(l,"success");else{l.m=6;try{var C=2<Na(l)?l.g.statusText:""}catch{C=""}l.j=C+" ["+l.da()+"]",co(l)}}finally{bh(l)}}}function bh(l,e){if(l.g){lf(l);const r=l.g,u=l.C[0]?()=>{}:null;l.g=null,l.C=null,e||Ut(l,"ready");try{r.onreadystatechange=u}catch{}}}function lf(l){l.g&&l.L&&(l.g.ontimeout=null),l.A&&(Xe.clearTimeout(l.A),l.A=null)}function Na(l){return l.g?l.g.readyState:0}function gc(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.K){case ro:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Lu(l){let e="";return Gi(l,function(r,u){e+=u,e+=":",e+=r,e+="\r\n"}),e}function Qa(l,e,r){e:{for(u in r){var u=!1;break e}u=!0}u||(r=Lu(r),"string"==typeof l?null!=r&&encodeURIComponent(String(r)):tr(l,e,r))}function _c(l,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[l]||e}function du(l){this.Ga=0,this.j=[],this.l=new ss,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_c("failFast",!1,l),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_c("baseRetryDelayMs",5e3,l),this.hb=_c("retryDelaySeedMs",1e4,l),this.eb=_c("forwardChannelMaxRetries",2,l),this.xa=_c("forwardChannelRequestTimeoutMs",2e4,l),this.va=l&&l.xmlHttpFactory||void 0,this.Ha=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.i=new fl(l&&l.concurrentRequestLimit),this.Ja=new Hs,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=l&&l.bc||!1,l&&l.Ea&&this.l.Ea(),l&&l.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&l&&l.detectBufferingProxy||!1,this.qa=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.qa=l.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Sd(l){if(us(l),3==l.H){var e=l.W++,r=Rr(l.I);if(tr(r,"SID",l.K),tr(r,"RID",e),tr(r,"TYPE","terminate"),To(l,r),(e=new Ms(l,l.l,e)).L=2,e.A=Qs(Rr(r)),r=!1,Xe.navigator&&Xe.navigator.sendBeacon)try{r=Xe.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&Xe.Image&&((new Image).src=e.A,r=!0),r||(e.g=Ad(e.l,null),e.g.ha(e.A)),e.G=Date.now(),yn(e)}ns(l)}function Dd(l){l.g&&(Nu(l),l.g.cancel(),l.g=null)}function us(l){Dd(l),l.u&&(Xe.clearTimeout(l.u),l.u=null),rc(l),l.i.cancel(),l.m&&("number"==typeof l.m&&Xe.clearTimeout(l.m),l.m=null)}function fo(l){if(!as(l.i)&&!l.m){l.m=!0;var e=l.Na;hn||he(),xt||(hn(),xt=!0),dn.add(e,l),l.C=0}}function qa(l,e){var r;r=e?e.m:l.W++;const u=Rr(l.I);tr(u,"SID",l.K),tr(u,"RID",r),tr(u,"AID",l.V),To(l,u),l.o&&l.s&&Qa(u,l.o,l.s),r=new Ms(l,l.l,r,l.C+1),null===l.o&&(r.I=l.s),e&&(l.j=e.F.concat(l.j)),e=uu(l,r,1e3),r.setTimeout(Math.round(.5*l.xa)+Math.round(.5*l.xa*Math.random())),Ml(l.i,r),Ka(r,u,e)}function To(l,e){l.na&&Gi(l.na,function(r,u){tr(e,u,r)}),l.h&&xr({},function(r,u){tr(e,u,r)})}function uu(l,e,r){r=Math.min(l.j.length,r);var u=l.h?Rt(l.h.Va,l.h,l):null;e:{var v=l.j;let C=-1;for(;;){const R=["count="+r];-1==C?0<r?(C=v[0].g,R.push("ofs="+C)):C=0:R.push("ofs="+C);let ue=!0;for(let Pe=0;Pe<r;Pe++){let tt=v[Pe].g;const Tt=v[Pe].map;if(tt-=C,0>tt)C=Math.max(0,v[Pe].g-100),ue=!1;else try{pl(Tt,R,"req"+tt+"_")}catch{u&&u(Tt)}}if(ue){u=R.join("&");break e}}}return l=l.j.splice(0,r),e.F=l,u}function hu(l){if(!l.g&&!l.u){l.ba=1;var e=l.Ma;hn||he(),xt||(hn(),xt=!0),dn.add(e,l),l.A=0}}function Id(l){return!(l.g||l.u||3<=l.A||(l.ba++,l.u=kr(Rt(l.Ma,l),gl(l,l.A)),l.A++,0))}function Nu(l){null!=l.B&&(Xe.clearTimeout(l.B),l.B=null)}function Za(l){l.g=new Ms(l,l.l,"rpc",l.ba),null===l.o&&(l.g.I=l.s),l.g.O=0;var e=Rr(l.wa);tr(e,"RID","rpc"),tr(e,"SID",l.K),tr(e,"AID",l.V),tr(e,"CI",l.G?"0":"1"),!l.G&&l.qa&&tr(e,"TO",l.qa),tr(e,"TYPE","xmlhttp"),To(l,e),l.o&&l.s&&Qa(e,l.o,l.s),l.L&&l.g.setTimeout(l.L);var r=l.g;l=l.pa,r.L=1,r.A=Qs(Rr(e)),r.u=null,r.S=!0,U(r,l)}function rc(l){null!=l.v&&(Xe.clearTimeout(l.v),l.v=null)}function Fu(l,e){var r=null;if(l.g==e){rc(l),Nu(l),l.g=null;var u=2}else{if(!rd(l.i,e))return;r=e.F,ta(l.i,e),u=1}if(0!=l.H)if(e.i)if(1==u){r=e.u?e.u.length:0,e=Date.now()-e.G;var v=l.C;Ut(u=Fi(),new io(u,r)),fo(l)}else hu(l);else if(3==(v=e.s)||0==v&&0<e.ca||!(1==u&&function Bo(l,e){return!(Fo(l.i)>=l.i.j-(l.m?1:0)||(l.m?(l.j=e.F.concat(l.j),0):1==l.H||2==l.H||l.C>=(l.cb?0:l.eb)||(l.m=kr(Rt(l.Na,l,e),gl(l,l.C)),l.C++,0)))}(l,e)||2==u&&Id(l)))switch(r&&0<r.length&&(e=l.i,e.i=e.i.concat(r)),v){case 1:Uc(l,5);break;case 4:Uc(l,10);break;case 3:Uc(l,6);break;default:Uc(l,2)}}function gl(l,e){let r=l.ab+Math.floor(Math.random()*l.hb);return l.isActive()||(r*=2),r*e}function Uc(l,e){if(l.l.info("Error code "+e),2==e){var r=null;l.h&&(r=null);var u=Rt(l.pb,l);r||(r=new Ur("//www.google.com/images/cleardot.gif"),Xe.location&&"http"==Xe.location.protocol||Bs(r,"https"),Qs(r)),function Xa(l,e){const r=new ss;if(Xe.Image){const u=new Image;u.onload=jt(rt,r,u,"TestLoadImage: loaded",!0,e),u.onerror=jt(rt,r,u,"TestLoadImage: error",!1,e),u.onabort=jt(rt,r,u,"TestLoadImage: abort",!1,e),u.ontimeout=jt(rt,r,u,"TestLoadImage: timeout",!1,e),Xe.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=l}else e(!1)}(r.toString(),u)}else As(2);l.H=0,l.h&&l.h.za(e),ns(l),us(l)}function ns(l){if(l.H=0,l.ma=[],l.h){const e=Co(l.i);(0!=e.length||0!=l.j.length)&&(mt(l.ma,e),mt(l.ma,l.j),l.i.i.length=0,ge(l.j),l.j.length=0),l.h.ya()}}function Md(l,e,r){var u=r instanceof Ur?Rr(r):new Ur(r);if(""!=u.g)e&&(u.g=e+"."+u.g),or(u,u.m);else{var v=Xe.location;u=v.protocol,e=e?e+"."+v.hostname:v.hostname,v=+v.port;var C=new Ur(null);u&&Bs(C,u),e&&(C.g=e),v&&or(C,v),r&&(C.l=r),u=C}return e=l.Da,(r=l.F)&&e&&tr(u,r,e),tr(u,"VER",l.ra),To(l,u),u}function Ad(l,e,r){if(e&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $s(l.Ha&&!l.va?new ut({ob:r}):l.va)).Oa(l.J),e}function yh(){}function vc(){if(Pi&&!(10<=Number(yi)))throw Error("Environmental error: no available transport.")}function jl(l,e){pt.call(this),this.g=new du(e),this.l=l,this.h=e&&e.messageUrlParams||null,l=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(l?l["X-WebChannel-Content-Type"]=e.messageContentType:l={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(l?l["X-WebChannel-Client-Profile"]=e.Ca:l={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=l,(l=e&&e.cc)&&!bn(l)&&(this.g.o=l),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bn(e)&&(this.g.F=e,null!==(l=this.h)&&e in l&&e in(l=this.h)&&delete l[e]),this.j=new jc(this)}function Bu(l){No.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var e=l.__sm__;if(e){e:{for(const r in e){l=r;break e}l=void 0}(this.i=l)&&(l=this.i,e=null!==e&&l in e?e[l]:void 0),this.data=e}else this.data=l}function zl(){ds.call(this),this.status=1}function jc(l){this.g=l}function Ia(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cf(l,e,r){r||(r=0);var u=Array(16);if("string"==typeof e)for(var v=0;16>v;++v)u[v]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(v=0;16>v;++v)u[v]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var C=l.g[3],R=(e=l.g[0])+(C^(r=l.g[1])&((v=l.g[2])^C))+u[0]+3614090360&4294967295;R=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=(r=(v=(C=(e=r+(R<<7&4294967295|R>>>25))+((R=C+(v^e&(r^v))+u[1]+3905402710&4294967295)<<12&4294967295|R>>>20))+((R=v+(r^C&(e^r))+u[2]+606105819&4294967295)<<17&4294967295|R>>>15))+((R=r+(e^v&(C^e))+u[3]+3250441966&4294967295)<<22&4294967295|R>>>10))+((R=e+(C^r&(v^C))+u[4]+4118548399&4294967295)<<7&4294967295|R>>>25))+((R=C+(v^e&(r^v))+u[5]+1200080426&4294967295)<<12&4294967295|R>>>20))+((R=v+(r^C&(e^r))+u[6]+2821735955&4294967295)<<17&4294967295|R>>>15))+((R=r+(e^v&(C^e))+u[7]+4249261313&4294967295)<<22&4294967295|R>>>10))+((R=e+(C^r&(v^C))+u[8]+1770035416&4294967295)<<7&4294967295|R>>>25))+((R=C+(v^e&(r^v))+u[9]+2336552879&4294967295)<<12&4294967295|R>>>20))+((R=v+(r^C&(e^r))+u[10]+4294925233&4294967295)<<17&4294967295|R>>>15))+((R=r+(e^v&(C^e))+u[11]+2304563134&4294967295)<<22&4294967295|R>>>10))+((R=e+(C^r&(v^C))+u[12]+1804603682&4294967295)<<7&4294967295|R>>>25))+((R=C+(v^e&(r^v))+u[13]+4254626195&4294967295)<<12&4294967295|R>>>20))+((R=v+(r^C&(e^r))+u[14]+2792965006&4294967295)<<17&4294967295|R>>>15))+((R=r+(e^v&(C^e))+u[15]+1236535329&4294967295)<<22&4294967295|R>>>10))+((R=e+(v^C&(r^v))+u[1]+4129170786&4294967295)<<5&4294967295|R>>>27))+((R=C+(r^v&(e^r))+u[6]+3225465664&4294967295)<<9&4294967295|R>>>23))+((R=v+(e^r&(C^e))+u[11]+643717713&4294967295)<<14&4294967295|R>>>18))+((R=r+(C^e&(v^C))+u[0]+3921069994&4294967295)<<20&4294967295|R>>>12))+((R=e+(v^C&(r^v))+u[5]+3593408605&4294967295)<<5&4294967295|R>>>27))+((R=C+(r^v&(e^r))+u[10]+38016083&4294967295)<<9&4294967295|R>>>23))+((R=v+(e^r&(C^e))+u[15]+3634488961&4294967295)<<14&4294967295|R>>>18))+((R=r+(C^e&(v^C))+u[4]+3889429448&4294967295)<<20&4294967295|R>>>12))+((R=e+(v^C&(r^v))+u[9]+568446438&4294967295)<<5&4294967295|R>>>27))+((R=C+(r^v&(e^r))+u[14]+3275163606&4294967295)<<9&4294967295|R>>>23))+((R=v+(e^r&(C^e))+u[3]+4107603335&4294967295)<<14&4294967295|R>>>18))+((R=r+(C^e&(v^C))+u[8]+1163531501&4294967295)<<20&4294967295|R>>>12))+((R=e+(v^C&(r^v))+u[13]+2850285829&4294967295)<<5&4294967295|R>>>27))+((R=C+(r^v&(e^r))+u[2]+4243563512&4294967295)<<9&4294967295|R>>>23))+((R=v+(e^r&(C^e))+u[7]+1735328473&4294967295)<<14&4294967295|R>>>18))+((R=r+(C^e&(v^C))+u[12]+2368359562&4294967295)<<20&4294967295|R>>>12))+((R=e+(r^v^C)+u[5]+4294588738&4294967295)<<4&4294967295|R>>>28))+((R=C+(e^r^v)+u[8]+2272392833&4294967295)<<11&4294967295|R>>>21))+((R=v+(C^e^r)+u[11]+1839030562&4294967295)<<16&4294967295|R>>>16))+((R=r+(v^C^e)+u[14]+4259657740&4294967295)<<23&4294967295|R>>>9))+((R=e+(r^v^C)+u[1]+2763975236&4294967295)<<4&4294967295|R>>>28))+((R=C+(e^r^v)+u[4]+1272893353&4294967295)<<11&4294967295|R>>>21))+((R=v+(C^e^r)+u[7]+4139469664&4294967295)<<16&4294967295|R>>>16))+((R=r+(v^C^e)+u[10]+3200236656&4294967295)<<23&4294967295|R>>>9))+((R=e+(r^v^C)+u[13]+681279174&4294967295)<<4&4294967295|R>>>28))+((R=C+(e^r^v)+u[0]+3936430074&4294967295)<<11&4294967295|R>>>21))+((R=v+(C^e^r)+u[3]+3572445317&4294967295)<<16&4294967295|R>>>16))+((R=r+(v^C^e)+u[6]+76029189&4294967295)<<23&4294967295|R>>>9))+((R=e+(r^v^C)+u[9]+3654602809&4294967295)<<4&4294967295|R>>>28))+((R=C+(e^r^v)+u[12]+3873151461&4294967295)<<11&4294967295|R>>>21))+((R=v+(C^e^r)+u[15]+530742520&4294967295)<<16&4294967295|R>>>16))+((R=r+(v^C^e)+u[2]+3299628645&4294967295)<<23&4294967295|R>>>9))+((R=e+(v^(r|~C))+u[0]+4096336452&4294967295)<<6&4294967295|R>>>26))+((R=C+(r^(e|~v))+u[7]+1126891415&4294967295)<<10&4294967295|R>>>22))+((R=v+(e^(C|~r))+u[14]+2878612391&4294967295)<<15&4294967295|R>>>17))+((R=r+(C^(v|~e))+u[5]+4237533241&4294967295)<<21&4294967295|R>>>11))+((R=e+(v^(r|~C))+u[12]+1700485571&4294967295)<<6&4294967295|R>>>26))+((R=C+(r^(e|~v))+u[3]+2399980690&4294967295)<<10&4294967295|R>>>22))+((R=v+(e^(C|~r))+u[10]+4293915773&4294967295)<<15&4294967295|R>>>17))+((R=r+(C^(v|~e))+u[1]+2240044497&4294967295)<<21&4294967295|R>>>11))+((R=e+(v^(r|~C))+u[8]+1873313359&4294967295)<<6&4294967295|R>>>26))+((R=C+(r^(e|~v))+u[15]+4264355552&4294967295)<<10&4294967295|R>>>22))+((R=v+(e^(C|~r))+u[6]+2734768916&4294967295)<<15&4294967295|R>>>17))+((R=r+(C^(v|~e))+u[13]+1309151649&4294967295)<<21&4294967295|R>>>11))+((C=(e=r+((R=e+(v^(r|~C))+u[4]+4149444226&4294967295)<<6&4294967295|R>>>26))+((R=C+(r^(e|~v))+u[11]+3174756917&4294967295)<<10&4294967295|R>>>22))^((v=C+((R=v+(e^(C|~r))+u[2]+718787259&4294967295)<<15&4294967295|R>>>17))|~e))+u[9]+3951481745&4294967295,l.g[0]=l.g[0]+e&4294967295,l.g[1]=l.g[1]+(v+(R<<21&4294967295|R>>>11))&4294967295,l.g[2]=l.g[2]+v&4294967295,l.g[3]=l.g[3]+C&4294967295}function Gs(l,e){this.h=e;for(var r=[],u=!0,v=l.length-1;0<=v;v--){var C=0|l[v];u&&C==e||(r[v]=C,u=!1)}this.g=r}(Re=$s.prototype).Oa=function(l){this.M=l},Re.ha=function(l,e,r,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+l);e=e?e.toUpperCase():"GET",this.I=l,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ul.g(),this.C=function Pa(l){return l.h||(l.h=l.i())}(this.u?this.u:ul),this.g.onreadystatechange=Rt(this.La,this);try{this.G=!0,this.g.open(e,String(l),!0),this.G=!1}catch(C){return void _h(this,C)}if(l=r||"",r=new Map(this.headers),u)if(Object.getPrototypeOf(u)===Object.prototype)for(var v in u)r.set(v,u[v]);else{if("function"!=typeof u.keys||"function"!=typeof u.get)throw Error("Unknown input type for opt_headers: "+String(u));for(const C of u.keys())r.set(C,u.get(C))}u=Array.from(r.keys()).find(C=>"content-type"==C.toLowerCase()),v=Xe.FormData&&l instanceof Xe.FormData,!(0<=We(af,e))||u||v||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[C,R]of r)this.g.setRequestHeader(C,R);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lf(this),0<this.B&&((this.L=function Td(l){return Pi&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rt(this.ua,this)):this.A=Mt(this.ua,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(C){_h(this,C)}},Re.ua=function(){typeof _e<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ut(this,"timeout"),this.abort(8))},Re.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,Ut(this,"complete"),Ut(this,"abort"),bh(this))},Re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bh(this,!0)),$s.$.N.call(this)},Re.La=function(){this.s||(this.G||this.v||this.l?vh(this):this.kb())},Re.kb=function(){vh(this)},Re.isActive=function(){return!!this.g},Re.da=function(){try{return 2<Na(this)?this.g.status:-1}catch{return-1}},Re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Re.Wa=function(l){if(this.g){var e=this.g.responseText;return l&&0==e.indexOf(l)&&(e=e.substring(l.length)),ml(e)}},Re.Ia=function(){return this.m},Re.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Re=du.prototype).ra=8,Re.H=1,Re.Na=function(l){if(this.m)if(this.m=null,1==this.H){if(!l){this.W=Math.floor(1e5*Math.random()),l=this.W++;const v=new Ms(this,this.l,l);let C=this.s;if(this.U&&(C?(C=Dn(C),bt(C,this.U)):C=this.U),null!==this.o||this.O||(v.I=C,C=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var u=this.j[r];if(void 0===(u="__data__"in u.map&&"string"==typeof(u=u.map.__data__)?u.length:void 0))break;if(4096<(e+=u)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=uu(this,v,e),tr(r=Rr(this.I),"RID",l),tr(r,"CVER",22),this.F&&tr(r,"X-HTTP-Session-Id",this.F),To(this,r),C&&(this.O?e="headers="+encodeURIComponent(String(Lu(C)))+"&"+e:this.o&&Qa(r,this.o,C)),Ml(this.i,v),this.bb&&tr(r,"TYPE","init"),this.P?(tr(r,"$req",e),tr(r,"SID","null"),v.aa=!0,Ka(v,r,null)):Ka(v,r,e),this.H=2}}else 3==this.H&&(l?qa(this,l):0==this.j.length||as(this.i)||qa(this))},Re.Ma=function(){if(this.u=null,Za(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var l=2*this.S;this.l.info("BP detection timer enabled: "+l),this.B=kr(Rt(this.jb,this),l)}},Re.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,As(10),Dd(this),Za(this))},Re.ib=function(){null!=this.v&&(this.v=null,Dd(this),Id(this),As(19))},Re.pb=function(l){l?(this.l.info("Successfully pinged google.com"),As(2)):(this.l.info("Failed to ping google.com"),As(1))},Re.isActive=function(){return!!this.h&&this.h.isActive(this)},(Re=yh.prototype).Ba=function(){},Re.Aa=function(){},Re.za=function(){},Re.ya=function(){},Re.isActive=function(){return!0},Re.Va=function(){},vc.prototype.g=function(l,e){return new jl(l,e)},Dt(jl,pt),jl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var l=this.g,e=this.l,r=this.h||void 0;As(0),l.Y=e,l.na=r||{},l.G=l.aa,l.I=Md(l,null,l.Y),fo(l)},jl.prototype.close=function(){Sd(this.g)},jl.prototype.u=function(l){var e=this.g;if("string"==typeof l){var r={};r.__data__=l,l=r}else this.v&&((r={}).__data__=ln(l),l=r);e.j.push(new id(e.fb++,l)),3==e.H&&fo(e)},jl.prototype.N=function(){this.g.h=null,delete this.j,Sd(this.g),delete this.g,jl.$.N.call(this)},Dt(Bu,No),Dt(zl,ds),Dt(jc,yh),jc.prototype.Ba=function(){Ut(this.g,"a")},jc.prototype.Aa=function(l){Ut(this.g,new Bu(l))},jc.prototype.za=function(l){Ut(this.g,new zl)},jc.prototype.ya=function(){Ut(this.g,"b")},Dt(Ia,function Eh(){this.blockSize=-1}),Ia.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ia.prototype.j=function(l,e){void 0===e&&(e=l.length);for(var r=e-this.blockSize,u=this.m,v=this.h,C=0;C<e;){if(0==v)for(;C<=r;)cf(this,l,C),C+=this.blockSize;if("string"==typeof l){for(;C<e;)if(u[v++]=l.charCodeAt(C++),v==this.blockSize){cf(this,u),v=0;break}}else for(;C<e;)if(u[v++]=l[C++],v==this.blockSize){cf(this,u),v=0;break}}this.h=v,this.i+=e},Ia.prototype.l=function(){var l=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);l[0]=128;for(var e=1;e<l.length-8;++e)l[e]=0;var r=8*this.i;for(e=l.length-8;e<l.length;++e)l[e]=255&r,r/=256;for(this.j(l),l=Array(16),e=r=0;4>e;++e)for(var u=0;32>u;u+=8)l[r++]=this.g[e]>>>u&255;return l};var sd={};function xa(l){return-128<=l&&128>l?function Pn(l,e){var r=sd;return Object.prototype.hasOwnProperty.call(r,l)?r[l]:r[l]=e(l)}(l,function(e){return new Gs([0|e],0>e?-1:0)}):new Gs([0|l],0>l?-1:0)}function _l(l){if(isNaN(l)||!isFinite(l))return Hl;if(0>l)return wa(_l(-l));for(var e=[],r=1,u=0;l>=r;u++)e[u]=l/r|0,r*=vl;return new Gs(e,0)}var vl=4294967296,Hl=xa(0),od=xa(1),ad=xa(16777216);function zc(l){if(0!=l.h)return!1;for(var e=0;e<l.g.length;e++)if(0!=l.g[e])return!1;return!0}function Fa(l){return-1==l.h}function wa(l){for(var e=l.g.length,r=[],u=0;u<e;u++)r[u]=~l.g[u];return new Gs(r,~l.h).add(od)}function ld(l,e){return l.add(wa(e))}function bl(l,e){for(;(65535&l[e])!=l[e];)l[e+1]+=l[e]>>>16,l[e]&=65535,e++}function da(l,e){this.g=l,this.h=e}function bc(l,e){if(zc(e))throw Error("division by zero");if(zc(l))return new da(Hl,Hl);if(Fa(l))return e=bc(wa(l),e),new da(wa(e.g),wa(e.h));if(Fa(e))return e=bc(l,wa(e)),new da(wa(e.g),e.h);if(30<l.g.length){if(Fa(l)||Fa(e))throw Error("slowDivide_ only works with positive integers.");for(var r=od,u=e;0>=u.X(l);)r=re(r),u=re(u);var v=vt(r,1),C=vt(u,1);for(u=vt(u,2),r=vt(r,2);!zc(u);){var R=C.add(u);0>=R.X(l)&&(v=v.add(r),C=R),u=vt(u,1),r=vt(r,1)}return e=ld(l,v.R(e)),new da(v,e)}for(v=Hl;0<=l.X(e);){for(r=Math.max(1,Math.floor(l.ea()/e.ea())),u=48>=(u=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,u-48),R=(C=_l(r)).R(e);Fa(R)||0<R.X(l);)R=(C=_l(r-=u)).R(e);zc(C)&&(C=od),v=v.add(C),l=ld(l,R)}return new da(v,l)}function re(l){for(var e=l.g.length+1,r=[],u=0;u<e;u++)r[u]=l.D(u)<<1|l.D(u-1)>>>31;return new Gs(r,l.h)}function vt(l,e){var r=e>>5;e%=32;for(var u=l.g.length-r,v=[],C=0;C<u;C++)v[C]=0<e?l.D(C+r)>>>e|l.D(C+r+1)<<32-e:l.D(C+r);return new Gs(v,l.h)}(Re=Gs.prototype).ea=function(){if(Fa(this))return-wa(this).ea();for(var l=0,e=1,r=0;r<this.g.length;r++){var u=this.D(r);l+=(0<=u?u:vl+u)*e,e*=vl}return l},Re.toString=function(l){if(2>(l=l||10)||36<l)throw Error("radix out of range: "+l);if(zc(this))return"0";if(Fa(this))return"-"+wa(this).toString(l);for(var e=_l(Math.pow(l,6)),r=this,u="";;){var v=bc(r,e).g,C=((0<(r=ld(r,v.R(e))).g.length?r.g[0]:r.h)>>>0).toString(l);if(zc(r=v))return C+u;for(;6>C.length;)C="0"+C;u=C+u}},Re.D=function(l){return 0>l?0:l<this.g.length?this.g[l]:this.h},Re.X=function(l){return Fa(l=ld(this,l))?-1:zc(l)?0:1},Re.abs=function(){return Fa(this)?wa(this):this},Re.add=function(l){for(var e=Math.max(this.g.length,l.g.length),r=[],u=0,v=0;v<=e;v++){var C=u+(65535&this.D(v))+(65535&l.D(v)),R=(C>>>16)+(this.D(v)>>>16)+(l.D(v)>>>16);u=R>>>16,r[v]=(R&=65535)<<16|(C&=65535)}return new Gs(r,-2147483648&r[r.length-1]?-1:0)},Re.R=function(l){if(zc(this)||zc(l))return Hl;if(Fa(this))return Fa(l)?wa(this).R(wa(l)):wa(wa(this).R(l));if(Fa(l))return wa(this.R(wa(l)));if(0>this.X(ad)&&0>l.X(ad))return _l(this.ea()*l.ea());for(var e=this.g.length+l.g.length,r=[],u=0;u<2*e;u++)r[u]=0;for(u=0;u<this.g.length;u++)for(var v=0;v<l.g.length;v++){var C=this.D(u)>>>16,R=65535&this.D(u),ue=l.D(v)>>>16,Pe=65535&l.D(v);r[2*u+2*v]+=R*Pe,bl(r,2*u+2*v),r[2*u+2*v+1]+=C*Pe,bl(r,2*u+2*v+1),r[2*u+2*v+1]+=R*ue,bl(r,2*u+2*v+1),r[2*u+2*v+2]+=C*ue,bl(r,2*u+2*v+2)}for(u=0;u<e;u++)r[u]=r[2*u+1]<<16|r[2*u];for(u=e;u<2*e;u++)r[u]=0;return new Gs(r,0)},Re.gb=function(l){return bc(this,l).h},Re.and=function(l){for(var e=Math.max(this.g.length,l.g.length),r=[],u=0;u<e;u++)r[u]=this.D(u)&l.D(u);return new Gs(r,this.h&l.h)},Re.or=function(l){for(var e=Math.max(this.g.length,l.g.length),r=[],u=0;u<e;u++)r[u]=this.D(u)|l.D(u);return new Gs(r,this.h|l.h)},Re.xor=function(l){for(var e=Math.max(this.g.length,l.g.length),r=[],u=0;u<e;u++)r[u]=this.D(u)^l.D(u);return new Gs(r,this.h^l.h)},vc.prototype.createWebChannel=vc.prototype.g,jl.prototype.send=jl.prototype.u,jl.prototype.open=jl.prototype.m,jl.prototype.close=jl.prototype.close,ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Bc.COMPLETE="complete",Vc.EventType=dl,dl.OPEN="a",dl.CLOSE="b",dl.ERROR="c",dl.MESSAGE="d",pt.prototype.listen=pt.prototype.O,$s.prototype.listenOnce=$s.prototype.P,$s.prototype.getLastError=$s.prototype.Sa,$s.prototype.getLastErrorCode=$s.prototype.Ia,$s.prototype.getStatus=$s.prototype.da,$s.prototype.getResponseJson=$s.prototype.Wa,$s.prototype.getResponseText=$s.prototype.ja,$s.prototype.send=$s.prototype.ha,$s.prototype.setWithCredentials=$s.prototype.Oa,Ia.prototype.digest=Ia.prototype.l,Ia.prototype.reset=Ia.prototype.reset,Ia.prototype.update=Ia.prototype.j,Gs.prototype.add=Gs.prototype.add,Gs.prototype.multiply=Gs.prototype.R,Gs.prototype.modulo=Gs.prototype.gb,Gs.prototype.compare=Gs.prototype.X,Gs.prototype.toNumber=Gs.prototype.ea,Gs.prototype.toString=Gs.prototype.toString,Gs.prototype.getBits=Gs.prototype.D,Gs.fromNumber=_l,Gs.fromString=function Vu(l,e){if(0==l.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==l.charAt(0))return wa(Vu(l.substring(1),e));if(0<=l.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=_l(Math.pow(e,8)),u=Hl,v=0;v<l.length;v+=8){var C=Math.min(8,l.length-v),R=parseInt(l.substring(v,v+C),e);8>C?(C=_l(Math.pow(e,C)),u=u.R(C).add(_l(R))):u=(u=u.R(r)).add(_l(R))}return u};var Oe=fe.createWebChannelTransport=function(){return new vc},et=fe.getStatEventTarget=function(){return Fi()},Qt=fe.ErrorCode=ps,Xn=fe.EventType=Bc,di=fe.Event=ts,gr=fe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qs=fe.FetchXmlHttpFactory=ut,Os=fe.WebChannel=Vc,eo=fe.XhrIo=$s,ys=fe.Md5=Ia,uo=fe.Integer=Gs;const ms="@firebase/firestore";class Ps{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ps.UNAUTHENTICATED=new Ps(null),Ps.GOOGLE_CREDENTIALS=new Ps("google-credentials-uid"),Ps.FIRST_PARTY=new Ps("first-party-uid"),Ps.MOCK_USER=new Ps("mock-user");let ws="10.11.1";const Ri=new J.Vy("@firebase/firestore");function Ir(){return Ri.logLevel}function Ei(l,...e){if(Ri.logLevel<=J.$b.DEBUG){const r=e.map($l);Ri.debug(`Firestore (${ws}): ${l}`,...r)}}function Lr(l,...e){if(Ri.logLevel<=J.$b.ERROR){const r=e.map($l);Ri.error(`Firestore (${ws}): ${l}`,...r)}}function Rs(l,...e){if(Ri.logLevel<=J.$b.WARN){const r=e.map($l);Ri.warn(`Firestore (${ws}): ${l}`,...r)}}function $l(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Zi(l="Unexpected state"){const e=`FIRESTORE (${ws}) INTERNAL ASSERTION FAILED: `+l;throw Lr(e),new Error(e)}function ar(l,e){l||Zi()}function vi(l,e){return l}const ei={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oi extends ae.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class po{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Wo{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Uu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ps.UNAUTHENTICATED))}shutdown(){}}class kd{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class yc{constructor(e){this.t=e,this.currentUser=Ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var u=this;let v=this.i;const C=tt=>this.i!==v?(v=this.i,r(tt)):Promise.resolve();let R=new po;this.o=()=>{this.i++,this.currentUser=this.u(),R.resolve(),R=new po,e.enqueueRetryable(()=>C(this.currentUser))};const ue=()=>{const tt=R;e.enqueueRetryable((0,Be.A)(function*(){yield tt.promise,yield C(u.currentUser)}))},Pe=tt=>{Ei("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=tt,this.auth.addAuthTokenListener(this.o),ue()};this.t.onInit(tt=>Pe(tt)),setTimeout(()=>{if(!this.auth){const tt=this.t.getImmediate({optional:!0});tt?Pe(tt):(Ei("FirebaseAuthCredentialsProvider","Auth not yet detected"),R.resolve(),R=new po)}},0),ue()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(u=>this.i!==e?(Ei("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(ar("string"==typeof u.accessToken),new Wo(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ar(null===e||"string"==typeof e),new Ps(e)}}class Od{constructor(e,r,u){this.l=e,this.h=r,this.P=u,this.type="FirstParty",this.user=Ps.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wm{constructor(e,r,u){this.l=e,this.h=r,this.P=u}getToken(){return Promise.resolve(new Od(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fu{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const u=C=>{null!=C.error&&Ei("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${C.error.message}`);const R=C.token!==this.R;return this.R=C.token,Ei("FirebaseAppCheckTokenProvider",`Received ${R?"new":"existing"} token.`),R?r(C.token):Promise.resolve()};this.o=C=>{e.enqueueRetryable(()=>u(C))};const v=C=>{Ei("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=C,this.appCheck.addTokenListener(this.o)};this.A.onInit(C=>v(C)),setTimeout(()=>{if(!this.appCheck){const C=this.A.getImmediate({optional:!0});C?v(C):Ei("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ar("string"==typeof r.token),this.R=r.token,new Hc(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jr(l){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(l);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let u=0;u<l;u++)r[u]=Math.floor(256*Math.random());return r}class $f{static newId(){const r=62*Math.floor(256/62);let u="";for(;u.length<20;){const v=Jr(40);for(let C=0;C<v.length;++C)u.length<20&&v[C]<r&&(u+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(v[C]%62))}return u}}function is(l,e){return l<e?-1:l>e?1:0}function Ca(l,e,r){return l.length===e.length&&l.every((u,v)=>r(u,e[v]))}function ju(l){return l+"\0"}class ls{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Oi(ei.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Oi(ei.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Oi(ei.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oi(ei.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ls.fromMillis(Date.now())}static fromDate(e){return ls.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),u=Math.floor(1e6*(e-1e3*r));return new ls(r,u)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?is(this.nanoseconds,e.nanoseconds):is(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class cr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new cr(e)}static min(){return new cr(new ls(0,0))}static max(){return new cr(new ls(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Al{constructor(e,r,u){void 0===r?r=0:r>e.length&&Zi(),void 0===u?u=e.length-r:u>e.length-r&&Zi(),this.segments=e,this.offset=r,this.len=u}get length(){return this.len}isEqual(e){return 0===Al.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Al?e.forEach(u=>{r.push(u)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,u=this.limit();r<u;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const u=Math.min(e.length,r.length);for(let v=0;v<u;v++){const C=e.get(v),R=r.get(v);if(C<R)return-1;if(C>R)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Xr extends Al{construct(e,r,u){return new Xr(e,r,u)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const u of e){if(u.indexOf("//")>=0)throw new Oi(ei.INVALID_ARGUMENT,`Invalid segment (${u}). Paths must not contain // in them.`);r.push(...u.split("/").filter(v=>v.length>0))}return new Xr(r)}static emptyPath(){return new Xr([])}}const Qo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class So extends Al{construct(e,r,u){return new So(e,r,u)}static isValidIdentifier(e){return Qo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),So.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new So(["__name__"])}static fromServerFormat(e){const r=[];let u="",v=0;const C=()=>{if(0===u.length)throw new Oi(ei.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(u),u=""};let R=!1;for(;v<e.length;){const ue=e[v];if("\\"===ue){if(v+1===e.length)throw new Oi(ei.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Pe=e[v+1];if("\\"!==Pe&&"."!==Pe&&"`"!==Pe)throw new Oi(ei.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);u+=Pe,v+=2}else"`"===ue?(R=!R,v++):"."!==ue||R?(u+=ue,v++):(C(),v++)}if(C(),R)throw new Oi(ei.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new So(r)}static emptyPath(){return new So([])}}class ir{constructor(e){this.path=e}static fromPath(e){return new ir(Xr.fromString(e))}static fromName(e){return new ir(Xr.fromString(e).popFirst(5))}static empty(){return new ir(Xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Xr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ir(new Xr(e.slice()))}}class $c{constructor(e,r,u,v){this.indexId=e,this.collectionGroup=r,this.fields=u,this.indexState=v}}function Gl(l){return l.fields.find(e=>2===e.kind)}function Wl(l){return l.fields.filter(e=>2!==e.kind)}$c.UNKNOWN_ID=-1;class Ec{constructor(e,r){this.fieldPath=e,this.kind=r}}class zu{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new zu(0,Kl.min())}}function Gf(l,e){const r=l.toTimestamp().seconds,u=l.toTimestamp().nanoseconds+1,v=cr.fromTimestamp(1e9===u?new ls(r+1,0):new ls(r,u));return new Kl(v,ir.empty(),e)}function Hu(l){return new Kl(l.readTime,l.key,-1)}class Kl{constructor(e,r,u){this.readTime=e,this.documentKey=r,this.largestBatchId=u}static min(){return new Kl(cr.min(),ir.empty(),-1)}static max(){return new Kl(cr.max(),ir.empty(),-1)}}function Cm(l,e){let r=l.readTime.compareTo(e.readTime);return 0!==r?r:(r=ir.comparator(l.documentKey,e.documentKey),0!==r?r:is(l.largestBatchId,e.largestBatchId))}const te="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ie(l){return Se.apply(this,arguments)}function Se(){return Se=(0,Be.A)(function*(l){if(l.code!==ei.FAILED_PRECONDITION||l.message!==te)throw l;Ei("LocalStore","Unexpectedly lost primary lease")}),Se.apply(this,arguments)}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Zi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ae((u,v)=>{this.nextCallback=C=>{this.wrapSuccess(e,C).next(u,v)},this.catchCallback=C=>{this.wrapFailure(r,C).next(u,v)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ae?r:Ae.resolve(r)}catch(r){return Ae.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ae.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ae.reject(r)}static resolve(e){return new Ae((r,u)=>{r(e)})}static reject(e){return new Ae((r,u)=>{u(e)})}static waitFor(e){return new Ae((r,u)=>{let v=0,C=0,R=!1;e.forEach(ue=>{++v,ue.next(()=>{++C,R&&C===v&&r()},Pe=>u(Pe))}),R=!0,C===v&&r()})}static or(e){let r=Ae.resolve(!1);for(const u of e)r=r.next(v=>v?Ae.resolve(v):u());return r}static forEach(e,r){const u=[];return e.forEach((v,C)=>{u.push(r.call(this,v,C))}),this.waitFor(u)}static mapArray(e,r){return new Ae((u,v)=>{const C=e.length,R=new Array(C);let ue=0;for(let Pe=0;Pe<C;Pe++){const tt=Pe;r(e[tt]).next(Tt=>{R[tt]=Tt,++ue,ue===C&&u(R)},Tt=>v(Tt))}})}static doWhile(e,r){return new Ae((u,v)=>{const C=()=>{!0===e()?r().next(()=>{C()},v):u()};C()})}}class At{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new po,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new _r(e,r.error)):this.V.resolve()},this.transaction.onerror=u=>{const v=$u(u.target.error);this.V.reject(new _r(e,v))}}static open(e,r,u,v){try{return new At(r,e.transaction(v,u))}catch(C){throw new _r(r,C)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ei("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new _s(r)}}class fn{constructor(e,r,u){this.name=e,this.version=r,this.p=u,12.2===fn.S((0,ae.ZQ)())&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ei("SimpleDb","Removing database:",e),Po(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ae.zW)())return!1;if(fn.C())return!0;const e=(0,ae.ZQ)(),r=fn.S(e),u=0<r&&r<10,v=li(e),C=0<v&&v<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||u||C)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),u=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(u)}M(e){var r=this;return(0,Be.A)(function*(){return r.db||(Ei("SimpleDb","Opening database:",r.name),r.db=yield new Promise((u,v)=>{const C=indexedDB.open(r.name,r.version);C.onsuccess=R=>{u(R.target.result)},C.onblocked=()=>{v(new _r(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},C.onerror=R=>{const ue=R.target.error;v("VersionError"===ue.name?new Oi(ei.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===ue.name?new Oi(ei.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+ue):new _r(e,ue))},C.onupgradeneeded=R=>{Ei("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',R.oldVersion),r.p.O(R.target.result,C.transaction,R.oldVersion,r.version).next(()=>{Ei("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=u=>r.N(u)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,u,v){var C=this;return(0,Be.A)(function*(){const R="readonly"===r;let ue=0;for(;;){++ue;try{C.db=yield C.M(e);const Pe=At.open(C.db,e,R?"readonly":"readwrite",u),tt=v(Pe).next(Tt=>(Pe.g(),Tt)).catch(Tt=>(Pe.abort(Tt),Ae.reject(Tt))).toPromise();return tt.catch(()=>{}),yield Pe.m,tt}catch(Pe){const tt=Pe,Tt="FirebaseError"!==tt.name&&ue<3;if(Ei("SimpleDb","Transaction failed with error:",tt.message,"Retrying:",Tt),C.close(),!Tt)return Promise.reject(tt)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function li(l){const e=l.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ii{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Po(this.B.delete())}}class _r extends Oi{constructor(e,r){super(ei.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function os(l){return"IndexedDbTransactionError"===l.name}class _s{constructor(e){this.store=e}put(e,r){let u;return void 0!==r?(Ei("SimpleDb","PUT",this.store.name,e,r),u=this.store.put(r,e)):(Ei("SimpleDb","PUT",this.store.name,"<auto-key>",e),u=this.store.put(e)),Po(u)}add(e){return Ei("SimpleDb","ADD",this.store.name,e,e),Po(this.store.add(e))}get(e){return Po(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ei("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ei("SimpleDb","DELETE",this.store.name,e),Po(this.store.delete(e))}count(){return Ei("SimpleDb","COUNT",this.store.name),Po(this.store.count())}U(e,r){const u=this.options(e,r),v=u.index?this.store.index(u.index):this.store;if("function"==typeof v.getAll){const C=v.getAll(u.range);return new Ae((R,ue)=>{C.onerror=Pe=>{ue(Pe.target.error)},C.onsuccess=Pe=>{R(Pe.target.result)}})}{const C=this.cursor(u),R=[];return this.W(C,(ue,Pe)=>{R.push(Pe)}).next(()=>R)}}G(e,r){const u=this.store.getAll(e,null===r?void 0:r);return new Ae((v,C)=>{u.onerror=R=>{C(R.target.error)},u.onsuccess=R=>{v(R.target.result)}})}j(e,r){Ei("SimpleDb","DELETE ALL",this.store.name);const u=this.options(e,r);u.H=!1;const v=this.cursor(u);return this.W(v,(C,R,ue)=>ue.delete())}J(e,r){let u;r?u=e:(u={},r=e);const v=this.cursor(u);return this.W(v,r)}Y(e){const r=this.cursor({});return new Ae((u,v)=>{r.onerror=C=>{const R=$u(C.target.error);v(R)},r.onsuccess=C=>{const R=C.target.result;R?e(R.primaryKey,R.value).next(ue=>{ue?R.continue():u()}):u()}})}W(e,r){const u=[];return new Ae((v,C)=>{e.onerror=R=>{C(R.target.error)},e.onsuccess=R=>{const ue=R.target.result;if(!ue)return void v();const Pe=new ii(ue),tt=r(ue.primaryKey,ue.value,Pe);if(tt instanceof Ae){const Tt=tt.catch(tn=>(Pe.done(),Ae.reject(tn)));u.push(Tt)}Pe.isDone?v():null===Pe.K?ue.continue():ue.continue(Pe.K)}}).next(()=>Ae.waitFor(u))}options(e,r){let u;return void 0!==e&&("string"==typeof e?u=e:r=e),{index:u,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const u=this.store.index(e.index);return e.H?u.openKeyCursor(e.range,r):u.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Po(l){return new Ae((e,r)=>{l.onsuccess=u=>{e(u.target.result)},l.onerror=u=>{const v=$u(u.target.error);r(v)}})}let xh=!1;function $u(l){const e=fn.S((0,ae.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(r)>=0){const u=new Oi("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xh||(xh=!0,setTimeout(()=>{throw u},0)),u}}return l}class Ba{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ei("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Be.A)(function*(){r.task=null;try{Ei("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(u){os(u)?Ei("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",u):yield ie(u)}yield r.X(6e4)}))}}class Gu{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,Be.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",u=>r.te(u,e))})()}te(e,r){const u=new Set;let v=r,C=!0;return Ae.doWhile(()=>!0===C&&v>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(R=>{if(null!==R&&!u.has(R))return Ei("IndexBackfiller",`Processing collection: ${R}`),this.ne(e,R,v).next(ue=>{v-=ue,u.add(R)});C=!1})).next(()=>r-v)}ne(e,r,u){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(v=>this.localStore.localDocuments.getNextDocuments(e,r,v,u).next(C=>{const R=C.changes;return this.localStore.indexManager.updateIndexEntries(e,R).next(()=>this.re(v,C)).next(ue=>(Ei("IndexBackfiller",`Updating offset: ${ue}`),this.localStore.indexManager.updateCollectionGroup(e,r,ue))).next(()=>R.size)}))}re(e,r){let u=e;return r.changes.forEach((v,C)=>{const R=Hu(C);Cm(R,u)>0&&(u=R)}),new Kl(u.readTime,u.documentKey,Math.max(r.batchId,e.largestBatchId))}}let nn=(()=>{class l{constructor(r,u){this.previousValue=r,u&&(u.sequenceNumberHandler=v=>this.ie(v),this.se=v=>u.writeSequenceNumber(v))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return l.oe=-1,l})();function Wu(l){return null==l}function uf(l){return 0===l&&1/l==-1/0}function Tm(l){return"number"==typeof l&&Number.isInteger(l)&&!uf(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function yl(l){let e="";for(let r=0;r<l.length;r++)e.length>0&&(e=Tg(e)),e=Sm(l.get(r),e);return Tg(e)}function Sm(l,e){let r=e;const u=l.length;for(let v=0;v<u;v++){const C=l.charAt(v);switch(C){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=C}}return r}function Tg(l){return l+"\x01\x01"}function xc(l){const e=l.length;if(ar(e>=2),2===e)return ar("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Xr.emptyPath();const r=e-2,u=[];let v="";for(let C=0;C<e;){const R=l.indexOf("\x01",C);switch((R<0||R>r)&&Zi(),l.charAt(R+1)){case"\x01":const ue=l.substring(C,R);let Pe;0===v.length?Pe=ue:(v+=ue,Pe=v,v=""),u.push(Pe);break;case"\x10":v+=l.substring(C,R),v+="\0";break;case"\x11":v+=l.substring(C,R+1);break;default:Zi()}C=R+2}return new Xr(u)}const Fp=["userId","batchId"];function Gc(l,e){return[l,yl(e)]}function Wc(l,e,r){return[l,yl(e),r]}const mu={},Sg=["prefixPath","collectionGroup","readTime","documentId"],Bp=["prefixPath","collectionGroup","documentId"],wh=["collectionGroup","readTime","prefixPath","documentId"],yr=["canonicalId","targetId"],Do=["targetId","path"],Ch=["path","targetId"],Vo=["collectionId","parent"],Uo=["indexId","uid"],Vp=["uid","sequenceNumber"],js=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],na=["indexId","uid","orderedDocumentKey"],Yl=["userId","collectionPath","documentId"],Pd=["userId","collectionPath","largestBatchId"],Ku=["userId","collectionGroup","largestBatchId"],dd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ma=[...dd,"documentOverlays"],ud=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Up=ud,Yu=[...Up,"indexConfiguration","indexState","indexEntries"],Wf=Yu;class oc extends Ce{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Ls(l,e){const r=vi(l);return fn.F(r._e,e)}function Xl(l){let e=0;for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e++;return e}function ac(l,e){for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e(r,l[r])}function ui(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}class wr{constructor(e,r){this.comparator=e,this.root=r||El.EMPTY}insert(e,r){return new wr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,El.BLACK,null,null))}remove(e){return new wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,El.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(0===u)return r.value;u<0?r=r.left:u>0&&(r=r.right)}return null}indexOf(e){let r=0,u=this.root;for(;!u.isEmpty();){const v=this.comparator(e,u.key);if(0===v)return r+u.left.size;v<0?u=u.left:(r+=u.left.size+1,u=u.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,u)=>(e(r,u),!1))}toString(){const e=[];return this.inorderTraversal((r,u)=>(e.push(`${r}:${u}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Th(this.root,e,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Th(this.root,e,this.comparator,!0)}}class Th{constructor(e,r,u,v){this.isReverse=v,this.nodeStack=[];let C=1;for(;!e.isEmpty();)if(C=r?u(e.key,r):1,r&&v&&(C*=-1),C<0)e=this.isReverse?e.left:e.right;else{if(0===C){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class El{constructor(e,r,u,v,C){this.key=e,this.value=r,this.color=u??El.RED,this.left=v??El.EMPTY,this.right=C??El.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,u,v,C){return new El(e??this.key,r??this.value,u??this.color,v??this.left,C??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,u){let v=this;const C=u(e,v.key);return v=C<0?v.copy(null,null,null,v.left.insert(e,r,u),null):0===C?v.copy(null,r,null,null,null):v.copy(null,null,null,null,v.right.insert(e,r,u)),v.fixUp()}removeMin(){if(this.left.isEmpty())return El.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let u,v=this;if(r(e,v.key)<0)v.left.isEmpty()||v.left.isRed()||v.left.left.isRed()||(v=v.moveRedLeft()),v=v.copy(null,null,null,v.left.remove(e,r),null);else{if(v.left.isRed()&&(v=v.rotateRight()),v.right.isEmpty()||v.right.isRed()||v.right.left.isRed()||(v=v.moveRedRight()),0===r(e,v.key)){if(v.right.isEmpty())return El.EMPTY;u=v.right.min(),v=v.copy(u.key,u.value,null,null,v.right.removeMin())}v=v.copy(null,null,null,null,v.right.remove(e,r))}return v.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,El.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,El.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Zi();const e=this.left.check();if(e!==this.right.check())throw Zi();return e+(this.isRed()?0:1)}}El.EMPTY=null,El.RED=!0,El.BLACK=!1,El.EMPTY=new class{constructor(){this.size=0}get key(){throw Zi()}get value(){throw Zi()}get color(){throw Zi()}get left(){throw Zi()}get right(){throw Zi()}copy(e,r,u,v,C){return this}insert(e,r,u){return new El(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mo{constructor(e){this.comparator=e,this.data=new wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,u)=>(e(r),!1))}forEachInRange(e,r){const u=this.data.getIteratorFrom(e[0]);for(;u.hasNext();){const v=u.getNext();if(this.comparator(v.key,e[1])>=0)return;r(v.key)}}forEachWhile(e,r){let u;for(u=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();u.hasNext();)if(!e(u.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Dg(this.data.getIterator())}getIteratorFrom(e){return new Dg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(u=>{r=r.add(u)}),r}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const r=this.data.getIterator(),u=e.data.getIterator();for(;r.hasNext();){const v=r.getNext().key,C=u.getNext().key;if(0!==this.comparator(v,C))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new mo(this.comparator);return r.data=e,r}}class Dg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Kc(l){return l.hasNext()?l.getNext():void 0}class Ql{constructor(e){this.fields=e,e.sort(So.comparator)}static empty(){return new Ql([])}unionWith(e){let r=new mo(So.comparator);for(const u of this.fields)r=r.add(u);for(const u of e)r=r.add(u);return new Ql(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(r,u)=>r.isEqual(u))}}class hd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ja{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(v){try{return atob(v)}catch(C){throw typeof DOMException<"u"&&C instanceof DOMException?new hd("Invalid base64 string: "+C):C}}(e);return new Ja(r)}static fromUint8Array(e){const r=function(v){let C="";for(let R=0;R<v.length;++R)C+=String.fromCharCode(v[R]);return C}(e);return new Ja(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const u=new Uint8Array(r.length);for(let v=0;v<r.length;v++)u[v]=r.charCodeAt(v);return u}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return is(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ja.EMPTY_BYTE_STRING=new Ja("");const kl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fd(l){if(ar(!!l),"string"==typeof l){let e=0;const r=kl.exec(l);if(ar(!!r),r[1]){let v=r[1];v=(v+"000000000").substr(0,9),e=Number(v)}const u=new Date(l);return{seconds:Math.floor(u.getTime()/1e3),nanos:e}}return{seconds:_a(l.seconds),nanos:_a(l.nanos)}}function _a(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function fi(l){return"string"==typeof l?Ja.fromBase64String(l):Ja.fromUint8Array(l)}function Cs(l){var e,r;return"server_timestamp"===(null===(r=((null===(e=l?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Kf(l){const e=l.mapValue.fields.__previous_value__;return Cs(e)?Kf(e):e}function lc(l){const e=fd(l.mapValue.fields.__local_write_time__.timestampValue);return new ls(e.seconds,e.nanos)}class Io{constructor(e,r,u,v,C,R,ue,Pe,tt){this.databaseId=e,this.appId=r,this.persistenceKey=u,this.host=v,this.ssl=C,this.forceLongPolling=R,this.autoDetectLongPolling=ue,this.longPollingOptions=Pe,this.useFetchStreams=tt}}class Yc{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Yc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}const xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ia={nullValue:"NULL_VALUE"};function pd(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Cs(l)?4:Kr(l)?9007199254740991:10:Zi()}function Ol(l,e){if(l===e)return!0;const r=pd(l);if(r!==pd(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===e.booleanValue;case 4:return lc(l).isEqual(lc(e));case 3:return function(v,C){if("string"==typeof v.timestampValue&&"string"==typeof C.timestampValue&&v.timestampValue.length===C.timestampValue.length)return v.timestampValue===C.timestampValue;const R=fd(v.timestampValue),ue=fd(C.timestampValue);return R.seconds===ue.seconds&&R.nanos===ue.nanos}(l,e);case 5:return l.stringValue===e.stringValue;case 6:return C=e,fi(l.bytesValue).isEqual(fi(C.bytesValue));case 7:return l.referenceValue===e.referenceValue;case 8:return function(v,C){return _a(v.geoPointValue.latitude)===_a(C.geoPointValue.latitude)&&_a(v.geoPointValue.longitude)===_a(C.geoPointValue.longitude)}(l,e);case 2:return function(v,C){if("integerValue"in v&&"integerValue"in C)return _a(v.integerValue)===_a(C.integerValue);if("doubleValue"in v&&"doubleValue"in C){const R=_a(v.doubleValue),ue=_a(C.doubleValue);return R===ue?uf(R)===uf(ue):isNaN(R)&&isNaN(ue)}return!1}(l,e);case 9:return Ca(l.arrayValue.values||[],e.arrayValue.values||[],Ol);case 10:return function(v,C){const R=v.mapValue.fields||{},ue=C.mapValue.fields||{};if(Xl(R)!==Xl(ue))return!1;for(const Pe in R)if(R.hasOwnProperty(Pe)&&(void 0===ue[Pe]||!Ol(R[Pe],ue[Pe])))return!1;return!0}(l,e);default:return Zi()}var C}function jp(l,e){return void 0!==(l.values||[]).find(r=>Ol(r,e))}function Xc(l,e){if(l===e)return 0;const r=pd(l),u=pd(e);if(r!==u)return is(r,u);switch(r){case 0:case 9007199254740991:return 0;case 1:return is(l.booleanValue,e.booleanValue);case 2:return function(C,R){const ue=_a(C.integerValue||C.doubleValue),Pe=_a(R.integerValue||R.doubleValue);return ue<Pe?-1:ue>Pe?1:ue===Pe?0:isNaN(ue)?isNaN(Pe)?0:-1:1}(l,e);case 3:return hf(l.timestampValue,e.timestampValue);case 4:return hf(lc(l),lc(e));case 5:return is(l.stringValue,e.stringValue);case 6:return function(C,R){const ue=fi(C),Pe=fi(R);return ue.compareTo(Pe)}(l.bytesValue,e.bytesValue);case 7:return function(C,R){const ue=C.split("/"),Pe=R.split("/");for(let tt=0;tt<ue.length&&tt<Pe.length;tt++){const Tt=is(ue[tt],Pe[tt]);if(0!==Tt)return Tt}return is(ue.length,Pe.length)}(l.referenceValue,e.referenceValue);case 8:return function(C,R){const ue=is(_a(C.latitude),_a(R.latitude));return 0!==ue?ue:is(_a(C.longitude),_a(R.longitude))}(l.geoPointValue,e.geoPointValue);case 9:return function(C,R){const ue=C.values||[],Pe=R.values||[];for(let tt=0;tt<ue.length&&tt<Pe.length;++tt){const Tt=Xc(ue[tt],Pe[tt]);if(Tt)return Tt}return is(ue.length,Pe.length)}(l.arrayValue,e.arrayValue);case 10:return function(C,R){if(C===xl.mapValue&&R===xl.mapValue)return 0;if(C===xl.mapValue)return 1;if(R===xl.mapValue)return-1;const ue=C.fields||{},Pe=Object.keys(ue),tt=R.fields||{},Tt=Object.keys(tt);Pe.sort(),Tt.sort();for(let tn=0;tn<Pe.length&&tn<Tt.length;++tn){const kn=is(Pe[tn],Tt[tn]);if(0!==kn)return kn;const ti=Xc(ue[Pe[tn]],tt[Tt[tn]]);if(0!==ti)return ti}return is(Pe.length,Tt.length)}(l.mapValue,e.mapValue);default:throw Zi()}}function hf(l,e){if("string"==typeof l&&"string"==typeof e&&l.length===e.length)return is(l,e);const r=fd(l),u=fd(e),v=is(r.seconds,u.seconds);return 0!==v?v:is(r.nanos,u.nanos)}function ra(l){return wc(l)}function wc(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(r){const u=fd(r);return`time(${u.seconds},${u.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?fi(l.bytesValue).toBase64():"referenceValue"in l?ir.fromName(l.referenceValue).toString():"geoPointValue"in l?function(r){return`geo(${r.latitude},${r.longitude})`}(l.geoPointValue):"arrayValue"in l?function(r){let u="[",v=!0;for(const C of r.values||[])v?v=!1:u+=",",u+=wc(C);return u+"]"}(l.arrayValue):"mapValue"in l?function(r){const u=Object.keys(r.fields||{}).sort();let v="{",C=!0;for(const R of u)C?C=!1:v+=",",v+=`${R}:${wc(r.fields[R])}`;return v+"}"}(l.mapValue):Zi()}function el(l,e){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${e.path.canonicalString()}`}}function Rd(l){return!!l&&"integerValue"in l}function ff(l){return!!l&&"arrayValue"in l}function Mg(l){return!!l&&"nullValue"in l}function Dm(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function zp(l){return!!l&&"mapValue"in l}function Dh(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const e={mapValue:{fields:{}}};return ac(l.mapValue.fields,(r,u)=>e.mapValue.fields[r]=Dh(u)),e}if(l.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(l.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Dh(l.arrayValue.values[r]);return e}return Object.assign({},l)}function Kr(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function Va(l){return"nullValue"in l?ia:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?el(Yc.empty(),ir.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:Zi()}function Xu(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?el(Yc.empty(),ir.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?xl:Zi()}function U0(l,e){const r=Xc(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?-1:!l.inclusive&&e.inclusive?1:0}function Ag(l,e){const r=Xc(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?1:!l.inclusive&&e.inclusive?-1:0}class Ua{constructor(e){this.value=e}static empty(){return new Ua({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let u=0;u<e.length-1;++u)if(r=(r.mapValue.fields||{})[e.get(u)],!zp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dh(r)}setAll(e){let r=So.emptyPath(),u={},v=[];e.forEach((R,ue)=>{if(!r.isImmediateParentOf(ue)){const Pe=this.getFieldsMap(r);this.applyChanges(Pe,u,v),u={},v=[],r=ue.popLast()}R?u[ue.lastSegment()]=Dh(R):v.push(ue.lastSegment())});const C=this.getFieldsMap(r);this.applyChanges(C,u,v)}delete(e){const r=this.field(e.popLast());zp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ol(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let u=0;u<e.length;++u){let v=r.mapValue.fields[e.get(u)];zp(v)&&v.mapValue.fields||(v={mapValue:{fields:{}}},r.mapValue.fields[e.get(u)]=v),r=v}return r.mapValue.fields}applyChanges(e,r,u){ac(r,(v,C)=>e[v]=C);for(const v of u)delete e[v]}clone(){return new Ua(Dh(this.value))}}function kg(l){const e=[];return ac(l.fields,(r,u)=>{const v=new So([r]);if(zp(u)){const C=kg(u.mapValue).fields;if(0===C.length)e.push(v);else for(const R of C)e.push(v.child(R))}else e.push(v)}),new Ql(e)}class cs{constructor(e,r,u,v,C,R,ue){this.key=e,this.documentType=r,this.version=u,this.readTime=v,this.createTime=C,this.data=R,this.documentState=ue}static newInvalidDocument(e){return new cs(e,0,cr.min(),cr.min(),cr.min(),Ua.empty(),0)}static newFoundDocument(e,r,u,v){return new cs(e,1,r,cr.min(),u,v,0)}static newNoDocument(e,r){return new cs(e,2,r,cr.min(),cr.min(),Ua.empty(),0)}static newUnknownDocument(e,r){return new cs(e,3,r,cr.min(),cr.min(),Ua.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(cr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ua.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ua.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ld{constructor(e,r){this.position=e,this.inclusive=r}}function Hp(l,e,r){let u=0;for(let v=0;v<l.position.length;v++){const C=e[v],R=l.position[v];if(u=C.field.isKeyField()?ir.comparator(ir.fromName(R.referenceValue),r.key):Xc(R,r.data.field(C.field)),"desc"===C.dir&&(u*=-1),0!==u)break}return u}function Im(l,e){if(null===l)return null===e;if(null===e||l.inclusive!==e.inclusive||l.position.length!==e.position.length)return!1;for(let r=0;r<l.position.length;r++)if(!Ol(l.position[r],e.position[r]))return!1;return!0}class pf{constructor(e,r="asc"){this.field=e,this.dir=r}}function va(l,e){return l.dir===e.dir&&l.field.isEqual(e.field)}class gu{}class Nr extends gu{constructor(e,r,u){super(),this.field=e,this.op=r,this.value=u}static create(e,r,u){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,u):new ql(e,r,u):"array-contains"===r?new Om(e,u):"in"===r?new Xf(e,u):"not-in"===r?new Pm(e,u):"array-contains-any"===r?new Bd(e,u):new Nr(e,r,u)}static createKeyFieldInFilter(e,r,u){return"in"===r?new Ih(e,u):new mf(e,u)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Xc(r,this.value)):null!==r&&pd(this.value)===pd(r)&&this.matchesComparison(Xc(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mo extends gu{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Mo(e,r)}matches(e){return _u(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _u(l){return"and"===l.op}function Nd(l){return"or"===l.op}function Mm(l){return Og(l)&&_u(l)}function Og(l){for(const e of l.filters)if(e instanceof Mo)return!1;return!0}function Am(l){if(l instanceof Nr)return l.field.canonicalString()+l.op.toString()+ra(l.value);if(Mm(l))return l.filters.map(e=>Am(e)).join(",");{const e=l.filters.map(r=>Am(r)).join(",");return`${l.op}(${e})`}}function Yf(l,e){return l instanceof Nr?(u=l,(v=e)instanceof Nr&&u.op===v.op&&u.field.isEqual(v.field)&&Ol(u.value,v.value)):l instanceof Mo?function(u,v){return v instanceof Mo&&u.op===v.op&&u.filters.length===v.filters.length&&u.filters.reduce((C,R,ue)=>C&&Yf(R,v.filters[ue]),!0)}(l,e):void Zi();var u,v}function Fd(l,e){const r=l.filters.concat(e);return Mo.create(r,l.op)}function vu(l){return l instanceof Nr?`${(r=l).field.canonicalString()} ${r.op} ${ra(r.value)}`:l instanceof Mo?function(r){return r.op.toString()+" {"+r.getFilters().map(vu).join(" ,")+"}"}(l):"Filter";var r}class ql extends Nr{constructor(e,r,u){super(e,r,u),this.key=ir.fromName(u.referenceValue)}matches(e){const r=ir.comparator(e.key,this.key);return this.matchesComparison(r)}}class Ih extends Nr{constructor(e,r){super(e,"in",r),this.keys=km(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class mf extends Nr{constructor(e,r){super(e,"not-in",r),this.keys=km(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function km(l,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(u=>ir.fromName(u.referenceValue))}class Om extends Nr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ff(r)&&jp(r.arrayValue,this.value)}}class Xf extends Nr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&jp(this.value.arrayValue,r)}}class Pm extends Nr{constructor(e,r){super(e,"not-in",r)}matches(e){if(jp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!jp(this.value.arrayValue,r)}}class Bd extends Nr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ff(r)||!r.arrayValue.values)&&r.arrayValue.values.some(u=>jp(this.value.arrayValue,u))}}class Pl{constructor(e,r=null,u=[],v=[],C=null,R=null,ue=null){this.path=e,this.collectionGroup=r,this.orderBy=u,this.filters=v,this.limit=C,this.startAt=R,this.endAt=ue,this.ue=null}}function tl(l,e=null,r=[],u=[],v=null,C=null,R=null){return new Pl(l,e,r,u,v,C,R)}function Aa(l){const e=vi(l);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(u=>Am(u)).join(","),r+="|ob:",r+=e.orderBy.map(u=>{return(C=u).field.canonicalString()+C.dir;var C}).join(","),Wu(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(u=>ra(u)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(u=>ra(u)).join(",")),e.ue=r}return e.ue}function Cc(l,e){if(l.limit!==e.limit||l.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<l.orderBy.length;r++)if(!va(l.orderBy[r],e.orderBy[r]))return!1;if(l.filters.length!==e.filters.length)return!1;for(let r=0;r<l.filters.length;r++)if(!Yf(l.filters[r],e.filters[r]))return!1;return l.collectionGroup===e.collectionGroup&&!!l.path.isEqual(e.path)&&!!Im(l.startAt,e.startAt)&&Im(l.endAt,e.endAt)}function Vd(l){return ir.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function gf(l,e){return l.filters.filter(r=>r instanceof Nr&&r.field.isEqual(e))}function Pg(l,e,r){let u=ia,v=!0;for(const C of gf(l,e)){let R=ia,ue=!0;switch(C.op){case"<":case"<=":R=Va(C.value);break;case"==":case"in":case">=":R=C.value;break;case">":R=C.value,ue=!1;break;case"!=":case"not-in":R=ia}U0({value:u,inclusive:v},{value:R,inclusive:ue})<0&&(u=R,v=ue)}if(null!==r)for(let C=0;C<l.orderBy.length;++C)if(l.orderBy[C].field.isEqual(e)){const R=r.position[C];U0({value:u,inclusive:v},{value:R,inclusive:r.inclusive})<0&&(u=R,v=r.inclusive);break}return{value:u,inclusive:v}}function Ao(l,e,r){let u=xl,v=!0;for(const C of gf(l,e)){let R=xl,ue=!0;switch(C.op){case">=":case">":R=Xu(C.value),ue=!1;break;case"==":case"in":case"<=":R=C.value;break;case"<":R=C.value,ue=!1;break;case"!=":case"not-in":R=xl}Ag({value:u,inclusive:v},{value:R,inclusive:ue})>0&&(u=R,v=ue)}if(null!==r)for(let C=0;C<l.orderBy.length;++C)if(l.orderBy[C].field.isEqual(e)){const R=r.position[C];Ag({value:u,inclusive:v},{value:R,inclusive:r.inclusive})>0&&(u=R,v=r.inclusive);break}return{value:u,inclusive:v}}class Ts{constructor(e,r=null,u=[],v=[],C=null,R="F",ue=null,Pe=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=u,this.filters=v,this.limit=C,this.limitType=R,this.startAt=ue,this.endAt=Pe,this.ce=null,this.le=null,this.he=null}}function vs(l,e,r,u,v,C,R,ue){return new Ts(l,e,r,u,v,C,R,ue)}function Tc(l){return new Ts(l)}function oo(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function cc(l){return null!==l.collectionGroup}function Mh(l){const e=vi(l);if(null===e.ce){e.ce=[];const r=new Set;for(const C of e.explicitOrderBy)e.ce.push(C),r.add(C.field.canonicalString());const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(R){let ue=new mo(So.comparator);return R.filters.forEach(Pe=>{Pe.getFlattenedFilters().forEach(tt=>{tt.isInequality()&&(ue=ue.add(tt.field))})}),ue})(e).forEach(C=>{r.has(C.canonicalString())||C.isKeyField()||e.ce.push(new pf(C,u))}),r.has(So.keyField().canonicalString())||e.ce.push(new pf(So.keyField(),u))}return e.ce}function ho(l){const e=vi(l);return e.le||(e.le=function Ko(l,e){if("F"===l.limitType)return tl(l.path,l.collectionGroup,e,l.filters,l.limit,l.startAt,l.endAt);{e=e.map(v=>new pf(v.field,"desc"===v.dir?"asc":"desc"));const r=l.endAt?new Ld(l.endAt.position,l.endAt.inclusive):null,u=l.startAt?new Ld(l.startAt.position,l.startAt.inclusive):null;return tl(l.path,l.collectionGroup,e,l.filters,l.limit,r,u)}}(e,Mh(l))),e.le}function Vs(l,e){const r=l.filters.concat([e]);return new Ts(l.path,l.collectionGroup,l.explicitOrderBy.slice(),r,l.limit,l.limitType,l.startAt,l.endAt)}function Ss(l,e,r){return new Ts(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),e,r,l.startAt,l.endAt)}function yo(l,e){return Cc(ho(l),ho(e))&&l.limitType===e.limitType}function Ta(l){return`${Aa(ho(l))}|lt:${l.limitType}`}function ka(l){return`Query(target=${function(r){let u=r.path.canonicalString();return null!==r.collectionGroup&&(u+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(u+=`, filters: [${r.filters.map(v=>vu(v)).join(", ")}]`),Wu(r.limit)||(u+=", limit: "+r.limit),r.orderBy.length>0&&(u+=`, orderBy: [${r.orderBy.map(v=>{return`${(R=v).field.canonicalString()} (${R.dir})`;var R}).join(", ")}]`),r.startAt&&(u+=", startAt: ",u+=r.startAt.inclusive?"b:":"a:",u+=r.startAt.position.map(v=>ra(v)).join(",")),r.endAt&&(u+=", endAt: ",u+=r.endAt.inclusive?"a:":"b:",u+=r.endAt.position.map(v=>ra(v)).join(",")),`Target(${u})`}(ho(l))}; limitType=${l.limitType})`}function ba(l,e){return e.isFoundDocument()&&function(u,v){const C=v.key.path;return null!==u.collectionGroup?v.key.hasCollectionId(u.collectionGroup)&&u.path.isPrefixOf(C):ir.isDocumentKey(u.path)?u.path.isEqual(C):u.path.isImmediateParentOf(C)}(l,e)&&function(u,v){for(const C of Mh(u))if(!C.field.isKeyField()&&null===v.data.field(C.field))return!1;return!0}(l,e)&&function(u,v){for(const C of u.filters)if(!C.matches(v))return!1;return!0}(l,e)&&(v=e,!((u=l).startAt&&!function(R,ue,Pe){const tt=Hp(R,ue,Pe);return R.inclusive?tt<=0:tt<0}(u.startAt,Mh(u),v)||u.endAt&&!function(R,ue,Pe){const tt=Hp(R,ue,Pe);return R.inclusive?tt>=0:tt>0}(u.endAt,Mh(u),v)));var u,v}function $p(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function bu(l){return(e,r)=>{let u=!1;for(const v of Mh(l)){const C=Rm(v,e,r);if(0!==C)return C;u=u||v.field.isKeyField()}return 0}}function Rm(l,e,r){const u=l.field.isKeyField()?ir.comparator(e.key,r.key):function(C,R,ue){const Pe=R.data.field(C),tt=ue.data.field(C);return null!==Pe&&null!==tt?Xc(Pe,tt):Zi()}(l.field,e,r);switch(l.dir){case"asc":return u;case"desc":return-1*u;default:return Zi()}}class Ud{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),u=this.inner[r];if(void 0!==u)for(const[v,C]of u)if(this.equalsFn(v,e))return C}has(e){return void 0!==this.get(e)}set(e,r){const u=this.mapKeyFn(e),v=this.inner[u];if(void 0===v)return this.inner[u]=[[e,r]],void this.innerSize++;for(let C=0;C<v.length;C++)if(this.equalsFn(v[C][0],e))return void(v[C]=[e,r]);v.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),u=this.inner[r];if(void 0===u)return!1;for(let v=0;v<u.length;v++)if(this.equalsFn(u[v][0],e))return 1===u.length?delete this.inner[r]:u.splice(v,1),this.innerSize--,!0;return!1}forEach(e){ac(this.inner,(r,u)=>{for(const[v,C]of u)e(v,C)})}isEmpty(){return ui(this.inner)}size(){return this.innerSize}}const jd=new wr(ir.comparator);function wl(){return jd}const to=new wr(ir.comparator);function _f(...l){let e=to;for(const r of l)e=e.insert(r.key,r);return e}function vf(l){let e=to;return l.forEach((r,u)=>e=e.insert(r,u.overlayedDocument)),e}function Rl(){return Ah()}function Qu(){return Ah()}function Ah(){return new Ud(l=>l.toString(),(l,e)=>l.isEqual(e))}const Gp=new wr(ir.comparator),qu=new mo(ir.comparator);function sr(...l){let e=qu;for(const r of l)e=e.add(r);return e}const zd=new mo(is);function go(){return zd}function md(l,e){if(l.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function Ll(l){return{integerValue:""+l}}function kh(l,e){return Tm(e)?Ll(e):md(l,e)}class dc{constructor(){this._=void 0}}function j0(l,e,r){return l instanceof gd?function(v,C){const R={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:v.seconds,nanos:v.nanoseconds}}}};return C&&Cs(C)&&(C=Kf(C)),C&&(R.fields.__previous_value__=C),{mapValue:R}}(r,e):l instanceof Hd?$d(l,e):l instanceof Zl?bf(l,e):function(v,C){const R=Rg(v,C),ue=Zu(R)+Zu(v.Pe);return Rd(R)&&Rd(v.Pe)?Ll(ue):md(v.serializer,ue)}(l,e)}function Cl(l,e,r){return l instanceof Hd?$d(l,e):l instanceof Zl?bf(l,e):r}function Rg(l,e){return l instanceof yu?Rd(u=e)||(C=u)&&"doubleValue"in C?e:{integerValue:0}:null;var u,C}class gd extends dc{}class Hd extends dc{constructor(e){super(),this.elements=e}}function $d(l,e){const r=Qf(e);for(const u of l.elements)r.some(v=>Ol(v,u))||r.push(u);return{arrayValue:{values:r}}}class Zl extends dc{constructor(e){super(),this.elements=e}}function bf(l,e){let r=Qf(e);for(const u of l.elements)r=r.filter(v=>!Ol(v,u));return{arrayValue:{values:r}}}class yu extends dc{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Zu(l){return _a(l.integerValue||l.doubleValue)}function Qf(l){return ff(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Ju{constructor(e,r){this.field=e,this.transform=r}}class Ng{constructor(e,r){this.version=e,this.transformResults=r}}class jo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new jo}static exists(e){return new jo(void 0,e)}static updateTime(e){return new jo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ao(l,e){return void 0!==l.updateTime?e.isFoundDocument()&&e.version.isEqual(l.updateTime):void 0===l.exists||l.exists===e.isFoundDocument()}class Oh{}function Lm(l,e){if(!l.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return l.isNoDocument()?new Ro(l.key,jo.none()):new Sc(l.key,l.data,jo.none());{const r=l.data,u=Ua.empty();let v=new mo(So.comparator);for(let C of e.fields)if(!v.has(C)){let R=r.field(C);null===R&&C.length>1&&(C=C.popLast(),R=r.field(C)),null===R?u.delete(C):u.set(C,R),v=v.add(C)}return new jr(l.key,u,new Ql(v.toArray()),jo.none())}}function nl(l,e,r){l instanceof Sc?function(v,C,R){const ue=v.value.clone(),Pe=Qc(v.fieldTransforms,C,R.transformResults);ue.setAll(Pe),C.convertToFoundDocument(R.version,ue).setHasCommittedMutations()}(l,e,r):l instanceof jr?function(v,C,R){if(!ao(v.precondition,C))return void C.convertToUnknownDocument(R.version);const ue=Qc(v.fieldTransforms,C,R.transformResults),Pe=C.data;Pe.setAll(qf(v)),Pe.setAll(ue),C.convertToFoundDocument(R.version,Pe).setHasCommittedMutations()}(l,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function yf(l,e,r,u){return l instanceof Sc?function(C,R,ue,Pe){if(!ao(C.precondition,R))return ue;const tt=C.value.clone(),Tt=z0(C.fieldTransforms,Pe,R);return tt.setAll(Tt),R.convertToFoundDocument(R.version,tt).setHasLocalMutations(),null}(l,e,r,u):l instanceof jr?function(C,R,ue,Pe){if(!ao(C.precondition,R))return ue;const tt=z0(C.fieldTransforms,Pe,R),Tt=R.data;return Tt.setAll(qf(C)),Tt.setAll(tt),R.convertToFoundDocument(R.version,Tt).setHasLocalMutations(),null===ue?null:ue.unionWith(C.fieldMask.fields).unionWith(C.fieldTransforms.map(tn=>tn.field))}(l,e,r,u):(ue=r,ao(l.precondition,R=e)?(R.convertToNoDocument(R.version).setHasLocalMutations(),null):ue);var R,ue}function Oa(l,e){let r=null;for(const u of l.fieldTransforms){const v=e.data.field(u.field),C=Rg(u.transform,v||null);null!=C&&(null===r&&(r=Ua.empty()),r.set(u.field,C))}return r||null}function Tl(l,e){return l.type===e.type&&!!l.key.isEqual(e.key)&&!!l.precondition.isEqual(e.precondition)&&(v=e.fieldTransforms,!!(void 0===(u=l.fieldTransforms)&&void 0===v||u&&v&&Ca(u,v,(C,R)=>function Lg(l,e){return l.field.isEqual(e.field)&&(v=e.transform,(u=l.transform)instanceof Hd&&v instanceof Hd||u instanceof Zl&&v instanceof Zl?Ca(u.elements,v.elements,Ol):u instanceof yu&&v instanceof yu?Ol(u.Pe,v.Pe):u instanceof gd&&v instanceof gd);var u,v}(C,R))))&&(0===l.type?l.value.isEqual(e.value):1!==l.type||l.data.isEqual(e.data)&&l.fieldMask.isEqual(e.fieldMask));var u,v}class Sc extends Oh{constructor(e,r,u,v=[]){super(),this.key=e,this.value=r,this.precondition=u,this.fieldTransforms=v,this.type=0}getFieldMask(){return null}}class jr extends Oh{constructor(e,r,u,v,C=[]){super(),this.key=e,this.data=r,this.fieldMask=u,this.precondition=v,this.fieldTransforms=C,this.type=1}getFieldMask(){return this.fieldMask}}function qf(l){const e=new Map;return l.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const u=l.data.field(r);e.set(r,u)}}),e}function Qc(l,e,r){const u=new Map;ar(l.length===r.length);for(let v=0;v<r.length;v++){const C=l[v],R=C.transform,ue=e.data.field(C.field);u.set(C.field,Cl(R,ue,r[v]))}return u}function z0(l,e,r){const u=new Map;for(const v of l){const C=v.transform,R=r.data.field(v.field);u.set(v.field,j0(C,R,e))}return u}class Ro extends Oh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zf extends Oh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eh{constructor(e,r,u,v){this.batchId=e,this.localWriteTime=r,this.baseMutations=u,this.mutations=v}applyToRemoteDocument(e,r){const u=r.mutationResults;for(let v=0;v<this.mutations.length;v++){const C=this.mutations[v];C.key.isEqual(e.key)&&nl(C,e,u[v])}}applyToLocalView(e,r){for(const u of this.baseMutations)u.key.isEqual(e.key)&&(r=yf(u,e,r,this.localWriteTime));for(const u of this.mutations)u.key.isEqual(e.key)&&(r=yf(u,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const u=Qu();return this.mutations.forEach(v=>{const C=e.get(v.key),R=C.overlayedDocument;let ue=this.applyToLocalView(R,C.mutatedFields);ue=r.has(v.key)?null:ue;const Pe=Lm(R,ue);null!==Pe&&u.set(v.key,Pe),R.isValidDocument()||R.convertToNoDocument(cr.min())}),u}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),sr())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(r,u)=>Tl(r,u))&&Ca(this.baseMutations,e.baseMutations,(r,u)=>Tl(r,u))}}class Wp{constructor(e,r,u,v){this.batch=e,this.commitVersion=r,this.mutationResults=u,this.docVersions=v}static from(e,r,u){ar(e.mutations.length===u.length);let v=function(){return Gp}();const C=e.mutations;for(let R=0;R<C.length;R++)v=v.insert(C[R].key,u[R].version);return new Wp(e,r,u,v)}}class Fg{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ph{constructor(e,r){this.count=e,this.unchangedNames=r}}var Lo,es;function Gd(l){switch(l){default:return Zi();case ei.CANCELLED:case ei.UNKNOWN:case ei.DEADLINE_EXCEEDED:case ei.RESOURCE_EXHAUSTED:case ei.INTERNAL:case ei.UNAVAILABLE:case ei.UNAUTHENTICATED:return!1;case ei.INVALID_ARGUMENT:case ei.NOT_FOUND:case ei.ALREADY_EXISTS:case ei.PERMISSION_DENIED:case ei.FAILED_PRECONDITION:case ei.ABORTED:case ei.OUT_OF_RANGE:case ei.UNIMPLEMENTED:case ei.DATA_LOSS:return!0}}function Eu(l){if(void 0===l)return Lr("GRPC error has no .code"),ei.UNKNOWN;switch(l){case Lo.OK:return ei.OK;case Lo.CANCELLED:return ei.CANCELLED;case Lo.UNKNOWN:return ei.UNKNOWN;case Lo.DEADLINE_EXCEEDED:return ei.DEADLINE_EXCEEDED;case Lo.RESOURCE_EXHAUSTED:return ei.RESOURCE_EXHAUSTED;case Lo.INTERNAL:return ei.INTERNAL;case Lo.UNAVAILABLE:return ei.UNAVAILABLE;case Lo.UNAUTHENTICATED:return ei.UNAUTHENTICATED;case Lo.INVALID_ARGUMENT:return ei.INVALID_ARGUMENT;case Lo.NOT_FOUND:return ei.NOT_FOUND;case Lo.ALREADY_EXISTS:return ei.ALREADY_EXISTS;case Lo.PERMISSION_DENIED:return ei.PERMISSION_DENIED;case Lo.FAILED_PRECONDITION:return ei.FAILED_PRECONDITION;case Lo.ABORTED:return ei.ABORTED;case Lo.OUT_OF_RANGE:return ei.OUT_OF_RANGE;case Lo.UNIMPLEMENTED:return ei.UNIMPLEMENTED;case Lo.DATA_LOSS:return ei.DATA_LOSS;default:return Zi()}}(es=Lo||(Lo={}))[es.OK=0]="OK",es[es.CANCELLED=1]="CANCELLED",es[es.UNKNOWN=2]="UNKNOWN",es[es.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",es[es.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",es[es.NOT_FOUND=5]="NOT_FOUND",es[es.ALREADY_EXISTS=6]="ALREADY_EXISTS",es[es.PERMISSION_DENIED=7]="PERMISSION_DENIED",es[es.UNAUTHENTICATED=16]="UNAUTHENTICATED",es[es.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",es[es.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",es[es.ABORTED=10]="ABORTED",es[es.OUT_OF_RANGE=11]="OUT_OF_RANGE",es[es.UNIMPLEMENTED=12]="UNIMPLEMENTED",es[es.INTERNAL=13]="INTERNAL",es[es.UNAVAILABLE=14]="UNAVAILABLE",es[es.DATA_LOSS=15]="DATA_LOSS";function Sa(){return new TextEncoder}const il=new uo([4294967295,4294967295],0);function Ef(l){const e=Sa().encode(l),r=new ys;return r.update(e),new Uint8Array(r.digest())}function Wd(l){const e=new DataView(l.buffer),r=e.getUint32(0,!0),u=e.getUint32(4,!0),v=e.getUint32(8,!0),C=e.getUint32(12,!0);return[new uo([r,u],0),new uo([v,C],0)]}class Dc{constructor(e,r,u){if(this.bitmap=e,this.padding=r,this.hashCount=u,r<0||r>=8)throw new Kd(`Invalid padding: ${r}`);if(u<0)throw new Kd(`Invalid hash count: ${u}`);if(e.length>0&&0===this.hashCount)throw new Kd(`Invalid hash count: ${u}`);if(0===e.length&&0!==r)throw new Kd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=uo.fromNumber(this.Ie)}Ee(e,r,u){let v=e.add(r.multiply(uo.fromNumber(u)));return 1===v.compare(il)&&(v=new uo([v.getBits(0),v.getBits(1)],0)),v.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Ef(e),[u,v]=Wd(r);for(let C=0;C<this.hashCount;C++){const R=this.Ee(u,v,C);if(!this.de(R))return!1}return!0}static create(e,r,u){const v=e%8==0?0:8-e%8,C=new Uint8Array(Math.ceil(e/8)),R=new Dc(C,v,r);return u.forEach(ue=>R.insert(ue)),R}insert(e){if(0===this.Ie)return;const r=Ef(e),[u,v]=Wd(r);for(let C=0;C<this.hashCount;C++){const R=this.Ee(u,v,C);this.Ae(R)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yd{constructor(e,r,u,v,C){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=u,this.documentUpdates=v,this.resolvedLimboDocuments=C}static createSynthesizedRemoteEventForCurrentChange(e,r,u){const v=new Map;return v.set(e,Xd.createSynthesizedTargetChangeForCurrentChange(e,r,u)),new Yd(cr.min(),v,new wr(is),wl(),sr())}}class Xd{constructor(e,r,u,v,C){this.resumeToken=e,this.current=r,this.addedDocuments=u,this.modifiedDocuments=v,this.removedDocuments=C}static createSynthesizedTargetChangeForCurrentChange(e,r,u){return new Xd(u,r,sr(),sr(),sr())}}class Qd{constructor(e,r,u,v){this.Re=e,this.removedTargetIds=r,this.key=u,this.Ve=v}}class Jf{constructor(e,r){this.targetId=e,this.me=r}}class ${constructor(e,r,u=Ja.EMPTY_BYTE_STRING,v=null){this.state=e,this.targetIds=r,this.resumeToken=u,this.cause=v}}class S{constructor(){this.fe=0,this.ge=$e(),this.pe=Ja.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=sr(),r=sr(),u=sr();return this.ge.forEach((v,C)=>{switch(C){case 0:e=e.add(v);break;case 2:r=r.add(v);break;case 1:u=u.add(v);break;default:Zi()}}),new Xd(this.pe,this.ye,e,r,u)}ve(){this.we=!1,this.ge=$e()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ar(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class P{constructor(e){this.Le=e,this.Be=new Map,this.ke=wl(),this.qe=Z(),this.Qe=new wr(is)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const u=this.Ge(r);switch(e.state){case 0:this.ze(r)&&u.De(e.resumeToken);break;case 1:u.Oe(),u.Se||u.ve(),u.De(e.resumeToken);break;case 2:u.Oe(),u.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(u.Ne(),u.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),u.De(e.resumeToken));break;default:Zi()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((u,v)=>{this.ze(v)&&r(v)})}He(e){const r=e.targetId,u=e.me.count,v=this.Je(r);if(v){const C=v.target;if(Vd(C))if(0===u){const R=new ir(C.path);this.Ue(r,R,cs.newNoDocument(R,cr.min()))}else ar(1===u);else{const R=this.Ye(r);if(R!==u){const ue=this.Ze(e),Pe=ue?this.Xe(ue,e,R):1;0!==Pe&&(this.je(r),this.Qe=this.Qe.insert(r,2===Pe?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:u="",padding:v=0},hashCount:C=0}=r;let R,ue;try{R=fi(u).toUint8Array()}catch(Pe){if(Pe instanceof hd)return Rs("Decoding the base64 bloom filter in existence filter failed ("+Pe.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw Pe}try{ue=new Dc(R,v,C)}catch(Pe){return Rs(Pe instanceof Kd?"BloomFilter error: ":"Applying bloom filter failed: ",Pe),null}return 0===ue.Ie?null:ue}Xe(e,r,u){return r.me.count===u-this.nt(e,r.targetId)?0:2}nt(e,r){const u=this.Le.getRemoteKeysForTarget(r);let v=0;return u.forEach(C=>{const R=this.Le.tt(),ue=`projects/${R.projectId}/databases/${R.database}/documents/${C.path.canonicalString()}`;e.mightContain(ue)||(this.Ue(r,C,null),v++)}),v}rt(e){const r=new Map;this.Be.forEach((C,R)=>{const ue=this.Je(R);if(ue){if(C.current&&Vd(ue.target)){const Pe=new ir(ue.target.path);null!==this.ke.get(Pe)||this.it(R,Pe)||this.Ue(R,Pe,cs.newNoDocument(Pe,e))}C.be&&(r.set(R,C.Ce()),C.ve())}});let u=sr();this.qe.forEach((C,R)=>{let ue=!0;R.forEachWhile(Pe=>{const tt=this.Je(Pe);return!tt||"TargetPurposeLimboResolution"===tt.purpose||(ue=!1,!1)}),ue&&(u=u.add(C))}),this.ke.forEach((C,R)=>R.setReadTime(e));const v=new Yd(e,r,this.Qe,this.ke,u);return this.ke=wl(),this.qe=Z(),this.Qe=new wr(is),v}$e(e,r){if(!this.ze(e))return;const u=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,u),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,u){if(!this.ze(e))return;const v=this.Ge(e);this.it(e,r)?v.Fe(r,1):v.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),u&&(this.ke=this.ke.insert(r,u))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new S,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new mo(is),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ei("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new S),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Z(){return new wr(ir.comparator)}function $e(){return new wr(ir.comparator)}const Ct={asc:"ASCENDING",desc:"DESCENDING"},xn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jn={and:"AND",or:"OR"};class xi{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function dr(l,e){return l.useProto3Json||Wu(e)?e:{value:e}}function Tr(l,e){return l.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ur(l,e){return l.useProto3Json?e.toBase64():e.toUint8Array()}function zo(l,e){return Tr(l,e.toTimestamp())}function Ns(l){return ar(!!l),cr.fromTimestamp(function(r){const u=fd(r);return new ls(u.seconds,u.nanos)}(l))}function xu(l,e){return ep(l,e).canonicalString()}function ep(l,e){const r=(v=l,new Xr(["projects",v.projectId,"databases",v.database])).child("documents");var v;return void 0===e?r:r.child(e)}function xf(l){const e=Xr.fromString(l);return ar(ip(e)),e}function wu(l,e){return xu(l.databaseId,e.path)}function Nl(l,e){const r=xf(e);if(r.get(1)!==l.databaseId.projectId)throw new Oi(ei.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+l.databaseId.projectId);if(r.get(3)!==l.databaseId.database)throw new Oi(ei.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+l.databaseId.database);return new ir(tp(r))}function Cu(l,e){return xu(l.databaseId,e)}function qc(l){const e=xf(l);return 4===e.length?Xr.emptyPath():tp(e)}function Jl(l){return new Xr(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function tp(l){return ar(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Nm(l,e,r){return{name:wu(l,e),fields:r.value.mapValue.fields}}function th(l,e,r){const u=Nl(l,e.name),v=Ns(e.updateTime),C=e.createTime?Ns(e.createTime):cr.min(),R=new Ua({mapValue:{fields:e.fields}}),ue=cs.newFoundDocument(u,v,C,R);return r&&ue.setHasCommittedMutations(),r?ue.setHasCommittedMutations():ue}function wf(l,e){let r;if(e instanceof Sc)r={update:Nm(l,e.key,e.value)};else if(e instanceof Ro)r={delete:wu(l,e.key)};else if(e instanceof jr)r={update:Nm(l,e.key,e.data),updateMask:W_(e.fieldMask)};else{if(!(e instanceof Zf))return Zi();r={verify:wu(l,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(u=>function(C,R){const ue=R.transform;if(ue instanceof gd)return{fieldPath:R.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(ue instanceof Hd)return{fieldPath:R.field.canonicalString(),appendMissingElements:{values:ue.elements}};if(ue instanceof Zl)return{fieldPath:R.field.canonicalString(),removeAllFromArray:{values:ue.elements}};if(ue instanceof yu)return{fieldPath:R.field.canonicalString(),increment:ue.Pe};throw Zi()}(0,u))),e.precondition.isNone||(r.currentDocument=void 0!==(C=e.precondition).updateTime?{updateTime:zo(l,C.updateTime)}:void 0!==C.exists?{exists:C.exists}:Zi()),r;var C}function Lh(l,e){const r=e.currentDocument?void 0!==(C=e.currentDocument).updateTime?jo.updateTime(Ns(C.updateTime)):void 0!==C.exists?jo.exists(C.exists):jo.none():jo.none(),u=e.updateTransforms?e.updateTransforms.map(v=>function(R,ue){let Pe=null;"setToServerValue"in ue?(ar("REQUEST_TIME"===ue.setToServerValue),Pe=new gd):"appendMissingElements"in ue?Pe=new Hd(ue.appendMissingElements.values||[]):"removeAllFromArray"in ue?Pe=new Zl(ue.removeAllFromArray.values||[]):"increment"in ue?Pe=new yu(R,ue.increment):Zi();const tt=So.fromServerFormat(ue.fieldPath);return new Ju(tt,Pe)}(l,v)):[];var C;if(e.update){const v=Nl(l,e.update.name),C=new Ua({mapValue:{fields:e.update.fields}});if(e.updateMask){const R=new Ql((e.updateMask.fieldPaths||[]).map(Tt=>So.fromServerFormat(Tt)));return new jr(v,C,R,r,u)}return new Sc(v,C,r,u)}if(e.delete){const v=Nl(l,e.delete);return new Ro(v,r)}if(e.verify){const v=Nl(l,e.verify);return new Zf(v,r)}return Zi()}function Yp(l,e){return{documents:[Cu(l,e.path)]}}function ya(l,e){const r={structuredQuery:{}},u=e.path;let v;null!==e.collectionGroup?(v=u,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(v=u.popLast(),r.structuredQuery.from=[{collectionId:u.lastSegment()}]),r.parent=Cu(l,v);const C=function(tt){if(0!==tt.length)return np(Mo.create(tt,"and"))}(e.filters);C&&(r.structuredQuery.where=C);const R=function(tt){if(0!==tt.length)return tt.map(Tt=>{return{field:qd((kn=Tt).field),direction:Tu(kn.dir)};var kn})}(e.orderBy);R&&(r.structuredQuery.orderBy=R);const ue=dr(l,e.limit);return null!==ue&&(r.structuredQuery.limit=ue),e.startAt&&(r.structuredQuery.startAt={before:(tt=e.startAt).inclusive,values:tt.position}),e.endAt&&(r.structuredQuery.endAt=function(tt){return{before:!tt.inclusive,values:tt.position}}(e.endAt)),{_t:r,parent:v};var tt}function Bm(l){let e=qc(l.parent);const r=l.structuredQuery,u=r.from?r.from.length:0;let v=null;if(u>0){ar(1===u);const Tt=r.from[0];Tt.allDescendants?v=Tt.collectionId:e=e.child(Tt.collectionId)}let C=[];r.where&&(C=function(tn){const kn=Ho(tn);return kn instanceof Mo&&Mm(kn)?kn.getFilters():[kn]}(r.where));let R=[];r.orderBy&&(R=r.orderBy.map(kn=>{return new pf(Zd((Ji=kn).field),function(hr){switch(hr){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ji.direction));var Ji}));let ue=null;r.limit&&(ue=function(tn){let kn;return kn="object"==typeof tn?tn.value:tn,Wu(kn)?null:kn}(r.limit));let Pe=null;var tn;r.startAt&&(Pe=new Ld((tn=r.startAt).values||[],!!tn.before));let tt=null;return r.endAt&&(tt=function(tn){return new Ld(tn.values||[],!tn.before)}(r.endAt)),vs(e,v,R,C,ue,"F",Pe,tt)}function Ho(l){return void 0!==l.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const u=Zd(r.unaryFilter.field);return Nr.create(u,"==",{doubleValue:NaN});case"IS_NULL":const v=Zd(r.unaryFilter.field);return Nr.create(v,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const C=Zd(r.unaryFilter.field);return Nr.create(C,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const R=Zd(r.unaryFilter.field);return Nr.create(R,"!=",{nullValue:"NULL_VALUE"});default:return Zi()}}(l):void 0!==l.fieldFilter?Nr.create(Zd((r=l).fieldFilter.field),function(v){switch(v){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zi()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==l.compositeFilter?function(r){return Mo.create(r.compositeFilter.filters.map(u=>Ho(u)),function(v){switch(v){case"AND":return"and";case"OR":return"or";default:return Zi()}}(r.compositeFilter.op))}(l):Zi();var r}function Tu(l){return Ct[l]}function Bg(l){return xn[l]}function $0(l){return jn[l]}function qd(l){return{fieldPath:l.canonicalString()}}function Zd(l){return So.fromServerFormat(l.fieldPath)}function np(l){return l instanceof Nr?function(r){if("=="===r.op){if(Dm(r.value))return{unaryFilter:{field:qd(r.field),op:"IS_NAN"}};if(Mg(r.value))return{unaryFilter:{field:qd(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Dm(r.value))return{unaryFilter:{field:qd(r.field),op:"IS_NOT_NAN"}};if(Mg(r.value))return{unaryFilter:{field:qd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qd(r.field),op:Bg(r.op),value:r.value}}}(l):l instanceof Mo?function(r){const u=r.getFilters().map(v=>np(v));return 1===u.length?u[0]:{compositeFilter:{op:$0(r.op),filters:u}}}(l):Zi()}function W_(l){const e=[];return l.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ip(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class nh{constructor(e,r,u,v,C=cr.min(),R=cr.min(),ue=Ja.EMPTY_BYTE_STRING,Pe=null){this.target=e,this.targetId=r,this.purpose=u,this.sequenceNumber=v,this.snapshotVersion=C,this.lastLimboFreeSnapshotVersion=R,this.resumeToken=ue,this.expectedCount=Pe}withSequenceNumber(e){return new nh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nh{constructor(e){this.ut=e}}function Xp(l,e){const r=e.key,u={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:ih(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())u.document={name:wu(C=l.ut,(R=e).key),fields:R.data.value.mapValue.fields,updateTime:Tr(C,R.version.toTimestamp()),createTime:Tr(C,R.createTime.toTimestamp())};else if(e.isNoDocument())u.noDocument={path:r.path.toArray(),readTime:rp(e.version)};else{if(!e.isUnknownDocument())return Zi();u.unknownDocument={path:r.path.toArray(),version:rp(e.version)}}var C,R;return u}function ih(l){const e=l.toTimestamp();return[e.seconds,e.nanoseconds]}function rp(l){const e=l.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function sp(l){const e=new ls(l.seconds,l.nanoseconds);return cr.fromTimestamp(e)}function op(l,e){const r=(e.baseMutations||[]).map(C=>Lh(l.ut,C));for(let C=0;C<e.mutations.length-1;++C)C+1<e.mutations.length&&void 0!==e.mutations[C+1].transform&&(e.mutations[C].updateTransforms=e.mutations[C+1].transform.fieldTransforms,e.mutations.splice(C+1,1),++C);const u=e.mutations.map(C=>Lh(l.ut,C)),v=ls.fromMillis(e.localWriteTimeMs);return new eh(e.batchId,v,r,u)}function ap(l){const e=sp(l.readTime),r=void 0!==l.lastLimboFreeSnapshotVersion?sp(l.lastLimboFreeSnapshotVersion):cr.min();let u;return u=void 0!==l.query.documents?(ar(1===(C=l.query).documents.length),ho(Tc(qc(C.documents[0])))):function(C){return ho(Bm(C))}(l.query),new nh(u,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,e,r,Ja.fromBase64String(l.resumeToken));var C}function Yv(l,e){const r=rp(e.snapshotVersion),u=rp(e.lastLimboFreeSnapshotVersion);let v;v=Vd(e.target)?Yp(l.ut,e.target):ya(l.ut,e.target)._t;const C=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Aa(e.target),readTime:r,resumeToken:C,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:u,query:v}}function K_(l){const e=Bm({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?Ss(e,e.limit,"L"):e}function G0(l,e){return new Fg(e.largestBatchId,Lh(l.ut,e.overlayMutation))}function Qp(l,e){const r=e.path.lastSegment();return[l,yl(e.path.popLast()),r]}function Ug(l,e,r,u){return{indexId:l,uid:e,sequenceNumber:r,readTime:rp(u.readTime),documentKey:yl(u.documentKey.path),largestBatchId:u.largestBatchId}}class Xv{getBundleMetadata(e,r){return zb(e).get(r).next(u=>{if(u)return{id:(C=u).bundleId,createTime:sp(C.createTime),version:C.version};var C})}saveBundleMetadata(e,r){return zb(e).put({bundleId:(v=r).id,createTime:rp(Ns(v.createTime)),version:v.version});var v}getNamedQuery(e,r){return jg(e).get(r).next(u=>{if(u)return{name:(C=u).name,query:K_(C.bundledQuery),readTime:sp(C.readTime)};var C})}saveNamedQuery(e,r){return jg(e).put({name:(v=r).name,readTime:rp(Ns(v.readTime)),bundledQuery:v.bundledQuery});var v}}function zb(l){return Ls(l,"bundles")}function jg(l){return Ls(l,"namedQueries")}class W0{constructor(e,r){this.serializer=e,this.userId=r}static ct(e,r){return new W0(e,r.uid||"")}getOverlay(e,r){return qp(e).get(Qp(this.userId,r)).next(u=>u?G0(this.serializer,u):null)}getOverlays(e,r){const u=Rl();return Ae.forEach(r,v=>this.getOverlay(e,v).next(C=>{null!==C&&u.set(v,C)})).next(()=>u)}saveOverlays(e,r,u){const v=[];return u.forEach((C,R)=>{const ue=new Fg(r,R);v.push(this.lt(e,ue))}),Ae.waitFor(v)}removeOverlaysForBatchId(e,r,u){const v=new Set;r.forEach(R=>v.add(yl(R.getCollectionPath())));const C=[];return v.forEach(R=>{const ue=IDBKeyRange.bound([this.userId,R,u],[this.userId,R,u+1],!1,!0);C.push(qp(e).j("collectionPathOverlayIndex",ue))}),Ae.waitFor(C)}getOverlaysForCollection(e,r,u){const v=Rl(),C=yl(r),R=IDBKeyRange.bound([this.userId,C,u],[this.userId,C,Number.POSITIVE_INFINITY],!0);return qp(e).U("collectionPathOverlayIndex",R).next(ue=>{for(const Pe of ue){const tt=G0(this.serializer,Pe);v.set(tt.getKey(),tt)}return v})}getOverlaysForCollectionGroup(e,r,u,v){const C=Rl();let R;const ue=IDBKeyRange.bound([this.userId,r,u],[this.userId,r,Number.POSITIVE_INFINITY],!0);return qp(e).J({index:"collectionGroupOverlayIndex",range:ue},(Pe,tt,Tt)=>{const tn=G0(this.serializer,tt);C.size()<v||tn.largestBatchId===R?(C.set(tn.getKey(),tn),R=tn.largestBatchId):Tt.done()}).next(()=>C)}lt(e,r){return qp(e).put(function(v,C,R){const[ue,Pe,tt]=Qp(C,R.mutation.key);return{userId:C,collectionPath:Pe,documentId:tt,collectionGroup:R.mutation.key.getCollectionGroup(),largestBatchId:R.largestBatchId,overlayMutation:wf(v.ut,R.mutation)}}(this.serializer,this.userId,r))}}function qp(l){return Ls(l,"documentOverlays")}class Su{constructor(){}ht(e,r){this.Pt(e,r),r.It()}Pt(e,r){if("nullValue"in e)this.Tt(r,5);else if("booleanValue"in e)this.Tt(r,10),r.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(r,15),r.Et(_a(e.integerValue));else if("doubleValue"in e){const u=_a(e.doubleValue);isNaN(u)?this.Tt(r,13):(this.Tt(r,15),uf(u)?r.Et(0):r.Et(u))}else if("timestampValue"in e){let u=e.timestampValue;this.Tt(r,20),"string"==typeof u&&(u=fd(u)),r.dt(`${u.seconds||""}`),r.Et(u.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,r),this.Rt(r);else if("bytesValue"in e)this.Tt(r,30),r.Vt(fi(e.bytesValue)),this.Rt(r);else if("referenceValue"in e)this.ft(e.referenceValue,r);else if("geoPointValue"in e){const u=e.geoPointValue;this.Tt(r,45),r.Et(u.latitude||0),r.Et(u.longitude||0)}else"mapValue"in e?Kr(e)?this.Tt(r,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,r),this.Rt(r)):"arrayValue"in e?(this.yt(e.arrayValue,r),this.Rt(r)):Zi()}At(e,r){this.Tt(r,25),this.wt(e,r)}wt(e,r){r.dt(e)}gt(e,r){const u=e.fields||{};this.Tt(r,55);for(const v of Object.keys(u))this.At(v,r),this.Pt(u[v],r)}yt(e,r){const u=e.values||[];this.Tt(r,50);for(const v of u)this.Pt(v,r)}ft(e,r){this.Tt(r,37),ir.fromName(e).path.forEach(u=>{this.Tt(r,60),this.wt(u,r)})}Tt(e,r){e.Et(r)}Rt(e){e.Et(2)}}function lp(l){if(0===l)return 8;let e=0;return!(l>>4)&&(e+=4,l<<=4),!(l>>6)&&(e+=2,l<<=2),!(l>>7)&&(e+=1),e}function zg(l){const e=64-function(u){let v=0;for(let C=0;C<8;++C){const R=lp(255&u[C]);if(v+=R,8!==R)break}return v}(l);return Math.ceil(e/8)}Su.St=new Su;class Vm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const r=e[Symbol.iterator]();let u=r.next();for(;!u.done;)this.Dt(u.value),u=r.next();this.Ct()}vt(e){const r=e[Symbol.iterator]();let u=r.next();for(;!u.done;)this.Ft(u.value),u=r.next();this.Mt()}xt(e){for(const r of e){const u=r.charCodeAt(0);if(u<128)this.Dt(u);else if(u<2048)this.Dt(960|u>>>6),this.Dt(128|63&u);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|u>>>12),this.Dt(128|63&u>>>6),this.Dt(128|63&u);else{const v=r.codePointAt(0);this.Dt(240|v>>>18),this.Dt(128|63&v>>>12),this.Dt(128|63&v>>>6),this.Dt(128|63&v)}}this.Ct()}Ot(e){for(const r of e){const u=r.charCodeAt(0);if(u<128)this.Ft(u);else if(u<2048)this.Ft(960|u>>>6),this.Ft(128|63&u);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u);else{const v=r.codePointAt(0);this.Ft(240|v>>>18),this.Ft(128|63&v>>>12),this.Ft(128|63&v>>>6),this.Ft(128|63&v)}}this.Mt()}Nt(e){const r=this.Lt(e),u=zg(r);this.Bt(1+u),this.buffer[this.position++]=255&u;for(let v=r.length-u;v<r.length;++v)this.buffer[this.position++]=255&r[v]}kt(e){const r=this.Lt(e),u=zg(r);this.Bt(1+u),this.buffer[this.position++]=~(255&u);for(let v=r.length-u;v<r.length;++v)this.buffer[this.position++]=~(255&r[v])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const r=function(C){const R=new DataView(new ArrayBuffer(8));return R.setFloat64(0,C,!1),new Uint8Array(R.buffer)}(e),u=!!(128&r[0]);r[0]^=u?255:128;for(let v=1;v<r.length;++v)r[v]^=u?255:0;return r}Dt(e){const r=255&e;0===r?(this.Qt(0),this.Qt(255)):255===r?(this.Qt(255),this.Qt(0)):this.Qt(r)}Ft(e){const r=255&e;0===r?(this.$t(0),this.$t(255)):255===r?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const r=e+this.position;if(r<=this.buffer.length)return;let u=2*this.buffer.length;u<r&&(u=r);const v=new Uint8Array(u);v.set(this.buffer),this.buffer=v}}class Hg{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Um{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class rh{constructor(){this.Wt=new Vm,this.Gt=new Hg(this.Wt),this.zt=new Um(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class sh{constructor(e,r,u,v){this.indexId=e,this.documentKey=r,this.arrayValue=u,this.directionalValue=v}Ht(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,u=new Uint8Array(r);return u.set(this.directionalValue,0),r!==e?u.set([0],this.directionalValue.length):++u[u.length-1],new sh(this.indexId,this.documentKey,this.arrayValue,u)}}function Fh(l,e){let r=l.indexId-e.indexId;return 0!==r?r:(r=$g(l.arrayValue,e.arrayValue),0!==r?r:(r=$g(l.directionalValue,e.directionalValue),0!==r?r:ir.comparator(l.documentKey,e.documentKey)))}function $g(l,e){for(let r=0;r<l.length&&r<e.length;++r){const u=l[r]-e[r];if(0!==u)return u}return l.length-e.length}class Y_{constructor(e){this.Jt=new mo((r,u)=>So.comparator(r.field,u.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const r of e.filters){const u=r;u.isInequality()?this.Jt=this.Jt.add(u):this.Zt.push(u)}}get Xt(){return this.Jt.size>1}en(e){if(ar(e.collectionGroup===this.collectionId),this.Xt)return!1;const r=Gl(e);if(void 0!==r&&!this.tn(r))return!1;const u=Wl(e);let v=new Set,C=0,R=0;for(;C<u.length&&this.tn(u[C]);++C)v=v.add(u[C].fieldPath.canonicalString());if(C===u.length)return!0;if(this.Jt.size>0){const ue=this.Jt.getIterator().getNext();if(!v.has(ue.field.canonicalString())){const Pe=u[C];if(!this.nn(ue,Pe)||!this.rn(this.Yt[R++],Pe))return!1}++C}for(;C<u.length;++C)if(R>=this.Yt.length||!this.rn(this.Yt[R++],u[C]))return!1;return!0}sn(){if(this.Xt)return null;let e=new mo(So.comparator);const r=[];for(const u of this.Zt)if(!u.field.isKeyField())if("array-contains"===u.op||"array-contains-any"===u.op)r.push(new Ec(u.field,2));else{if(e.has(u.field))continue;e=e.add(u.field),r.push(new Ec(u.field,0))}for(const u of this.Yt)u.field.isKeyField()||e.has(u.field)||(e=e.add(u.field),r.push(new Ec(u.field,"asc"===u.dir?0:1)));return new $c($c.UNKNOWN_ID,this.collectionId,r,zu.empty())}tn(e){for(const r of this.Zt)if(this.nn(r,e))return!0;return!1}nn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function jm(l){var e,r;if(ar(l instanceof Nr||l instanceof Mo),l instanceof Nr){if(l instanceof Xf){const v=(null===(r=null===(e=l.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(C=>Nr.create(l.field,"==",C)))||[];return Mo.create(v,"or")}return l}const u=l.filters.map(v=>jm(v));return Mo.create(u,l.op)}function Gg(l){if(0===l.getFilters().length)return[];const e=X0(jm(l));return ar(Qv(e)),K0(e)||Y0(e)?[e]:e.getFilters()}function K0(l){return l instanceof Nr}function Y0(l){return l instanceof Mo&&Mm(l)}function Qv(l){return K0(l)||Y0(l)||function(r){if(r instanceof Mo&&Nd(r)){for(const u of r.getFilters())if(!K0(u)&&!Y0(u))return!1;return!0}return!1}(l)}function X0(l){if(ar(l instanceof Nr||l instanceof Mo),l instanceof Nr)return l;if(1===l.filters.length)return X0(l.filters[0]);const e=l.filters.map(u=>X0(u));let r=Mo.create(e,l.op);return r=Kg(r),Qv(r)?r:(ar(r instanceof Mo),ar(_u(r)),ar(r.filters.length>1),r.filters.reduce((u,v)=>cp(u,v)))}function cp(l,e){let r;return ar(l instanceof Nr||l instanceof Mo),ar(e instanceof Nr||e instanceof Mo),r=l instanceof Nr?e instanceof Nr?Mo.create([l,e],"and"):Wg(l,e):e instanceof Nr?Wg(e,l):function(v,C){if(ar(v.filters.length>0&&C.filters.length>0),_u(v)&&_u(C))return Fd(v,C.getFilters());const R=Nd(v)?v:C,ue=Nd(v)?C:v,Pe=R.filters.map(tt=>cp(tt,ue));return Mo.create(Pe,"or")}(l,e),Kg(r)}function Wg(l,e){if(_u(e))return Fd(e,l.getFilters());{const r=e.filters.map(u=>cp(l,u));return Mo.create(r,"or")}}function Kg(l){if(ar(l instanceof Nr||l instanceof Mo),l instanceof Nr)return l;const e=l.getFilters();if(1===e.length)return Kg(e[0]);if(Og(l))return l;const r=e.map(v=>Kg(v)),u=[];return r.forEach(v=>{v instanceof Nr?u.push(v):v instanceof Mo&&(v.op===l.op?u.push(...v.filters):u.push(v))}),1===u.length?u[0]:Mo.create(u,l.op)}class rl{constructor(){this.on=new Bh}addToCollectionParentIndex(e,r){return this.on.add(r),Ae.resolve()}getCollectionParents(e,r){return Ae.resolve(this.on.getEntries(r))}addFieldIndex(e,r){return Ae.resolve()}deleteFieldIndex(e,r){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,r){return Ae.resolve()}getDocumentsMatchingTarget(e,r){return Ae.resolve(null)}getIndexType(e,r){return Ae.resolve(0)}getFieldIndexes(e,r){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,r){return Ae.resolve(Kl.min())}getMinOffsetFromCollectionGroup(e,r){return Ae.resolve(Kl.min())}updateCollectionGroup(e,r,u){return Ae.resolve()}updateIndexEntries(e,r){return Ae.resolve()}}class Bh{constructor(){this.index={}}add(e){const r=e.lastSegment(),u=e.popLast(),v=this.index[r]||new mo(Xr.comparator),C=!v.has(u);return this.index[r]=v.add(u),C}has(e){const r=e.lastSegment(),u=e.popLast(),v=this.index[r];return v&&v.has(u)}getEntries(e){return(this.index[e]||new mo(Xr.comparator)).toArray()}}const Zp=new Uint8Array(0);class dp{constructor(e,r){this.databaseId=r,this._n=new Bh,this.an=new Ud(u=>Aa(u),(u,v)=>Cc(u,v)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this._n.has(r)){const u=r.lastSegment(),v=r.popLast();e.addOnCommittedListener(()=>{this._n.add(r)});const C={collectionId:u,parent:yl(v)};return qv(e).put(C)}return Ae.resolve()}getCollectionParents(e,r){const u=[],v=IDBKeyRange.bound([r,""],[ju(r),""],!1,!0);return qv(e).U(v).next(C=>{for(const R of C){if(R.collectionId!==r)break;u.push(xc(R.parent))}return u})}addFieldIndex(e,r){const u=Fl(e),v={indexId:(ue=r).indexId,collectionGroup:ue.collectionGroup,fields:ue.fields.map(Pe=>[Pe.fieldPath.canonicalString(),Pe.kind])};var ue;delete v.indexId;const C=u.add(v);if(r.indexState){const R=Vh(e);return C.next(ue=>{R.put(Ug(ue,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return C.next()}deleteFieldIndex(e,r){const u=Fl(e),v=Vh(e),C=zm(e);return u.delete(r.indexId).next(()=>v.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>C.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Fl(e),u=zm(e),v=Vh(e);return r.j().next(()=>u.j()).next(()=>v.j())}createTargetIndexes(e,r){return Ae.forEach(this.un(r),u=>this.getIndexType(e,u).next(v=>{if(0===v||1===v){const C=new Y_(u).sn();if(null!=C)return this.addFieldIndex(e,C)}}))}getDocumentsMatchingTarget(e,r){const u=zm(e);let v=!0;const C=new Map;return Ae.forEach(this.un(r),R=>this.cn(e,R).next(ue=>{v&&(v=!!ue),C.set(R,ue)})).next(()=>{if(v){let R=sr();const ue=[];return Ae.forEach(C,(Pe,tt)=>{var Vr;Ei("IndexedDbIndexManager",`Using index ${Vr=Pe,`id=${Vr.indexId}|cg=${Vr.collectionGroup}|f=${Vr.fields.map(gs=>`${gs.fieldPath}:${gs.kind}`).join(",")}`} to execute ${Aa(r)}`);const Tt=function(Vr,gs){const vo=Gl(gs);if(void 0===vo)return null;for(const wo of gf(Vr,vo.fieldPath))switch(wo.op){case"array-contains-any":return wo.value.arrayValue.values||[];case"array-contains":return[wo.value]}return null}(tt,Pe),tn=function(Vr,gs){const vo=new Map;for(const wo of Wl(gs))for(const Ea of gf(Vr,wo.fieldPath))switch(Ea.op){case"==":case"in":vo.set(wo.fieldPath.canonicalString(),Ea.value);break;case"not-in":case"!=":return vo.set(wo.fieldPath.canonicalString(),Ea.value),Array.from(vo.values())}return null}(tt,Pe),kn=function(Vr,gs){const vo=[];let wo=!0;for(const Ea of Wl(gs)){const mh=0===Ea.kind?Pg(Vr,Ea.fieldPath,Vr.startAt):Ao(Vr,Ea.fieldPath,Vr.startAt);vo.push(mh.value),wo&&(wo=mh.inclusive)}return new Ld(vo,wo)}(tt,Pe),ti=function(Vr,gs){const vo=[];let wo=!0;for(const Ea of Wl(gs)){const mh=0===Ea.kind?Ao(Vr,Ea.fieldPath,Vr.endAt):Pg(Vr,Ea.fieldPath,Vr.endAt);vo.push(mh.value),wo&&(wo=mh.inclusive)}return new Ld(vo,wo)}(tt,Pe),Ji=this.ln(Pe,tt,kn),Wi=this.ln(Pe,tt,ti),hr=this.hn(Pe,tt,tn),Qr=this.Pn(Pe.indexId,Tt,Ji,kn.inclusive,Wi,ti.inclusive,hr);return Ae.forEach(Qr,Br=>u.G(Br,r.limit).next(Vr=>{Vr.forEach(gs=>{const vo=ir.fromSegments(gs.documentKey);R.has(vo)||(R=R.add(vo),ue.push(vo))})}))}).next(()=>ue)}return Ae.resolve(null)})}un(e){let r=this.an.get(e);return r||(r=0===e.filters.length?[e]:Gg(Mo.create(e.filters,"and")).map(u=>tl(e.path,e.collectionGroup,e.orderBy,u.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,r),r)}Pn(e,r,u,v,C,R,ue){const Pe=(null!=r?r.length:1)*Math.max(u.length,C.length),tt=Pe/(null!=r?r.length:1),Tt=[];for(let tn=0;tn<Pe;++tn){const kn=r?this.In(r[tn/tt]):Zp,ti=this.Tn(e,kn,u[tn%tt],v),Ji=this.En(e,kn,C[tn%tt],R),Wi=ue.map(hr=>this.Tn(e,kn,hr,!0));Tt.push(...this.createRange(ti,Ji,Wi))}return Tt}Tn(e,r,u,v){const C=new sh(e,ir.empty(),r,u);return v?C:C.Ht()}En(e,r,u,v){const C=new sh(e,ir.empty(),r,u);return v?C.Ht():C}cn(e,r){const u=new Y_(r),v=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,v).next(C=>{let R=null;for(const ue of C)u.en(ue)&&(!R||ue.fields.length>R.fields.length)&&(R=ue);return R})}getIndexType(e,r){let u=2;const v=this.un(r);return Ae.forEach(v,C=>this.cn(e,C).next(R=>{R?0!==u&&R.fields.length<function(Pe){let tt=new mo(So.comparator),Tt=!1;for(const tn of Pe.filters)for(const kn of tn.getFlattenedFilters())kn.field.isKeyField()||("array-contains"===kn.op||"array-contains-any"===kn.op?Tt=!0:tt=tt.add(kn.field));for(const tn of Pe.orderBy)tn.field.isKeyField()||(tt=tt.add(tn.field));return tt.size+(Tt?1:0)}(C)&&(u=1):u=0})).next(()=>null!==r.limit&&v.length>1&&2===u?1:u)}dn(e,r){const u=new rh;for(const v of Wl(e)){const C=r.data.field(v.fieldPath);if(null==C)return null;const R=u.jt(v.kind);Su.St.ht(C,R)}return u.Ut()}In(e){const r=new rh;return Su.St.ht(e,r.jt(0)),r.Ut()}An(e,r){const u=new rh;return Su.St.ht(el(this.databaseId,r),u.jt(function(C){const R=Wl(C);return 0===R.length?0:R[R.length-1].kind}(e))),u.Ut()}hn(e,r,u){if(null===u)return[];let v=[];v.push(new rh);let C=0;for(const R of Wl(e)){const ue=u[C++];for(const Pe of v)if(this.Rn(r,R.fieldPath)&&ff(ue))v=this.Vn(v,R,ue);else{const tt=Pe.jt(R.kind);Su.St.ht(ue,tt)}}return this.mn(v)}ln(e,r,u){return this.hn(e,r,u.position)}mn(e){const r=[];for(let u=0;u<e.length;++u)r[u]=e[u].Ut();return r}Vn(e,r,u){const v=[...e],C=[];for(const R of u.arrayValue.values||[])for(const ue of v){const Pe=new rh;Pe.seed(ue.Ut()),Su.St.ht(R,Pe.jt(r.kind)),C.push(Pe)}return C}Rn(e,r){return!!e.filters.find(u=>u instanceof Nr&&u.field.isEqual(r)&&("in"===u.op||"not-in"===u.op))}getFieldIndexes(e,r){const u=Fl(e),v=Vh(e);return(r?u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):u.U()).next(C=>{const R=[];return Ae.forEach(C,ue=>v.get([ue.indexId,this.uid]).next(Pe=>{R.push(function(Tt,tn){const kn=tn?new zu(tn.sequenceNumber,new Kl(sp(tn.readTime),new ir(xc(tn.documentKey)),tn.largestBatchId)):zu.empty(),ti=Tt.fields.map(([Ji,Wi])=>new Ec(So.fromServerFormat(Ji),Wi));return new $c(Tt.indexId,Tt.collectionGroup,ti,kn)}(ue,Pe))})).next(()=>R)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((u,v)=>{const C=u.indexState.sequenceNumber-v.indexState.sequenceNumber;return 0!==C?C:is(u.collectionGroup,v.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,u){const v=Fl(e),C=Vh(e);return this.fn(e).next(R=>v.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(ue=>Ae.forEach(ue,Pe=>C.put(Ug(Pe.indexId,this.uid,R,u)))))}updateIndexEntries(e,r){const u=new Map;return Ae.forEach(r,(v,C)=>{const R=u.get(v.collectionGroup);return(R?Ae.resolve(R):this.getFieldIndexes(e,v.collectionGroup)).next(ue=>(u.set(v.collectionGroup,ue),Ae.forEach(ue,Pe=>this.gn(e,v,Pe).next(tt=>{const Tt=this.pn(C,Pe);return tt.isEqual(Tt)?Ae.resolve():this.yn(e,C,Pe,tt,Tt)}))))})}wn(e,r,u,v){return zm(e).put({indexId:v.indexId,uid:this.uid,arrayValue:v.arrayValue,directionalValue:v.directionalValue,orderedDocumentKey:this.An(u,r.key),documentKey:r.key.path.toArray()})}Sn(e,r,u,v){return zm(e).delete([v.indexId,this.uid,v.arrayValue,v.directionalValue,this.An(u,r.key),r.key.path.toArray()])}gn(e,r,u){const v=zm(e);let C=new mo(Fh);return v.J({index:"documentKeyIndex",range:IDBKeyRange.only([u.indexId,this.uid,this.An(u,r)])},(R,ue)=>{C=C.add(new sh(u.indexId,r,ue.arrayValue,ue.directionalValue))}).next(()=>C)}pn(e,r){let u=new mo(Fh);const v=this.dn(r,e);if(null==v)return u;const C=Gl(r);if(null!=C){const R=e.data.field(C.fieldPath);if(ff(R))for(const ue of R.arrayValue.values||[])u=u.add(new sh(r.indexId,e.key,this.In(ue),v))}else u=u.add(new sh(r.indexId,e.key,Zp,v));return u}yn(e,r,u,v,C){Ei("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const R=[];return function(Pe,tt,Tt,tn,kn){const ti=Pe.getIterator(),Ji=tt.getIterator();let Wi=Kc(ti),hr=Kc(Ji);for(;Wi||hr;){let Qr=!1,Br=!1;if(Wi&&hr){const Vr=Tt(Wi,hr);Vr<0?Br=!0:Vr>0&&(Qr=!0)}else null!=Wi?Br=!0:Qr=!0;Qr?(tn(hr),hr=Kc(Ji)):Br?(kn(Wi),Wi=Kc(ti)):(Wi=Kc(ti),hr=Kc(Ji))}}(v,C,Fh,ue=>{R.push(this.wn(e,r,u,ue))},ue=>{R.push(this.Sn(e,r,u,ue))}),Ae.waitFor(R)}fn(e){let r=1;return Vh(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(u,v,C)=>{C.done(),r=v.sequenceNumber+1}).next(()=>r)}createRange(e,r,u){u=u.sort((R,ue)=>Fh(R,ue)).filter((R,ue,Pe)=>!ue||0!==Fh(R,Pe[ue-1]));const v=[];v.push(e);for(const R of u){const ue=Fh(R,e),Pe=Fh(R,r);if(0===ue)v[0]=e.Ht();else if(ue>0&&Pe<0)v.push(R),v.push(R.Ht());else if(Pe>0)break}v.push(r);const C=[];for(let R=0;R<v.length;R+=2){if(this.bn(v[R],v[R+1]))return[];C.push(IDBKeyRange.bound([v[R].indexId,this.uid,v[R].arrayValue,v[R].directionalValue,Zp,[]],[v[R+1].indexId,this.uid,v[R+1].arrayValue,v[R+1].directionalValue,Zp,[]]))}return C}bn(e,r){return Fh(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Yg)}getMinOffset(e,r){return Ae.mapArray(this.un(r),u=>this.cn(e,u).next(v=>v||Zi())).next(Yg)}}function qv(l){return Ls(l,"collectionParents")}function zm(l){return Ls(l,"indexEntries")}function Fl(l){return Ls(l,"indexConfiguration")}function Vh(l){return Ls(l,"indexState")}function Yg(l){ar(0!==l.length);let e=l[0].indexState.offset,r=e.largestBatchId;for(let u=1;u<l.length;u++){const v=l[u].indexState.offset;Cm(v,e)<0&&(e=v),r<v.largestBatchId&&(r=v.largestBatchId)}return new Kl(e.readTime,e.documentKey,r)}const Jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bl{constructor(e,r,u){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=u}static withCacheSize(e){return new Bl(e,Bl.DEFAULT_COLLECTION_PERCENTILE,Bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zv(l,e,r){const u=l.store("mutations"),v=l.store("documentMutations"),C=[],R=IDBKeyRange.only(r.batchId);let ue=0;const Pe=u.J({range:R},(Tt,tn,kn)=>(ue++,kn.delete()));C.push(Pe.next(()=>{ar(1===ue)}));const tt=[];for(const Tt of r.mutations){const tn=Wc(e,Tt.key.path,r.batchId);C.push(v.delete(tn)),tt.push(Tt.key)}return Ae.waitFor(C).next(()=>tt)}function Hm(l){if(!l)return 0;let e;if(l.document)e=l.document;else if(l.unknownDocument)e=l.unknownDocument;else{if(!l.noDocument)throw Zi();e=l.noDocument}return JSON.stringify(e).length}Bl.DEFAULT_COLLECTION_PERCENTILE=10,Bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bl.DEFAULT=new Bl(41943040,Bl.DEFAULT_COLLECTION_PERCENTILE,Bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bl.DISABLED=new Bl(-1,0,0);class em{constructor(e,r,u,v){this.userId=e,this.serializer=r,this.indexManager=u,this.referenceDelegate=v,this.Dn={}}static ct(e,r,u,v){ar(""!==e.uid);const C=e.isAuthenticated()?e.uid:"";return new em(C,r,u,v)}checkEmpty(e){let r=!0;const u=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Du(e).J({index:"userMutationsIndex",range:u},(v,C,R)=>{r=!1,R.done()}).next(()=>r)}addMutationBatch(e,r,u,v){const C=Uh(e),R=Du(e);return R.add({}).next(ue=>{ar("number"==typeof ue);const Pe=new eh(ue,r,u,v),tt=function(ti,Ji,Wi){const hr=Wi.baseMutations.map(Br=>wf(ti.ut,Br)),Qr=Wi.mutations.map(Br=>wf(ti.ut,Br));return{userId:Ji,batchId:Wi.batchId,localWriteTimeMs:Wi.localWriteTime.toMillis(),baseMutations:hr,mutations:Qr}}(this.serializer,this.userId,Pe),Tt=[];let tn=new mo((kn,ti)=>is(kn.canonicalString(),ti.canonicalString()));for(const kn of v){const ti=Wc(this.userId,kn.key.path,ue);tn=tn.add(kn.key.path.popLast()),Tt.push(R.put(tt)),Tt.push(C.put(ti,mu))}return tn.forEach(kn=>{Tt.push(this.indexManager.addToCollectionParentIndex(e,kn))}),e.addOnCommittedListener(()=>{this.Dn[ue]=Pe.keys()}),Ae.waitFor(Tt).next(()=>Pe)})}lookupMutationBatch(e,r){return Du(e).get(r).next(u=>u?(ar(u.userId===this.userId),op(this.serializer,u)):null)}Cn(e,r){return this.Dn[r]?Ae.resolve(this.Dn[r]):this.lookupMutationBatch(e,r).next(u=>{if(u){const v=u.keys();return this.Dn[r]=v,v}return null})}getNextMutationBatchAfterBatchId(e,r){const u=r+1,v=IDBKeyRange.lowerBound([this.userId,u]);let C=null;return Du(e).J({index:"userMutationsIndex",range:v},(R,ue,Pe)=>{ue.userId===this.userId&&(ar(ue.batchId>=u),C=op(this.serializer,ue)),Pe.done()}).next(()=>C)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let u=-1;return Du(e).J({index:"userMutationsIndex",range:r,reverse:!0},(v,C,R)=>{u=C.batchId,R.done()}).next(()=>u)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Du(e).U("userMutationsIndex",r).next(u=>u.map(v=>op(this.serializer,v)))}getAllMutationBatchesAffectingDocumentKey(e,r){const u=Gc(this.userId,r.path),v=IDBKeyRange.lowerBound(u),C=[];return Uh(e).J({range:v},(R,ue,Pe)=>{const[tt,Tt,tn]=R,kn=xc(Tt);if(tt===this.userId&&r.path.isEqual(kn))return Du(e).get(tn).next(ti=>{if(!ti)throw Zi();ar(ti.userId===this.userId),C.push(op(this.serializer,ti))});Pe.done()}).next(()=>C)}getAllMutationBatchesAffectingDocumentKeys(e,r){let u=new mo(is);const v=[];return r.forEach(C=>{const R=Gc(this.userId,C.path),ue=IDBKeyRange.lowerBound(R),Pe=Uh(e).J({range:ue},(tt,Tt,tn)=>{const[kn,ti,Ji]=tt,Wi=xc(ti);kn===this.userId&&C.path.isEqual(Wi)?u=u.add(Ji):tn.done()});v.push(Pe)}),Ae.waitFor(v).next(()=>this.vn(e,u))}getAllMutationBatchesAffectingQuery(e,r){const u=r.path,v=u.length+1,C=Gc(this.userId,u),R=IDBKeyRange.lowerBound(C);let ue=new mo(is);return Uh(e).J({range:R},(Pe,tt,Tt)=>{const[tn,kn,ti]=Pe,Ji=xc(kn);tn===this.userId&&u.isPrefixOf(Ji)?Ji.length===v&&(ue=ue.add(ti)):Tt.done()}).next(()=>this.vn(e,ue))}vn(e,r){const u=[],v=[];return r.forEach(C=>{v.push(Du(e).get(C).next(R=>{if(null===R)throw Zi();ar(R.userId===this.userId),u.push(op(this.serializer,R))}))}),Ae.waitFor(v).next(()=>u)}removeMutationBatch(e,r){return Zv(e._e,this.userId,r).next(u=>(e.addOnCommittedListener(()=>{this.Fn(r.batchId)}),Ae.forEach(u,v=>this.referenceDelegate.markPotentiallyOrphaned(e,v))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Ae.resolve();const u=IDBKeyRange.lowerBound(function(R){return[R]}(this.userId)),v=[];return Uh(e).J({range:u},(C,R,ue)=>{if(C[0]===this.userId){const Pe=xc(C[1]);v.push(Pe)}else ue.done()}).next(()=>{ar(0===v.length)})})}containsKey(e,r){return Xg(e,this.userId,r)}Mn(e){return Qg(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xg(l,e,r){const u=Gc(e,r.path),v=u[1],C=IDBKeyRange.lowerBound(u);let R=!1;return Uh(l).J({range:C,H:!0},(ue,Pe,tt)=>{const[Tt,tn,kn]=ue;Tt===e&&tn===v&&(R=!0),tt.done()}).next(()=>R)}function Du(l){return Ls(l,"mutations")}function Uh(l){return Ls(l,"documentMutations")}function Qg(l){return Ls(l,"mutationQueues")}class up{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new up(0)}static Nn(){return new up(-1)}}class Q0{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Ln(e).next(r=>{const u=new up(r.highestTargetId);return r.highestTargetId=u.next(),this.Bn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(r=>cr.fromTimestamp(new ls(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,u){return this.Ln(e).next(v=>(v.highestListenSequenceNumber=r,u&&(v.lastRemoteSnapshotVersion=u.toTimestamp()),r>v.highestListenSequenceNumber&&(v.highestListenSequenceNumber=r),this.Bn(e,v)))}addTargetData(e,r){return this.kn(e,r).next(()=>this.Ln(e).next(u=>(u.targetCount+=1,this.qn(r,u),this.Bn(e,u))))}updateTargetData(e,r){return this.kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>hp(e).delete(r.targetId)).next(()=>this.Ln(e)).next(u=>(ar(u.targetCount>0),u.targetCount-=1,this.Bn(e,u)))}removeTargets(e,r,u){let v=0;const C=[];return hp(e).J((R,ue)=>{const Pe=ap(ue);Pe.sequenceNumber<=r&&null===u.get(Pe.targetId)&&(v++,C.push(this.removeTargetData(e,Pe)))}).next(()=>Ae.waitFor(C)).next(()=>v)}forEachTarget(e,r){return hp(e).J((u,v)=>{const C=ap(v);r(C)})}Ln(e){return jh(e).get("targetGlobalKey").next(r=>(ar(null!==r),r))}Bn(e,r){return jh(e).put("targetGlobalKey",r)}kn(e,r){return hp(e).put(Yv(this.serializer,r))}qn(e,r){let u=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,u=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,u=!0),u}getTargetCount(e){return this.Ln(e).next(r=>r.targetCount)}getTargetData(e,r){const u=Aa(r),v=IDBKeyRange.bound([u,Number.NEGATIVE_INFINITY],[u,Number.POSITIVE_INFINITY]);let C=null;return hp(e).J({range:v,index:"queryTargetsIndex"},(R,ue,Pe)=>{const tt=ap(ue);Cc(r,tt.target)&&(C=tt,Pe.done())}).next(()=>C)}addMatchingKeys(e,r,u){const v=[],C=Cf(e);return r.forEach(R=>{const ue=yl(R.path);v.push(C.put({targetId:u,path:ue})),v.push(this.referenceDelegate.addReference(e,u,R))}),Ae.waitFor(v)}removeMatchingKeys(e,r,u){const v=Cf(e);return Ae.forEach(r,C=>{const R=yl(C.path);return Ae.waitFor([v.delete([u,R]),this.referenceDelegate.removeReference(e,u,C)])})}removeMatchingKeysForTargetId(e,r){const u=Cf(e),v=IDBKeyRange.bound([r],[r+1],!1,!0);return u.delete(v)}getMatchingKeysForTargetId(e,r){const u=IDBKeyRange.bound([r],[r+1],!1,!0),v=Cf(e);let C=sr();return v.J({range:u,H:!0},(R,ue,Pe)=>{const tt=xc(R[1]),Tt=new ir(tt);C=C.add(Tt)}).next(()=>C)}containsKey(e,r){const u=yl(r.path),v=IDBKeyRange.bound([u],[ju(u)],!1,!0);let C=0;return Cf(e).J({index:"documentTargetsIndex",H:!0,range:v},([R,ue],Pe,tt)=>{0!==R&&(C++,tt.done())}).next(()=>C>0)}ot(e,r){return hp(e).get(r).next(u=>u?ap(u):null)}}function hp(l){return Ls(l,"targets")}function jh(l){return Ls(l,"targetGlobal")}function Cf(l){return Ls(l,"targetDocuments")}function Jv([l,e],[r,u]){const v=is(l,r);return 0===v?is(e,u):v}class Hb{constructor(e){this.Qn=e,this.buffer=new mo(Jv),this.Kn=0}$n(){return++this.Kn}Un(e){const r=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(r);else{const u=this.buffer.last();Jv(r,u)<0&&(this.buffer=this.buffer.delete(u).add(r))}}get maxValue(){return this.buffer.last()[0]}}class $m{constructor(e,r,u){this.garbageCollector=e,this.asyncQueue=r,this.localStore=u,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var r=this;Ei("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Be.A)(function*(){r.Wn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(u){os(u)?Ei("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield ie(u)}yield r.Gn(3e5)}))}}class zh{constructor(e,r){this.zn=e,this.params=r}calculateTargetCount(e,r){return this.zn.jn(e).next(u=>Math.floor(r/100*u))}nthSequenceNumber(e,r){if(0===r)return Ae.resolve(nn.oe);const u=new Hb(r);return this.zn.forEachTarget(e,v=>u.Un(v.sequenceNumber)).next(()=>this.zn.Hn(e,v=>u.Un(v))).next(()=>u.maxValue)}removeTargets(e,r,u){return this.zn.removeTargets(e,r,u)}removeOrphanedDocuments(e,r){return this.zn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ei("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(Jp)):this.getCacheSize(e).next(u=>u<this.params.cacheSizeCollectionThreshold?(Ei("LruGarbageCollector",`Garbage collection skipped; Cache size ${u} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jp):this.Jn(e,r))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,r){let u,v,C,R,ue,Pe,tt;const Tt=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(tn=>(tn>this.params.maximumSequenceNumbersToCollect?(Ei("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${tn}`),v=this.params.maximumSequenceNumbersToCollect):v=tn,R=Date.now(),this.nthSequenceNumber(e,v))).next(tn=>(u=tn,ue=Date.now(),this.removeTargets(e,u,r))).next(tn=>(C=tn,Pe=Date.now(),this.removeOrphanedDocuments(e,u))).next(tn=>(tt=Date.now(),Ir()<=J.$b.DEBUG&&Ei("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${R-Tt}ms\n\tDetermined least recently used ${v} in `+(ue-R)+`ms\n\tRemoved ${C} targets in `+(Pe-ue)+`ms\n\tRemoved ${tn} documents in `+(tt-Pe)+`ms\nTotal Duration: ${tt-Tt}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:v,targetsRemoved:C,documentsRemoved:tn})))}}class X_{constructor(e,r){this.db=e,this.garbageCollector=function q0(l,e){return new zh(l,e)}(this,r)}jn(e){const r=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(u=>r.next(v=>u+v))}Yn(e){let r=0;return this.Hn(e,u=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Hn(e,r){return this.Zn(e,(u,v)=>r(v))}addReference(e,r,u){return Ic(e,u)}removeReference(e,r,u){return Ic(e,u)}removeTargets(e,r,u){return this.db.getTargetCache().removeTargets(e,r,u)}markPotentiallyOrphaned(e,r){return Ic(e,r)}Xn(e,r){return function(v,C){let R=!1;return Qg(v).Y(ue=>Xg(v,ue,C).next(Pe=>(Pe&&(R=!0),Ae.resolve(!Pe)))).next(()=>R)}(e,r)}removeOrphanedDocuments(e,r){const u=this.db.getRemoteDocumentCache().newChangeBuffer(),v=[];let C=0;return this.Zn(e,(R,ue)=>{if(ue<=r){const Pe=this.Xn(e,R).next(tt=>{if(!tt)return C++,u.getEntry(e,R).next(()=>(u.removeEntry(R,cr.min()),Cf(e).delete([0,yl(R.path)])))});v.push(Pe)}}).next(()=>Ae.waitFor(v)).next(()=>u.apply(e)).next(()=>C)}removeTarget(e,r){const u=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,u)}updateLimboDocument(e,r){return Ic(e,r)}Zn(e,r){const u=Cf(e);let v,C=nn.oe;return u.J({index:"documentTargetsIndex"},([R,ue],{path:Pe,sequenceNumber:tt})=>{0===R?(C!==nn.oe&&r(new ir(xc(v)),C),C=tt,v=Pe):C=nn.oe}).next(()=>{C!==nn.oe&&r(new ir(xc(v)),C)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ic(l,e){return Cf(l).put((v=l.currentSequenceNumber,{targetId:0,path:yl(e.path),sequenceNumber:v}));var v}class Iu{constructor(){this.changes=new Ud(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,cs.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const u=this.changes.get(r);return void 0!==u?Ae.resolve(u):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Z0{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,u){return fp(e).put(u)}removeEntry(e,r,u){return fp(e).delete(function(C,R){const ue=C.path.toArray();return[ue.slice(0,ue.length-2),ue[ue.length-2],ih(R),ue[ue.length-1]]}(r,u))}updateMetadata(e,r){return this.getMetadata(e).next(u=>(u.byteSize+=r,this.er(e,u)))}getEntry(e,r){let u=cs.newInvalidDocument(r);return fp(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ec(r))},(v,C)=>{u=this.tr(r,C)}).next(()=>u)}nr(e,r){let u={size:0,document:cs.newInvalidDocument(r)};return fp(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ec(r))},(v,C)=>{u={document:this.tr(r,C),size:Hm(C)}}).next(()=>u)}getEntries(e,r){let u=wl();return this.rr(e,r,(v,C)=>{const R=this.tr(v,C);u=u.insert(v,R)}).next(()=>u)}ir(e,r){let u=wl(),v=new wr(ir.comparator);return this.rr(e,r,(C,R)=>{const ue=this.tr(C,R);u=u.insert(C,ue),v=v.insert(C,Hm(R))}).next(()=>({documents:u,sr:v}))}rr(e,r,u){if(r.isEmpty())return Ae.resolve();let v=new mo(Tf);r.forEach(Pe=>v=v.add(Pe));const C=IDBKeyRange.bound(ec(v.first()),ec(v.last())),R=v.getIterator();let ue=R.getNext();return fp(e).J({index:"documentKeyIndex",range:C},(Pe,tt,Tt)=>{const tn=ir.fromSegments([...tt.prefixPath,tt.collectionGroup,tt.documentId]);for(;ue&&Tf(ue,tn)<0;)u(ue,null),ue=R.getNext();ue&&ue.isEqual(tn)&&(u(ue,tt),ue=R.hasNext()?R.getNext():null),ue?Tt.$(ec(ue)):Tt.done()}).next(()=>{for(;ue;)u(ue,null),ue=R.hasNext()?R.getNext():null})}getDocumentsMatchingQuery(e,r,u,v,C){const R=r.path,ue=[R.popLast().toArray(),R.lastSegment(),ih(u.readTime),u.documentKey.path.isEmpty()?"":u.documentKey.path.lastSegment()],Pe=[R.popLast().toArray(),R.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fp(e).U(IDBKeyRange.bound(ue,Pe,!0)).next(tt=>{C?.incrementDocumentReadCount(tt.length);let Tt=wl();for(const tn of tt){const kn=this.tr(ir.fromSegments(tn.prefixPath.concat(tn.collectionGroup,tn.documentId)),tn);kn.isFoundDocument()&&(ba(r,kn)||v.has(kn.key))&&(Tt=Tt.insert(kn.key,kn))}return Tt})}getAllFromCollectionGroup(e,r,u,v){let C=wl();const R=pp(r,u),ue=pp(r,Kl.max());return fp(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(R,ue,!0)},(Pe,tt,Tt)=>{const tn=this.tr(ir.fromSegments(tt.prefixPath.concat(tt.collectionGroup,tt.documentId)),tt);C=C.insert(tn.key,tn),C.size===v&&Tt.done()}).next(()=>C)}newChangeBuffer(e){return new J0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return e_(e).get("remoteDocumentGlobalKey").next(r=>(ar(!!r),r))}er(e,r){return e_(e).put("remoteDocumentGlobalKey",r)}tr(e,r){if(r){const u=function Vg(l,e){let r;if(e.document)r=th(l.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const u=ir.fromSegments(e.noDocument.path),v=sp(e.noDocument.readTime);r=cs.newNoDocument(u,v),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Zi();{const u=ir.fromSegments(e.unknownDocument.path),v=sp(e.unknownDocument.version);r=cs.newUnknownDocument(u,v)}}return e.readTime&&r.setReadTime(function(v){const C=new ls(v[0],v[1]);return cr.fromTimestamp(C)}(e.readTime)),r}(this.serializer,r);if(!u.isNoDocument()||!u.version.isEqual(cr.min()))return u}return cs.newInvalidDocument(e)}}function eb(l){return new Z0(l)}class J0 extends Iu{constructor(e,r){super(),this._r=e,this.trackRemovals=r,this.ar=new Ud(u=>u.toString(),(u,v)=>u.isEqual(v))}applyChanges(e){const r=[];let u=0,v=new mo((C,R)=>is(C.canonicalString(),R.canonicalString()));return this.changes.forEach((C,R)=>{const ue=this.ar.get(C);if(r.push(this._r.removeEntry(e,C,ue.readTime)),R.isValidDocument()){const Pe=Xp(this._r.serializer,R);v=v.add(C.path.popLast());const tt=Hm(Pe);u+=tt-ue.size,r.push(this._r.addEntry(e,C,Pe))}else if(u-=ue.size,this.trackRemovals){const Pe=Xp(this._r.serializer,R.convertToNoDocument(cr.min()));r.push(this._r.addEntry(e,C,Pe))}}),v.forEach(C=>{r.push(this._r.indexManager.addToCollectionParentIndex(e,C))}),r.push(this._r.updateMetadata(e,u)),Ae.waitFor(r)}getFromCache(e,r){return this._r.nr(e,r).next(u=>(this.ar.set(r,{size:u.size,readTime:u.document.readTime}),u.document))}getAllFromCache(e,r){return this._r.ir(e,r).next(({documents:u,sr:v})=>(v.forEach((C,R)=>{this.ar.set(C,{size:R,readTime:u.get(C).readTime})}),u))}}function e_(l){return Ls(l,"remoteDocumentGlobal")}function fp(l){return Ls(l,"remoteDocumentsV14")}function ec(l){const e=l.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pp(l,e){const r=e.documentKey.path.toArray();return[l,ih(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Tf(l,e){const r=l.path.toArray(),u=e.path.toArray();let v=0;for(let C=0;C<r.length-2&&C<u.length-2;++C)if(v=is(r[C],u[C]),v)return v;return v=is(r.length,u.length),v||(v=is(r[r.length-2],u[u.length-2]),v||is(r[r.length-1],u[u.length-1]))}class qg{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Q_{constructor(e,r,u,v){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=u,this.indexManager=v}getDocument(e,r){let u=null;return this.documentOverlayCache.getOverlay(e,r).next(v=>(u=v,this.remoteDocumentCache.getEntry(e,r))).next(v=>(null!==u&&yf(u.mutation,v,Ql.empty(),ls.now()),v))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(u=>this.getLocalViewOfDocuments(e,u,sr()).next(()=>u))}getLocalViewOfDocuments(e,r,u=sr()){const v=Rl();return this.populateOverlays(e,v,r).next(()=>this.computeViews(e,r,v,u).next(C=>{let R=_f();return C.forEach((ue,Pe)=>{R=R.insert(ue,Pe.overlayedDocument)}),R}))}getOverlayedDocuments(e,r){const u=Rl();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,sr()))}populateOverlays(e,r,u){const v=[];return u.forEach(C=>{r.has(C)||v.push(C)}),this.documentOverlayCache.getOverlays(e,v).next(C=>{C.forEach((R,ue)=>{r.set(R,ue)})})}computeViews(e,r,u,v){let C=wl();const R=Ah(),ue=Ah();return r.forEach((Pe,tt)=>{const Tt=u.get(tt.key);v.has(tt.key)&&(void 0===Tt||Tt.mutation instanceof jr)?C=C.insert(tt.key,tt):void 0!==Tt?(R.set(tt.key,Tt.mutation.getFieldMask()),yf(Tt.mutation,tt,Tt.mutation.getFieldMask(),ls.now())):R.set(tt.key,Ql.empty())}),this.recalculateAndSaveOverlays(e,C).next(Pe=>(Pe.forEach((tt,Tt)=>R.set(tt,Tt)),r.forEach((tt,Tt)=>{var tn;return ue.set(tt,new qg(Tt,null!==(tn=R.get(tt))&&void 0!==tn?tn:null))}),ue))}recalculateAndSaveOverlays(e,r){const u=Ah();let v=new wr((R,ue)=>R-ue),C=sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(R=>{for(const ue of R)ue.keys().forEach(Pe=>{const tt=r.get(Pe);if(null===tt)return;let Tt=u.get(Pe)||Ql.empty();Tt=ue.applyToLocalView(tt,Tt),u.set(Pe,Tt);const tn=(v.get(ue.batchId)||sr()).add(Pe);v=v.insert(ue.batchId,tn)})}).next(()=>{const R=[],ue=v.getReverseIterator();for(;ue.hasNext();){const Pe=ue.getNext(),tt=Pe.key,Tt=Pe.value,tn=Qu();Tt.forEach(kn=>{if(!C.has(kn)){const ti=Lm(r.get(kn),u.get(kn));null!==ti&&tn.set(kn,ti),C=C.add(kn)}}),R.push(this.documentOverlayCache.saveOverlays(e,tt,tn))}return Ae.waitFor(R)}).next(()=>u)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(u=>this.recalculateAndSaveOverlays(e,u))}getDocumentsMatchingQuery(e,r,u,v){return ir.isDocumentKey((R=r).path)&&null===R.collectionGroup&&0===R.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):cc(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,u,v):this.getDocumentsMatchingCollectionQuery(e,r,u,v);var R}getNextDocuments(e,r,u,v){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,u,v).next(C=>{const R=v-C.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,u.largestBatchId,v-C.size):Ae.resolve(Rl());let ue=-1,Pe=C;return R.next(tt=>Ae.forEach(tt,(Tt,tn)=>(ue<tn.largestBatchId&&(ue=tn.largestBatchId),C.get(Tt)?Ae.resolve():this.remoteDocumentCache.getEntry(e,Tt).next(kn=>{Pe=Pe.insert(Tt,kn)}))).next(()=>this.populateOverlays(e,tt,C)).next(()=>this.computeViews(e,Pe,tt,sr())).next(Tt=>({batchId:ue,changes:vf(Tt)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ir(r)).next(u=>{let v=_f();return u.isFoundDocument()&&(v=v.insert(u.key,u)),v})}getDocumentsMatchingCollectionGroupQuery(e,r,u,v){const C=r.collectionGroup;let R=_f();return this.indexManager.getCollectionParents(e,C).next(ue=>Ae.forEach(ue,Pe=>{const tt=(tn=r,kn=Pe.child(C),new Ts(kn,null,tn.explicitOrderBy.slice(),tn.filters.slice(),tn.limit,tn.limitType,tn.startAt,tn.endAt));var tn,kn;return this.getDocumentsMatchingCollectionQuery(e,tt,u,v).next(Tt=>{Tt.forEach((tn,kn)=>{R=R.insert(tn,kn)})})}).next(()=>R))}getDocumentsMatchingCollectionQuery(e,r,u,v){let C;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,u.largestBatchId).next(R=>(C=R,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,u,C,v))).next(R=>{C.forEach((Pe,tt)=>{const Tt=tt.getKey();null===R.get(Tt)&&(R=R.insert(Tt,cs.newInvalidDocument(Tt)))});let ue=_f();return R.forEach((Pe,tt)=>{const Tt=C.get(Pe);void 0!==Tt&&yf(Tt.mutation,tt,Ql.empty(),ls.now()),ba(r,tt)&&(ue=ue.insert(Pe,tt))}),ue})}}class $b{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,r){return Ae.resolve(this.ur.get(r))}saveBundleMetadata(e,r){return this.ur.set(r.id,{id:(v=r).id,version:v.version,createTime:Ns(v.createTime)}),Ae.resolve();var v}getNamedQuery(e,r){return Ae.resolve(this.cr.get(r))}saveNamedQuery(e,r){return this.cr.set(r.name,{name:(v=r).name,query:K_(v.bundledQuery),readTime:Ns(v.readTime)}),Ae.resolve();var v}}class Gb{constructor(){this.overlays=new wr(ir.comparator),this.lr=new Map}getOverlay(e,r){return Ae.resolve(this.overlays.get(r))}getOverlays(e,r){const u=Rl();return Ae.forEach(r,v=>this.getOverlay(e,v).next(C=>{null!==C&&u.set(v,C)})).next(()=>u)}saveOverlays(e,r,u){return u.forEach((v,C)=>{this.lt(e,r,C)}),Ae.resolve()}removeOverlaysForBatchId(e,r,u){const v=this.lr.get(u);return void 0!==v&&(v.forEach(C=>this.overlays=this.overlays.remove(C)),this.lr.delete(u)),Ae.resolve()}getOverlaysForCollection(e,r,u){const v=Rl(),C=r.length+1,R=new ir(r.child("")),ue=this.overlays.getIteratorFrom(R);for(;ue.hasNext();){const Pe=ue.getNext().value,tt=Pe.getKey();if(!r.isPrefixOf(tt.path))break;tt.path.length===C&&Pe.largestBatchId>u&&v.set(Pe.getKey(),Pe)}return Ae.resolve(v)}getOverlaysForCollectionGroup(e,r,u,v){let C=new wr((tt,Tt)=>tt-Tt);const R=this.overlays.getIterator();for(;R.hasNext();){const tt=R.getNext().value;if(tt.getKey().getCollectionGroup()===r&&tt.largestBatchId>u){let Tt=C.get(tt.largestBatchId);null===Tt&&(Tt=Rl(),C=C.insert(tt.largestBatchId,Tt)),Tt.set(tt.getKey(),tt)}}const ue=Rl(),Pe=C.getIterator();for(;Pe.hasNext()&&(Pe.getNext().value.forEach((tt,Tt)=>ue.set(tt,Tt)),!(ue.size()>=v)););return Ae.resolve(ue)}lt(e,r,u){const v=this.overlays.get(u.key);if(null!==v){const R=this.lr.get(v.largestBatchId).delete(u.key);this.lr.set(v.largestBatchId,R)}this.overlays=this.overlays.insert(u.key,new Fg(r,u));let C=this.lr.get(r);void 0===C&&(C=sr(),this.lr.set(r,C)),this.lr.set(r,C.add(u.key))}}class Gm{constructor(){this.hr=new mo(Sl.Pr),this.Ir=new mo(Sl.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,r){const u=new Sl(e,r);this.hr=this.hr.add(u),this.Ir=this.Ir.add(u)}Er(e,r){e.forEach(u=>this.addReference(u,r))}removeReference(e,r){this.dr(new Sl(e,r))}Ar(e,r){e.forEach(u=>this.removeReference(u,r))}Rr(e){const r=new ir(new Xr([])),u=new Sl(r,e),v=new Sl(r,e+1),C=[];return this.Ir.forEachInRange([u,v],R=>{this.dr(R),C.push(R.key)}),C}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const r=new ir(new Xr([])),u=new Sl(r,e),v=new Sl(r,e+1);let C=sr();return this.Ir.forEachInRange([u,v],R=>{C=C.add(R.key)}),C}containsKey(e){const r=new Sl(e,0),u=this.hr.firstAfterOrEqual(r);return null!==u&&e.isEqual(u.key)}}class Sl{constructor(e,r){this.key=e,this.gr=r}static Pr(e,r){return ir.comparator(e.key,r.key)||is(e.gr,r.gr)}static Tr(e,r){return is(e.gr,r.gr)||ir.comparator(e.key,r.key)}}class tb{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.pr=1,this.yr=new mo(Sl.Pr)}checkEmpty(e){return Ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,u,v){const C=this.pr;this.pr++;const R=new eh(C,r,u,v);this.mutationQueue.push(R);for(const ue of v)this.yr=this.yr.add(new Sl(ue.key,C)),this.indexManager.addToCollectionParentIndex(e,ue.key.path.popLast());return Ae.resolve(R)}lookupMutationBatch(e,r){return Ae.resolve(this.wr(r))}getNextMutationBatchAfterBatchId(e,r){const v=this.Sr(r+1),C=v<0?0:v;return Ae.resolve(this.mutationQueue.length>C?this.mutationQueue[C]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const u=new Sl(r,0),v=new Sl(r,Number.POSITIVE_INFINITY),C=[];return this.yr.forEachInRange([u,v],R=>{const ue=this.wr(R.gr);C.push(ue)}),Ae.resolve(C)}getAllMutationBatchesAffectingDocumentKeys(e,r){let u=new mo(is);return r.forEach(v=>{const C=new Sl(v,0),R=new Sl(v,Number.POSITIVE_INFINITY);this.yr.forEachInRange([C,R],ue=>{u=u.add(ue.gr)})}),Ae.resolve(this.br(u))}getAllMutationBatchesAffectingQuery(e,r){const u=r.path,v=u.length+1;let C=u;ir.isDocumentKey(C)||(C=C.child(""));const R=new Sl(new ir(C),0);let ue=new mo(is);return this.yr.forEachWhile(Pe=>{const tt=Pe.key.path;return!!u.isPrefixOf(tt)&&(tt.length===v&&(ue=ue.add(Pe.gr)),!0)},R),Ae.resolve(this.br(ue))}br(e){const r=[];return e.forEach(u=>{const v=this.wr(u);null!==v&&r.push(v)}),r}removeMutationBatch(e,r){ar(0===this.Dr(r.batchId,"removed")),this.mutationQueue.shift();let u=this.yr;return Ae.forEach(r.mutations,v=>{const C=new Sl(v.key,r.batchId);return u=u.delete(C),this.referenceDelegate.markPotentiallyOrphaned(e,v.key)}).next(()=>{this.yr=u})}Fn(e){}containsKey(e,r){const u=new Sl(r,0),v=this.yr.firstAfterOrEqual(u);return Ae.resolve(r.isEqual(v&&v.key))}performConsistencyCheck(e){return Ae.resolve()}Dr(e,r){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const r=this.Sr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class q_{constructor(e){this.Cr=e,this.docs=new wr(ir.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const u=r.key,v=this.docs.get(u),C=v?v.size:0,R=this.Cr(r);return this.docs=this.docs.insert(u,{document:r.mutableCopy(),size:R}),this.size+=R-C,this.indexManager.addToCollectionParentIndex(e,u.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const u=this.docs.get(r);return Ae.resolve(u?u.document.mutableCopy():cs.newInvalidDocument(r))}getEntries(e,r){let u=wl();return r.forEach(v=>{const C=this.docs.get(v);u=u.insert(v,C?C.document.mutableCopy():cs.newInvalidDocument(v))}),Ae.resolve(u)}getDocumentsMatchingQuery(e,r,u,v){let C=wl();const R=r.path,ue=new ir(R.child("")),Pe=this.docs.getIteratorFrom(ue);for(;Pe.hasNext();){const{key:tt,value:{document:Tt}}=Pe.getNext();if(!R.isPrefixOf(tt.path))break;tt.path.length>R.length+1||Cm(Hu(Tt),u)<=0||(v.has(Tt.key)||ba(r,Tt))&&(C=C.insert(Tt.key,Tt.mutableCopy()))}return Ae.resolve(C)}getAllFromCollectionGroup(e,r,u,v){Zi()}vr(e,r){return Ae.forEach(this.docs,u=>r(u))}newChangeBuffer(e){return new t_(this)}getSize(e){return Ae.resolve(this.size)}}class t_ extends Iu{constructor(e){super(),this._r=e}applyChanges(e){const r=[];return this.changes.forEach((u,v)=>{v.isValidDocument()?r.push(this._r.addEntry(e,v)):this._r.removeEntry(u)}),Ae.waitFor(r)}getFromCache(e,r){return this._r.getEntry(e,r)}getAllFromCache(e,r){return this._r.getEntries(e,r)}}class Zc{constructor(e){this.persistence=e,this.Fr=new Ud(r=>Aa(r),Cc),this.lastRemoteSnapshotVersion=cr.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Gm,this.targetCount=0,this.Nr=up.On()}forEachTarget(e,r){return this.Fr.forEach((u,v)=>r(v)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,r,u){return u&&(this.lastRemoteSnapshotVersion=u),r>this.Mr&&(this.Mr=r),Ae.resolve()}kn(e){this.Fr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Nr=new up(r),this.highestTargetId=r),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,r){return this.kn(r),this.targetCount+=1,Ae.resolve()}updateTargetData(e,r){return this.kn(r),Ae.resolve()}removeTargetData(e,r){return this.Fr.delete(r.target),this.Or.Rr(r.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,r,u){let v=0;const C=[];return this.Fr.forEach((R,ue)=>{ue.sequenceNumber<=r&&null===u.get(ue.targetId)&&(this.Fr.delete(R),C.push(this.removeMatchingKeysForTargetId(e,ue.targetId)),v++)}),Ae.waitFor(C).next(()=>v)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,r){const u=this.Fr.get(r)||null;return Ae.resolve(u)}addMatchingKeys(e,r,u){return this.Or.Er(r,u),Ae.resolve()}removeMatchingKeys(e,r,u){this.Or.Ar(r,u);const v=this.persistence.referenceDelegate,C=[];return v&&r.forEach(R=>{C.push(v.markPotentiallyOrphaned(e,R))}),Ae.waitFor(C)}removeMatchingKeysForTargetId(e,r){return this.Or.Rr(r),Ae.resolve()}getMatchingKeysForTargetId(e,r){const u=this.Or.mr(r);return Ae.resolve(u)}containsKey(e,r){return Ae.resolve(this.Or.containsKey(r))}}class Mc{constructor(e,r){this.Lr={},this.overlays={},this.Br=new nn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Zc(this),this.indexManager=new rl,this.remoteDocumentCache=new q_(u=>this.referenceDelegate.Qr(u)),this.serializer=new Nh(r),this.Kr=new $b(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Gb,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let u=this.Lr[e.toKey()];return u||(u=new tb(r,this.referenceDelegate),this.Lr[e.toKey()]=u),u}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,r,u){Ei("MemoryPersistence","Starting transaction:",e);const v=new Mu(this.Br.next());return this.referenceDelegate.$r(),u(v).next(C=>this.referenceDelegate.Ur(v).next(()=>C)).toPromise().then(C=>(v.raiseOnCommittedEvent(),C))}Wr(e,r){return Ae.or(Object.values(this.Lr).map(u=>()=>u.containsKey(e,r)))}}class Mu extends Ce{constructor(e){super(),this.currentSequenceNumber=e}}class Sf{constructor(e){this.persistence=e,this.Gr=new Gm,this.zr=null}static jr(e){return new Sf(e)}get Hr(){if(this.zr)return this.zr;throw Zi()}addReference(e,r,u){return this.Gr.addReference(u,r),this.Hr.delete(u.toString()),Ae.resolve()}removeReference(e,r,u){return this.Gr.removeReference(u,r),this.Hr.add(u.toString()),Ae.resolve()}markPotentiallyOrphaned(e,r){return this.Hr.add(r.toString()),Ae.resolve()}removeTarget(e,r){this.Gr.Rr(r.targetId).forEach(v=>this.Hr.add(v.toString()));const u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(e,r.targetId).next(v=>{v.forEach(C=>this.Hr.add(C.toString()))}).next(()=>u.removeTargetData(e,r))}$r(){this.zr=new Set}Ur(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.Hr,u=>{const v=ir.fromPath(u);return this.Jr(e,v).next(C=>{C||r.removeEntry(v,cr.min())})}).next(()=>(this.zr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Jr(e,r).next(u=>{u?this.Hr.delete(r.toString()):this.Hr.add(r.toString())})}Qr(e){return 0}Jr(e,r){return Ae.or([()=>Ae.resolve(this.Gr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Wr(e,r)])}}class Wm{constructor(e){this.serializer=e}O(e,r,u,v){const C=new At("createOrUpgrade",r);var Pe;u<1&&v>=1&&(e.createObjectStore("owner"),(Pe=e).createObjectStore("mutationQueues",{keyPath:"userId"}),Pe.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fp,{unique:!0}),Pe.createObjectStore("documentMutations"),gp(e),function(Pe){Pe.createObjectStore("remoteDocuments")}(e));let R=Ae.resolve();return u<3&&v>=3&&(0!==u&&(function(Pe){Pe.deleteObjectStore("targetDocuments"),Pe.deleteObjectStore("targets"),Pe.deleteObjectStore("targetGlobal")}(e),gp(e)),R=R.next(()=>function(Pe){const tt=Pe.store("targetGlobal"),Tt={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cr.min().toTimestamp(),targetCount:0};return tt.put("targetGlobalKey",Tt)}(C))),u<4&&v>=4&&(0!==u&&(R=R.next(()=>function(Pe,tt){return tt.store("mutations").U().next(Tt=>{Pe.deleteObjectStore("mutations"),Pe.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fp,{unique:!0});const tn=tt.store("mutations"),kn=Tt.map(ti=>tn.put(ti));return Ae.waitFor(kn)})}(e,C))),R=R.next(()=>{!function(Pe){Pe.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),u<5&&v>=5&&(R=R.next(()=>this.Zr(C))),u<6&&v>=6&&(R=R.next(()=>(function(Pe){Pe.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(C)))),u<7&&v>=7&&(R=R.next(()=>this.ei(C))),u<8&&v>=8&&(R=R.next(()=>this.ti(e,C))),u<9&&v>=9&&(R=R.next(()=>{!function(Pe){Pe.objectStoreNames.contains("remoteDocumentChanges")&&Pe.deleteObjectStore("remoteDocumentChanges")}(e)})),u<10&&v>=10&&(R=R.next(()=>this.ni(C))),u<11&&v>=11&&(R=R.next(()=>{(function(Pe){Pe.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(Pe){Pe.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),u<12&&v>=12&&(R=R.next(()=>{!function(Pe){const tt=Pe.createObjectStore("documentOverlays",{keyPath:Yl});tt.createIndex("collectionPathOverlayIndex",Pd,{unique:!1}),tt.createIndex("collectionGroupOverlayIndex",Ku,{unique:!1})}(e)})),u<13&&v>=13&&(R=R.next(()=>function(Pe){const tt=Pe.createObjectStore("remoteDocumentsV14",{keyPath:Sg});tt.createIndex("documentKeyIndex",Bp),tt.createIndex("collectionGroupIndex",wh)}(e)).next(()=>this.ri(e,C)).next(()=>e.deleteObjectStore("remoteDocuments"))),u<14&&v>=14&&(R=R.next(()=>this.ii(e,C))),u<15&&v>=15&&(R=R.next(()=>function(Pe){Pe.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),Pe.createObjectStore("indexState",{keyPath:Uo}).createIndex("sequenceNumberIndex",Vp,{unique:!1}),Pe.createObjectStore("indexEntries",{keyPath:js}).createIndex("documentKeyIndex",na,{unique:!1})}(e))),u<16&&v>=16&&(R=R.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),R}Xr(e){let r=0;return e.store("remoteDocuments").J((u,v)=>{r+=Hm(v)}).next(()=>{const u={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",u)})}Zr(e){const r=e.store("mutationQueues"),u=e.store("mutations");return r.U().next(v=>Ae.forEach(v,C=>{const R=IDBKeyRange.bound([C.userId,-1],[C.userId,C.lastAcknowledgedBatchId]);return u.U("userMutationsIndex",R).next(ue=>Ae.forEach(ue,Pe=>{ar(Pe.userId===C.userId);const tt=op(this.serializer,Pe);return Zv(e,C.userId,tt).next(()=>{})}))}))}ei(e){const r=e.store("targetDocuments"),u=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(v=>{const C=[];return u.J((R,ue)=>{const Pe=new Xr(R),tt=[0,yl(Pe)];C.push(r.get(tt).next(Tt=>Tt?Ae.resolve():r.put({targetId:0,path:yl(Pe),sequenceNumber:v.highestListenSequenceNumber})))}).next(()=>Ae.waitFor(C))})}ti(e,r){e.createObjectStore("collectionParents",{keyPath:Vo});const u=r.store("collectionParents"),v=new Bh,C=R=>{if(v.add(R)){const ue=R.lastSegment(),Pe=R.popLast();return u.put({collectionId:ue,parent:yl(Pe)})}};return r.store("remoteDocuments").J({H:!0},(R,ue)=>{const Pe=new Xr(R);return C(Pe.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([R,ue,Pe],tt)=>{const Tt=xc(ue);return C(Tt.popLast())}))}ni(e){const r=e.store("targets");return r.J((u,v)=>{const C=ap(v),R=Yv(this.serializer,C);return r.put(R)})}ri(e,r){const u=r.store("remoteDocuments"),v=[];return u.J((C,R)=>{const ue=r.store("remoteDocumentsV14"),Pe=(tn=R,tn.document?new ir(Xr.fromString(tn.document.name).popFirst(5)):tn.noDocument?ir.fromSegments(tn.noDocument.path):tn.unknownDocument?ir.fromSegments(tn.unknownDocument.path):Zi()).path.toArray(),tt={prefixPath:Pe.slice(0,Pe.length-2),collectionGroup:Pe[Pe.length-2],documentId:Pe[Pe.length-1],readTime:R.readTime||[0,0],unknownDocument:R.unknownDocument,noDocument:R.noDocument,document:R.document,hasCommittedMutations:!!R.hasCommittedMutations};var tn;v.push(ue.put(tt))}).next(()=>Ae.waitFor(v))}ii(e,r){const u=r.store("mutations"),v=eb(this.serializer),C=new Mc(Sf.jr,this.serializer.ut);return u.U().next(R=>{const ue=new Map;return R.forEach(Pe=>{var tt;let Tt=null!==(tt=ue.get(Pe.userId))&&void 0!==tt?tt:sr();op(this.serializer,Pe).keys().forEach(tn=>Tt=Tt.add(tn)),ue.set(Pe.userId,Tt)}),Ae.forEach(ue,(Pe,tt)=>{const Tt=new Ps(tt),tn=W0.ct(this.serializer,Tt),kn=C.getIndexManager(Tt),ti=em.ct(Tt,this.serializer,kn,C.referenceDelegate);return new Q_(v,ti,tn,kn).recalculateAndSaveOverlaysForDocumentKeys(new oc(r,nn.oe),Pe).next()})})}}function gp(l){l.createObjectStore("targetDocuments",{keyPath:Do}).createIndex("documentTargetsIndex",Ch,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yr,{unique:!0}),l.createObjectStore("targetGlobal")}const Km="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ym{constructor(e,r,u,v,C,R,ue,Pe,tt,Tt,tn=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=u,this.si=C,this.window=R,this.document=ue,this.oi=tt,this._i=Tt,this.ai=tn,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=kn=>Promise.resolve(),!Ym.D())throw new Oi(ei.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new X_(this,v),this.Ii=r+"main",this.serializer=new Nh(Pe),this.Ti=new fn(this.Ii,this.ai,new Wm(this.serializer)),this.qr=new Q0(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eb(this.serializer),this.Kr=new Xv,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===Tt&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oi(ei.FAILED_PRECONDITION,Km);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Br=new nn(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var r=this;return this.Pi=function(){var u=(0,Be.A)(function*(v){if(r.started)return e(v)});return function(v){return u.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var r=(0,Be.A)(function*(u){null===u.newVersion&&(yield e())});return function(u){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Be.A)(function*(){r.started&&(yield r.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_p(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(r=>this.isPrimary&&!r?this.pi(e).next(()=>!1):!!r&&this.yi(e).next(()=>!0))).catch(e=>{if(os(e))return Ei("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ei("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Df(e).get("owner").next(r=>Ae.resolve(this.wi(r)))}Si(e){return _p(e).delete(this.clientId)}bi(){var e=this;return(0,Be.A)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",u=>{const v=Ls(u,"clientMetadata");return v.U().next(C=>{const R=e.Ci(C,18e5),ue=C.filter(Pe=>-1===R.indexOf(Pe));return Ae.forEach(ue,Pe=>v.delete(Pe.clientId)).next(()=>ue)})}).catch(()=>[]);if(e.Ei)for(const u of r)e.Ei.removeItem(e.vi(u.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Ae.resolve(!0):Df(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)){if(this.wi(r)&&this.networkEnabled)return!0;if(!this.wi(r)){if(!r.allowTabSynchronization)throw new Oi(ei.FAILED_PRECONDITION,Km);return!1}}return!(!this.networkEnabled||!this.inForeground)||_p(e).U().next(u=>void 0===this.Ci(u,5e3).find(v=>!(this.clientId===v.clientId||!(!this.networkEnabled&&v.networkEnabled||!this.inForeground&&v.inForeground&&this.networkEnabled===v.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ei("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,Be.A)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const u=new oc(r,nn.oe);return e.pi(u).next(()=>e.Si(u))}),e.Ti.close(),e.Ni()})()}Ci(e,r){return e.filter(u=>this.Di(u.updateTimeMs,r)&&!this.Fi(u.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>_p(e).U().next(r=>this.Ci(r,18e5).map(u=>u.clientId)))}get started(){return this.kr}getMutationQueue(e,r){return em.ct(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dp(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return W0.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,r,u){Ei("IndexedDbPersistence","Starting transaction:",e);const v="readonly"===r?"readonly":"readwrite",C=16===(Pe=this.ai)?Wf:15===Pe?Yu:14===Pe?Up:13===Pe?ud:12===Pe?Ma:11===Pe?dd:void Zi();var Pe;let R;return this.Ti.runTransaction(e,v,C,ue=>(R=new oc(ue,this.Br?this.Br.next():nn.oe),"readwrite-primary"===r?this.fi(R).next(Pe=>!!Pe||this.gi(R)).next(Pe=>{if(!Pe)throw Lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Oi(ei.FAILED_PRECONDITION,te);return u(R)}).next(Pe=>this.yi(R).next(()=>Pe)):this.Bi(R).next(()=>u(R)))).then(ue=>(R.raiseOnCommittedEvent(),ue))}Bi(e){return Df(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)&&!this.wi(r)&&!(this._i||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Oi(ei.FAILED_PRECONDITION,Km)})}yi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Df(e).put("owner",r)}static D(){return fn.D()}pi(e){const r=Df(e);return r.get("owner").next(u=>this.wi(u)?(Ei("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Ae.resolve())}Di(e,r){const u=Date.now();return!(e<u-r||e>u&&(Lr(`Detected an update time that is in the future: ${e} > ${u}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const r=/(?:Version|Mobile)\/1[456]/;(0,ae.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var r;try{const u=null!==(null===(r=this.Ei)||void 0===r?void 0:r.getItem(this.vi(e)));return Ei("IndexedDbPersistence",`Client '${e}' ${u?"is":"is not"} zombied in LocalStorage`),u}catch(u){return Lr("IndexedDbPersistence","Failed to get zombied client id.",u),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Lr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Df(l){return Ls(l,"owner")}function _p(l){return Ls(l,"clientMetadata")}function Hh(l,e){let r=l.projectId;return l.isDefaultDatabase||(r+="."+l.database),"firestore/"+e+"/"+r+"/"}class Z_{constructor(e,r,u,v){this.targetId=e,this.fromCache=r,this.ki=u,this.qi=v}static Qi(e,r){let u=sr(),v=sr();for(const C of r.docChanges)switch(C.type){case 0:u=u.add(C.doc.key);break;case 1:v=v.add(C.doc.key)}return new Z_(e,r.fromCache,u,v)}}class Wb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class J_{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=(0,ae.nr)()?8:li((0,ae.ZQ)())>0?6:4}initialize(e,r){this.Gi=e,this.indexManager=r,this.Ki=!0}getDocumentsMatchingQuery(e,r,u,v){const C={result:null};return this.zi(e,r).next(R=>{C.result=R}).next(()=>{if(!C.result)return this.ji(e,r,v,u).next(R=>{C.result=R})}).next(()=>{if(C.result)return;const R=new Wb;return this.Hi(e,r,R).next(ue=>{if(C.result=ue,this.$i)return this.Ji(e,r,R,ue.size)})}).next(()=>C.result)}Ji(e,r,u,v){return u.documentReadCount<this.Ui?(Ir()<=J.$b.DEBUG&&Ei("QueryEngine","SDK will not create cache indexes for query:",ka(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ae.resolve()):(Ir()<=J.$b.DEBUG&&Ei("QueryEngine","Query:",ka(r),"scans",u.documentReadCount,"local documents and returns",v,"documents as results."),u.documentReadCount>this.Wi*v?(Ir()<=J.$b.DEBUG&&Ei("QueryEngine","The SDK decides to create cache indexes for query:",ka(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ho(r))):Ae.resolve())}zi(e,r){if(oo(r))return Ae.resolve(null);let u=ho(r);return this.indexManager.getIndexType(e,u).next(v=>0===v?null:(null!==r.limit&&1===v&&(r=Ss(r,null,"F"),u=ho(r)),this.indexManager.getDocumentsMatchingTarget(e,u).next(C=>{const R=sr(...C);return this.Gi.getDocuments(e,R).next(ue=>this.indexManager.getMinOffset(e,u).next(Pe=>{const tt=this.Yi(r,ue);return this.Zi(r,tt,R,Pe.readTime)?this.zi(e,Ss(r,null,"F")):this.Xi(e,tt,r,Pe)}))})))}ji(e,r,u,v){return oo(r)||v.isEqual(cr.min())?Ae.resolve(null):this.Gi.getDocuments(e,u).next(C=>{const R=this.Yi(r,C);return this.Zi(r,R,u,v)?Ae.resolve(null):(Ir()<=J.$b.DEBUG&&Ei("QueryEngine","Re-using previous result from %s to execute query: %s",v.toString(),ka(r)),this.Xi(e,R,r,Gf(v,-1)).next(ue=>ue))})}Yi(e,r){let u=new mo(bu(e));return r.forEach((v,C)=>{ba(e,C)&&(u=u.add(C))}),u}Zi(e,r,u,v){if(null===e.limit)return!1;if(u.size!==r.size)return!0;const C="F"===e.limitType?r.last():r.first();return!!C&&(C.hasPendingWrites||C.version.compareTo(v)>0)}Hi(e,r,u){return Ir()<=J.$b.DEBUG&&Ei("QueryEngine","Using full collection scan to execute query:",ka(r)),this.Gi.getDocumentsMatchingQuery(e,r,Kl.min(),u)}Xi(e,r,u,v){return this.Gi.getDocumentsMatchingQuery(e,u,v).next(C=>(r.forEach(R=>{C=C.insert(R.key,R)}),C))}}class Xm{constructor(e,r,u,v){this.persistence=e,this.es=r,this.serializer=v,this.ts=new wr(is),this.ns=new Ud(C=>Aa(C),Cc),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(u)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q_(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ts))}}function _d(l,e,r,u){return new Xm(l,e,r,u)}function Zg(l,e){return vd.apply(this,arguments)}function vd(){return vd=(0,Be.A)(function*(l,e){const r=vi(l);return yield r.persistence.runTransaction("Handle user change","readonly",u=>{let v;return r.mutationQueue.getAllMutationBatches(u).next(C=>(v=C,r.os(e),r.mutationQueue.getAllMutationBatches(u))).next(C=>{const R=[],ue=[];let Pe=sr();for(const tt of v){R.push(tt.batchId);for(const Tt of tt.mutations)Pe=Pe.add(Tt.key)}for(const tt of C){ue.push(tt.batchId);for(const Tt of tt.mutations)Pe=Pe.add(Tt.key)}return r.localDocuments.getDocuments(u,Pe).next(tt=>({_s:tt,removedBatchIds:R,addedBatchIds:ue}))})})}),vd.apply(this,arguments)}function tc(l){const e=vi(l);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.qr.getLastRemoteSnapshotVersion(r))}function Jd(l,e,r){let u=sr(),v=sr();return r.forEach(C=>u=u.add(C)),e.getEntries(l,u).next(C=>{let R=wl();return r.forEach((ue,Pe)=>{const tt=C.get(ue);Pe.isFoundDocument()!==tt.isFoundDocument()&&(v=v.add(ue)),Pe.isNoDocument()&&Pe.version.isEqual(cr.min())?(e.removeEntry(ue,Pe.readTime),R=R.insert(ue,Pe)):!tt.isValidDocument()||Pe.version.compareTo(tt.version)>0||0===Pe.version.compareTo(tt.version)&&tt.hasPendingWrites?(e.addEntry(Pe),R=R.insert(ue,Pe)):Ei("LocalStore","Ignoring outdated watch update for ",ue,". Current version:",tt.version," Watch version:",Pe.version)}),{us:R,cs:v}})}function n_(l,e){const r=vi(l);return r.persistence.runTransaction("Get next mutation batch","readonly",u=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(u,e)))}function bd(l,e){const r=vi(l);return r.persistence.runTransaction("Allocate target","readwrite",u=>{let v;return r.qr.getTargetData(u,e).next(C=>C?(v=C,Ae.resolve(v)):r.qr.allocateTargetId(u).next(R=>(v=new nh(e,R,"TargetPurposeListen",u.currentSequenceNumber),r.qr.addTargetData(u,v).next(()=>v))))}).then(u=>{const v=r.ts.get(u.targetId);return(null===v||u.snapshotVersion.compareTo(v.snapshotVersion)>0)&&(r.ts=r.ts.insert(u.targetId,u),r.ns.set(e,u.targetId)),u})}function Jc(l,e,r){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,Be.A)(function*(l,e,r){const u=vi(l),v=u.ts.get(e),C=r?"readwrite":"readwrite-primary";try{r||(yield u.persistence.runTransaction("Release target",C,R=>u.persistence.referenceDelegate.removeTarget(R,v)))}catch(R){if(!os(R))throw R;Ei("LocalStore",`Failed to update sequence numbers for target ${e}: ${R}`)}u.ts=u.ts.remove(e),u.ns.delete(v.target)}),Gh.apply(this,arguments)}function vp(l,e,r){const u=vi(l);let v=cr.min(),C=sr();return u.persistence.runTransaction("Execute query","readwrite",R=>function(Pe,tt,Tt){const tn=vi(Pe),kn=tn.ns.get(Tt);return void 0!==kn?Ae.resolve(tn.ts.get(kn)):tn.qr.getTargetData(tt,Tt)}(u,R,ho(e)).next(ue=>{if(ue)return v=ue.lastLimboFreeSnapshotVersion,u.qr.getMatchingKeysForTargetId(R,ue.targetId).next(Pe=>{C=Pe})}).next(()=>u.es.getDocumentsMatchingQuery(R,e,r?v:cr.min(),r?C:sr())).next(ue=>(Au(u,$p(e),ue),{documents:ue,ls:C})))}function i_(l,e){const r=vi(l),u=vi(r.qr),v=r.ts.get(e);return v?Promise.resolve(v.target):r.persistence.runTransaction("Get target data","readonly",C=>u.ot(C,e).next(R=>R?R.target:null))}function bp(l,e){const r=vi(l),u=r.rs.get(e)||cr.min();return r.persistence.runTransaction("Get new document changes","readonly",v=>r.ss.getAllFromCollectionGroup(v,e,Gf(u,-1),Number.MAX_SAFE_INTEGER)).then(v=>(Au(r,e,v),v))}function Au(l,e,r){let u=l.rs.get(e)||cr.min();r.forEach((v,C)=>{C.readTime.compareTo(u)>0&&(u=C.readTime)}),l.rs.set(e,u)}function Qm(){return Qm=(0,Be.A)(function*(l,e,r,u){const v=vi(l);let C=sr(),R=wl();for(const tt of r){const Tt=e.hs(tt.metadata.name);tt.document&&(C=C.add(Tt));const tn=e.Ps(tt);tn.setReadTime(e.Is(tt.metadata.readTime)),R=R.insert(Tt,tn)}const ue=v.ss.newChangeBuffer({trackRemovals:!0}),Pe=yield bd(v,(Tt=u,ho(Tc(Xr.fromString(`__bundle__/docs/${Tt}`)))));var Tt;return v.persistence.runTransaction("Apply bundle documents","readwrite",tt=>Jd(tt,ue,R).next(Tt=>(ue.apply(tt),Tt)).next(Tt=>v.qr.removeMatchingKeysForTargetId(tt,Pe.targetId).next(()=>v.qr.addMatchingKeys(tt,C,Pe.targetId)).next(()=>v.localDocuments.getLocalViewOfDocuments(tt,Tt.us,Tt.cs)).next(()=>Tt.us)))}),Qm.apply(this,arguments)}function yp(l,e){return tm.apply(this,arguments)}function tm(){return tm=(0,Be.A)(function*(l,e,r=sr()){const u=yield bd(l,ho(K_(e.bundledQuery))),v=vi(l);return v.persistence.runTransaction("Save named query","readwrite",C=>{const R=Ns(e.readTime);if(u.snapshotVersion.compareTo(R)>=0)return v.Kr.saveNamedQuery(C,e);const ue=u.withResumeToken(Ja.EMPTY_BYTE_STRING,R);return v.ts=v.ts.insert(ue.targetId,ue),v.qr.updateTargetData(C,ue).next(()=>v.qr.removeMatchingKeysForTargetId(C,u.targetId)).next(()=>v.qr.addMatchingKeys(C,r,u.targetId)).next(()=>v.Kr.saveNamedQuery(C,e))})}),tm.apply(this,arguments)}function r_(l,e){return`firestore_clients_${l}_${e}`}function ev(l,e,r){let u=`firestore_mutations_${l}_${r}`;return e.isAuthenticated()&&(u+=`_${e.uid}`),u}function s_(l,e){return`firestore_targets_${l}_${e}`}class Ep{constructor(e,r,u,v){this.user=e,this.batchId=r,this.state=u,this.error=v}static Ts(e,r,u){const v=JSON.parse(u);let C,R="object"==typeof v&&-1!==["pending","acknowledged","rejected"].indexOf(v.state)&&(void 0===v.error||"object"==typeof v.error);return R&&v.error&&(R="string"==typeof v.error.message&&"string"==typeof v.error.code,R&&(C=new Oi(v.error.code,v.error.message))),R?new Ep(e,r,v.state,C):(Lr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${u}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nm{constructor(e,r,u){this.targetId=e,this.state=r,this.error=u}static Ts(e,r){const u=JSON.parse(r);let v,C="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return C&&u.error&&(C="string"==typeof u.error.message&&"string"==typeof u.error.code,C&&(v=new Oi(u.error.code,u.error.message))),C?new nm(e,u.state,v):(Lr("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class o_{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Ts(e,r){const u=JSON.parse(r);let v="object"==typeof u&&u.activeTargetIds instanceof Array,C=go();for(let R=0;v&&R<u.activeTargetIds.length;++R)v=Tm(u.activeTargetIds[R]),C=C.add(u.activeTargetIds[R]);return v?new o_(e,C):(Lr("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class xp{constructor(e,r){this.clientId=e,this.onlineState=r}static Ts(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new xp(r.clientId,r.onlineState):(Lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wp{constructor(){this.activeTargetIds=go()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ac{constructor(e,r,u,v,C){this.window=e,this.si=r,this.persistenceKey=u,this.Rs=v,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new wr(is),this.started=!1,this.ps=[];const R=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=C,this.ys=r_(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new wp),this.Ss=new RegExp(`^firestore_clients_${R}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${R}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${R}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(Pe){return`firestore_bundle_loaded_v2_${Pe}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Be.A)(function*(){const r=yield e.syncEngine.Li();for(const v of r){if(v===e.Rs)continue;const C=e.getItem(r_(e.persistenceKey,v));if(C){const R=o_.Ts(v,C);R&&(e.gs=e.gs.insert(R.clientId,R))}}e.Fs();const u=e.storage.getItem(e.Cs);if(u){const v=e.Ms(u);v&&e.xs(v)}for(const v of e.ps)e.fs(v);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let r=!1;return this.gs.forEach((u,v)=>{v.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,r,u){this.Ns(e,r,u),this.Ls(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const u=this.storage.getItem(s_(this.persistenceKey,e));if(u){const v=nm.Ts(e,u);v&&(r=v.state)}}return this.Bs.ds(e),this.Fs(),r}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(s_(this.persistenceKey,e))}updateQueryState(e,r,u){this.ks(e,r,u)}handleUserChange(e,r,u){r.forEach(v=>{this.Ls(v)}),this.currentUser=e,u.forEach(v=>{this.addPendingMutation(v)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ei("SharedClientState","READ",e,r),r}setItem(e,r){Ei("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ei("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var r=this;const u=e;if(u.storageArea===this.storage){if(Ei("SharedClientState","EVENT",u.key,u.newValue),u.key===this.ys)return void Lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Be.A)(function*(){if(r.started){if(null!==u.key)if(r.Ss.test(u.key)){if(null==u.newValue){const v=r.Ks(u.key);return r.$s(v,null)}{const v=r.Us(u.key,u.newValue);if(v)return r.$s(v.clientId,v)}}else if(r.bs.test(u.key)){if(null!==u.newValue){const v=r.Ws(u.key,u.newValue);if(v)return r.Gs(v)}}else if(r.Ds.test(u.key)){if(null!==u.newValue){const v=r.zs(u.key,u.newValue);if(v)return r.js(v)}}else if(u.key===r.Cs){if(null!==u.newValue){const v=r.Ms(u.newValue);if(v)return r.xs(v)}}else if(u.key===r.ws){const v=function(R){let ue=nn.oe;if(null!=R)try{const Pe=JSON.parse(R);ar("number"==typeof Pe),ue=Pe}catch(Pe){Lr("SharedClientState","Failed to read sequence number from WebStorage",Pe)}return ue}(u.newValue);v!==nn.oe&&r.sequenceNumberHandler(v)}else if(u.key===r.vs){const v=r.Hs(u.newValue);yield Promise.all(v.map(C=>r.syncEngine.Js(C)))}}else r.ps.push(u)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,r,u){const v=new Ep(this.currentUser,e,r,u),C=ev(this.persistenceKey,this.currentUser,e);this.setItem(C,v.Es())}Ls(e){const r=ev(this.persistenceKey,this.currentUser,e);this.removeItem(r)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,r,u){const v=s_(this.persistenceKey,e),C=new nm(e,r,u);this.setItem(v,C.Es())}Qs(e){const r=JSON.stringify(Array.from(e));this.setItem(this.vs,r)}Ks(e){const r=this.Ss.exec(e);return r?r[1]:null}Us(e,r){const u=this.Ks(e);return o_.Ts(u,r)}Ws(e,r){const u=this.bs.exec(e),v=Number(u[1]);return Ep.Ts(new Ps(void 0!==u[2]?u[2]:null),v,r)}zs(e,r){const u=this.Ds.exec(e),v=Number(u[1]);return nm.Ts(v,r)}Ms(e){return xp.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var r=this;return(0,Be.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Ys(e.batchId,e.state,e.error);Ei("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,r){const u=r?this.gs.insert(e,r):this.gs.remove(e),v=this.Os(this.gs),C=this.Os(u),R=[],ue=[];return C.forEach(Pe=>{v.has(Pe)||R.push(Pe)}),v.forEach(Pe=>{C.has(Pe)||ue.push(Pe)}),this.syncEngine.Xs(R,ue).then(()=>{this.gs=u})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let r=go();return e.forEach((u,v)=>{r=r.unionWith(v.activeTargetIds)}),r}}class im{constructor(){this.eo=new wp,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,u){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,r,u){this.no[e]=r}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new wp,Promise.resolve()}handleUserChange(e,r,u){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ib{ro(e){}shutdown(){}}class tv{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ei("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ei("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rm=null;function If(){return null===rm?rm=268435456+Math.round(2147483648*Math.random()):rm++,"0x"+rm.toString(16)}const Cp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kb{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const sa="WebChannelConnection";class Jg extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const u=r.ssl?"https":"http",v=encodeURIComponent(this.databaseId.projectId),C=encodeURIComponent(this.databaseId.database);this.yo=u+"://"+r.host,this.wo=`projects/${v}/databases/${C}`,this.So="(default)"===this.databaseId.database?`project_id=${v}`:`project_id=${v}&database_id=${C}`}get bo(){return!1}Do(r,u,v,C,R){const ue=If(),Pe=this.Co(r,u.toUriEncodedString());Ei("RestConnection",`Sending RPC '${r}' ${ue}:`,Pe,v);const tt={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(tt,C,R),this.Fo(r,Pe,tt,v).then(Tt=>(Ei("RestConnection",`Received RPC '${r}' ${ue}: `,Tt),Tt),Tt=>{throw Rs("RestConnection",`RPC '${r}' ${ue} failed with error: `,Tt,"url: ",Pe,"request:",v),Tt})}Mo(r,u,v,C,R,ue){return this.Do(r,u,v,C,R)}vo(r,u,v){r["X-Goog-Api-Client"]="gl-js/ fire/"+ws,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),u&&u.headers.forEach((C,R)=>r[R]=C),v&&v.headers.forEach((C,R)=>r[R]=C)}Co(r,u){return`${this.yo}/v1/${u}:${Cp[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,r,u,v){const C=If();return new Promise((R,ue)=>{const Pe=new eo;Pe.setWithCredentials(!0),Pe.listenOnce(Xn.COMPLETE,()=>{try{switch(Pe.getLastErrorCode()){case Qt.NO_ERROR:const Tt=Pe.getResponseJson();Ei(sa,`XHR for RPC '${e}' ${C} received:`,JSON.stringify(Tt)),R(Tt);break;case Qt.TIMEOUT:Ei(sa,`RPC '${e}' ${C} timed out`),ue(new Oi(ei.DEADLINE_EXCEEDED,"Request time out"));break;case Qt.HTTP_ERROR:const tn=Pe.getStatus();if(Ei(sa,`RPC '${e}' ${C} failed with status:`,tn,"response text:",Pe.getResponseText()),tn>0){let kn=Pe.getResponseJson();Array.isArray(kn)&&(kn=kn[0]);const ti=kn?.error;if(ti&&ti.status&&ti.message){const Ji=function(hr){const Qr=hr.toLowerCase().replace(/_/g,"-");return Object.values(ei).indexOf(Qr)>=0?Qr:ei.UNKNOWN}(ti.status);ue(new Oi(Ji,ti.message))}else ue(new Oi(ei.UNKNOWN,"Server responded with status "+Pe.getStatus()))}else ue(new Oi(ei.UNAVAILABLE,"Connection failed."));break;default:Zi()}}finally{Ei(sa,`RPC '${e}' ${C} completed.`)}});const tt=JSON.stringify(v);Ei(sa,`RPC '${e}' ${C} sending request:`,v),Pe.send(r,"POST",tt,u,15)})}xo(e,r,u){const v=If(),C=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],R=Oe(),ue=et(),Pe={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},tt=this.longPollingOptions.timeoutSeconds;void 0!==tt&&(Pe.longPollingTimeout=Math.round(1e3*tt)),this.useFetchStreams&&(Pe.xmlHttpFactory=new qs({})),this.vo(Pe.initMessageHeaders,r,u),Pe.encodeInitMessageHeaders=!0;const Tt=C.join("");Ei(sa,`Creating RPC '${e}' stream ${v}: ${Tt}`,Pe);const tn=R.createWebChannel(Tt,Pe);let kn=!1,ti=!1;const Ji=new Kb({co:hr=>{ti?Ei(sa,`Not sending because RPC '${e}' stream ${v} is closed:`,hr):(kn||(Ei(sa,`Opening RPC '${e}' stream ${v} transport.`),tn.open(),kn=!0),Ei(sa,`RPC '${e}' stream ${v} sending:`,hr),tn.send(hr))},lo:()=>tn.close()}),Wi=(hr,Qr,Br)=>{hr.listen(Qr,Vr=>{try{Br(Vr)}catch(gs){setTimeout(()=>{throw gs},0)}})};return Wi(tn,Os.EventType.OPEN,()=>{ti||(Ei(sa,`RPC '${e}' stream ${v} transport opened.`),Ji.Vo())}),Wi(tn,Os.EventType.CLOSE,()=>{ti||(ti=!0,Ei(sa,`RPC '${e}' stream ${v} transport closed`),Ji.fo())}),Wi(tn,Os.EventType.ERROR,hr=>{ti||(ti=!0,Rs(sa,`RPC '${e}' stream ${v} transport errored:`,hr),Ji.fo(new Oi(ei.UNAVAILABLE,"The operation could not be completed")))}),Wi(tn,Os.EventType.MESSAGE,hr=>{var Qr;if(!ti){const Br=hr.data[0];ar(!!Br);const gs=Br.error||(null===(Qr=Br[0])||void 0===Qr?void 0:Qr.error);if(gs){Ei(sa,`RPC '${e}' stream ${v} received error:`,gs);const vo=gs.status;let wo=function(py){const my=Lo[py];if(void 0!==my)return Eu(my)}(vo),Ea=gs.message;void 0===wo&&(wo=ei.INTERNAL,Ea="Unknown error status: "+vo+" with message "+gs.message),ti=!0,Ji.fo(new Oi(wo,Ea)),tn.close()}else Ei(sa,`RPC '${e}' stream ${v} received:`,Br),Ji.po(Br)}}),Wi(ue,di.STAT_EVENT,hr=>{hr.stat===gr.PROXY?Ei(sa,`RPC '${e}' stream ${v} detected buffering proxy`):hr.stat===gr.NOPROXY&&Ei(sa,`RPC '${e}' stream ${v} detected no buffering proxy`)}),setTimeout(()=>{Ji.mo()},0),Ji}}function Yb(){return typeof window<"u"?window:null}function Tp(){return typeof document<"u"?document:null}function Wh(l){return new xi(l,!0)}class ed{constructor(e,r,u=1e3,v=1.5,C=6e4){this.si=e,this.timerId=r,this.Oo=u,this.No=v,this.Lo=C,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const r=Math.floor(this.Bo+this.$o()),u=Math.max(0,Date.now()-this.qo),v=Math.max(0,r-u);v>0&&Ei("ExponentialBackoff",`Backing off for ${v} ms (base delay: ${this.Bo} ms, delay with jitter: ${r} ms, last attempt: ${u} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,v,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class qm{constructor(e,r,u,v,C,R,ue,Pe){this.si=e,this.Wo=u,this.Go=v,this.connection=C,this.authCredentialsProvider=R,this.appCheckCredentialsProvider=ue,this.listener=Pe,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new ed(e,r)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}stop(){var e=this;return(0,Be.A)(function*(){e.Yo()&&(yield e.close(0))})()}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){var e=this;return(0,Be.A)(function*(){if(e.Zo())return e.close(0)})()}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,r){var u=this;return(0,Be.A)(function*(){u.i_(),u.s_(),u.Jo.cancel(),u.zo++,4!==e?u.Jo.reset():r&&r.code===ei.RESOURCE_EXHAUSTED?(Lr(r.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),u.Jo.Qo()):r&&r.code===ei.UNAUTHENTICATED&&3!==u.state&&(u.authCredentialsProvider.invalidateToken(),u.appCheckCredentialsProvider.invalidateToken()),null!==u.stream&&(u.o_(),u.stream.close(),u.stream=null),u.state=e,yield u.listener.Eo(r)})()}o_(){}auth(){this.state=1;const e=this.__(this.zo),r=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([u,v])=>{this.zo===r&&this.a_(u,v)},u=>{e(()=>{const v=new Oi(ei.UNKNOWN,"Fetching auth token failed: "+u.message);return this.u_(v)})})}a_(e,r){const u=this.__(this.zo);this.stream=this.c_(e,r),this.stream.ho(()=>{u(()=>this.listener.ho())}),this.stream.Io(()=>{u(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(v=>{u(()=>this.u_(v))}),this.stream.onMessage(v=>{u(()=>this.onMessage(v))})}Xo(){var e=this;this.state=5,this.Jo.Ko((0,Be.A)(function*(){e.state=0,e.start()}))}u_(e){return Ei("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return r=>{this.si.enqueueAndForget(()=>this.zo===e?r():(Ei("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eu extends qm{constructor(e,r,u,v,C,R){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,u,v,R),this.serializer=C}c_(e,r){return this.connection.xo("Listen",e,r)}onMessage(e){this.Jo.reset();const r=function H0(l,e){let r;if("targetChange"in e){const u="NO_CHANGE"===(tt=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===tt?1:"REMOVE"===tt?2:"CURRENT"===tt?3:"RESET"===tt?4:Zi(),v=e.targetChange.targetIds||[],C=function(tt,Tt){return tt.useProto3Json?(ar(void 0===Tt||"string"==typeof Tt),Ja.fromBase64String(Tt||"")):(ar(void 0===Tt||Tt instanceof Buffer||Tt instanceof Uint8Array),Ja.fromUint8Array(Tt||new Uint8Array))}(l,e.targetChange.resumeToken),R=e.targetChange.cause,ue=R&&function(tt){const Tt=void 0===tt.code?ei.UNKNOWN:Eu(tt.code);return new Oi(Tt,tt.message||"")}(R);r=new $(u,v,C,ue||null)}else if("documentChange"in e){const u=e.documentChange,v=Nl(l,u.document.name),C=Ns(u.document.updateTime),R=u.document.createTime?Ns(u.document.createTime):cr.min(),ue=new Ua({mapValue:{fields:u.document.fields}}),Pe=cs.newFoundDocument(v,C,R,ue);r=new Qd(u.targetIds||[],u.removedTargetIds||[],Pe.key,Pe)}else if("documentDelete"in e){const u=e.documentDelete,v=Nl(l,u.document),C=u.readTime?Ns(u.readTime):cr.min(),R=cs.newNoDocument(v,C);r=new Qd([],u.removedTargetIds||[],R.key,R)}else if("documentRemove"in e){const u=e.documentRemove,v=Nl(l,u.document);r=new Qd([],u.removedTargetIds||[],v,null)}else{if(!("filter"in e))return Zi();{const u=e.filter,{count:v=0,unchangedNames:C}=u,R=new Ph(v,C);r=new Jf(u.targetId,R)}}var tt;return r}(this.serializer,e),u=function(C){if(!("targetChange"in C))return cr.min();const R=C.targetChange;return R.targetIds&&R.targetIds.length?cr.min():R.readTime?Ns(R.readTime):cr.min()}(e);return this.listener.l_(r,u)}h_(e){const r={};r.database=Jl(this.serializer),r.addTarget=function(C,R){let ue;const Pe=R.target;if(ue=Vd(Pe)?{documents:Yp(C,Pe)}:{query:ya(C,Pe)._t},ue.targetId=R.targetId,R.resumeToken.approximateByteSize()>0){ue.resumeToken=ur(C,R.resumeToken);const tt=dr(C,R.expectedCount);null!==tt&&(ue.expectedCount=tt)}else if(R.snapshotVersion.compareTo(cr.min())>0){ue.readTime=Tr(C,R.snapshotVersion.toTimestamp());const tt=dr(C,R.expectedCount);null!==tt&&(ue.expectedCount=tt)}return ue}(this.serializer,e);const u=function jb(l,e){const r=function(v){switch(v){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zi()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);u&&(r.labels=u),this.r_(r)}P_(e){const r={};r.database=Jl(this.serializer),r.removeTarget=e,this.r_(r)}}class rb extends qm{constructor(e,r,u,v,C,R){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,u,v,R),this.serializer=C,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,r){return this.connection.xo("Write",e,r)}onMessage(e){if(ar(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const r=function G_(l,e){return l&&l.length>0?(ar(void 0!==e),l.map(r=>function(v,C){let R=Ns(v.updateTime?v.updateTime:C);return R.isEqual(cr.min())&&(R=Ns(C)),new Ng(R,v.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),u=Ns(e.commitTime);return this.listener.d_(u,r)}return ar(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Jl(this.serializer),this.r_(e)}E_(e){const r={streamToken:this.lastStreamToken,writes:e.map(u=>wf(this.serializer,u))};this.r_(r)}}class sb extends class{}{constructor(e,r,u,v){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=u,this.serializer=v,this.V_=!1}m_(){if(this.V_)throw new Oi(ei.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,r,u,v){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([C,R])=>this.connection.Do(e,ep(r,u),v,C,R)).catch(C=>{throw"FirebaseError"===C.name?(C.code===ei.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),C):new Oi(ei.UNKNOWN,C.toString())})}Mo(e,r,u,v,C){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([R,ue])=>this.connection.Mo(e,ep(r,u),v,R,ue,C)).catch(R=>{throw"FirebaseError"===R.name?(R.code===ei.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),R):new Oi(ei.UNKNOWN,R.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class Kh{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Lr(r),this.y_=!1):Ei("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Sp{constructor(e,r,u,v,C){var R=this;this.localStore=e,this.datastore=r,this.asyncQueue=u,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=C,this.O_.ro(ue=>{u.enqueueAndForget((0,Be.A)(function*(){var Pe;Xh(R)&&(Ei("RemoteStore","Restarting streams for network reachability change."),yield(Pe=(0,Be.A)(function*(Tt){const tn=vi(Tt);tn.M_.add(4),yield om(tn),tn.N_.set("Unknown"),tn.M_.delete(4),yield sm(tn)}),function tt(Tt){return Pe.apply(this,arguments)})(R))}))}),this.N_=new Kh(u,v)}}function sm(l){return e0.apply(this,arguments)}function e0(){return e0=(0,Be.A)(function*(l){if(Xh(l))for(const e of l.x_)yield e(!0)}),e0.apply(this,arguments)}function om(l){return am.apply(this,arguments)}function am(){return am=(0,Be.A)(function*(l){for(const e of l.x_)yield e(!1)}),am.apply(this,arguments)}function Dp(l,e){const r=vi(l);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),nv(r)?t0(r):sl(r).Zo()&&uc(r,e))}function oh(l,e){const r=vi(l),u=sl(r);r.F_.delete(e),u.Zo()&&Yh(r,e),0===r.F_.size&&(u.Zo()?u.t_():Xh(r)&&r.N_.set("Unknown"))}function uc(l,e){if(l.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(cr.min())>0){const r=l.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}sl(l).h_(e)}function Yh(l,e){l.L_.xe(e),sl(l).P_(e)}function t0(l){l.L_=new P({getRemoteKeysForTarget:e=>l.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>l.F_.get(e)||null,tt:()=>l.datastore.serializer.databaseId}),sl(l).start(),l.N_.w_()}function nv(l){return Xh(l)&&!sl(l).Yo()&&l.F_.size>0}function Xh(l){return 0===vi(l).M_.size}function iv(l){l.L_=void 0}function ob(l){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,Be.A)(function*(l){l.N_.set("Online")}),Mf.apply(this,arguments)}function a_(l){return n0.apply(this,arguments)}function n0(){return n0=(0,Be.A)(function*(l){l.F_.forEach((e,r)=>{uc(l,e)})}),n0.apply(this,arguments)}function r0(l,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,Be.A)(function*(l,e){iv(l),nv(l)?(l.N_.D_(e),t0(l)):l.N_.set("Unknown")}),Qh.apply(this,arguments)}function ku(l,e,r){return rv.apply(this,arguments)}function rv(){return rv=(0,Be.A)(function*(l,e,r){if(l.N_.set("Online"),e instanceof $&&2===e.state&&e.cause)try{yield(u=(0,Be.A)(function*(C,R){const ue=R.cause;for(const Pe of R.targetIds)C.F_.has(Pe)&&(yield C.remoteSyncer.rejectListen(Pe,ue),C.F_.delete(Pe),C.L_.removeTarget(Pe))}),function v(C,R){return u.apply(this,arguments)})(l,e)}catch(u){Ei("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),u),yield ah(l,u)}else if(e instanceof Qd?l.L_.Ke(e):e instanceof Jf?l.L_.He(e):l.L_.We(e),!r.isEqual(cr.min()))try{const u=yield tc(l.localStore);r.compareTo(u)>=0&&(yield function(C,R){const ue=C.L_.rt(R);return ue.targetChanges.forEach((Pe,tt)=>{if(Pe.resumeToken.approximateByteSize()>0){const Tt=C.F_.get(tt);Tt&&C.F_.set(tt,Tt.withResumeToken(Pe.resumeToken,R))}}),ue.targetMismatches.forEach((Pe,tt)=>{const Tt=C.F_.get(Pe);if(!Tt)return;C.F_.set(Pe,Tt.withResumeToken(Ja.EMPTY_BYTE_STRING,Tt.snapshotVersion)),Yh(C,Pe);const tn=new nh(Tt.target,Pe,tt,Tt.sequenceNumber);uc(C,tn)}),C.remoteSyncer.applyRemoteEvent(ue)}(l,r))}catch(u){Ei("RemoteStore","Failed to raise snapshot:",u),yield ah(l,u)}var u}),rv.apply(this,arguments)}function ah(l,e,r){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,Be.A)(function*(l,e,r){if(!os(e))throw e;l.M_.add(1),yield om(l),l.N_.set("Offline"),r||(r=()=>tc(l.localStore)),l.asyncQueue.enqueueRetryable((0,Be.A)(function*(){Ei("RemoteStore","Retrying IndexedDB access"),yield r(),l.M_.delete(1),yield sm(l)}))}),Ip.apply(this,arguments)}function l_(l,e){return e().catch(r=>ah(l,r,e))}function kc(l){return lm.apply(this,arguments)}function lm(){return lm=(0,Be.A)(function*(l){const e=vi(l),r=ch(e);let u=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;sv(e);)try{const v=yield n_(e.localStore,u);if(null===v){0===e.v_.length&&r.t_();break}u=v.batchId,Qb(e,v)}catch(v){yield ah(e,v)}ov(e)&&s0(e)}),lm.apply(this,arguments)}function sv(l){return Xh(l)&&l.v_.length<10}function Qb(l,e){l.v_.push(e);const r=ch(l);r.Zo()&&r.T_&&r.E_(e.mutations)}function ov(l){return Xh(l)&&!ch(l).Yo()&&l.v_.length>0}function s0(l){ch(l).start()}function c_(l){return o0.apply(this,arguments)}function o0(){return o0=(0,Be.A)(function*(l){ch(l).R_()}),o0.apply(this,arguments)}function ab(l){return cm.apply(this,arguments)}function cm(){return cm=(0,Be.A)(function*(l){const e=ch(l);for(const r of l.v_)e.E_(r.mutations)}),cm.apply(this,arguments)}function Jm(l,e,r){return a0.apply(this,arguments)}function a0(){return a0=(0,Be.A)(function*(l,e,r){const u=l.v_.shift(),v=Wp.from(u,e,r);yield l_(l,()=>l.remoteSyncer.applySuccessfulWrite(v)),yield kc(l)}),a0.apply(this,arguments)}function lb(l,e){return av.apply(this,arguments)}function av(){return av=(0,Be.A)(function*(l,e){var r;e&&ch(l).T_&&(yield(r=(0,Be.A)(function*(v,C){if(Gd(ue=C.code)&&ue!==ei.ABORTED){const R=v.v_.shift();ch(v).e_(),yield l_(v,()=>v.remoteSyncer.rejectFailedWrite(R.batchId,C)),yield kc(v)}var ue}),function u(v,C){return r.apply(this,arguments)})(l,e)),ov(l)&&s0(l)}),av.apply(this,arguments)}function eg(l,e){return dm.apply(this,arguments)}function dm(){return dm=(0,Be.A)(function*(l,e){const r=vi(l);r.asyncQueue.verifyOperationInProgress(),Ei("RemoteStore","RemoteStore received new credentials");const u=Xh(r);r.M_.add(3),yield om(r),u&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield sm(r)}),dm.apply(this,arguments)}function lh(l,e){return l0.apply(this,arguments)}function l0(){return l0=(0,Be.A)(function*(l,e){const r=vi(l);e?(r.M_.delete(2),yield sm(r)):e||(r.M_.add(2),yield om(r),r.N_.set("Unknown"))}),l0.apply(this,arguments)}function sl(l){return l.B_||(l.B_=function(r,u,v){const C=vi(r);return C.m_(),new eu(u,C.connection,C.authCredentials,C.appCheckCredentials,C.serializer,v)}(l.datastore,l.asyncQueue,{ho:ob.bind(null,l),Io:a_.bind(null,l),Eo:r0.bind(null,l),l_:ku.bind(null,l)}),l.x_.push(function(){var e=(0,Be.A)(function*(r){r?(l.B_.e_(),nv(l)?t0(l):l.N_.set("Unknown")):(yield l.B_.stop(),iv(l))});return function(r){return e.apply(this,arguments)}}())),l.B_}function ch(l){return l.k_||(l.k_=function(r,u,v){const C=vi(r);return C.m_(),new rb(u,C.connection,C.authCredentials,C.appCheckCredentials,C.serializer,v)}(l.datastore,l.asyncQueue,{ho:()=>Promise.resolve(),Io:c_.bind(null,l),Eo:lb.bind(null,l),A_:ab.bind(null,l),d_:Jm.bind(null,l)}),l.x_.push(function(){var e=(0,Be.A)(function*(r){r?(l.k_.e_(),yield kc(l)):(yield l.k_.stop(),l.v_.length>0&&(Ei("RemoteStore",`Stopping write stream with ${l.v_.length} pending writes`),l.v_=[]))});return function(r){return e.apply(this,arguments)}}())),l.k_}class Af{constructor(e,r,u,v,C){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=u,this.op=v,this.removalCallback=C,this.deferred=new po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(R=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,u,v,C){const R=Date.now()+u,ue=new Af(e,r,R,v,C);return ue.start(u),ue}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oi(ei.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ou(l,e){if(Lr("AsyncQueue",`${e}: ${l}`),os(l))return new Oi(ei.UNAVAILABLE,`${e}: ${l}`);throw l}class hc{constructor(e){this.comparator=e?(r,u)=>e(r,u)||ir.comparator(r.key,u.key):(r,u)=>ir.comparator(r.key,u.key),this.keyedMap=_f(),this.sortedSet=new wr(this.comparator)}static emptySet(e){return new hc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,u)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof hc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),u=e.sortedSet.getIterator();for(;r.hasNext();){const v=r.getNext().key,C=u.getNext().key;if(!v.isEqual(C))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const u=new hc;return u.comparator=this.comparator,u.keyedMap=e,u.sortedSet=r,u}}class kf{constructor(){this.q_=new wr(ir.comparator)}track(e){const r=e.doc.key,u=this.q_.get(r);u?0!==e.type&&3===u.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==u.type?this.q_=this.q_.insert(r,{type:u.type,doc:e.doc}):2===e.type&&2===u.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===u.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===u.type?this.q_=this.q_.remove(r):1===e.type&&2===u.type?this.q_=this.q_.insert(r,{type:1,doc:u.doc}):0===e.type&&1===u.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Zi():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,u)=>{e.push(u)}),e}}class Of{constructor(e,r,u,v,C,R,ue,Pe,tt){this.query=e,this.docs=r,this.oldDocs=u,this.docChanges=v,this.mutatedKeys=C,this.fromCache=R,this.syncStateChanged=ue,this.excludesMetadataChanges=Pe,this.hasCachedResults=tt}static fromInitialDocuments(e,r,u,v,C){const R=[];return r.forEach(ue=>{R.push({type:0,doc:ue})}),new Of(e,r,hc.emptySet(r),R,u,v,!0,!1,C)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,u=e.docChanges;if(r.length!==u.length)return!1;for(let v=0;v<r.length;v++)if(r[v].type!==u[v].type||!r[v].doc.isEqual(u[v].doc))return!1;return!0}}class lv{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class dh{constructor(){this.queries=new Ud(e=>Ta(e),yo),this.onlineState="Unknown",this.z_=new Set}}function Dl(l,e){return tg.apply(this,arguments)}function tg(){return tg=(0,Be.A)(function*(l,e){const r=vi(l);let u=3;const v=e.query;let C=r.queries.get(v);C?!C.W_()&&e.G_()&&(u=2):(C=new lv,u=e.G_()?0:1);try{switch(u){case 0:C.K_=yield r.onListen(v,!0);break;case 1:C.K_=yield r.onListen(v,!1);break;case 2:yield r.onFirstRemoteStoreListen(v)}}catch(R){const ue=Ou(R,`Initialization of query '${ka(e.query)}' failed`);return void e.onError(ue)}r.queries.set(v,C),C.U_.push(e),e.j_(r.onlineState),C.K_&&e.H_(C.K_)&&c0(r)}),tg.apply(this,arguments)}function Mp(l,e){return ng.apply(this,arguments)}function ng(){return ng=(0,Be.A)(function*(l,e){const r=vi(l),u=e.query;let v=3;const C=r.queries.get(u);if(C){const R=C.U_.indexOf(e);R>=0&&(C.U_.splice(R,1),0===C.U_.length?v=e.G_()?0:1:!C.W_()&&e.G_()&&(v=2))}switch(v){case 0:return r.queries.delete(u),r.onUnlisten(u,!0);case 1:return r.queries.delete(u),r.onUnlisten(u,!1);case 2:return r.onLastRemoteStoreUnlisten(u);default:return}}),ng.apply(this,arguments)}function d_(l,e){const r=vi(l);let u=!1;for(const v of e){const R=r.queries.get(v.query);if(R){for(const ue of R.U_)ue.H_(v)&&(u=!0);R.K_=v}}u&&c0(r)}function ig(l,e,r){const u=vi(l),v=u.queries.get(e);if(v)for(const C of v.U_)C.onError(r);u.queries.delete(e)}function c0(l){l.z_.forEach(e=>{e.next()})}var d0,Pf;(Pf=d0||(d0={})).J_="default",Pf.Cache="cache";class rg{constructor(e,r,u){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=u||{}}H_(e){if(!this.options.includeMetadataChanges){const u=[];for(const v of e.docChanges)3!==v.type&&u.push(v);e=new Of(e.query,e.docs,e.oldDocs,u,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Of.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==d0.Cache}}class sg{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class u_{constructor(e){this.serializer=e}hs(e){return Nl(this.serializer,e)}Ps(e){return e.metadata.exists?th(this.serializer,e.document,!1):cs.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Ns(e)}}class cv{constructor(e,r,u){this.oa=e,this.localStore=r,this.serializer=u,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=h_(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const u=Xr.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(u.get(u.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,u=new u_(this.serializer);for(const v of e)if(v.metadata.queries){const C=u.hs(v.metadata.name);for(const R of v.metadata.queries){const ue=(r.get(R)||sr()).add(C);r.set(R,ue)}}return r}complete(){var e=this;return(0,Be.A)(function*(){const r=yield function nb(l,e,r,u){return Qm.apply(this,arguments)}(e.localStore,new u_(e.serializer),e.documents,e.oa.id),u=e.aa(e.documents);for(const v of e.queries)yield yp(e.localStore,v,u.get(v.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function h_(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class u0{constructor(e){this.key=e}}class h0{constructor(e){this.key=e}}class Es{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=sr(),this.mutatedKeys=sr(),this.Ia=bu(e),this.Ta=new hc(this.Ia)}get Ea(){return this.la}da(e,r){const u=r?r.Aa:new kf,v=r?r.Ta:this.Ta;let C=r?r.mutatedKeys:this.mutatedKeys,R=v,ue=!1;const Pe="F"===this.query.limitType&&v.size===this.query.limit?v.last():null,tt="L"===this.query.limitType&&v.size===this.query.limit?v.first():null;if(e.inorderTraversal((Tt,tn)=>{const kn=v.get(Tt),ti=ba(this.query,tn)?tn:null,Ji=!!kn&&this.mutatedKeys.has(kn.key),Wi=!!ti&&(ti.hasLocalMutations||this.mutatedKeys.has(ti.key)&&ti.hasCommittedMutations);let hr=!1;kn&&ti?kn.data.isEqual(ti.data)?Ji!==Wi&&(u.track({type:3,doc:ti}),hr=!0):this.Ra(kn,ti)||(u.track({type:2,doc:ti}),hr=!0,(Pe&&this.Ia(ti,Pe)>0||tt&&this.Ia(ti,tt)<0)&&(ue=!0)):!kn&&ti?(u.track({type:0,doc:ti}),hr=!0):kn&&!ti&&(u.track({type:1,doc:kn}),hr=!0,(Pe||tt)&&(ue=!0)),hr&&(ti?(R=R.add(ti),C=Wi?C.add(Tt):C.delete(Tt)):(R=R.delete(Tt),C=C.delete(Tt)))}),null!==this.query.limit)for(;R.size>this.query.limit;){const Tt="F"===this.query.limitType?R.last():R.first();R=R.delete(Tt.key),C=C.delete(Tt.key),u.track({type:1,doc:Tt})}return{Ta:R,Aa:u,Zi:ue,mutatedKeys:C}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,u,v){const C=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const R=e.Aa.Q_();R.sort((Tt,tn)=>function(ti,Ji){const Wi=hr=>{switch(hr){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zi()}};return Wi(ti)-Wi(Ji)}(Tt.type,tn.type)||this.Ia(Tt.doc,tn.doc)),this.Va(u),v=null!=v&&v;const ue=r&&!v?this.ma():[],Pe=0===this.Pa.size&&this.current&&!v?1:0,tt=Pe!==this.ha;return this.ha=Pe,0!==R.length||tt?{snapshot:new Of(this.query,e.Ta,C,R,e.mutatedKeys,0===Pe,tt,!1,!!u&&u.resumeToken.approximateByteSize()>0),fa:ue}:{fa:ue}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new kf,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=sr(),this.Ta.forEach(u=>{this.ga(u.key)&&(this.Pa=this.Pa.add(u.key))});const r=[];return e.forEach(u=>{this.Pa.has(u)||r.push(new h0(u))}),this.Pa.forEach(u=>{e.has(u)||r.push(new u0(u))}),r}pa(e){this.la=e.ls,this.Pa=sr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Of.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Pu{constructor(e,r,u){this.query=e,this.targetId=r,this.view=u}}class f_{constructor(e){this.key=e,this.wa=!1}}class f0{constructor(e,r,u,v,C,R){this.localStore=e,this.remoteStore=r,this.eventManager=u,this.sharedClientState=v,this.currentUser=C,this.maxConcurrentLimboResolutions=R,this.Sa={},this.ba=new Ud(ue=>Ta(ue),yo),this.Da=new Map,this.Ca=new Set,this.va=new wr(ir.comparator),this.Fa=new Map,this.Ma=new Gm,this.xa={},this.Oa=new Map,this.Na=up.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function p_(l,e){return um.apply(this,arguments)}function um(){return um=(0,Be.A)(function*(l,e,r=!0){const u=cg(l);let v;const C=u.ba.get(e);return C?(u.sharedClientState.addLocalQueryTarget(C.targetId),v=C.view.ya()):v=yield hm(u,e,r,!0),v}),um.apply(this,arguments)}function uh(l,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,Be.A)(function*(l,e){const r=cg(l);yield hm(r,e,!0,!1)}),Ap.apply(this,arguments)}function hm(l,e,r,u){return p0.apply(this,arguments)}function p0(){return p0=(0,Be.A)(function*(l,e,r,u){const v=yield bd(l.localStore,ho(e)),C=v.targetId,R=r?l.sharedClientState.addLocalQueryTarget(C):"not-current";let ue;return u&&(ue=yield Rf(l,e,C,"current"===R,v.resumeToken)),l.isPrimaryClient&&r&&Dp(l.remoteStore,v),ue}),p0.apply(this,arguments)}function Rf(l,e,r,u,v){return m0.apply(this,arguments)}function m0(){return m0=(0,Be.A)(function*(l,e,r,u,v){l.Ba=(tn,kn,ti)=>{return(Ji=(0,Be.A)(function*(hr,Qr,Br,Vr){let gs=Qr.view.da(Br);gs.Zi&&(gs=yield vp(hr.localStore,Qr.query,!1).then(({documents:mh})=>Qr.view.da(mh,gs)));const vo=Vr&&Vr.targetChanges.get(Qr.targetId),wo=Vr&&null!=Vr.targetMismatches.get(Qr.targetId),Ea=Qr.view.applyChanges(gs,hr.isPrimaryClient,vo,wo);return qh(hr,Qr.targetId,Ea.fa),Ea.snapshot}),function Wi(hr,Qr,Br,Vr){return Ji.apply(this,arguments)})(l,tn,kn,ti);var Ji};const C=yield vp(l.localStore,e,!0),R=new Es(e,C.ls),ue=R.da(C.documents),Pe=Xd.createSynthesizedTargetChangeForCurrentChange(r,u&&"Offline"!==l.onlineState,v),tt=R.applyChanges(ue,l.isPrimaryClient,Pe);qh(l,r,tt.fa);const Tt=new Pu(e,r,R);return l.ba.set(e,Tt),l.Da.has(r)?l.Da.get(r).push(e):l.Da.set(r,[e]),tt.snapshot}),m0.apply(this,arguments)}function m_(l,e,r){return g0.apply(this,arguments)}function g0(){return g0=(0,Be.A)(function*(l,e,r){const u=vi(l),v=u.ba.get(e),C=u.Da.get(v.targetId);if(C.length>1)return u.Da.set(v.targetId,C.filter(R=>!yo(R,e))),void u.ba.delete(e);u.isPrimaryClient?(u.sharedClientState.removeLocalQueryTarget(v.targetId),u.sharedClientState.isActiveQueryTarget(v.targetId)||(yield Jc(u.localStore,v.targetId,!1).then(()=>{u.sharedClientState.clearQueryState(v.targetId),r&&oh(u.remoteStore,v.targetId),fm(u,v.targetId)}).catch(ie))):(fm(u,v.targetId),yield Jc(u.localStore,v.targetId,!0))}),g0.apply(this,arguments)}function dv(l,e){return g_.apply(this,arguments)}function g_(){return g_=(0,Be.A)(function*(l,e){const r=vi(l),u=r.ba.get(e),v=r.Da.get(u.targetId);r.isPrimaryClient&&1===v.length&&(r.sharedClientState.removeLocalQueryTarget(u.targetId),oh(r.remoteStore,u.targetId))}),g_.apply(this,arguments)}function v_(){return v_=(0,Be.A)(function*(l,e,r){const u=pm(l);try{const v=yield function(R,ue){const Pe=vi(R),tt=ls.now(),Tt=ue.reduce((ti,Ji)=>ti.add(Ji.key),sr());let tn,kn;return Pe.persistence.runTransaction("Locally write mutations","readwrite",ti=>{let Ji=wl(),Wi=sr();return Pe.ss.getEntries(ti,Tt).next(hr=>{Ji=hr,Ji.forEach((Qr,Br)=>{Br.isValidDocument()||(Wi=Wi.add(Qr))})}).next(()=>Pe.localDocuments.getOverlayedDocuments(ti,Ji)).next(hr=>{tn=hr;const Qr=[];for(const Br of ue){const Vr=Oa(Br,tn.get(Br.key).overlayedDocument);null!=Vr&&Qr.push(new jr(Br.key,Vr,kg(Vr.value.mapValue),jo.exists(!0)))}return Pe.mutationQueue.addMutationBatch(ti,tt,Qr,ue)}).next(hr=>{kn=hr;const Qr=hr.applyToLocalDocumentSet(tn,Wi);return Pe.documentOverlayCache.saveOverlays(ti,hr.batchId,Qr)})}).then(()=>({batchId:kn.batchId,changes:vf(tn)}))}(u.localStore,e);u.sharedClientState.addPendingMutation(v.batchId),function(R,ue,Pe){let tt=R.xa[R.currentUser.toKey()];tt||(tt=new wr(is)),tt=tt.insert(ue,Pe),R.xa[R.currentUser.toKey()]=tt}(u,v.batchId,r),yield Zh(u,v.changes),yield kc(u.remoteStore)}catch(v){const C=Ou(v,"Failed to persist write");r.reject(C)}}),v_.apply(this,arguments)}function cb(l,e){return uv.apply(this,arguments)}function uv(){return uv=(0,Be.A)(function*(l,e){const r=vi(l);try{const u=yield function $h(l,e){const r=vi(l),u=e.snapshotVersion;let v=r.ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",C=>{const R=r.ss.newChangeBuffer({trackRemovals:!0});v=r.ts;const ue=[];e.targetChanges.forEach((Tt,tn)=>{const kn=v.get(tn);if(!kn)return;ue.push(r.qr.removeMatchingKeys(C,Tt.removedDocuments,tn).next(()=>r.qr.addMatchingKeys(C,Tt.addedDocuments,tn)));let ti=kn.withSequenceNumber(C.currentSequenceNumber);var Wi,hr,Qr;null!==e.targetMismatches.get(tn)?ti=ti.withResumeToken(Ja.EMPTY_BYTE_STRING,cr.min()).withLastLimboFreeSnapshotVersion(cr.min()):Tt.resumeToken.approximateByteSize()>0&&(ti=ti.withResumeToken(Tt.resumeToken,u)),v=v.insert(tn,ti),hr=ti,Qr=Tt,(0===(Wi=kn).resumeToken.approximateByteSize()||hr.snapshotVersion.toMicroseconds()-Wi.snapshotVersion.toMicroseconds()>=3e8||Qr.addedDocuments.size+Qr.modifiedDocuments.size+Qr.removedDocuments.size>0)&&ue.push(r.qr.updateTargetData(C,ti))});let Pe=wl(),tt=sr();if(e.documentUpdates.forEach(Tt=>{e.resolvedLimboDocuments.has(Tt)&&ue.push(r.persistence.referenceDelegate.updateLimboDocument(C,Tt))}),ue.push(Jd(C,R,e.documentUpdates).next(Tt=>{Pe=Tt.us,tt=Tt.cs})),!u.isEqual(cr.min())){const Tt=r.qr.getLastRemoteSnapshotVersion(C).next(tn=>r.qr.setTargetsMetadata(C,C.currentSequenceNumber,u));ue.push(Tt)}return Ae.waitFor(ue).next(()=>R.apply(C)).next(()=>r.localDocuments.getLocalViewOfDocuments(C,Pe,tt)).next(()=>Pe)}).then(C=>(r.ts=v,C))}(r.localStore,e);e.targetChanges.forEach((v,C)=>{const R=r.Fa.get(C);R&&(ar(v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size<=1),v.addedDocuments.size>0?R.wa=!0:v.modifiedDocuments.size>0?ar(R.wa):v.removedDocuments.size>0&&(ar(R.wa),R.wa=!1))}),yield Zh(r,u,e)}catch(u){yield ie(u)}}),uv.apply(this,arguments)}function hv(l,e,r){const u=vi(l);if(u.isPrimaryClient&&0===r||!u.isPrimaryClient&&1===r){const v=[];u.ba.forEach((C,R)=>{const ue=R.view.j_(e);ue.snapshot&&v.push(ue.snapshot)}),function(R,ue){const Pe=vi(R);Pe.onlineState=ue;let tt=!1;Pe.queries.forEach((Tt,tn)=>{for(const kn of tn.U_)kn.j_(ue)&&(tt=!0)}),tt&&c0(Pe)}(u.eventManager,e),v.length&&u.Sa.l_(v),u.onlineState=e,u.isPrimaryClient&&u.sharedClientState.setOnlineState(e)}}function qb(l,e,r){return fv.apply(this,arguments)}function fv(){return fv=(0,Be.A)(function*(l,e,r){const u=vi(l);u.sharedClientState.updateQueryState(e,"rejected",r);const v=u.Fa.get(e),C=v&&v.key;if(C){let R=new wr(ir.comparator);R=R.insert(C,cs.newNoDocument(C,cr.min()));const ue=sr().add(C),Pe=new Yd(cr.min(),new Map,new wr(is),R,ue);yield cb(u,Pe),u.va=u.va.remove(C),u.Fa.delete(e),mv(u)}else yield Jc(u.localStore,e,!1).then(()=>fm(u,e,r)).catch(ie)}),fv.apply(this,arguments)}function Zb(l,e){return tu.apply(this,arguments)}function tu(){return tu=(0,Be.A)(function*(l,e){const r=vi(l),u=e.batch.batchId;try{const v=yield function ua(l,e){const r=vi(l);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",u=>{const v=e.batch.keys(),C=r.ss.newChangeBuffer({trackRemovals:!0});return function(ue,Pe,tt,Tt){const tn=tt.batch,kn=tn.keys();let ti=Ae.resolve();return kn.forEach(Ji=>{ti=ti.next(()=>Tt.getEntry(Pe,Ji)).next(Wi=>{const hr=tt.docVersions.get(Ji);ar(null!==hr),Wi.version.compareTo(hr)<0&&(tn.applyToRemoteDocument(Wi,tt),Wi.isValidDocument()&&(Wi.setReadTime(tt.commitVersion),Tt.addEntry(Wi)))})}),ti.next(()=>ue.mutationQueue.removeMutationBatch(Pe,tn))}(r,u,e,C).next(()=>C.apply(u)).next(()=>r.mutationQueue.performConsistencyCheck(u)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(u,v,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,function(ue){let Pe=sr();for(let tt=0;tt<ue.mutationResults.length;++tt)ue.mutationResults[tt].transformResults.length>0&&(Pe=Pe.add(ue.batch.mutations[tt].key));return Pe}(e))).next(()=>r.localDocuments.getDocuments(u,v))})}(r.localStore,e);ag(r,u,null),ja(r,u),r.sharedClientState.updateMutationState(u,"acknowledged"),yield Zh(r,v)}catch(v){yield ie(v)}}),tu.apply(this,arguments)}function pv(l,e,r){return og.apply(this,arguments)}function og(){return og=(0,Be.A)(function*(l,e,r){const u=vi(l);try{const v=yield function(R,ue){const Pe=vi(R);return Pe.persistence.runTransaction("Reject batch","readwrite-primary",tt=>{let Tt;return Pe.mutationQueue.lookupMutationBatch(tt,ue).next(tn=>(ar(null!==tn),Tt=tn.keys(),Pe.mutationQueue.removeMutationBatch(tt,tn))).next(()=>Pe.mutationQueue.performConsistencyCheck(tt)).next(()=>Pe.documentOverlayCache.removeOverlaysForBatchId(tt,Tt,ue)).next(()=>Pe.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(tt,Tt)).next(()=>Pe.localDocuments.getDocuments(tt,Tt))})}(u.localStore,e);ag(u,e,r),ja(u,e),u.sharedClientState.updateMutationState(e,"rejected",r),yield Zh(u,v)}catch(v){yield ie(v)}}),og.apply(this,arguments)}function b_(){return b_=(0,Be.A)(function*(l,e){const r=vi(l);Xh(r.remoteStore)||Ei("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const u=yield function(R){const ue=vi(R);return ue.persistence.runTransaction("Get highest unacknowledged batch id","readonly",Pe=>ue.mutationQueue.getHighestUnacknowledgedBatchId(Pe))}(r.localStore);if(-1===u)return void e.resolve();const v=r.Oa.get(u)||[];v.push(e),r.Oa.set(u,v)}catch(u){const v=Ou(u,"Initialization of waitForPendingWrites() operation failed");e.reject(v)}}),b_.apply(this,arguments)}function ja(l,e){(l.Oa.get(e)||[]).forEach(r=>{r.resolve()}),l.Oa.delete(e)}function ag(l,e,r){const u=vi(l);let v=u.xa[u.currentUser.toKey()];if(v){const C=v.get(e);C&&(r?C.reject(r):C.resolve(),v=v.remove(e)),u.xa[u.currentUser.toKey()]=v}}function fm(l,e,r=null){l.sharedClientState.removeLocalQueryTarget(e);for(const u of l.Da.get(e))l.ba.delete(u),r&&l.Sa.ka(u,r);l.Da.delete(e),l.isPrimaryClient&&l.Ma.Rr(e).forEach(u=>{l.Ma.containsKey(u)||y_(l,u)})}function y_(l,e){l.Ca.delete(e.path.canonicalString());const r=l.va.get(e);null!==r&&(oh(l.remoteStore,r),l.va=l.va.remove(e),l.Fa.delete(r),mv(l))}function qh(l,e,r){for(const u of r)u instanceof u0?(l.Ma.addReference(u.key,e),v0(l,u)):u instanceof h0?(Ei("SyncEngine","Document no longer in limbo: "+u.key),l.Ma.removeReference(u.key,e),l.Ma.containsKey(u.key)||y_(l,u.key)):Zi()}function v0(l,e){const r=e.key,u=r.path.canonicalString();l.va.get(r)||l.Ca.has(u)||(Ei("SyncEngine","New document in limbo: "+r),l.Ca.add(u),mv(l))}function mv(l){for(;l.Ca.size>0&&l.va.size<l.maxConcurrentLimboResolutions;){const e=l.Ca.values().next().value;l.Ca.delete(e);const r=new ir(Xr.fromString(e)),u=l.Na.next();l.Fa.set(u,new f_(r)),l.va=l.va.insert(r,u),Dp(l.remoteStore,new nh(ho(Tc(r.path)),u,"TargetPurposeLimboResolution",nn.oe))}}function Zh(l,e,r){return gv.apply(this,arguments)}function gv(){return gv=(0,Be.A)(function*(l,e,r){const u=vi(l),v=[],C=[],R=[];var ue;u.ba.isEmpty()||(u.ba.forEach((ue,Pe)=>{R.push(u.Ba(Pe,e,r).then(tt=>{if((tt||r)&&u.isPrimaryClient&&u.sharedClientState.updateQueryState(Pe.targetId,tt?.fromCache?"not-current":"current"),tt){v.push(tt);const Tt=Z_.Qi(Pe.targetId,tt);C.push(Tt)}}))}),yield Promise.all(R),u.Sa.l_(v),yield(ue=(0,Be.A)(function*(tt,Tt){const tn=vi(tt);try{yield tn.persistence.runTransaction("notifyLocalViewChanges","readwrite",kn=>Ae.forEach(Tt,ti=>Ae.forEach(ti.ki,Ji=>tn.persistence.referenceDelegate.addReference(kn,ti.targetId,Ji)).next(()=>Ae.forEach(ti.qi,Ji=>tn.persistence.referenceDelegate.removeReference(kn,ti.targetId,Ji)))))}catch(kn){if(!os(kn))throw kn;Ei("LocalStore","Failed to update sequence numbers: "+kn)}for(const kn of Tt){const ti=kn.targetId;if(!kn.fromCache){const Ji=tn.ts.get(ti),hr=Ji.withLastLimboFreeSnapshotVersion(Ji.snapshotVersion);tn.ts=tn.ts.insert(ti,hr)}}}),function Pe(tt,Tt){return ue.apply(this,arguments)})(u.localStore,C))}),gv.apply(this,arguments)}function _v(l,e){return vv.apply(this,arguments)}function vv(){return vv=(0,Be.A)(function*(l,e){const r=vi(l);if(!r.currentUser.isEqual(e)){Ei("SyncEngine","User change. New user:",e.toKey());const u=yield Zg(r.localStore,e);r.currentUser=e,(C=r).Oa.forEach(ue=>{ue.forEach(Pe=>{Pe.reject(new Oi(ei.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),C.Oa.clear(),r.sharedClientState.handleUserChange(e,u.removedBatchIds,u.addedBatchIds),yield Zh(r,u._s)}var C}),vv.apply(this,arguments)}function Jb(l,e){const r=vi(l),u=r.Fa.get(e);if(u&&u.wa)return sr().add(u.key);{let v=sr();const C=r.Da.get(e);if(!C)return v;for(const R of C){const ue=r.ba.get(R);v=v.unionWith(ue.view.Ea)}return v}}function bv(l,e){return yv.apply(this,arguments)}function yv(){return yv=(0,Be.A)(function*(l,e){const r=vi(l),u=yield vp(r.localStore,e.query,!0),v=e.view.pa(u);return r.isPrimaryClient&&qh(r,e.targetId,v.fa),v}),yv.apply(this,arguments)}function ey(l,e){return Ev.apply(this,arguments)}function Ev(){return Ev=(0,Be.A)(function*(l,e){const r=vi(l);return bp(r.localStore,e).then(u=>Zh(r,u))}),Ev.apply(this,arguments)}function ty(l,e,r,u){return xv.apply(this,arguments)}function xv(){return xv=(0,Be.A)(function*(l,e,r,u){const v=vi(l),C=yield function(ue,Pe){const tt=vi(ue),Tt=vi(tt.mutationQueue);return tt.persistence.runTransaction("Lookup mutation documents","readonly",tn=>Tt.Cn(tn,Pe).next(kn=>kn?tt.localDocuments.getDocuments(tn,kn):Ae.resolve(null)))}(v.localStore,e);var Pe;null!==C?("pending"===r?yield kc(v.remoteStore):"acknowledged"===r||"rejected"===r?(ag(v,e,u||null),ja(v,e),Pe=e,vi(vi(v.localStore).mutationQueue).Fn(Pe)):Zi(),yield Zh(v,C)):Ei("SyncEngine","Cannot apply mutation batch with id: "+e)}),xv.apply(this,arguments)}function E_(){return E_=(0,Be.A)(function*(l,e){const r=vi(l);if(cg(r),pm(r),!0===e&&!0!==r.La){const u=r.sharedClientState.getAllActiveQueryTargets(),v=yield ny(r,u.toArray());r.La=!0,yield lh(r.remoteStore,!0);for(const C of v)Dp(r.remoteStore,C)}else if(!1===e&&!1!==r.La){const u=[];let v=Promise.resolve();r.Da.forEach((C,R)=>{r.sharedClientState.isLocalQueryTarget(R)?u.push(R):v=v.then(()=>(fm(r,R),Jc(r.localStore,R,!0))),oh(r.remoteStore,R)}),yield v,yield ny(r,u),function(R){const ue=vi(R);ue.Fa.forEach((Pe,tt)=>{oh(ue.remoteStore,tt)}),ue.Ma.Vr(),ue.Fa=new Map,ue.va=new wr(ir.comparator)}(r),r.La=!1,yield lh(r.remoteStore,!1)}}),E_.apply(this,arguments)}function ny(l,e,r){return db.apply(this,arguments)}function db(){return db=(0,Be.A)(function*(l,e,r){const u=vi(l),v=[],C=[];for(const R of e){let ue;const Pe=u.Da.get(R);if(Pe&&0!==Pe.length){ue=yield bd(u.localStore,ho(Pe[0]));for(const tt of Pe){const Tt=u.ba.get(tt),tn=yield bv(u,Tt);tn.snapshot&&C.push(tn.snapshot)}}else{const tt=yield i_(u.localStore,R);ue=yield bd(u.localStore,tt),yield Rf(u,wv(tt),R,!1,ue.resumeToken)}v.push(ue)}return u.Sa.l_(C),v}),db.apply(this,arguments)}function wv(l){return vs(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function ub(l){return r=vi(l).localStore,vi(vi(r).persistence).Li();var r}function b0(l,e,r,u){return lg.apply(this,arguments)}function lg(){return lg=(0,Be.A)(function*(l,e,r,u){const v=vi(l);if(v.La)return void Ei("SyncEngine","Ignoring unexpected query state notification.");const C=v.Da.get(e);if(C&&C.length>0)switch(r){case"current":case"not-current":{const R=yield bp(v.localStore,$p(C[0])),ue=Yd.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Ja.EMPTY_BYTE_STRING);yield Zh(v,R,ue);break}case"rejected":yield Jc(v.localStore,e,!0),fm(v,e,u);break;default:Zi()}}),lg.apply(this,arguments)}function x_(l,e,r){return w_.apply(this,arguments)}function w_(){return w_=(0,Be.A)(function*(l,e,r){const u=cg(l);if(u.La){for(const v of e){if(u.Da.has(v)&&u.sharedClientState.isActiveQueryTarget(v)){Ei("SyncEngine","Adding an already active target "+v);continue}const C=yield i_(u.localStore,v),R=yield bd(u.localStore,C);yield Rf(u,wv(C),R.targetId,!1,R.resumeToken),Dp(u.remoteStore,R)}for(const v of r)u.Da.has(v)&&(yield Jc(u.localStore,v,!1).then(()=>{oh(u.remoteStore,v),fm(u,v)}).catch(ie))}}),w_.apply(this,arguments)}function cg(l){const e=vi(l);return e.remoteStore.remoteSyncer.applyRemoteEvent=cb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qb.bind(null,e),e.Sa.l_=d_.bind(null,e.eventManager),e.Sa.ka=ig.bind(null,e.eventManager),e}function pm(l){const e=vi(l);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pv.bind(null,e),e}class Da{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,Be.A)(function*(){r.serializer=Wh(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return _d(this.persistence,new J_,e.initialUser,this.serializer)}createPersistence(e){return new Mc(Sf.jr,this.serializer)}createSharedClientState(e){return new im}terminate(){var e=this;return(0,Be.A)(function*(){var r,u;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(u=e.indexBackfillerScheduler)||void 0===u||u.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kp extends Da{constructor(e,r,u){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=u,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,u=this;return(0,Be.A)(function*(){yield r().call(u,e),yield u.Qa.initialize(u,e),yield pm(u.Qa.syncEngine),yield kc(u.Qa.remoteStore),yield u.persistence.mi(()=>(u.gcScheduler&&!u.gcScheduler.started&&u.gcScheduler.start(),u.indexBackfillerScheduler&&!u.indexBackfillerScheduler.started&&u.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return _d(this.persistence,new J_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new $m(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const u=new Gu(r,this.persistence);return new Ba(e.asyncQueue,u)}createPersistence(e){const r=Hh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?Bl.withCacheSize(this.cacheSizeBytes):Bl.DEFAULT;return new Ym(this.synchronizeTabs,r,e.clientId,u,e.asyncQueue,Yb(),Tp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new im}}class hb extends kp{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,u=this;return(0,Be.A)(function*(){yield r().call(u,e);const v=u.Qa.syncEngine;u.sharedClientState instanceof Ac&&(u.sharedClientState.syncEngine={Ys:ty.bind(null,v),Zs:b0.bind(null,v),Xs:x_.bind(null,v),Li:ub.bind(null,v),Js:ey.bind(null,v)},yield u.sharedClientState.start()),yield u.persistence.mi(function(){var C=(0,Be.A)(function*(R){yield function yd(l,e){return E_.apply(this,arguments)}(u.Qa.syncEngine,R),u.gcScheduler&&(R&&!u.gcScheduler.started?u.gcScheduler.start():R||u.gcScheduler.stop()),u.indexBackfillerScheduler&&(R&&!u.indexBackfillerScheduler.started?u.indexBackfillerScheduler.start():R||u.indexBackfillerScheduler.stop())});return function(R){return C.apply(this,arguments)}}())})()}createSharedClientState(e){const r=Yb();if(!Ac.D(r))throw new Oi(ei.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const u=Hh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ac(r,e.asyncQueue,u,e.clientId,e.initialUser)}}class Lf{initialize(e,r){var u=this;return(0,Be.A)(function*(){u.localStore||(u.localStore=e.localStore,u.sharedClientState=e.sharedClientState,u.datastore=u.createDatastore(r),u.remoteStore=u.createRemoteStore(r),u.eventManager=u.createEventManager(r),u.syncEngine=u.createSyncEngine(r,!e.synchronizeTabs),u.sharedClientState.onlineStateHandler=v=>hv(u.syncEngine,v,1),u.remoteStore.remoteSyncer.handleCredentialChange=_v.bind(null,u.syncEngine),yield lh(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dh}createDatastore(e){const r=Wh(e.databaseInfo.databaseId),u=new Jg(e.databaseInfo);return new sb(e.authCredentials,e.appCheckCredentials,u,r)}createRemoteStore(e){return u=this.localStore,v=this.datastore,C=e.asyncQueue,R=r=>hv(this.syncEngine,r,0),ue=tv.D()?new tv:new ib,new Sp(u,v,C,R,ue);var u,v,C,R,ue}createSyncEngine(e,r){return function(v,C,R,ue,Pe,tt,Tt){const tn=new f0(v,C,R,ue,Pe,tt);return Tt&&(tn.La=!0),tn}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,Be.A)(function*(){var r,u;yield(u=(0,Be.A)(function*(C){const R=vi(C);Ei("RemoteStore","RemoteStore shutting down."),R.M_.add(5),yield om(R),R.O_.shutdown(),R.N_.set("Unknown")}),function v(C){return u.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function fb(l,e=10240){let r=0;return{read:()=>(0,Be.A)(function*(){if(r<l.byteLength){const u={value:l.slice(r,r+e),done:!1};return r+=e,u}return{done:!0}})(),cancel:()=>(0,Be.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Nf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class dg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new po,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(u=>{u&&u.sa()?this.metadata.resolve(u.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(u?.ia)}`))},u=>this.metadata.reject(u))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,Be.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,Be.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,Be.A)(function*(){const r=yield e.za();if(null===r)return null;const u=e.Wa.decode(r),v=Number(u);isNaN(v)&&e.ja(`length string (${u}) is not valid number`);const C=yield e.Ha(v);return new sg(JSON.parse(C),r.length+v)})()}Ja(){return this.buffer.findIndex(e=>123===e)}za(){var e=this;return(0,Be.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const u=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),u})()}Ha(e){var r=this;return(0,Be.A)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const u=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),u})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,Be.A)(function*(){const r=yield e.Ua.read();if(!r.done){const u=new Uint8Array(e.buffer.length+r.value.length);u.set(e.buffer),u.set(r.value,e.buffer.length),e.buffer=u}return r.done})()}}class Op{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,Be.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Oi(ei.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const u=yield(v=(0,Be.A)(function*(R,ue){const Pe=vi(R),tt={documents:ue.map(ti=>wu(Pe.serializer,ti))},Tt=yield Pe.Mo("BatchGetDocuments",Pe.serializer.databaseId,Xr.emptyPath(),tt,ue.length),tn=new Map;Tt.forEach(ti=>{const Ji=function Fm(l,e){return"found"in e?function(u,v){ar(!!v.found);const C=Nl(u,v.found.name),R=Ns(v.found.updateTime),ue=v.found.createTime?Ns(v.found.createTime):cr.min(),Pe=new Ua({mapValue:{fields:v.found.fields}});return cs.newFoundDocument(C,R,ue,Pe)}(l,e):"missing"in e?function(u,v){ar(!!v.missing),ar(!!v.readTime);const C=Nl(u,v.missing),R=Ns(v.readTime);return cs.newNoDocument(C,R)}(l,e):Zi()}(Pe.serializer,ti);tn.set(Ji.key.toString(),Ji)});const kn=[];return ue.forEach(ti=>{const Ji=tn.get(ti.toString());ar(!!Ji),kn.push(Ji)}),kn}),function C(R,ue){return v.apply(this,arguments)})(r.datastore,e);var v;return u.forEach(v=>r.recordVersion(v)),u})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(u){this.lastTransactionError=u}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ro(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Be.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var u;e.mutations.forEach(u=>{r.delete(u.key.toString())}),r.forEach((u,v)=>{const C=ir.fromPath(v);e.mutations.push(new Zf(C,e.precondition(C)))}),yield(u=(0,Be.A)(function*(C,R){const ue=vi(C),Pe={writes:R.map(tt=>wf(ue.serializer,tt))};yield ue.Do("Commit",ue.serializer.databaseId,Xr.emptyPath(),Pe)}),function v(C,R){return u.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Zi();r=cr.min()}const u=this.readVersions.get(e.key.toString());if(u){if(!r.isEqual(u))throw new Oi(ei.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(cr.min())?jo.exists(!1):jo.updateTime(r):jo.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(cr.min()))throw new Oi(ei.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jo.updateTime(r)}return jo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nu{constructor(e,r,u,v,C){this.asyncQueue=e,this.datastore=r,this.options=u,this.updateFunction=v,this.deferred=C,this.Za=u.maxAttempts,this.Jo=new ed(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Jo.Ko((0,Be.A)(function*(){const r=new Op(e.datastore),u=e.tu(r);u&&u.then(v=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(v)}).catch(C=>{e.nu(C)}))}).catch(v=>{e.nu(v)})}))}tu(e){try{const r=this.updateFunction(e);return!Wu(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Gd(r)}return!1}}class y0{constructor(e,r,u,v){var C=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=u,this.databaseInfo=v,this.user=Ps.UNAUTHENTICATED,this.clientId=$f.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(u,function(){var R=(0,Be.A)(function*(ue){Ei("FirestoreClient","Received user=",ue.uid),yield C.authCredentialListener(ue),C.user=ue});return function(ue){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(u,R=>(Ei("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oi(ei.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Be.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(u){const v=Ou(u,"Failed to shutdown persistence");r.reject(v)}})),r.promise}}function Ff(l,e){return mm.apply(this,arguments)}function mm(){return mm=(0,Be.A)(function*(l,e){l.asyncQueue.verifyOperationInProgress(),Ei("FirestoreClient","Initializing OfflineComponentProvider");const r=l.configuration;yield e.initialize(r);let u=r.initialUser;l.setCredentialChangeListener(function(){var v=(0,Be.A)(function*(C){u.isEqual(C)||(yield Zg(e.localStore,C),u=C)});return function(C){return v.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=e}),mm.apply(this,arguments)}function E0(l,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,Be.A)(function*(l,e){l.asyncQueue.verifyOperationInProgress();const r=yield Ru(l);Ei("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,l.configuration),l.setCredentialChangeListener(u=>eg(e.remoteStore,u)),l.setAppCheckTokenChangeListener((u,v)=>eg(e.remoteStore,v)),l._onlineComponents=e}),Bf.apply(this,arguments)}function C_(l){return"FirebaseError"===l.name?l.code===ei.FAILED_PRECONDITION||l.code===ei.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function Ru(l){return td.apply(this,arguments)}function td(){return td=(0,Be.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){Ei("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ff(l,l._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!C_(r))throw r;Rs("Error using user provided cache. Falling back to memory cache: "+r),yield Ff(l,new Da)}}else Ei("FirestoreClient","Using default OfflineComponentProvider"),yield Ff(l,new Da);return l._offlineComponents}),td.apply(this,arguments)}function fc(l){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,Be.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(Ei("FirestoreClient","Using user provided OnlineComponentProvider"),yield E0(l,l._uninitializedComponentsProvider._online)):(Ei("FirestoreClient","Using default OnlineComponentProvider"),yield E0(l,new Lf))),l._onlineComponents}),Pp.apply(this,arguments)}function Cv(l){return Ru(l).then(e=>e.persistence)}function ug(l){return Ru(l).then(e=>e.localStore)}function T_(l){return fc(l).then(e=>e.remoteStore)}function Tv(l){return fc(l).then(e=>e.syncEngine)}function gm(l){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,Be.A)(function*(l){const e=yield fc(l),r=e.eventManager;return r.onListen=p_.bind(null,e.syncEngine),r.onUnlisten=m_.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=uh.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=dv.bind(null,e.syncEngine),r}),Dv.apply(this,arguments)}function hg(l,e,r={}){const u=new po;return l.asyncQueue.enqueueAndForget((0,Be.A)(function*(){return function(C,R,ue,Pe,tt){const Tt=new Nf({next:kn=>{R.enqueueAndForget(()=>Mp(C,tn));const ti=kn.docs.has(ue);!ti&&kn.fromCache?tt.reject(new Oi(ei.UNAVAILABLE,"Failed to get document because the client is offline.")):ti&&kn.fromCache&&Pe&&"server"===Pe.source?tt.reject(new Oi(ei.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):tt.resolve(kn)},error:kn=>tt.reject(kn)}),tn=new rg(Tc(ue.path),Tt,{includeMetadataChanges:!0,ra:!0});return Dl(C,tn)}(yield gm(l),l.asyncQueue,e,r,u)})),u.promise}function fg(l,e,r={}){const u=new po;return l.asyncQueue.enqueueAndForget((0,Be.A)(function*(){return function(C,R,ue,Pe,tt){const Tt=new Nf({next:kn=>{R.enqueueAndForget(()=>Mp(C,tn)),kn.fromCache&&"server"===Pe.source?tt.reject(new Oi(ei.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):tt.resolve(kn)},error:kn=>tt.reject(kn)}),tn=new rg(ue,Tt,{includeMetadataChanges:!0,ra:!0});return Dl(C,tn)}(yield gm(l),l.asyncQueue,e,r,u)})),u.promise}function w0(l){const e={};return void 0!==l.timeoutSeconds&&(e.timeoutSeconds=l.timeoutSeconds),e}const M_=new Map;function kv(l,e,r){if(!r)throw new Oi(ei.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${e}.`)}function A_(l,e,r,u){if(!0===e&&!0===u)throw new Oi(ei.INVALID_ARGUMENT,`${l} and ${r} cannot be used together.`)}function pg(l){if(!ir.isDocumentKey(l))throw new Oi(ei.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function sy(l){if(ir.isDocumentKey(l))throw new Oi(ei.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Ov(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const e=(u=l).constructor?u.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var u;return"function"==typeof l?"a function":Zi()}function Js(l,e){if("_delegate"in l&&(l=l._delegate),!(l instanceof e)){if(e.name===l.constructor.name)throw new Oi(ei.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ov(l);throw new Oi(ei.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return l}function mb(l,e){if(e<=0)throw new Oi(ei.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${e}.`)}class gb{constructor(e){var r,u;if(void 0===e.host){if(void 0!==e.ssl)throw new Oi(ei.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oi(ei.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=w0(null!==(u=e.experimentalLongPollingOptions)&&void 0!==u?u:{}),function(C){if(void 0!==C.timeoutSeconds){if(isNaN(C.timeoutSeconds))throw new Oi(ei.INVALID_ARGUMENT,`invalid long polling timeout: ${C.timeoutSeconds} (must not be NaN)`);if(C.timeoutSeconds<5)throw new Oi(ei.INVALID_ARGUMENT,`invalid long polling timeout: ${C.timeoutSeconds} (minimum allowed value is 5)`);if(C.timeoutSeconds>30)throw new Oi(ei.INVALID_ARGUMENT,`invalid long polling timeout: ${C.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oc{constructor(e,r,u,v){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=u,this._app=v,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oi(ei.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oi(ei.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gb(e),void 0!==e.credentials&&(this._authCredentials=function(u){if(!u)return new Uu;switch(u.type){case"firstParty":return new wm(u.sessionIndex||"0",u.iamToken||null,u.authTokenFactory||null);case"provider":return u.client;default:throw new Oi(ei.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const u=M_.get(r);u&&(Ei("ComponentProvider","Removing Datastore"),M_.delete(r),u.terminate())}(this),Promise.resolve()}}class Vl{constructor(e,r,u){this.converter=r,this._query=u,this.type="query",this.firestore=e}withConverter(e){return new Vl(this.firestore,e,this._query)}}class Eo{constructor(e,r,u){this.converter=r,this._key=u,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Eo(this.firestore,e,this._key)}}class fh extends Vl{constructor(e,r,u){super(e,r,Tc(u)),this._path=u,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Eo(this.firestore,null,new ir(e))}withConverter(e){return new fh(this.firestore,e,this._path)}}function Jh(l,e,...r){if(l=(0,ae.Ku)(l),kv("collection","path",e),l instanceof Oc){const u=Xr.fromString(e,...r);return sy(u),new fh(l,null,u)}{if(!(l instanceof Eo||l instanceof fh))throw new Oi(ei.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=l._path.child(Xr.fromString(e,...r));return sy(u),new fh(l.firestore,null,u)}}function _m(l,e,...r){if(l=(0,ae.Ku)(l),1===arguments.length&&(e=$f.newId()),kv("doc","path",e),l instanceof Oc){const u=Xr.fromString(e,...r);return pg(u),new Eo(l,null,new ir(u))}{if(!(l instanceof Eo||l instanceof fh))throw new Oi(ei.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=l._path.child(Xr.fromString(e,...r));return pg(u),new Eo(l.firestore,l instanceof fh?l.converter:null,new ir(u))}}function Rp(l,e){return l=(0,ae.Ku)(l),e=(0,ae.Ku)(e),(l instanceof Eo||l instanceof fh)&&(e instanceof Eo||e instanceof fh)&&l.firestore===e.firestore&&l.path===e.path&&l.converter===e.converter}function C0(l,e){return l=(0,ae.Ku)(l),e=(0,ae.Ku)(e),l instanceof Vl&&e instanceof Vl&&l.firestore===e.firestore&&yo(l._query,e._query)&&l.converter===e.converter}class vb{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new ed(this,"async_queue_retry"),this.hu=()=>{const r=Tp();r&&Ei("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Jo.Uo()};const e=Tp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=Tp();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new po;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,Be.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Jo.reset()}catch(r){if(!os(r))throw r;Ei("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Jo.Ko(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(u=>{throw this.au=u,this.uu=!1,Lr("INTERNAL UNHANDLED ERROR: ",function(R){let ue=R.message||"";return R.stack&&(ue=R.stack.includes(R.message)?R.stack:R.message+"\n"+R.stack),ue}(u)),u}).then(u=>(this.uu=!1,u))));return this.iu=r,r}enqueueAfterDelay(e,r,u){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const v=Af.createAndSchedule(this,e,r,u,C=>this.Eu(C));return this._u.push(v),v}Pu(){this.au&&Zi()}verifyOperationInProgress(){}du(){var e=this;return(0,Be.A)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,u)=>r.targetTimeMs-u.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function T0(l){return function(r,u){if("object"!=typeof r||null===r)return!1;const v=r;for(const C of["next","error","complete"])if(C in v&&"function"==typeof v[C])return!0;return!1}(l)}class bb{constructor(){this._progressObserver={},this._taskCompletionResolver=new po,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,u){this._progressObserver={next:e,error:r,complete:u}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fa extends Oc{constructor(e,r,u,v){super(e,r,u,v),this.type="firestore",this._queue=new vb,this._persistenceKey=v?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Pc(this),this._firestoreClient.terminate()}}function za(l){return l._firestoreClient||Pc(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function Pc(l){var e,r,u;const v=l._freezeSettings(),C=(Pe=(null===(e=l._app)||void 0===e?void 0:e.options.appId)||"",new Io(l._databaseId,Pe,l._persistenceKey,(Tt=v).host,Tt.ssl,Tt.experimentalForceLongPolling,Tt.experimentalAutoDetectLongPolling,w0(Tt.experimentalLongPollingOptions),Tt.useFetchStreams));var Pe,Tt;l._firestoreClient=new y0(l._authCredentials,l._appCheckCredentials,l._queue,C),null!==(r=v.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(u=v.localCache)&&void 0!==u&&u._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:v.localCache.kind,_offline:v.localCache._offlineComponentProvider,_online:v.localCache._onlineComponentProvider})}function Eb(l,e,r){const u=new po;return l.asyncQueue.enqueue((0,Be.A)(function*(){try{yield Ff(l,r),yield E0(l,e),u.resolve()}catch(v){const C=v;if(!C_(C))throw C;Rs("Error enabling indexeddb cache. Falling back to memory cache: "+C),u.reject(C)}})).then(()=>u.promise)}function Lv(l){if(l._initialized||l._terminated)throw new Oi(ei.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ef{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ef(Ja.fromBase64String(e))}catch(r){throw new Oi(ei.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ef(Ja.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class c{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Oi(ei.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new So(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class o{constructor(e){this._methodName=e}}class h{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Oi(ei.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Oi(ei.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return is(this._lat,e._lat)||is(this._long,e._long)}}const y=/^__.*__$/;class M{constructor(e,r,u){this.data=e,this.fieldMask=r,this.fieldTransforms=u}toMutation(e,r){return null!==this.fieldMask?new jr(e,this.data,this.fieldMask,r,this.fieldTransforms):new Sc(e,this.data,r,this.fieldTransforms)}}class L{constructor(e,r,u){this.data=e,this.fieldMask=r,this.fieldTransforms=u}toMutation(e,r){return new jr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function K(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zi()}}class pe{constructor(e,r,u,v,C,R){this.settings=e,this.databaseId=r,this.serializer=u,this.ignoreUndefinedProperties=v,void 0===C&&this.mu(),this.fieldTransforms=C||[],this.fieldMask=R||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new pe(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const u=null===(r=this.path)||void 0===r?void 0:r.child(e),v=this.gu({path:u,yu:!1});return v.wu(e),v}Su(e){var r;const u=null===(r=this.path)||void 0===r?void 0:r.child(e),v=this.gu({path:u,yu:!1});return v.mu(),v}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ys(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(K(this.fu)&&y.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class He{constructor(e,r,u){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=u||Wh(e)}Fu(e,r,u,v=!1){return new pe({fu:e,methodName:r,vu:u,path:So.emptyPath(),yu:!1,Cu:v},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Je(l){const e=l._freezeSettings(),r=Wh(l._databaseId);return new He(l._databaseId,!!e.ignoreUndefinedProperties,r)}function St(l,e,r,u,v,C={}){const R=l.Fu(C.merge||C.mergeFields?2:0,e,r,v);Ws("Data must be an object, but it was:",R,u);const ue=Sr(u,R);let Pe,tt;if(C.merge)Pe=new Ql(R.fieldMask),tt=R.fieldTransforms;else if(C.mergeFields){const Tt=[];for(const tn of C.mergeFields){const kn=xs(e,tn,r);if(!R.contains(kn))throw new Oi(ei.INVALID_ARGUMENT,`Field '${kn}' is specified in your field mask but missing from your input data.`);zr(Tt,kn)||Tt.push(kn)}Pe=new Ql(Tt),tt=R.fieldTransforms.filter(tn=>Pe.covers(tn.field))}else Pe=null,tt=R.fieldTransforms;return new M(new Ua(ue),Pe,tt)}class rn extends o{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rn}}function Bt(l,e,r){return new pe({fu:3,vu:e.settings.vu,methodName:l._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Vn extends o{_toFieldTransform(e){return new Ju(e.path,new gd)}isEqual(e){return e instanceof Vn}}class Fn extends o{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Bt(this,e,!0),u=this.Mu.map(C=>Jn(C,r)),v=new Hd(u);return new Ju(e.path,v)}isEqual(e){return e instanceof Fn&&(0,ae.bD)(this.Mu,e.Mu)}}class Bn extends o{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Bt(this,e,!0),u=this.Mu.map(C=>Jn(C,r)),v=new Zl(u);return new Ju(e.path,v)}isEqual(e){return e instanceof Bn&&(0,ae.bD)(this.Mu,e.Mu)}}class Gn extends o{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new yu(e.serializer,kh(e.serializer,this.xu));return new Ju(e.path,r)}isEqual(e){return e instanceof Gn&&this.xu===e.xu}}function si(l,e,r,u){const v=l.Fu(1,e,r);Ws("Data must be an object, but it was:",v,u);const C=[],R=Ua.empty();ac(u,(Pe,tt)=>{const Tt=Ks(e,Pe,r);tt=(0,ae.Ku)(tt);const tn=v.Su(Tt);if(tt instanceof rn)C.push(Tt);else{const kn=Jn(tt,tn);null!=kn&&(C.push(Tt),R.set(Tt,kn))}});const ue=new Ql(C);return new L(R,ue,v.fieldTransforms)}function Bi(l,e,r,u,v,C){const R=l.Fu(1,e,r),ue=[xs(e,u,r)],Pe=[v];if(C.length%2!=0)throw new Oi(ei.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let kn=0;kn<C.length;kn+=2)ue.push(xs(e,C[kn])),Pe.push(C[kn+1]);const tt=[],Tt=Ua.empty();for(let kn=ue.length-1;kn>=0;--kn)if(!zr(tt,ue[kn])){const ti=ue[kn];let Ji=Pe[kn];Ji=(0,ae.Ku)(Ji);const Wi=R.Su(ti);if(Ji instanceof rn)tt.push(ti);else{const hr=Jn(Ji,Wi);null!=hr&&(tt.push(ti),Tt.set(ti,hr))}}const tn=new Ql(tt);return new L(Tt,tn,R.fieldTransforms)}function wi(l,e,r,u=!1){return Jn(r,l.Fu(u?4:3,e))}function Jn(l,e){if(Yr(l=(0,ae.Ku)(l)))return Ws("Unsupported field value:",e,l),Sr(l,e);if(l instanceof o)return function(u,v){if(!K(v.fu))throw v.Du(`${u._methodName}() can only be used with update() and set()`);if(!v.path)throw v.Du(`${u._methodName}() is not currently supported inside arrays`);const C=u._toFieldTransform(v);C&&v.fieldTransforms.push(C)}(l,e),null;if(void 0===l&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),l instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(u,v){const C=[];let R=0;for(const ue of u){let Pe=Jn(ue,v.bu(R));null==Pe&&(Pe={nullValue:"NULL_VALUE"}),C.push(Pe),R++}return{arrayValue:{values:C}}}(l,e)}return function(u,v){if(null===(u=(0,ae.Ku)(u)))return{nullValue:"NULL_VALUE"};if("number"==typeof u)return kh(v.serializer,u);if("boolean"==typeof u)return{booleanValue:u};if("string"==typeof u)return{stringValue:u};if(u instanceof Date){const C=ls.fromDate(u);return{timestampValue:Tr(v.serializer,C)}}if(u instanceof ls){const C=new ls(u.seconds,1e3*Math.floor(u.nanoseconds/1e3));return{timestampValue:Tr(v.serializer,C)}}if(u instanceof h)return{geoPointValue:{latitude:u.latitude,longitude:u.longitude}};if(u instanceof ef)return{bytesValue:ur(v.serializer,u._byteString)};if(u instanceof Eo){const C=v.databaseId,R=u.firestore._databaseId;if(!R.isEqual(C))throw v.Du(`Document reference is for database ${R.projectId}/${R.database} but should be for database ${C.projectId}/${C.database}`);return{referenceValue:xu(u.firestore._databaseId||v.databaseId,u._key.path)}}throw v.Du(`Unsupported field value: ${Ov(u)}`)}(l,e)}function Sr(l,e){const r={};return ui(l)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ac(l,(u,v)=>{const C=Jn(v,e.pu(u));null!=C&&(r[u]=C)}),{mapValue:{fields:r}}}function Yr(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof ls||l instanceof h||l instanceof ef||l instanceof Eo||l instanceof o)}function Ws(l,e,r){if(!Yr(r)||"object"!=typeof(v=r)||null===v||Object.getPrototypeOf(v)!==Object.prototype&&null!==Object.getPrototypeOf(v)){const u=Ov(r);throw e.Du("an object"===u?l+" a custom object":l+" "+u)}var v}function xs(l,e,r){if((e=(0,ae.Ku)(e))instanceof c)return e._internalPath;if("string"==typeof e)return Ks(l,e);throw Ys("Field path arguments must be of type string or ",l,!1,void 0,r)}const $o=new RegExp("[~\\*/\\[\\]]");function Ks(l,e,r){if(e.search($o)>=0)throw Ys(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,r);try{return new c(...e.split("."))._internalPath}catch{throw Ys(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,r)}}function Ys(l,e,r,u,v){const C=u&&!u.isEmpty(),R=void 0!==v;let ue=`Function ${e}() called with invalid data`;r&&(ue+=" (via `toFirestore()`)"),ue+=". ";let Pe="";return(C||R)&&(Pe+=" (found",C&&(Pe+=` in field ${u}`),R&&(Pe+=` in document ${v}`),Pe+=")"),new Oi(ei.INVALID_ARGUMENT,ue+l+Pe)}function zr(l,e){return l.some(r=>r.isEqual(e))}class lo{constructor(e,r,u,v,C){this._firestore=e,this._userDataWriter=r,this._key=u,this._document=v,this._converter=C}get id(){return this._key.path.lastSegment()}get ref(){return new Eo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(_o("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class pc extends lo{data(){return super.data()}}function _o(l,e){return"string"==typeof e?Ks(l,e):e instanceof c?e._internalPath:e._delegate._internalPath}function al(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Oi(ei.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rc{}class ph extends Rc{}function ll(l,e,...r){let u=[];e instanceof Rc&&u.push(e),u=u.concat(r),function(C){const R=C.filter(Pe=>Pe instanceof iu).length,ue=C.filter(Pe=>Pe instanceof Lc).length;if(R>1||R>0&&ue>0)throw new Oi(ei.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(u);for(const v of u)l=v._apply(l);return l}class Lc extends ph{constructor(e,r,u){super(),this._field=e,this._op=r,this._value=u,this.type="where"}static _create(e,r,u){return new Lc(e,r,u)}_apply(e){const r=this._parse(e);return se(e._query,r),new Vl(e.firestore,e.converter,Vs(e._query,r))}_parse(e){const r=Je(e.firestore);return function(C,R,ue,Pe,tt,Tt,tn){let kn;if(tt.isKeyField()){if("array-contains"===Tt||"array-contains-any"===Tt)throw new Oi(ei.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Tt}' queries on documentId().`);if("in"===Tt||"not-in"===Tt){W(tn,Tt);const ti=[];for(const Ji of tn)ti.push(N(Pe,C,Ji));kn={arrayValue:{values:ti}}}else kn=N(Pe,C,tn)}else"in"!==Tt&&"not-in"!==Tt&&"array-contains-any"!==Tt||W(tn,Tt),kn=wi(ue,"where",tn,"in"===Tt||"not-in"===Tt);return Nr.create(tt,Tt,kn)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class iu extends Rc{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new iu(e,r)}_parse(e){const r=this._queryConstraints.map(u=>u._parse(e)).filter(u=>u.getFilters().length>0);return 1===r.length?r[0]:Mo.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(v,C){let R=v;const ue=C.getFlattenedFilters();for(const Pe of ue)se(R,Pe),R=Vs(R,Pe)}(e._query,r),new Vl(e.firestore,e.converter,Vs(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class O_ extends ph{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new O_(e,r)}_apply(e){const r=function(v,C,R){if(null!==v.startAt)throw new Oi(ei.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==v.endAt)throw new Oi(ei.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pf(C,R)}(e._query,this._field,this._direction);return new Vl(e.firestore,e.converter,function(v,C){const R=v.explicitOrderBy.concat([C]);return new Ts(v.path,v.collectionGroup,R,v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e._query,r))}}class Vf extends ph{constructor(e,r,u){super(),this.type=e,this._limit=r,this._limitType=u}static _create(e,r,u){return new Vf(e,r,u)}_apply(e){return new Vl(e.firestore,e.converter,Ss(e._query,this._limit,this._limitType))}}class P_ extends ph{constructor(e,r,u){super(),this.type=e,this._docOrFields=r,this._inclusive=u}static _create(e,r,u){return new P_(e,r,u)}_apply(e){const r=w(e,this.type,this._docOrFields,this._inclusive);return new Vl(e.firestore,e.converter,(C=r,new Ts((v=e._query).path,v.collectionGroup,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,C,v.endAt)));var v,C}}class i extends ph{constructor(e,r,u){super(),this.type=e,this._docOrFields=r,this._inclusive=u}static _create(e,r,u){return new i(e,r,u)}_apply(e){const r=w(e,this.type,this._docOrFields,this._inclusive);return new Vl(e.firestore,e.converter,(C=r,new Ts((v=e._query).path,v.collectionGroup,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,C)));var v,C}}function w(l,e,r,u){if(r[0]=(0,ae.Ku)(r[0]),r[0]instanceof lo)return function(C,R,ue,Pe,tt){if(!Pe)throw new Oi(ei.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${ue}().`);const Tt=[];for(const tn of Mh(C))if(tn.field.isKeyField())Tt.push(el(R,Pe.key));else{const kn=Pe.data.field(tn.field);if(Cs(kn))throw new Oi(ei.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+tn.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===kn){const ti=tn.field.canonicalString();throw new Oi(ei.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ti}' (used as the orderBy) does not exist.`)}Tt.push(kn)}return new Ld(Tt,tt)}(l._query,l.firestore._databaseId,e,r[0]._document,u);{const v=Je(l.firestore);return function(R,ue,Pe,tt,Tt,tn){const kn=R.explicitOrderBy;if(Tt.length>kn.length)throw new Oi(ei.INVALID_ARGUMENT,`Too many arguments provided to ${tt}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ti=[];for(let Ji=0;Ji<Tt.length;Ji++){const Wi=Tt[Ji];if(kn[Ji].field.isKeyField()){if("string"!=typeof Wi)throw new Oi(ei.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${tt}(), but got a ${typeof Wi}`);if(!cc(R)&&-1!==Wi.indexOf("/"))throw new Oi(ei.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${tt}() must be a plain document ID, but '${Wi}' contains a slash.`);const hr=R.path.child(Xr.fromString(Wi));if(!ir.isDocumentKey(hr))throw new Oi(ei.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${tt}() must result in a valid document path, but '${hr}' is not because it contains an odd number of segments.`);const Qr=new ir(hr);ti.push(el(ue,Qr))}else{const hr=wi(Pe,tt,Wi);ti.push(hr)}}return new Ld(ti,tn)}(l._query,l.firestore._databaseId,v,e,r,u)}}function N(l,e,r){if("string"==typeof(r=(0,ae.Ku)(r))){if(""===r)throw new Oi(ei.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cc(e)&&-1!==r.indexOf("/"))throw new Oi(ei.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const u=e.path.child(Xr.fromString(r));if(!ir.isDocumentKey(u))throw new Oi(ei.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${u}' is not because it has an odd number of segments (${u.length}).`);return el(l,new ir(u))}if(r instanceof Eo)return el(l,r._key);throw new Oi(ei.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ov(r)}.`)}function W(l,e){if(!Array.isArray(l)||0===l.length)throw new Oi(ei.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function se(l,e){const r=function(v,C){for(const R of v)for(const ue of R.getFlattenedFilters())if(C.indexOf(ue.op)>=0)return ue.op;return null}(l.filters,function(v){switch(v){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Oi(ei.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Ue{convertValue(e,r="none"){switch(pd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _a(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Zi()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const u={};return ac(e,(v,C)=>{u[v]=this.convertValue(C,r)}),u}convertGeoPoint(e){return new h(_a(e.latitude),_a(e.longitude))}convertArray(e,r){return(e.values||[]).map(u=>this.convertValue(u,r))}convertServerTimestamp(e,r){switch(r){case"previous":const u=Kf(e);return null==u?null:this.convertValue(u,r);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const r=fd(e);return new ls(r.seconds,r.nanos)}convertDocumentKey(e,r){const u=Xr.fromString(e);ar(ip(u));const v=new Yc(u.get(1),u.get(3)),C=new ir(u.popFirst(5));return v.isEqual(r)||Lr(`Document ${C} contains a document reference within a different database (${v.projectId}/${v.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),C}}function Qe(l,e,r){let u;return u=l?r&&(r.merge||r.mergeFields)?l.toFirestore(e,r):l.toFirestore(e):e,u}class Ze extends Ue{constructor(e){super(),this.firestore=e}convertBytes(e){return new ef(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Eo(this.firestore,null,r)}}class Xt{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wn extends lo{constructor(e,r,u,v,C,R){super(e,r,u,v,R),this._firestore=e,this._firestoreImpl=e,this.metadata=C}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new _n(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const u=this._document.data.field(_o("DocumentSnapshot.get",e));if(null!==u)return this._userDataWriter.convertValue(u,r.serverTimestamps)}}}class _n extends wn{data(e={}){return super.data(e)}}class ai{constructor(e,r,u,v){this._firestore=e,this._userDataWriter=r,this._snapshot=v,this.metadata=new Xt(v.hasPendingWrites,v.fromCache),this.query=u}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(u=>{e.call(r,new _n(this._firestore,this._userDataWriter,u.key,u,new Xt(this._snapshot.mutatedKeys.has(u.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Oi(ei.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(v,C){if(v._snapshot.oldDocs.isEmpty()){let R=0;return v._snapshot.docChanges.map(ue=>({type:"added",doc:new _n(v._firestore,v._userDataWriter,ue.doc.key,ue.doc,new Xt(v._snapshot.mutatedKeys.has(ue.doc.key),v._snapshot.fromCache),v.query.converter),oldIndex:-1,newIndex:R++}))}{let R=v._snapshot.oldDocs;return v._snapshot.docChanges.filter(ue=>C||3!==ue.type).map(ue=>{const Pe=new _n(v._firestore,v._userDataWriter,ue.doc.key,ue.doc,new Xt(v._snapshot.mutatedKeys.has(ue.doc.key),v._snapshot.fromCache),v.query.converter);let tt=-1,Tt=-1;return 0!==ue.type&&(tt=R.indexOf(ue.doc.key),R=R.delete(ue.doc.key)),1!==ue.type&&(R=R.add(ue.doc),Tt=R.indexOf(ue.doc.key)),{type:Er(ue.type),doc:Pe,oldIndex:tt,newIndex:Tt}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Er(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zi()}}function Ki(l,e){return l instanceof wn&&e instanceof wn?l._firestore===e._firestore&&l._key.isEqual(e._key)&&(null===l._document?null===e._document:l._document.isEqual(e._document))&&l._converter===e._converter:l instanceof ai&&e instanceof ai&&l._firestore===e._firestore&&C0(l.query,e.query)&&l.metadata.isEqual(e.metadata)&&l._snapshot.isEqual(e._snapshot)}class Ti extends Ue{constructor(e){super(),this.firestore=e}convertBytes(e){return new ef(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Eo(this.firestore,null,r)}}function Vi(l,e,r){l=Js(l,Eo);const u=Js(l.firestore,fa),v=Qe(l.converter,e,r);return Hr(u,[St(Je(u),"setDoc",l._key,v,null!==l.converter,r).toMutation(l._key,jo.none())])}function Dr(l,e,r,...u){l=Js(l,Eo);const v=Js(l.firestore,fa),C=Je(v);let R;return R="string"==typeof(e=(0,ae.Ku)(e))||e instanceof c?Bi(C,"updateDoc",l._key,e,r,u):si(C,"updateDoc",l._key,e),Hr(v,[R.toMutation(l._key,jo.exists(!0))])}function ri(l,...e){var r,u,v;l=(0,ae.Ku)(l);let C={includeMetadataChanges:!1,source:"default"},R=0;"object"!=typeof e[R]||T0(e[R])||(C=e[R],R++);const ue={includeMetadataChanges:C.includeMetadataChanges,source:C.source};if(T0(e[R])){const tn=e[R];e[R]=null===(r=tn.next)||void 0===r?void 0:r.bind(tn),e[R+1]=null===(u=tn.error)||void 0===u?void 0:u.bind(tn),e[R+2]=null===(v=tn.complete)||void 0===v?void 0:v.bind(tn)}let Pe,tt,Tt;if(l instanceof Eo)tt=Js(l.firestore,fa),Tt=Tc(l._key.path),Pe={next:tn=>{e[R]&&e[R](Yi(tt,l,tn))},error:e[R+1],complete:e[R+2]};else{const tn=Js(l,Vl);tt=Js(tn.firestore,fa),Tt=tn._query;const kn=new Ti(tt);Pe={next:ti=>{e[R]&&e[R](new ai(tt,kn,tn,ti))},error:e[R+1],complete:e[R+2]},al(l._query)}return function(kn,ti,Ji,Wi){const hr=new Nf(Wi),Qr=new rg(ti,hr,Ji);return kn.asyncQueue.enqueueAndForget((0,Be.A)(function*(){return Dl(yield gm(kn),Qr)})),()=>{hr.$a(),kn.asyncQueue.enqueueAndForget((0,Be.A)(function*(){return Mp(yield gm(kn),Qr)}))}}(za(tt),Tt,ue,Pe)}function Hr(l,e){return function(u,v){const C=new po;return u.asyncQueue.enqueueAndForget((0,Be.A)(function*(){return function __(l,e,r){return v_.apply(this,arguments)}(yield Tv(u),v,C)})),C.promise}(za(l),e)}function Yi(l,e,r){const u=r.docs.get(e._key),v=new Ti(l);return new wn(l,v,e._key,u,new Xt(r.hasPendingWrites,r.fromCache),e.converter)}const Bv={maxAttempts:5};class tf{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Je(e)}set(e,r,u){this._verifyNotCommitted();const v=ko(e,this._firestore),C=Qe(v.converter,r,u),R=St(this._dataReader,"WriteBatch.set",v._key,C,null!==v.converter,u);return this._mutations.push(R.toMutation(v._key,jo.none())),this}update(e,r,u,...v){this._verifyNotCommitted();const C=ko(e,this._firestore);let R;return R="string"==typeof(r=(0,ae.Ku)(r))||r instanceof c?Bi(this._dataReader,"WriteBatch.update",C._key,r,u,v):si(this._dataReader,"WriteBatch.update",C._key,r),this._mutations.push(R.toMutation(C._key,jo.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=ko(e,this._firestore);return this._mutations=this._mutations.concat(new Ro(r._key,jo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oi(ei.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ko(l,e){if((l=(0,ae.Ku)(l)).firestore!==e)throw new Oi(ei.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class Vv extends class{constructor(r,u){this._firestore=r,this._transaction=u,this._dataReader=Je(r)}get(r){const u=ko(r,this._firestore),v=new Ze(this._firestore);return this._transaction.lookup([u._key]).then(C=>{if(!C||1!==C.length)return Zi();const R=C[0];if(R.isFoundDocument())return new lo(this._firestore,v,R.key,R,u.converter);if(R.isNoDocument())return new lo(this._firestore,v,u._key,null,u.converter);throw Zi()})}set(r,u,v){const C=ko(r,this._firestore),R=Qe(C.converter,u,v),ue=St(this._dataReader,"Transaction.set",C._key,R,null!==C.converter,v);return this._transaction.set(C._key,ue),this}update(r,u,v,...C){const R=ko(r,this._firestore);let ue;return ue="string"==typeof(u=(0,ae.Ku)(u))||u instanceof c?Bi(this._dataReader,"Transaction.update",R._key,u,v,C):si(this._dataReader,"Transaction.update",R._key,u),this._transaction.update(R._key,ue),this}delete(r){const u=ko(r,this._firestore);return this._transaction.delete(u._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=ko(e,this._firestore),u=new Ti(this._firestore);return super.get(e).then(v=>new wn(this._firestore,u,r._key,v._document,new Xt(!1,!1),r.converter))}}function ym(l,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oi("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return e}function jv(){if(typeof Uint8Array>"u")throw new Oi("unimplemented","Uint8Arrays are not available in this environment.")}function Dy(){if(!function Ig(){return typeof atob<"u"}())throw new Oi("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){ws=Ve.SDK_VERSION,(0,Ve._registerComponent)(new Le.uA("firestore",(u,{instanceIdentifier:v,options:C})=>{const R=u.getProvider("app").getImmediate(),ue=new fa(new yc(u.getProvider("auth-internal")),new fu(u.getProvider("app-check-internal")),function(tt,Tt){if(!Object.prototype.hasOwnProperty.apply(tt.options,["projectId"]))throw new Oi(ei.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(tt.options.projectId,Tt)}(R,v),R);return C=Object.assign({useFetchStreams:r},C),ue._setSettings(C),ue},"PUBLIC").setMultipleInstances(!0)),(0,Ve.registerVersion)(ms,"4.6.1",e),(0,Ve.registerVersion)(ms,"4.6.1","esm2017")}();class A0{constructor(e){this._delegate=e}static fromBase64String(e){return Dy(),new A0(ef.fromBase64String(e))}static fromUint8Array(e){return jv(),new A0(ef.fromUint8Array(e))}toBase64(){return Dy(),this._delegate.toBase64()}toUint8Array(){return jv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yg(l){return function nf(l,e){if("object"!=typeof l||null===l)return!1;const r=l;for(const u of e)if(u in r&&"function"==typeof r[u])return!0;return!1}(l,["next","error","complete"])}class o1{enableIndexedDbPersistence(e,r){return function S0(l,e){Lv(l=Js(l,fa));const r=za(l);if(r._uninitializedComponentsProvider)throw new Oi(ei.FAILED_PRECONDITION,"SDK cache is already specified.");Rs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const u=l._freezeSettings(),v=new Lf;return Eb(r,v,new kp(v,u.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function _g(l){Lv(l=Js(l,fa));const e=za(l);if(e._uninitializedComponentsProvider)throw new Oi(ei.FAILED_PRECONDITION,"SDK cache is already specified.");Rs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=l._freezeSettings(),u=new Lf;return Eb(e,u,new hb(u,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function vg(l){if(l._initialized&&!l._terminated)throw new Oi(ei.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new po;return l._queue.enqueueAndForgetEvenWhileRestricted((0,Be.A)(function*(){try{yield(r=(0,Be.A)(function*(v){if(!fn.D())return Promise.resolve();const C=v+"main";yield fn.delete(C)}),function u(v){return r.apply(this,arguments)})(Hh(l._databaseId,l._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class N_{constructor(e,r,u){this._delegate=r,this._persistenceProvider=u,this.INTERNAL={delete:()=>this.terminate()},e instanceof Yc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Rs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,u={}){!function mg(l,e,r,u={}){var v;const C=(l=Js(l,Oc))._getSettings(),R=`${e}:${r}`;if("firestore.googleapis.com"!==C.host&&C.host!==R&&Rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},C),{host:R,ssl:!1})),u.mockUserToken){let ue,Pe;if("string"==typeof u.mockUserToken)ue=u.mockUserToken,Pe=Ps.MOCK_USER;else{ue=(0,ae.Fy)(u.mockUserToken,null===(v=l._app)||void 0===v?void 0:v.options.projectId);const tt=u.mockUserToken.sub||u.mockUserToken.user_id;if(!tt)throw new Oi(ei.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Pe=new Ps(tt)}l._authCredentials=new kd(new Wo(ue,Pe))}}(this._delegate,e,r,u)}enableNetwork(){return function Qi(l){return function Iv(l){return l.asyncQueue.enqueue((0,Be.A)(function*(){const e=yield Cv(l),r=yield T_(l);return e.setNetworkEnabled(!0),function(v){const C=vi(v);return C.M_.delete(0),sm(C)}(r)}))}(za(l=Js(l,fa)))}(this._delegate)}disableNetwork(){return function oy(l){return function S_(l){return l.asyncQueue.enqueue((0,Be.A)(function*(){const e=yield Cv(l),r=yield T_(l);return e.setNetworkEnabled(!1),(u=(0,Be.A)(function*(C){const R=vi(C);R.M_.add(0),yield om(R),R.N_.set("Offline")}),function v(C){return u.apply(this,arguments)})(r);var u}))}(za(l=Js(l,fa)))}(this._delegate)}enablePersistence(e){let r=!1,u=!1;return e&&(r=!!e.synchronizeTabs,u=!!e.experimentalForceOwningTab,A_("synchronizeTabs",r,"experimentalForceOwningTab",u)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,u)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ol(l){return function(r){const u=new po;return r.asyncQueue.enqueueAndForget((0,Be.A)(function*(){return function _0(l,e){return b_.apply(this,arguments)}(yield Tv(r),u)})),u.promise}(za(l=Js(l,fa)))}(this._delegate)}onSnapshotsInSync(e){return function qi(l,e){return function iy(l,e){const r=new Nf(e);return l.asyncQueue.enqueueAndForget((0,Be.A)(function*(){return v=yield gm(l),C=r,vi(v).z_.add(C),void C.next();var v,C})),()=>{r.$a(),l.asyncQueue.enqueueAndForget((0,Be.A)(function*(){return v=yield gm(l),C=r,void vi(v).z_.delete(C);var v,C}))}}(za(l=Js(l,fa)),T0(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oi("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new O0(this,Jh(this._delegate,e))}catch(r){throw ru(r,"collection()","Firestore.collection()")}}doc(e){try{return new Cd(this,_m(this._delegate,e))}catch(r){throw ru(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new su(this,function _b(l,e){if(l=Js(l,Oc),kv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oi(ei.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vl(l,null,(u=e,new Ts(Xr.emptyPath(),u)));var u}(this._delegate,e))}catch(r){throw ru(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function M0(l,e,r){l=Js(l,fa);const u=Object.assign(Object.assign({},Bv),r);return function(C){if(C.maxAttempts<1)throw new Oi(ei.INVALID_ARGUMENT,"Max attempts must be at least 1")}(u),function(C,R,ue){const Pe=new po;return C.asyncQueue.enqueueAndForget((0,Be.A)(function*(){const tt=yield function Sv(l){return fc(l).then(e=>e.datastore)}(C);new nu(C.asyncQueue,tt,ue,R,Pe).Xa()})),Pe.promise}(za(l),v=>e(new Vv(l,v)),u)}(this._delegate,r=>e(new F_(this,r)))}batch(){return za(this._delegate),new Mb(new tf(this._delegate,e=>Hr(this._delegate,e)))}loadBundle(e){return function Pv(l,e){const r=za(l=Js(l,fa)),u=new bb;return function D_(l,e,r,u){const v=function(R,ue){let Pe;return Pe="string"==typeof R?Sa().encode(R):R,Tt=function(Tt,tn){if(Tt instanceof Uint8Array)return fb(Tt,void 0);if(Tt instanceof ArrayBuffer)return fb(new Uint8Array(Tt),void 0);if(Tt instanceof ReadableStream)return Tt.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(Pe),new dg(Tt,ue);var Tt}(r,Wh(e));l.asyncQueue.enqueueAndForget((0,Be.A)(function*(){!function hh(l,e,r){const u=vi(l);var v;(v=(0,Be.A)(function*(R,ue,Pe){try{const tt=yield ue.getMetadata();if(yield function(Ji,Wi){const hr=vi(Ji),Qr=Ns(Wi.createTime);return hr.persistence.runTransaction("hasNewerBundle","readonly",Br=>hr.Kr.getBundleMetadata(Br,Wi.id)).then(Br=>!!Br&&Br.createTime.compareTo(Qr)>=0)}(R.localStore,tt))return yield ue.close(),Pe._completeWith({taskState:"Success",documentsLoaded:(Ji=tt).totalDocuments,bytesLoaded:Ji.totalBytes,totalDocuments:Ji.totalDocuments,totalBytes:Ji.totalBytes}),Promise.resolve(new Set);Pe._updateProgress(h_(tt));const Tt=new cv(tt,R.localStore,ue.serializer);let tn=yield ue.qa();for(;tn;){const ti=yield Tt._a(tn);ti&&Pe._updateProgress(ti),tn=yield ue.qa()}const kn=yield Tt.complete();return yield Zh(R,kn.ca,void 0),yield function(Ji,Wi){const hr=vi(Ji);return hr.persistence.runTransaction("Save bundle","readwrite",Qr=>hr.Kr.saveBundleMetadata(Qr,Wi))}(R.localStore,tt),Pe._completeWith(kn.progress),Promise.resolve(kn.ua)}catch(tt){return Rs("SyncEngine",`Loading bundle failed with ${tt}`),Pe._failWith(tt),Promise.resolve(new Set)}var Ji}),function C(R,ue,Pe){return v.apply(this,arguments)})(u,e,r).then(v=>{u.sharedClientState.notifyBundleLoaded(v)})}(yield Tv(l),v,u)}))}(r,l._databaseId,e,u),u}(this._delegate,e)}namedQuery(e){return function Rv(l,e){return function Mv(l,e){return l.asyncQueue.enqueue((0,Be.A)(function*(){return function(u,v){const C=vi(u);return C.persistence.runTransaction("Get named query","readonly",R=>C.Kr.getNamedQuery(R,v))}(yield ug(l),e)}))}(za(l=Js(l,fa)),e).then(r=>r?new Vl(l,null,r.query):null)}(this._delegate,e).then(r=>r?new su(this,r):null)}}class k0 extends Ue{constructor(e){super(),this.firestore=e}convertBytes(e){return new A0(new ef(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Cd.forKey(r,this.firestore,null)}}class F_{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new k0(e)}get(e){const r=P0(e);return this._delegate.get(r).then(u=>new Eg(this._firestore,new wn(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,r.converter)))}set(e,r,u){const v=P0(e);return u?(ym("Transaction.set",u),this._delegate.set(v,r,u)):this._delegate.set(v,r),this}update(e,r,u,...v){const C=P0(e);return 2===arguments.length?this._delegate.update(C,r):this._delegate.update(C,r,u,...v),this}delete(e){const r=P0(e);return this._delegate.delete(r),this}}class Mb{constructor(e){this._delegate=e}set(e,r,u){const v=P0(e);return u?(ym("WriteBatch.set",u),this._delegate.set(v,r,u)):this._delegate.set(v,r),this}update(e,r,u,...v){const C=P0(e);return 2===arguments.length?this._delegate.update(C,r):this._delegate.update(C,r,u,...v),this}delete(e){const r=P0(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Em{constructor(e,r,u){this._firestore=e,this._userDataWriter=r,this._delegate=u}fromFirestore(e,r){const u=new _n(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new B_(this._firestore,u),r??{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const u=Em.INSTANCES;let v=u.get(e);v||(v=new WeakMap,u.set(e,v));let C=v.get(r);return C||(C=new Em(e,new k0(e),r),v.set(r,C)),C}}Em.INSTANCES=new WeakMap;class Cd{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new k0(e)}static forPath(e,r,u){if(e.length%2!=0)throw new Oi("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Cd(r,new Eo(r._delegate,u,new ir(e)))}static forKey(e,r,u){return new Cd(r,new Eo(r._delegate,u,e))}get id(){return this._delegate.id}get parent(){return new O0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new O0(this.firestore,Jh(this._delegate,e))}catch(r){throw ru(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ae.Ku)(e))instanceof Eo&&Rp(this._delegate,e)}set(e,r){r=ym("DocumentReference.set",r);try{return r?Vi(this._delegate,e,r):Vi(this._delegate,e)}catch(u){throw ru(u,"setDoc()","DocumentReference.set()")}}update(e,r,...u){try{return 1===arguments.length?Dr(this._delegate,e):Dr(this._delegate,e,r,...u)}catch(v){throw ru(v,"updateDoc()","DocumentReference.update()")}}delete(){return function Ui(l){return Hr(Js(l.firestore,fa),[new Ro(l._key,jo.none())])}(this._delegate)}onSnapshot(...e){const r=Iy(e),u=Hv(e,v=>new Eg(this.firestore,new wn(this.firestore._delegate,this._userDataWriter,v._key,v._document,v.metadata,this._delegate.converter)));return ri(this._delegate,r,u)}get(e){let r;return r="cache"===e?.source?function ci(l){l=Js(l,Eo);const e=Js(l.firestore,fa),r=za(e),u=new Ti(e);return function pb(l,e){const r=new po;return l.asyncQueue.enqueueAndForget((0,Be.A)(function*(){return(u=(0,Be.A)(function*(C,R,ue){try{const Pe=yield function(Tt,tn){const kn=vi(Tt);return kn.persistence.runTransaction("read document","readonly",ti=>kn.localDocuments.getDocument(ti,tn))}(C,R);Pe.isFoundDocument()?ue.resolve(Pe):Pe.isNoDocument()?ue.resolve(null):ue.reject(new Oi(ei.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(Pe){const tt=Ou(Pe,`Failed to get document '${R} from cache`);ue.reject(tt)}}),function v(C,R,ue){return u.apply(this,arguments)})(yield ug(l),e,r);var u})),r.promise}(r,l._key).then(v=>new wn(e,u,l._key,v,new Xt(null!==v&&v.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===e?.source?function mr(l){l=Js(l,Eo);const e=Js(l.firestore,fa);return hg(za(e),l._key,{source:"server"}).then(r=>Yi(e,l,r))}(this._delegate):function pr(l){l=Js(l,Eo);const e=Js(l.firestore,fa);return hg(za(e),l._key).then(r=>Yi(e,l,r))}(this._delegate),r.then(u=>new Eg(this.firestore,new wn(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)))}withConverter(e){return new Cd(this.firestore,this._delegate.withConverter(e?Em.getInstance(this.firestore,e):null))}}function ru(l,e,r){return l.message=l.message.replace(e,r),l}function Iy(l){for(const e of l)if("object"==typeof e&&!yg(e))return e;return{}}function Hv(l,e){var r,u;let v;return v=yg(l[0])?l[0]:yg(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:C=>{v.next&&v.next(e(C))},error:null===(r=v.error)||void 0===r?void 0:r.bind(v),complete:null===(u=v.complete)||void 0===u?void 0:u.bind(v)}}class Eg{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Cd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return Ki(this._delegate,e._delegate)}}class B_ extends Eg{data(e){const r=this._delegate.data(e);return this._delegate._converter||function cd(l,e){l||Zi()}(void 0!==r),r}}class su{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new k0(e)}where(e,r,u){try{return new su(this.firestore,ll(this._delegate,function vm(l,e,r){const u=e,v=_o("where",l);return Lc._create(v,u,r)}(e,r,u)))}catch(v){throw ru(v,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new su(this.firestore,ll(this._delegate,function D0(l,e="asc"){const r=e,u=_o("orderBy",l);return O_._create(u,r)}(e,r)))}catch(u){throw ru(u,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new su(this.firestore,ll(this._delegate,function Cb(l){return mb("limit",l),Vf._create("limit",l,"F")}(e)))}catch(r){throw ru(r,"limit()","Query.limit()")}}limitToLast(e){try{return new su(this.firestore,ll(this._delegate,function Tb(l){return mb("limitToLast",l),Vf._create("limitToLast",l,"L")}(e)))}catch(r){throw ru(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new su(this.firestore,ll(this._delegate,function Sb(...l){return P_._create("startAt",l,!0)}(...e)))}catch(r){throw ru(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new su(this.firestore,ll(this._delegate,function g(...l){return P_._create("startAfter",l,!1)}(...e)))}catch(r){throw ru(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new su(this.firestore,ll(this._delegate,function d(...l){return i._create("endBefore",l,!1)}(...e)))}catch(r){throw ru(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new su(this.firestore,ll(this._delegate,function _(...l){return i._create("endAt",l,!0)}(...e)))}catch(r){throw ru(r,"endAt()","Query.endAt()")}}isEqual(e){return C0(this._delegate,e._delegate)}get(e){let r;return r="cache"===e?.source?function ki(l){l=Js(l,Vl);const e=Js(l.firestore,fa),r=za(e),u=new Ti(e);return function x0(l,e){const r=new po;return l.asyncQueue.enqueueAndForget((0,Be.A)(function*(){return(u=(0,Be.A)(function*(C,R,ue){try{const Pe=yield vp(C,R,!0),tt=new Es(R,Pe.ls),Tt=tt.da(Pe.documents),tn=tt.applyChanges(Tt,!1);ue.resolve(tn.snapshot)}catch(Pe){const tt=Ou(Pe,`Failed to execute query '${R} against cache`);ue.reject(tt)}}),function v(C,R,ue){return u.apply(this,arguments)})(yield ug(l),e,r);var u})),r.promise}(r,l._query).then(v=>new ai(e,u,l,v))}(this._delegate):"server"===e?.source?function zi(l){l=Js(l,Vl);const e=Js(l.firestore,fa),r=za(e),u=new Ti(e);return fg(r,l._query,{source:"server"}).then(v=>new ai(e,u,l,v))}(this._delegate):function Gr(l){l=Js(l,Vl);const e=Js(l.firestore,fa),r=za(e),u=new Ti(e);return al(l._query),fg(r,l._query).then(v=>new ai(e,u,l,v))}(this._delegate),r.then(u=>new dy(this.firestore,new ai(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)))}onSnapshot(...e){const r=Iy(e),u=Hv(e,v=>new dy(this.firestore,new ai(this.firestore._delegate,this._userDataWriter,this._delegate,v._snapshot)));return ri(this._delegate,r,u)}withConverter(e){return new su(this.firestore,this._delegate.withConverter(e?Em.getInstance(this.firestore,e):null))}}class My{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new B_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dy{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new su(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new B_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new My(this._firestore,r))}forEach(e,r){this._delegate.forEach(u=>{e.call(r,new B_(this._firestore,u))})}isEqual(e){return Ki(this._delegate,e._delegate)}}class O0 extends su{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Cd(this.firestore,e):null}doc(e){try{return new Cd(this.firestore,void 0===e?_m(this._delegate):_m(this._delegate,e))}catch(r){throw ru(r,"doc()","CollectionReference.doc()")}}add(e){return function Kn(l,e){const r=Js(l.firestore,fa),u=_m(l),v=Qe(l.converter,e);return Hr(r,[St(Je(l.firestore),"addDoc",u._key,v,null!==l.converter,{}).toMutation(u._key,jo.exists(!1))]).then(()=>u)}(this._delegate,e).then(r=>new Cd(this.firestore,r))}isEqual(e){return Rp(this._delegate,e._delegate)}withConverter(e){return new O0(this.firestore,this._delegate.withConverter(e?Em.getInstance(this.firestore,e):null))}}function P0(l){return Js(l,Eo)}class R0{constructor(...e){this._delegate=new c(...e)}static documentId(){return new R0(So.keyField().canonicalString())}isEqual(e){return(e=(0,ae.Ku)(e))instanceof c&&this._delegate._internalPath.isEqual(e._internalPath)}}class rf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function R_(){return new Vn("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new rf(e)}static delete(){const e=function Db(){return new rn("deleteField")}();return e._methodName="FieldValue.delete",new rf(e)}static arrayUnion(...e){const r=function Uv(...l){return new Fn("arrayUnion",l)}(...e);return r._methodName="FieldValue.arrayUnion",new rf(r)}static arrayRemove(...e){const r=function bm(...l){return new Bn("arrayRemove",l)}(...e);return r._methodName="FieldValue.arrayRemove",new rf(r)}static increment(e){const r=function wy(l){return new Gn("increment",l)}(e);return r._methodName="FieldValue.increment",new rf(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ay={Firestore:N_,GeoPoint:h,Timestamp:ls,Blob:A0,Transaction:F_,WriteBatch:Mb,DocumentReference:Cd,DocumentSnapshot:Eg,Query:su,QueryDocumentSnapshot:B_,QuerySnapshot:dy,CollectionReference:O0,FieldPath:R0,FieldValue:rf,setLogLevel:function zv(l){!function so(l){Ri.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};function uy(l,e){return function xg(l,e=ce.E){return new ne.c(r=>{let u;return null!=e?e.schedule(()=>{u=l.onSnapshot({includeMetadataChanges:!0},r)}):u=l.onSnapshot({includeMetadataChanges:!0},r),()=>{u?.()}})}(l,e)}function Ry(l,e){return uy(l,e).pipe((0,H.T)(r=>({payload:r,type:"query"})))}!function ky(l){(function F1(l,e){l.INTERNAL.registerComponent(new Le.uA("firestore-compat",r=>{const u=r.getProvider("app-compat").getImmediate(),v=r.getProvider("firestore").getImmediate();return e(u,v)},"PUBLIC").setServiceProps(Object.assign({},Ay)))})(l,(e,r)=>new N_(e,r,new o1)),l.registerVersion("@firebase/firestore-compat","0.3.30")}(Ne.A),E(7935);class Ab{ref;afs;constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const u=this.ref.collection(e),{ref:v,query:C}=Wv(u,r);return new Fy(v,C,this.afs)}snapshotChanges(){return function Py(l,e){return uy(l,e).pipe((0,O.Z)(void 0),A(),(0,H.T)(r=>{const[u,v]=r;return v.exists?u?.exists?{payload:v,type:"modified"}:{payload:v,type:"added"}:{payload:v,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(T.U0)}valueChanges(e={}){return this.snapshotChanges().pipe((0,H.T)(({payload:r})=>e.idField?{...r.data(),[e.idField]:r.id}:r.data()))}get(e){return(0,q.H)(this.ref.get(e)).pipe(T.U0)}}function V_(l,e){return Ry(l,e).pipe((0,O.Z)(void 0),A(),(0,H.T)(r=>{const[u,v]=r,C=v.payload.docChanges(),R=C.map(ue=>({type:ue.type,payload:ue}));return u&&JSON.stringify(u.payload.metadata)!==JSON.stringify(v.payload.metadata)&&v.payload.docs.forEach((ue,Pe)=>{const tt=C.find(tn=>tn.doc.ref.isEqual(ue.ref)),Tt=u?.payload.docs.find(tn=>tn.ref.isEqual(ue.ref));tt&&JSON.stringify(tt.doc.metadata)===JSON.stringify(ue.metadata)||!tt&&Tt&&JSON.stringify(Tt.metadata)===JSON.stringify(ue.metadata)||R.push({type:"modified",payload:{oldIndex:Pe,newIndex:Pe,type:"modified",doc:ue}})}),R}))}function Ly(l,e,r){return V_(l,r).pipe((0,Q.S)((u,v)=>function Ny(l,e,r){return e.forEach(u=>{r.indexOf(u.type)>-1&&(l=function hy(l,e){switch(e.type){case"added":if(!l[e.newIndex]||!l[e.newIndex].doc.ref.isEqual(e.doc.ref))return $v(l,e.newIndex,0,e);break;case"modified":if(null==l[e.oldIndex]||l[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=l.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return $v(l,e.newIndex,1,e)}break;case"removed":if(l[e.oldIndex]&&l[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $v(l,e.oldIndex,1)}return l}(l,u))}),l}(u,v.map(C=>C.payload),e),[]),(0,ee.F)(),(0,H.T)(u=>u.map(v=>({type:v.type,payload:v}))))}function $v(l,e,r,...u){const v=l.slice();return v.splice(e,r,...u),v}function Gv(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class Fy{ref;query;afs;constructor(e,r,u){this.ref=e,this.query=r,this.afs=u}stateChanges(e){let r=V_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,H.T)(u=>u.filter(v=>e.indexOf(v.type)>-1)))),r.pipe((0,O.Z)(void 0),A(),(0,be.p)(([u,v])=>v.length>0||!u),(0,H.T)(([,u])=>u),T.U0)}auditTrail(e){return this.stateChanges(e).pipe((0,Q.S)((r,u)=>[...r,...u],[]))}snapshotChanges(e){const r=Gv(e);return Ly(this.query,r,this.afs.schedulers.outsideAngular).pipe(T.U0)}valueChanges(e={}){return Ry(this.query,this.afs.schedulers.outsideAngular).pipe((0,H.T)(r=>r.payload.docs.map(u=>e.idField?{...u.data(),[e.idField]:u.id}:u.data())),T.U0)}get(e){return(0,q.H)(this.query.get(e)).pipe(T.U0)}add(e){return this.ref.add(e)}doc(e){return new Ab(this.ref.doc(e),this.afs)}}class fy{query;afs;constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?V_(this.query,this.afs.schedulers.outsideAngular).pipe((0,H.T)(r=>r.filter(u=>e.indexOf(u.type)>-1)),(0,be.p)(r=>r.length>0),T.U0):V_(this.query,this.afs.schedulers.outsideAngular).pipe(T.U0)}auditTrail(e){return this.stateChanges(e).pipe((0,Q.S)((r,u)=>[...r,...u],[]))}snapshotChanges(e){const r=Gv(e);return Ly(this.query,r,this.afs.schedulers.outsideAngular).pipe(T.U0)}valueChanges(e={}){return Ry(this.query,this.afs.schedulers.outsideAngular).pipe((0,H.T)(u=>u.payload.docs.map(v=>e.idField?{[e.idField]:v.id,...v.data()}:v.data())),T.U0)}get(e){return(0,q.H)(this.query.get(e)).pipe(T.U0)}}const a1=new m.nKC("angularfire2.enableFirestorePersistence"),B1=new m.nKC("angularfire2.firestore.persistenceSettings"),U_=new m.nKC("angularfire2.firestore.settings"),V1=new m.nKC("angularfire2.firestore.use-emulator");function Wv(l,e=(r=>r)){return{query:e(l),ref:l}}let kb=(()=>{class l{schedulers;firestore;persistenceEnabled$;constructor(r,u,v,C,R,ue,Pe,tt,Tt,tn,kn,ti,Ji,Wi,hr,Qr,Br){this.schedulers=Pe;const Vr=(0,F.iB)(r,ue,u),gs=Tt;tn&&(0,x.gF)(Vr,ue,kn,Ji,Wi,hr,ti,Qr),[this.firestore,this.persistenceEnabled$]=(0,F.BM)(`${Vr.name}.firestore`,"AngularFirestore",Vr.name,()=>{const vo=ue.runOutsideAngular(()=>Vr.firestore());if(C&&vo.settings(C),gs&&vo.useEmulator(...gs),v&&!(0,p.Vy)(R)){const wo=()=>{try{return(0,q.H)(vo.enablePersistence(tt||void 0).then(()=>!0,()=>!1))}catch(Ea){return typeof console<"u"&&console.warn(Ea),(0,z.of)(!1)}};return[vo,ue.runOutsideAngular(wo)]}return[vo,(0,z.of)(!1)]},[C,gs,v])}collection(r,u){let v;v="string"==typeof r?this.firestore.collection(r):r;const{ref:C,query:R}=Wv(v,u),ue=this.schedulers.ngZone.run(()=>C);return new Fy(ue,R,this)}collectionGroup(r,u){const v=u||(R=>R),C=this.firestore.collectionGroup(r);return new fy(v(C),this)}doc(r){let u;u="string"==typeof r?this.firestore.doc(r):r;const v=this.schedulers.ngZone.run(()=>u);return new Ab(v,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(u){return new(u||l)(m.KVO(F.rx),m.KVO(F.uP,8),m.KVO(a1,8),m.KVO(U_,8),m.KVO(m.Agw),m.KVO(m.SKi),m.KVO(T.u0),m.KVO(B1,8),m.KVO(V1,8),m.KVO(x.DS,8),m.KVO(x.CP,8),m.KVO(x.yy,8),m.KVO(x.ZP,8),m.KVO(x.$z,8),m.KVO(x.AU,8),m.KVO(x.UB,8),m.KVO(T.Jv,8))};static \u0275prov=m.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})}return l})()},9253:(Jt,ke,E)=>{"use strict";E.d(ke,{BM:()=>H,Gt:()=>x,bf:()=>A,e7:()=>ce,iB:()=>O,rx:()=>q,uP:()=>z});var p=E(4438),m=E(1825),T=E(7935);const F=["ngOnDestroy"],x=(me,Ne,Be,Ve={})=>new Proxy(me,{get:(Le,J)=>Be.runOutsideAngular(()=>{if(me[J])return Ve?.spy?.get&&Ve.spy.get(J,me[J]),me[J];if(F.indexOf(J)>-1)return()=>{};const ae=Ne.toPromise().then(de=>{const fe=de?.[J];return"function"==typeof fe?fe.bind(de):fe?.then?fe.then(Re=>Be.run(()=>Re)):Be.run(()=>fe)});return new Proxy(()=>{},{get:(de,fe)=>ae[fe],apply:(de,fe,Re)=>ae.then(_e=>{const Xe=_e?.(...Re);return Ve?.spy?.apply&&Ve.spy.apply(J,Re,Xe),Xe})})})}),ce=(me,Ne)=>{Ne.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(Ve=>{Object.defineProperty(me.prototype,Ve,Object.getOwnPropertyDescriptor(Be.prototype||Be,Ve))})})};class ne{constructor(Ne){return Ne}}const q=new p.nKC("angularfire2.app.options"),z=new p.nKC("angularfire2.app.name");function O(me,Ne,Be){const Le="object"==typeof Be&&Be||{};Le.name=Le.name||"string"==typeof Be&&Be||"[DEFAULT]";const ae=T.A.apps.filter(de=>de&&de.name===Le.name)[0]||Ne.runOutsideAngular(()=>T.A.initializeApp(me,Le));try{if(JSON.stringify(me)!==JSON.stringify(ae.options)){const de=!!module.hot;I("error",`${ae.name} Firebase App already initialized with different options${de?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ne(ae)}const I=(me,...Ne)=>{(0,p.naY)()&&typeof console<"u"&&console[me](...Ne)},k={provide:ne,useFactory:O,deps:[q,p.SKi,[new p.Xx1,z]]};let A=(()=>{class me{static initializeApp(Be,Ve){return{ngModule:me,providers:[{provide:q,useValue:Be},{provide:z,useValue:Ve}]}}constructor(Be){T.A.registerVersion("angularfire",m.xv.full,"core"),T.A.registerVersion("angularfire",m.xv.full,"app-compat"),T.A.registerVersion("angular",p.xvI.full,Be.toString())}static \u0275fac=function(Ve){return new(Ve||me)(p.KVO(p.Agw))};static \u0275mod=p.$C({type:me});static \u0275inj=p.G2t({providers:[k]})}return me})();function H(me,Ne,Be,Ve,Le){const[,J,ae]=globalThis.\u0275AngularfireInstanceCache.find(de=>de[0]===me)||[];if(J)return function Q(me,Ne){try{return me.toString()===Ne.toString()}catch{return me===Ne}}(Le,ae)||(be("error",`${Ne} was already initialized on the ${Be} Firebase App with different settings.${ee?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Le,was:ae})),J;{const de=Ve();return globalThis.\u0275AngularfireInstanceCache.push([me,de,Le]),de}}const ee=typeof module<"u"&&!!module.hot,be=(me,...Ne)=>{(0,p.naY)()&&typeof console<"u"&&console[me](...Ne)};globalThis.\u0275AngularfireInstanceCache||=[]},1825:(Jt,ke,E)=>{"use strict";E.d(ke,{xv:()=>Q,U0:()=>Ye,u0:()=>ae,Jv:()=>Ne});var p=E(4438),m=E(8742);(0,m.registerVersion)("firebase","10.11.1","app");var x=E(6780),ne=E(9687);const z=new class q extends ne.q{}(class ce extends x.R{constructor(Nn,Et){super(Nn,Et),this.scheduler=Nn,this.work=Et}schedule(Nn,Et=0){return Et>0?super.schedule(Nn,Et):(this.delay=Et,this.state=Nn,this.scheduler.flush(this),this)}execute(Nn,Et){return Et>0||this.closed?super.execute(Nn,Et):this._execute(Nn,Et)}requestAsyncId(Nn,Et,Rt=0){return null!=Rt&&Rt>0||null==Rt&&this.delay>0?super.requestAsyncId(Nn,Et,Rt):(Nn.flush(this),0)}});var I=E(3236),k=E(8141),A=E(6745),H=E(941);const Q=new p.RxE("ANGULARFIRE2_VERSION");class Ne{constructor(){return((An,Nn)=>{const Et=(0,m.getApps)(),Rt=[];return Et.forEach(jt=>{jt.container.getProvider(An).instances.forEach(en=>{Rt.includes(en)||Rt.push(en)})}),Rt})(Be)}}const Be="app-check";function Ve(){}class Le{zone;delegate;constructor(Nn,Et=z){this.zone=Nn,this.delegate=Et}now(){return this.delegate.now()}schedule(Nn,Et,Rt){const jt=this.zone;return this.delegate.schedule(function(en){jt.runGuarded(()=>{Nn.apply(this,[en])})},Et,Rt)}}class J{zone;task=null;constructor(Nn){this.zone=Nn}call(Nn,Et){const Rt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ve,{},Ve,Ve)),Et.pipe((0,k.M)({next:Rt,complete:Rt,error:Rt})).subscribe(Nn).add(Rt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ae=(()=>{class An{ngZone;outsideAngular;insideAngular;constructor(Et){this.ngZone=Et,this.outsideAngular=Et.runOutsideAngular(()=>new Le(Zone.current)),this.insideAngular=Et.run(()=>new Le(Zone.current,I.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Rt){return new(Rt||An)(p.KVO(p.SKi))};static \u0275prov=p.jDH({token:An,factory:An.\u0275fac,providedIn:"root"})}return An})();function Ye(An){return function Ot(An){return function(Et){return(Et=Et.lift(new J(An.ngZone))).pipe((0,A._)(An.outsideAngular),(0,H.Q)(An.insideAngular))}}(function de(){const An=globalThis.\u0275AngularFireScheduler;if(!An)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return An}())(An)}},9417:(Jt,ke,E)=>{"use strict";E.d(ke,{BC:()=>Pi,JD:()=>Wn,MJ:()=>Or,R_:()=>$r,X1:()=>Xa,YN:()=>pl,YS:()=>ma,cV:()=>ss,cb:()=>hi,cz:()=>be,gE:()=>st,j4:()=>Ra,k0:()=>Be,kq:()=>q,l_:()=>Wa,me:()=>H,ok:()=>ta,qT:()=>Bc,tU:()=>La,vO:()=>dt,vS:()=>ps,xh:()=>ea,xq:()=>nd,ze:()=>Ya});var p=E(4438),m=E(177),T=E(8455),F=E(7468),x=E(6354);let ce=(()=>{class rt{constructor(Fe,It){this._renderer=Fe,this._elementRef=It,this.onChange=Tn=>{},this.onTouched=()=>{}}setProperty(Fe,It){this._renderer.setProperty(this._elementRef.nativeElement,Fe,It)}registerOnTouched(Fe){this.onTouched=Fe}registerOnChange(Fe){this.onChange=Fe}setDisabledState(Fe){this.setProperty("disabled",Fe)}static#e=this.\u0275fac=function(It){return new(It||rt)(p.rXU(p.sFG),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:rt})}return rt})(),ne=(()=>{class rt extends ce{static#e=this.\u0275fac=(()=>{let Fe;return function(Tn){return(Fe||(Fe=p.xGo(rt)))(Tn||rt)}})();static#t=this.\u0275dir=p.FsC({type:rt,features:[p.Vt3]})}return rt})();const q=new p.nKC(""),I={provide:q,useExisting:(0,p.Rfq)(()=>H),multi:!0},A=new p.nKC("");let H=(()=>{class rt extends ce{constructor(Fe,It,Tn){super(Fe,It),this._compositionMode=Tn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function k(){const rt=(0,m.QT)()?(0,m.QT)().getUserAgent():"";return/android (\d+)/.test(rt.toLowerCase())}())}writeValue(Fe){this.setProperty("value",Fe??"")}_handleInput(Fe){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Fe)}_compositionStart(){this._composing=!0}_compositionEnd(Fe){this._composing=!1,this._compositionMode&&this.onChange(Fe)}static#e=this.\u0275fac=function(It){return new(It||rt)(p.rXU(p.sFG),p.rXU(p.aKT),p.rXU(A,8))};static#t=this.\u0275dir=p.FsC({type:rt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(It,Tn){1&It&&p.bIt("input",function(qr){return Tn._handleInput(qr.target.value)})("blur",function(){return Tn.onTouched()})("compositionstart",function(){return Tn._compositionStart()})("compositionend",function(qr){return Tn._compositionEnd(qr.target.value)})},features:[p.Jv_([I]),p.Vt3]})}return rt})();function Q(rt){return null==rt||("string"==typeof rt||Array.isArray(rt))&&0===rt.length}function ee(rt){return null!=rt&&"number"==typeof rt.length}const be=new p.nKC(""),me=new p.nKC(""),Ne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Be{static min(ut){return function Ve(rt){return ut=>{if(Q(ut.value)||Q(rt))return null;const Fe=parseFloat(ut.value);return!isNaN(Fe)&&Fe<rt?{min:{min:rt,actual:ut.value}}:null}}(ut)}static max(ut){return function Le(rt){return ut=>{if(Q(ut.value)||Q(rt))return null;const Fe=parseFloat(ut.value);return!isNaN(Fe)&&Fe>rt?{max:{max:rt,actual:ut.value}}:null}}(ut)}static required(ut){return J(ut)}static requiredTrue(ut){return ae(ut)}static email(ut){return function de(rt){return Q(rt.value)||Ne.test(rt.value)?null:{email:!0}}(ut)}static minLength(ut){return fe(ut)}static maxLength(ut){return Re(ut)}static pattern(ut){return _e(ut)}static nullValidator(ut){return null}static compose(ut){return Et(ut)}static composeAsync(ut){return jt(ut)}}function J(rt){return Q(rt.value)?{required:!0}:null}function ae(rt){return!0===rt.value?null:{required:!0}}function fe(rt){return ut=>Q(ut.value)||!ee(ut.value)?null:ut.value.length<rt?{minlength:{requiredLength:rt,actualLength:ut.value.length}}:null}function Re(rt){return ut=>ee(ut.value)&&ut.value.length>rt?{maxlength:{requiredLength:rt,actualLength:ut.value.length}}:null}function _e(rt){if(!rt)return Xe;let ut,Fe;return"string"==typeof rt?(Fe="","^"!==rt.charAt(0)&&(Fe+="^"),Fe+=rt,"$"!==rt.charAt(rt.length-1)&&(Fe+="$"),ut=new RegExp(Fe)):(Fe=rt.toString(),ut=rt),It=>{if(Q(It.value))return null;const Tn=It.value;return ut.test(Tn)?null:{pattern:{requiredPattern:Fe,actualValue:Tn}}}}function Xe(rt){return null}function Ye(rt){return null!=rt}function Ot(rt){return(0,p.jNT)(rt)?(0,T.H)(rt):rt}function un(rt){let ut={};return rt.forEach(Fe=>{ut=null!=Fe?{...ut,...Fe}:ut}),0===Object.keys(ut).length?null:ut}function Cn(rt,ut){return ut.map(Fe=>Fe(rt))}function Nn(rt){return rt.map(ut=>function An(rt){return!rt.validate}(ut)?ut:Fe=>ut.validate(Fe))}function Et(rt){if(!rt)return null;const ut=rt.filter(Ye);return 0==ut.length?null:function(Fe){return un(Cn(Fe,ut))}}function Rt(rt){return null!=rt?Et(Nn(rt)):null}function jt(rt){if(!rt)return null;const ut=rt.filter(Ye);return 0==ut.length?null:function(Fe){const It=Cn(Fe,ut).map(Ot);return(0,F.p)(It).pipe((0,x.T)(un))}}function Dt(rt){return null!=rt?jt(Nn(rt)):null}function en(rt,ut){return null===rt?[ut]:Array.isArray(rt)?[...rt,ut]:[rt,ut]}function qe(rt){return rt._rawValidators}function We(rt){return rt._rawAsyncValidators}function ge(rt){return rt?Array.isArray(rt)?rt:[rt]:[]}function mt(rt,ut){return Array.isArray(rt)?rt.includes(ut):rt===ut}function Ft(rt,ut){const Fe=ge(ut);return ge(rt).forEach(Tn=>{mt(Fe,Tn)||Fe.push(Tn)}),Fe}function Lt(rt,ut){return ge(ut).filter(Fe=>!mt(rt,Fe))}class bn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ut){this._rawValidators=ut||[],this._composedValidatorFn=Rt(this._rawValidators)}_setAsyncValidators(ut){this._rawAsyncValidators=ut||[],this._composedAsyncValidatorFn=Dt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ut){this._onDestroyCallbacks.push(ut)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ut=>ut()),this._onDestroyCallbacks=[]}reset(ut=void 0){this.control&&this.control.reset(ut)}hasError(ut,Fe){return!!this.control&&this.control.hasError(ut,Fe)}getError(ut,Fe){return this.control?this.control.getError(ut,Fe):null}}class it extends bn{get formDirective(){return null}get path(){return null}}class dt extends bn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $t{constructor(ut){this._cd=ut}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pi=(()=>{class rt extends $t{constructor(Fe){super(Fe)}static#e=this.\u0275fac=function(It){return new(It||rt)(p.rXU(dt,2))};static#t=this.\u0275dir=p.FsC({type:rt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(It,Tn){2&It&&p.AVh("ng-untouched",Tn.isUntouched)("ng-touched",Tn.isTouched)("ng-pristine",Tn.isPristine)("ng-dirty",Tn.isDirty)("ng-valid",Tn.isValid)("ng-invalid",Tn.isInvalid)("ng-pending",Tn.isPending)},features:[p.Vt3]})}return rt})(),hi=(()=>{class rt extends $t{constructor(Fe){super(Fe)}static#e=this.\u0275fac=function(It){return new(It||rt)(p.rXU(it,10))};static#t=this.\u0275dir=p.FsC({type:rt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(It,Tn){2&It&&p.AVh("ng-untouched",Tn.isUntouched)("ng-touched",Tn.isTouched)("ng-pristine",Tn.isPristine)("ng-dirty",Tn.isDirty)("ng-valid",Tn.isValid)("ng-invalid",Tn.isInvalid)("ng-pending",Tn.isPending)("ng-submitted",Tn.isSubmitted)},features:[p.Vt3]})}return rt})();const Gi="VALID",rs="INVALID",Dn="PENDING",On="DISABLED";function bt(rt){return(Ht(rt)?rt.validators:rt)||null}function Vt(rt,ut){return(Ht(ut)?ut.asyncValidators:rt)||null}function Ht(rt){return null!=rt&&!Array.isArray(rt)&&"object"==typeof rt}function ft(rt,ut,Fe){const It=rt.controls;if(!(ut?Object.keys(It):It).length)throw new p.wOt(1e3,"");if(!It[Fe])throw new p.wOt(1001,"")}function wt(rt,ut,Fe){rt._forEachChild((It,Tn)=>{if(void 0===Fe[Tn])throw new p.wOt(1002,"")})}class ze{constructor(ut,Fe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ut),this._assignAsyncValidators(Fe)}get validator(){return this._composedValidatorFn}set validator(ut){this._rawValidators=this._composedValidatorFn=ut}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ut){this._rawAsyncValidators=this._composedAsyncValidatorFn=ut}get parent(){return this._parent}get valid(){return this.status===Gi}get invalid(){return this.status===rs}get pending(){return this.status==Dn}get disabled(){return this.status===On}get enabled(){return this.status!==On}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ut){this._assignValidators(ut)}setAsyncValidators(ut){this._assignAsyncValidators(ut)}addValidators(ut){this.setValidators(Ft(ut,this._rawValidators))}addAsyncValidators(ut){this.setAsyncValidators(Ft(ut,this._rawAsyncValidators))}removeValidators(ut){this.setValidators(Lt(ut,this._rawValidators))}removeAsyncValidators(ut){this.setAsyncValidators(Lt(ut,this._rawAsyncValidators))}hasValidator(ut){return mt(this._rawValidators,ut)}hasAsyncValidator(ut){return mt(this._rawAsyncValidators,ut)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ut={}){this.touched=!0,this._parent&&!ut.onlySelf&&this._parent.markAsTouched(ut)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ut=>ut.markAllAsTouched())}markAsUntouched(ut={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Fe=>{Fe.markAsUntouched({onlySelf:!0})}),this._parent&&!ut.onlySelf&&this._parent._updateTouched(ut)}markAsDirty(ut={}){this.pristine=!1,this._parent&&!ut.onlySelf&&this._parent.markAsDirty(ut)}markAsPristine(ut={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Fe=>{Fe.markAsPristine({onlySelf:!0})}),this._parent&&!ut.onlySelf&&this._parent._updatePristine(ut)}markAsPending(ut={}){this.status=Dn,!1!==ut.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ut.onlySelf&&this._parent.markAsPending(ut)}disable(ut={}){const Fe=this._parentMarkedDirty(ut.onlySelf);this.status=On,this.errors=null,this._forEachChild(It=>{It.disable({...ut,onlySelf:!0})}),this._updateValue(),!1!==ut.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ut,skipPristineCheck:Fe}),this._onDisabledChange.forEach(It=>It(!0))}enable(ut={}){const Fe=this._parentMarkedDirty(ut.onlySelf);this.status=Gi,this._forEachChild(It=>{It.enable({...ut,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ut.emitEvent}),this._updateAncestors({...ut,skipPristineCheck:Fe}),this._onDisabledChange.forEach(It=>It(!1))}_updateAncestors(ut){this._parent&&!ut.onlySelf&&(this._parent.updateValueAndValidity(ut),ut.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ut){this._parent=ut}getRawValue(){return this.value}updateValueAndValidity(ut={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gi||this.status===Dn)&&this._runAsyncValidator(ut.emitEvent)),!1!==ut.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ut.onlySelf&&this._parent.updateValueAndValidity(ut)}_updateTreeValidity(ut={emitEvent:!0}){this._forEachChild(Fe=>Fe._updateTreeValidity(ut)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ut.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?On:Gi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ut){if(this.asyncValidator){this.status=Dn,this._hasOwnPendingAsyncValidator=!0;const Fe=Ot(this.asyncValidator(this));this._asyncValidationSubscription=Fe.subscribe(It=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(It,{emitEvent:ut})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ut,Fe={}){this.errors=ut,this._updateControlsErrors(!1!==Fe.emitEvent)}get(ut){let Fe=ut;return null==Fe||(Array.isArray(Fe)||(Fe=Fe.split(".")),0===Fe.length)?null:Fe.reduce((It,Tn)=>It&&It._find(Tn),this)}getError(ut,Fe){const It=Fe?this.get(Fe):this;return It&&It.errors?It.errors[ut]:null}hasError(ut,Fe){return!!this.getError(ut,Fe)}get root(){let ut=this;for(;ut._parent;)ut=ut._parent;return ut}_updateControlsErrors(ut){this.status=this._calculateStatus(),ut&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ut)}_initObservables(){this.valueChanges=new p.bkB,this.statusChanges=new p.bkB}_calculateStatus(){return this._allControlsDisabled()?On:this.errors?rs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dn)?Dn:this._anyControlsHaveStatus(rs)?rs:Gi}_anyControlsHaveStatus(ut){return this._anyControls(Fe=>Fe.status===ut)}_anyControlsDirty(){return this._anyControls(ut=>ut.dirty)}_anyControlsTouched(){return this._anyControls(ut=>ut.touched)}_updatePristine(ut={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ut.onlySelf&&this._parent._updatePristine(ut)}_updateTouched(ut={}){this.touched=this._anyControlsTouched(),this._parent&&!ut.onlySelf&&this._parent._updateTouched(ut)}_registerOnCollectionChange(ut){this._onCollectionChange=ut}_setUpdateStrategy(ut){Ht(ut)&&null!=ut.updateOn&&(this._updateOn=ut.updateOn)}_parentMarkedDirty(ut){return!ut&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ut){return null}_assignValidators(ut){this._rawValidators=Array.isArray(ut)?ut.slice():ut,this._composedValidatorFn=function Pt(rt){return Array.isArray(rt)?Rt(rt):rt||null}(this._rawValidators)}_assignAsyncValidators(ut){this._rawAsyncValidators=Array.isArray(ut)?ut.slice():ut,this._composedAsyncValidatorFn=function yt(rt){return Array.isArray(rt)?Dt(rt):rt||null}(this._rawAsyncValidators)}}class st extends ze{constructor(ut,Fe,It){super(bt(Fe),Vt(It,Fe)),this.controls=ut,this._initObservables(),this._setUpdateStrategy(Fe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ut,Fe){return this.controls[ut]?this.controls[ut]:(this.controls[ut]=Fe,Fe.setParent(this),Fe._registerOnCollectionChange(this._onCollectionChange),Fe)}addControl(ut,Fe,It={}){this.registerControl(ut,Fe),this.updateValueAndValidity({emitEvent:It.emitEvent}),this._onCollectionChange()}removeControl(ut,Fe={}){this.controls[ut]&&this.controls[ut]._registerOnCollectionChange(()=>{}),delete this.controls[ut],this.updateValueAndValidity({emitEvent:Fe.emitEvent}),this._onCollectionChange()}setControl(ut,Fe,It={}){this.controls[ut]&&this.controls[ut]._registerOnCollectionChange(()=>{}),delete this.controls[ut],Fe&&this.registerControl(ut,Fe),this.updateValueAndValidity({emitEvent:It.emitEvent}),this._onCollectionChange()}contains(ut){return this.controls.hasOwnProperty(ut)&&this.controls[ut].enabled}setValue(ut,Fe={}){wt(this,0,ut),Object.keys(ut).forEach(It=>{ft(this,!0,It),this.controls[It].setValue(ut[It],{onlySelf:!0,emitEvent:Fe.emitEvent})}),this.updateValueAndValidity(Fe)}patchValue(ut,Fe={}){null!=ut&&(Object.keys(ut).forEach(It=>{const Tn=this.controls[It];Tn&&Tn.patchValue(ut[It],{onlySelf:!0,emitEvent:Fe.emitEvent})}),this.updateValueAndValidity(Fe))}reset(ut={},Fe={}){this._forEachChild((It,Tn)=>{It.reset(ut?ut[Tn]:null,{onlySelf:!0,emitEvent:Fe.emitEvent})}),this._updatePristine(Fe),this._updateTouched(Fe),this.updateValueAndValidity(Fe)}getRawValue(){return this._reduceChildren({},(ut,Fe,It)=>(ut[It]=Fe.getRawValue(),ut))}_syncPendingControls(){let ut=this._reduceChildren(!1,(Fe,It)=>!!It._syncPendingControls()||Fe);return ut&&this.updateValueAndValidity({onlySelf:!0}),ut}_forEachChild(ut){Object.keys(this.controls).forEach(Fe=>{const It=this.controls[Fe];It&&ut(It,Fe)})}_setUpControls(){this._forEachChild(ut=>{ut.setParent(this),ut._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ut){for(const[Fe,It]of Object.entries(this.controls))if(this.contains(Fe)&&ut(It))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Fe,It,Tn)=>((It.enabled||this.disabled)&&(Fe[Tn]=It.value),Fe))}_reduceChildren(ut,Fe){let It=ut;return this._forEachChild((Tn,fr)=>{It=Fe(It,Tn,fr)}),It}_allControlsDisabled(){for(const ut of Object.keys(this.controls))if(this.controls[ut].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ut){return this.controls.hasOwnProperty(ut)?this.controls[ut]:null}}class Ee extends st{}const ht=new p.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>on}),on="always";function gn(rt,ut){return[...ut.path,rt]}function pt(rt,ut,Fe=on){Rn(rt,ut),ut.valueAccessor.writeValue(rt.value),(rt.disabled||"always"===Fe)&&ut.valueAccessor.setDisabledState?.(rt.disabled),function vn(rt,ut){ut.valueAccessor.registerOnChange(Fe=>{rt._pendingValue=Fe,rt._pendingChange=!0,rt._pendingDirty=!0,"change"===rt.updateOn&&Zn(rt,ut)})}(rt,ut),function Ai(rt,ut){const Fe=(It,Tn)=>{ut.valueAccessor.writeValue(It),Tn&&ut.viewToModelUpdate(It)};rt.registerOnChange(Fe),ut._registerOnDestroy(()=>{rt._unregisterOnChange(Fe)})}(rt,ut),function $n(rt,ut){ut.valueAccessor.registerOnTouched(()=>{rt._pendingTouched=!0,"blur"===rt.updateOn&&rt._pendingChange&&Zn(rt,ut),"submit"!==rt.updateOn&&rt.markAsTouched()})}(rt,ut),function ln(rt,ut){if(ut.valueAccessor.setDisabledState){const Fe=It=>{ut.valueAccessor.setDisabledState(It)};rt.registerOnDisabledChange(Fe),ut._registerOnDestroy(()=>{rt._unregisterOnDisabledChange(Fe)})}}(rt,ut)}function Ut(rt,ut,Fe=!0){const It=()=>{};ut.valueAccessor&&(ut.valueAccessor.registerOnChange(It),ut.valueAccessor.registerOnTouched(It)),Nt(rt,ut),rt&&(ut._invokeOnDestroyCallbacks(),rt._registerOnCollectionChange(()=>{}))}function lt(rt,ut){rt.forEach(Fe=>{Fe.registerOnValidatorChange&&Fe.registerOnValidatorChange(ut)})}function Rn(rt,ut){const Fe=qe(rt);null!==ut.validator?rt.setValidators(en(Fe,ut.validator)):"function"==typeof Fe&&rt.setValidators([Fe]);const It=We(rt);null!==ut.asyncValidator?rt.setAsyncValidators(en(It,ut.asyncValidator)):"function"==typeof It&&rt.setAsyncValidators([It]);const Tn=()=>rt.updateValueAndValidity();lt(ut._rawValidators,Tn),lt(ut._rawAsyncValidators,Tn)}function Nt(rt,ut){let Fe=!1;if(null!==rt){if(null!==ut.validator){const Tn=qe(rt);if(Array.isArray(Tn)&&Tn.length>0){const fr=Tn.filter(qr=>qr!==ut.validator);fr.length!==Tn.length&&(Fe=!0,rt.setValidators(fr))}}if(null!==ut.asyncValidator){const Tn=We(rt);if(Array.isArray(Tn)&&Tn.length>0){const fr=Tn.filter(qr=>qr!==ut.asyncValidator);fr.length!==Tn.length&&(Fe=!0,rt.setAsyncValidators(fr))}}}const It=()=>{};return lt(ut._rawValidators,It),lt(ut._rawAsyncValidators,It),Fe}function Zn(rt,ut){rt._pendingDirty&&rt.markAsDirty(),rt.setValue(rt._pendingValue,{emitModelToViewChange:!1}),ut.viewToModelUpdate(rt._pendingValue),rt._pendingChange=!1}function sn(rt,ut){Rn(rt,ut)}function at(rt,ut){if(!rt.hasOwnProperty("model"))return!1;const Fe=rt.model;return!!Fe.isFirstChange()||!Object.is(ut,Fe.currentValue)}function Sn(rt,ut){rt._syncPendingControls(),ut.forEach(Fe=>{const It=Fe.control;"submit"===It.updateOn&&It._pendingChange&&(Fe.viewToModelUpdate(It._pendingValue),It._pendingChange=!1)})}function Ln(rt,ut){if(!ut)return null;let Fe,It,Tn;return Array.isArray(ut),ut.forEach(fr=>{fr.constructor===H?Fe=fr:function Mt(rt){return Object.getPrototypeOf(rt.constructor)===ne}(fr)?It=fr:Tn=fr}),Tn||It||Fe||null}const ji={provide:it,useExisting:(0,p.Rfq)(()=>ss)},Li=Promise.resolve();let ss=(()=>{class rt extends it{constructor(Fe,It,Tn){super(),this.callSetDisabledState=Tn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.bkB,this.form=new st({},Rt(Fe),Dt(It))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Fe){Li.then(()=>{const It=this._findContainer(Fe.path);Fe.control=It.registerControl(Fe.name,Fe.control),pt(Fe.control,Fe,this.callSetDisabledState),Fe.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Fe)})}getControl(Fe){return this.form.get(Fe.path)}removeControl(Fe){Li.then(()=>{const It=this._findContainer(Fe.path);It&&It.removeControl(Fe.name),this._directives.delete(Fe)})}addFormGroup(Fe){Li.then(()=>{const It=this._findContainer(Fe.path),Tn=new st({});sn(Tn,Fe),It.registerControl(Fe.name,Tn),Tn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Fe){Li.then(()=>{const It=this._findContainer(Fe.path);It&&It.removeControl(Fe.name)})}getFormGroup(Fe){return this.form.get(Fe.path)}updateModel(Fe,It){Li.then(()=>{this.form.get(Fe.path).setValue(It)})}setValue(Fe){this.control.setValue(Fe)}onSubmit(Fe){return this.submitted=!0,Sn(this.form,this._directives),this.ngSubmit.emit(Fe),"dialog"===Fe?.target?.method}onReset(){this.resetForm()}resetForm(Fe=void 0){this.form.reset(Fe),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Fe){return Fe.pop(),Fe.length?this.form.get(Fe):this.form}static#e=this.\u0275fac=function(It){return new(It||rt)(p.rXU(be,10),p.rXU(me,10),p.rXU(ht,8))};static#t=this.\u0275dir=p.FsC({type:rt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(It,Tn){1&It&&p.bIt("submit",function(qr){return Tn.onSubmit(qr)})("reset",function(){return Tn.onReset()})},inputs:{options:[p.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p.Jv_([ji]),p.Vt3]})}return rt})();function Zr(rt,ut){const Fe=rt.indexOf(ut);Fe>-1&&rt.splice(Fe,1)}function pi(rt){return"object"==typeof rt&&null!==rt&&2===Object.keys(rt).length&&"value"in rt&&"disabled"in rt}const Or=class extends ze{constructor(ut=null,Fe,It){super(bt(Fe),Vt(It,Fe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ut),this._setUpdateStrategy(Fe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ht(Fe)&&(Fe.nonNullable||Fe.initialValueIsDefault)&&(this.defaultValue=pi(ut)?ut.value:ut)}setValue(ut,Fe={}){this.value=this._pendingValue=ut,this._onChange.length&&!1!==Fe.emitModelToViewChange&&this._onChange.forEach(It=>It(this.value,!1!==Fe.emitViewToModelChange)),this.updateValueAndValidity(Fe)}patchValue(ut,Fe={}){this.setValue(ut,Fe)}reset(ut=this.defaultValue,Fe={}){this._applyFormState(ut),this.markAsPristine(Fe),this.markAsUntouched(Fe),this.setValue(this.value,Fe),this._pendingChange=!1}_updateValue(){}_anyControls(ut){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ut){this._onChange.push(ut)}_unregisterOnChange(ut){Zr(this._onChange,ut)}registerOnDisabledChange(ut){this._onDisabledChange.push(ut)}_unregisterOnDisabledChange(ut){Zr(this._onDisabledChange,ut)}_forEachChild(ut){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ut){pi(ut)?(this.value=this._pendingValue=ut.value,ut.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ut}},io={provide:dt,useExisting:(0,p.Rfq)(()=>ps)},kr=Promise.resolve();let ps=(()=>{class rt extends dt{constructor(Fe,It,Tn,fr,qr,ml){super(),this._changeDetectorRef=qr,this.callSetDisabledState=ml,this.control=new Or,this._registered=!1,this.name="",this.update=new p.bkB,this._parent=Fe,this._setValidators(It),this._setAsyncValidators(Tn),this.valueAccessor=Ln(0,fr)}ngOnChanges(Fe){if(this._checkForErrors(),!this._registered||"name"in Fe){if(this._registered&&(this._checkName(),this.formDirective)){const It=Fe.name.previousValue;this.formDirective.removeControl({name:It,path:this._getPath(It)})}this._setUpControl()}"isDisabled"in Fe&&this._updateDisabled(Fe),at(Fe,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Fe){this.viewModel=Fe,this.update.emit(Fe)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Fe){kr.then(()=>{this.control.setValue(Fe,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Fe){const It=Fe.isDisabled.currentValue,Tn=0!==It&&(0,p.L39)(It);kr.then(()=>{Tn&&!this.control.disabled?this.control.disable():!Tn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Fe){return this._parent?gn(Fe,this._parent):[Fe]}static#e=this.\u0275fac=function(It){return new(It||rt)(p.rXU(it,9),p.rXU(be,10),p.rXU(me,10),p.rXU(q,10),p.rXU(p.gRc,8),p.rXU(ht,8))};static#t=this.\u0275dir=p.FsC({type:rt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[p.Mj6.None,"disabled","isDisabled"],model:[p.Mj6.None,"ngModel","model"],options:[p.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p.Jv_([io]),p.Vt3,p.OA$]})}return rt})(),Bc=(()=>{class rt{static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275dir=p.FsC({type:rt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return rt})();const Ms=new p.nKC(""),Ga={provide:dt,useExisting:(0,p.Rfq)(()=>Wa)};let Wa=(()=>{class rt extends dt{set isDisabled(Fe){}static#e=this._ngModelWarningSentOnce=!1;constructor(Fe,It,Tn,fr,qr){super(),this._ngModelWarningConfig=fr,this.callSetDisabledState=qr,this.update=new p.bkB,this._ngModelWarningSent=!1,this._setValidators(Fe),this._setAsyncValidators(It),this.valueAccessor=Ln(0,Tn)}ngOnChanges(Fe){if(this._isControlChanged(Fe)){const It=Fe.form.previousValue;It&&Ut(It,this,!1),pt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}at(Fe,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ut(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Fe){this.viewModel=Fe,this.update.emit(Fe)}_isControlChanged(Fe){return Fe.hasOwnProperty("form")}static#t=this.\u0275fac=function(It){return new(It||rt)(p.rXU(be,10),p.rXU(me,10),p.rXU(q,10),p.rXU(Ms,8),p.rXU(ht,8))};static#n=this.\u0275dir=p.FsC({type:rt,selectors:[["","formControl",""]],inputs:{form:[p.Mj6.None,"formControl","form"],isDisabled:[p.Mj6.None,"disabled","isDisabled"],model:[p.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[p.Jv_([Ga]),p.Vt3,p.OA$]})}return rt})();const nc={provide:it,useExisting:(0,p.Rfq)(()=>Ra)};let Ra=(()=>{class rt extends it{constructor(Fe,It,Tn){super(),this.callSetDisabledState=Tn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.bkB,this._setValidators(Fe),this._setAsyncValidators(It)}ngOnChanges(Fe){this._checkFormPresent(),Fe.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Fe){const It=this.form.get(Fe.path);return pt(It,Fe,this.callSetDisabledState),It.updateValueAndValidity({emitEvent:!1}),this.directives.push(Fe),It}getControl(Fe){return this.form.get(Fe.path)}removeControl(Fe){Ut(Fe.control||null,Fe,!1),function oi(rt,ut){const Fe=rt.indexOf(ut);Fe>-1&&rt.splice(Fe,1)}(this.directives,Fe)}addFormGroup(Fe){this._setUpFormContainer(Fe)}removeFormGroup(Fe){this._cleanUpFormContainer(Fe)}getFormGroup(Fe){return this.form.get(Fe.path)}addFormArray(Fe){this._setUpFormContainer(Fe)}removeFormArray(Fe){this._cleanUpFormContainer(Fe)}getFormArray(Fe){return this.form.get(Fe.path)}updateModel(Fe,It){this.form.get(Fe.path).setValue(It)}onSubmit(Fe){return this.submitted=!0,Sn(this.form,this.directives),this.ngSubmit.emit(Fe),"dialog"===Fe?.target?.method}onReset(){this.resetForm()}resetForm(Fe=void 0){this.form.reset(Fe),this.submitted=!1}_updateDomValue(){this.directives.forEach(Fe=>{const It=Fe.control,Tn=this.form.get(Fe.path);It!==Tn&&(Ut(It||null,Fe),(rt=>rt instanceof Or)(Tn)&&(pt(Tn,Fe,this.callSetDisabledState),Fe.control=Tn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Fe){const It=this.form.get(Fe.path);sn(It,Fe),It.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Fe){if(this.form){const It=this.form.get(Fe.path);It&&function hn(rt,ut){return Nt(rt,ut)}(It,Fe)&&It.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rn(this.form,this),this._oldForm&&Nt(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(It){return new(It||rt)(p.rXU(be,10),p.rXU(me,10),p.rXU(ht,8))};static#t=this.\u0275dir=p.FsC({type:rt,selectors:[["","formGroup",""]],hostBindings:function(It,Tn){1&It&&p.bIt("submit",function(qr){return Tn.onSubmit(qr)})("reset",function(){return Tn.onReset()})},inputs:{form:[p.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p.Jv_([nc]),p.Vt3,p.OA$]})}return rt})();const yn={provide:dt,useExisting:(0,p.Rfq)(()=>Wn)};let Wn=(()=>{class rt extends dt{set isDisabled(Fe){}static#e=this._ngModelWarningSentOnce=!1;constructor(Fe,It,Tn,fr,qr){super(),this._ngModelWarningConfig=qr,this._added=!1,this.name=null,this.update=new p.bkB,this._ngModelWarningSent=!1,this._parent=Fe,this._setValidators(It),this._setAsyncValidators(Tn),this.valueAccessor=Ln(0,fr)}ngOnChanges(Fe){this._added||this._setUpControl(),at(Fe,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Fe){this.viewModel=Fe,this.update.emit(Fe)}get path(){return gn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(It){return new(It||rt)(p.rXU(it,13),p.rXU(be,10),p.rXU(me,10),p.rXU(q,10),p.rXU(Ms,8))};static#n=this.\u0275dir=p.FsC({type:rt,selectors:[["","formControlName",""]],inputs:{name:[p.Mj6.None,"formControlName","name"],isDisabled:[p.Mj6.None,"disabled","isDisabled"],model:[p.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[p.Jv_([yn]),p.Vt3,p.OA$]})}return rt})();function Bs(rt){return"number"==typeof rt?rt:parseInt(rt,10)}let Pr=(()=>{class rt{constructor(){this._validator=Xe}ngOnChanges(Fe){if(this.inputName in Fe){const It=this.normalizeInput(Fe[this.inputName].currentValue);this._enabled=this.enabled(It),this._validator=this._enabled?this.createValidator(It):Xe,this._onChange&&this._onChange()}}validate(Fe){return this._validator(Fe)}registerOnValidatorChange(Fe){this._onChange=Fe}enabled(Fe){return null!=Fe}static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275dir=p.FsC({type:rt,features:[p.OA$]})}return rt})();const aa={provide:be,useExisting:(0,p.Rfq)(()=>ma),multi:!0},Go={provide:be,useExisting:(0,p.Rfq)(()=>nd),multi:!0};let ma=(()=>{class rt extends Pr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.L39,this.createValidator=Fe=>J}enabled(Fe){return Fe}static#e=this.\u0275fac=(()=>{let Fe;return function(Tn){return(Fe||(Fe=p.xGo(rt)))(Tn||rt)}})();static#t=this.\u0275dir=p.FsC({type:rt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(It,Tn){2&It&&p.BMQ("required",Tn._enabled?"":null)},inputs:{required:"required"},features:[p.Jv_([aa]),p.Vt3]})}return rt})(),nd=(()=>{class rt extends ma{constructor(){super(...arguments),this.createValidator=Fe=>ae}static#e=this.\u0275fac=(()=>{let Fe;return function(Tn){return(Fe||(Fe=p.xGo(rt)))(Tn||rt)}})();static#t=this.\u0275dir=p.FsC({type:rt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(It,Tn){2&It&&p.BMQ("required",Tn._enabled?"":null)},features:[p.Jv_([Go]),p.Vt3]})}return rt})();const la={provide:be,useExisting:(0,p.Rfq)(()=>ea),multi:!0};let ea=(()=>{class rt extends Pr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=Fe=>Bs(Fe),this.createValidator=Fe=>fe(Fe)}static#e=this.\u0275fac=(()=>{let Fe;return function(Tn){return(Fe||(Fe=p.xGo(rt)))(Tn||rt)}})();static#t=this.\u0275dir=p.FsC({type:rt,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(It,Tn){2&It&&p.BMQ("minlength",Tn._enabled?Tn.minlength:null)},inputs:{minlength:"minlength"},features:[p.Jv_([la]),p.Vt3]})}return rt})();const hl={provide:be,useExisting:(0,p.Rfq)(()=>La),multi:!0};let La=(()=>{class rt extends Pr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=Fe=>Bs(Fe),this.createValidator=Fe=>Re(Fe)}static#e=this.\u0275fac=(()=>{let Fe;return function(Tn){return(Fe||(Fe=p.xGo(rt)))(Tn||rt)}})();static#t=this.\u0275dir=p.FsC({type:rt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(It,Tn){2&It&&p.BMQ("maxlength",Tn._enabled?Tn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[p.Jv_([hl]),p.Vt3]})}return rt})();const Zs={provide:be,useExisting:(0,p.Rfq)(()=>$r),multi:!0};let $r=(()=>{class rt extends Pr{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=Fe=>Fe,this.createValidator=Fe=>_e(Fe)}static#e=this.\u0275fac=(()=>{let Fe;return function(Tn){return(Fe||(Fe=p.xGo(rt)))(Tn||rt)}})();static#t=this.\u0275dir=p.FsC({type:rt,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(It,Tn){2&It&&p.BMQ("pattern",Tn._enabled?Tn.pattern:null)},inputs:{pattern:"pattern"},features:[p.Jv_([Zs]),p.Vt3]})}return rt})(),ca=(()=>{class rt{static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275mod=p.$C({type:rt});static#n=this.\u0275inj=p.G2t({})}return rt})();class as extends ze{constructor(ut,Fe,It){super(bt(Fe),Vt(It,Fe)),this.controls=ut,this._initObservables(),this._setUpdateStrategy(Fe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ut){return this.controls[this._adjustIndex(ut)]}push(ut,Fe={}){this.controls.push(ut),this._registerControl(ut),this.updateValueAndValidity({emitEvent:Fe.emitEvent}),this._onCollectionChange()}insert(ut,Fe,It={}){this.controls.splice(ut,0,Fe),this._registerControl(Fe),this.updateValueAndValidity({emitEvent:It.emitEvent})}removeAt(ut,Fe={}){let It=this._adjustIndex(ut);It<0&&(It=0),this.controls[It]&&this.controls[It]._registerOnCollectionChange(()=>{}),this.controls.splice(It,1),this.updateValueAndValidity({emitEvent:Fe.emitEvent})}setControl(ut,Fe,It={}){let Tn=this._adjustIndex(ut);Tn<0&&(Tn=0),this.controls[Tn]&&this.controls[Tn]._registerOnCollectionChange(()=>{}),this.controls.splice(Tn,1),Fe&&(this.controls.splice(Tn,0,Fe),this._registerControl(Fe)),this.updateValueAndValidity({emitEvent:It.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ut,Fe={}){wt(this,0,ut),ut.forEach((It,Tn)=>{ft(this,!1,Tn),this.at(Tn).setValue(It,{onlySelf:!0,emitEvent:Fe.emitEvent})}),this.updateValueAndValidity(Fe)}patchValue(ut,Fe={}){null!=ut&&(ut.forEach((It,Tn)=>{this.at(Tn)&&this.at(Tn).patchValue(It,{onlySelf:!0,emitEvent:Fe.emitEvent})}),this.updateValueAndValidity(Fe))}reset(ut=[],Fe={}){this._forEachChild((It,Tn)=>{It.reset(ut[Tn],{onlySelf:!0,emitEvent:Fe.emitEvent})}),this._updatePristine(Fe),this._updateTouched(Fe),this.updateValueAndValidity(Fe)}getRawValue(){return this.controls.map(ut=>ut.getRawValue())}clear(ut={}){this.controls.length<1||(this._forEachChild(Fe=>Fe._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ut.emitEvent}))}_adjustIndex(ut){return ut<0?ut+this.length:ut}_syncPendingControls(){let ut=this.controls.reduce((Fe,It)=>!!It._syncPendingControls()||Fe,!1);return ut&&this.updateValueAndValidity({onlySelf:!0}),ut}_forEachChild(ut){this.controls.forEach((Fe,It)=>{ut(Fe,It)})}_updateValue(){this.value=this.controls.filter(ut=>ut.enabled||this.disabled).map(ut=>ut.value)}_anyControls(ut){return this.controls.some(Fe=>Fe.enabled&&ut(Fe))}_setUpControls(){this._forEachChild(ut=>this._registerControl(ut))}_allControlsDisabled(){for(const ut of this.controls)if(ut.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ut){ut.setParent(this),ut._registerOnCollectionChange(this._onCollectionChange)}_find(ut){return this.at(ut)??null}}function Ml(rt){return!!rt&&(void 0!==rt.asyncValidators||void 0!==rt.validators||void 0!==rt.updateOn)}let ta=(()=>{class rt{constructor(){this.useNonNullable=!1}get nonNullable(){const Fe=new rt;return Fe.useNonNullable=!0,Fe}group(Fe,It=null){const Tn=this._reduceControls(Fe);let fr={};return Ml(It)?fr=It:null!==It&&(fr.validators=It.validator,fr.asyncValidators=It.asyncValidator),new st(Tn,fr)}record(Fe,It=null){const Tn=this._reduceControls(Fe);return new Ee(Tn,It)}control(Fe,It,Tn){let fr={};return this.useNonNullable?(Ml(It)?fr=It:(fr.validators=It,fr.asyncValidators=Tn),new Or(Fe,{...fr,nonNullable:!0})):new Or(Fe,It,Tn)}array(Fe,It,Tn){const fr=Fe.map(qr=>this._createControl(qr));return new as(fr,It,Tn)}_reduceControls(Fe){const It={};return Object.keys(Fe).forEach(Tn=>{It[Tn]=this._createControl(Fe[Tn])}),It}_createControl(Fe){return Fe instanceof Or||Fe instanceof ze?Fe:Array.isArray(Fe)?this.control(Fe[0],Fe.length>1?Fe[1]:null,Fe.length>2?Fe[2]:null):this.control(Fe)}static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275prov=p.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})(),Ya=(()=>{class rt extends ta{group(Fe,It=null){return super.group(Fe,It)}control(Fe,It,Tn){return super.control(Fe,It,Tn)}array(Fe,It,Tn){return super.array(Fe,It,Tn)}static#e=this.\u0275fac=(()=>{let Fe;return function(Tn){return(Fe||(Fe=p.xGo(rt)))(Tn||rt)}})();static#t=this.\u0275prov=p.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})(),pl=(()=>{class rt{static withConfig(Fe){return{ngModule:rt,providers:[{provide:ht,useValue:Fe.callSetDisabledState??on}]}}static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275mod=p.$C({type:rt});static#n=this.\u0275inj=p.G2t({imports:[ca]})}return rt})(),Xa=(()=>{class rt{static withConfig(Fe){return{ngModule:rt,providers:[{provide:Ms,useValue:Fe.warnOnNgModelWithFormControl??"always"},{provide:ht,useValue:Fe.callSetDisabledState??on}]}}static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275mod=p.$C({type:rt});static#n=this.\u0275inj=p.G2t({imports:[ca]})}return rt})()},6111:(Jt,ke,E)=>{"use strict";E.d(ke,{D1:()=>ae,fU:()=>Re,rJ:()=>jt,u6:()=>ee});var p=E(4438),m=E(177),T=E(4412),F=E(1985),x=E(1413),ce=E(4572),ne=E(5558),q=E(6697),z=E(6354),O=E(6977);const I=["*"];class k{_clearListeners(){for(const We of this._listeners)We.remove();this._listeners=[]}constructor(We){this._ngZone=We,this._pending=[],this._listeners=[],this._targetStream=new T.t(void 0)}getLazyEmitter(We){return this._targetStream.pipe((0,ne.n)(ge=>{const mt=new F.c(Ft=>{if(!ge)return void this._pending.push({observable:mt,observer:Ft});const Lt=ge.addListener(We,bn=>{this._ngZone.run(()=>Ft.next(bn))});if(Lt)return this._listeners.push(Lt),()=>Lt.remove();Ft.complete()});return mt}))}setTarget(We){const ge=this._targetStream.value;We!==ge&&(ge&&(this._clearListeners(),this._pending=[]),this._targetStream.next(We),this._pending.forEach(mt=>mt.observable.subscribe(mt.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const A={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},H="500px",Q="500px";let ee=(()=>{class qe{set center(ge){this._center=ge}set zoom(ge){this._zoom=ge}set options(ge){this._options=ge||A}constructor(ge,mt,Ft){if(this._elementRef=ge,this._ngZone=mt,this._eventManager=new k(this._ngZone),this.height=H,this.width=Q,this._options=A,this.mapInitialized=new p.bkB,this.authFailure=new p.bkB,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=(0,m.UE)(Ft),this._isBrowser){const Lt=window;this._existingAuthFailureCallback=Lt.gm_authFailure,Lt.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(ge){(ge.height||ge.width)&&this._setSize();const mt=this.googleMap;mt&&(ge.options&&mt.setOptions(this._combineOptions()),ge.center&&this._center&&mt.setCenter(this._center),ge.zoom&&null!=this._zoom&&mt.setZoom(this._zoom),ge.mapTypeId&&this.mapTypeId&&mt.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap))}ngOnDestroy(){this._eventManager.destroy(),this._isBrowser&&(window.gm_authFailure=this._existingAuthFailureCallback)}fitBounds(ge,mt){this._assertInitialized(),this.googleMap.fitBounds(ge,mt)}panBy(ge,mt){this._assertInitialized(),this.googleMap.panBy(ge,mt)}panTo(ge){this._assertInitialized(),this.googleMap.panTo(ge)}panToBounds(ge,mt){this._assertInitialized(),this.googleMap.panToBounds(ge,mt)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const ge=this._mapEl.style;ge.height=null===this.height?"":me(this.height)||H,ge.width=null===this.width?"":me(this.width)||Q}}_combineOptions(){const ge=this._options||{};return{...ge,center:this._center||ge.center||A.center,zoom:this._zoom??ge.zoom??A.zoom,mapTypeId:this.mapTypeId||ge.mapTypeId||A.mapTypeId}}_assertInitialized(){}}return qe.\u0275fac=function(ge){return new(ge||qe)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(p.Agw))},qe.\u0275cmp=p.VBU({type:qe,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[p.OA$],ngContentSelectors:I,decls:2,vars:0,consts:[[1,"map-container"]],template:function(ge,mt){1&ge&&(p.NAR(),p.nrm(0,"div",0),p.SdG(1))},encapsulation:2,changeDetection:0}),qe})();const be=/([A-Za-z%]+)$/;function me(qe){return null==qe?"":be.test(qe)?qe:`${qe}px`}let ae=(()=>{class qe{set options(ge){this._options.next(ge||{})}set position(ge){this._position.next(ge)}constructor(ge,mt,Ft){this._googleMap=ge,this._elementRef=mt,this._ngZone=Ft,this._eventManager=new k(this._ngZone),this._options=new T.t({}),this._position=new T.t(void 0),this._destroy=new x.B,this.closeclick=this._eventManager.getLazyEmitter("closeclick"),this.contentChanged=this._eventManager.getLazyEmitter("content_changed"),this.domready=this._eventManager.getLazyEmitter("domready"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._combineOptions().pipe((0,q.s)(1)).subscribe(mt=>{this._ngZone.runOutsideAngular(()=>{this.infoWindow=new google.maps.InfoWindow(mt)}),this._eventManager.setTarget(this.infoWindow)}),this._watchForOptionsChanges(),this._watchForPositionChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()||null}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()||null}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}open(ge,mt){this._assertInitialized();const Ft=ge?ge.getAnchor():void 0;(this.infoWindow.get("anchor")!==Ft||!Ft)&&(this._elementRef.nativeElement.style.display="",this.infoWindow.open({map:this._googleMap.googleMap,anchor:Ft,shouldFocus:mt}))}_combineOptions(){return(0,ce.z)([this._options,this._position]).pipe((0,z.T)(([ge,mt])=>({...ge,position:mt||ge.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe((0,O.Q)(this._destroy)).subscribe(ge=>{this._assertInitialized(),this.infoWindow.setOptions(ge)})}_watchForPositionChanges(){this._position.pipe((0,O.Q)(this._destroy)).subscribe(ge=>{ge&&(this._assertInitialized(),this.infoWindow.setPosition(ge))})}_assertInitialized(){}}return qe.\u0275fac=function(ge){return new(ge||qe)(p.rXU(ee),p.rXU(p.aKT),p.rXU(p.SKi))},qe.\u0275dir=p.FsC({type:qe,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged"},exportAs:["mapInfoWindow"]}),qe})();const fe={position:{lat:37.421995,lng:-122.084092}};let Re=(()=>{class qe{set title(ge){this._title=ge}set position(ge){this._position=ge}set label(ge){this._label=ge}set clickable(ge){this._clickable=ge}set options(ge){this._options=ge}set icon(ge){this._icon=ge}set visible(ge){this._visible=ge}constructor(ge,mt){this._googleMap=ge,this._ngZone=mt,this._eventManager=new k(this._ngZone),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(ge){const{marker:mt,_title:Ft,_position:Lt,_label:bn,_clickable:it,_icon:dt,_visible:$t}=this;mt&&(ge.options&&mt.setOptions(this._combineOptions()),ge.title&&void 0!==Ft&&mt.setTitle(Ft),ge.position&&Lt&&mt.setPosition(Lt),ge.label&&void 0!==bn&&mt.setLabel(bn),ge.clickable&&void 0!==it&&mt.setClickable(it),ge.icon&&dt&&mt.setIcon(dt),ge.visible&&void 0!==$t&&mt.setVisible($t))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){const ge=this._options||fe;return{...ge,title:this._title||ge.title,position:this._position||ge.position,label:this._label||ge.label,clickable:this._clickable??ge.clickable,map:this._googleMap.googleMap,icon:this._icon||ge.icon,visible:this._visible??ge.visible}}_assertInitialized(){}}return qe.\u0275fac=function(ge){return new(ge||qe)(p.rXU(ee),p.rXU(p.SKi))},qe.\u0275dir=p.FsC({type:qe,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[p.OA$]}),qe})(),jt=(()=>{class qe{}return qe.\u0275fac=function(ge){return new(ge||qe)},qe.\u0275mod=p.$C({type:qe}),qe.\u0275inj=p.G2t({}),qe})()},8604:(Jt,ke,E)=>{"use strict";E.d(ke,{$3:()=>Et,jL:()=>Lt,pN:()=>Ft});var p=E(2223),m=E(8363),T=E(8238),F=E(4438),x=E(5230),ce=E(8359),ne=E(1413),q=E(9030),z=E(7786),O=E(7673),I=E(3726),k=E(177),A=E(4531),H=E(7266),Q=E(989),ee=E(8854),be=E(6961),me=E(9417),Ne=E(7421),Be=E(9172),Ve=E(5558),Le=E(6697),J=E(5964),ae=E(6354),de=E(8141),fe=E(1986);const Re=["panel"],_e=["*"];function Xe(bn,it){if(1&bn&&(F.j41(0,"div",1,0),F.SdG(2),F.k0s()),2&bn){const dt=it.id,$t=F.XpG();F.Y8G("id",$t.id)("ngClass",$t._classList),F.BMQ("aria-label",$t.ariaLabel||null)("aria-labelledby",$t._getPanelAriaLabelledby(dt))}}let Ye=0;class Ot{constructor(it,dt){this.source=it,this.option=dt}}const un=(0,x.GG)(class{}),Cn=new F.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function An(){return{autoActiveFirstOption:!1}}});let Nn=(()=>{class bn extends un{constructor(dt,$t,Pn,qn){super(),this._changeDetectorRef=dt,this._elementRef=$t,this._activeOptionChanges=ce.yU.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new F.bkB,this.opened=new F.bkB,this.closed=new F.bkB,this.optionActivated=new F.bkB,this._classList={},this.id="mat-autocomplete-"+Ye++,this.inertGroups=qn?.SAFARI||!1,this._autoActiveFirstOption=!!Pn.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(dt){this._autoActiveFirstOption=(0,m.he)(dt)}set classList(dt){this._classList=dt&&dt.length?(0,m.cc)(dt).reduce(($t,Pn)=>($t[Pn]=!0,$t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new p.Au(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(dt=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[dt]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(dt){this.panel&&(this.panel.nativeElement.scrollTop=dt)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(dt){const $t=new Ot(this,dt);this.optionSelected.emit($t)}_getPanelAriaLabelledby(dt){return this.ariaLabel?null:this.ariaLabelledby?(dt?dt+" ":"")+this.ariaLabelledby:dt}_setVisibilityClasses(dt){dt[this._visibleClass]=this.showPanel,dt[this._hiddenClass]=!this.showPanel}}return bn.\u0275fac=function(dt){return new(dt||bn)(F.rXU(F.gRc),F.rXU(F.aKT),F.rXU(Cn),F.rXU(T.OD))},bn.\u0275dir=F.FsC({type:bn,viewQuery:function(dt,$t){if(1&dt&&(F.GBs(F.C4Q,7),F.GBs(Re,5)),2&dt){let Pn;F.mGM(Pn=F.lsd())&&($t.template=Pn.first),F.mGM(Pn=F.lsd())&&($t.panel=Pn.first)}},inputs:{ariaLabel:[F.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[F.Mj6.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:[F.Mj6.None,"class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[F.Vt3]}),bn})(),Et=(()=>{class bn extends Nn{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return bn.\u0275fac=(()=>{let it;return function($t){return(it||(it=F.xGo(bn)))($t||bn)}})(),bn.\u0275cmp=F.VBU({type:bn,selectors:[["mat-autocomplete"]],contentQueries:function(dt,$t,Pn){if(1&dt&&(F.wni(Pn,x.QC,5),F.wni(Pn,x.wT,5)),2&dt){let qn;F.mGM(qn=F.lsd())&&($t.optionGroups=qn),F.mGM(qn=F.lsd())&&($t.options=qn)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[F.Jv_([{provide:x.is,useExisting:bn}]),F.Vt3],ngContentSelectors:_e,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"]],template:function(dt,$t){1&dt&&(F.NAR(),F.DNE(0,Xe,3,4,"ng-template"))},dependencies:[k.YU],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),bn})();const Dt=new F.nKC("mat-autocomplete-scroll-strategy"),qe={provide:Dt,deps:[A.hJ],useFactory:function en(bn){return()=>bn.scrollStrategies.reposition()}},We={provide:me.kq,useExisting:(0,F.Rfq)(()=>Ft),multi:!0};let mt=(()=>{class bn{constructor(dt,$t,Pn,qn,Pi,hi,Ci,qt,Ie,Te,Ge){this._element=dt,this._overlay=$t,this._viewContainerRef=Pn,this._zone=qn,this._changeDetectorRef=Pi,this._dir=Ci,this._formField=qt,this._document=Ie,this._viewportRuler=Te,this._defaults=Ge,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=ce.yU.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new ne.B,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,q.v)(()=>{const kt=this.autocomplete?this.autocomplete.options:null;return kt?kt.changes.pipe((0,Be.Z)(kt),(0,Ve.n)(()=>(0,z.h)(...kt.map(Gt=>Gt.onSelectionChange)))):this._zone.onStable.pipe((0,Le.s)(1),(0,Ve.n)(()=>this.optionSelections))}),this._scrollStrategy=hi}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(dt){this._autocompleteDisabled=(0,m.he)(dt)}ngAfterViewInit(){const dt=this._getWindow();typeof dt<"u"&&this._zone.runOutsideAngular(()=>dt.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(dt){dt.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const dt=this._getWindow();typeof dt<"u"&&dt.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,z.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,J.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,J.p)(()=>this._overlayAttached)):(0,O.of)()).pipe((0,ae.T)(dt=>dt instanceof x.MI?dt:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,z.h)((0,I.R)(this._document,"click"),(0,I.R)(this._document,"auxclick"),(0,I.R)(this._document,"touchend")).pipe((0,J.p)(dt=>{const $t=(0,T.Fb)(dt),Pn=this._formField?this._formField._elementRef.nativeElement:null,qn=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&$t!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!Pn||!Pn.contains($t))&&(!qn||!qn.contains($t))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains($t)}))}writeValue(dt){Promise.resolve().then(()=>this._setTriggerValue(dt))}registerOnChange(dt){this._onChange=dt}registerOnTouched(dt){this._onTouched=dt}setDisabledState(dt){this._element.nativeElement.disabled=dt}_handleKeydown(dt){const $t=dt.keyCode,Pn=(0,ee.rp)(dt);if($t===ee._f&&!Pn&&dt.preventDefault(),this.activeOption&&$t===ee.Fm&&this.panelOpen&&!Pn)this.activeOption._selectViaInteraction(),this._resetActiveItem(),dt.preventDefault();else if(this.autocomplete){const qn=this.autocomplete._keyManager.activeItem,Pi=$t===ee.i7||$t===ee.n6;$t===ee.wn||Pi&&!Pn&&this.panelOpen?this.autocomplete._keyManager.onKeydown(dt):Pi&&this._canOpen()&&this.openPanel(),(Pi||this.autocomplete._keyManager.activeItem!==qn)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(dt){let $t=dt.target,Pn=$t.value;"number"===$t.type&&(Pn=""==Pn?null:parseFloat(Pn)),this._previousValue!==Pn&&(this._previousValue=Pn,this._onChange(Pn),this._canOpen()&&this._document.activeElement===dt.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(dt=!1){this._formField&&"auto"===this._formField.floatLabel&&(dt?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const dt=this._zone.onStable.pipe((0,Le.s)(1)),$t=this.autocomplete.options.changes.pipe((0,de.M)(()=>this._positionStrategy.reapplyLastPosition()),(0,fe.c)(0));return(0,z.h)(dt,$t).pipe((0,Ve.n)(()=>(this._zone.run(()=>{const Pn=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&(this._overlayRef.updatePosition(),Pn!==this.panelOpen&&this.autocomplete.opened.emit())}),this.panelClosingActions)),(0,Le.s)(1)).subscribe(Pn=>this._setValueAndClose(Pn))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(dt){const Pn=(this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(dt):dt)??"";this._formField?this._formField._control.value=Pn:this._element.nativeElement.value=Pn,this._previousValue=Pn}_setValueAndClose(dt){const $t=dt&&dt.source;$t&&(this._clearPreviousSelectedOption($t),this._setTriggerValue($t.value),this._onChange($t.value),this.autocomplete._emitSelectEvent($t),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(dt){this.autocomplete.options.forEach($t=>{$t!==dt&&$t.selected&&$t.deselect()})}_attachOverlay(){let dt=this._overlayRef;dt?(this._positionStrategy.setOrigin(this._getConnectedElement()),dt.updateSize({width:this._getPanelWidth()})):(this._portal=new be.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),dt=this._overlay.create(this._getOverlayConfig()),this._overlayRef=dt,dt.keydownEvents().subscribe(Pn=>{(Pn.keyCode===ee._f&&!(0,ee.rp)(Pn)||Pn.keyCode===ee.i7&&(0,ee.rp)(Pn,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),Pn.stopPropagation(),Pn.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&dt&&dt.updateSize({width:this._getPanelWidth()})})),dt&&!dt.hasAttached()&&(dt.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const $t=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&$t!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new A.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const dt=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(dt),this._positionStrategy=dt,dt}_setStrategyPositions(dt){const $t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Pn=this._aboveClass,qn=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:Pn},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:Pn}];let Pi;Pi="above"===this.position?qn:"below"===this.position?$t:[...$t,...qn],dt.withPositions(Pi)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const dt=this.autocomplete;dt.autoActiveFirstOption?dt._keyManager.setFirstItemActive():dt._keyManager.setActiveItem(-1)}_canOpen(){const dt=this._element.nativeElement;return!dt.readOnly&&!dt.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(dt){const $t=this.autocomplete,Pn=(0,x.jb)(dt,$t.options,$t.optionGroups);if(0===dt&&1===Pn)$t._setScrollTop(0);else if($t.panel){const qn=$t.options.toArray()[dt];if(qn){const Pi=qn._getHostElement(),hi=(0,x.TL)(Pi.offsetTop,Pi.offsetHeight,$t._getScrollTop(),$t.panel.nativeElement.offsetHeight);$t._setScrollTop(hi)}}}}return bn.\u0275fac=function(dt){return new(dt||bn)(F.rXU(F.aKT),F.rXU(A.hJ),F.rXU(F.c1b),F.rXU(F.SKi),F.rXU(F.gRc),F.rXU(Dt),F.rXU(Q.dS,8),F.rXU(Ne.xb,9),F.rXU(k.qQ,8),F.rXU(H.Xj),F.rXU(Cn,8))},bn.\u0275dir=F.FsC({type:bn,inputs:{autocomplete:[F.Mj6.None,"matAutocomplete","autocomplete"],position:[F.Mj6.None,"matAutocompletePosition","position"],connectedTo:[F.Mj6.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[F.Mj6.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[F.Mj6.None,"matAutocompleteDisabled","autocompleteDisabled"]},features:[F.OA$]}),bn})(),Ft=(()=>{class bn extends mt{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return bn.\u0275fac=(()=>{let it;return function($t){return(it||(it=F.xGo(bn)))($t||bn)}})(),bn.\u0275dir=F.FsC({type:bn,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(dt,$t){1&dt&&F.bIt("focusin",function(){return $t._handleFocus()})("blur",function(){return $t._onTouched()})("input",function(qn){return $t._handleInput(qn)})("keydown",function(qn){return $t._handleKeydown(qn)})("click",function(){return $t._handleClick()}),2&dt&&F.BMQ("autocomplete",$t.autocompleteAttribute)("role",$t.autocompleteDisabled?null:"combobox")("aria-autocomplete",$t.autocompleteDisabled?null:"list")("aria-activedescendant",$t.panelOpen&&$t.activeOption?$t.activeOption.id:null)("aria-expanded",$t.autocompleteDisabled?null:$t.panelOpen.toString())("aria-owns",$t.autocompleteDisabled||!$t.panelOpen||null==$t.autocomplete?null:$t.autocomplete.id)("aria-haspopup",$t.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[F.Jv_([We]),F.Vt3]}),bn})(),Lt=(()=>{class bn{}return bn.\u0275fac=function(dt){return new(dt||bn)},bn.\u0275mod=F.$C({type:bn}),bn.\u0275inj=F.G2t({providers:[qe],imports:[[A.z_,x.Sy,x.yE,k.MD],H.Gj,x.Sy,x.yE]}),bn})()},3383:(Jt,ke,E)=>{"use strict";E.d(ke,{VK:()=>fe,eN:()=>ae,vF:()=>J,yj:()=>Be});var p=E(4531),m=E(6961),T=E(4438),F=E(5230),x=E(2223),ce=E(8363),ne=E(9185),q=E(8238),z=E(177),O=E(9969),I=E(989),k=E(1413),A=E(7786),H=E(7673),Q=E(8854),ee=E(5964),be=E(6697);function me(_e,Xe){}const Ne={bottomSheetState:(0,O.hZ)("state",[(0,O.wk)("void, hidden",(0,O.iF)({transform:"translateY(100%)"})),(0,O.wk)("visible",(0,O.iF)({transform:"translateY(0%)"})),(0,O.kY)("visible => void, visible => hidden",(0,O.Os)([(0,O.i0)(`${F.ed.COMPLEX} ${F.r5.ACCELERATION_CURVE}`),(0,O.P)("@*",(0,O.MA)(),{optional:!0})])),(0,O.kY)("void => visible",(0,O.Os)([(0,O.i0)(`${F.ed.EXITING} ${F.r5.DECELERATION_CURVE}`),(0,O.P)("@*",(0,O.MA)(),{optional:!0})]))])},Be=new T.nKC("MatBottomSheetData");class Ve{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}let Le=(()=>{class _e extends m.lb{constructor(Ye,Ot,un,Cn,An,Nn,Et,Rt){super(),this._elementRef=Ye,this._changeDetectorRef=Ot,this._focusTrapFactory=un,this._interactivityChecker=Cn,this._ngZone=An,this.bottomSheetConfig=Rt,this._animationState="void",this._animationStateChanged=new T.bkB,this._elementFocusedBeforeOpened=null,this.attachDomPortal=jt=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(jt)),this._document=Et,this._breakpointSubscription=Nn.observe([ne.Rp.Medium,ne.Rp.Large,ne.Rp.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",Nn.isMatched(ne.Rp.Medium)),this._toggleClass("mat-bottom-sheet-container-large",Nn.isMatched(ne.Rp.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",Nn.isMatched(ne.Rp.XLarge))})}attachComponentPortal(Ye){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(Ye)}attachTemplatePortal(Ye){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(Ye)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(Ye){"hidden"===Ye.toState?this._restoreFocus():"visible"===Ye.toState&&this._trapFocus(),this._animationStateChanged.emit(Ye)}_onAnimationStart(Ye){this._animationStateChanged.emit(Ye)}_toggleClass(Ye,Ot){this._elementRef.nativeElement.classList.toggle(Ye,Ot)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){this._elementRef.nativeElement.classList.add(...(0,ce.FG)(this.bottomSheetConfig.panelClass||[]))}_forceFocus(Ye,Ot){this._interactivityChecker.isFocusable(Ye)||(Ye.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const un=()=>{Ye.removeEventListener("blur",un),Ye.removeEventListener("mousedown",un),Ye.removeAttribute("tabindex")};Ye.addEventListener("blur",un),Ye.addEventListener("mousedown",un)})),Ye.focus(Ot)}_focusByCssSelector(Ye,Ot){let un=this._elementRef.nativeElement.querySelector(Ye);un&&this._forceFocus(un,Ot)}_trapFocus(){const Ye=this._elementRef.nativeElement;switch(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(Ye)),this.bottomSheetConfig.autoFocus){case!1:case"dialog":const Ot=(0,q.vc)();Ot!==Ye&&!Ye.contains(Ot)&&Ye.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.bottomSheetConfig.autoFocus)}}_restoreFocus(){const Ye=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&Ye&&"function"==typeof Ye.focus){const Ot=(0,q.vc)(),un=this._elementRef.nativeElement;(!Ot||Ot===this._document.body||Ot===un||un.contains(Ot))&&Ye.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=(0,q.vc)(),this._elementRef.nativeElement.focus&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this._elementRef.nativeElement.focus())})}}return _e.\u0275fac=function(Ye){return new(Ye||_e)(T.rXU(T.aKT),T.rXU(T.gRc),T.rXU(x.GX),T.rXU(x.Z7),T.rXU(T.SKi),T.rXU(ne.QP),T.rXU(z.qQ,8),T.rXU(Ve))},_e.\u0275cmp=T.VBU({type:_e,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(Ye,Ot){if(1&Ye&&T.GBs(m.I3,7),2&Ye){let un;T.mGM(un=T.lsd())&&(Ot._portalOutlet=un.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(Ye,Ot){1&Ye&&T.Kam("@state.start",function(Cn){return Ot._onAnimationStart(Cn)})("@state.done",function(Cn){return Ot._onAnimationDone(Cn)}),2&Ye&&(T.zvX("@state",Ot._animationState),T.BMQ("aria-label",null==Ot.bottomSheetConfig?null:Ot.bottomSheetConfig.ariaLabel))},features:[T.Vt3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Ye,Ot){1&Ye&&T.DNE(0,me,0,0,"ng-template",0)},dependencies:[m.I3],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[Ne.bottomSheetState]}}),_e})(),J=(()=>{class _e{}return _e.\u0275fac=function(Ye){return new(Ye||_e)},_e.\u0275mod=T.$C({type:_e}),_e.\u0275inj=T.G2t({imports:[[p.z_,F.yE,m.jc],F.yE]}),_e})();class ae{constructor(Xe,Ye){this._overlayRef=Ye,this._afterDismissed=new k.B,this._afterOpened=new k.B,this.containerInstance=Xe,this.disableClose=Xe.bottomSheetConfig.disableClose,Xe._animationStateChanged.pipe((0,ee.p)(Ot=>"done"===Ot.phaseName&&"visible"===Ot.toState),(0,be.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Xe._animationStateChanged.pipe((0,ee.p)(Ot=>"done"===Ot.phaseName&&"hidden"===Ot.toState),(0,be.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),Ye.dispose()}),Ye.detachments().pipe((0,be.s)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,A.h)(Ye.backdropClick(),Ye.keydownEvents().pipe((0,ee.p)(Ot=>Ot.keyCode===Q._f))).subscribe(Ot=>{!this.disableClose&&("keydown"!==Ot.type||!(0,Q.rp)(Ot))&&(Ot.preventDefault(),this.dismiss())})}dismiss(Xe){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,ee.p)(Ye=>"start"===Ye.phaseName),(0,be.s)(1)).subscribe(Ye=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},Ye.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=Xe,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const de=new T.nKC("mat-bottom-sheet-default-options");let fe=(()=>{class _e{constructor(Ye,Ot,un,Cn){this._overlay=Ye,this._injector=Ot,this._parentBottomSheet=un,this._defaultOptions=Cn,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const Ye=this._parentBottomSheet;return Ye?Ye._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(Ye){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=Ye:this._bottomSheetRefAtThisLevel=Ye}open(Ye,Ot){const un=function Re(_e,Xe){return{..._e,...Xe}}(this._defaultOptions||new Ve,Ot),Cn=this._createOverlay(un),An=this._attachContainer(Cn,un),Nn=new ae(An,Cn);if(Ye instanceof T.C4Q)An.attachTemplatePortal(new m.VA(Ye,null,{$implicit:un.data,bottomSheetRef:Nn}));else{const Et=new m.A8(Ye,void 0,this._createInjector(un,Nn)),Rt=An.attachComponentPortal(Et);Nn.instance=Rt.instance}return Nn.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==Nn&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>Nn.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):Nn.containerInstance.enter(),this._openedBottomSheetRef=Nn,Nn}dismiss(Ye){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(Ye)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(Ye,Ot){const Cn=T.zZn.create({parent:Ot&&Ot.viewContainerRef&&Ot.viewContainerRef.injector||this._injector,providers:[{provide:Ve,useValue:Ot}]}),An=new m.A8(Le,Ot.viewContainerRef,Cn);return Ye.attach(An).instance}_createOverlay(Ye){const Ot=new p.rR({direction:Ye.direction,hasBackdrop:Ye.hasBackdrop,disposeOnNavigation:Ye.closeOnNavigation,maxWidth:"100%",scrollStrategy:Ye.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return Ye.backdropClass&&(Ot.backdropClass=Ye.backdropClass),this._overlay.create(Ot)}_createInjector(Ye,Ot){const un=Ye&&Ye.viewContainerRef&&Ye.viewContainerRef.injector,Cn=[{provide:ae,useValue:Ot},{provide:Be,useValue:Ye.data}];return Ye.direction&&(!un||!un.get(I.dS,null,T.$GK.Optional))&&Cn.push({provide:I.dS,useValue:{value:Ye.direction,change:(0,H.of)()}}),T.zZn.create({parent:un||this._injector,providers:Cn})}}return _e.\u0275fac=function(Ye){return new(Ye||_e)(T.KVO(p.hJ),T.KVO(T.zZn),T.KVO(_e,12),T.KVO(de,8))},_e.\u0275prov=T.jDH({token:_e,factory:_e.\u0275fac,providedIn:J}),_e})()},5484:(Jt,ke,E)=>{"use strict";E.d(ke,{$z:()=>O,Hl:()=>k});var p=E(4438),m=E(5230),T=E(2223);const F=["mat-button",""],x=["*"],q=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],z=(0,m.Zc)((0,m.Ob)((0,m.GG)(class{constructor(A){this._elementRef=A}})));let O=(()=>{class A extends z{constructor(Q,ee,be){super(Q),this._focusMonitor=ee,this._animationMode=be,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const me of q)this._hasHostAttributes(me)&&this._getHostElement().classList.add(me);Q.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Q,ee){Q?this._focusMonitor.focusVia(this._getHostElement(),Q,ee):this._getHostElement().focus(ee)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Q){return Q.some(ee=>this._getHostElement().hasAttribute(ee))}}return A.\u0275fac=function(Q){return new(Q||A)(p.rXU(p.aKT),p.rXU(T.FN),p.rXU(p.bc$,8))},A.\u0275cmp=p.VBU({type:A,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Q,ee){if(1&Q&&p.GBs(m.r6,5),2&Q){let be;p.mGM(be=p.lsd())&&(ee.ripple=be.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Q,ee){2&Q&&(p.BMQ("disabled",ee.disabled||null),p.AVh("_mat-animation-noopable","NoopAnimations"===ee._animationMode)("mat-button-disabled",ee.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[p.Vt3],attrs:F,ngContentSelectors:x,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Q,ee){1&Q&&(p.NAR(),p.j41(0,"span",0),p.SdG(1),p.k0s(),p.nrm(2,"span",1)(3,"span",2)),2&Q&&(p.R7$(2),p.AVh("mat-button-ripple-round",ee.isRoundButton||ee.isIconButton),p.Y8G("matRippleDisabled",ee._isRippleDisabled())("matRippleCentered",ee.isIconButton)("matRippleTrigger",ee._getHostElement()))},dependencies:[m.r6],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),A})(),k=(()=>{class A{}return A.\u0275fac=function(Q){return new(Q||A)},A.\u0275mod=p.$C({type:A}),A.\u0275inj=p.G2t({imports:[[m.pZ,m.yE],m.yE]}),A})()},1818:(Jt,ke,E)=>{"use strict";E.d(ke,{Hu:()=>J,RN:()=>Be});var p=E(4438),m=E(5230);const T=["*",[["mat-card-footer"]]],F=["*","mat-card-footer"];let Be=(()=>{class ae{constructor(fe){this._animationMode=fe}}return ae.\u0275fac=function(fe){return new(fe||ae)(p.rXU(p.bc$,8))},ae.\u0275cmp=p.VBU({type:ae,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(fe,Re){2&fe&&p.AVh("_mat-animation-noopable","NoopAnimations"===Re._animationMode)},exportAs:["matCard"],ngContentSelectors:F,decls:2,vars:0,template:function(fe,Re){1&fe&&(p.NAR(T),p.SdG(0),p.SdG(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),ae})(),J=(()=>{class ae{}return ae.\u0275fac=function(fe){return new(fe||ae)},ae.\u0275mod=p.$C({type:ae}),ae.\u0275inj=p.G2t({imports:[[m.yE],m.yE]}),ae})()},1351:(Jt,ke,E)=>{"use strict";E.d(ke,{So:()=>be,g7:()=>Ve});var p=E(2223),m=E(8363),T=E(4438),F=E(9417),x=E(5230),ce=E(7948);const ne=["input"],q=["*"],z=Le=>({enterDuration:Le}),O=new T.nKC("mat-checkbox-default-options",{providedIn:"root",factory:I});function I(){return{color:"accent",clickAction:"check-indeterminate"}}let k=0;const A=I(),H={provide:F.kq,useExisting:(0,T.Rfq)(()=>be),multi:!0};class Q{}const ee=(0,x.BF)((0,x.Zc)((0,x.GG)((0,x.Ob)(class{constructor(Le){this._elementRef=Le}}))));let be=(()=>{class Le extends ee{constructor(ae,de,fe,Re,_e,Xe,Ye){super(ae),this._changeDetectorRef=de,this._focusMonitor=fe,this._ngZone=Re,this._animationMode=Xe,this._options=Ye,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++k,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new T.bkB,this.indeterminateChange=new T.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||A,this.color=this.defaultColor=this._options.color||A.color,this.tabIndex=parseInt(_e)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(ae){this._required=(0,m.he)(ae)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(ae=>{ae||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(ae){const de=(0,m.he)(ae);de!=this.checked&&(this._checked=de,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(ae){const de=(0,m.he)(ae);de!==this.disabled&&(this._disabled=de,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(ae){const de=ae!=this._indeterminate;this._indeterminate=(0,m.he)(ae),de&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(ae){this.checked=!!ae}registerOnChange(ae){this._controlValueAccessorChangeFn=ae}registerOnTouched(ae){this._onTouched=ae}setDisabledState(ae){this.disabled=ae}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(ae){let de=this._currentCheckState,fe=this._elementRef.nativeElement;if(de!==ae&&(this._currentAnimationClass.length>0&&fe.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(de,ae),this._currentCheckState=ae,this._currentAnimationClass.length>0)){fe.classList.add(this._currentAnimationClass);const Re=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{fe.classList.remove(Re)},1e3)})}}_emitChangeEvent(){const ae=new Q;ae.source=this,ae.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(ae),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_onInputClick(ae){const de=this._options?.clickAction;ae.stopPropagation(),this.disabled||"noop"===de?!this.disabled&&"noop"===de&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==de&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(ae,de){ae?this._focusMonitor.focusVia(this._inputElement,ae,de):this._inputElement.nativeElement.focus(de)}_onInteractionEvent(ae){ae.stopPropagation()}_getAnimationClassForCheckStateTransition(ae,de){if("NoopAnimations"===this._animationMode)return"";let fe="";switch(ae){case 0:if(1===de)fe="unchecked-checked";else{if(3!=de)return"";fe="unchecked-indeterminate"}break;case 2:fe=1===de?"unchecked-checked":"unchecked-indeterminate";break;case 1:fe=2===de?"checked-unchecked":"checked-indeterminate";break;case 3:fe=1===de?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${fe}`}_syncIndeterminate(ae){const de=this._inputElement;de&&(de.nativeElement.indeterminate=ae)}}return Le.\u0275fac=function(ae){return new(ae||Le)(T.rXU(T.aKT),T.rXU(T.gRc),T.rXU(p.FN),T.rXU(T.SKi),T.kS0("tabindex"),T.rXU(T.bc$,8),T.rXU(O,8))},Le.\u0275cmp=T.VBU({type:Le,selectors:[["mat-checkbox"]],viewQuery:function(ae,de){if(1&ae&&(T.GBs(ne,5),T.GBs(x.r6,5)),2&ae){let fe;T.mGM(fe=T.lsd())&&(de._inputElement=fe.first),T.mGM(fe=T.lsd())&&(de.ripple=fe.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(ae,de){2&ae&&(T.Mr5("id",de.id),T.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),T.AVh("mat-checkbox-indeterminate",de.indeterminate)("mat-checkbox-checked",de.checked)("mat-checkbox-disabled",de.disabled)("mat-checkbox-label-before","before"==de.labelPosition)("_mat-animation-noopable","NoopAnimations"===de._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:[T.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[T.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[T.Mj6.None,"aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[T.Jv_([H]),T.Vt3],ngContentSelectors:q,decls:17,vars:21,consts:[["label",""],["input",""],["checkboxLabel",""],[1,"mat-checkbox-layout"],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"change","click","id","required","checked","disabled","tabIndex"],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],[2,"display","none"]],template:function(ae,de){if(1&ae){const fe=T.RV6();T.NAR(),T.j41(0,"label",3,0)(2,"span",4)(3,"input",5,1),T.bIt("change",function(_e){return T.eBV(fe),T.Njj(de._onInteractionEvent(_e))})("click",function(_e){return T.eBV(fe),T.Njj(de._onInputClick(_e))}),T.k0s(),T.j41(5,"span",6),T.nrm(6,"span",7),T.k0s(),T.nrm(7,"span",8),T.j41(8,"span",9),T.qSk(),T.j41(9,"svg",10),T.nrm(10,"path",11),T.k0s(),T.joV(),T.nrm(11,"span",12),T.k0s()(),T.j41(12,"span",13,2),T.bIt("cdkObserveContent",function(){return T.eBV(fe),T.Njj(de._onLabelTextChange())}),T.j41(14,"span",14),T.EFF(15,"\xa0"),T.k0s(),T.SdG(16),T.k0s()()}if(2&ae){const fe=T.sdS(1),Re=T.sdS(13);T.BMQ("for",de.inputId),T.R7$(2),T.AVh("mat-checkbox-inner-container-no-side-margin",!Re.textContent||!Re.textContent.trim()),T.R7$(),T.Y8G("id",de.inputId)("required",de.required)("checked",de.checked)("disabled",de.disabled)("tabIndex",de.tabIndex),T.BMQ("value",de.value)("name",de.name)("aria-label",de.ariaLabel||null)("aria-labelledby",de.ariaLabelledby)("aria-checked",de._getAriaChecked())("aria-describedby",de.ariaDescribedby),T.R7$(2),T.Y8G("matRippleTrigger",fe)("matRippleDisabled",de._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",T.eq3(19,z,"NoopAnimations"===de._animationMode?0:150))}},dependencies:[x.r6,ce.Wv],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),Le})(),Be=(()=>{class Le{}return Le.\u0275fac=function(ae){return new(ae||Le)},Le.\u0275mod=T.$C({type:Le}),Le.\u0275inj=T.G2t({}),Le})(),Ve=(()=>{class Le{}return Le.\u0275fac=function(ae){return new(ae||Le)},Le.\u0275mod=T.$C({type:Le}),Le.\u0275inj=T.G2t({imports:[[x.pZ,x.yE,ce.w5,Be],x.yE,Be]}),Le})()},5230:(Jt,ke,E)=>{"use strict";E.d(ke,{r5:()=>be,ed:()=>me,MJ:()=>Cn,es:()=>We,de:()=>An,Ju:()=>Ot,QC:()=>yi,is:()=>Gt,yE:()=>Ve,vu:()=>ge,Np:()=>Lt,WX:()=>en,wT:()=>Ar,Sy:()=>rs,MI:()=>br,wg:()=>Ge,O5:()=>kt,r6:()=>Ie,pZ:()=>Te,jb:()=>$i,TL:()=>Gi,Zc:()=>fe,GG:()=>Re,Ob:()=>de,J8:()=>Xe,BF:()=>_e,IK:()=>mt});var p=E(4438),m=E(2223),T=E(989),x=E(177),ce=E(8238),ne=E(8363),q=E(1413),z=E(9172),O=E(8854);const A=["*"];function H(Dn,On){if(1&Dn&&p.nrm(0,"mat-pseudo-checkbox",4),2&Dn){const bt=p.XpG();p.Y8G("state",bt.selected?"checked":"unchecked")("disabled",bt.disabled)}}function Q(Dn,On){if(1&Dn&&(p.j41(0,"span",5),p.EFF(1),p.k0s()),2&Dn){const bt=p.XpG();p.R7$(),p.SpI("(",bt.group.label,")")}}let be=(()=>{class Dn{}return Dn.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Dn.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Dn.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Dn.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Dn})(),me=(()=>{class Dn{}return Dn.COMPLEX="375ms",Dn.ENTERING="225ms",Dn.EXITING="195ms",Dn})();const Be=new p.nKC("mat-sanity-checks",{providedIn:"root",factory:function Ne(){return!0}});let Ve=(()=>{class Dn{constructor(bt,Pt,Vt){this._sanityChecks=Pt,this._document=Vt,this._hasDoneGlobalChecks=!1,bt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(bt){return!(0,ce.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[bt])}}return Dn.\u0275fac=function(bt){return new(bt||Dn)(p.KVO(m.Q_),p.KVO(Be,8),p.KVO(x.qQ))},Dn.\u0275mod=p.$C({type:Dn}),Dn.\u0275inj=p.G2t({imports:[[T.jI],T.jI]}),Dn})();function de(Dn){return class extends Dn{constructor(...On){super(...On),this._disabled=!1}get disabled(){return this._disabled}set disabled(On){this._disabled=(0,ne.he)(On)}}}function fe(Dn,On){return class extends Dn{constructor(...bt){super(...bt),this.defaultColor=On,this.color=On}get color(){return this._color}set color(bt){const Pt=bt||this.defaultColor;Pt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Pt&&this._elementRef.nativeElement.classList.add(`mat-${Pt}`),this._color=Pt)}}}function Re(Dn){return class extends Dn{constructor(...On){super(...On),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(On){this._disableRipple=(0,ne.he)(On)}}}function _e(Dn,On=0){return class extends Dn{constructor(...bt){super(...bt),this._tabIndex=On,this.defaultTabIndex=On}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(bt){this._tabIndex=null!=bt?(0,ne.OE)(bt):this.defaultTabIndex}}}function Xe(Dn){return class extends Dn{constructor(...On){super(...On),this.stateChanges=new q.B,this.errorState=!1}updateErrorState(){const On=this.errorState,yt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);yt!==On&&(this.errorState=yt,this.stateChanges.next())}}}const Ot=new p.nKC("MAT_DATE_LOCALE",{providedIn:"root",factory:function un(){return(0,p.WQX)(p.xe9)}});class Cn{constructor(){this._localeChanges=new q.B,this.localeChanges=this._localeChanges}getValidDateOrNull(On){return this.isDateInstance(On)&&this.isValid(On)?On:null}deserialize(On){return null==On||this.isDateInstance(On)&&this.isValid(On)?On:this.invalid()}setLocale(On){this.locale=On,this._localeChanges.next()}compareDate(On,bt){return this.getYear(On)-this.getYear(bt)||this.getMonth(On)-this.getMonth(bt)||this.getDate(On)-this.getDate(bt)}sameDate(On,bt){if(On&&bt){let Pt=this.isValid(On),Vt=this.isValid(bt);return Pt&&Vt?!this.compareDate(On,bt):Pt==Vt}return On==bt}clampDate(On,bt,Pt){return bt&&this.compareDate(On,bt)<0?bt:Pt&&this.compareDate(On,Pt)>0?Pt:On}}const An=new p.nKC("mat-date-formats"),Nn=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Et(Dn,On){const bt=Array(Dn);for(let Pt=0;Pt<Dn;Pt++)bt[Pt]=On(Pt);return bt}let Rt=(()=>{class Dn extends Cn{constructor(bt,Pt){super(),this.useUtcForDisplay=!1,super.setLocale(bt)}getYear(bt){return bt.getFullYear()}getMonth(bt){return bt.getMonth()}getDate(bt){return bt.getDate()}getDayOfWeek(bt){return bt.getDay()}getMonthNames(bt){const Pt=new Intl.DateTimeFormat(this.locale,{month:bt,timeZone:"utc"});return Et(12,Vt=>this._format(Pt,new Date(2017,Vt,1)))}getDateNames(){const bt=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Et(31,Pt=>this._format(bt,new Date(2017,0,Pt+1)))}getDayOfWeekNames(bt){const Pt=new Intl.DateTimeFormat(this.locale,{weekday:bt,timeZone:"utc"});return Et(7,Vt=>this._format(Pt,new Date(2017,0,Vt+1)))}getYearName(bt){const Pt=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(Pt,bt)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(bt){return this.getDate(this._createDateWithOverflow(this.getYear(bt),this.getMonth(bt)+1,0))}clone(bt){return new Date(bt.getTime())}createDate(bt,Pt,Vt){let yt=this._createDateWithOverflow(bt,Pt,Vt);return yt.getMonth(),yt}today(){return new Date}parse(bt){return"number"==typeof bt?new Date(bt):bt?new Date(Date.parse(bt)):null}format(bt,Pt){if(!this.isValid(bt))throw Error("NativeDateAdapter: Cannot format invalid date.");const Vt=new Intl.DateTimeFormat(this.locale,{...Pt,timeZone:"utc"});return this._format(Vt,bt)}addCalendarYears(bt,Pt){return this.addCalendarMonths(bt,12*Pt)}addCalendarMonths(bt,Pt){let Vt=this._createDateWithOverflow(this.getYear(bt),this.getMonth(bt)+Pt,this.getDate(bt));return this.getMonth(Vt)!=((this.getMonth(bt)+Pt)%12+12)%12&&(Vt=this._createDateWithOverflow(this.getYear(Vt),this.getMonth(Vt),0)),Vt}addCalendarDays(bt,Pt){return this._createDateWithOverflow(this.getYear(bt),this.getMonth(bt),this.getDate(bt)+Pt)}toIso8601(bt){return[bt.getUTCFullYear(),this._2digit(bt.getUTCMonth()+1),this._2digit(bt.getUTCDate())].join("-")}deserialize(bt){if("string"==typeof bt){if(!bt)return null;if(Nn.test(bt)){let Pt=new Date(bt);if(this.isValid(Pt))return Pt}}return super.deserialize(bt)}isDateInstance(bt){return bt instanceof Date}isValid(bt){return!isNaN(bt.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(bt,Pt,Vt){const yt=new Date;return yt.setFullYear(bt,Pt,Vt),yt.setHours(0,0,0,0),yt}_2digit(bt){return("00"+bt).slice(-2)}_format(bt,Pt){const Vt=new Date;return Vt.setUTCFullYear(Pt.getFullYear(),Pt.getMonth(),Pt.getDate()),Vt.setUTCHours(Pt.getHours(),Pt.getMinutes(),Pt.getSeconds(),Pt.getMilliseconds()),bt.format(Vt)}}return Dn.\u0275fac=function(bt){return new(bt||Dn)(p.KVO(Ot,8),p.KVO(ce.OD))},Dn.\u0275prov=p.jDH({token:Dn,factory:Dn.\u0275fac}),Dn})();const jt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Dt=(()=>{class Dn{}return Dn.\u0275fac=function(bt){return new(bt||Dn)},Dn.\u0275mod=p.$C({type:Dn}),Dn.\u0275inj=p.G2t({providers:[{provide:Cn,useClass:Rt}]}),Dn})(),en=(()=>{class Dn{}return Dn.\u0275fac=function(bt){return new(bt||Dn)},Dn.\u0275mod=p.$C({type:Dn}),Dn.\u0275inj=p.G2t({providers:[{provide:An,useValue:jt}],imports:[[Dt]]}),Dn})(),We=(()=>{class Dn{isErrorState(bt,Pt){return!!(bt&&bt.invalid&&(bt.touched||Pt&&Pt.submitted))}}return Dn.\u0275fac=function(bt){return new(bt||Dn)},Dn.\u0275prov=p.jDH({token:Dn,factory:Dn.\u0275fac,providedIn:"root"}),Dn})(),ge=(()=>{class Dn{}return Dn.\u0275fac=function(bt){return new(bt||Dn)},Dn.\u0275dir=p.FsC({type:Dn,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),Dn})();function mt(Dn,On,bt="mat"){Dn.changes.pipe((0,z.Z)(Dn)).subscribe(({length:Pt})=>{Ft(On,`${bt}-2-line`,!1),Ft(On,`${bt}-3-line`,!1),Ft(On,`${bt}-multi-line`,!1),2===Pt||3===Pt?Ft(On,`${bt}-${Pt}-line`,!0):Pt>3&&Ft(On,`${bt}-multi-line`,!0)})}function Ft(Dn,On,bt){Dn.nativeElement.classList.toggle(On,bt)}let Lt=(()=>{class Dn{}return Dn.\u0275fac=function(bt){return new(bt||Dn)},Dn.\u0275mod=p.$C({type:Dn}),Dn.\u0275inj=p.G2t({imports:[[Ve],Ve]}),Dn})();class bn{constructor(On,bt,Pt){this._renderer=On,this.element=bt,this.config=Pt,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const it={enterDuration:225,exitDuration:150},$t=(0,ce.BQ)({passive:!0}),Pn=["mousedown","touchstart"],qn=["mouseup","mouseleave","touchend","touchcancel"];class Pi{constructor(On,bt,Pt,Vt){this._target=On,this._ngZone=bt,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Vt.isBrowser&&(this._containerElement=(0,ne.i8)(Pt))}fadeInRipple(On,bt,Pt={}){const Vt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),yt={...it,...Pt.animation};Pt.centered&&(On=Vt.left+Vt.width/2,bt=Vt.top+Vt.height/2);const Ht=Pt.radius||function Ci(Dn,On,bt){const Pt=Math.max(Math.abs(Dn-bt.left),Math.abs(Dn-bt.right)),Vt=Math.max(Math.abs(On-bt.top),Math.abs(On-bt.bottom));return Math.sqrt(Pt*Pt+Vt*Vt)}(On,bt,Vt),ft=On-Vt.left,wt=bt-Vt.top,ze=yt.enterDuration,st=document.createElement("div");st.classList.add("mat-ripple-element"),st.style.left=ft-Ht+"px",st.style.top=wt-Ht+"px",st.style.height=2*Ht+"px",st.style.width=2*Ht+"px",null!=Pt.color&&(st.style.backgroundColor=Pt.color),st.style.transitionDuration=`${ze}ms`,this._containerElement.appendChild(st),function hi(Dn){window.getComputedStyle(Dn).getPropertyValue("opacity")}(st),st.style.transform="scale(1)";const V=new bn(this,st,Pt);return V.state=0,this._activeRipples.add(V),Pt.persistent||(this._mostRecentTransientRipple=V),this._runTimeoutOutsideZone(()=>{const G=V===this._mostRecentTransientRipple;V.state=1,!Pt.persistent&&(!G||!this._isPointerDown)&&V.fadeOut()},ze),V}fadeOutRipple(On){const bt=this._activeRipples.delete(On);if(On===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!bt)return;const Pt=On.element,Vt={...it,...On.config.animation};Pt.style.transitionDuration=`${Vt.exitDuration}ms`,Pt.style.opacity="0",On.state=2,this._runTimeoutOutsideZone(()=>{On.state=3,Pt.remove()},Vt.exitDuration)}fadeOutAll(){this._activeRipples.forEach(On=>On.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(On=>{On.config.persistent||On.fadeOut()})}setupTriggerEvents(On){const bt=(0,ne.i8)(On);!bt||bt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=bt,this._registerEvents(Pn))}handleEvent(On){"mousedown"===On.type?this._onMousedown(On):"touchstart"===On.type?this._onTouchStart(On):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(qn),this._pointerUpEventsRegistered=!0)}_onMousedown(On){const bt=(0,m._G)(On),Pt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!bt&&!Pt&&(this._isPointerDown=!0,this.fadeInRipple(On.clientX,On.clientY,this._target.rippleConfig))}_onTouchStart(On){if(!this._target.rippleDisabled&&!(0,m.w6)(On)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const bt=On.changedTouches;for(let Pt=0;Pt<bt.length;Pt++)this.fadeInRipple(bt[Pt].clientX,bt[Pt].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(On=>{!On.config.persistent&&(1===On.state||On.config.terminateOnPointerUp&&0===On.state)&&On.fadeOut()}))}_runTimeoutOutsideZone(On,bt=0){this._ngZone.runOutsideAngular(()=>setTimeout(On,bt))}_registerEvents(On){this._ngZone.runOutsideAngular(()=>{On.forEach(bt=>{this._triggerElement.addEventListener(bt,this,$t)})})}_removeTriggerEvents(){this._triggerElement&&(Pn.forEach(On=>{this._triggerElement.removeEventListener(On,this,$t)}),this._pointerUpEventsRegistered&&qn.forEach(On=>{this._triggerElement.removeEventListener(On,this,$t)}))}}const qt=new p.nKC("mat-ripple-global-options");let Ie=(()=>{class Dn{constructor(bt,Pt,Vt,yt,Ht){this._elementRef=bt,this._animationMode=Ht,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=yt||{},this._rippleRenderer=new Pi(this,Pt,bt,Vt)}get disabled(){return this._disabled}set disabled(bt){bt&&this.fadeOutAllNonPersistent(),this._disabled=bt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(bt){this._trigger=bt,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(bt,Pt=0,Vt){return"number"==typeof bt?this._rippleRenderer.fadeInRipple(bt,Pt,{...this.rippleConfig,...Vt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...bt})}}return Dn.\u0275fac=function(bt){return new(bt||Dn)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(ce.OD),p.rXU(qt,8),p.rXU(p.bc$,8))},Dn.\u0275dir=p.FsC({type:Dn,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(bt,Pt){2&bt&&p.AVh("mat-ripple-unbounded",Pt.unbounded)},inputs:{color:[p.Mj6.None,"matRippleColor","color"],unbounded:[p.Mj6.None,"matRippleUnbounded","unbounded"],centered:[p.Mj6.None,"matRippleCentered","centered"],radius:[p.Mj6.None,"matRippleRadius","radius"],animation:[p.Mj6.None,"matRippleAnimation","animation"],disabled:[p.Mj6.None,"matRippleDisabled","disabled"],trigger:[p.Mj6.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Dn})(),Te=(()=>{class Dn{}return Dn.\u0275fac=function(bt){return new(bt||Dn)},Dn.\u0275mod=p.$C({type:Dn}),Dn.\u0275inj=p.G2t({imports:[[Ve],Ve]}),Dn})(),Ge=(()=>{class Dn{constructor(bt){this._animationMode=bt,this.state="unchecked",this.disabled=!1}}return Dn.\u0275fac=function(bt){return new(bt||Dn)(p.rXU(p.bc$,8))},Dn.\u0275cmp=p.VBU({type:Dn,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(bt,Pt){2&bt&&p.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===Pt.state)("mat-pseudo-checkbox-checked","checked"===Pt.state)("mat-pseudo-checkbox-disabled",Pt.disabled)("_mat-animation-noopable","NoopAnimations"===Pt._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(bt,Pt){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),Dn})(),kt=(()=>{class Dn{}return Dn.\u0275fac=function(bt){return new(bt||Dn)},Dn.\u0275mod=p.$C({type:Dn}),Dn.\u0275inj=p.G2t({imports:[[Ve]]}),Dn})();const Gt=new p.nKC("MAT_OPTION_PARENT_COMPONENT"),yi=new p.nKC("MatOptgroup");let rr=0;class br{constructor(On,bt=!1){this.source=On,this.isUserInput=bt}}let Si=(()=>{class Dn{constructor(bt,Pt,Vt,yt){this._element=bt,this._changeDetectorRef=Pt,this._parent=Vt,this.group=yt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+rr++,this.onSelectionChange=new p.bkB,this._stateChanges=new q.B}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(bt){this._disabled=(0,ne.he)(bt)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(bt,Pt){const Vt=this._getHostElement();"function"==typeof Vt.focus&&Vt.focus(Pt)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(bt){(bt.keyCode===O.Fm||bt.keyCode===O.t6)&&!(0,O.rp)(bt)&&(this._selectViaInteraction(),bt.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const bt=this.viewValue;bt!==this._mostRecentViewValue&&(this._mostRecentViewValue=bt,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(bt=!1){this.onSelectionChange.emit(new br(this,bt))}}return Dn.\u0275fac=function(bt){p.QTQ()},Dn.\u0275dir=p.FsC({type:Dn,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),Dn})(),Ar=(()=>{class Dn extends Si{constructor(bt,Pt,Vt,yt){super(bt,Pt,Vt,yt)}}return Dn.\u0275fac=function(bt){return new(bt||Dn)(p.rXU(p.aKT),p.rXU(p.gRc),p.rXU(Gt,8),p.rXU(yi,8))},Dn.\u0275cmp=p.VBU({type:Dn,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(bt,Pt){1&bt&&p.bIt("click",function(){return Pt._selectViaInteraction()})("keydown",function(yt){return Pt._handleKeydown(yt)}),2&bt&&(p.Mr5("id",Pt.id),p.BMQ("tabindex",Pt._getTabIndex())("aria-selected",Pt._getAriaSelected())("aria-disabled",Pt.disabled.toString()),p.AVh("mat-selected",Pt.selected)("mat-option-multiple",Pt.multiple)("mat-active",Pt.active)("mat-option-disabled",Pt.disabled))},exportAs:["matOption"],features:[p.Vt3],ngContentSelectors:A,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(bt,Pt){1&bt&&(p.NAR(),p.DNE(0,H,1,2,"mat-pseudo-checkbox",0),p.j41(1,"span",1),p.SdG(2),p.k0s(),p.DNE(3,Q,2,1,"span",2),p.nrm(4,"div",3)),2&bt&&(p.Y8G("ngIf",Pt.multiple),p.R7$(3),p.Y8G("ngIf",Pt.group&&Pt.group._inert),p.R7$(),p.Y8G("matRippleTrigger",Pt._getHostElement())("matRippleDisabled",Pt.disabled||Pt.disableRipple))},dependencies:[Ge,x.bT,Ie],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),Dn})();function $i(Dn,On,bt){if(bt.length){let Pt=On.toArray(),Vt=bt.toArray(),yt=0;for(let Ht=0;Ht<Dn+1;Ht++)Pt[Ht].group&&Pt[Ht].group===Vt[yt]&&yt++;return yt}return 0}function Gi(Dn,On,bt,Pt){return Dn<bt?Dn:Dn+On>bt+Pt?Math.max(0,Dn-Pt+On):bt}let rs=(()=>{class Dn{}return Dn.\u0275fac=function(bt){return new(bt||Dn)},Dn.\u0275mod=p.$C({type:Dn}),Dn.\u0275inj=p.G2t({imports:[[Te,x.MD,Ve,kt]]}),Dn})()},1918:(Jt,ke,E)=>{"use strict";E.d(ke,{Vh:()=>st,Wl:()=>on,X6:()=>hn,bU:()=>gn,bZ:()=>ht});var p=E(2223),m=E(4531),T=E(6961),F=E(177),x=E(4438),ce=E(5484),ne=E(7266),q=E(5230),z=E(1413),O=E(8359),I=E(7786),k=E(7673),A=E(8854),H=E(989),Q=E(6697),ee=E(9172),be=E(5964),me=E(8363),Ne=E(8238),Be=E(9969),Ve=E(9417),Le=E(7421),J=E(2788);const ae=["mat-calendar-body",""];function de(xt,dn){if(1&xt&&(x.j41(0,"tr",2)(1,"td",3),x.EFF(2),x.k0s()()),2&xt){const he=x.XpG();x.R7$(),x.xc7("padding-top",he._cellPadding)("padding-bottom",he._cellPadding),x.BMQ("colspan",he.numCols),x.R7$(),x.SpI(" ",he.label," ")}}function fe(xt,dn){if(1&xt&&(x.j41(0,"td",3),x.EFF(1),x.k0s()),2&xt){const he=x.XpG(2);x.xc7("padding-top",he._cellPadding)("padding-bottom",he._cellPadding),x.BMQ("colspan",he._firstRowOffset),x.R7$(),x.SpI(" ",he._firstRowOffset>=he.labelMinRequiredCells?he.label:""," ")}}function Re(xt,dn){if(1&xt){const he=x.RV6();x.j41(0,"td",7)(1,"button",8),x.bIt("click",function(we){const at=x.eBV(he).$implicit,Mt=x.XpG(2);return x.Njj(Mt._cellClicked(at,we))}),x.j41(2,"div",9),x.EFF(3),x.k0s(),x.nrm(4,"div",10),x.k0s()()}if(2&xt){const he=dn.$implicit,ct=dn.index,we=x.XpG().index,at=x.XpG();x.xc7("width",at._cellWidth)("padding-top",at._cellPadding)("padding-bottom",at._cellPadding),x.BMQ("data-mat-row",we)("data-mat-col",ct),x.R7$(),x.AVh("mat-calendar-body-disabled",!he.enabled)("mat-calendar-body-active",at._isActiveCell(we,ct))("mat-calendar-body-range-start",at._isRangeStart(he.compareValue))("mat-calendar-body-range-end",at._isRangeEnd(he.compareValue))("mat-calendar-body-in-range",at._isInRange(he.compareValue))("mat-calendar-body-comparison-bridge-start",at._isComparisonBridgeStart(he.compareValue,we,ct))("mat-calendar-body-comparison-bridge-end",at._isComparisonBridgeEnd(he.compareValue,we,ct))("mat-calendar-body-comparison-start",at._isComparisonStart(he.compareValue))("mat-calendar-body-comparison-end",at._isComparisonEnd(he.compareValue))("mat-calendar-body-in-comparison-range",at._isInComparisonRange(he.compareValue))("mat-calendar-body-preview-start",at._isPreviewStart(he.compareValue))("mat-calendar-body-preview-end",at._isPreviewEnd(he.compareValue))("mat-calendar-body-in-preview",at._isInPreview(he.compareValue)),x.Y8G("ngClass",he.cssClasses)("tabindex",at._isActiveCell(we,ct)?0:-1),x.BMQ("aria-label",he.ariaLabel)("aria-disabled",!he.enabled||null)("aria-pressed",at._isSelected(he.compareValue))("aria-current",at.todayValue===he.compareValue?"date":null),x.R7$(),x.AVh("mat-calendar-body-selected",at._isSelected(he.compareValue))("mat-calendar-body-comparison-identical",at._isComparisonIdentical(he.compareValue))("mat-calendar-body-today",at.todayValue===he.compareValue),x.R7$(),x.SpI(" ",he.displayValue," ")}}function _e(xt,dn){if(1&xt&&(x.j41(0,"tr",4),x.DNE(1,fe,2,6,"td",5)(2,Re,5,47,"td",6),x.k0s()),2&xt){const he=dn.$implicit,ct=dn.index,we=x.XpG();x.R7$(),x.Y8G("ngIf",0===ct&&we._firstRowOffset),x.R7$(),x.Y8G("ngForOf",he)}}function Xe(xt,dn){if(1&xt&&(x.j41(0,"th",5)(1,"span",6),x.EFF(2),x.k0s(),x.j41(3,"span",7),x.EFF(4),x.k0s()()),2&xt){const he=dn.$implicit;x.R7$(2),x.JRh(he.long),x.R7$(2),x.JRh(he.narrow)}}const Ye=["*"];function Ot(xt,dn){}function un(xt,dn){if(1&xt){const he=x.RV6();x.j41(0,"mat-month-view",5),x.mxI("activeDateChange",function(we){x.eBV(he);const at=x.XpG();return x.DH7(at.activeDate,we)||(at.activeDate=we),x.Njj(we)}),x.bIt("_userSelection",function(we){x.eBV(he);const at=x.XpG();return x.Njj(at._dateSelected(we))}),x.k0s()}if(2&xt){const he=x.XpG();x.R50("activeDate",he.activeDate),x.Y8G("selected",he.selected)("dateFilter",he.dateFilter)("maxDate",he.maxDate)("minDate",he.minDate)("dateClass",he.dateClass)("comparisonStart",he.comparisonStart)("comparisonEnd",he.comparisonEnd)}}function Cn(xt,dn){if(1&xt){const he=x.RV6();x.j41(0,"mat-year-view",6),x.mxI("activeDateChange",function(we){x.eBV(he);const at=x.XpG();return x.DH7(at.activeDate,we)||(at.activeDate=we),x.Njj(we)}),x.bIt("monthSelected",function(we){x.eBV(he);const at=x.XpG();return x.Njj(at._monthSelectedInYearView(we))})("selectedChange",function(we){x.eBV(he);const at=x.XpG();return x.Njj(at._goToDateInView(we,"month"))}),x.k0s()}if(2&xt){const he=x.XpG();x.R50("activeDate",he.activeDate),x.Y8G("selected",he.selected)("dateFilter",he.dateFilter)("maxDate",he.maxDate)("minDate",he.minDate)("dateClass",he.dateClass)}}function An(xt,dn){if(1&xt){const he=x.RV6();x.j41(0,"mat-multi-year-view",7),x.mxI("activeDateChange",function(we){x.eBV(he);const at=x.XpG();return x.DH7(at.activeDate,we)||(at.activeDate=we),x.Njj(we)}),x.bIt("yearSelected",function(we){x.eBV(he);const at=x.XpG();return x.Njj(at._yearSelectedInMultiYearView(we))})("selectedChange",function(we){x.eBV(he);const at=x.XpG();return x.Njj(at._goToDateInView(we,"year"))}),x.k0s()}if(2&xt){const he=x.XpG();x.R50("activeDate",he.activeDate),x.Y8G("selected",he.selected)("dateFilter",he.dateFilter)("maxDate",he.maxDate)("minDate",he.minDate)("dateClass",he.dateClass)}}function Nn(xt,dn){}const Et=["button"],Rt=[[["","matDatepickerToggleIcon",""]]],jt=["[matDatepickerToggleIcon]"];function Dt(xt,dn){1&xt&&(x.qSk(),x.j41(0,"svg",3),x.nrm(1,"path",4),x.k0s())}let mt=(()=>{class xt{constructor(){this.changes=new z.B,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(he,ct){return`${he} \u2013 ${ct}`}}return xt.\u0275fac=function(he){return new(he||xt)},xt.\u0275prov=x.jDH({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})();class Ft{constructor(dn,he,ct,we,at={},Mt=dn,Sn){this.value=dn,this.displayValue=he,this.ariaLabel=ct,this.enabled=we,this.cssClasses=at,this.compareValue=Mt,this.rawValue=Sn}}let Lt=(()=>{class xt{constructor(he,ct){this._elementRef=he,this._ngZone=ct,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new x.bkB,this.previewChange=new x.bkB,this._enterHandler=we=>{if(this._skipNextFocus&&"focus"===we.type)this._skipNextFocus=!1;else if(we.target&&this.isRange){const at=this._getCellFromElement(we.target);at&&this._ngZone.run(()=>this.previewChange.emit({value:at.enabled?at:null,event:we}))}},this._leaveHandler=we=>{null!==this.previewEnd&&this.isRange&&we.target&&this._getCellFromElement(we.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:we}))},ct.runOutsideAngular(()=>{const we=he.nativeElement;we.addEventListener("mouseenter",this._enterHandler,!0),we.addEventListener("focus",this._enterHandler,!0),we.addEventListener("mouseleave",this._leaveHandler,!0),we.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(he,ct){he.enabled&&this.selectedValueChange.emit({value:he.value,event:ct})}_isSelected(he){return this.startValue===he||this.endValue===he}ngOnChanges(he){const ct=he.numCols,{rows:we,numCols:at}=this;(he.rows||ct)&&(this._firstRowOffset=we&&we.length&&we[0].length?at-we[0].length:0),(he.cellAspectRatio||ct||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/at+"%"),(ct||!this._cellWidth)&&(this._cellWidth=100/at+"%")}ngOnDestroy(){const he=this._elementRef.nativeElement;he.removeEventListener("mouseenter",this._enterHandler,!0),he.removeEventListener("focus",this._enterHandler,!0),he.removeEventListener("mouseleave",this._leaveHandler,!0),he.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(he,ct){let we=he*this.numCols+ct;return he&&(we-=this._firstRowOffset),we==this.activeCell}_focusActiveCell(he=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Q.s)(1)).subscribe(()=>{setTimeout(()=>{const ct=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");ct&&(he||(this._skipNextFocus=!0),ct.focus())})})})}_isRangeStart(he){return it(he,this.startValue,this.endValue)}_isRangeEnd(he){return dt(he,this.startValue,this.endValue)}_isInRange(he){return $t(he,this.startValue,this.endValue,this.isRange)}_isComparisonStart(he){return it(he,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(he,ct,we){if(!this._isComparisonStart(he)||this._isRangeStart(he)||!this._isInRange(he))return!1;let at=this.rows[ct][we-1];if(!at){const Mt=this.rows[ct-1];at=Mt&&Mt[Mt.length-1]}return at&&!this._isRangeEnd(at.compareValue)}_isComparisonBridgeEnd(he,ct,we){if(!this._isComparisonEnd(he)||this._isRangeEnd(he)||!this._isInRange(he))return!1;let at=this.rows[ct][we+1];if(!at){const Mt=this.rows[ct+1];at=Mt&&Mt[0]}return at&&!this._isRangeStart(at.compareValue)}_isComparisonEnd(he){return dt(he,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(he){return $t(he,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(he){return this.comparisonStart===this.comparisonEnd&&he===this.comparisonStart}_isPreviewStart(he){return it(he,this.previewStart,this.previewEnd)}_isPreviewEnd(he){return dt(he,this.previewStart,this.previewEnd)}_isInPreview(he){return $t(he,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(he){let ct;if(bn(he)?ct=he:bn(he.parentNode)&&(ct=he.parentNode),ct){const we=ct.getAttribute("data-mat-row"),at=ct.getAttribute("data-mat-col");if(we&&at)return this.rows[parseInt(we)][parseInt(at)]}return null}}return xt.\u0275fac=function(he){return new(he||xt)(x.rXU(x.aKT),x.rXU(x.SKi))},xt.\u0275cmp=x.VBU({type:xt,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[x.OA$],attrs:ae,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(he,ct){1&he&&x.DNE(0,de,3,6,"tr",0)(1,_e,3,2,"tr",1),2&he&&(x.Y8G("ngIf",ct._firstRowOffset<ct.labelMinRequiredCells),x.R7$(),x.Y8G("ngForOf",ct.rows))},dependencies:[F.bT,F.Sq,F.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),xt})();function bn(xt){return"TD"===xt.nodeName}function it(xt,dn,he){return null!==he&&dn!==he&&xt<he&&xt===dn}function dt(xt,dn,he){return null!==dn&&dn!==he&&xt>=dn&&xt===he}function $t(xt,dn,he,ct){return ct&&null!==dn&&null!==he&&dn!==he&&xt>=dn&&xt<=he}class Pn{constructor(dn,he){this.start=dn,this.end=he}}let qn=(()=>{class xt{constructor(he,ct){this.selection=he,this._adapter=ct,this._selectionChanged=new z.B,this.selectionChanged=this._selectionChanged,this.selection=he}updateSelection(he,ct){const we=this.selection;this.selection=he,this._selectionChanged.next({selection:he,source:ct,oldValue:we})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(he){return this._adapter.isDateInstance(he)&&this._adapter.isValid(he)}}return xt.\u0275fac=function(he){x.QTQ()},xt.\u0275prov=x.jDH({token:xt,factory:xt.\u0275fac}),xt})(),Pi=(()=>{class xt extends qn{constructor(he){super(null,he)}add(he){super.updateSelection(he,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const he=new xt(this._adapter);return he.updateSelection(this.selection,this),he}}return xt.\u0275fac=function(he){return new(he||xt)(x.KVO(q.MJ))},xt.\u0275prov=x.jDH({token:xt,factory:xt.\u0275fac}),xt})();const qt={provide:qn,deps:[[new x.Xx1,new x.kdw,qn],q.MJ],useFactory:function Ci(xt,dn){return xt||new Pi(dn)}},Ge=new x.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let Mi=(()=>{class xt{constructor(he,ct,we,at,Mt){this._changeDetectorRef=he,this._dateFormats=ct,this._dateAdapter=we,this._dir=at,this._rangeStrategy=Mt,this._rerenderSubscription=O.yU.EMPTY,this.selectedChange=new x.bkB,this._userSelection=new x.bkB,this.activeDateChange=new x.bkB,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(he){const ct=this._activeDate,we=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(we,this.minDate,this.maxDate),this._hasSameMonthAndYear(ct,this._activeDate)||this._init()}get selected(){return this._selected}set selected(he){this._selected=he instanceof Pn?he:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(he){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))}get maxDate(){return this._maxDate}set maxDate(he){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ee.Z)(null)).subscribe(()=>this._init())}ngOnChanges(he){const ct=he.comparisonStart||he.comparisonEnd;ct&&!ct.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(he){const ct=he.value,we=this._dateAdapter.getYear(this.activeDate),at=this._dateAdapter.getMonth(this.activeDate),Mt=this._dateAdapter.createDate(we,at,ct);let Sn,Ln;this._selected instanceof Pn?(Sn=this._getDateInCurrentMonth(this._selected.start),Ln=this._getDateInCurrentMonth(this._selected.end)):Sn=Ln=this._getDateInCurrentMonth(this._selected),(Sn!==ct||Ln!==ct)&&this.selectedChange.emit(Mt),this._userSelection.emit({value:Mt,event:he.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(he){const ct=this._activeDate,we=this._isRtl();switch(he.keyCode){case A.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,we?1:-1);break;case A.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,we?-1:1);break;case A.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case A.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case A.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case A.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case A.w_:this.activeDate=he.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case A.dB:this.activeDate=he.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case A.Fm:case A.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&he.preventDefault());case A._f:return void(null!=this._previewEnd&&!(0,A.rp)(he)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:he}),he.preventDefault(),he.stopPropagation()));default:return}this._dateAdapter.compareDate(ct,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),he.preventDefault()}_handleCalendarBodyKeyup(he){(he.keyCode===A.t6||he.keyCode===A.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:he}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let he=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(he)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(he){this._matCalendarBody._focusActiveCell(he)}_previewChanged({event:he,value:ct}){if(this._rangeStrategy){const at=this._rangeStrategy.createPreview(ct?ct.rawValue:null,this.selected,he);this._previewStart=this._getCellCompareValue(at.start),this._previewEnd=this._getCellCompareValue(at.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const he=this._dateAdapter.getFirstDayOfWeek(),ct=this._dateAdapter.getDayOfWeekNames("narrow");let at=this._dateAdapter.getDayOfWeekNames("long").map((Mt,Sn)=>({long:Mt,narrow:ct[Sn]}));this._weekdays=at.slice(he).concat(at.slice(0,he))}_createWeekCells(){const he=this._dateAdapter.getNumDaysInMonth(this.activeDate),ct=this._dateAdapter.getDateNames();this._weeks=[[]];for(let we=0,at=this._firstWeekOffset;we<he;we++,at++){7==at&&(this._weeks.push([]),at=0);const Mt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),we+1),Sn=this._shouldEnableDate(Mt),Ln=this._dateAdapter.format(Mt,this._dateFormats.display.dateA11yLabel),oi=this.dateClass?this.dateClass(Mt,"month"):void 0;this._weeks[this._weeks.length-1].push(new Ft(we+1,ct[we],Ln,Sn,oi,this._getCellCompareValue(Mt),Mt))}}_shouldEnableDate(he){return!!he&&(!this.minDate||this._dateAdapter.compareDate(he,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(he,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(he))}_getDateInCurrentMonth(he){return he&&this._hasSameMonthAndYear(he,this.activeDate)?this._dateAdapter.getDate(he):null}_hasSameMonthAndYear(he,ct){return!(!he||!ct||this._dateAdapter.getMonth(he)!=this._dateAdapter.getMonth(ct)||this._dateAdapter.getYear(he)!=this._dateAdapter.getYear(ct))}_getCellCompareValue(he){if(he){const ct=this._dateAdapter.getYear(he),we=this._dateAdapter.getMonth(he),at=this._dateAdapter.getDate(he);return new Date(ct,we,at).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(he){he instanceof Pn?(this._rangeStart=this._getCellCompareValue(he.start),this._rangeEnd=this._getCellCompareValue(he.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(he),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(he){return!this.dateFilter||this.dateFilter(he)}}return xt.\u0275fac=function(he){return new(he||xt)(x.rXU(x.gRc),x.rXU(q.de,8),x.rXU(q.MJ,8),x.rXU(H.dS,8),x.rXU(Ge,8))},xt.\u0275cmp=x.VBU({type:xt,selectors:[["mat-month-view"]],viewQuery:function(he,ct){if(1&he&&x.GBs(Lt,5),2&he){let we;x.mGM(we=x.lsd())&&(ct._matCalendarBody=we.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[x.OA$],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","previewChange","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(he,ct){1&he&&(x.j41(0,"table",0)(1,"thead",1)(2,"tr"),x.DNE(3,Xe,5,2,"th",2),x.k0s(),x.j41(4,"tr"),x.nrm(5,"th",3),x.k0s()(),x.j41(6,"tbody",4),x.bIt("selectedValueChange",function(at){return ct._dateSelected(at)})("previewChange",function(at){return ct._previewChanged(at)})("keyup",function(at){return ct._handleCalendarBodyKeyup(at)})("keydown",function(at){return ct._handleCalendarBodyKeydown(at)}),x.k0s()()),2&he&&(x.R7$(3),x.Y8G("ngForOf",ct._weekdays),x.R7$(3),x.Y8G("label",ct._monthLabel)("rows",ct._weeks)("todayValue",ct._todayDate)("startValue",ct._rangeStart)("endValue",ct._rangeEnd)("comparisonStart",ct._comparisonRangeStart)("comparisonEnd",ct._comparisonRangeEnd)("previewStart",ct._previewStart)("previewEnd",ct._previewEnd)("isRange",ct._isRange)("labelMinRequiredCells",3)("activeCell",ct._dateAdapter.getDate(ct.activeDate)-1))},dependencies:[Lt,F.Sq],encapsulation:2,changeDetection:0}),xt})();const yi=24;let rr=(()=>{class xt{constructor(he,ct,we){this._changeDetectorRef=he,this._dateAdapter=ct,this._dir=we,this._rerenderSubscription=O.yU.EMPTY,this.selectedChange=new x.bkB,this.yearSelected=new x.bkB,this.activeDateChange=new x.bkB,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(he){let ct=this._activeDate;const we=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(we,this.minDate,this.maxDate),br(this._dateAdapter,ct,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(he){this._selected=he instanceof Pn?he:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he)),this._setSelectedYear(he)}get minDate(){return this._minDate}set minDate(he){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))}get maxDate(){return this._maxDate}set maxDate(he){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ee.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const ct=this._dateAdapter.getYear(this._activeDate)-Si(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let we=0,at=[];we<yi;we++)at.push(ct+we),4==at.length&&(this._years.push(at.map(Mt=>this._createCellForYear(Mt))),at=[]);this._changeDetectorRef.markForCheck()}_yearSelected(he){const ct=he.value;this.yearSelected.emit(this._dateAdapter.createDate(ct,0,1));let we=this._dateAdapter.getMonth(this.activeDate),at=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(ct,we,1));this.selectedChange.emit(this._dateAdapter.createDate(ct,we,Math.min(this._dateAdapter.getDate(this.activeDate),at)))}_handleCalendarBodyKeydown(he){const ct=this._activeDate,we=this._isRtl();switch(he.keyCode){case A.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,we?1:-1);break;case A.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,we?-1:1);break;case A.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case A.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case A.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Si(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case A.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,yi-Si(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case A.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,he.altKey?10*-yi:-yi);break;case A.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,he.altKey?10*yi:yi);break;case A.Fm:case A.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(ct,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),he.preventDefault()}_handleCalendarBodyKeyup(he){(he.keyCode===A.t6||he.keyCode===A.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:he}),this._selectionKeyPressed=!1)}_getActiveCell(){return Si(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(he){const ct=this._dateAdapter.createDate(he,0,1),we=this._dateAdapter.getYearName(ct),at=this.dateClass?this.dateClass(ct,"multi-year"):void 0;return new Ft(he,we,we,this._shouldEnableYear(he),at)}_shouldEnableYear(he){if(null==he||this.maxDate&&he>this._dateAdapter.getYear(this.maxDate)||this.minDate&&he<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let we=this._dateAdapter.createDate(he,0,1);this._dateAdapter.getYear(we)==he;we=this._dateAdapter.addCalendarDays(we,1))if(this.dateFilter(we))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(he){if(this._selectedYear=null,he instanceof Pn){const ct=he.start||he.end;ct&&(this._selectedYear=this._dateAdapter.getYear(ct))}else he&&(this._selectedYear=this._dateAdapter.getYear(he))}}return xt.\u0275fac=function(he){return new(he||xt)(x.rXU(x.gRc),x.rXU(q.MJ,8),x.rXU(H.dS,8))},xt.\u0275cmp=x.VBU({type:xt,selectors:[["mat-multi-year-view"]],viewQuery:function(he,ct){if(1&he&&x.GBs(Lt,5),2&he){let we;x.mGM(we=x.lsd())&&(ct._matCalendarBody=we.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(he,ct){1&he&&(x.j41(0,"table",0)(1,"thead",1)(2,"tr"),x.nrm(3,"th",2),x.k0s()(),x.j41(4,"tbody",3),x.bIt("selectedValueChange",function(at){return ct._yearSelected(at)})("keyup",function(at){return ct._handleCalendarBodyKeyup(at)})("keydown",function(at){return ct._handleCalendarBodyKeydown(at)}),x.k0s()()),2&he&&(x.R7$(4),x.Y8G("rows",ct._years)("todayValue",ct._todayYear)("startValue",ct._selectedYear)("endValue",ct._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",ct._getActiveCell()))},dependencies:[Lt],encapsulation:2,changeDetection:0}),xt})();function br(xt,dn,he,ct,we){const at=xt.getYear(dn),Mt=xt.getYear(he),Sn=Ar(xt,ct,we);return Math.floor((at-Sn)/yi)===Math.floor((Mt-Sn)/yi)}function Si(xt,dn,he,ct){return function $i(xt,dn){return(xt%dn+dn)%dn}(xt.getYear(dn)-Ar(xt,he,ct),yi)}function Ar(xt,dn,he){let ct=0;return he?ct=xt.getYear(he)-yi+1:dn&&(ct=xt.getYear(dn)),ct}let Gi=(()=>{class xt{constructor(he,ct,we,at){this._changeDetectorRef=he,this._dateFormats=ct,this._dateAdapter=we,this._dir=at,this._rerenderSubscription=O.yU.EMPTY,this.selectedChange=new x.bkB,this.monthSelected=new x.bkB,this.activeDateChange=new x.bkB,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(he){let ct=this._activeDate;const we=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(we,this.minDate,this.maxDate),this._dateAdapter.getYear(ct)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(he){this._selected=he instanceof Pn?he:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he)),this._setSelectedMonth(he)}get minDate(){return this._minDate}set minDate(he){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))}get maxDate(){return this._maxDate}set maxDate(he){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ee.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(he){const ct=he.value,we=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ct,1);this.monthSelected.emit(we);const at=this._dateAdapter.getNumDaysInMonth(we);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ct,Math.min(this._dateAdapter.getDate(this.activeDate),at)))}_handleCalendarBodyKeydown(he){const ct=this._activeDate,we=this._isRtl();switch(he.keyCode){case A.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,we?1:-1);break;case A.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,we?-1:1);break;case A.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case A.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case A.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case A.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case A.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,he.altKey?-10:-1);break;case A.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,he.altKey?10:1);break;case A.Fm:case A.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(ct,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),he.preventDefault()}_handleCalendarBodyKeyup(he){(he.keyCode===A.t6||he.keyCode===A.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:he}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let he=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(ct=>ct.map(we=>this._createCellForMonth(we,he[we]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(he){return he&&this._dateAdapter.getYear(he)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(he):null}_createCellForMonth(he,ct){const we=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),he,1),at=this._dateAdapter.format(we,this._dateFormats.display.monthYearA11yLabel),Mt=this.dateClass?this.dateClass(we,"year"):void 0;return new Ft(he,ct.toLocaleUpperCase(),at,this._shouldEnableMonth(he),Mt)}_shouldEnableMonth(he){const ct=this._dateAdapter.getYear(this.activeDate);if(null==he||this._isYearAndMonthAfterMaxDate(ct,he)||this._isYearAndMonthBeforeMinDate(ct,he))return!1;if(!this.dateFilter)return!0;for(let at=this._dateAdapter.createDate(ct,he,1);this._dateAdapter.getMonth(at)==he;at=this._dateAdapter.addCalendarDays(at,1))if(this.dateFilter(at))return!0;return!1}_isYearAndMonthAfterMaxDate(he,ct){if(this.maxDate){const we=this._dateAdapter.getYear(this.maxDate),at=this._dateAdapter.getMonth(this.maxDate);return he>we||he===we&&ct>at}return!1}_isYearAndMonthBeforeMinDate(he,ct){if(this.minDate){const we=this._dateAdapter.getYear(this.minDate),at=this._dateAdapter.getMonth(this.minDate);return he<we||he===we&&ct<at}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(he){this._selectedMonth=he instanceof Pn?this._getMonthInCurrentYear(he.start)||this._getMonthInCurrentYear(he.end):this._getMonthInCurrentYear(he)}}return xt.\u0275fac=function(he){return new(he||xt)(x.rXU(x.gRc),x.rXU(q.de,8),x.rXU(q.MJ,8),x.rXU(H.dS,8))},xt.\u0275cmp=x.VBU({type:xt,selectors:[["mat-year-view"]],viewQuery:function(he,ct){if(1&he&&x.GBs(Lt,5),2&he){let we;x.mGM(we=x.lsd())&&(ct._matCalendarBody=we.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(he,ct){1&he&&(x.j41(0,"table",0)(1,"thead",1)(2,"tr"),x.nrm(3,"th",2),x.k0s()(),x.j41(4,"tbody",3),x.bIt("selectedValueChange",function(at){return ct._monthSelected(at)})("keyup",function(at){return ct._handleCalendarBodyKeyup(at)})("keydown",function(at){return ct._handleCalendarBodyKeydown(at)}),x.k0s()()),2&he&&(x.R7$(4),x.Y8G("label",ct._yearLabel)("rows",ct._months)("todayValue",ct._todayMonth)("startValue",ct._selectedMonth)("endValue",ct._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",ct._dateAdapter.getMonth(ct.activeDate)))},dependencies:[Lt],encapsulation:2,changeDetection:0}),xt})(),rs=0,Dn=(()=>{class xt{constructor(he,ct,we,at,Mt){this._intl=he,this.calendar=ct,this._dateAdapter=we,this._dateFormats=at,this._buttonDescriptionId="mat-calendar-button-"+rs++,this.calendar.stateChanges.subscribe(()=>Mt.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const ct=this._dateAdapter.getYear(this.calendar.activeDate)-Si(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),we=ct+yi-1,at=this._dateAdapter.getYearName(this._dateAdapter.createDate(ct,0,1)),Mt=this._dateAdapter.getYearName(this._dateAdapter.createDate(we,0,1));return this._intl.formatYearRange(at,Mt)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-yi)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:yi)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(he,ct){return"month"==this.calendar.currentView?this._dateAdapter.getYear(he)==this._dateAdapter.getYear(ct)&&this._dateAdapter.getMonth(he)==this._dateAdapter.getMonth(ct):"year"==this.calendar.currentView?this._dateAdapter.getYear(he)==this._dateAdapter.getYear(ct):br(this._dateAdapter,he,ct,this.calendar.minDate,this.calendar.maxDate)}}return xt.\u0275fac=function(he){return new(he||xt)(x.rXU(mt),x.rXU((0,x.Rfq)(()=>On)),x.rXU(q.MJ,8),x.rXU(q.de,8),x.rXU(x.gRc))},xt.\u0275cmp=x.VBU({type:xt,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Ye,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(he,ct){1&he&&(x.NAR(),x.j41(0,"div",0)(1,"div",1)(2,"button",2),x.bIt("click",function(){return ct.currentPeriodClicked()}),x.j41(3,"span"),x.EFF(4),x.k0s(),x.qSk(),x.j41(5,"svg",3),x.nrm(6,"polygon",4),x.k0s()(),x.joV(),x.nrm(7,"div",5),x.SdG(8),x.j41(9,"button",6),x.bIt("click",function(){return ct.previousClicked()}),x.k0s(),x.j41(10,"button",7),x.bIt("click",function(){return ct.nextClicked()}),x.k0s()()()),2&he&&(x.R7$(2),x.BMQ("aria-label",ct.periodButtonLabel)("aria-describedby",ct._buttonDescriptionId),x.R7$(),x.BMQ("id",ct._buttonDescriptionId),x.R7$(),x.JRh(ct.periodButtonText),x.R7$(),x.AVh("mat-calendar-invert","month"!==ct.calendar.currentView),x.R7$(4),x.Y8G("disabled",!ct.previousEnabled()),x.BMQ("aria-label",ct.prevButtonLabel),x.R7$(),x.Y8G("disabled",!ct.nextEnabled()),x.BMQ("aria-label",ct.nextButtonLabel))},dependencies:[ce.$z],encapsulation:2,changeDetection:0}),xt})(),On=(()=>{class xt{constructor(he,ct,we,at){this._dateAdapter=ct,this._dateFormats=we,this._changeDetectorRef=at,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new x.bkB,this.yearSelected=new x.bkB,this.monthSelected=new x.bkB,this.viewChanged=new x.bkB(!0),this._userSelection=new x.bkB,this.stateChanges=new z.B,this._intlChanges=he.changes.subscribe(()=>{at.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(he){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))}get selected(){return this._selected}set selected(he){this._selected=he instanceof Pn?he:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))}get minDate(){return this._minDate}set minDate(he){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))}get maxDate(){return this._maxDate}set maxDate(he){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))}get activeDate(){return this._clampedActiveDate}set activeDate(he){this._clampedActiveDate=this._dateAdapter.clampDate(he,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(he){const ct=this._currentView!==he?he:null;this._currentView=he,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),ct&&this.viewChanged.emit(ct)}ngAfterContentInit(){this._calendarHeaderPortal=new T.A8(this.headerComponent||Dn),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(he){const ct=he.minDate&&!this._dateAdapter.sameDate(he.minDate.previousValue,he.minDate.currentValue)?he.minDate:void 0,we=he.maxDate&&!this._dateAdapter.sameDate(he.maxDate.previousValue,he.maxDate.currentValue)?he.maxDate:void 0,at=ct||we||he.dateFilter;if(at&&!at.firstChange){const Mt=this._getCurrentViewComponent();Mt&&(this._changeDetectorRef.detectChanges(),Mt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(he){const ct=he.value;(this.selected instanceof Pn||ct&&!this._dateAdapter.sameDate(ct,this.selected))&&this.selectedChange.emit(ct),this._userSelection.emit(he)}_yearSelectedInMultiYearView(he){this.yearSelected.emit(he)}_monthSelectedInYearView(he){this.monthSelected.emit(he)}_goToDateInView(he,ct){this.activeDate=he,this.currentView=ct}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return xt.\u0275fac=function(he){return new(he||xt)(x.rXU(mt),x.rXU(q.MJ,8),x.rXU(q.de,8),x.rXU(x.gRc))},xt.\u0275cmp=x.VBU({type:xt,selectors:[["mat-calendar"]],viewQuery:function(he,ct){if(1&he&&(x.GBs(Mi,5),x.GBs(Gi,5),x.GBs(rr,5)),2&he){let we;x.mGM(we=x.lsd())&&(ct.monthView=we.first),x.mGM(we=x.lsd())&&(ct.yearView=we.first),x.mGM(we=x.lsd())&&(ct.multiYearView=we.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[x.Jv_([qt]),x.OA$],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDateChange","_userSelection","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(he,ct){1&he&&(x.DNE(0,Ot,0,0,"ng-template",0),x.j41(1,"div",1),x.DNE(2,un,1,8,"mat-month-view",2)(3,Cn,1,6,"mat-year-view",3)(4,An,1,6,"mat-multi-year-view",4),x.k0s()),2&he&&(x.Y8G("cdkPortalOutlet",ct._calendarHeaderPortal),x.R7$(),x.Y8G("ngSwitch",ct.currentView),x.R7$(),x.Y8G("ngSwitchCase","month"),x.R7$(),x.Y8G("ngSwitchCase","year"),x.R7$(),x.Y8G("ngSwitchCase","multi-year"))},dependencies:[Mi,Gi,rr,T.I3,p.vR,F.ux,F.e1],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),xt})();const bt={transformPanel:(0,Be.hZ)("transformPanel",[(0,Be.kY)("void => enter-dropdown",(0,Be.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Be.i7)([(0,Be.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,Be.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,Be.kY)("void => enter-dialog",(0,Be.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,Be.i7)([(0,Be.iF)({opacity:0,transform:"scale(0.7)"}),(0,Be.iF)({transform:"none",opacity:1})]))),(0,Be.kY)("* => void",(0,Be.i0)("100ms linear",(0,Be.iF)({opacity:0})))]),fadeInCalendar:(0,Be.hZ)("fadeInCalendar",[(0,Be.wk)("void",(0,Be.iF)({opacity:0})),(0,Be.wk)("enter",(0,Be.iF)({opacity:1})),(0,Be.kY)("void => *",(0,Be.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Pt=0;const Vt=new x.nKC("mat-datepicker-scroll-strategy"),Ht={provide:Vt,deps:[m.hJ],useFactory:function yt(xt){return()=>xt.scrollStrategies.reposition()}},ft=(0,q.Zc)(class{constructor(xt){this._elementRef=xt}});let wt=(()=>{class xt extends ft{constructor(he,ct,we,at,Mt,Sn){super(he),this._changeDetectorRef=ct,this._globalModel=we,this._dateAdapter=at,this._rangeSelectionStrategy=Mt,this._subscriptions=new O.yU,this._animationDone=new z.B,this._actionsPortal=null,this._closeButtonText=Sn.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(he){const ct=this._model.selection,we=he.value,at=ct instanceof Pn;if(at&&this._rangeSelectionStrategy){const Mt=this._rangeSelectionStrategy.selectionFinished(we,ct,he.event);this._model.updateSelection(Mt,this)}else we&&(at||!this._dateAdapter.sameDate(we,ct))&&this._model.add(we);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return xt.\u0275fac=function(he){return new(he||xt)(x.rXU(x.aKT),x.rXU(x.gRc),x.rXU(qn),x.rXU(q.MJ),x.rXU(Ge,8),x.rXU(mt))},xt.\u0275cmp=x.VBU({type:xt,selectors:[["mat-datepicker-content"]],viewQuery:function(he,ct){if(1&he&&x.GBs(On,5),2&he){let we;x.mGM(we=x.lsd())&&(ct._calendar=we.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(he,ct){1&he&&x.Kam("@transformPanel.done",function(){return ct._animationDone.next()}),2&he&&(x.zvX("@transformPanel",ct._animationState),x.AVh("mat-datepicker-content-touch",ct.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[x.Vt3],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(he,ct){if(1&he&&(x.j41(0,"div",0)(1,"mat-calendar",1),x.bIt("yearSelected",function(at){return ct.datepicker._selectYear(at)})("monthSelected",function(at){return ct.datepicker._selectMonth(at)})("viewChanged",function(at){return ct.datepicker._viewChanged(at)})("_userSelection",function(at){return ct._handleUserSelection(at)}),x.k0s(),x.DNE(2,Nn,0,0,"ng-template",2),x.j41(3,"button",3),x.bIt("focus",function(){return ct._closeButtonFocused=!0})("blur",function(){return ct._closeButtonFocused=!1})("click",function(){return ct.datepicker.close()}),x.EFF(4),x.k0s()()),2&he){let we;x.AVh("mat-datepicker-content-container-with-custom-header",ct.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",ct._actionsPortal),x.BMQ("aria-modal",!0)("aria-labelledby",null!==(we=ct._dialogLabelId)&&void 0!==we?we:void 0),x.R7$(),x.Y8G("id",ct.datepicker.id)("ngClass",ct.datepicker.panelClass)("startAt",ct.datepicker.startAt)("startView",ct.datepicker.startView)("minDate",ct.datepicker._getMinDate())("maxDate",ct.datepicker._getMaxDate())("dateFilter",ct.datepicker._getDateFilter())("headerComponent",ct.datepicker.calendarHeaderComponent)("selected",ct._getSelected())("dateClass",ct.datepicker.dateClass)("comparisonStart",ct.comparisonStart)("comparisonEnd",ct.comparisonEnd)("@fadeInCalendar","enter"),x.R7$(),x.Y8G("cdkPortalOutlet",ct._actionsPortal),x.R7$(),x.AVh("cdk-visually-hidden",!ct._closeButtonFocused),x.Y8G("color",ct.color||"primary"),x.R7$(),x.JRh(ct._closeButtonText)}},dependencies:[On,ce.$z,p.kB,F.YU,T.I3],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[bt.transformPanel,bt.fadeInCalendar]},changeDetection:0}),xt})(),ze=(()=>{class xt{constructor(he,ct,we,at,Mt,Sn,Ln){this._overlay=he,this._ngZone=ct,this._viewContainerRef=we,this._dateAdapter=Mt,this._dir=Sn,this._model=Ln,this._inputStateChanges=O.yU.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new x.bkB,this.monthSelected=new x.bkB,this.viewChanged=new x.bkB(!0),this.openedStream=new x.bkB,this.closedStream=new x.bkB,this._opened=!1,this.id="mat-datepicker-"+Pt++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new z.B,this._scrollStrategy=at}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(he){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(he){this._color=he}get touchUi(){return this._touchUi}set touchUi(he){this._touchUi=(0,me.he)(he)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(he){const ct=(0,me.he)(he);ct!==this._disabled&&(this._disabled=ct,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(he){this._restoreFocus=(0,me.he)(he)}get panelClass(){return this._panelClass}set panelClass(he){this._panelClass=(0,me.cc)(he)}get opened(){return this._opened}set opened(he){(0,me.he)(he)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(he){const ct=he.xPosition||he.yPosition;if(ct&&!ct.firstChange&&this._overlayRef){const we=this._overlayRef.getConfig().positionStrategy;we instanceof m.rW&&(this._setConnectedPositions(we),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(he){this._model.add(he)}_selectYear(he){this.yearSelected.emit(he)}_selectMonth(he){this.monthSelected.emit(he)}_viewChanged(he){this.viewChanged.emit(he)}registerInput(he){return this._inputStateChanges.unsubscribe(),this.datepickerInput=he,this._inputStateChanges=he.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(he){this._actionsPortal=he}removeActions(he){he===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,Ne.vc)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const ct=this._componentRef.instance;ct._startExitAnimation(),ct._animationDone.pipe((0,Q.s)(1)).subscribe(()=>this._destroyOverlay())}const he=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(he)):he()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(he){he.datepicker=this,he.color=this.color,he._actionsPortal=this._actionsPortal,he._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const he=this.touchUi,ct=new T.A8(wt,this._viewContainerRef),we=this._overlayRef=this._overlay.create(new m.rR({positionStrategy:he?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[he?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:he?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(he?"dialog":"popup")}));this._getCloseStream(we).subscribe(at=>{at&&at.preventDefault(),this.close()}),we.keydownEvents().subscribe(at=>{const Mt=at.keyCode;(Mt===A.i7||Mt===A.n6||Mt===A.UQ||Mt===A.LE||Mt===A.w_||Mt===A.dB)&&at.preventDefault()}),this._componentRef=we.attach(ct),this._forwardContentValues(this._componentRef.instance),he||this._ngZone.onStable.pipe((0,Q.s)(1)).subscribe(()=>we.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const he=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(he)}_setConnectedPositions(he){const ct="end"===this.xPosition?"end":"start",we="start"===ct?"end":"start",at="above"===this.yPosition?"bottom":"top",Mt="top"===at?"bottom":"top";return he.withPositions([{originX:ct,originY:Mt,overlayX:ct,overlayY:at},{originX:ct,originY:at,overlayX:ct,overlayY:Mt},{originX:we,originY:Mt,overlayX:we,overlayY:at},{originX:we,originY:at,overlayX:we,overlayY:Mt}])}_getCloseStream(he){return(0,I.h)(he.backdropClick(),he.detachments(),he.keydownEvents().pipe((0,be.p)(ct=>ct.keyCode===A._f&&!(0,A.rp)(ct)||this.datepickerInput&&(0,A.rp)(ct,"altKey")&&ct.keyCode===A.i7)))}}return xt.\u0275fac=function(he){return new(he||xt)(x.rXU(m.hJ),x.rXU(x.SKi),x.rXU(x.c1b),x.rXU(Vt),x.rXU(q.MJ,8),x.rXU(H.dS,8),x.rXU(qn))},xt.\u0275dir=x.FsC({type:xt,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[x.OA$]}),xt})(),st=(()=>{class xt extends ze{}return xt.\u0275fac=(()=>{let dn;return function(ct){return(dn||(dn=x.xGo(xt)))(ct||xt)}})(),xt.\u0275cmp=x.VBU({type:xt,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[x.Jv_([qt,{provide:ze,useExisting:xt}]),x.Vt3],decls:0,vars:0,template:function(he,ct){},encapsulation:2,changeDetection:0}),xt})();class V{constructor(dn,he){this.target=dn,this.targetElement=he,this.value=this.target.value}}let G=(()=>{class xt{constructor(he,ct,we){this._elementRef=he,this._dateAdapter=ct,this._dateFormats=we,this.dateChange=new x.bkB,this.dateInput=new x.bkB,this.stateChanges=new z.B,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=O.yU.EMPTY,this._localeSubscription=O.yU.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=at=>{const Mt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(at.value));return!Mt||this._matchesFilter(Mt)?null:{matDatepickerFilter:!0}},this._minValidator=at=>{const Mt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(at.value)),Sn=this._getMinDate();return!Sn||!Mt||this._dateAdapter.compareDate(Sn,Mt)<=0?null:{matDatepickerMin:{min:Sn,actual:Mt}}},this._maxValidator=at=>{const Mt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(at.value)),Sn=this._getMaxDate();return!Sn||!Mt||this._dateAdapter.compareDate(Sn,Mt)>=0?null:{matDatepickerMax:{max:Sn,actual:Mt}}},this._lastValueValid=!1,this._localeSubscription=ct.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(he){this._assignValueProgrammatically(he)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(he){const ct=(0,me.he)(he),we=this._elementRef.nativeElement;this._disabled!==ct&&(this._disabled=ct,this.stateChanges.next(void 0)),ct&&this._isInitialized&&we.blur&&we.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(he){this._model=he,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(ct=>{if(this._shouldHandleChangeEvent(ct)){const we=this._getValueFromModel(ct.selection);this._lastValueValid=this._isValidValue(we),this._cvaOnChange(we),this._onTouched(),this._formatValue(we),this.dateInput.emit(new V(this,this._elementRef.nativeElement)),this.dateChange.emit(new V(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(he){(function X(xt,dn){const he=Object.keys(xt);for(let ct of he){const{previousValue:we,currentValue:at}=xt[ct];if(!dn.isDateInstance(we)||!dn.isDateInstance(at))return!0;if(!dn.sameDate(we,at))return!0}return!1})(he,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(he){this._validatorOnChange=he}validate(he){return this._validator?this._validator(he):null}writeValue(he){this._assignValueProgrammatically(he)}registerOnChange(he){this._cvaOnChange=he}registerOnTouched(he){this._onTouched=he}setDisabledState(he){this.disabled=he}_onKeydown(he){he.altKey&&he.keyCode===A.n6&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),he.preventDefault())}_onInput(he){const ct=this._lastValueValid;let we=this._dateAdapter.parse(he,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(we),we=this._dateAdapter.getValidDateOrNull(we);const at=!this._dateAdapter.sameDate(we,this.value);!we||at?this._cvaOnChange(we):(he&&!this.value&&this._cvaOnChange(we),ct!==this._lastValueValid&&this._validatorOnChange()),at&&(this._assignValue(we),this.dateInput.emit(new V(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new V(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(he){this._elementRef.nativeElement.value=null!=he?this._dateAdapter.format(he,this._dateFormats.display.dateInput):""}_assignValue(he){this._model?(this._assignValueToModel(he),this._pendingValue=null):this._pendingValue=he}_isValidValue(he){return!he||this._dateAdapter.isValid(he)}_parentDisabled(){return!1}_assignValueProgrammatically(he){he=this._dateAdapter.deserialize(he),this._lastValueValid=this._isValidValue(he),he=this._dateAdapter.getValidDateOrNull(he),this._assignValue(he),this._formatValue(he)}_matchesFilter(he){const ct=this._getDateFilter();return!ct||ct(he)}}return xt.\u0275fac=function(he){return new(he||xt)(x.rXU(x.aKT),x.rXU(q.MJ,8),x.rXU(q.de,8))},xt.\u0275dir=x.FsC({type:xt,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[x.OA$]}),xt})();const Ee={provide:Ve.kq,useExisting:(0,x.Rfq)(()=>ht),multi:!0},ot={provide:Ve.cz,useExisting:(0,x.Rfq)(()=>ht),multi:!0};let ht=(()=>{class xt extends G{constructor(he,ct,we,at){super(he,ct,we),this._formField=at,this._closedSubscription=O.yU.EMPTY,this._validator=Ve.k0.compose(super._getValidators())}set matDatepicker(he){he&&(this._datepicker=he,this._closedSubscription=he.closedStream.subscribe(()=>this._onTouched()),this._registerModel(he.registerInput(this)))}get min(){return this._min}set min(he){const ct=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he));this._dateAdapter.sameDate(ct,this._min)||(this._min=ct,this._validatorOnChange())}get max(){return this._max}set max(he){const ct=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(he));this._dateAdapter.sameDate(ct,this._max)||(this._max=ct,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(he){const ct=this._matchesFilter(this.value);this._dateFilter=he,this._matchesFilter(this.value)!==ct&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(he){return he}_assignValueToModel(he){this._model&&this._model.updateSelection(he,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(he){return he.source!==this}}return xt.\u0275fac=function(he){return new(he||xt)(x.rXU(x.aKT),x.rXU(q.MJ,8),x.rXU(q.de,8),x.rXU(Le.xb,8))},xt.\u0275dir=x.FsC({type:xt,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(he,ct){1&he&&x.bIt("input",function(at){return ct._onInput(at.target.value)})("change",function(){return ct._onChange()})("blur",function(){return ct._onBlur()})("keydown",function(at){return ct._onKeydown(at)}),2&he&&(x.Mr5("disabled",ct.disabled),x.BMQ("aria-haspopup",ct._datepicker?"dialog":null)("aria-owns",(null==ct._datepicker?null:ct._datepicker.opened)&&ct._datepicker.id||null)("min",ct.min?ct._dateAdapter.toIso8601(ct.min):null)("max",ct.max?ct._dateAdapter.toIso8601(ct.max):null)("data-mat-calendar",ct._datepicker?ct._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[x.Mj6.None,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[x.Jv_([Ee,ot,{provide:J.Oh,useExisting:xt}]),x.Vt3]}),xt})(),on=(()=>{class xt{}return xt.\u0275fac=function(he){return new(he||xt)},xt.\u0275dir=x.FsC({type:xt,selectors:[["","matDatepickerToggleIcon",""]]}),xt})(),gn=(()=>{class xt{constructor(he,ct,we){this._intl=he,this._changeDetectorRef=ct,this._stateChanges=O.yU.EMPTY;const at=Number(we);this.tabIndex=at||0===at?at:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(he){this._disabled=(0,me.he)(he)}ngOnChanges(he){he.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(he){this.datepicker&&!this.disabled&&(this.datepicker.open(),he.stopPropagation())}_watchStateChanges(){const he=this.datepicker?this.datepicker.stateChanges:(0,k.of)(),ct=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,k.of)(),we=this.datepicker?(0,I.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,k.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,I.h)(this._intl.changes,he,ct,we).subscribe(()=>this._changeDetectorRef.markForCheck())}}return xt.\u0275fac=function(he){return new(he||xt)(x.rXU(mt),x.rXU(x.gRc),x.kS0("tabindex"))},xt.\u0275cmp=x.VBU({type:xt,selectors:[["mat-datepicker-toggle"]],contentQueries:function(he,ct,we){if(1&he&&x.wni(we,on,5),2&he){let at;x.mGM(at=x.lsd())&&(ct._customIcon=at.first)}},viewQuery:function(he,ct){if(1&he&&x.GBs(Et,5),2&he){let we;x.mGM(we=x.lsd())&&(ct._button=we.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(he,ct){1&he&&x.bIt("click",function(at){return ct._open(at)}),2&he&&(x.BMQ("tabindex",null)("data-mat-calendar",ct.datepicker?ct.datepicker.id:null),x.AVh("mat-datepicker-toggle-active",ct.datepicker&&ct.datepicker.opened)("mat-accent",ct.datepicker&&"accent"===ct.datepicker.color)("mat-warn",ct.datepicker&&"warn"===ct.datepicker.color))},inputs:{datepicker:[x.Mj6.None,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[x.Mj6.None,"aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[x.OA$],ngContentSelectors:jt,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(he,ct){1&he&&(x.NAR(Rt),x.j41(0,"button",1,0),x.DNE(2,Dt,2,0,"svg",2),x.SdG(3),x.k0s()),2&he&&(x.Y8G("disabled",ct.disabled)("disableRipple",ct.disableRipple),x.BMQ("aria-haspopup",ct.datepicker?"dialog":null)("aria-label",ct.ariaLabel||ct._intl.openCalendarLabel)("tabindex",ct.disabled?-1:ct.tabIndex),x.R7$(2),x.Y8G("ngIf",!ct._customIcon))},dependencies:[ce.$z,F.bT],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),xt})(),hn=(()=>{class xt{}return xt.\u0275fac=function(he){return new(he||xt)},xt.\u0275mod=x.$C({type:xt}),xt.\u0275inj=x.G2t({providers:[mt,Ht],imports:[[F.MD,ce.Hl,m.z_,p.Pd,T.jc,q.yE],ne.Gj]}),xt})()},2524:(Jt,ke,E)=>{"use strict";E.d(ke,{CP:()=>ae,Vh:()=>fe,bZ:()=>Cn,hM:()=>qe,ru:()=>me});var p=E(4531),m=E(6961),T=E(4438),F=E(5230),x=E(989),ce=E(177),ne=E(1413),q=E(9030),z=E(7673),O=E(5964),I=E(6697),k=E(9172),A=E(2223),H=E(8238),Q=E(9969),ee=E(8854);function be(We,ge){}class me{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ne={dialogContainer:(0,Q.hZ)("dialogContainer",[(0,Q.wk)("void, exit",(0,Q.iF)({opacity:0,transform:"scale(0.7)"})),(0,Q.wk)("enter",(0,Q.iF)({transform:"none"})),(0,Q.kY)("* => enter",(0,Q.Os)([(0,Q.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,Q.iF)({transform:"none",opacity:1})),(0,Q.P)("@*",(0,Q.MA)(),{optional:!0})])),(0,Q.kY)("* => void, * => exit",(0,Q.Os)([(0,Q.i0)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Q.iF)({opacity:0})),(0,Q.P)("@*",(0,Q.MA)(),{optional:!0})]))])};let Ve=(()=>{class We extends m.lb{constructor(mt,Ft,Lt,bn,it,dt,$t,Pn){super(),this._elementRef=mt,this._focusTrapFactory=Ft,this._changeDetectorRef=Lt,this._config=it,this._interactivityChecker=dt,this._ngZone=$t,this._focusMonitor=Pn,this._animationStateChanged=new T.bkB,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=qn=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(qn)),this._ariaLabelledBy=it.ariaLabelledBy||null,this._document=bn}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,H.vc)())}attachComponentPortal(mt){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(mt)}attachTemplatePortal(mt){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(mt)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(mt,Ft){this._interactivityChecker.isFocusable(mt)||(mt.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Lt=()=>{mt.removeEventListener("blur",Lt),mt.removeEventListener("mousedown",Lt),mt.removeAttribute("tabindex")};mt.addEventListener("blur",Lt),mt.addEventListener("mousedown",Lt)})),mt.focus(Ft)}_focusByCssSelector(mt,Ft){let Lt=this._elementRef.nativeElement.querySelector(mt);Lt&&this._forceFocus(Lt,Ft)}_trapFocus(){const mt=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||mt.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Ft=>{Ft||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const mt=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&mt&&"function"==typeof mt.focus){const Ft=(0,H.vc)(),Lt=this._elementRef.nativeElement;(!Ft||Ft===this._document.body||Ft===Lt||Lt.contains(Ft))&&(this._focusMonitor?(this._focusMonitor.focusVia(mt,this._closeInteractionType),this._closeInteractionType=null):mt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const mt=this._elementRef.nativeElement,Ft=(0,H.vc)();return mt===Ft||mt.contains(Ft)}}return We.\u0275fac=function(mt){return new(mt||We)(T.rXU(T.aKT),T.rXU(A.GX),T.rXU(T.gRc),T.rXU(ce.qQ,8),T.rXU(me),T.rXU(A.Z7),T.rXU(T.SKi),T.rXU(A.FN))},We.\u0275dir=T.FsC({type:We,viewQuery:function(mt,Ft){if(1&mt&&T.GBs(m.I3,7),2&mt){let Lt;T.mGM(Lt=T.lsd())&&(Ft._portalOutlet=Lt.first)}},features:[T.Vt3]}),We})(),Le=(()=>{class We extends Ve{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:mt,totalTime:Ft}){"enter"===mt?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Ft})):"exit"===mt&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:Ft}))}_onAnimationStart({toState:mt,totalTime:Ft}){"enter"===mt?this._animationStateChanged.next({state:"opening",totalTime:Ft}):("exit"===mt||"void"===mt)&&this._animationStateChanged.next({state:"closing",totalTime:Ft})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return We.\u0275fac=(()=>{let ge;return function(Ft){return(ge||(ge=T.xGo(We)))(Ft||We)}})(),We.\u0275cmp=T.VBU({type:We,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(mt,Ft){1&mt&&T.Kam("@dialogContainer.start",function(bn){return Ft._onAnimationStart(bn)})("@dialogContainer.done",function(bn){return Ft._onAnimationDone(bn)}),2&mt&&(T.Mr5("id",Ft._id),T.zvX("@dialogContainer",Ft._state),T.BMQ("role",Ft._config.role)("aria-labelledby",Ft._config.ariaLabel?null:Ft._ariaLabelledBy)("aria-label",Ft._config.ariaLabel)("aria-describedby",Ft._config.ariaDescribedBy||null))},features:[T.Vt3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(mt,Ft){1&mt&&T.DNE(0,be,0,0,"ng-template",0)},dependencies:[m.I3],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ne.dialogContainer]}}),We})(),J=0;class ae{constructor(ge,mt,Ft="mat-dialog-"+J++){this._overlayRef=ge,this._containerInstance=mt,this.id=Ft,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ne.B,this._afterClosed=new ne.B,this._beforeClosed=new ne.B,this._state=0,mt._id=Ft,mt._animationStateChanged.pipe((0,O.p)(Lt=>"opened"===Lt.state),(0,I.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),mt._animationStateChanged.pipe((0,O.p)(Lt=>"closed"===Lt.state),(0,I.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),ge.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),ge.keydownEvents().pipe((0,O.p)(Lt=>Lt.keyCode===ee._f&&!this.disableClose&&!(0,ee.rp)(Lt))).subscribe(Lt=>{Lt.preventDefault(),de(this,"keyboard")}),ge.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():de(this,"mouse")})}close(ge){this._result=ge,this._containerInstance._animationStateChanged.pipe((0,O.p)(mt=>"closing"===mt.state),(0,I.s)(1)).subscribe(mt=>{this._beforeClosed.next(ge),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),mt.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(ge){let mt=this._getPositionStrategy();return ge&&(ge.left||ge.right)?ge.left?mt.left(ge.left):mt.right(ge.right):mt.centerHorizontally(),ge&&(ge.top||ge.bottom)?ge.top?mt.top(ge.top):mt.bottom(ge.bottom):mt.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(ge="",mt=""){return this._overlayRef.updateSize({width:ge,height:mt}),this._overlayRef.updatePosition(),this}addPanelClass(ge){return this._overlayRef.addPanelClass(ge),this}removePanelClass(ge){return this._overlayRef.removePanelClass(ge),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function de(We,ge,mt){return void 0!==We._containerInstance&&(We._containerInstance._closeInteractionType=ge),We.close(mt)}const fe=new T.nKC("MatDialogData"),Re=new T.nKC("mat-dialog-default-options"),_e=new T.nKC("mat-dialog-scroll-strategy"),Ot={provide:_e,deps:[p.hJ],useFactory:function Ye(We){return()=>We.scrollStrategies.block()}};let un=(()=>{class We{constructor(mt,Ft,Lt,bn,it,dt,$t,Pn,qn,Pi){this._overlay=mt,this._injector=Ft,this._defaultOptions=Lt,this._parentDialog=bn,this._overlayContainer=it,this._dialogRefConstructor=$t,this._dialogContainerType=Pn,this._dialogDataToken=qn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ne.B,this._afterOpenedAtThisLevel=new ne.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,q.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,k.Z)(void 0))),this._scrollStrategy=dt}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const mt=this._parentDialog;return mt?mt._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(mt,Ft){Ft=function An(We,ge){return{...ge,...We}}(Ft,this._defaultOptions||new me),Ft.id&&this.getDialogById(Ft.id);const Lt=this._createOverlay(Ft),bn=this._attachDialogContainer(Lt,Ft),it=this._attachDialogContent(mt,bn,Lt,Ft);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(it),it.afterClosed().subscribe(()=>this._removeOpenDialog(it)),this.afterOpened.next(it),bn._initializeWithAttachedContent(),it}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(mt){return this.openDialogs.find(Ft=>Ft.id===mt)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(mt){const Ft=this._getOverlayConfig(mt);return this._overlay.create(Ft)}_getOverlayConfig(mt){const Ft=new p.rR({positionStrategy:this._overlay.position().global(),scrollStrategy:mt.scrollStrategy||this._scrollStrategy(),panelClass:mt.panelClass,hasBackdrop:mt.hasBackdrop,direction:mt.direction,minWidth:mt.minWidth,minHeight:mt.minHeight,maxWidth:mt.maxWidth,maxHeight:mt.maxHeight,disposeOnNavigation:mt.closeOnNavigation});return mt.backdropClass&&(Ft.backdropClass=mt.backdropClass),Ft}_attachDialogContainer(mt,Ft){const bn=T.zZn.create({parent:Ft&&Ft.viewContainerRef&&Ft.viewContainerRef.injector||this._injector,providers:[{provide:me,useValue:Ft}]}),it=new m.A8(this._dialogContainerType,Ft.viewContainerRef,bn,Ft.componentFactoryResolver);return mt.attach(it).instance}_attachDialogContent(mt,Ft,Lt,bn){const it=new this._dialogRefConstructor(Lt,Ft,bn.id);if(mt instanceof T.C4Q)Ft.attachTemplatePortal(new m.VA(mt,null,{$implicit:bn.data,dialogRef:it}));else{const dt=this._createInjector(bn,it,Ft),$t=Ft.attachComponentPortal(new m.A8(mt,bn.viewContainerRef,dt,bn.componentFactoryResolver));it.componentInstance=$t.instance}return it.updateSize(bn.width,bn.height).updatePosition(bn.position),it}_createInjector(mt,Ft,Lt){const bn=mt&&mt.viewContainerRef&&mt.viewContainerRef.injector,it=[{provide:this._dialogContainerType,useValue:Lt},{provide:this._dialogDataToken,useValue:mt.data},{provide:this._dialogRefConstructor,useValue:Ft}];return mt.direction&&(!bn||!bn.get(x.dS,null,T.$GK.Optional))&&it.push({provide:x.dS,useValue:{value:mt.direction,change:(0,z.of)()}}),T.zZn.create({parent:bn||this._injector,providers:it})}_removeOpenDialog(mt){const Ft=this.openDialogs.indexOf(mt);Ft>-1&&(this.openDialogs.splice(Ft,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Lt,bn)=>{Lt?bn.setAttribute("aria-hidden",Lt):bn.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const mt=this._overlayContainer.getContainerElement();if(mt.parentElement){const Ft=mt.parentElement.children;for(let Lt=Ft.length-1;Lt>-1;Lt--){let bn=Ft[Lt];bn!==mt&&"SCRIPT"!==bn.nodeName&&"STYLE"!==bn.nodeName&&!bn.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(bn,bn.getAttribute("aria-hidden")),bn.setAttribute("aria-hidden","true"))}}}_closeDialogs(mt){let Ft=mt.length;for(;Ft--;)mt[Ft].close()}}return We.\u0275fac=function(mt){T.QTQ()},We.\u0275dir=T.FsC({type:We}),We})(),Cn=(()=>{class We extends un{constructor(mt,Ft,Lt,bn,it,dt,$t,Pn){super(mt,Ft,bn,dt,$t,it,ae,Le,fe,Pn)}}return We.\u0275fac=function(mt){return new(mt||We)(T.KVO(p.hJ),T.KVO(T.zZn),T.KVO(ce.aZ,8),T.KVO(Re,8),T.KVO(_e),T.KVO(We,12),T.KVO(p.Sf),T.KVO(T.bc$,8))},We.\u0275prov=T.jDH({token:We,factory:We.\u0275fac}),We})(),qe=(()=>{class We{}return We.\u0275fac=function(mt){return new(mt||We)},We.\u0275mod=T.$C({type:We}),We.\u0275inj=T.G2t({providers:[Cn,Ot],imports:[[p.z_,m.jc,F.yE],F.yE]}),We})()},4476:(Jt,ke,E)=>{"use strict";E.d(ke,{BS:()=>mt,MY:()=>Ft,GK:()=>Rt,Q6:()=>We,Z2:()=>qe,WN:()=>ge});var p=E(4438),m=E(9482),T=E(8363),F=E(1413),x=E(8359);let ce=0;const ne=new p.nKC("CdkAccordion");let q=(()=>{class Lt{constructor(){this._stateChanges=new F.B,this._openCloseAllActions=new F.B,this.id="cdk-accordion-"+ce++,this._multi=!1}get multi(){return this._multi}set multi(it){this._multi=(0,T.he)(it)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(it){this._stateChanges.next(it)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return Lt.\u0275fac=function(it){return new(it||Lt)},Lt.\u0275dir=p.FsC({type:Lt,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[p.Jv_([{provide:ne,useExisting:Lt}]),p.OA$]}),Lt})(),z=0,O=(()=>{class Lt{constructor(it,dt,$t){this.accordion=it,this._changeDetectorRef=dt,this._expansionDispatcher=$t,this._openCloseAllSubscription=x.yU.EMPTY,this.closed=new p.bkB,this.opened=new p.bkB,this.destroyed=new p.bkB,this.expandedChange=new p.bkB,this.id="cdk-accordion-child-"+z++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=$t.listen((Pn,qn)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===qn&&this.id!==Pn&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(it){it=(0,T.he)(it),this._expanded!==it&&(this._expanded=it,this.expandedChange.emit(it),it?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(it){this._disabled=(0,T.he)(it)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(it=>{this.disabled||(this.expanded=it)})}}return Lt.\u0275fac=function(it){return new(it||Lt)(p.rXU(ne,12),p.rXU(p.gRc),p.rXU(m.zP))},Lt.\u0275dir=p.FsC({type:Lt,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[p.Jv_([{provide:ne,useValue:void 0}])]}),Lt})(),I=(()=>{class Lt{}return Lt.\u0275fac=function(it){return new(it||Lt)},Lt.\u0275mod=p.$C({type:Lt}),Lt.\u0275inj=p.G2t({}),Lt})();var k=E(6961),A=E(177),H=E(5230),Q=E(2223),ee=E(3294),be=E(9172),me=E(5964),Ne=E(6697),Be=E(8854),Ve=E(983),Le=E(7786),J=E(9969);const ae=["body"],de=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],fe=["mat-expansion-panel-header","*","mat-action-row"];function Re(Lt,bn){}const _e=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Xe=["mat-panel-title","mat-panel-description","*"];function Ye(Lt,bn){if(1&Lt&&p.nrm(0,"span",2),2&Lt){const it=p.XpG();p.Y8G("@indicatorRotate",it._getExpandedState())}}const Ot=new p.nKC("MAT_ACCORDION"),un="225ms cubic-bezier(0.4,0.0,0.2,1)",Cn={indicatorRotate:(0,J.hZ)("indicatorRotate",[(0,J.wk)("collapsed, void",(0,J.iF)({transform:"rotate(0deg)"})),(0,J.wk)("expanded",(0,J.iF)({transform:"rotate(180deg)"})),(0,J.kY)("expanded <=> collapsed, void => collapsed",(0,J.i0)(un))]),bodyExpansion:(0,J.hZ)("bodyExpansion",[(0,J.wk)("collapsed, void",(0,J.iF)({height:"0px",visibility:"hidden"})),(0,J.wk)("expanded",(0,J.iF)({height:"*",visibility:"visible"})),(0,J.kY)("expanded <=> collapsed, void => collapsed",(0,J.i0)(un))])};let An=(()=>{class Lt{constructor(it){this._template=it}}return Lt.\u0275fac=function(it){return new(it||Lt)(p.rXU(p.C4Q))},Lt.\u0275dir=p.FsC({type:Lt,selectors:[["ng-template","matExpansionPanelContent",""]]}),Lt})(),Nn=0;const Et=new p.nKC("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Rt=(()=>{class Lt extends O{constructor(it,dt,$t,Pn,qn,Pi,hi){super(it,dt,$t),this._viewContainerRef=Pn,this._animationMode=Pi,this._hideToggle=!1,this.afterExpand=new p.bkB,this.afterCollapse=new p.bkB,this._inputChanges=new F.B,this._headerId="mat-expansion-panel-header-"+Nn++,this._bodyAnimationDone=new F.B,this.accordion=it,this._document=qn,this._bodyAnimationDone.pipe((0,ee.F)((Ci,qt)=>Ci.fromState===qt.fromState&&Ci.toState===qt.toState)).subscribe(Ci=>{"void"!==Ci.fromState&&("expanded"===Ci.toState?this.afterExpand.emit():"collapsed"===Ci.toState&&this.afterCollapse.emit())}),hi&&(this.hideToggle=hi.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(it){this._hideToggle=(0,T.he)(it)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(it){this._togglePosition=it}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe((0,be.Z)(null),(0,me.p)(()=>this.expanded&&!this._portal),(0,Ne.s)(1)).subscribe(()=>{this._portal=new k.VA(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(it){this._inputChanges.next(it)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const it=this._document.activeElement,dt=this._body.nativeElement;return it===dt||dt.contains(it)}return!1}}return Lt.\u0275fac=function(it){return new(it||Lt)(p.rXU(Ot,12),p.rXU(p.gRc),p.rXU(m.zP),p.rXU(p.c1b),p.rXU(A.qQ),p.rXU(p.bc$,8),p.rXU(Et,8))},Lt.\u0275cmp=p.VBU({type:Lt,selectors:[["mat-expansion-panel"]],contentQueries:function(it,dt,$t){if(1&it&&p.wni($t,An,5),2&it){let Pn;p.mGM(Pn=p.lsd())&&(dt._lazyContent=Pn.first)}},viewQuery:function(it,dt){if(1&it&&p.GBs(ae,5),2&it){let $t;p.mGM($t=p.lsd())&&(dt._body=$t.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(it,dt){2&it&&p.AVh("mat-expanded",dt.expanded)("_mat-animation-noopable","NoopAnimations"===dt._animationMode)("mat-expansion-panel-spacing",dt._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[p.Jv_([{provide:Ot,useValue:void 0}]),p.Vt3,p.OA$],ngContentSelectors:fe,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(it,dt){if(1&it){const $t=p.RV6();p.NAR(de),p.SdG(0),p.j41(1,"div",1,0),p.bIt("@bodyExpansion.done",function(qn){return p.eBV($t),p.Njj(dt._bodyAnimationDone.next(qn))}),p.j41(3,"div",2),p.SdG(4,1),p.DNE(5,Re,0,0,"ng-template",3),p.k0s(),p.SdG(6,2),p.k0s()}2&it&&(p.R7$(),p.Y8G("@bodyExpansion",dt._getExpandedState())("id",dt.id),p.BMQ("aria-labelledby",dt._headerId),p.R7$(4),p.Y8G("cdkPortalOutlet",dt._portal))},dependencies:[k.I3],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}\n'],encapsulation:2,data:{animation:[Cn.bodyExpansion]},changeDetection:0}),Lt})();class Dt{}const en=(0,H.BF)(Dt);let qe=(()=>{class Lt extends en{constructor(it,dt,$t,Pn,qn,Pi,hi){super(),this.panel=it,this._element=dt,this._focusMonitor=$t,this._changeDetectorRef=Pn,this._animationMode=Pi,this._parentChangeSubscription=x.yU.EMPTY;const Ci=it.accordion?it.accordion._stateChanges.pipe((0,me.p)(qt=>!(!qt.hideToggle&&!qt.togglePosition))):Ve.w;this.tabIndex=parseInt(hi||"")||0,this._parentChangeSubscription=(0,Le.h)(it.opened,it.closed,Ci,it._inputChanges.pipe((0,me.p)(qt=>!!(qt.hideToggle||qt.disabled||qt.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),it.closed.pipe((0,me.p)(()=>it._containsFocus())).subscribe(()=>$t.focusVia(dt,"program")),qn&&(this.expandedHeight=qn.expandedHeight,this.collapsedHeight=qn.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const it=this._isExpanded();return it&&this.expandedHeight?this.expandedHeight:!it&&this.collapsedHeight?this.collapsedHeight:null}_keydown(it){switch(it.keyCode){case Be.t6:case Be.Fm:(0,Be.rp)(it)||(it.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(it))}}focus(it,dt){it?this._focusMonitor.focusVia(this._element,it,dt):this._element.nativeElement.focus(dt)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(it=>{it&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return Lt.\u0275fac=function(it){return new(it||Lt)(p.rXU(Rt,1),p.rXU(p.aKT),p.rXU(Q.FN),p.rXU(p.gRc),p.rXU(Et,8),p.rXU(p.bc$,8),p.kS0("tabindex"))},Lt.\u0275cmp=p.VBU({type:Lt,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(it,dt){1&it&&p.bIt("click",function(){return dt._toggle()})("keydown",function(Pn){return dt._keydown(Pn)}),2&it&&(p.BMQ("id",dt.panel._headerId)("tabindex",dt.tabIndex)("aria-controls",dt._getPanelId())("aria-expanded",dt._isExpanded())("aria-disabled",dt.panel.disabled),p.xc7("height",dt._getHeaderHeight()),p.AVh("mat-expanded",dt._isExpanded())("mat-expansion-toggle-indicator-after","after"===dt._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===dt._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===dt._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[p.Vt3],ngContentSelectors:Xe,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(it,dt){1&it&&(p.NAR(_e),p.j41(0,"span",0),p.SdG(1),p.SdG(2,1),p.SdG(3,2),p.k0s(),p.DNE(4,Ye,1,1,"span",1)),2&it&&(p.R7$(4),p.Y8G("ngIf",dt._showToggle()))},dependencies:[A.bT],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[Cn.indicatorRotate]},changeDetection:0}),Lt})(),We=(()=>{class Lt{}return Lt.\u0275fac=function(it){return new(it||Lt)},Lt.\u0275dir=p.FsC({type:Lt,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),Lt})(),ge=(()=>{class Lt{}return Lt.\u0275fac=function(it){return new(it||Lt)},Lt.\u0275dir=p.FsC({type:Lt,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),Lt})(),mt=(()=>{class Lt extends q{constructor(){super(...arguments),this._ownHeaders=new p.rOR,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(it){this._hideToggle=(0,T.he)(it)}ngAfterContentInit(){this._headers.changes.pipe((0,be.Z)(this._headers)).subscribe(it=>{this._ownHeaders.reset(it.filter(dt=>dt.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Q.Bu(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(it){this._keyManager.onKeydown(it)}_handleHeaderFocus(it){this._keyManager.updateActiveItem(it)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return Lt.\u0275fac=(()=>{let bn;return function(dt){return(bn||(bn=p.xGo(Lt)))(dt||Lt)}})(),Lt.\u0275dir=p.FsC({type:Lt,selectors:[["mat-accordion"]],contentQueries:function(it,dt,$t){if(1&it&&p.wni($t,qe,5),2&it){let Pn;p.mGM(Pn=p.lsd())&&(dt._headers=Pn)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(it,dt){2&it&&p.AVh("mat-accordion-multi",dt.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[p.Jv_([{provide:Ot,useExisting:Lt}]),p.Vt3]}),Lt})(),Ft=(()=>{class Lt{}return Lt.\u0275fac=function(it){return new(it||Lt)},Lt.\u0275mod=p.$C({type:Lt}),Lt.\u0275inj=p.G2t({imports:[[A.MD,H.yE,I,k.jc]]}),Lt})()},7421:(Jt,ke,E)=>{"use strict";E.d(ke,{MV:()=>qe,RG:()=>Ci,TL:()=>Cn,nJ:()=>We,qT:()=>Nn,rl:()=>hi,xb:()=>Pi,yw:()=>bn});var p=E(7948),m=E(177),T=E(4438),F=E(5230),x=E(989),ce=E(8363),ne=E(1413),q=E(7786),z=E(3726),O=E(9172),I=E(6977),k=E(6697),A=E(9969),H=E(8238);const Q=["connectionContainer"],ee=["inputContainer"],be=["label"],me=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ne=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];function Be(qt,Ie){1&qt&&(T.qex(0),T.j41(1,"div",15),T.nrm(2,"div",16)(3,"div",17)(4,"div",18),T.k0s(),T.j41(5,"div",19),T.nrm(6,"div",16)(7,"div",17)(8,"div",18),T.k0s(),T.bVm())}function Ve(qt,Ie){if(1&qt){const Te=T.RV6();T.j41(0,"div",20),T.bIt("cdkObserveContent",function(){T.eBV(Te);const kt=T.XpG();return T.Njj(kt.updateOutlineGap())}),T.SdG(1,1),T.k0s()}if(2&qt){const Te=T.XpG();T.Y8G("cdkObserveContentDisabled","outline"!=Te.appearance)}}function Le(qt,Ie){if(1&qt&&(T.qex(0),T.SdG(1,2),T.j41(2,"span"),T.EFF(3),T.k0s(),T.bVm()),2&qt){const Te=T.XpG(2);T.R7$(3),T.JRh(Te._control.placeholder)}}function J(qt,Ie){1&qt&&T.SdG(0,3,["*ngSwitchCase","true"])}function ae(qt,Ie){1&qt&&(T.j41(0,"span",23),T.EFF(1," *"),T.k0s())}function de(qt,Ie){if(1&qt){const Te=T.RV6();T.j41(0,"label",21,2),T.bIt("cdkObserveContent",function(){T.eBV(Te);const kt=T.XpG();return T.Njj(kt.updateOutlineGap())}),T.DNE(2,Le,4,1,"ng-container",13)(3,J,1,0,"ng-content",13)(4,ae,2,0,"span",22),T.k0s()}if(2&qt){const Te=T.XpG();T.AVh("mat-empty",Te._control.empty&&!Te._shouldAlwaysFloat())("mat-form-field-empty",Te._control.empty&&!Te._shouldAlwaysFloat())("mat-accent","accent"==Te.color)("mat-warn","warn"==Te.color),T.Y8G("cdkObserveContentDisabled","outline"!=Te.appearance)("id",Te._labelId)("ngSwitch",Te._hasLabel()),T.BMQ("for",Te._control.id)("aria-owns",Te._control.id),T.R7$(2),T.Y8G("ngSwitchCase",!1),T.R7$(),T.Y8G("ngSwitchCase",!0),T.R7$(),T.Y8G("ngIf",!Te.hideRequiredMarker&&Te._control.required&&!Te._control.disabled)}}function fe(qt,Ie){1&qt&&(T.j41(0,"div",24),T.SdG(1,4),T.k0s())}function Re(qt,Ie){if(1&qt&&(T.j41(0,"div",25),T.nrm(1,"span",26),T.k0s()),2&qt){const Te=T.XpG();T.R7$(),T.AVh("mat-accent","accent"==Te.color)("mat-warn","warn"==Te.color)}}function _e(qt,Ie){if(1&qt&&(T.j41(0,"div"),T.SdG(1,5),T.k0s()),2&qt){const Te=T.XpG();T.Y8G("@transitionMessages",Te._subscriptAnimationState)}}function Xe(qt,Ie){if(1&qt&&(T.j41(0,"div",30),T.EFF(1),T.k0s()),2&qt){const Te=T.XpG(2);T.Y8G("id",Te._hintLabelId),T.R7$(),T.JRh(Te.hintLabel)}}function Ye(qt,Ie){if(1&qt&&(T.j41(0,"div",27),T.DNE(1,Xe,2,2,"div",28),T.SdG(2,6),T.nrm(3,"div",29),T.SdG(4,7),T.k0s()),2&qt){const Te=T.XpG();T.Y8G("@transitionMessages",Te._subscriptAnimationState),T.R7$(),T.Y8G("ngIf",Te.hintLabel)}}let Ot=0;const un=new T.nKC("MatError");let Cn=(()=>{class qt{constructor(Te,Ge){this.id="mat-error-"+Ot++,Te||Ge.nativeElement.setAttribute("aria-live","polite")}}return qt.\u0275fac=function(Te){return new(Te||qt)(T.kS0("aria-live"),T.rXU(T.aKT))},qt.\u0275dir=T.FsC({type:qt,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(Te,Ge){2&Te&&T.BMQ("id",Ge.id)},inputs:{id:"id"},features:[T.Jv_([{provide:un,useExisting:qt}])]}),qt})();const An={transitionMessages:(0,A.hZ)("transitionMessages",[(0,A.wk)("enter",(0,A.iF)({opacity:1,transform:"translateY(0%)"})),(0,A.kY)("void => enter",[(0,A.iF)({opacity:0,transform:"translateY(-5px)"}),(0,A.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Nn=(()=>{class qt{}return qt.\u0275fac=function(Te){return new(Te||qt)},qt.\u0275dir=T.FsC({type:qt}),qt})(),Dt=0;const en=new T.nKC("MatHint");let qe=(()=>{class qt{constructor(){this.align="start",this.id="mat-hint-"+Dt++}}return qt.\u0275fac=function(Te){return new(Te||qt)},qt.\u0275dir=T.FsC({type:qt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(Te,Ge){2&Te&&(T.BMQ("id",Ge.id)("align",null),T.AVh("mat-form-field-hint-end","end"===Ge.align))},inputs:{align:"align",id:"id"},features:[T.Jv_([{provide:en,useExisting:qt}])]}),qt})(),We=(()=>{class qt{}return qt.\u0275fac=function(Te){return new(Te||qt)},qt.\u0275dir=T.FsC({type:qt,selectors:[["mat-label"]]}),qt})(),ge=(()=>{class qt{}return qt.\u0275fac=function(Te){return new(Te||qt)},qt.\u0275dir=T.FsC({type:qt,selectors:[["mat-placeholder"]]}),qt})();const mt=new T.nKC("MatPrefix"),Lt=new T.nKC("MatSuffix");let bn=(()=>{class qt{}return qt.\u0275fac=function(Te){return new(Te||qt)},qt.\u0275dir=T.FsC({type:qt,selectors:[["","matSuffix",""]],features:[T.Jv_([{provide:Lt,useExisting:qt}])]}),qt})(),it=0;const Pn=(0,F.Zc)(class{constructor(qt){this._elementRef=qt}},"primary"),qn=new T.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Pi=new T.nKC("MatFormField");let hi=(()=>{class qt extends Pn{constructor(Te,Ge,kt,Gt,En,Yn,Mi){super(Te),this._changeDetectorRef=Ge,this._dir=kt,this._defaults=Gt,this._platform=En,this._ngZone=Yn,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ne.B,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+it++,this._labelId="mat-form-field-label-"+it++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Mi,this.appearance=Gt&&Gt.appearance?Gt.appearance:"legacy",this._hideRequiredMarker=!(!Gt||null==Gt.hideRequiredMarker)&&Gt.hideRequiredMarker}get appearance(){return this._appearance}set appearance(Te){const Ge=this._appearance;this._appearance=Te||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&Ge!==Te&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Te){this._hideRequiredMarker=(0,ce.he)(Te)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Te){this._hintLabel=Te,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Te){Te!==this._floatLabel&&(this._floatLabel=Te||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Te){this._explicitFormFieldControl=Te}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Te=this._control;Te.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Te.controlType}`),Te.stateChanges.pipe((0,O.Z)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Te.ngControl&&Te.ngControl.valueChanges&&Te.ngControl.valueChanges.pipe((0,I.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,I.Q)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,q.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,O.Z)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,O.Z)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,I.Q)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Te){const Ge=this._control?this._control.ngControl:null;return Ge&&Ge[Te]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,z.R)(this._label.nativeElement,"transitionend").pipe((0,k.s)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Te=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Te.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ge=this._hintChildren?this._hintChildren.find(Gt=>"start"===Gt.align):null,kt=this._hintChildren?this._hintChildren.find(Gt=>"end"===Gt.align):null;Ge?Te.push(Ge.id):this._hintLabel&&Te.push(this._hintLabelId),kt&&Te.push(kt.id)}else this._errorChildren&&Te.push(...this._errorChildren.map(Ge=>Ge.id));this._control.setDescribedByIds(Te)}}_validateControlChild(){}updateOutlineGap(){const Te=this._label?this._label.nativeElement:null,Ge=this._connectionContainerRef.nativeElement,kt=".mat-form-field-outline-start",Gt=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Te||!Te.children.length||!Te.textContent.trim()){const bi=Ge.querySelectorAll(`${kt}, ${Gt}`);for(let rr=0;rr<bi.length;rr++)bi[rr].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let En=0,Yn=0;const Mi=Ge.querySelectorAll(kt),yi=Ge.querySelectorAll(Gt);if(this._label&&this._label.nativeElement.children.length){const bi=Ge.getBoundingClientRect();if(0===bi.width&&0===bi.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const rr=this._getStartEnd(bi),br=Te.children,Si=this._getStartEnd(br[0].getBoundingClientRect());let Ar=0;for(let $i=0;$i<br.length;$i++)Ar+=br[$i].offsetWidth;En=Math.abs(Si-rr)-5,Yn=Ar>0?.75*Ar+10:0}for(let bi=0;bi<Mi.length;bi++)Mi[bi].style.width=`${En}px`;for(let bi=0;bi<yi.length;bi++)yi[bi].style.width=`${Yn}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Te){return this._dir&&"rtl"===this._dir.value?Te.right:Te.left}_isAttachedToDOM(){const Te=this._elementRef.nativeElement;if(Te.getRootNode){const Ge=Te.getRootNode();return Ge&&Ge!==Te}return document.documentElement.contains(Te)}}return qt.\u0275fac=function(Te){return new(Te||qt)(T.rXU(T.aKT),T.rXU(T.gRc),T.rXU(x.dS,8),T.rXU(qn,8),T.rXU(H.OD),T.rXU(T.SKi),T.rXU(T.bc$,8))},qt.\u0275cmp=T.VBU({type:qt,selectors:[["mat-form-field"]],contentQueries:function(Te,Ge,kt){if(1&Te&&(T.wni(kt,Nn,5),T.wni(kt,Nn,7),T.wni(kt,We,5),T.wni(kt,We,7),T.wni(kt,ge,5),T.wni(kt,un,5),T.wni(kt,en,5),T.wni(kt,mt,5),T.wni(kt,Lt,5)),2&Te){let Gt;T.mGM(Gt=T.lsd())&&(Ge._controlNonStatic=Gt.first),T.mGM(Gt=T.lsd())&&(Ge._controlStatic=Gt.first),T.mGM(Gt=T.lsd())&&(Ge._labelChildNonStatic=Gt.first),T.mGM(Gt=T.lsd())&&(Ge._labelChildStatic=Gt.first),T.mGM(Gt=T.lsd())&&(Ge._placeholderChild=Gt.first),T.mGM(Gt=T.lsd())&&(Ge._errorChildren=Gt),T.mGM(Gt=T.lsd())&&(Ge._hintChildren=Gt),T.mGM(Gt=T.lsd())&&(Ge._prefixChildren=Gt),T.mGM(Gt=T.lsd())&&(Ge._suffixChildren=Gt)}},viewQuery:function(Te,Ge){if(1&Te&&(T.GBs(Q,7),T.GBs(ee,5),T.GBs(be,5)),2&Te){let kt;T.mGM(kt=T.lsd())&&(Ge._connectionContainerRef=kt.first),T.mGM(kt=T.lsd())&&(Ge._inputContainerRef=kt.first),T.mGM(kt=T.lsd())&&(Ge._label=kt.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Te,Ge){2&Te&&T.AVh("mat-form-field-appearance-standard","standard"==Ge.appearance)("mat-form-field-appearance-fill","fill"==Ge.appearance)("mat-form-field-appearance-outline","outline"==Ge.appearance)("mat-form-field-appearance-legacy","legacy"==Ge.appearance)("mat-form-field-invalid",Ge._control.errorState)("mat-form-field-can-float",Ge._canLabelFloat())("mat-form-field-should-float",Ge._shouldLabelFloat())("mat-form-field-has-label",Ge._hasFloatingLabel())("mat-form-field-hide-placeholder",Ge._hideControlPlaceholder())("mat-form-field-disabled",Ge._control.disabled)("mat-form-field-autofilled",Ge._control.autofilled)("mat-focused",Ge._control.focused)("ng-untouched",Ge._shouldForward("untouched"))("ng-touched",Ge._shouldForward("touched"))("ng-pristine",Ge._shouldForward("pristine"))("ng-dirty",Ge._shouldForward("dirty"))("ng-valid",Ge._shouldForward("valid"))("ng-invalid",Ge._shouldForward("invalid"))("ng-pending",Ge._shouldForward("pending"))("_mat-animation-noopable",!Ge._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[T.Jv_([{provide:Pi,useExisting:qt}]),T.Vt3],ngContentSelectors:Ne,decls:15,vars:8,consts:[["connectionContainer",""],["inputContainer",""],["label",""],[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContent","cdkObserveContentDisabled"],[1,"mat-form-field-label",3,"cdkObserveContent","cdkObserveContentDisabled","id","ngSwitch"],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Te,Ge){if(1&Te){const kt=T.RV6();T.NAR(me),T.j41(0,"div",3)(1,"div",4,0),T.bIt("click",function(En){return T.eBV(kt),T.Njj(Ge._control.onContainerClick&&Ge._control.onContainerClick(En))}),T.DNE(3,Be,9,0,"ng-container",5)(4,Ve,2,1,"div",6),T.j41(5,"div",7,1),T.SdG(7),T.j41(8,"span",8),T.DNE(9,de,5,16,"label",9),T.k0s()(),T.DNE(10,fe,2,0,"div",10),T.k0s(),T.DNE(11,Re,2,4,"div",11),T.j41(12,"div",12),T.DNE(13,_e,2,1,"div",13)(14,Ye,5,2,"div",14),T.k0s()()}2&Te&&(T.R7$(3),T.Y8G("ngIf","outline"==Ge.appearance),T.R7$(),T.Y8G("ngIf",Ge._prefixChildren.length),T.R7$(5),T.Y8G("ngIf",Ge._hasFloatingLabel()),T.R7$(),T.Y8G("ngIf",Ge._suffixChildren.length),T.R7$(),T.Y8G("ngIf","outline"!=Ge.appearance),T.R7$(),T.Y8G("ngSwitch",Ge._getDisplayedMessages()),T.R7$(),T.Y8G("ngSwitchCase","error"),T.R7$(),T.Y8G("ngSwitchCase","hint"))},dependencies:[m.bT,p.Wv,m.ux,m.e1],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[An.transitionMessages]},changeDetection:0}),qt})(),Ci=(()=>{class qt{}return qt.\u0275fac=function(Te){return new(Te||qt)},qt.\u0275mod=T.$C({type:qt}),qt.\u0275inj=T.G2t({imports:[[m.MD,F.yE,p.w5],F.yE]}),qt})()},2471:(Jt,ke,E)=>{"use strict";E.d(ke,{An:()=>jt,m_:()=>Dt});var p=E(4438),m=E(5230),T=E(8363),F=E(177),x=E(7673),ce=E(8810),ne=E(7468),q=E(8359),z=E(8141),O=E(6354),I=E(9437),k=E(980),A=E(7647),H=E(6697),Q=E(1626),ee=E(345);const be=["*"];let me;function Be(en){return function Ne(){if(void 0===me&&(me=null,typeof window<"u")){const en=window;void 0!==en.trustedTypes&&(me=en.trustedTypes.createPolicy("angular#components",{createHTML:qe=>qe}))}return me}()?.createHTML(en)||en}function Ve(en){return Error(`Unable to find icon with the name "${en}"`)}function J(en){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${en}".`)}function ae(en){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${en}".`)}class de{constructor(qe,We,ge){this.url=qe,this.svgText=We,this.options=ge}}let fe=(()=>{class en{constructor(We,ge,mt,Ft){this._httpClient=We,this._sanitizer=ge,this._errorHandler=Ft,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=mt}addSvgIcon(We,ge,mt){return this.addSvgIconInNamespace("",We,ge,mt)}addSvgIconLiteral(We,ge,mt){return this.addSvgIconLiteralInNamespace("",We,ge,mt)}addSvgIconInNamespace(We,ge,mt,Ft){return this._addSvgIconConfig(We,ge,new de(mt,null,Ft))}addSvgIconResolver(We){return this._resolvers.push(We),this}addSvgIconLiteralInNamespace(We,ge,mt,Ft){const Lt=this._sanitizer.sanitize(p.WPN.HTML,mt);if(!Lt)throw ae(mt);const bn=Be(Lt);return this._addSvgIconConfig(We,ge,new de("",bn,Ft))}addSvgIconSet(We,ge){return this.addSvgIconSetInNamespace("",We,ge)}addSvgIconSetLiteral(We,ge){return this.addSvgIconSetLiteralInNamespace("",We,ge)}addSvgIconSetInNamespace(We,ge,mt){return this._addSvgIconSetConfig(We,new de(ge,null,mt))}addSvgIconSetLiteralInNamespace(We,ge,mt){const Ft=this._sanitizer.sanitize(p.WPN.HTML,ge);if(!Ft)throw ae(ge);const Lt=Be(Ft);return this._addSvgIconSetConfig(We,new de("",Lt,mt))}registerFontClassAlias(We,ge=We){return this._fontCssClassesByAlias.set(We,ge),this}classNameForFontAlias(We){return this._fontCssClassesByAlias.get(We)||We}setDefaultFontSetClass(We){return this._defaultFontSetClass=We,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(We){const ge=this._sanitizer.sanitize(p.WPN.RESOURCE_URL,We);if(!ge)throw J(We);const mt=this._cachedIconsByUrl.get(ge);return mt?(0,x.of)(Xe(mt)):this._loadSvgIconFromConfig(new de(We,null)).pipe((0,z.M)(Ft=>this._cachedIconsByUrl.set(ge,Ft)),(0,O.T)(Ft=>Xe(Ft)))}getNamedSvgIcon(We,ge=""){const mt=Ye(ge,We);let Ft=this._svgIconConfigs.get(mt);if(Ft)return this._getSvgFromConfig(Ft);if(Ft=this._getIconConfigFromResolvers(ge,We),Ft)return this._svgIconConfigs.set(mt,Ft),this._getSvgFromConfig(Ft);const Lt=this._iconSetConfigs.get(ge);return Lt?this._getSvgFromIconSetConfigs(We,Lt):(0,ce.$)(Ve(mt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(We){return We.svgText?(0,x.of)(Xe(this._svgElementFromConfig(We))):this._loadSvgIconFromConfig(We).pipe((0,O.T)(ge=>Xe(ge)))}_getSvgFromIconSetConfigs(We,ge){const mt=this._extractIconWithNameFromAnySet(We,ge);if(mt)return(0,x.of)(mt);const Ft=ge.filter(Lt=>!Lt.svgText).map(Lt=>this._loadSvgIconSetFromConfig(Lt).pipe((0,I.W)(bn=>{const dt=`Loading icon set URL: ${this._sanitizer.sanitize(p.WPN.RESOURCE_URL,Lt.url)} failed: ${bn.message}`;return this._errorHandler.handleError(new Error(dt)),(0,x.of)(null)})));return(0,ne.p)(Ft).pipe((0,O.T)(()=>{const Lt=this._extractIconWithNameFromAnySet(We,ge);if(!Lt)throw Ve(We);return Lt}))}_extractIconWithNameFromAnySet(We,ge){for(let mt=ge.length-1;mt>=0;mt--){const Ft=ge[mt];if(Ft.svgText&&Ft.svgText.toString().indexOf(We)>-1){const Lt=this._svgElementFromConfig(Ft),bn=this._extractSvgIconFromSet(Lt,We,Ft.options);if(bn)return bn}}return null}_loadSvgIconFromConfig(We){return this._fetchIcon(We).pipe((0,z.M)(ge=>We.svgText=ge),(0,O.T)(()=>this._svgElementFromConfig(We)))}_loadSvgIconSetFromConfig(We){return We.svgText?(0,x.of)(null):this._fetchIcon(We).pipe((0,z.M)(ge=>We.svgText=ge))}_extractSvgIconFromSet(We,ge,mt){const Ft=We.querySelector(`[id="${ge}"]`);if(!Ft)return null;const Lt=Ft.cloneNode(!0);if(Lt.removeAttribute("id"),"svg"===Lt.nodeName.toLowerCase())return this._setSvgAttributes(Lt,mt);if("symbol"===Lt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Lt),mt);const bn=this._svgElementFromString(Be("<svg></svg>"));return bn.appendChild(Lt),this._setSvgAttributes(bn,mt)}_svgElementFromString(We){const ge=this._document.createElement("DIV");ge.innerHTML=We;const mt=ge.querySelector("svg");if(!mt)throw Error("<svg> tag not found");return mt}_toSvgElement(We){const ge=this._svgElementFromString(Be("<svg></svg>")),mt=We.attributes;for(let Ft=0;Ft<mt.length;Ft++){const{name:Lt,value:bn}=mt[Ft];"id"!==Lt&&ge.setAttribute(Lt,bn)}for(let Ft=0;Ft<We.childNodes.length;Ft++)We.childNodes[Ft].nodeType===this._document.ELEMENT_NODE&&ge.appendChild(We.childNodes[Ft].cloneNode(!0));return ge}_setSvgAttributes(We,ge){return We.setAttribute("fit",""),We.setAttribute("height","100%"),We.setAttribute("width","100%"),We.setAttribute("preserveAspectRatio","xMidYMid meet"),We.setAttribute("focusable","false"),ge&&ge.viewBox&&We.setAttribute("viewBox",ge.viewBox),We}_fetchIcon(We){const{url:ge,options:mt}=We,Ft=mt?.withCredentials??!1;if(!this._httpClient)throw function Le(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==ge)throw Error(`Cannot fetch icon from URL "${ge}".`);const Lt=this._sanitizer.sanitize(p.WPN.RESOURCE_URL,ge);if(!Lt)throw J(ge);const bn=this._inProgressUrlFetches.get(Lt);if(bn)return bn;const it=this._httpClient.get(Lt,{responseType:"text",withCredentials:Ft}).pipe((0,O.T)(dt=>Be(dt)),(0,k.j)(()=>this._inProgressUrlFetches.delete(Lt)),(0,A.u)());return this._inProgressUrlFetches.set(Lt,it),it}_addSvgIconConfig(We,ge,mt){return this._svgIconConfigs.set(Ye(We,ge),mt),this}_addSvgIconSetConfig(We,ge){const mt=this._iconSetConfigs.get(We);return mt?mt.push(ge):this._iconSetConfigs.set(We,[ge]),this}_svgElementFromConfig(We){if(!We.svgElement){const ge=this._svgElementFromString(We.svgText);this._setSvgAttributes(ge,We.options),We.svgElement=ge}return We.svgElement}_getIconConfigFromResolvers(We,ge){for(let mt=0;mt<this._resolvers.length;mt++){const Ft=this._resolvers[mt](ge,We);if(Ft)return Ot(Ft)?new de(Ft.url,null,Ft.options):new de(Ft,null)}}}return en.\u0275fac=function(We){return new(We||en)(p.KVO(Q.Qq,8),p.KVO(ee.up),p.KVO(F.qQ,8),p.KVO(p.zcH))},en.\u0275prov=p.jDH({token:en,factory:en.\u0275fac,providedIn:"root"}),en})();function Xe(en){return en.cloneNode(!0)}function Ye(en,qe){return en+":"+qe}function Ot(en){return!(!en.url||!en.options)}const un=(0,m.Zc)(class{constructor(en){this._elementRef=en}}),Cn=new p.nKC("mat-icon-location",{providedIn:"root",factory:function An(){const en=(0,p.WQX)(F.qQ),qe=en?en.location:null;return{getPathname:()=>qe?qe.pathname+qe.search:""}}}),Nn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Et=Nn.map(en=>`[${en}]`).join(", "),Rt=/^url\(['"]?#(.*?)['"]?\)$/;let jt=(()=>{class en extends un{constructor(We,ge,mt,Ft,Lt){super(We),this._iconRegistry=ge,this._location=Ft,this._errorHandler=Lt,this._inline=!1,this._currentIconFetch=q.yU.EMPTY,mt||We.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(We){this._inline=(0,T.he)(We)}get svgIcon(){return this._svgIcon}set svgIcon(We){We!==this._svgIcon&&(We?this._updateSvgIcon(We):this._svgIcon&&this._clearSvgElement(),this._svgIcon=We)}get fontSet(){return this._fontSet}set fontSet(We){const ge=this._cleanupFontValue(We);ge!==this._fontSet&&(this._fontSet=ge,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(We){const ge=this._cleanupFontValue(We);ge!==this._fontIcon&&(this._fontIcon=ge,this._updateFontIconClasses())}_splitIconName(We){if(!We)return["",""];const ge=We.split(":");switch(ge.length){case 1:return["",ge[0]];case 2:return ge;default:throw Error(`Invalid icon name: "${We}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const We=this._elementsWithExternalReferences;if(We&&We.size){const ge=this._location.getPathname();ge!==this._previousPath&&(this._previousPath=ge,this._prependPathToReferences(ge))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(We){this._clearSvgElement();const ge=this._location.getPathname();this._previousPath=ge,this._cacheChildrenWithExternalReferences(We),this._prependPathToReferences(ge),this._elementRef.nativeElement.appendChild(We)}_clearSvgElement(){const We=this._elementRef.nativeElement;let ge=We.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();ge--;){const mt=We.childNodes[ge];(1!==mt.nodeType||"svg"===mt.nodeName.toLowerCase())&&mt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const We=this._elementRef.nativeElement,ge=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();ge!=this._previousFontSetClass&&(this._previousFontSetClass&&We.classList.remove(this._previousFontSetClass),ge&&We.classList.add(ge),this._previousFontSetClass=ge),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&We.classList.remove(this._previousFontIconClass),this.fontIcon&&We.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(We){return"string"==typeof We?We.trim().split(" ")[0]:We}_prependPathToReferences(We){const ge=this._elementsWithExternalReferences;ge&&ge.forEach((mt,Ft)=>{mt.forEach(Lt=>{Ft.setAttribute(Lt.name,`url('${We}#${Lt.value}')`)})})}_cacheChildrenWithExternalReferences(We){const ge=We.querySelectorAll(Et),mt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Ft=0;Ft<ge.length;Ft++)Nn.forEach(Lt=>{const bn=ge[Ft],it=bn.getAttribute(Lt),dt=it?it.match(Rt):null;if(dt){let $t=mt.get(bn);$t||($t=[],mt.set(bn,$t)),$t.push({name:Lt,value:dt[1]})}})}_updateSvgIcon(We){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),We){const[ge,mt]=this._splitIconName(We);ge&&(this._svgNamespace=ge),mt&&(this._svgName=mt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(mt,ge).pipe((0,H.s)(1)).subscribe(Ft=>this._setSvgElement(Ft),Ft=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${ge}:${mt}! ${Ft.message}`))})}}}return en.\u0275fac=function(We){return new(We||en)(p.rXU(p.aKT),p.rXU(fe),p.kS0("aria-hidden"),p.rXU(Cn),p.rXU(p.zcH))},en.\u0275cmp=p.VBU({type:en,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(We,ge){2&We&&(p.BMQ("data-mat-icon-type",ge._usingFontIcon()?"font":"svg")("data-mat-icon-name",ge._svgName||ge.fontIcon)("data-mat-icon-namespace",ge._svgNamespace||ge.fontSet),p.AVh("mat-icon-inline",ge.inline)("mat-icon-no-color","primary"!==ge.color&&"accent"!==ge.color&&"warn"!==ge.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[p.Vt3],ngContentSelectors:be,decls:1,vars:0,template:function(We,ge){1&We&&(p.NAR(),p.SdG(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),en})(),Dt=(()=>{class en{}return en.\u0275fac=function(We){return new(We||en)},en.\u0275mod=p.$C({type:en}),en.\u0275inj=p.G2t({imports:[[m.yE],m.yE]}),en})()},2788:(Jt,ke,E)=>{"use strict";E.d(ke,{Oh:()=>Q,fg:()=>Ne,fS:()=>Be});var p=E(8363),m=E(8238),T=E(4438),F=E(983),x=E(1413);const ce=(0,m.BQ)({passive:!0});let ne=(()=>{class Ve{constructor(J,ae){this._platform=J,this._ngZone=ae,this._monitoredElements=new Map}monitor(J){if(!this._platform.isBrowser)return F.w;const ae=(0,p.i8)(J),de=this._monitoredElements.get(ae);if(de)return de.subject;const fe=new x.B,Re="cdk-text-field-autofilled",_e=Xe=>{"cdk-text-field-autofill-start"!==Xe.animationName||ae.classList.contains(Re)?"cdk-text-field-autofill-end"===Xe.animationName&&ae.classList.contains(Re)&&(ae.classList.remove(Re),this._ngZone.run(()=>fe.next({target:Xe.target,isAutofilled:!1}))):(ae.classList.add(Re),this._ngZone.run(()=>fe.next({target:Xe.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{ae.addEventListener("animationstart",_e,ce),ae.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(ae,{subject:fe,unlisten:()=>{ae.removeEventListener("animationstart",_e,ce)}}),fe}stopMonitoring(J){const ae=(0,p.i8)(J),de=this._monitoredElements.get(ae);de&&(de.unlisten(),de.subject.complete(),ae.classList.remove("cdk-text-field-autofill-monitored"),ae.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(ae))}ngOnDestroy(){this._monitoredElements.forEach((J,ae)=>this.stopMonitoring(ae))}}return Ve.\u0275fac=function(J){return new(J||Ve)(T.KVO(m.OD),T.KVO(T.SKi))},Ve.\u0275prov=T.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})(),O=(()=>{class Ve{}return Ve.\u0275fac=function(J){return new(J||Ve)},Ve.\u0275mod=T.$C({type:Ve}),Ve.\u0275inj=T.G2t({}),Ve})();var I=E(9417),k=E(5230),A=E(7421);const Q=new T.nKC("MAT_INPUT_VALUE_ACCESSOR"),ee=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let be=0;const me=(0,k.J8)(class{constructor(Ve,Le,J,ae){this._defaultErrorStateMatcher=Ve,this._parentForm=Le,this._parentFormGroup=J,this.ngControl=ae}});let Ne=(()=>{class Ve extends me{constructor(J,ae,de,fe,Re,_e,Xe,Ye,Ot,un){super(_e,fe,Re,de),this._elementRef=J,this._platform=ae,this._autofillMonitor=Ye,this._formField=un,this._uid="mat-input-"+be++,this.focused=!1,this.stateChanges=new x.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Nn=>(0,m.MU)().has(Nn)),this._iOSKeyupListener=Nn=>{const Et=Nn.target;!Et.value&&0===Et.selectionStart&&0===Et.selectionEnd&&(Et.setSelectionRange(1,1),Et.setSelectionRange(0,0))};const Cn=this._elementRef.nativeElement,An=Cn.nodeName.toLowerCase();this._inputValueAccessor=Xe||Cn,this._previousNativeValue=this.value,this.id=this.id,ae.IOS&&Ot.runOutsideAngular(()=>{J.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===An,this._isTextarea="textarea"===An,this._isInFormField=!!un,this._isNativeSelect&&(this.controlType=Cn.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(J){this._disabled=(0,p.he)(J),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(J){this._id=J||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(I.k0.required)??!1}set required(J){this._required=(0,p.he)(J)}get type(){return this._type}set type(J){this._type=J||"text",this._validateType(),!this._isTextarea&&(0,m.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(J){J!==this.value&&(this._inputValueAccessor.value=J,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(J){this._readonly=(0,p.he)(J)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(J=>{this.autofilled=J.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(J){this._elementRef.nativeElement.focus(J)}_focusChanged(J){J!==this.focused&&(this.focused=J,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const J=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(J!==this._previousPlaceholder){const ae=this._elementRef.nativeElement;this._previousPlaceholder=J,J?ae.setAttribute("placeholder",J):ae.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const J=this._elementRef.nativeElement.value;this._previousNativeValue!==J&&(this._previousNativeValue=J,this.stateChanges.next())}_validateType(){ee.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let J=this._elementRef.nativeElement.validity;return J&&J.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const J=this._elementRef.nativeElement,ae=J.options[0];return this.focused||J.multiple||!this.empty||!!(J.selectedIndex>-1&&ae&&ae.label)}return this.focused||!this.empty}setDescribedByIds(J){J.length?this._elementRef.nativeElement.setAttribute("aria-describedby",J.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const J=this._elementRef.nativeElement;return this._isNativeSelect&&(J.multiple||J.size>1)}}return Ve.\u0275fac=function(J){return new(J||Ve)(T.rXU(T.aKT),T.rXU(m.OD),T.rXU(I.vO,10),T.rXU(I.cV,8),T.rXU(I.j4,8),T.rXU(k.es),T.rXU(Q,10),T.rXU(ne),T.rXU(T.SKi),T.rXU(A.xb,8))},Ve.\u0275dir=T.FsC({type:Ve,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(J,ae){1&J&&T.bIt("focus",function(){return ae._focusChanged(!0)})("blur",function(){return ae._focusChanged(!1)})("input",function(){return ae._onInput()}),2&J&&(T.Mr5("disabled",ae.disabled)("required",ae.required),T.BMQ("id",ae.id)("data-placeholder",ae.placeholder)("name",ae.name||null)("readonly",ae.readonly&&!ae._isNativeSelect||null)("aria-invalid",ae.empty&&ae.required?null:ae.errorState)("aria-required",ae.required),T.AVh("mat-input-server",ae._isServer)("mat-native-select-inline",ae._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[T.Mj6.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[T.Jv_([{provide:A.qT,useExisting:Ve}]),T.Vt3,T.OA$]}),Ve})(),Be=(()=>{class Ve{}return Ve.\u0275fac=function(J){return new(J||Ve)},Ve.\u0275mod=T.$C({type:Ve}),Ve.\u0275inj=T.G2t({providers:[k.es],imports:[[O,A.RG,k.yE],O,A.RG]}),Ve})()},6591:(Jt,ke,E)=>{"use strict";E.d(ke,{jt:()=>Re,sU:()=>_e,YE:()=>Ot,Fg:()=>jt,oh:()=>Et,p6:()=>Rt});var p=E(177),m=E(4438),T=E(5230),F=E(8363),x=E(1413),ce=E(6977),ne=E(9172),q=E(2223),z=E(9482),O=E(8854),I=E(9417);let A=(()=>{class Dt{}return Dt.\u0275fac=function(qe){return new(qe||Dt)},Dt.\u0275mod=m.$C({type:Dt}),Dt.\u0275inj=m.G2t({imports:[[T.yE],T.yE]}),Dt})();const H=["*"],Q='.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n',ee=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],be=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],me=["text"],Ne=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],Be=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];function Ve(Dt,en){if(1&Dt&&m.nrm(0,"mat-pseudo-checkbox",5),2&Dt){const qe=m.XpG();m.Y8G("state",qe.selected?"checked":"unchecked")("disabled",qe.disabled)}}const Le=(0,T.Ob)((0,T.GG)(class{})),J=(0,T.GG)(class{}),ae=new m.nKC("MatList"),de=new m.nKC("MatNavList");let Re=(()=>{class Dt extends Le{constructor(qe){super(),this._elementRef=qe,this._stateChanges=new x.B,"action-list"===this._getListType()&&qe.nativeElement.classList.add("mat-action-list")}_getListType(){const qe=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===qe?"list":"mat-action-list"===qe?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return Dt.\u0275fac=function(qe){return new(qe||Dt)(m.rXU(m.aKT))},Dt.\u0275cmp=m.VBU({type:Dt,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[m.Jv_([{provide:ae,useExisting:Dt}]),m.Vt3,m.OA$],ngContentSelectors:H,decls:1,vars:0,template:function(qe,We){1&qe&&(m.NAR(),m.SdG(0))},styles:[Q],encapsulation:2,changeDetection:0}),Dt})(),_e=(()=>{class Dt{}return Dt.\u0275fac=function(qe){return new(qe||Dt)},Dt.\u0275dir=m.FsC({type:Dt,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),Dt})(),Xe=(()=>{class Dt{}return Dt.\u0275fac=function(qe){return new(qe||Dt)},Dt.\u0275dir=m.FsC({type:Dt,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),Dt})(),Ot=(()=>{class Dt extends J{constructor(qe,We,ge,mt){super(),this._element=qe,this._isInteractiveList=!1,this._destroyed=new x.B,this._disabled=!1,this._isInteractiveList=!!(ge||mt&&"action-list"===mt._getListType()),this._list=ge||mt;const Ft=this._getHostElement();"button"===Ft.nodeName.toLowerCase()&&!Ft.hasAttribute("type")&&Ft.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,ce.Q)(this._destroyed)).subscribe(()=>{We.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(qe){this._disabled=(0,F.he)(qe)}ngAfterContentInit(){(0,T.IK)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return Dt.\u0275fac=function(qe){return new(qe||Dt)(m.rXU(m.aKT),m.rXU(m.gRc),m.rXU(de,8),m.rXU(ae,8))},Dt.\u0275cmp=m.VBU({type:Dt,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(qe,We,ge){if(1&qe&&(m.wni(ge,_e,5),m.wni(ge,Xe,5),m.wni(ge,T.vu,5)),2&qe){let mt;m.mGM(mt=m.lsd())&&(We._avatar=mt.first),m.mGM(mt=m.lsd())&&(We._icon=mt.first),m.mGM(mt=m.lsd())&&(We._lines=mt)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(qe,We){2&qe&&m.AVh("mat-list-item-disabled",We.disabled)("mat-list-item-avatar",We._avatar||We._icon)("mat-list-item-with-avatar",We._avatar||We._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[m.Vt3],ngContentSelectors:be,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(qe,We){1&qe&&(m.NAR(ee),m.j41(0,"span",0),m.nrm(1,"span",1),m.SdG(2),m.j41(3,"span",2),m.SdG(4,1),m.k0s(),m.SdG(5,2),m.k0s()),2&qe&&(m.R7$(),m.Y8G("matRippleTrigger",We._getHostElement())("matRippleDisabled",We._isRippleDisabled()))},dependencies:[T.r6],encapsulation:2,changeDetection:0}),Dt})();const un=(0,T.GG)(class{}),Cn=(0,T.GG)(class{}),An={provide:I.kq,useExisting:(0,m.Rfq)(()=>Rt),multi:!0};class Nn{constructor(en,qe,We){this.source=en,this.option=qe,this.options=We}}let Et=(()=>{class Dt extends Cn{constructor(qe,We,ge){super(),this._element=qe,this._changeDetector=We,this.selectionList=ge,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new m.bkB,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(qe){this._color=qe}get value(){return this._value}set value(qe){this.selected&&!this.selectionList.compareWith(qe,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=qe}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(qe){const We=(0,F.he)(qe);We!==this._disabled&&(this._disabled=We,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(qe){const We=(0,F.he)(qe);We!==this._selected&&(this._setSelected(We),(We||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const qe=this.selectionList;qe._value&&qe._value.some(ge=>qe.compareWith(this._value,ge))&&this._setSelected(!0);const We=this._selected;Promise.resolve().then(()=>{(this._selected||We)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){(0,T.IK)(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const qe=this._hasFocus,We=this.selectionList._removeOptionFromList(this);qe&&We&&We.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(qe){return qe!==this._selected&&(this._selected=qe,qe?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(qe),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return Dt.\u0275fac=function(qe){return new(qe||Dt)(m.rXU(m.aKT),m.rXU(m.gRc),m.rXU((0,m.Rfq)(()=>Rt)))},Dt.\u0275cmp=m.VBU({type:Dt,selectors:[["mat-list-option"]],contentQueries:function(qe,We,ge){if(1&qe&&(m.wni(ge,_e,5),m.wni(ge,Xe,5),m.wni(ge,T.vu,5)),2&qe){let mt;m.mGM(mt=m.lsd())&&(We._avatar=mt.first),m.mGM(mt=m.lsd())&&(We._icon=mt.first),m.mGM(mt=m.lsd())&&(We._lines=mt)}},viewQuery:function(qe,We){if(1&qe&&m.GBs(me,5),2&qe){let ge;m.mGM(ge=m.lsd())&&(We._text=ge.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(qe,We){1&qe&&m.bIt("focus",function(){return We._handleFocus()})("blur",function(){return We._handleBlur()})("click",function(){return We._handleClick()}),2&qe&&(m.BMQ("aria-selected",We.selected)("aria-disabled",We.disabled)("tabindex",-1),m.AVh("mat-list-item-disabled",We.disabled)("mat-list-item-with-avatar",We._avatar||We._icon)("mat-primary","primary"===We.color)("mat-accent","primary"!==We.color&&"warn"!==We.color)("mat-warn","warn"===We.color)("mat-list-single-selected-option",We.selected&&!We.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[m.Vt3],ngContentSelectors:Be,decls:7,vars:5,consts:[["text",""],[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],[3,"state","disabled"]],template:function(qe,We){1&qe&&(m.NAR(Ne),m.j41(0,"div",1),m.nrm(1,"div",2),m.DNE(2,Ve,1,2,"mat-pseudo-checkbox",3),m.j41(3,"div",4,0),m.SdG(5),m.k0s(),m.SdG(6,1),m.k0s()),2&qe&&(m.AVh("mat-list-item-content-reverse","after"==We.checkboxPosition),m.R7$(),m.Y8G("matRippleTrigger",We._getHostElement())("matRippleDisabled",We._isRippleDisabled()),m.R7$(),m.Y8G("ngIf",We.selectionList.multiple))},dependencies:[T.wg,T.r6,p.bT],encapsulation:2,changeDetection:0}),Dt})(),Rt=(()=>{class Dt extends un{constructor(qe,We,ge,mt){super(),this._element=qe,this._changeDetector=ge,this._focusMonitor=mt,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new m.bkB,this.tabIndex=0,this.color="accent",this.compareWith=(Ft,Lt)=>Ft===Lt,this._disabled=!1,this.selectedOptions=new z.CB(this._multiple),this._tabIndex=-1,this._onChange=Ft=>{},this._destroyed=new x.B,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(qe){this._disabled=(0,F.he)(qe),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(qe){const We=(0,F.he)(qe);We!==this._multiple&&(this._multiple=We,this.selectedOptions=new z.CB(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new q.Bu(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe((0,ce.Q)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe((0,ne.Z)(null),(0,ce.Q)(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe((0,ce.Q)(this._destroyed)).subscribe(qe=>{if(qe.added)for(let We of qe.added)We.selected=!0;if(qe.removed)for(let We of qe.removed)We.selected=!1}),this._focusMonitor?.monitor(this._element).pipe((0,ce.Q)(this._destroyed)).subscribe(qe=>{if("keyboard"===qe||"program"===qe){let We=0;for(let ge=0;ge<this.options.length;ge++)if(this.options.get(ge)?.selected){We=ge;break}this._keyManager.setActiveItem(We)}})}ngOnChanges(qe){const We=qe.disableRipple,ge=qe.color;(We&&!We.firstChange||ge&&!ge.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._focusMonitor?.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(qe){this._element.nativeElement.focus(qe)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(qe){this._keyManager.updateActiveItem(qe)}_removeOptionFromList(qe){const We=this._getOptionIndex(qe);return We>-1&&this._keyManager.activeItemIndex===We&&(We>0?this._keyManager.updateActiveItem(We-1):0===We&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(We+1,this.options.length-1))),this._keyManager.activeItem}_keydown(qe){const We=qe.keyCode,ge=this._keyManager,mt=ge.activeItemIndex,Ft=(0,O.rp)(qe);switch(We){case O.t6:case O.Fm:!Ft&&!ge.isTyping()&&(this._toggleFocusedOption(),qe.preventDefault());break;default:if(We===O.A&&this.multiple&&(0,O.rp)(qe,"ctrlKey")&&!ge.isTyping()){const Lt=this.options.some(bn=>!bn.disabled&&!bn.selected);this._setAllOptionsSelected(Lt,!0,!0),qe.preventDefault()}else ge.onKeydown(qe)}this.multiple&&(We===O.i7||We===O.n6)&&qe.shiftKey&&ge.activeItemIndex!==mt&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const qe=this._getSelectedOptionValues();this._onChange(qe),this._value=qe}}_emitChangeEvent(qe){this.selectionChange.emit(new Nn(this,qe[0],qe))}writeValue(qe){this._value=qe,this.options&&this._setOptionsFromValues(qe||[])}setDisabledState(qe){this.disabled=qe}registerOnChange(qe){this._onChange=qe}registerOnTouched(qe){this._onTouched=qe}_setOptionsFromValues(qe){this.options.forEach(We=>We._setSelected(!1)),qe.forEach(We=>{const ge=this.options.find(mt=>!mt.selected&&this.compareWith(mt.value,We));ge&&ge._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(qe=>qe.selected).map(qe=>qe.value)}_toggleFocusedOption(){let qe=this._keyManager.activeItemIndex;if(null!=qe&&this._isValidIndex(qe)){let We=this.options.toArray()[qe];We&&!We.disabled&&(this._multiple||!We.selected)&&(We.toggle(),this._emitChangeEvent([We]))}}_setAllOptionsSelected(qe,We,ge){const mt=[];return this.options.forEach(Ft=>{(!We||!Ft.disabled)&&Ft._setSelected(qe)&&mt.push(Ft)}),mt.length&&(this._reportValueChange(),ge&&this._emitChangeEvent(mt)),mt}_isValidIndex(qe){return qe>=0&&qe<this.options.length}_getOptionIndex(qe){return this.options.toArray().indexOf(qe)}_markOptionsForCheck(){this.options&&this.options.forEach(qe=>qe._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return Dt.\u0275fac=function(qe){return new(qe||Dt)(m.rXU(m.aKT),m.kS0("tabindex"),m.rXU(m.gRc),m.rXU(q.FN))},Dt.\u0275cmp=m.VBU({type:Dt,selectors:[["mat-selection-list"]],contentQueries:function(qe,We,ge){if(1&qe&&m.wni(ge,Et,5),2&qe){let mt;m.mGM(mt=m.lsd())&&(We.options=mt)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(qe,We){1&qe&&m.bIt("keydown",function(mt){return We._keydown(mt)}),2&qe&&m.BMQ("aria-multiselectable",We.multiple)("aria-disabled",We.disabled.toString())("tabindex",We._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[m.Jv_([An]),m.Vt3,m.OA$],ngContentSelectors:H,decls:1,vars:0,template:function(qe,We){1&qe&&(m.NAR(),m.SdG(0))},styles:[Q],encapsulation:2,changeDetection:0}),Dt})(),jt=(()=>{class Dt{}return Dt.\u0275fac=function(qe){return new(qe||Dt)},Dt.\u0275mod=m.$C({type:Dt}),Dt.\u0275inj=m.G2t({imports:[[T.Np,T.pZ,T.yE,T.O5,p.MD],T.Np,T.yE,T.O5,A]}),Dt})()},2173:(Jt,ke,E)=>{"use strict";E.d(ke,{HM:()=>H,PO:()=>ee});var p=E(4438),m=E(177),T=E(5230),F=E(8363),x=E(8359),ce=E(3726),ne=E(5964);const q=["primaryValueBar"],z=(0,T.Zc)(class{constructor(be){this._elementRef=be}},"primary"),O=new p.nKC("mat-progress-bar-location",{providedIn:"root",factory:function I(){const be=(0,p.WQX)(m.qQ),me=be?be.location:null;return{getPathname:()=>me?me.pathname+me.search:""}}}),k=new p.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let A=0,H=(()=>{class be extends z{constructor(Ne,Be,Ve,Le,J,ae){super(Ne),this._ngZone=Be,this._animationMode=Ve,this._changeDetectorRef=ae,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new p.bkB,this._animationEndSubscription=x.yU.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+A++;const de=Le?Le.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${de}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===Ve,J&&(J.color&&(this.color=this.defaultColor=J.color),this.mode=J.mode||this.mode)}get value(){return this._value}set value(Ne){this._value=Q((0,F.OE)(Ne)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(Ne){this._bufferValue=Q(Ne||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const Ne=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,ce.R)(Ne,"transitionend").pipe((0,ne.p)(Be=>Be.target===Ne)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return be.\u0275fac=function(Ne){return new(Ne||be)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(p.bc$,8),p.rXU(O,8),p.rXU(k,8),p.rXU(p.gRc))},be.\u0275cmp=p.VBU({type:be,selectors:[["mat-progress-bar"]],viewQuery:function(Ne,Be){if(1&Ne&&p.GBs(q,5),2&Ne){let Ve;p.mGM(Ve=p.lsd())&&(Be._primaryValueBar=Ve.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(Ne,Be){2&Ne&&(p.BMQ("aria-valuenow","indeterminate"===Be.mode||"query"===Be.mode?null:Be.value)("mode",Be.mode),p.AVh("_mat-animation-noopable",Be._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[p.Vt3],decls:10,vars:4,consts:[["primaryValueBar",""],["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(Ne,Be){1&Ne&&(p.j41(0,"div",1),p.qSk(),p.j41(1,"svg",2)(2,"defs")(3,"pattern",3),p.nrm(4,"circle",4),p.k0s()(),p.nrm(5,"rect",5),p.k0s(),p.joV(),p.nrm(6,"div",6)(7,"div",7,0)(9,"div",8),p.k0s()),2&Ne&&(p.R7$(3),p.Y8G("id",Be.progressbarId),p.R7$(2),p.BMQ("fill",Be._rectangleFillValue),p.R7$(),p.Y8G("ngStyle",Be._bufferTransform()),p.R7$(),p.Y8G("ngStyle",Be._primaryTransform()))},dependencies:[m.B3],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),be})();function Q(be,me=0,Ne=100){return Math.max(me,Math.min(Ne,be))}let ee=(()=>{class be{}return be.\u0275fac=function(Ne){return new(Ne||be)},be.\u0275mod=p.$C({type:be}),be.\u0275inj=p.G2t({imports:[[m.MD,T.yE],T.yE]}),be})()},9865:(Jt,ke,E)=>{"use strict";E.d(ke,{VT:()=>be,Wk:()=>Le,_g:()=>Ve});var p=E(4438),m=E(5230),T=E(2223),F=E(8363),x=E(9482),ce=E(9417);const ne=["input"],q=["*"],z=J=>({enterDuration:J}),O=new p.nKC("mat-radio-default-options",{providedIn:"root",factory:function I(){return{color:"accent"}}});let k=0;const A={provide:ce.kq,useExisting:(0,p.Rfq)(()=>be),multi:!0};class H{constructor(ae,de){this.source=ae,this.value=de}}const Q=new p.nKC("MatRadioGroup");let ee=(()=>{class J{constructor(de){this._changeDetector=de,this._value=null,this._name="mat-radio-group-"+k++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new p.bkB}get name(){return this._name}set name(de){this._name=de,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(de){this._labelPosition="before"===de?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(de){this._value!==de&&(this._value=de,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(de){this._selected=de,this.value=de?de.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(de){this._disabled=(0,F.he)(de),this._markRadiosForCheck()}get required(){return this._required}set required(de){this._required=(0,F.he)(de),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(de=>{de.name=this.name,de._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(fe=>{fe.checked=this.value===fe.value,fe.checked&&(this._selected=fe)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new H(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(de=>de._markForCheck())}writeValue(de){this.value=de,this._changeDetector.markForCheck()}registerOnChange(de){this._controlValueAccessorChangeFn=de}registerOnTouched(de){this.onTouched=de}setDisabledState(de){this.disabled=de,this._changeDetector.markForCheck()}}return J.\u0275fac=function(de){return new(de||J)(p.rXU(p.gRc))},J.\u0275dir=p.FsC({type:J,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),J})(),be=(()=>{class J extends ee{}return J.\u0275fac=(()=>{let ae;return function(fe){return(ae||(ae=p.xGo(J)))(fe||J)}})(),J.\u0275dir=p.FsC({type:J,selectors:[["mat-radio-group"]],contentQueries:function(de,fe,Re){if(1&de&&p.wni(Re,Ve,5),2&de){let _e;p.mGM(_e=p.lsd())&&(fe._radios=_e)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[p.Jv_([A,{provide:Q,useExisting:J}]),p.Vt3]}),J})();class me{constructor(ae){this._elementRef=ae}}const Ne=(0,m.GG)((0,m.BF)(me));let Be=(()=>{class J extends Ne{constructor(de,fe,Re,_e,Xe,Ye,Ot,un){super(fe),this._changeDetector=Re,this._focusMonitor=_e,this._radioDispatcher=Xe,this._providerOverride=Ot,this._uniqueId="mat-radio-"+ ++k,this.id=this._uniqueId,this.change=new p.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=de,this._noopAnimations="NoopAnimations"===Ye,un&&(this.tabIndex=(0,F.OE)(un,0)),this._removeUniqueSelectionListener=Xe.listen((Cn,An)=>{Cn!==this.id&&An===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(de){const fe=(0,F.he)(de);this._checked!==fe&&(this._checked=fe,fe&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!fe&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),fe&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(de){this._value!==de&&(this._value=de,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===de),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(de){this._labelPosition=de}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(de){this._setDisabled((0,F.he)(de))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(de){this._required=(0,F.he)(de)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(de){this._color=de}get inputId(){return`${this.id||this._uniqueId}-input`}focus(de,fe){fe?this._focusMonitor.focusVia(this._inputElement,fe,de):this._inputElement.nativeElement.focus(de)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(de=>{!de&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new H(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(de){de.stopPropagation()}_onInputInteraction(de){if(de.stopPropagation(),!this.checked&&!this.disabled){const fe=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),fe&&this.radioGroup._emitChangeEvent())}}_setDisabled(de){this._disabled!==de&&(this._disabled=de,this._changeDetector.markForCheck())}_updateTabIndex(){const de=this.radioGroup;let fe;if(fe=de&&de.selected&&!this.disabled?de.selected===this?this.tabIndex:-1:this.tabIndex,fe!==this._previousTabIndex){const Re=this._inputElement?.nativeElement;Re&&(Re.setAttribute("tabindex",fe+""),this._previousTabIndex=fe)}}}return J.\u0275fac=function(de){p.QTQ()},J.\u0275dir=p.FsC({type:J,viewQuery:function(de,fe){if(1&de&&p.GBs(ne,5),2&de){let Re;p.mGM(Re=p.lsd())&&(fe._inputElement=Re.first)}},inputs:{id:"id",name:"name",ariaLabel:[p.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[p.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[p.Mj6.None,"aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[p.Vt3]}),J})(),Ve=(()=>{class J extends Be{constructor(de,fe,Re,_e,Xe,Ye,Ot,un){super(de,fe,Re,_e,Xe,Ye,Ot,un)}}return J.\u0275fac=function(de){return new(de||J)(p.rXU(Q,8),p.rXU(p.aKT),p.rXU(p.gRc),p.rXU(T.FN),p.rXU(x.zP),p.rXU(p.bc$,8),p.rXU(O,8),p.kS0("tabindex"))},J.\u0275cmp=p.VBU({type:J,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(de,fe){1&de&&p.bIt("focus",function(){return fe._inputElement.nativeElement.focus()}),2&de&&(p.BMQ("tabindex",null)("id",fe.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),p.AVh("mat-radio-checked",fe.checked)("mat-radio-disabled",fe.disabled)("_mat-animation-noopable",fe._noopAnimations)("mat-primary","primary"===fe.color)("mat-accent","accent"===fe.color)("mat-warn","warn"===fe.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[p.Vt3],ngContentSelectors:q,decls:13,vars:19,consts:[["label",""],["input",""],[1,"mat-radio-label"],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"change","click","id","checked","disabled","required"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(de,fe){if(1&de){const Re=p.RV6();p.NAR(),p.j41(0,"label",2,0)(2,"span",3),p.nrm(3,"span",4)(4,"span",5),p.j41(5,"input",6,1),p.bIt("change",function(Xe){return p.eBV(Re),p.Njj(fe._onInputInteraction(Xe))})("click",function(Xe){return p.eBV(Re),p.Njj(fe._onInputClick(Xe))}),p.k0s(),p.j41(7,"span",7),p.nrm(8,"span",8),p.k0s()(),p.j41(9,"span",9)(10,"span",10),p.EFF(11,"\xa0"),p.k0s(),p.SdG(12),p.k0s()()}if(2&de){const Re=p.sdS(1);p.BMQ("for",fe.inputId),p.R7$(5),p.Y8G("id",fe.inputId)("checked",fe.checked)("disabled",fe.disabled)("required",fe.required),p.BMQ("name",fe.name)("value",fe.value)("aria-label",fe.ariaLabel)("aria-labelledby",fe.ariaLabelledby)("aria-describedby",fe.ariaDescribedby),p.R7$(2),p.Y8G("matRippleTrigger",Re)("matRippleDisabled",fe._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",p.eq3(17,z,fe._noopAnimations?0:150)),p.R7$(2),p.AVh("mat-radio-label-before","before"==fe.labelPosition)}},dependencies:[m.r6],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),J})(),Le=(()=>{class J{}return J.\u0275fac=function(de){return new(de||J)},J.\u0275mod=p.$C({type:J}),J.\u0275inj=p.G2t({imports:[[m.pZ,m.yE],m.yE]}),J})()},2836:(Jt,ke,E)=>{"use strict";E.d(ke,{VO:()=>Pi,Ve:()=>hi});var p=E(4531),m=E(177),T=E(4438),F=E(5230),x=E(7421),ce=E(7266),ne=E(2223),q=E(989),z=E(8363),O=E(9482),I=E(8854),k=E(9417),A=E(1413),H=E(9030),Q=E(7786),ee=E(9172),be=E(5558),me=E(6697),Ne=E(5964),Be=E(6354),Ve=E(3294),Le=E(6977),J=E(9969);const ae=["trigger"],de=["panel"],fe=[[["mat-select-trigger"]],"*"],Re=["mat-select-trigger","*"];function _e(Ci,qt){if(1&Ci&&(T.j41(0,"span",9),T.EFF(1),T.k0s()),2&Ci){const Ie=T.XpG();T.R7$(),T.JRh(Ie.placeholder)}}function Xe(Ci,qt){if(1&Ci&&(T.j41(0,"span",13),T.EFF(1),T.k0s()),2&Ci){const Ie=T.XpG(2);T.R7$(),T.JRh(Ie.triggerValue)}}function Ye(Ci,qt){1&Ci&&T.SdG(0,0,["*ngSwitchCase","true"])}function Ot(Ci,qt){if(1&Ci&&(T.j41(0,"span",10),T.DNE(1,Xe,2,1,"span",11)(2,Ye,1,0,"ng-content",12),T.k0s()),2&Ci){const Ie=T.XpG();T.Y8G("ngSwitch",!!Ie.customTrigger),T.R7$(2),T.Y8G("ngSwitchCase",!0)}}function un(Ci,qt){if(1&Ci){const Ie=T.RV6();T.j41(0,"div",14)(1,"div",15,1),T.bIt("@transformPanel.done",function(Ge){T.eBV(Ie);const kt=T.XpG();return T.Njj(kt._panelDoneAnimatingStream.next(Ge.toState))})("keydown",function(Ge){T.eBV(Ie);const kt=T.XpG();return T.Njj(kt._handleKeydown(Ge))}),T.SdG(3,1),T.k0s()()}if(2&Ci){const Ie=T.XpG();T.Y8G("@transformPanelWrap",void 0),T.R7$(),T.ZvI("mat-select-panel ",Ie._getPanelTheme(),""),T.xc7("transform-origin",Ie._transformOrigin)("font-size",Ie._triggerFontSize,"px"),T.Y8G("ngClass",Ie.panelClass)("@transformPanel",Ie.multiple?"showing-multiple":"showing"),T.BMQ("id",Ie.id+"-panel")("aria-multiselectable",Ie.multiple)("aria-label",Ie.ariaLabel||null)("aria-labelledby",Ie._getPanelAriaLabelledby())}}const Cn={transformPanelWrap:(0,J.hZ)("transformPanelWrap",[(0,J.kY)("* => void",(0,J.P)("@transformPanel",[(0,J.MA)()],{optional:!0}))]),transformPanel:(0,J.hZ)("transformPanel",[(0,J.wk)("void",(0,J.iF)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,J.wk)("showing",(0,J.iF)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,J.wk)("showing-multiple",(0,J.iF)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,J.kY)("void => *",(0,J.i0)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,J.kY)("* => void",(0,J.i0)("100ms 25ms linear",(0,J.iF)({opacity:0})))])};let Rt=0;const mt=new T.nKC("mat-select-scroll-strategy"),Lt=new T.nKC("MAT_SELECT_CONFIG"),bn={provide:mt,deps:[p.hJ],useFactory:function Ft(Ci){return()=>Ci.scrollStrategies.reposition()}};class it{constructor(qt,Ie){this.source=qt,this.value=Ie}}const dt=(0,F.GG)((0,F.BF)((0,F.Ob)((0,F.J8)(class{constructor(Ci,qt,Ie,Te,Ge){this._elementRef=Ci,this._defaultErrorStateMatcher=qt,this._parentForm=Ie,this._parentFormGroup=Te,this.ngControl=Ge}})))),$t=new T.nKC("MatSelectTrigger");let qn=(()=>{class Ci extends dt{constructor(Ie,Te,Ge,kt,Gt,En,Yn,Mi,yi,bi,rr,br,Si,Ar){super(Gt,kt,Yn,Mi,bi),this._viewportRuler=Ie,this._changeDetectorRef=Te,this._ngZone=Ge,this._dir=En,this._parentFormField=yi,this._liveAnnouncer=Si,this._defaultOptions=Ar,this._panelOpen=!1,this._compareWith=($i,Gi)=>$i===Gi,this._uid="mat-select-"+Rt++,this._triggerAriaLabelledBy=null,this._destroy=new A.B,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Rt++,this._panelDoneAnimatingStream=new A.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,H.v)(()=>{const $i=this.options;return $i?$i.changes.pipe((0,ee.Z)($i),(0,be.n)(()=>(0,Q.h)(...$i.map(Gi=>Gi.onSelectionChange)))):this._ngZone.onStable.pipe((0,me.s)(1),(0,be.n)(()=>this.optionSelectionChanges))}),this.openedChange=new T.bkB,this._openedStream=this.openedChange.pipe((0,Ne.p)($i=>$i),(0,Be.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,Ne.p)($i=>!$i),(0,Be.T)(()=>{})),this.selectionChange=new T.bkB,this.valueChange=new T.bkB,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Ar?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Ar.typeaheadDebounceInterval),this._scrollStrategyFactory=br,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(rr)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(Ie){this._placeholder=Ie,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(k.k0.required)??!1}set required(Ie){this._required=(0,z.he)(Ie),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(Ie){this._multiple=(0,z.he)(Ie)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(Ie){this._disableOptionCentering=(0,z.he)(Ie)}get compareWith(){return this._compareWith}set compareWith(Ie){this._compareWith=Ie,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(Ie){this._assignValue(Ie)&&this._onChange(Ie)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(Ie){this._typeaheadDebounceInterval=(0,z.OE)(Ie)}get id(){return this._id}set id(Ie){this._id=Ie||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new O.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Ve.F)(),(0,Le.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Le.Q)(this._destroy)).subscribe(Ie=>{Ie.added.forEach(Te=>Te.select()),Ie.removed.forEach(Te=>Te.deselect())}),this.options.changes.pipe((0,ee.Z)(null),(0,Le.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const Ie=this._getTriggerAriaLabelledby(),Te=this.ngControl;if(Ie!==this._triggerAriaLabelledBy){const Ge=this._elementRef.nativeElement;this._triggerAriaLabelledBy=Ie,Ie?Ge.setAttribute("aria-labelledby",Ie):Ge.removeAttribute("aria-labelledby")}Te&&(this._previousControl!==Te.control&&(void 0!==this._previousControl&&null!==Te.disabled&&Te.disabled!==this.disabled&&(this.disabled=Te.disabled),this._previousControl=Te.control),this.updateErrorState())}ngOnChanges(Ie){Ie.disabled&&this.stateChanges.next(),Ie.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(Ie){this._assignValue(Ie)}registerOnChange(Ie){this._onChange=Ie}registerOnTouched(Ie){this._onTouched=Ie}setDisabledState(Ie){this.disabled=Ie,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const Ie=this._selectionModel.selected.map(Te=>Te.viewValue);return this._isRtl()&&Ie.reverse(),Ie.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(Ie){this.disabled||(this.panelOpen?this._handleOpenKeydown(Ie):this._handleClosedKeydown(Ie))}_handleClosedKeydown(Ie){const Te=Ie.keyCode,Ge=Te===I.n6||Te===I.i7||Te===I.UQ||Te===I.LE,kt=Te===I.Fm||Te===I.t6,Gt=this._keyManager;if(!Gt.isTyping()&&kt&&!(0,I.rp)(Ie)||(this.multiple||Ie.altKey)&&Ge)Ie.preventDefault(),this.open();else if(!this.multiple){const En=this.selected;Gt.onKeydown(Ie);const Yn=this.selected;Yn&&En!==Yn&&this._liveAnnouncer.announce(Yn.viewValue,1e4)}}_handleOpenKeydown(Ie){const Te=this._keyManager,Ge=Ie.keyCode,kt=Ge===I.n6||Ge===I.i7,Gt=Te.isTyping();if(kt&&Ie.altKey)Ie.preventDefault(),this.close();else if(Gt||Ge!==I.Fm&&Ge!==I.t6||!Te.activeItem||(0,I.rp)(Ie))if(!Gt&&this._multiple&&Ge===I.A&&Ie.ctrlKey){Ie.preventDefault();const En=this.options.some(Yn=>!Yn.disabled&&!Yn.selected);this.options.forEach(Yn=>{Yn.disabled||(En?Yn.select():Yn.deselect())})}else{const En=Te.activeItemIndex;Te.onKeydown(Ie),this._multiple&&kt&&Ie.shiftKey&&Te.activeItem&&Te.activeItemIndex!==En&&Te.activeItem._selectViaInteraction()}else Ie.preventDefault(),Te.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,me.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(Ie){if(this._selectionModel.selected.forEach(Te=>Te.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&Ie)Array.isArray(Ie),Ie.forEach(Te=>this._selectOptionByValue(Te)),this._sortValues();else{const Te=this._selectOptionByValue(Ie);Te?this._keyManager.updateActiveItem(Te):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(Ie){const Te=this.options.find(Ge=>{if(this._selectionModel.isSelected(Ge))return!1;try{return null!=Ge.value&&this._compareWith(Ge.value,Ie)}catch{return!1}});return Te&&this._selectionModel.select(Te),Te}_assignValue(Ie){return!!(Ie!==this._value||this._multiple&&Array.isArray(Ie))&&(this.options&&this._setSelectionByValue(Ie),this._value=Ie,!0)}_initKeyManager(){this._keyManager=new ne.Au(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,Le.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,Le.Q)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const Ie=(0,Q.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Le.Q)(Ie)).subscribe(Te=>{this._onSelect(Te.source,Te.isUserInput),Te.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Q.h)(...this.options.map(Te=>Te._stateChanges)).pipe((0,Le.Q)(Ie)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(Ie,Te){const Ge=this._selectionModel.isSelected(Ie);null!=Ie.value||this._multiple?(Ge!==Ie.selected&&(Ie.selected?this._selectionModel.select(Ie):this._selectionModel.deselect(Ie)),Te&&this._keyManager.setActiveItem(Ie),this.multiple&&(this._sortValues(),Te&&this.focus())):(Ie.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(Ie.value)),Ge!==this._selectionModel.isSelected(Ie)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const Ie=this.options.toArray();this._selectionModel.sort((Te,Ge)=>this.sortComparator?this.sortComparator(Te,Ge,Ie):Ie.indexOf(Te)-Ie.indexOf(Ge)),this.stateChanges.next()}}_propagateChanges(Ie){let Te=null;Te=this.multiple?this.selected.map(Ge=>Ge.value):this.selected?this.selected.value:Ie,this._value=Te,this.valueChange.emit(Te),this._onChange(Te),this.selectionChange.emit(this._getChangeEvent(Te)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(Ie){this._elementRef.nativeElement.focus(Ie)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const Ie=this._parentFormField?.getLabelId();return this.ariaLabelledby?(Ie?Ie+" ":"")+this.ariaLabelledby:Ie}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const Ie=this._parentFormField?.getLabelId();let Te=(Ie?Ie+" ":"")+this._valueId;return this.ariaLabelledby&&(Te+=" "+this.ariaLabelledby),Te}_panelDoneAnimating(Ie){this.openedChange.emit(Ie)}setDescribedByIds(Ie){this._ariaDescribedby=Ie.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return Ci.\u0275fac=function(Ie){return new(Ie||Ci)(T.rXU(ce.Xj),T.rXU(T.gRc),T.rXU(T.SKi),T.rXU(F.es),T.rXU(T.aKT),T.rXU(q.dS,8),T.rXU(k.cV,8),T.rXU(k.j4,8),T.rXU(x.xb,8),T.rXU(k.vO,10),T.kS0("tabindex"),T.rXU(mt),T.rXU(ne.Ai),T.rXU(Lt,8))},Ci.\u0275dir=T.FsC({type:Ci,viewQuery:function(Ie,Te){if(1&Ie&&(T.GBs(ae,5),T.GBs(de,5),T.GBs(p.WB,5)),2&Ie){let Ge;T.mGM(Ge=T.lsd())&&(Te.trigger=Ge.first),T.mGM(Ge=T.lsd())&&(Te.panel=Ge.first),T.mGM(Ge=T.lsd())&&(Te._overlayDir=Ge.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:[T.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[T.Mj6.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[T.Vt3,T.OA$]}),Ci})(),Pi=(()=>{class Ci extends qn{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(Ie,Te,Ge){const kt=this._getItemHeight();return Math.min(Math.max(0,kt*Ie-Te+kt/2),Ge)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Le.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,me.s)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(Ie){const Te=(0,F.jb)(Ie,this.options,this.optionGroups),Ge=this._getItemHeight();this.panel.nativeElement.scrollTop=0===Ie&&1===Te?0:(0,F.TL)((Ie+Te)*Ge,Ge,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(Ie){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(Ie)}_getChangeEvent(Ie){return new it(this,Ie)}_calculateOverlayOffsetX(){const Ie=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),Te=this._viewportRuler.getViewportSize(),Ge=this._isRtl(),kt=this.multiple?56:32;let Gt;if(this.multiple)Gt=40;else if(this.disableOptionCentering)Gt=16;else{let Mi=this._selectionModel.selected[0]||this.options.first;Gt=Mi&&Mi.group?32:16}Ge||(Gt*=-1);const En=0-(Ie.left+Gt-(Ge?kt:0)),Yn=Ie.right+Gt-Te.width+(Ge?0:kt);En>0?Gt+=En+8:Yn>0&&(Gt-=Yn+8),this._overlayDir.offsetX=Math.round(Gt),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(Ie,Te,Ge){const kt=this._getItemHeight(),Gt=(kt-this._triggerRect.height)/2,En=Math.floor(256/kt);let Yn;return this.disableOptionCentering?0:(Yn=0===this._scrollTop?Ie*kt:this._scrollTop===Ge?(Ie-(this._getItemCount()-En))*kt+(kt-(this._getItemCount()*kt-256)%kt):Te-kt/2,Math.round(-1*Yn-Gt))}_checkOverlayWithinViewport(Ie){const Te=this._getItemHeight(),Ge=this._viewportRuler.getViewportSize(),kt=this._triggerRect.top-8,Gt=Ge.height-this._triggerRect.bottom-8,En=Math.abs(this._offsetY),Mi=Math.min(this._getItemCount()*Te,256)-En-this._triggerRect.height;Mi>Gt?this._adjustPanelUp(Mi,Gt):En>kt?this._adjustPanelDown(En,kt,Ie):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(Ie,Te){const Ge=Math.round(Ie-Te);this._scrollTop-=Ge,this._offsetY-=Ge,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(Ie,Te,Ge){const kt=Math.round(Ie-Te);if(this._scrollTop+=kt,this._offsetY+=kt,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=Ge)return this._scrollTop=Ge,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const Ie=this._getItemHeight(),Te=this._getItemCount(),Ge=Math.min(Te*Ie,256),Gt=Te*Ie-Ge;let En;En=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),En+=(0,F.jb)(En,this.options,this.optionGroups);const Yn=Ge/2;this._scrollTop=this._calculateOverlayScroll(En,Yn,Gt),this._offsetY=this._calculateOverlayOffsetY(En,Yn,Gt),this._checkOverlayWithinViewport(Gt)}_getOriginBasedOnOption(){const Ie=this._getItemHeight(),Te=(Ie-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-Te+Ie/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return Ci.\u0275fac=(()=>{let qt;return function(Te){return(qt||(qt=T.xGo(Ci)))(Te||Ci)}})(),Ci.\u0275cmp=T.VBU({type:Ci,selectors:[["mat-select"]],contentQueries:function(Ie,Te,Ge){if(1&Ie&&(T.wni(Ge,$t,5),T.wni(Ge,F.wT,5),T.wni(Ge,F.QC,5)),2&Ie){let kt;T.mGM(kt=T.lsd())&&(Te.customTrigger=kt.first),T.mGM(kt=T.lsd())&&(Te.options=kt),T.mGM(kt=T.lsd())&&(Te.optionGroups=kt)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(Ie,Te){1&Ie&&T.bIt("keydown",function(kt){return Te._handleKeydown(kt)})("focus",function(){return Te._onFocus()})("blur",function(){return Te._onBlur()}),2&Ie&&(T.BMQ("id",Te.id)("tabindex",Te.tabIndex)("aria-controls",Te.panelOpen?Te.id+"-panel":null)("aria-expanded",Te.panelOpen)("aria-label",Te.ariaLabel||null)("aria-required",Te.required.toString())("aria-disabled",Te.disabled.toString())("aria-invalid",Te.errorState)("aria-describedby",Te._ariaDescribedby||null)("aria-activedescendant",Te._getAriaActiveDescendant()),T.AVh("mat-select-disabled",Te.disabled)("mat-select-invalid",Te.errorState)("mat-select-required",Te.required)("mat-select-empty",Te.empty)("mat-select-multiple",Te.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[T.Jv_([{provide:x.qT,useExisting:Ci},{provide:F.is,useExisting:Ci}]),T.Vt3],ngContentSelectors:Re,decls:9,vars:12,consts:[["origin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Ie,Te){if(1&Ie){const Ge=T.RV6();T.NAR(fe),T.j41(0,"div",2,0),T.bIt("click",function(){return T.eBV(Ge),T.Njj(Te.toggle())}),T.j41(3,"div",3),T.DNE(4,_e,2,1,"span",4)(5,Ot,3,2,"span",5),T.k0s(),T.j41(6,"div",6),T.nrm(7,"div",7),T.k0s()(),T.DNE(8,un,4,14,"ng-template",8),T.bIt("backdropClick",function(){return T.eBV(Ge),T.Njj(Te.close())})("attach",function(){return T.eBV(Ge),T.Njj(Te._onAttached())})("detach",function(){return T.eBV(Ge),T.Njj(Te.close())})}if(2&Ie){const Ge=T.sdS(1);T.BMQ("aria-owns",Te.panelOpen?Te.id+"-panel":null),T.R7$(3),T.Y8G("ngSwitch",Te.empty),T.BMQ("id",Te._valueId),T.R7$(),T.Y8G("ngSwitchCase",!0),T.R7$(),T.Y8G("ngSwitchCase",!1),T.R7$(3),T.Y8G("cdkConnectedOverlayPanelClass",Te._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Te._scrollStrategy)("cdkConnectedOverlayOrigin",Ge)("cdkConnectedOverlayOpen",Te.panelOpen)("cdkConnectedOverlayPositions",Te._positions)("cdkConnectedOverlayMinWidth",null==Te._triggerRect?null:Te._triggerRect.width)("cdkConnectedOverlayOffsetY",Te._offsetY)}},dependencies:[p.$Q,m.ux,m.e1,m.fG,p.WB,m.YU],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[Cn.transformPanelWrap,Cn.transformPanel]},changeDetection:0}),Ci})(),hi=(()=>{class Ci{}return Ci.\u0275fac=function(Ie){return new(Ie||Ci)},Ci.\u0275mod=T.$C({type:Ci}),Ci.\u0275inj=T.G2t({providers:[bn],imports:[[m.MD,p.z_,F.Sy,F.yE],ce.Gj,x.RG,F.Sy,F.yE]}),Ci})()},200:(Jt,ke,E)=>{"use strict";E.d(ke,{mV:()=>Ve,sG:()=>be});var p=E(7948),m=E(4438),T=E(5230),F=E(2223),x=E(8363),ce=E(9417);const ne=["thumbContainer"],q=["toggleBar"],z=["input"],O=["*"],I=Le=>({enterDuration:Le}),k=new m.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let A=0;const H={provide:ce.kq,useExisting:(0,m.Rfq)(()=>be),multi:!0};class Q{constructor(J,ae){this.source=J,this.checked=ae}}const ee=(0,T.BF)((0,T.Zc)((0,T.GG)((0,T.Ob)(class{constructor(Le){this._elementRef=Le}}))));let be=(()=>{class Le extends ee{constructor(ae,de,fe,Re,_e,Xe){super(ae),this._focusMonitor=de,this._changeDetectorRef=fe,this.defaults=_e,this._onChange=Ye=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++A,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new m.bkB,this.toggleChange=new m.bkB,this.tabIndex=parseInt(Re)||0,this.color=this.defaultColor=_e.color||"accent",this._noopAnimations="NoopAnimations"===Xe}get required(){return this._required}set required(ae){this._required=(0,x.he)(ae)}get checked(){return this._checked}set checked(ae){this._checked=(0,x.he)(ae),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(ae=>{ae||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(ae){ae.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(ae){ae.stopPropagation()}writeValue(ae){this.checked=!!ae}registerOnChange(ae){this._onChange=ae}registerOnTouched(ae){this._onTouched=ae}setDisabledState(ae){this.disabled=ae,this._changeDetectorRef.markForCheck()}focus(ae,de){de?this._focusMonitor.focusVia(this._inputElement,de,ae):this._inputElement.nativeElement.focus(ae)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new Q(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return Le.\u0275fac=function(ae){return new(ae||Le)(m.rXU(m.aKT),m.rXU(F.FN),m.rXU(m.gRc),m.kS0("tabindex"),m.rXU(k),m.rXU(m.bc$,8))},Le.\u0275cmp=m.VBU({type:Le,selectors:[["mat-slide-toggle"]],viewQuery:function(ae,de){if(1&ae&&(m.GBs(ne,5),m.GBs(q,5),m.GBs(z,5)),2&ae){let fe;m.mGM(fe=m.lsd())&&(de._thumbEl=fe.first),m.mGM(fe=m.lsd())&&(de._thumbBarEl=fe.first),m.mGM(fe=m.lsd())&&(de._inputElement=fe.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(ae,de){2&ae&&(m.Mr5("id",de.id),m.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),m.AVh("mat-checked",de.checked)("mat-disabled",de.disabled)("mat-slide-toggle-label-before","before"==de.labelPosition)("_mat-animation-noopable",de._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[m.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[m.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[m.Mj6.None,"aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[m.Jv_([H]),m.Vt3],ngContentSelectors:O,decls:16,vars:20,consts:[["label",""],["toggleBar",""],["input",""],["thumbContainer",""],["labelContent",""],[1,"mat-slide-toggle-label"],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"change","click","id","required","tabIndex","checked","disabled"],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],[2,"display","none"]],template:function(ae,de){if(1&ae){const fe=m.RV6();m.NAR(),m.j41(0,"label",5,0)(2,"span",6,1)(4,"input",7,2),m.bIt("change",function(_e){return m.eBV(fe),m.Njj(de._onChangeEvent(_e))})("click",function(_e){return m.eBV(fe),m.Njj(de._onInputClick(_e))}),m.k0s(),m.j41(6,"span",8,3),m.nrm(8,"span",9),m.j41(9,"span",10),m.nrm(10,"span",11),m.k0s()()(),m.j41(11,"span",12,4),m.bIt("cdkObserveContent",function(){return m.eBV(fe),m.Njj(de._onLabelTextChange())}),m.j41(13,"span",13),m.EFF(14,"\xa0"),m.k0s(),m.SdG(15),m.k0s()()}if(2&ae){const fe=m.sdS(1),Re=m.sdS(12);m.BMQ("for",de.inputId),m.R7$(2),m.AVh("mat-slide-toggle-bar-no-side-margin",!Re.textContent||!Re.textContent.trim()),m.R7$(2),m.Y8G("id",de.inputId)("required",de.required)("tabIndex",de.tabIndex)("checked",de.checked)("disabled",de.disabled),m.BMQ("name",de.name)("aria-checked",de.checked)("aria-label",de.ariaLabel)("aria-labelledby",de.ariaLabelledby)("aria-describedby",de.ariaDescribedby),m.R7$(5),m.Y8G("matRippleTrigger",fe)("matRippleDisabled",de.disableRipple||de.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",m.eq3(18,I,de._noopAnimations?0:150))}},dependencies:[T.r6,p.Wv],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),Le})(),Be=(()=>{class Le{}return Le.\u0275fac=function(ae){return new(ae||Le)},Le.\u0275mod=m.$C({type:Le}),Le.\u0275inj=m.G2t({}),Le})(),Ve=(()=>{class Le{}return Le.\u0275fac=function(ae){return new(ae||Le)},Le.\u0275mod=m.$C({type:Le}),Le.\u0275inj=m.G2t({imports:[[Be,T.pZ,T.yE,p.w5],Be,T.yE]}),Le})()},5122:(Jt,ke,E)=>{"use strict";E.d(ke,{TQ:()=>Ne,UG:()=>Re,_T:()=>J,ht:()=>ee});var p=E(4531),m=E(6961),T=E(177),F=E(4438),x=E(5230),ce=E(5484),ne=E(1413),q=E(8238),z=E(6697),O=E(6977),I=E(9969),k=E(2223),A=E(9185);function H(_e,Xe){if(1&_e){const Ye=F.RV6();F.j41(0,"div",2)(1,"button",3),F.bIt("click",function(){F.eBV(Ye);const un=F.XpG();return F.Njj(un.action())}),F.EFF(2),F.k0s()()}if(2&_e){const Ye=F.XpG();F.R7$(2),F.JRh(Ye.data.action)}}function Q(_e,Xe){}const ee=new F.nKC("MatSnackBarData");class be{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const me=Math.pow(2,31)-1;class Ne{constructor(Xe,Ye){this._overlayRef=Ye,this._afterDismissed=new ne.B,this._afterOpened=new ne.B,this._onAction=new ne.B,this._dismissedByAction=!1,this.containerInstance=Xe,Xe._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Xe){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Xe,me))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Be=(()=>{class _e{constructor(Ye,Ot){this.snackBarRef=Ye,this.data=Ot}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return _e.\u0275fac=function(Ye){return new(Ye||_e)(F.rXU(Ne),F.rXU(ee))},_e.\u0275cmp=F.VBU({type:_e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(Ye,Ot){1&Ye&&(F.j41(0,"span",0),F.EFF(1),F.k0s(),F.DNE(2,H,3,1,"div",1)),2&Ye&&(F.R7$(),F.JRh(Ot.data.message),F.R7$(),F.Y8G("ngIf",Ot.hasAction))},dependencies:[ce.$z,T.bT],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),_e})();const Ve={snackBarState:(0,I.hZ)("state",[(0,I.wk)("void, hidden",(0,I.iF)({transform:"scale(0.8)",opacity:0})),(0,I.wk)("visible",(0,I.iF)({transform:"scale(1)",opacity:1})),(0,I.kY)("* => visible",(0,I.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,I.kY)("* => void, * => hidden",(0,I.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,I.iF)({opacity:0})))])};let Le=(()=>{class _e extends m.lb{constructor(Ye,Ot,un,Cn,An){super(),this._ngZone=Ye,this._elementRef=Ot,this._changeDetectorRef=un,this._platform=Cn,this.snackBarConfig=An,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ne.B,this._onExit=new ne.B,this._onEnter=new ne.B,this._animationState="void",this.attachDomPortal=Nn=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(Nn)),this._live="assertive"!==An.politeness||An.announcementMessage?"off"===An.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ye){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(Ye)}attachTemplatePortal(Ye){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(Ye)}onAnimationEnd(Ye){const{fromState:Ot,toState:un}=Ye;if(("void"===un&&"void"!==Ot||"hidden"===un)&&this._completeExit(),"visible"===un){const Cn=this._onEnter;this._ngZone.run(()=>{Cn.next(),Cn.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,z.s)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const Ye=this._elementRef.nativeElement,Ot=this.snackBarConfig.panelClass;Ot&&(Array.isArray(Ot)?Ot.forEach(un=>Ye.classList.add(un)):Ye.classList.add(Ot)),"center"===this.snackBarConfig.horizontalPosition&&Ye.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&Ye.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ye=this._elementRef.nativeElement.querySelector("[aria-hidden]"),Ot=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ye&&Ot){let un=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ye.contains(document.activeElement)&&(un=document.activeElement),Ye.removeAttribute("aria-hidden"),Ot.appendChild(Ye),un?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return _e.\u0275fac=function(Ye){return new(Ye||_e)(F.rXU(F.SKi),F.rXU(F.aKT),F.rXU(F.gRc),F.rXU(q.OD),F.rXU(be))},_e.\u0275cmp=F.VBU({type:_e,selectors:[["snack-bar-container"]],viewQuery:function(Ye,Ot){if(1&Ye&&F.GBs(m.I3,7),2&Ye){let un;F.mGM(un=F.lsd())&&(Ot._portalOutlet=un.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(Ye,Ot){1&Ye&&F.Kam("@state.done",function(Cn){return Ot.onAnimationEnd(Cn)}),2&Ye&&F.zvX("@state",Ot._animationState)},features:[F.Vt3],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(Ye,Ot){1&Ye&&(F.j41(0,"div",0),F.DNE(1,Q,0,0,"ng-template",1),F.k0s(),F.nrm(2,"div")),2&Ye&&(F.R7$(2),F.BMQ("aria-live",Ot._live)("role",Ot._role))},dependencies:[m.I3],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Ve.snackBarState]}}),_e})(),J=(()=>{class _e{}return _e.\u0275fac=function(Ye){return new(Ye||_e)},_e.\u0275mod=F.$C({type:_e}),_e.\u0275inj=F.G2t({imports:[[p.z_,m.jc,T.MD,ce.Hl,x.yE],x.yE]}),_e})();const ae=new F.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function de(){return new be}});let fe=(()=>{class _e{constructor(Ye,Ot,un,Cn,An,Nn){this._overlay=Ye,this._live=Ot,this._injector=un,this._breakpointObserver=Cn,this._parentSnackBar=An,this._defaultConfig=Nn,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const Ye=this._parentSnackBar;return Ye?Ye._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ye){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ye:this._snackBarRefAtThisLevel=Ye}openFromComponent(Ye,Ot){return this._attach(Ye,Ot)}openFromTemplate(Ye,Ot){return this._attach(Ye,Ot)}open(Ye,Ot="",un){const Cn={...this._defaultConfig,...un};return Cn.data={message:Ye,action:Ot},Cn.announcementMessage===Ye&&(Cn.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Cn)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ye,Ot){const Cn=F.zZn.create({parent:Ot&&Ot.viewContainerRef&&Ot.viewContainerRef.injector||this._injector,providers:[{provide:be,useValue:Ot}]}),An=new m.A8(this.snackBarContainerComponent,Ot.viewContainerRef,Cn),Nn=Ye.attach(An);return Nn.instance.snackBarConfig=Ot,Nn.instance}_attach(Ye,Ot){const un={...new be,...this._defaultConfig,...Ot},Cn=this._createOverlay(un),An=this._attachSnackBarContainer(Cn,un),Nn=new Ne(An,Cn);if(Ye instanceof F.C4Q){const Et=new m.VA(Ye,null,{$implicit:un.data,snackBarRef:Nn});Nn.instance=An.attachTemplatePortal(Et)}else{const Et=this._createInjector(un,Nn),Rt=new m.A8(Ye,void 0,Et),jt=An.attachComponentPortal(Rt);Nn.instance=jt.instance}return this._breakpointObserver.observe(A.Rp.HandsetPortrait).pipe((0,O.Q)(Cn.detachments())).subscribe(Et=>{Cn.overlayElement.classList.toggle(this.handsetCssClass,Et.matches)}),un.announcementMessage&&An._onAnnounce.subscribe(()=>{this._live.announce(un.announcementMessage,un.politeness)}),this._animateSnackBar(Nn,un),this._openedSnackBarRef=Nn,this._openedSnackBarRef}_animateSnackBar(Ye,Ot){Ye.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ye&&(this._openedSnackBarRef=null),Ot.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ye.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ye.containerInstance.enter(),Ot.duration&&Ot.duration>0&&Ye.afterOpened().subscribe(()=>Ye._dismissAfter(Ot.duration))}_createOverlay(Ye){const Ot=new p.rR;Ot.direction=Ye.direction;let un=this._overlay.position().global();const Cn="rtl"===Ye.direction,An="left"===Ye.horizontalPosition||"start"===Ye.horizontalPosition&&!Cn||"end"===Ye.horizontalPosition&&Cn,Nn=!An&&"center"!==Ye.horizontalPosition;return An?un.left("0"):Nn?un.right("0"):un.centerHorizontally(),"top"===Ye.verticalPosition?un.top("0"):un.bottom("0"),Ot.positionStrategy=un,this._overlay.create(Ot)}_createInjector(Ye,Ot){return F.zZn.create({parent:Ye&&Ye.viewContainerRef&&Ye.viewContainerRef.injector||this._injector,providers:[{provide:Ne,useValue:Ot},{provide:ee,useValue:Ye.data}]})}}return _e.\u0275fac=function(Ye){return new(Ye||_e)(F.KVO(p.hJ),F.KVO(k.Ai),F.KVO(F.zZn),F.KVO(A.QP),F.KVO(_e,12),F.KVO(ae))},_e.\u0275prov=F.jDH({token:_e,factory:_e.\u0275fac}),_e})(),Re=(()=>{class _e extends fe{constructor(Ye,Ot,un,Cn,An,Nn){super(Ye,Ot,un,Cn,An,Nn),this.simpleSnackBarComponent=Be,this.snackBarContainerComponent=Le,this.handsetCssClass="mat-snack-bar-handset"}}return _e.\u0275fac=function(Ye){return new(Ye||_e)(F.KVO(p.hJ),F.KVO(k.Ai),F.KVO(F.zZn),F.KVO(A.QP),F.KVO(_e,12),F.KVO(ae))},_e.\u0275prov=F.jDH({token:_e,factory:_e.\u0275fac,providedIn:J}),_e})()},3008:(Jt,ke,E)=>{"use strict";E.d(ke,{RI:()=>wt,T8:()=>Dn,mq:()=>Ci});var p=E(2223),m=E(7948),T=E(6961),F=E(177),x=E(4438),ce=E(5230),ne=E(6697),q=E(9172),z=E(3294),O=E(6977),I=E(5558),k=E(5245),A=E(1413),H=E(8359),Q=E(3726),ee=E(7673),be=E(7786),me=E(983),Ne=E(1985),Be=E(1807),Ve=E(989),Le=E(9969),J=E(8363),ae=E(7266),de=E(8238),fe=E(8854);const Re=["*"];function _e(ze,st){1&ze&&x.SdG(0)}const Xe=ze=>({animationDuration:ze}),Ye=(ze,st)=>({value:ze,params:st});function Ot(ze,st){}const un=["tabListContainer"],Cn=["tabList"],An=["tabListInner"],Nn=["nextPaginator"],Et=["previousPaginator"],Rt=["tabBodyWrapper"],jt=["tabHeader"];function Dt(ze,st){}function en(ze,st){if(1&ze&&x.DNE(0,Dt,0,0,"ng-template",10),2&ze){const V=x.XpG().$implicit;x.Y8G("cdkPortalOutlet",V.templateLabel)}}function qe(ze,st){if(1&ze&&x.EFF(0),2&ze){const V=x.XpG().$implicit;x.JRh(V.textLabel)}}function We(ze,st){if(1&ze){const V=x.RV6();x.j41(0,"div",7),x.bIt("click",function(){const X=x.eBV(V),Ee=X.$implicit,ot=X.index,ht=x.XpG(),on=x.sdS(1);return x.Njj(ht._handleClick(Ee,on,ot))})("cdkFocusChange",function(X){const Ee=x.eBV(V).index,ot=x.XpG();return x.Njj(ot._tabFocusChanged(X,Ee))}),x.j41(1,"div",8),x.DNE(2,en,1,1,"ng-template",9)(3,qe,1,1,"ng-template",null,2,x.C5r),x.k0s()()}if(2&ze){const V=st.$implicit,G=st.index,X=x.sdS(4),Ee=x.XpG();x.AVh("mat-tab-label-active",Ee.selectedIndex===G),x.Y8G("id",Ee._getTabLabelId(G))("ngClass",V.labelClass)("disabled",V.disabled)("matRippleDisabled",V.disabled||Ee.disableRipple),x.BMQ("tabIndex",Ee._getTabIndex(V,G))("aria-posinset",G+1)("aria-setsize",Ee._tabs.length)("aria-controls",Ee._getTabContentId(G))("aria-selected",Ee.selectedIndex===G)("aria-label",V.ariaLabel||null)("aria-labelledby",!V.ariaLabel&&V.ariaLabelledby?V.ariaLabelledby:null),x.R7$(2),x.Y8G("ngIf",V.templateLabel)("ngIfElse",X)}}function ge(ze,st){if(1&ze){const V=x.RV6();x.j41(0,"mat-tab-body",11),x.bIt("_onCentered",function(){x.eBV(V);const X=x.XpG();return x.Njj(X._removeTabBodyWrapperHeight())})("_onCentering",function(X){x.eBV(V);const Ee=x.XpG();return x.Njj(Ee._setTabBodyWrapperHeight(X))}),x.k0s()}if(2&ze){const V=st.$implicit,G=st.index,X=x.XpG();x.AVh("mat-tab-body-active",X.selectedIndex===G),x.Y8G("id",X._getTabContentId(G))("ngClass",V.bodyClass)("content",V.content)("position",V.position)("origin",V.origin)("animationDuration",X.animationDuration),x.BMQ("tabindex",null!=X.contentTabIndex&&X.selectedIndex===G?X.contentTabIndex:null)("aria-labelledby",X._getTabLabelId(G))}}const Ft=new x.nKC("MatInkBarPositioner",{providedIn:"root",factory:function Lt(){return st=>({left:st?(st.offsetLeft||0)+"px":"0",width:st?(st.offsetWidth||0)+"px":"0"})}});let bn=(()=>{class ze{constructor(V,G,X,Ee){this._elementRef=V,this._ngZone=G,this._inkBarPositioner=X,this._animationMode=Ee}alignToElement(V){this.show(),this._ngZone.onStable.pipe((0,ne.s)(1)).subscribe(()=>{const G=this._inkBarPositioner(V),X=this._elementRef.nativeElement;X.style.left=G.left,X.style.width=G.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return ze.\u0275fac=function(V){return new(V||ze)(x.rXU(x.aKT),x.rXU(x.SKi),x.rXU(Ft),x.rXU(x.bc$,8))},ze.\u0275dir=x.FsC({type:ze,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(V,G){2&V&&x.AVh("_mat-animation-noopable","NoopAnimations"===G._animationMode)}}),ze})();const it=new x.nKC("MatTabContent"),$t=new x.nKC("MatTabLabel"),Pn=new x.nKC("MAT_TAB"),Pi=(0,ce.Ob)(class{}),hi=new x.nKC("MAT_TAB_GROUP");let Ci=(()=>{class ze extends Pi{constructor(V,G){super(),this._viewContainerRef=V,this._closestTabGroup=G,this.textLabel="",this._contentPortal=null,this._stateChanges=new A.B,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(V){this._setTemplateLabelInput(V)}get content(){return this._contentPortal}ngOnChanges(V){(V.hasOwnProperty("textLabel")||V.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new T.VA(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(V){V&&V._closestTab===this&&(this._templateLabel=V)}}return ze.\u0275fac=function(V){return new(V||ze)(x.rXU(x.c1b),x.rXU(hi,8))},ze.\u0275cmp=x.VBU({type:ze,selectors:[["mat-tab"]],contentQueries:function(V,G,X){if(1&V&&(x.wni(X,$t,5),x.wni(X,it,7,x.C4Q)),2&V){let Ee;x.mGM(Ee=x.lsd())&&(G.templateLabel=Ee.first),x.mGM(Ee=x.lsd())&&(G._explicitContent=Ee.first)}},viewQuery:function(V,G){if(1&V&&x.GBs(x.C4Q,7),2&V){let X;x.mGM(X=x.lsd())&&(G._implicitContent=X.first)}},inputs:{disabled:"disabled",textLabel:[x.Mj6.None,"label","textLabel"],ariaLabel:[x.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[x.Mj6.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[x.Jv_([{provide:Pn,useExisting:ze}]),x.Vt3,x.OA$],ngContentSelectors:Re,decls:1,vars:0,template:function(V,G){1&V&&(x.NAR(),x.DNE(0,_e,1,0,"ng-template"))},encapsulation:2}),ze})();const qt={translateTab:(0,Le.hZ)("translateTab",[(0,Le.wk)("center, void, left-origin-center, right-origin-center",(0,Le.iF)({transform:"none"})),(0,Le.wk)("left",(0,Le.iF)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),(0,Le.wk)("right",(0,Le.iF)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),(0,Le.kY)("* => left, * => right, left => center, right => center",(0,Le.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,Le.kY)("void => left-origin-center",[(0,Le.iF)({transform:"translate3d(-100%, 0, 0)"}),(0,Le.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,Le.kY)("void => right-origin-center",[(0,Le.iF)({transform:"translate3d(100%, 0, 0)"}),(0,Le.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Ie=(()=>{class ze extends T.I3{constructor(V,G,X,Ee){super(V,G,Ee),this._host=X,this._centeringSub=H.yU.EMPTY,this._leavingSub=H.yU.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,q.Z)(this._host._isCenterPosition(this._host._position))).subscribe(V=>{V&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return ze.\u0275fac=function(V){return new(V||ze)(x.rXU(x.OM3),x.rXU(x.c1b),x.rXU((0,x.Rfq)(()=>Ge)),x.rXU(F.qQ))},ze.\u0275dir=x.FsC({type:ze,selectors:[["","matTabBodyHost",""]],features:[x.Vt3]}),ze})(),Te=(()=>{class ze{constructor(V,G,X){this._elementRef=V,this._dir=G,this._dirChangeSubscription=H.yU.EMPTY,this._translateTabComplete=new A.B,this._onCentering=new x.bkB,this._beforeCentering=new x.bkB,this._afterLeavingCenter=new x.bkB,this._onCentered=new x.bkB(!0),this.animationDuration="500ms",G&&(this._dirChangeSubscription=G.change.subscribe(Ee=>{this._computePositionAnimationState(Ee),X.markForCheck()})),this._translateTabComplete.pipe((0,z.F)((Ee,ot)=>Ee.fromState===ot.fromState&&Ee.toState===ot.toState)).subscribe(Ee=>{this._isCenterPosition(Ee.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(Ee.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(V){this._positionIndex=V,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(V){const G=this._isCenterPosition(V.toState);this._beforeCentering.emit(G),G&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(V){return"center"==V||"left-origin-center"==V||"right-origin-center"==V}_computePositionAnimationState(V=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==V?"left":"right":this._positionIndex>0?"ltr"==V?"right":"left":"center"}_computePositionFromOrigin(V){const G=this._getLayoutDirection();return"ltr"==G&&V<=0||"rtl"==G&&V>0?"left-origin-center":"right-origin-center"}}return ze.\u0275fac=function(V){return new(V||ze)(x.rXU(x.aKT),x.rXU(Ve.dS,8),x.rXU(x.gRc))},ze.\u0275dir=x.FsC({type:ze,inputs:{_content:[x.Mj6.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),ze})(),Ge=(()=>{class ze extends Te{constructor(V,G,X){super(V,G,X)}}return ze.\u0275fac=function(V){return new(V||ze)(x.rXU(x.aKT),x.rXU(Ve.dS,8),x.rXU(x.gRc))},ze.\u0275cmp=x.VBU({type:ze,selectors:[["mat-tab-body"]],viewQuery:function(V,G){if(1&V&&x.GBs(T.I3,5),2&V){let X;x.mGM(X=x.lsd())&&(G._portalHost=X.first)}},hostAttrs:[1,"mat-tab-body"],features:[x.Vt3],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-tab-body-content"],["matTabBodyHost",""]],template:function(V,G){if(1&V){const X=x.RV6();x.j41(0,"div",1,0),x.bIt("@translateTab.start",function(ot){return x.eBV(X),x.Njj(G._onTranslateTabStarted(ot))})("@translateTab.done",function(ot){return x.eBV(X),x.Njj(G._translateTabComplete.next(ot))}),x.DNE(2,Ot,0,0,"ng-template",2),x.k0s()}2&V&&x.Y8G("@translateTab",x.l_i(3,Ye,G._position,x.eq3(1,Xe,G.animationDuration)))},dependencies:[Ie],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[qt.translateTab]}}),ze})();const kt=new x.nKC("MAT_TABS_CONFIG"),Gt=(0,ce.Ob)(class{});let En=(()=>{class ze extends Gt{constructor(V){super(),this.elementRef=V}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return ze.\u0275fac=function(V){return new(V||ze)(x.rXU(x.aKT))},ze.\u0275dir=x.FsC({type:ze,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(V,G){2&V&&(x.BMQ("aria-disabled",!!G.disabled),x.AVh("mat-tab-disabled",G.disabled))},inputs:{disabled:"disabled"},features:[x.Vt3]}),ze})();const Yn=(0,de.BQ)({passive:!0});let rr=(()=>{class ze{constructor(V,G,X,Ee,ot,ht,on){this._elementRef=V,this._changeDetectorRef=G,this._viewportRuler=X,this._dir=Ee,this._ngZone=ot,this._platform=ht,this._animationMode=on,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new A.B,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new A.B,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new x.bkB,this.indexFocused=new x.bkB,ot.runOutsideAngular(()=>{(0,Q.R)(V.nativeElement,"mouseleave").pipe((0,O.Q)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(V){V=(0,J.OE)(V),this._selectedIndex!=V&&(this._selectedIndexChanged=!0,this._selectedIndex=V,this._keyManager&&this._keyManager.updateActiveItem(V))}ngAfterViewInit(){(0,Q.R)(this._previousPaginator.nativeElement,"touchstart",Yn).pipe((0,O.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,Q.R)(this._nextPaginator.nativeElement,"touchstart",Yn).pipe((0,O.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const V=this._dir?this._dir.change:(0,ee.of)("ltr"),G=this._viewportRuler.change(150),X=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new p.Bu(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,ne.s)(1)).subscribe(X),(0,be.h)(V,G,this._items.changes,this._itemsResized()).pipe((0,O.Q)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),X()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,O.Q)(this._destroyed)).subscribe(Ee=>{this.indexFocused.emit(Ee),this._setTabFocus(Ee)})}_itemsResized(){return"function"!=typeof ResizeObserver?me.w:this._items.changes.pipe((0,q.Z)(this._items),(0,I.n)(V=>new Ne.c(G=>this._ngZone.runOutsideAngular(()=>{const X=new ResizeObserver(()=>{G.next()});return V.forEach(Ee=>{X.observe(Ee.elementRef.nativeElement)}),()=>{X.disconnect()}}))),(0,k.i)(1))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(V){if(!(0,fe.rp)(V))switch(V.keyCode){case fe.Fm:case fe.t6:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(V));break;default:this._keyManager.onKeydown(V)}}_onContentChanges(){const V=this._elementRef.nativeElement.textContent;V!==this._currentTextContent&&(this._currentTextContent=V||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(V){!this._isValidIndex(V)||this.focusIndex===V||!this._keyManager||this._keyManager.setActiveItem(V)}_isValidIndex(V){if(!this._items)return!0;const G=this._items?this._items.toArray()[V]:null;return!!G&&!G.disabled}_setTabFocus(V){if(this._showPaginationControls&&this._scrollToLabel(V),this._items&&this._items.length){this._items.toArray()[V].focus();const G=this._tabListContainer.nativeElement;G.scrollLeft="ltr"==this._getLayoutDirection()?0:G.scrollWidth-G.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const V=this.scrollDistance,G="ltr"===this._getLayoutDirection()?-V:V;this._tabList.nativeElement.style.transform=`translateX(${Math.round(G)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(V){this._scrollTo(V)}_scrollHeader(V){return this._scrollTo(this._scrollDistance+("before"==V?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(V){this._stopInterval(),this._scrollHeader(V)}_scrollToLabel(V){if(this.disablePagination)return;const G=this._items?this._items.toArray()[V]:null;if(!G)return;const X=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:Ee,offsetWidth:ot}=G.elementRef.nativeElement;let ht,on;"ltr"==this._getLayoutDirection()?(ht=Ee,on=ht+ot):(on=this._tabListInner.nativeElement.offsetWidth-Ee,ht=on-ot);const gn=this.scrollDistance,pt=this.scrollDistance+X;ht<gn?this.scrollDistance-=gn-ht+60:on>pt&&(this.scrollDistance+=on-pt+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const V=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;V||(this.scrollDistance=0),V!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=V}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const V=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,G=V?V.elementRef.nativeElement:null;G?this._inkBar.alignToElement(G):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(V,G){G&&null!=G.button&&0!==G.button||(this._stopInterval(),(0,Be.O)(650,100).pipe((0,O.Q)((0,be.h)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:X,distance:Ee}=this._scrollHeader(V);(0===Ee||Ee>=X)&&this._stopInterval()}))}_scrollTo(V){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const G=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(G,V)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:G,distance:this._scrollDistance}}}return ze.\u0275fac=function(V){return new(V||ze)(x.rXU(x.aKT),x.rXU(x.gRc),x.rXU(ae.Xj),x.rXU(Ve.dS,8),x.rXU(x.SKi),x.rXU(de.OD),x.rXU(x.bc$,8))},ze.\u0275dir=x.FsC({type:ze,inputs:{disablePagination:"disablePagination"}}),ze})(),br=(()=>{class ze extends rr{constructor(V,G,X,Ee,ot,ht,on){super(V,G,X,Ee,ot,ht,on),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(V){this._disableRipple=(0,J.he)(V)}_itemSelected(V){V.preventDefault()}}return ze.\u0275fac=function(V){return new(V||ze)(x.rXU(x.aKT),x.rXU(x.gRc),x.rXU(ae.Xj),x.rXU(Ve.dS,8),x.rXU(x.SKi),x.rXU(de.OD),x.rXU(x.bc$,8))},ze.\u0275dir=x.FsC({type:ze,inputs:{disableRipple:"disableRipple"},features:[x.Vt3]}),ze})(),Si=(()=>{class ze extends br{constructor(V,G,X,Ee,ot,ht,on){super(V,G,X,Ee,ot,ht,on)}}return ze.\u0275fac=function(V){return new(V||ze)(x.rXU(x.aKT),x.rXU(x.gRc),x.rXU(ae.Xj),x.rXU(Ve.dS,8),x.rXU(x.SKi),x.rXU(de.OD),x.rXU(x.bc$,8))},ze.\u0275cmp=x.VBU({type:ze,selectors:[["mat-tab-header"]],contentQueries:function(V,G,X){if(1&V&&x.wni(X,En,4),2&V){let Ee;x.mGM(Ee=x.lsd())&&(G._items=Ee)}},viewQuery:function(V,G){if(1&V&&(x.GBs(bn,7),x.GBs(un,7),x.GBs(Cn,7),x.GBs(An,7),x.GBs(Nn,5),x.GBs(Et,5)),2&V){let X;x.mGM(X=x.lsd())&&(G._inkBar=X.first),x.mGM(X=x.lsd())&&(G._tabListContainer=X.first),x.mGM(X=x.lsd())&&(G._tabList=X.first),x.mGM(X=x.lsd())&&(G._tabListInner=X.first),x.mGM(X=x.lsd())&&(G._nextPaginator=X.first),x.mGM(X=x.lsd())&&(G._previousPaginator=X.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(V,G){2&V&&x.AVh("mat-tab-header-pagination-controls-enabled",G._showPaginationControls)("mat-tab-header-rtl","rtl"==G._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[x.Vt3],ngContentSelectors:Re,decls:14,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],[1,"mat-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(V,G){if(1&V){const X=x.RV6();x.NAR(),x.j41(0,"button",5,0),x.bIt("click",function(){return x.eBV(X),x.Njj(G._handlePaginatorClick("before"))})("mousedown",function(ot){return x.eBV(X),x.Njj(G._handlePaginatorPress("before",ot))})("touchend",function(){return x.eBV(X),x.Njj(G._stopInterval())}),x.nrm(2,"div",6),x.k0s(),x.j41(3,"div",7,1),x.bIt("keydown",function(ot){return x.eBV(X),x.Njj(G._handleKeydown(ot))}),x.j41(5,"div",8,2),x.bIt("cdkObserveContent",function(){return x.eBV(X),x.Njj(G._onContentChanges())}),x.j41(7,"div",9,3),x.SdG(9),x.k0s(),x.nrm(10,"mat-ink-bar"),x.k0s()(),x.j41(11,"button",10,4),x.bIt("mousedown",function(ot){return x.eBV(X),x.Njj(G._handlePaginatorPress("after",ot))})("click",function(){return x.eBV(X),x.Njj(G._handlePaginatorClick("after"))})("touchend",function(){return x.eBV(X),x.Njj(G._stopInterval())}),x.nrm(13,"div",6),x.k0s()}2&V&&(x.AVh("mat-tab-header-pagination-disabled",G._disableScrollBefore),x.Y8G("matRippleDisabled",G._disableScrollBefore||G.disableRipple)("disabled",G._disableScrollBefore||null),x.R7$(5),x.AVh("_mat-animation-noopable","NoopAnimations"===G._animationMode),x.R7$(6),x.AVh("mat-tab-header-pagination-disabled",G._disableScrollAfter),x.Y8G("matRippleDisabled",G._disableScrollAfter||G.disableRipple)("disabled",G._disableScrollAfter||null))},dependencies:[ce.r6,m.Wv,bn],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),ze})(),Ar=0;class $i{}const Gi=(0,ce.Zc)((0,ce.GG)(class{constructor(ze){this._elementRef=ze}}),"primary");let rs=(()=>{class ze extends Gi{constructor(V,G,X,Ee){super(V),this._changeDetectorRef=G,this._animationMode=Ee,this._tabs=new x.rOR,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=H.yU.EMPTY,this._tabLabelSubscription=H.yU.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new x.bkB,this.focusChange=new x.bkB,this.animationDone=new x.bkB,this.selectedTabChange=new x.bkB(!0),this._groupId=Ar++,this.animationDuration=X&&X.animationDuration?X.animationDuration:"500ms",this.disablePagination=!(!X||null==X.disablePagination)&&X.disablePagination,this.dynamicHeight=!(!X||null==X.dynamicHeight)&&X.dynamicHeight,this.contentTabIndex=X?.contentTabIndex??null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(V){this._dynamicHeight=(0,J.he)(V)}get selectedIndex(){return this._selectedIndex}set selectedIndex(V){this._indexToSelect=(0,J.OE)(V,null)}get animationDuration(){return this._animationDuration}set animationDuration(V){this._animationDuration=/^\d+$/.test(V+"")?V+"ms":V}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(V){this._contentTabIndex=(0,J.OE)(V,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(V){const G=this._elementRef.nativeElement;G.classList.remove(`mat-background-${this.backgroundColor}`),V&&G.classList.add(`mat-background-${V}`),this._backgroundColor=V}ngAfterContentChecked(){const V=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=V){const G=null==this._selectedIndex;if(!G){this.selectedTabChange.emit(this._createChangeEvent(V));const X=this._tabBodyWrapper.nativeElement;X.style.minHeight=X.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((X,Ee)=>X.isActive=Ee===V),G||(this.selectedIndexChange.emit(V),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((G,X)=>{G.position=X-V,null!=this._selectedIndex&&0==G.position&&!G.origin&&(G.origin=V-this._selectedIndex)}),this._selectedIndex!==V&&(this._selectedIndex=V,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const V=this._clampTabIndex(this._indexToSelect);if(V===this._selectedIndex){const G=this._tabs.toArray();let X;for(let Ee=0;Ee<G.length;Ee++)if(G[Ee].isActive){this._indexToSelect=this._selectedIndex=Ee,this._lastFocusedTabIndex=null,X=G[Ee];break}!X&&G[V]&&Promise.resolve().then(()=>{G[V].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(V))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,q.Z)(this._allTabs)).subscribe(V=>{this._tabs.reset(V.filter(G=>G._closestTabGroup===this||!G._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(V){const G=this._tabHeader;G&&(G.focusIndex=V)}_focusChanged(V){this._lastFocusedTabIndex=V,this.focusChange.emit(this._createChangeEvent(V))}_createChangeEvent(V){const G=new $i;return G.index=V,this._tabs&&this._tabs.length&&(G.tab=this._tabs.toArray()[V]),G}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,be.h)(...this._tabs.map(V=>V._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(V){return Math.min(this._tabs.length-1,Math.max(V||0,0))}_getTabLabelId(V){return`mat-tab-label-${this._groupId}-${V}`}_getTabContentId(V){return`mat-tab-content-${this._groupId}-${V}`}_setTabBodyWrapperHeight(V){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const G=this._tabBodyWrapper.nativeElement;G.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(G.style.height=V+"px")}_removeTabBodyWrapperHeight(){const V=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=V.clientHeight,V.style.height="",this.animationDone.emit()}_handleClick(V,G,X){V.disabled||(this.selectedIndex=G.focusIndex=X)}_getTabIndex(V,G){return V.disabled?null:G===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(V,G){V&&"mouse"!==V&&"touch"!==V&&(this._tabHeader.focusIndex=G)}}return ze.\u0275fac=function(V){return new(V||ze)(x.rXU(x.aKT),x.rXU(x.gRc),x.rXU(kt,8),x.rXU(x.bc$,8))},ze.\u0275dir=x.FsC({type:ze,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[x.Vt3]}),ze})(),Dn=(()=>{class ze extends rs{constructor(V,G,X,Ee){super(V,G,X,Ee)}}return ze.\u0275fac=function(V){return new(V||ze)(x.rXU(x.aKT),x.rXU(x.gRc),x.rXU(kt,8),x.rXU(x.bc$,8))},ze.\u0275cmp=x.VBU({type:ze,selectors:[["mat-tab-group"]],contentQueries:function(V,G,X){if(1&V&&x.wni(X,Ci,5),2&V){let Ee;x.mGM(Ee=x.lsd())&&(G._allTabs=Ee)}},viewQuery:function(V,G){if(1&V&&(x.GBs(Rt,5),x.GBs(jt,5)),2&V){let X;x.mGM(X=x.lsd())&&(G._tabBodyWrapper=X.first),x.mGM(X=x.lsd())&&(G._tabHeader=X.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(V,G){2&V&&x.AVh("mat-tab-group-dynamic-height",G.dynamicHeight)("mat-tab-group-inverted-header","below"===G.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[x.Jv_([{provide:hi,useExisting:ze}]),x.Vt3],decls:6,vars:7,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabTextLabel",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"click","cdkFocusChange","id","ngClass","disabled","matRippleDisabled"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","ngClass","content","position","origin","animationDuration"]],template:function(V,G){if(1&V){const X=x.RV6();x.j41(0,"mat-tab-header",3,0),x.bIt("indexFocused",function(ot){return x.eBV(X),x.Njj(G._focusChanged(ot))})("selectFocusedIndex",function(ot){return x.eBV(X),x.Njj(G.selectedIndex=ot)}),x.DNE(2,We,5,15,"div",4),x.k0s(),x.j41(3,"div",5,1),x.DNE(5,ge,1,10,"mat-tab-body",6),x.k0s()}2&V&&(x.Y8G("selectedIndex",G.selectedIndex||0)("disableRipple",G.disableRipple)("disablePagination",G.disablePagination),x.R7$(2),x.Y8G("ngForOf",G._tabs),x.R7$(),x.AVh("_mat-animation-noopable","NoopAnimations"===G._animationMode),x.R7$(2),x.Y8G("ngForOf",G._tabs))},dependencies:[Si,Ge,F.Sq,En,ce.r6,p.vR,F.YU,F.bT,T.I3],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),ze})(),wt=(()=>{class ze{}return ze.\u0275fac=function(V){return new(V||ze)},ze.\u0275mod=x.$C({type:ze}),ze.\u0275inj=x.G2t({imports:[[F.MD,ce.yE,T.jc,ce.pZ,m.w5,p.Pd],ce.yE]}),ze})()},345:(Jt,ke,E)=>{"use strict";E.d(ke,{B7:()=>de,Bb:()=>$t,W8:()=>Pn,hE:()=>Pi,sG:()=>Lt,up:()=>br});var p=E(4438),m=E(177);class T extends m.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class F extends T{static makeCurrent(){(0,m.ZD)(new F)}onAndCancel(Ht,ft,wt){return Ht.addEventListener(ft,wt),()=>{Ht.removeEventListener(ft,wt)}}dispatchEvent(Ht,ft){Ht.dispatchEvent(ft)}remove(Ht){Ht.parentNode&&Ht.parentNode.removeChild(Ht)}createElement(Ht,ft){return(ft=ft||this.getDefaultDocument()).createElement(Ht)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ht){return Ht.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ht){return Ht instanceof DocumentFragment}getGlobalEventTarget(Ht,ft){return"window"===ft?window:"document"===ft?Ht:"body"===ft?Ht.body:null}getBaseHref(Ht){const ft=function ce(){return x=x||document.querySelector("base"),x?x.getAttribute("href"):null}();return null==ft?null:function ne(yt){return new URL(yt,document.baseURI).pathname}(ft)}resetBaseElement(){x=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ht){return(0,m._b)(document.cookie,Ht)}}let x=null,z=(()=>{class yt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(wt){return new(wt||yt)};static#t=this.\u0275prov=p.jDH({token:yt,factory:yt.\u0275fac})}return yt})();const O=new p.nKC("");let I=(()=>{class yt{constructor(ft,wt){this._zone=wt,this._eventNameToPlugin=new Map,ft.forEach(ze=>{ze.manager=this}),this._plugins=ft.slice().reverse()}addEventListener(ft,wt,ze){return this._findPluginFor(wt).addEventListener(ft,wt,ze)}getZone(){return this._zone}_findPluginFor(ft){let wt=this._eventNameToPlugin.get(ft);if(wt)return wt;if(wt=this._plugins.find(st=>st.supports(ft)),!wt)throw new p.wOt(5101,!1);return this._eventNameToPlugin.set(ft,wt),wt}static#e=this.\u0275fac=function(wt){return new(wt||yt)(p.KVO(O),p.KVO(p.SKi))};static#t=this.\u0275prov=p.jDH({token:yt,factory:yt.\u0275fac})}return yt})();class k{constructor(Ht){this._doc=Ht}}const A="ng-app-id";let H=(()=>{class yt{constructor(ft,wt,ze,st={}){this.doc=ft,this.appId=wt,this.nonce=ze,this.platformId=st,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,m.Vy)(st),this.resetHostNodes()}addStyles(ft){for(const wt of ft)1===this.changeUsageCount(wt,1)&&this.onStyleAdded(wt)}removeStyles(ft){for(const wt of ft)this.changeUsageCount(wt,-1)<=0&&this.onStyleRemoved(wt)}ngOnDestroy(){const ft=this.styleNodesInDOM;ft&&(ft.forEach(wt=>wt.remove()),ft.clear());for(const wt of this.getAllStyles())this.onStyleRemoved(wt);this.resetHostNodes()}addHost(ft){this.hostNodes.add(ft);for(const wt of this.getAllStyles())this.addStyleToHost(ft,wt)}removeHost(ft){this.hostNodes.delete(ft)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ft){for(const wt of this.hostNodes)this.addStyleToHost(wt,ft)}onStyleRemoved(ft){const wt=this.styleRef;wt.get(ft)?.elements?.forEach(ze=>ze.remove()),wt.delete(ft)}collectServerRenderedStyles(){const ft=this.doc.head?.querySelectorAll(`style[${A}="${this.appId}"]`);if(ft?.length){const wt=new Map;return ft.forEach(ze=>{null!=ze.textContent&&wt.set(ze.textContent,ze)}),wt}return null}changeUsageCount(ft,wt){const ze=this.styleRef;if(ze.has(ft)){const st=ze.get(ft);return st.usage+=wt,st.usage}return ze.set(ft,{usage:wt,elements:[]}),wt}getStyleElement(ft,wt){const ze=this.styleNodesInDOM,st=ze?.get(wt);if(st?.parentNode===ft)return ze.delete(wt),st.removeAttribute(A),st;{const V=this.doc.createElement("style");return this.nonce&&V.setAttribute("nonce",this.nonce),V.textContent=wt,this.platformIsServer&&V.setAttribute(A,this.appId),ft.appendChild(V),V}}addStyleToHost(ft,wt){const ze=this.getStyleElement(ft,wt),st=this.styleRef,V=st.get(wt)?.elements;V?V.push(ze):st.set(wt,{elements:[ze],usage:1})}resetHostNodes(){const ft=this.hostNodes;ft.clear(),ft.add(this.doc.head)}static#e=this.\u0275fac=function(wt){return new(wt||yt)(p.KVO(m.qQ),p.KVO(p.sZ2),p.KVO(p.BIS,8),p.KVO(p.Agw))};static#t=this.\u0275prov=p.jDH({token:yt,factory:yt.\u0275fac})}return yt})();const Q={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ee=/%COMP%/g,Ve=new p.nKC("",{providedIn:"root",factory:()=>!0});function ae(yt,Ht){return Ht.map(ft=>ft.replace(ee,yt))}let de=(()=>{class yt{constructor(ft,wt,ze,st,V,G,X,Ee=null){this.eventManager=ft,this.sharedStylesHost=wt,this.appId=ze,this.removeStylesOnCompDestroy=st,this.doc=V,this.platformId=G,this.ngZone=X,this.nonce=Ee,this.rendererByCompId=new Map,this.platformIsServer=(0,m.Vy)(G),this.defaultRenderer=new fe(ft,V,X,this.platformIsServer)}createRenderer(ft,wt){if(!ft||!wt)return this.defaultRenderer;this.platformIsServer&&wt.encapsulation===p.gXe.ShadowDom&&(wt={...wt,encapsulation:p.gXe.Emulated});const ze=this.getOrCreateRenderer(ft,wt);return ze instanceof un?ze.applyToHost(ft):ze instanceof Ot&&ze.applyStyles(),ze}getOrCreateRenderer(ft,wt){const ze=this.rendererByCompId;let st=ze.get(wt.id);if(!st){const V=this.doc,G=this.ngZone,X=this.eventManager,Ee=this.sharedStylesHost,ot=this.removeStylesOnCompDestroy,ht=this.platformIsServer;switch(wt.encapsulation){case p.gXe.Emulated:st=new un(X,Ee,wt,this.appId,ot,V,G,ht);break;case p.gXe.ShadowDom:return new Ye(X,Ee,ft,wt,V,G,this.nonce,ht);default:st=new Ot(X,Ee,wt,ot,V,G,ht)}ze.set(wt.id,st)}return st}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(wt){return new(wt||yt)(p.KVO(I),p.KVO(H),p.KVO(p.sZ2),p.KVO(Ve),p.KVO(m.qQ),p.KVO(p.Agw),p.KVO(p.SKi),p.KVO(p.BIS))};static#t=this.\u0275prov=p.jDH({token:yt,factory:yt.\u0275fac})}return yt})();class fe{constructor(Ht,ft,wt,ze){this.eventManager=Ht,this.doc=ft,this.ngZone=wt,this.platformIsServer=ze,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ht,ft){return ft?this.doc.createElementNS(Q[ft]||ft,Ht):this.doc.createElement(Ht)}createComment(Ht){return this.doc.createComment(Ht)}createText(Ht){return this.doc.createTextNode(Ht)}appendChild(Ht,ft){(Xe(Ht)?Ht.content:Ht).appendChild(ft)}insertBefore(Ht,ft,wt){Ht&&(Xe(Ht)?Ht.content:Ht).insertBefore(ft,wt)}removeChild(Ht,ft){Ht&&Ht.removeChild(ft)}selectRootElement(Ht,ft){let wt="string"==typeof Ht?this.doc.querySelector(Ht):Ht;if(!wt)throw new p.wOt(-5104,!1);return ft||(wt.textContent=""),wt}parentNode(Ht){return Ht.parentNode}nextSibling(Ht){return Ht.nextSibling}setAttribute(Ht,ft,wt,ze){if(ze){ft=ze+":"+ft;const st=Q[ze];st?Ht.setAttributeNS(st,ft,wt):Ht.setAttribute(ft,wt)}else Ht.setAttribute(ft,wt)}removeAttribute(Ht,ft,wt){if(wt){const ze=Q[wt];ze?Ht.removeAttributeNS(ze,ft):Ht.removeAttribute(`${wt}:${ft}`)}else Ht.removeAttribute(ft)}addClass(Ht,ft){Ht.classList.add(ft)}removeClass(Ht,ft){Ht.classList.remove(ft)}setStyle(Ht,ft,wt,ze){ze&(p.czy.DashCase|p.czy.Important)?Ht.style.setProperty(ft,wt,ze&p.czy.Important?"important":""):Ht.style[ft]=wt}removeStyle(Ht,ft,wt){wt&p.czy.DashCase?Ht.style.removeProperty(ft):Ht.style[ft]=""}setProperty(Ht,ft,wt){null!=Ht&&(Ht[ft]=wt)}setValue(Ht,ft){Ht.nodeValue=ft}listen(Ht,ft,wt){if("string"==typeof Ht&&!(Ht=(0,m.QT)().getGlobalEventTarget(this.doc,Ht)))throw new Error(`Unsupported event target ${Ht} for event ${ft}`);return this.eventManager.addEventListener(Ht,ft,this.decoratePreventDefault(wt))}decoratePreventDefault(Ht){return ft=>{if("__ngUnwrap__"===ft)return Ht;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ht(ft)):Ht(ft))&&ft.preventDefault()}}}function Xe(yt){return"TEMPLATE"===yt.tagName&&void 0!==yt.content}class Ye extends fe{constructor(Ht,ft,wt,ze,st,V,G,X){super(Ht,st,V,X),this.sharedStylesHost=ft,this.hostEl=wt,this.shadowRoot=wt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ee=ae(ze.id,ze.styles);for(const ot of Ee){const ht=document.createElement("style");G&&ht.setAttribute("nonce",G),ht.textContent=ot,this.shadowRoot.appendChild(ht)}}nodeOrShadowRoot(Ht){return Ht===this.hostEl?this.shadowRoot:Ht}appendChild(Ht,ft){return super.appendChild(this.nodeOrShadowRoot(Ht),ft)}insertBefore(Ht,ft,wt){return super.insertBefore(this.nodeOrShadowRoot(Ht),ft,wt)}removeChild(Ht,ft){return super.removeChild(this.nodeOrShadowRoot(Ht),ft)}parentNode(Ht){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ht)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ot extends fe{constructor(Ht,ft,wt,ze,st,V,G,X){super(Ht,st,V,G),this.sharedStylesHost=ft,this.removeStylesOnCompDestroy=ze,this.styles=X?ae(X,wt.styles):wt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class un extends Ot{constructor(Ht,ft,wt,ze,st,V,G,X){const Ee=ze+"-"+wt.id;super(Ht,ft,wt,st,V,G,X,Ee),this.contentAttr=function Le(yt){return"_ngcontent-%COMP%".replace(ee,yt)}(Ee),this.hostAttr=function J(yt){return"_nghost-%COMP%".replace(ee,yt)}(Ee)}applyToHost(Ht){this.applyStyles(),this.setAttribute(Ht,this.hostAttr,"")}createElement(Ht,ft){const wt=super.createElement(Ht,ft);return super.setAttribute(wt,this.contentAttr,""),wt}}let Cn=(()=>{class yt extends k{constructor(ft){super(ft)}supports(ft){return!0}addEventListener(ft,wt,ze){return ft.addEventListener(wt,ze,!1),()=>this.removeEventListener(ft,wt,ze)}removeEventListener(ft,wt,ze){return ft.removeEventListener(wt,ze)}static#e=this.\u0275fac=function(wt){return new(wt||yt)(p.KVO(m.qQ))};static#t=this.\u0275prov=p.jDH({token:yt,factory:yt.\u0275fac})}return yt})();const An=["alt","control","meta","shift"],Nn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Et={alt:yt=>yt.altKey,control:yt=>yt.ctrlKey,meta:yt=>yt.metaKey,shift:yt=>yt.shiftKey};let Rt=(()=>{class yt extends k{constructor(ft){super(ft)}supports(ft){return null!=yt.parseEventName(ft)}addEventListener(ft,wt,ze){const st=yt.parseEventName(wt),V=yt.eventCallback(st.fullKey,ze,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.QT)().onAndCancel(ft,st.domEventName,V))}static parseEventName(ft){const wt=ft.toLowerCase().split("."),ze=wt.shift();if(0===wt.length||"keydown"!==ze&&"keyup"!==ze)return null;const st=yt._normalizeKey(wt.pop());let V="",G=wt.indexOf("code");if(G>-1&&(wt.splice(G,1),V="code."),An.forEach(Ee=>{const ot=wt.indexOf(Ee);ot>-1&&(wt.splice(ot,1),V+=Ee+".")}),V+=st,0!=wt.length||0===st.length)return null;const X={};return X.domEventName=ze,X.fullKey=V,X}static matchEventFullKeyCode(ft,wt){let ze=Nn[ft.key]||ft.key,st="";return wt.indexOf("code.")>-1&&(ze=ft.code,st="code."),!(null==ze||!ze)&&(ze=ze.toLowerCase()," "===ze?ze="space":"."===ze&&(ze="dot"),An.forEach(V=>{V!==ze&&(0,Et[V])(ft)&&(st+=V+".")}),st+=ze,st===wt)}static eventCallback(ft,wt,ze){return st=>{yt.matchEventFullKeyCode(st,ft)&&ze.runGuarded(()=>wt(st))}}static _normalizeKey(ft){return"esc"===ft?"escape":ft}static#e=this.\u0275fac=function(wt){return new(wt||yt)(p.KVO(m.qQ))};static#t=this.\u0275prov=p.jDH({token:yt,factory:yt.\u0275fac})}return yt})();const Lt=(0,p.oH4)(p.fpN,"browser",[{provide:p.Agw,useValue:m.AJ},{provide:p.PLl,useValue:function We(){F.makeCurrent()},multi:!0},{provide:m.qQ,useFactory:function mt(){return(0,p.TL$)(document),document},deps:[]}]),bn=new p.nKC(""),it=[{provide:p.e01,useClass:class q{addToWindow(Ht){p.JZv.getAngularTestability=(wt,ze=!0)=>{const st=Ht.findTestabilityInTree(wt,ze);if(null==st)throw new p.wOt(5103,!1);return st},p.JZv.getAllAngularTestabilities=()=>Ht.getAllTestabilities(),p.JZv.getAllAngularRootElements=()=>Ht.getAllRootElements(),p.JZv.frameworkStabilizers||(p.JZv.frameworkStabilizers=[]),p.JZv.frameworkStabilizers.push(wt=>{const ze=p.JZv.getAllAngularTestabilities();let st=ze.length;const V=function(){st--,0==st&&wt()};ze.forEach(G=>{G.whenStable(V)})})}findTestabilityInTree(Ht,ft,wt){return null==ft?null:Ht.getTestability(ft)??(wt?(0,m.QT)().isShadowRoot(ft)?this.findTestabilityInTree(Ht,ft.host,!0):this.findTestabilityInTree(Ht,ft.parentElement,!0):null)}},deps:[]},{provide:p.WHO,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]},{provide:p.NYb,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]}],dt=[{provide:p.H8p,useValue:"root"},{provide:p.zcH,useFactory:function ge(){return new p.zcH},deps:[]},{provide:O,useClass:Cn,multi:!0,deps:[m.qQ,p.SKi,p.Agw]},{provide:O,useClass:Rt,multi:!0,deps:[m.qQ]},de,H,I,{provide:p._9s,useExisting:de},{provide:m.N0,useClass:z,deps:[]},[]];let $t=(()=>{class yt{constructor(ft){}static withServerTransition(ft){return{ngModule:yt,providers:[{provide:p.sZ2,useValue:ft.appId}]}}static#e=this.\u0275fac=function(wt){return new(wt||yt)(p.KVO(bn,12))};static#t=this.\u0275mod=p.$C({type:yt});static#n=this.\u0275inj=p.G2t({providers:[...dt,...it],imports:[m.MD,p.Hbi]})}return yt})(),Pn=(()=>{class yt{constructor(ft){this._doc=ft,this._dom=(0,m.QT)()}addTag(ft,wt=!1){return ft?this._getOrCreateElement(ft,wt):null}addTags(ft,wt=!1){return ft?ft.reduce((ze,st)=>(st&&ze.push(this._getOrCreateElement(st,wt)),ze),[]):[]}getTag(ft){return ft&&this._doc.querySelector(`meta[${ft}]`)||null}getTags(ft){if(!ft)return[];const wt=this._doc.querySelectorAll(`meta[${ft}]`);return wt?[].slice.call(wt):[]}updateTag(ft,wt){if(!ft)return null;wt=wt||this._parseSelector(ft);const ze=this.getTag(wt);return ze?this._setMetaElementAttributes(ft,ze):this._getOrCreateElement(ft,!0)}removeTag(ft){this.removeTagElement(this.getTag(ft))}removeTagElement(ft){ft&&this._dom.remove(ft)}_getOrCreateElement(ft,wt=!1){if(!wt){const V=this._parseSelector(ft),G=this.getTags(V).filter(X=>this._containsAttributes(ft,X))[0];if(void 0!==G)return G}const ze=this._dom.createElement("meta");return this._setMetaElementAttributes(ft,ze),this._doc.getElementsByTagName("head")[0].appendChild(ze),ze}_setMetaElementAttributes(ft,wt){return Object.keys(ft).forEach(ze=>wt.setAttribute(this._getMetaKeyMap(ze),ft[ze])),wt}_parseSelector(ft){const wt=ft.name?"name":"property";return`${wt}="${ft[wt]}"`}_containsAttributes(ft,wt){return Object.keys(ft).every(ze=>wt.getAttribute(this._getMetaKeyMap(ze))===ft[ze])}_getMetaKeyMap(ft){return qn[ft]||ft}static#e=this.\u0275fac=function(wt){return new(wt||yt)(p.KVO(m.qQ))};static#t=this.\u0275prov=p.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})();const qn={httpEquiv:"http-equiv"};let Pi=(()=>{class yt{constructor(ft){this._doc=ft}getTitle(){return this._doc.title}setTitle(ft){this._doc.title=ft||""}static#e=this.\u0275fac=function(wt){return new(wt||yt)(p.KVO(m.qQ))};static#t=this.\u0275prov=p.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),br=(()=>{class yt{static#e=this.\u0275fac=function(wt){return new(wt||yt)};static#t=this.\u0275prov=p.jDH({token:yt,factory:function(wt){let ze=null;return ze=wt?new(wt||yt):p.KVO(Si),ze},providedIn:"root"})}return yt})(),Si=(()=>{class yt extends br{constructor(ft){super(),this._doc=ft}sanitize(ft,wt){if(null==wt)return null;switch(ft){case p.WPN.NONE:return wt;case p.WPN.HTML:return(0,p.ZF7)(wt,"HTML")?(0,p.rcV)(wt):(0,p.h9k)(this._doc,String(wt)).toString();case p.WPN.STYLE:return(0,p.ZF7)(wt,"Style")?(0,p.rcV)(wt):wt;case p.WPN.SCRIPT:if((0,p.ZF7)(wt,"Script"))return(0,p.rcV)(wt);throw new p.wOt(5200,!1);case p.WPN.URL:return(0,p.ZF7)(wt,"URL")?(0,p.rcV)(wt):(0,p.$MX)(String(wt));case p.WPN.RESOURCE_URL:if((0,p.ZF7)(wt,"ResourceURL"))return(0,p.rcV)(wt);throw new p.wOt(5201,!1);default:throw new p.wOt(5202,!1)}}bypassSecurityTrustHtml(ft){return(0,p.Kcf)(ft)}bypassSecurityTrustStyle(ft){return(0,p.cWb)(ft)}bypassSecurityTrustScript(ft){return(0,p.UyX)(ft)}bypassSecurityTrustUrl(ft){return(0,p.osQ)(ft)}bypassSecurityTrustResourceUrl(ft){return(0,p.e5t)(ft)}static#e=this.\u0275fac=function(wt){return new(wt||yt)(p.KVO(m.qQ))};static#t=this.\u0275prov=p.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})()},1188:(Jt,ke,E)=>{"use strict";E.d(ke,{nX:()=>De,wF:()=>Zr,Z:()=>ss,Ix:()=>ms,Wk:()=>Ri,wQ:()=>Ir,iI:()=>Qo,n3:()=>Fr,Xw:()=>Mi});var p=E(467),m=E(4438),T=E(4402),F=E(8455),x=E(7673),ce=E(4412),ne=E(4572),q=E(9350),z=E(8793),O=E(9030),I=E(1203),k=E(8810),A=E(983),H=E(17),Q=E(1413),ee=E(8359),be=E(177),me=E(6354),Ne=E(5558),Be=E(6697),Ve=E(9172),Le=E(5964),J=E(1397),ae=E(1594),de=E(274),fe=E(8141),Re=E(9437),_e=E(2816),Xe=E(9901),Ye=E(9974),Ot=E(4360);function un(te){return te<=0?()=>A.w:(0,Ye.N)((Ce,ie)=>{let Se=[];Ce.subscribe((0,Ot._)(ie,Ae=>{Se.push(Ae),te<Se.length&&Se.shift()},()=>{for(const Ae of Se)ie.next(Ae);ie.complete()},void 0,()=>{Se=null}))})}var Cn=E(3774),An=E(3669),Et=E(3703),Rt=E(980),jt=E(9898),Dt=E(6977),en=E(6365),qe=E(345);const We="primary",ge=Symbol("RouteTitle");class mt{constructor(Ce){this.params=Ce||{}}has(Ce){return Object.prototype.hasOwnProperty.call(this.params,Ce)}get(Ce){if(this.has(Ce)){const ie=this.params[Ce];return Array.isArray(ie)?ie[0]:ie}return null}getAll(Ce){if(this.has(Ce)){const ie=this.params[Ce];return Array.isArray(ie)?ie:[ie]}return[]}get keys(){return Object.keys(this.params)}}function Ft(te){return new mt(te)}function Lt(te,Ce,ie){const Se=ie.path.split("/");if(Se.length>te.length||"full"===ie.pathMatch&&(Ce.hasChildren()||Se.length<te.length))return null;const Ae={};for(let At=0;At<Se.length;At++){const fn=Se[At],li=te[At];if(fn.startsWith(":"))Ae[fn.substring(1)]=li;else if(fn!==li.path)return null}return{consumed:te.slice(0,Se.length),posParams:Ae}}function it(te,Ce){const ie=te?dt(te):void 0,Se=Ce?dt(Ce):void 0;if(!ie||!Se||ie.length!=Se.length)return!1;let Ae;for(let At=0;At<ie.length;At++)if(Ae=ie[At],!$t(te[Ae],Ce[Ae]))return!1;return!0}function dt(te){return[...Object.keys(te),...Object.getOwnPropertySymbols(te)]}function $t(te,Ce){if(Array.isArray(te)&&Array.isArray(Ce)){if(te.length!==Ce.length)return!1;const ie=[...te].sort(),Se=[...Ce].sort();return ie.every((Ae,At)=>Se[At]===Ae)}return te===Ce}function Pn(te){return te.length>0?te[te.length-1]:null}function qn(te){return(0,T.A)(te)?te:(0,m.jNT)(te)?(0,F.H)(Promise.resolve(te)):(0,x.of)(te)}const Pi={exact:function Ie(te,Ce,ie){if(!bi(te.segments,Ce.segments)||!Gt(te.segments,Ce.segments,ie)||te.numberOfChildren!==Ce.numberOfChildren)return!1;for(const Se in Ce.children)if(!te.children[Se]||!Ie(te.children[Se],Ce.children[Se],ie))return!1;return!0},subset:Ge},hi={exact:function qt(te,Ce){return it(te,Ce)},subset:function Te(te,Ce){return Object.keys(Ce).length<=Object.keys(te).length&&Object.keys(Ce).every(ie=>$t(te[ie],Ce[ie]))},ignored:()=>!0};function Ci(te,Ce,ie){return Pi[ie.paths](te.root,Ce.root,ie.matrixParams)&&hi[ie.queryParams](te.queryParams,Ce.queryParams)&&!("exact"===ie.fragment&&te.fragment!==Ce.fragment)}function Ge(te,Ce,ie){return kt(te,Ce,Ce.segments,ie)}function kt(te,Ce,ie,Se){if(te.segments.length>ie.length){const Ae=te.segments.slice(0,ie.length);return!(!bi(Ae,ie)||Ce.hasChildren()||!Gt(Ae,ie,Se))}if(te.segments.length===ie.length){if(!bi(te.segments,ie)||!Gt(te.segments,ie,Se))return!1;for(const Ae in Ce.children)if(!te.children[Ae]||!Ge(te.children[Ae],Ce.children[Ae],Se))return!1;return!0}{const Ae=ie.slice(0,te.segments.length),At=ie.slice(te.segments.length);return!!(bi(te.segments,Ae)&&Gt(te.segments,Ae,Se)&&te.children[We])&&kt(te.children[We],Ce,At,Se)}}function Gt(te,Ce,ie){return Ce.every((Se,Ae)=>hi[ie](te[Ae].parameters,Se.parameters))}class En{constructor(Ce=new Yn([],{}),ie={},Se=null){this.root=Ce,this.queryParams=ie,this.fragment=Se}get queryParamMap(){return this._queryParamMap??=Ft(this.queryParams),this._queryParamMap}toString(){return Ar.serialize(this)}}class Yn{constructor(Ce,ie){this.segments=Ce,this.children=ie,this.parent=null,Object.values(ie).forEach(Se=>Se.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $i(this)}}class Mi{constructor(Ce,ie){this.path=Ce,this.parameters=ie}get parameterMap(){return this._parameterMap??=Ft(this.parameters),this._parameterMap}toString(){return yt(this)}}function bi(te,Ce){return te.length===Ce.length&&te.every((ie,Se)=>ie.path===Ce[Se].path)}let br=(()=>{class te{static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275prov=m.jDH({token:te,factory:()=>new Si,providedIn:"root"})}return te})();class Si{parse(Ce){const ie=new ht(Ce);return new En(ie.parseRootSegment(),ie.parseQueryParams(),ie.parseFragment())}serialize(Ce){const ie=`/${Gi(Ce.root,!0)}`,Se=function ft(te){const Ce=Object.entries(te).map(([ie,Se])=>Array.isArray(Se)?Se.map(Ae=>`${Dn(ie)}=${Dn(Ae)}`).join("&"):`${Dn(ie)}=${Dn(Se)}`).filter(ie=>ie);return Ce.length?`?${Ce.join("&")}`:""}(Ce.queryParams);return`${ie}${Se}${"string"==typeof Ce.fragment?`#${function On(te){return encodeURI(te)}(Ce.fragment)}`:""}`}}const Ar=new Si;function $i(te){return te.segments.map(Ce=>yt(Ce)).join("/")}function Gi(te,Ce){if(!te.hasChildren())return $i(te);if(Ce){const ie=te.children[We]?Gi(te.children[We],!1):"",Se=[];return Object.entries(te.children).forEach(([Ae,At])=>{Ae!==We&&Se.push(`${Ae}:${Gi(At,!1)}`)}),Se.length>0?`${ie}(${Se.join("//")})`:ie}{const ie=function rr(te,Ce){let ie=[];return Object.entries(te.children).forEach(([Se,Ae])=>{Se===We&&(ie=ie.concat(Ce(Ae,Se)))}),Object.entries(te.children).forEach(([Se,Ae])=>{Se!==We&&(ie=ie.concat(Ce(Ae,Se)))}),ie}(te,(Se,Ae)=>Ae===We?[Gi(te.children[We],!1)]:[`${Ae}:${Gi(Se,!1)}`]);return 1===Object.keys(te.children).length&&null!=te.children[We]?`${$i(te)}/${ie[0]}`:`${$i(te)}/(${ie.join("//")})`}}function rs(te){return encodeURIComponent(te).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dn(te){return rs(te).replace(/%3B/gi,";")}function bt(te){return rs(te).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pt(te){return decodeURIComponent(te)}function Vt(te){return Pt(te.replace(/\+/g,"%20"))}function yt(te){return`${bt(te.path)}${function Ht(te){return Object.entries(te).map(([Ce,ie])=>`;${bt(Ce)}=${bt(ie)}`).join("")}(te.parameters)}`}const wt=/^[^\/()?;#]+/;function ze(te){const Ce=te.match(wt);return Ce?Ce[0]:""}const st=/^[^\/()?;=#]+/,G=/^[^=?&#]+/,Ee=/^[^&#]+/;class ht{constructor(Ce){this.url=Ce,this.remaining=Ce}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yn([],{}):new Yn([],this.parseChildren())}parseQueryParams(){const Ce={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ce)}while(this.consumeOptional("&"));return Ce}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ce=[];for(this.peekStartsWith("(")||Ce.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ce.push(this.parseSegment());let ie={};this.peekStartsWith("/(")&&(this.capture("/"),ie=this.parseParens(!0));let Se={};return this.peekStartsWith("(")&&(Se=this.parseParens(!1)),(Ce.length>0||Object.keys(ie).length>0)&&(Se[We]=new Yn(Ce,ie)),Se}parseSegment(){const Ce=ze(this.remaining);if(""===Ce&&this.peekStartsWith(";"))throw new m.wOt(4009,!1);return this.capture(Ce),new Mi(Pt(Ce),this.parseMatrixParams())}parseMatrixParams(){const Ce={};for(;this.consumeOptional(";");)this.parseParam(Ce);return Ce}parseParam(Ce){const ie=function V(te){const Ce=te.match(st);return Ce?Ce[0]:""}(this.remaining);if(!ie)return;this.capture(ie);let Se="";if(this.consumeOptional("=")){const Ae=ze(this.remaining);Ae&&(Se=Ae,this.capture(Se))}Ce[Pt(ie)]=Pt(Se)}parseQueryParam(Ce){const ie=function X(te){const Ce=te.match(G);return Ce?Ce[0]:""}(this.remaining);if(!ie)return;this.capture(ie);let Se="";if(this.consumeOptional("=")){const fn=function ot(te){const Ce=te.match(Ee);return Ce?Ce[0]:""}(this.remaining);fn&&(Se=fn,this.capture(Se))}const Ae=Vt(ie),At=Vt(Se);if(Ce.hasOwnProperty(Ae)){let fn=Ce[Ae];Array.isArray(fn)||(fn=[fn],Ce[Ae]=fn),fn.push(At)}else Ce[Ae]=At}parseParens(Ce){const ie={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Se=ze(this.remaining),Ae=this.remaining[Se.length];if("/"!==Ae&&")"!==Ae&&";"!==Ae)throw new m.wOt(4010,!1);let At;Se.indexOf(":")>-1?(At=Se.slice(0,Se.indexOf(":")),this.capture(At),this.capture(":")):Ce&&(At=We);const fn=this.parseChildren();ie[At]=1===Object.keys(fn).length?fn[We]:new Yn([],fn),this.consumeOptional("//")}return ie}peekStartsWith(Ce){return this.remaining.startsWith(Ce)}consumeOptional(Ce){return!!this.peekStartsWith(Ce)&&(this.remaining=this.remaining.substring(Ce.length),!0)}capture(Ce){if(!this.consumeOptional(Ce))throw new m.wOt(4011,!1)}}function on(te){return te.segments.length>0?new Yn([],{[We]:te}):te}function gn(te){const Ce={};for(const[Se,Ae]of Object.entries(te.children)){const At=gn(Ae);if(Se===We&&0===At.segments.length&&At.hasChildren())for(const[fn,li]of Object.entries(At.children))Ce[fn]=li;else(At.segments.length>0||At.hasChildren())&&(Ce[Se]=At)}return function pt(te){if(1===te.numberOfChildren&&te.children[We]){const Ce=te.children[We];return new Yn(te.segments.concat(Ce.segments),Ce.children)}return te}(new Yn(te.segments,Ce))}function Ut(te){return te instanceof En}function ln(te){let Ce;const Ae=on(function ie(At){const fn={};for(const ii of At.children){const _r=ie(ii);fn[ii.outlet]=_r}const li=new Yn(At.url,fn);return At===te&&(Ce=li),li}(te.root));return Ce??Ae}function Rn(te,Ce,ie,Se){let Ae=te;for(;Ae.parent;)Ae=Ae.parent;if(0===Ce.length)return $n(Ae,Ae,Ae,ie,Se);const At=function sn(te){if("string"==typeof te[0]&&1===te.length&&"/"===te[0])return new Ai(!0,0,te);let Ce=0,ie=!1;const Se=te.reduce((Ae,At,fn)=>{if("object"==typeof At&&null!=At){if(At.outlets){const li={};return Object.entries(At.outlets).forEach(([ii,_r])=>{li[ii]="string"==typeof _r?_r.split("/"):_r}),[...Ae,{outlets:li}]}if(At.segmentPath)return[...Ae,At.segmentPath]}return"string"!=typeof At?[...Ae,At]:0===fn?(At.split("/").forEach((li,ii)=>{0==ii&&"."===li||(0==ii&&""===li?ie=!0:".."===li?Ce++:""!=li&&Ae.push(li))}),Ae):[...Ae,At]},[]);return new Ai(ie,Ce,Se)}(Ce);if(At.toRoot())return $n(Ae,Ae,new Yn([],{}),ie,Se);const fn=function xt(te,Ce,ie){if(te.isAbsolute)return new hn(Ce,!0,0);if(!ie)return new hn(Ce,!1,NaN);if(null===ie.parent)return new hn(ie,!0,0);const Se=Nt(te.commands[0])?0:1;return function dn(te,Ce,ie){let Se=te,Ae=Ce,At=ie;for(;At>Ae;){if(At-=Ae,Se=Se.parent,!Se)throw new m.wOt(4005,!1);Ae=Se.segments.length}return new hn(Se,!1,Ae-At)}(ie,ie.segments.length-1+Se,te.numberOfDoubleDots)}(At,Ae,te),li=fn.processChildren?we(fn.segmentGroup,fn.index,At.commands):ct(fn.segmentGroup,fn.index,At.commands);return $n(Ae,fn.segmentGroup,li,ie,Se)}function Nt(te){return"object"==typeof te&&null!=te&&!te.outlets&&!te.segmentPath}function vn(te){return"object"==typeof te&&null!=te&&te.outlets}function $n(te,Ce,ie,Se,Ae){let fn,At={};Se&&Object.entries(Se).forEach(([ii,_r])=>{At[ii]=Array.isArray(_r)?_r.map(os=>`${os}`):`${_r}`}),fn=te===Ce?ie:Zn(te,Ce,ie);const li=on(gn(fn));return new En(li,At,Ae)}function Zn(te,Ce,ie){const Se={};return Object.entries(te.children).forEach(([Ae,At])=>{Se[Ae]=At===Ce?ie:Zn(At,Ce,ie)}),new Yn(te.segments,Se)}class Ai{constructor(Ce,ie,Se){if(this.isAbsolute=Ce,this.numberOfDoubleDots=ie,this.commands=Se,Ce&&Se.length>0&&Nt(Se[0]))throw new m.wOt(4003,!1);const Ae=Se.find(vn);if(Ae&&Ae!==Pn(Se))throw new m.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hn{constructor(Ce,ie,Se){this.segmentGroup=Ce,this.processChildren=ie,this.index=Se}}function ct(te,Ce,ie){if(te??=new Yn([],{}),0===te.segments.length&&te.hasChildren())return we(te,Ce,ie);const Se=function at(te,Ce,ie){let Se=0,Ae=Ce;const At={match:!1,pathIndex:0,commandIndex:0};for(;Ae<te.segments.length;){if(Se>=ie.length)return At;const fn=te.segments[Ae],li=ie[Se];if(vn(li))break;const ii=`${li}`,_r=Se<ie.length-1?ie[Se+1]:null;if(Ae>0&&void 0===ii)break;if(ii&&_r&&"object"==typeof _r&&void 0===_r.outlets){if(!oi(ii,_r,fn))return At;Se+=2}else{if(!oi(ii,{},fn))return At;Se++}Ae++}return{match:!0,pathIndex:Ae,commandIndex:Se}}(te,Ce,ie),Ae=ie.slice(Se.commandIndex);if(Se.match&&Se.pathIndex<te.segments.length){const At=new Yn(te.segments.slice(0,Se.pathIndex),{});return At.children[We]=new Yn(te.segments.slice(Se.pathIndex),te.children),we(At,0,Ae)}return Se.match&&0===Ae.length?new Yn(te.segments,{}):Se.match&&!te.hasChildren()?Mt(te,Ce,ie):Se.match?we(te,0,Ae):Mt(te,Ce,ie)}function we(te,Ce,ie){if(0===ie.length)return new Yn(te.segments,{});{const Se=function he(te){return vn(te[0])?te[0].outlets:{[We]:te}}(ie),Ae={};if(Object.keys(Se).some(At=>At!==We)&&te.children[We]&&1===te.numberOfChildren&&0===te.children[We].segments.length){const At=we(te.children[We],Ce,ie);return new Yn(te.segments,At.children)}return Object.entries(Se).forEach(([At,fn])=>{"string"==typeof fn&&(fn=[fn]),null!==fn&&(Ae[At]=ct(te.children[At],Ce,fn))}),Object.entries(te.children).forEach(([At,fn])=>{void 0===Se[At]&&(Ae[At]=fn)}),new Yn(te.segments,Ae)}}function Mt(te,Ce,ie){const Se=te.segments.slice(0,Ce);let Ae=0;for(;Ae<ie.length;){const At=ie[Ae];if(vn(At)){const ii=Sn(At.outlets);return new Yn(Se,ii)}if(0===Ae&&Nt(ie[0])){Se.push(new Mi(te.segments[Ce].path,Ln(ie[0]))),Ae++;continue}const fn=vn(At)?At.outlets[We]:`${At}`,li=Ae<ie.length-1?ie[Ae+1]:null;fn&&li&&Nt(li)?(Se.push(new Mi(fn,Ln(li))),Ae+=2):(Se.push(new Mi(fn,{})),Ae++)}return new Yn(Se,{})}function Sn(te){const Ce={};return Object.entries(te).forEach(([ie,Se])=>{"string"==typeof Se&&(Se=[Se]),null!==Se&&(Ce[ie]=Mt(new Yn([],{}),0,Se))}),Ce}function Ln(te){const Ce={};return Object.entries(te).forEach(([ie,Se])=>Ce[ie]=`${Se}`),Ce}function oi(te,Ce,ie){return te==ie.path&&it(Ce,ie.parameters)}const Di="imperative";var ji=function(te){return te[te.NavigationStart=0]="NavigationStart",te[te.NavigationEnd=1]="NavigationEnd",te[te.NavigationCancel=2]="NavigationCancel",te[te.NavigationError=3]="NavigationError",te[te.RoutesRecognized=4]="RoutesRecognized",te[te.ResolveStart=5]="ResolveStart",te[te.ResolveEnd=6]="ResolveEnd",te[te.GuardsCheckStart=7]="GuardsCheckStart",te[te.GuardsCheckEnd=8]="GuardsCheckEnd",te[te.RouteConfigLoadStart=9]="RouteConfigLoadStart",te[te.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",te[te.ChildActivationStart=11]="ChildActivationStart",te[te.ChildActivationEnd=12]="ChildActivationEnd",te[te.ActivationStart=13]="ActivationStart",te[te.ActivationEnd=14]="ActivationEnd",te[te.Scroll=15]="Scroll",te[te.NavigationSkipped=16]="NavigationSkipped",te}(ji||{});class Li{constructor(Ce,ie){this.id=Ce,this.url=ie}}class ss extends Li{constructor(Ce,ie,Se="imperative",Ae=null){super(Ce,ie),this.type=ji.NavigationStart,this.navigationTrigger=Se,this.restoredState=Ae}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zr extends Li{constructor(Ce,ie,Se){super(Ce,ie),this.urlAfterRedirects=Se,this.type=ji.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var pi=function(te){return te[te.Redirect=0]="Redirect",te[te.SupersededByNewNavigation=1]="SupersededByNewNavigation",te[te.NoDataFromResolver=2]="NoDataFromResolver",te[te.GuardRejected=3]="GuardRejected",te}(pi||{}),Or=function(te){return te[te.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",te[te.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",te}(Or||{});class bo extends Li{constructor(Ce,ie,Se,Ae){super(Ce,ie),this.reason=Se,this.code=Ae,this.type=ji.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xs extends Li{constructor(Ce,ie,Se,Ae){super(Ce,ie),this.reason=Se,this.code=Ae,this.type=ji.NavigationSkipped}}class ts extends Li{constructor(Ce,ie,Se,Ae){super(Ce,ie),this.error=Se,this.target=Ae,this.type=ji.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fs extends Li{constructor(Ce,ie,Se,Ae){super(Ce,ie),this.urlAfterRedirects=Se,this.state=Ae,this.type=ji.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fi extends Li{constructor(Ce,ie,Se,Ae){super(Ce,ie),this.urlAfterRedirects=Se,this.state=Ae,this.type=ji.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mi extends Li{constructor(Ce,ie,Se,Ae,At){super(Ce,ie),this.urlAfterRedirects=Se,this.state=Ae,this.shouldActivate=At,this.type=ji.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class no extends Li{constructor(Ce,ie,Se,Ae){super(Ce,ie),this.urlAfterRedirects=Se,this.state=Ae,this.type=ji.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oo extends Li{constructor(Ce,ie,Se,Ae){super(Ce,ie),this.urlAfterRedirects=Se,this.state=Ae,this.type=ji.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class As{constructor(Ce){this.route=Ce,this.type=ji.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class io{constructor(Ce){this.route=Ce,this.type=ji.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kr{constructor(Ce){this.snapshot=Ce,this.type=ji.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ps{constructor(Ce){this.snapshot=Ce,this.type=ji.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bc{constructor(Ce){this.snapshot=Ce,this.type=ji.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{constructor(Ce){this.snapshot=Ce,this.type=ji.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pa{constructor(Ce,ie,Se){this.routerEvent=Ce,this.position=ie,this.anchor=Se,this.type=ji.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Vc{}class dl{constructor(Ce){this.url=Ce}}class ds{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ul,this.attachRef=null}}let ul=(()=>{class te{constructor(){this.contexts=new Map}onChildOutletCreated(ie,Se){const Ae=this.getOrCreateContext(ie);Ae.outlet=Se,this.contexts.set(ie,Ae)}onChildOutletDestroyed(ie){const Se=this.getContext(ie);Se&&(Se.outlet=null,Se.attachRef=null)}onOutletDeactivated(){const ie=this.contexts;return this.contexts=new Map,ie}onOutletReAttached(ie){this.contexts=ie}getOrCreateContext(ie){let Se=this.getContext(ie);return Se||(Se=new ds,this.contexts.set(ie,Se)),Se}getContext(ie){return this.contexts.get(ie)||null}static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275prov=m.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();class Jo{constructor(Ce){this._root=Ce}get root(){return this._root.value}parent(Ce){const ie=this.pathFromRoot(Ce);return ie.length>1?ie[ie.length-2]:null}children(Ce){const ie=Ms(Ce,this._root);return ie?ie.children.map(Se=>Se.value):[]}firstChild(Ce){const ie=Ms(Ce,this._root);return ie&&ie.children.length>0?ie.children[0].value:null}siblings(Ce){const ie=Ga(Ce,this._root);return ie.length<2?[]:ie[ie.length-2].children.map(Ae=>Ae.value).filter(Ae=>Ae!==Ce)}pathFromRoot(Ce){return Ga(Ce,this._root).map(ie=>ie.value)}}function Ms(te,Ce){if(te===Ce.value)return Ce;for(const ie of Ce.children){const Se=Ms(te,ie);if(Se)return Se}return null}function Ga(te,Ce){if(te===Ce.value)return[Ce];for(const ie of Ce.children){const Se=Ga(te,ie);if(Se.length)return Se.unshift(Ce),Se}return[]}class Wa{constructor(Ce,ie){this.value=Ce,this.children=ie}toString(){return`TreeNode(${this.value})`}}function nc(te){const Ce={};return te&&te.children.forEach(ie=>Ce[ie.value.outlet]=ie),Ce}class Ra extends Jo{constructor(Ce,ie){super(Ce),this.snapshot=ie,Wn(this,Ce)}toString(){return this.snapshot.toString()}}function Ka(te){const Ce=function U(te){const At=new Yt([],{},{},"",{},We,te,null,{});return new yn("",new Wa(At,[]))}(te),ie=new ce.t([new Mi("",{})]),Se=new ce.t({}),Ae=new ce.t({}),At=new ce.t({}),fn=new ce.t(""),li=new De(ie,Se,At,fn,Ae,We,te,Ce.root);return li.snapshot=Ce.root,new Ra(new Wa(li,[]),Ce)}class De{constructor(Ce,ie,Se,Ae,At,fn,li,ii){this.urlSubject=Ce,this.paramsSubject=ie,this.queryParamsSubject=Se,this.fragmentSubject=Ae,this.dataSubject=At,this.outlet=fn,this.component=li,this._futureSnapshot=ii,this.title=this.dataSubject?.pipe((0,me.T)(_r=>_r[ge]))??(0,x.of)(void 0),this.url=Ce,this.params=ie,this.queryParams=Se,this.fragment=Ae,this.data=At}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,me.T)(Ce=>Ft(Ce))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,me.T)(Ce=>Ft(Ce))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Me(te,Ce,ie="emptyOnly"){let Se;const{routeConfig:Ae}=te;return Se=null===Ce||"always"!==ie&&""!==Ae?.path&&(Ce.component||Ce.routeConfig?.loadComponent)?{params:{...te.params},data:{...te.data},resolve:{...te.data,...te._resolvedData??{}}}:{params:{...Ce.params,...te.params},data:{...Ce.data,...te.data},resolve:{...te.data,...Ce.data,...Ae?.data,...te._resolvedData}},Ae&&er(Ae)&&(Se.resolve[ge]=Ae.title),Se}class Yt{get title(){return this.data?.[ge]}constructor(Ce,ie,Se,Ae,At,fn,li,ii,_r){this.url=Ce,this.params=ie,this.queryParams=Se,this.fragment=Ae,this.data=At,this.outlet=fn,this.component=li,this.routeConfig=ii,this._resolve=_r}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ft(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ft(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Se=>Se.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yn extends Jo{constructor(Ce,ie){super(ie),this.url=Ce,Wn(this,ie)}toString(){return zn(this._root)}}function Wn(te,Ce){Ce.value._routerState=te,Ce.children.forEach(ie=>Wn(te,ie))}function zn(te){const Ce=te.children.length>0?` { ${te.children.map(zn).join(", ")} } `:"";return`${te.value}${Ce}`}function Hn(te){if(te.snapshot){const Ce=te.snapshot,ie=te._futureSnapshot;te.snapshot=ie,it(Ce.queryParams,ie.queryParams)||te.queryParamsSubject.next(ie.queryParams),Ce.fragment!==ie.fragment&&te.fragmentSubject.next(ie.fragment),it(Ce.params,ie.params)||te.paramsSubject.next(ie.params),function bn(te,Ce){if(te.length!==Ce.length)return!1;for(let ie=0;ie<te.length;++ie)if(!it(te[ie],Ce[ie]))return!1;return!0}(Ce.url,ie.url)||te.urlSubject.next(ie.url),it(Ce.data,ie.data)||te.dataSubject.next(ie.data)}else te.snapshot=te._futureSnapshot,te.dataSubject.next(te._futureSnapshot.data)}function gi(te,Ce){const ie=it(te.params,Ce.params)&&function yi(te,Ce){return bi(te,Ce)&&te.every((ie,Se)=>it(ie.parameters,Ce[Se].parameters))}(te.url,Ce.url);return ie&&!(!te.parent!=!Ce.parent)&&(!te.parent||gi(te.parent,Ce.parent))}function er(te){return"string"==typeof te.title||null===te.title}let Fr=(()=>{class te{constructor(){this.activated=null,this._activatedRoute=null,this.name=We,this.activateEvents=new m.bkB,this.deactivateEvents=new m.bkB,this.attachEvents=new m.bkB,this.detachEvents=new m.bkB,this.parentContexts=(0,m.WQX)(ul),this.location=(0,m.WQX)(m.c1b),this.changeDetector=(0,m.WQX)(m.gRc),this.environmentInjector=(0,m.WQX)(m.uvJ),this.inputBinder=(0,m.WQX)(xr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(ie){if(ie.name){const{firstChange:Se,previousValue:Ae}=ie.name;if(Se)return;this.isTrackedInParentContexts(Ae)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ae)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(ie){return this.parentContexts.getContext(ie)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const ie=this.parentContexts.getContext(this.name);ie?.route&&(ie.attachRef?this.attach(ie.attachRef,ie.route):this.activateWith(ie.route,ie.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.wOt(4012,!1);this.location.detach();const ie=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(ie.instance),ie}attach(ie,Se){this.activated=ie,this._activatedRoute=Se,this.location.insert(ie.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(ie.instance)}deactivate(){if(this.activated){const ie=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ie)}}activateWith(ie,Se){if(this.isActivated)throw new m.wOt(4013,!1);this._activatedRoute=ie;const Ae=this.location,fn=ie.snapshot.component,li=this.parentContexts.getOrCreateContext(this.name).children,ii=new Ni(ie,li,Ae.injector);this.activated=Ae.createComponent(fn,{index:Ae.length,injector:ii,environmentInjector:Se??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275dir=m.FsC({type:te,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.OA$]})}return te})();class Ni{__ngOutletInjector(Ce){return new Ni(this.route,this.childContexts,Ce)}constructor(Ce,ie,Se){this.route=Ce,this.childContexts=ie,this.parent=Se}get(Ce,ie){return Ce===De?this.route:Ce===ul?this.childContexts:this.parent.get(Ce,ie)}}const xr=new m.nKC("");let ks=(()=>{class te{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ie){this.unsubscribeFromRouteData(ie),this.subscribeToRouteData(ie)}unsubscribeFromRouteData(ie){this.outletDataSubscriptions.get(ie)?.unsubscribe(),this.outletDataSubscriptions.delete(ie)}subscribeToRouteData(ie){const{activatedRoute:Se}=ie,Ae=(0,ne.z)([Se.queryParams,Se.params,Se.data]).pipe((0,Ne.n)(([At,fn,li],ii)=>(li={...At,...fn,...li},0===ii?(0,x.of)(li):Promise.resolve(li)))).subscribe(At=>{if(!ie.isActivated||!ie.activatedComponentRef||ie.activatedRoute!==Se||null===Se.component)return void this.unsubscribeFromRouteData(ie);const fn=(0,m.HJs)(Se.component);if(fn)for(const{templateName:li}of fn.inputs)ie.activatedComponentRef.setInput(li,At[li]);else this.unsubscribeFromRouteData(ie)});this.outletDataSubscriptions.set(ie,Ae)}static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275prov=m.jDH({token:te,factory:te.\u0275fac})}return te})();function Ur(te,Ce,ie){if(ie&&te.shouldReuseRoute(Ce.value,ie.value.snapshot)){const Se=ie.value;Se._futureSnapshot=Ce.value;const Ae=function Rr(te,Ce,ie){return Ce.children.map(Se=>{for(const Ae of ie.children)if(te.shouldReuseRoute(Se.value,Ae.value.snapshot))return Ur(te,Se,Ae);return Ur(te,Se)})}(te,Ce,ie);return new Wa(Se,Ae)}{if(te.shouldAttach(Ce.value)){const At=te.retrieve(Ce.value);if(null!==At){const fn=At.route;return fn.value._futureSnapshot=Ce.value,fn.children=Ce.children.map(li=>Ur(te,li)),fn}}const Se=function Bs(te){return new De(new ce.t(te.url),new ce.t(te.params),new ce.t(te.queryParams),new ce.t(te.fragment),new ce.t(te.data),te.outlet,te.component,te)}(Ce.value),Ae=Ce.children.map(At=>Ur(te,At));return new Wa(Se,Ae)}}const or="ngNavigationCancelingError";function Pr(te,Ce){const{redirectTo:ie,navigationBehaviorOptions:Se}=Ut(Ce)?{redirectTo:Ce,navigationBehaviorOptions:void 0}:Ce,Ae=tr(!1,pi.Redirect);return Ae.url=ie,Ae.navigationBehaviorOptions=Se,Ae}function tr(te,Ce){const ie=new Error(`NavigationCancelingError: ${te||""}`);return ie[or]=!0,ie.cancellationCode=Ce,ie}function Us(te){return!!te&&te[or]}let oa=(()=>{class te{static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275cmp=m.VBU({type:te,selectors:[["ng-component"]],standalone:!0,features:[m.aNF],decls:1,vars:0,template:function(Se,Ae){1&Se&&m.nrm(0,"router-outlet")},dependencies:[Fr],encapsulation:2})}return te})();function La(te){const Ce=te.children&&te.children.map(La),ie=Ce?{...te,children:Ce}:{...te};return!ie.component&&!ie.loadComponent&&(Ce||ie.loadChildren)&&ie.outlet&&ie.outlet!==We&&(ie.component=oa),ie}function Zs(te){return te.outlet||We}function Xo(te){if(!te)return null;if(te.routeConfig?._injector)return te.routeConfig._injector;for(let Ce=te.parent;Ce;Ce=Ce.parent){const ie=Ce.routeConfig;if(ie?._loadedInjector)return ie._loadedInjector;if(ie?._injector)return ie._injector}return null}class ca{constructor(Ce,ie,Se,Ae,At){this.routeReuseStrategy=Ce,this.futureState=ie,this.currState=Se,this.forwardEvent=Ae,this.inputBindingEnabled=At}activate(Ce){const ie=this.futureState._root,Se=this.currState?this.currState._root:null;this.deactivateChildRoutes(ie,Se,Ce),Hn(this.futureState.root),this.activateChildRoutes(ie,Se,Ce)}deactivateChildRoutes(Ce,ie,Se){const Ae=nc(ie);Ce.children.forEach(At=>{const fn=At.value.outlet;this.deactivateRoutes(At,Ae[fn],Se),delete Ae[fn]}),Object.values(Ae).forEach(At=>{this.deactivateRouteAndItsChildren(At,Se)})}deactivateRoutes(Ce,ie,Se){const Ae=Ce.value,At=ie?ie.value:null;if(Ae===At)if(Ae.component){const fn=Se.getContext(Ae.outlet);fn&&this.deactivateChildRoutes(Ce,ie,fn.children)}else this.deactivateChildRoutes(Ce,ie,Se);else At&&this.deactivateRouteAndItsChildren(ie,Se)}deactivateRouteAndItsChildren(Ce,ie){Ce.value.component&&this.routeReuseStrategy.shouldDetach(Ce.value.snapshot)?this.detachAndStoreRouteSubtree(Ce,ie):this.deactivateRouteAndOutlet(Ce,ie)}detachAndStoreRouteSubtree(Ce,ie){const Se=ie.getContext(Ce.value.outlet),Ae=Se&&Ce.value.component?Se.children:ie,At=nc(Ce);for(const fn of Object.values(At))this.deactivateRouteAndItsChildren(fn,Ae);if(Se&&Se.outlet){const fn=Se.outlet.detach(),li=Se.children.onOutletDeactivated();this.routeReuseStrategy.store(Ce.value.snapshot,{componentRef:fn,route:Ce,contexts:li})}}deactivateRouteAndOutlet(Ce,ie){const Se=ie.getContext(Ce.value.outlet),Ae=Se&&Ce.value.component?Se.children:ie,At=nc(Ce);for(const fn of Object.values(At))this.deactivateRouteAndItsChildren(fn,Ae);Se&&(Se.outlet&&(Se.outlet.deactivate(),Se.children.onOutletDeactivated()),Se.attachRef=null,Se.route=null)}activateChildRoutes(Ce,ie,Se){const Ae=nc(ie);Ce.children.forEach(At=>{this.activateRoutes(At,Ae[At.value.outlet],Se),this.forwardEvent(new Zo(At.value.snapshot))}),Ce.children.length&&this.forwardEvent(new ps(Ce.value.snapshot))}activateRoutes(Ce,ie,Se){const Ae=Ce.value,At=ie?ie.value:null;if(Hn(Ae),Ae===At)if(Ae.component){const fn=Se.getOrCreateContext(Ae.outlet);this.activateChildRoutes(Ce,ie,fn.children)}else this.activateChildRoutes(Ce,ie,Se);else if(Ae.component){const fn=Se.getOrCreateContext(Ae.outlet);if(this.routeReuseStrategy.shouldAttach(Ae.snapshot)){const li=this.routeReuseStrategy.retrieve(Ae.snapshot);this.routeReuseStrategy.store(Ae.snapshot,null),fn.children.onOutletReAttached(li.contexts),fn.attachRef=li.componentRef,fn.route=li.route.value,fn.outlet&&fn.outlet.attach(li.componentRef,li.route.value),Hn(li.route.value),this.activateChildRoutes(Ce,null,fn.children)}else{const li=Xo(Ae.snapshot);fn.attachRef=null,fn.route=Ae,fn.injector=li,fn.outlet&&fn.outlet.activateWith(Ae,fn.injector),this.activateChildRoutes(Ce,null,fn.children)}}else this.activateChildRoutes(Ce,null,Se)}}class as{constructor(Ce){this.path=Ce,this.route=this.path[this.path.length-1]}}class Fo{constructor(Ce,ie){this.component=Ce,this.route=ie}}function rd(te,Ce,ie){const Se=te._root;return Co(Se,Ce?Ce._root:null,ie,[Se.value])}function ta(te,Ce){const ie=Symbol(),Se=Ce.get(te,ie);return Se===ie?"function"!=typeof te||(0,m.LfX)(te)?Ce.get(te):te:Se}function Co(te,Ce,ie,Se,Ae={canDeactivateChecks:[],canActivateChecks:[]}){const At=nc(Ce);return te.children.forEach(fn=>{(function Ya(te,Ce,ie,Se,Ae={canDeactivateChecks:[],canActivateChecks:[]}){const At=te.value,fn=Ce?Ce.value:null,li=ie?ie.getContext(te.value.outlet):null;if(fn&&At.routeConfig===fn.routeConfig){const ii=function Hs(te,Ce,ie){if("function"==typeof ie)return ie(te,Ce);switch(ie){case"pathParamsChange":return!bi(te.url,Ce.url);case"pathParamsOrQueryParamsChange":return!bi(te.url,Ce.url)||!it(te.queryParams,Ce.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gi(te,Ce)||!it(te.queryParams,Ce.queryParams);default:return!gi(te,Ce)}}(fn,At,At.routeConfig.runGuardsAndResolvers);ii?Ae.canActivateChecks.push(new as(Se)):(At.data=fn.data,At._resolvedData=fn._resolvedData),Co(te,Ce,At.component?li?li.children:null:ie,Se,Ae),ii&&li&&li.outlet&&li.outlet.isActivated&&Ae.canDeactivateChecks.push(new Fo(li.outlet.component,fn))}else fn&&pl(Ce,li,Ae),Ae.canActivateChecks.push(new as(Se)),Co(te,null,At.component?li?li.children:null:ie,Se,Ae)})(fn,At[fn.value.outlet],ie,Se.concat([fn.value]),Ae),delete At[fn.value.outlet]}),Object.entries(At).forEach(([fn,li])=>pl(li,ie.getContext(fn),Ae)),Ae}function pl(te,Ce,ie){const Se=nc(te),Ae=te.value;Object.entries(Se).forEach(([At,fn])=>{pl(fn,Ae.component?Ce?Ce.children.getContext(At):null:Ce,ie)}),ie.canDeactivateChecks.push(new Fo(Ae.component&&Ce&&Ce.outlet&&Ce.outlet.isActivated?Ce.outlet.component:null,Ae))}function Xa(te){return"function"==typeof te}function qr(te){return te instanceof q.G||"EmptyError"===te?.name}const ml=Symbol("INITIAL_VALUE");function $s(){return(0,Ne.n)(te=>(0,ne.z)(te.map(Ce=>Ce.pipe((0,Be.s)(1),(0,Ve.Z)(ml)))).pipe((0,me.T)(Ce=>{for(const ie of Ce)if(!0!==ie){if(ie===ml)return ml;if(!1===ie||ie instanceof En)return ie}return!0}),(0,Le.p)(Ce=>Ce!==ml),(0,Be.s)(1)))}function Na(te){return(0,I.F)((0,fe.M)(Ce=>{if(Ut(Ce))throw Pr(0,Ce)}),(0,me.T)(Ce=>!0===Ce))}class ga{constructor(Ce){this.segmentGroup=Ce||null}}class Lu extends Error{constructor(Ce){super(),this.urlTree=Ce}}function Qa(te){return(0,k.$)(new ga(te))}class Dd{constructor(Ce,ie){this.urlSerializer=Ce,this.urlTree=ie}lineralizeSegments(Ce,ie){let Se=[],Ae=ie.root;for(;;){if(Se=Se.concat(Ae.segments),0===Ae.numberOfChildren)return(0,x.of)(Se);if(Ae.numberOfChildren>1||!Ae.children[We])return(0,k.$)(new m.wOt(4e3,!1));Ae=Ae.children[We]}}applyRedirectCommands(Ce,ie,Se){const Ae=this.applyRedirectCreateUrlTree(ie,this.urlSerializer.parse(ie),Ce,Se);if(ie.startsWith("/"))throw new Lu(Ae);return Ae}applyRedirectCreateUrlTree(Ce,ie,Se,Ae){const At=this.createSegmentGroup(Ce,ie.root,Se,Ae);return new En(At,this.createQueryParams(ie.queryParams,this.urlTree.queryParams),ie.fragment)}createQueryParams(Ce,ie){const Se={};return Object.entries(Ce).forEach(([Ae,At])=>{if("string"==typeof At&&At.startsWith(":")){const li=At.substring(1);Se[Ae]=ie[li]}else Se[Ae]=At}),Se}createSegmentGroup(Ce,ie,Se,Ae){const At=this.createSegments(Ce,ie.segments,Se,Ae);let fn={};return Object.entries(ie.children).forEach(([li,ii])=>{fn[li]=this.createSegmentGroup(Ce,ii,Se,Ae)}),new Yn(At,fn)}createSegments(Ce,ie,Se,Ae){return ie.map(At=>At.path.startsWith(":")?this.findPosParam(Ce,At,Ae):this.findOrReturn(At,Se))}findPosParam(Ce,ie,Se){const Ae=Se[ie.path.substring(1)];if(!Ae)throw new m.wOt(4001,!1);return Ae}findOrReturn(Ce,ie){let Se=0;for(const Ae of ie){if(Ae.path===Ce.path)return ie.splice(Se),Ae;Se++}return Ce}}const us={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fo(te,Ce,ie,Se,Ae){const At=Bo(te,Ce,ie);return At.matched?(Se=function aa(te,Ce){return te.providers&&!te._injector&&(te._injector=(0,m.Ol2)(te.providers,Ce,`Route: ${te.path}`)),te._injector??Ce}(Ce,Se),function gc(te,Ce,ie,Se){const Ae=Ce.canMatch;if(!Ae||0===Ae.length)return(0,x.of)(!0);const At=Ae.map(fn=>{const li=ta(fn,te);return qn(function fr(te){return te&&Xa(te.canMatch)}(li)?li.canMatch(Ce,ie):(0,m.N4e)(te,()=>li(Ce,ie)))});return(0,x.of)(At).pipe($s(),Na())}(Se,Ce,ie).pipe((0,me.T)(fn=>!0===fn?At:{...us}))):(0,x.of)(At)}function Bo(te,Ce,ie){if("**"===Ce.path)return function qa(te){return{matched:!0,parameters:te.length>0?Pn(te).parameters:{},consumedSegments:te,remainingSegments:[],positionalParamSegments:{}}}(ie);if(""===Ce.path)return"full"===Ce.pathMatch&&(te.hasChildren()||ie.length>0)?{...us}:{matched:!0,consumedSegments:[],remainingSegments:ie,parameters:{},positionalParamSegments:{}};const Ae=(Ce.matcher||Lt)(ie,te,Ce);if(!Ae)return{...us};const At={};Object.entries(Ae.posParams??{}).forEach(([li,ii])=>{At[li]=ii.path});const fn=Ae.consumed.length>0?{...At,...Ae.consumed[Ae.consumed.length-1].parameters}:At;return{matched:!0,consumedSegments:Ae.consumed,remainingSegments:ie.slice(Ae.consumed.length),parameters:fn,positionalParamSegments:Ae.posParams??{}}}function To(te,Ce,ie,Se){return ie.length>0&&function Id(te,Ce,ie){return ie.some(Se=>Za(te,Ce,Se)&&Zs(Se)!==We)}(te,ie,Se)?{segmentGroup:new Yn(Ce,hu(Se,new Yn(ie,te.children))),slicedSegments:[]}:0===ie.length&&function Nu(te,Ce,ie){return ie.some(Se=>Za(te,Ce,Se))}(te,ie,Se)?{segmentGroup:new Yn(te.segments,uu(te,ie,Se,te.children)),slicedSegments:ie}:{segmentGroup:new Yn(te.segments,te.children),slicedSegments:ie}}function uu(te,Ce,ie,Se){const Ae={};for(const At of ie)if(Za(te,Ce,At)&&!Se[Zs(At)]){const fn=new Yn([],{});Ae[Zs(At)]=fn}return{...Se,...Ae}}function hu(te,Ce){const ie={};ie[We]=Ce;for(const Se of te)if(""===Se.path&&Zs(Se)!==We){const Ae=new Yn([],{});ie[Zs(Se)]=Ae}return ie}function Za(te,Ce,ie){return(!(te.hasChildren()||Ce.length>0)||"full"!==ie.pathMatch)&&""===ie.path}class gl{}class Md{constructor(Ce,ie,Se,Ae,At,fn,li){this.injector=Ce,this.configLoader=ie,this.rootComponentType=Se,this.config=Ae,this.urlTree=At,this.paramsInheritanceStrategy=fn,this.urlSerializer=li,this.applyRedirects=new Dd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Ce){return new m.wOt(4002,`'${Ce.segmentGroup}'`)}recognize(){const Ce=To(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Ce).pipe((0,me.T)(ie=>{const Se=new Yt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},We,this.rootComponentType,null,{}),Ae=new Wa(Se,ie),At=new yn("",Ae),fn=function lt(te,Ce,ie=null,Se=null){return Rn(ln(te),Ce,ie,Se)}(Se,[],this.urlTree.queryParams,this.urlTree.fragment);return fn.queryParams=this.urlTree.queryParams,At.url=this.urlSerializer.serialize(fn),this.inheritParamsAndData(At._root,null),{state:At,tree:fn}}))}match(Ce){return this.processSegmentGroup(this.injector,this.config,Ce,We).pipe((0,Re.W)(Se=>{if(Se instanceof Lu)return this.urlTree=Se.urlTree,this.match(Se.urlTree.root);throw Se instanceof ga?this.noMatchError(Se):Se}))}inheritParamsAndData(Ce,ie){const Se=Ce.value,Ae=Me(Se,ie,this.paramsInheritanceStrategy);Se.params=Object.freeze(Ae.params),Se.data=Object.freeze(Ae.data),Ce.children.forEach(At=>this.inheritParamsAndData(At,Se))}processSegmentGroup(Ce,ie,Se,Ae){return 0===Se.segments.length&&Se.hasChildren()?this.processChildren(Ce,ie,Se):this.processSegment(Ce,ie,Se,Se.segments,Ae,!0).pipe((0,me.T)(At=>At instanceof Wa?[At]:[]))}processChildren(Ce,ie,Se){const Ae=[];for(const At of Object.keys(Se.children))"primary"===At?Ae.unshift(At):Ae.push(At);return(0,F.H)(Ae).pipe((0,de.H)(At=>{const fn=Se.children[At],li=function $r(te,Ce){const ie=te.filter(Se=>Zs(Se)===Ce);return ie.push(...te.filter(Se=>Zs(Se)!==Ce)),ie}(ie,At);return this.processSegmentGroup(Ce,li,fn,At)}),(0,_e.S)((At,fn)=>(At.push(...fn),At)),(0,Xe.U)(null),function Nn(te,Ce){const ie=arguments.length>=2;return Se=>Se.pipe(te?(0,Le.p)((Ae,At)=>te(Ae,At,Se)):An.D,un(1),ie?(0,Xe.U)(Ce):(0,Cn.v)(()=>new q.G))}(),(0,J.Z)(At=>{if(null===At)return Qa(Se);const fn=vc(At);return function Ad(te){te.sort((Ce,ie)=>Ce.value.outlet===We?-1:ie.value.outlet===We?1:Ce.value.outlet.localeCompare(ie.value.outlet))}(fn),(0,x.of)(fn)}))}processSegment(Ce,ie,Se,Ae,At,fn){return(0,F.H)(ie).pipe((0,de.H)(li=>this.processSegmentAgainstRoute(li._injector??Ce,ie,li,Se,Ae,At,fn).pipe((0,Re.W)(ii=>{if(ii instanceof ga)return(0,x.of)(null);throw ii}))),(0,ae.$)(li=>!!li),(0,Re.W)(li=>{if(qr(li))return function Fu(te,Ce,ie){return 0===Ce.length&&!te.children[ie]}(Se,Ae,At)?(0,x.of)(new gl):Qa(Se);throw li}))}processSegmentAgainstRoute(Ce,ie,Se,Ae,At,fn,li){return function rc(te,Ce,ie,Se){return!!(Zs(te)===Se||Se!==We&&Za(Ce,ie,te))&&Bo(Ce,te,ie).matched}(Se,Ae,At,fn)?void 0===Se.redirectTo?this.matchSegmentAgainstRoute(Ce,Ae,Se,At,fn):this.allowRedirects&&li?this.expandSegmentAgainstRouteUsingRedirect(Ce,Ae,ie,Se,At,fn):Qa(Ae):Qa(Ae)}expandSegmentAgainstRouteUsingRedirect(Ce,ie,Se,Ae,At,fn){const{matched:li,consumedSegments:ii,positionalParamSegments:_r,remainingSegments:os}=Bo(ie,Ae,At);if(!li)return Qa(ie);Ae.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const _s=this.applyRedirects.applyRedirectCommands(ii,Ae.redirectTo,_r);return this.applyRedirects.lineralizeSegments(Ae,_s).pipe((0,J.Z)(Po=>this.processSegment(Ce,Se,ie,Po.concat(os),fn,!1)))}matchSegmentAgainstRoute(Ce,ie,Se,Ae,At){const fn=fo(ie,Se,Ae,Ce);return"**"===Se.path&&(ie.children={}),fn.pipe((0,Ne.n)(li=>li.matched?this.getChildConfig(Ce=Se._injector??Ce,Se,Ae).pipe((0,Ne.n)(({routes:ii})=>{const _r=Se._loadedInjector??Ce,{consumedSegments:os,remainingSegments:_s,parameters:Po}=li,xh=new Yt(os,Po,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Bu(te){return te.data||{}}(Se),Zs(Se),Se.component??Se._loadedComponent??null,Se,function zl(te){return te.resolve||{}}(Se)),{segmentGroup:$u,slicedSegments:Ba}=To(ie,os,_s,ii);if(0===Ba.length&&$u.hasChildren())return this.processChildren(_r,ii,$u).pipe((0,me.T)(nn=>null===nn?null:new Wa(xh,nn)));if(0===ii.length&&0===Ba.length)return(0,x.of)(new Wa(xh,[]));const Gu=Zs(Se)===At;return this.processSegment(_r,ii,$u,Ba,Gu?We:At,!0).pipe((0,me.T)(nn=>new Wa(xh,nn instanceof Wa?[nn]:[])))})):Qa(ie)))}getChildConfig(Ce,ie,Se){return ie.children?(0,x.of)({routes:ie.children,injector:Ce}):ie.loadChildren?void 0!==ie._loadedRoutes?(0,x.of)({routes:ie._loadedRoutes,injector:ie._loadedInjector}):function lf(te,Ce,ie,Se){const Ae=Ce.canLoad;if(void 0===Ae||0===Ae.length)return(0,x.of)(!0);const At=Ae.map(fn=>{const li=ta(fn,te);return qn(function ut(te){return te&&Xa(te.canLoad)}(li)?li.canLoad(Ce,ie):(0,m.N4e)(te,()=>li(Ce,ie)))});return(0,x.of)(At).pipe($s(),Na())}(Ce,ie,Se).pipe((0,J.Z)(Ae=>Ae?this.configLoader.loadChildren(Ce,ie).pipe((0,fe.M)(At=>{ie._loadedRoutes=At.routes,ie._loadedInjector=At.injector})):function Sd(te){return(0,k.$)(tr(!1,pi.GuardRejected))}())):(0,x.of)({routes:[],injector:Ce})}}function yh(te){const Ce=te.value.routeConfig;return Ce&&""===Ce.path}function vc(te){const Ce=[],ie=new Set;for(const Se of te){if(!yh(Se)){Ce.push(Se);continue}const Ae=Ce.find(At=>Se.value.routeConfig===At.value.routeConfig);void 0!==Ae?(Ae.children.push(...Se.children),ie.add(Ae)):Ce.push(Se)}for(const Se of ie){const Ae=vc(Se.children);Ce.push(new Wa(Se.value,Ae))}return Ce.filter(Se=>!ie.has(Se))}function Ia(te){const Ce=te.children.map(ie=>Ia(ie)).flat();return[te,...Ce]}function xa(te){return(0,Ne.n)(Ce=>{const ie=te(Ce);return ie?(0,F.H)(ie).pipe((0,me.T)(()=>Ce)):(0,x.of)(Ce)})}let _l=(()=>{class te{buildTitle(ie){let Se,Ae=ie.root;for(;void 0!==Ae;)Se=this.getResolvedTitleForRoute(Ae)??Se,Ae=Ae.children.find(At=>At.outlet===We);return Se}getResolvedTitleForRoute(ie){return ie.data[ge]}static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275prov=m.jDH({token:te,factory:()=>(0,m.WQX)(Vu),providedIn:"root"})}return te})(),Vu=(()=>{class te extends _l{constructor(ie){super(),this.title=ie}updateTitle(ie){const Se=this.buildTitle(ie);void 0!==Se&&this.title.setTitle(Se)}static#e=this.\u0275fac=function(Se){return new(Se||te)(m.KVO(qe.hE))};static#t=this.\u0275prov=m.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();const vl=new m.nKC("",{providedIn:"root",factory:()=>({})}),Hl=new m.nKC("");let od=(()=>{class te{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.WQX)(m.Ql9)}loadComponent(ie){if(this.componentLoaders.get(ie))return this.componentLoaders.get(ie);if(ie._loadedComponent)return(0,x.of)(ie._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(ie);const Se=qn(ie.loadComponent()).pipe((0,me.T)(Fa),(0,fe.M)(At=>{this.onLoadEndListener&&this.onLoadEndListener(ie),ie._loadedComponent=At}),(0,Rt.j)(()=>{this.componentLoaders.delete(ie)})),Ae=new H.G(Se,()=>new Q.B).pipe((0,jt.B)());return this.componentLoaders.set(ie,Ae),Ae}loadChildren(ie,Se){if(this.childrenLoaders.get(Se))return this.childrenLoaders.get(Se);if(Se._loadedRoutes)return(0,x.of)({routes:Se._loadedRoutes,injector:Se._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Se);const At=function ad(te,Ce,ie,Se){return qn(te.loadChildren()).pipe((0,me.T)(Fa),(0,J.Z)(Ae=>Ae instanceof m.Co$||Array.isArray(Ae)?(0,x.of)(Ae):(0,F.H)(Ce.compileModuleAsync(Ae))),(0,me.T)(Ae=>{Se&&Se(te);let At,fn,li=!1;return Array.isArray(Ae)?(fn=Ae,!0):(At=Ae.create(ie).injector,fn=At.get(Hl,[],{optional:!0,self:!0}).flat()),{routes:fn.map(La),injector:At}}))}(Se,this.compiler,ie,this.onLoadEndListener).pipe((0,Rt.j)(()=>{this.childrenLoaders.delete(Se)})),fn=new H.G(At,()=>new Q.B).pipe((0,jt.B)());return this.childrenLoaders.set(Se,fn),fn}static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275prov=m.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();function Fa(te){return function zc(te){return te&&"object"==typeof te&&"default"in te}(te)?te.default:te}let wa=(()=>{class te{static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275prov=m.jDH({token:te,factory:()=>(0,m.WQX)(ld),providedIn:"root"})}return te})(),ld=(()=>{class te{shouldProcessUrl(ie){return!0}extract(ie){return ie}merge(ie,Se){return ie}static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275prov=m.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();const bl=new m.nKC(""),da=new m.nKC("");function bc(te,Ce,ie){const Se=te.get(da),Ae=te.get(be.qQ);return te.get(m.SKi).runOutsideAngular(()=>{if(!Ae.startViewTransition||Se.skipNextTransition)return Se.skipNextTransition=!1,Promise.resolve();let At;const fn=new Promise(_r=>{At=_r}),li=Ae.startViewTransition(()=>(At(),function re(te){return new Promise(Ce=>{(0,m.mal)(Ce,{injector:te})})}(te))),{onViewTransitionCreated:ii}=Se;return ii&&(0,m.N4e)(te,()=>ii({transition:li,from:Ce,to:ie})),fn})}let vt=(()=>{class te{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Q.B,this.transitionAbortSubject=new Q.B,this.configLoader=(0,m.WQX)(od),this.environmentInjector=(0,m.WQX)(m.uvJ),this.urlSerializer=(0,m.WQX)(br),this.rootContexts=(0,m.WQX)(ul),this.location=(0,m.WQX)(be.aZ),this.inputBindingEnabled=null!==(0,m.WQX)(xr,{optional:!0}),this.titleStrategy=(0,m.WQX)(_l),this.options=(0,m.WQX)(vl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,m.WQX)(wa),this.createViewTransition=(0,m.WQX)(bl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,x.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ae=>this.events.next(new io(Ae)),this.configLoader.onLoadStartListener=Ae=>this.events.next(new As(Ae))}complete(){this.transitions?.complete()}handleNavigationRequest(ie){const Se=++this.navigationId;this.transitions?.next({...this.transitions.value,...ie,id:Se})}setupNavigations(ie,Se,Ae){return this.transitions=new ce.t({id:0,currentUrlTree:Se,currentRawUrl:Se,extractedUrl:this.urlHandlingStrategy.extract(Se),urlAfterRedirects:this.urlHandlingStrategy.extract(Se),rawUrl:Se,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Di,restoredState:null,currentSnapshot:Ae.snapshot,targetSnapshot:null,currentRouterState:Ae,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Le.p)(At=>0!==At.id),(0,me.T)(At=>({...At,extractedUrl:this.urlHandlingStrategy.extract(At.rawUrl)})),(0,Ne.n)(At=>{let fn=!1,li=!1;return(0,x.of)(At).pipe((0,Ne.n)(ii=>{if(this.navigationId>At.id)return this.cancelNavigationTransition(At,"",pi.SupersededByNewNavigation),A.w;this.currentTransition=At,this.currentNavigation={id:ii.id,initialUrl:ii.rawUrl,extractedUrl:ii.extractedUrl,trigger:ii.source,extras:ii.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const _r=!ie.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!_r&&"reload"!==(ii.extras.onSameUrlNavigation??ie.onSameUrlNavigation)){const _s="";return this.events.next(new Xs(ii.id,this.urlSerializer.serialize(ii.rawUrl),_s,Or.IgnoredSameUrlNavigation)),ii.resolve(null),A.w}if(this.urlHandlingStrategy.shouldProcessUrl(ii.rawUrl))return(0,x.of)(ii).pipe((0,Ne.n)(_s=>{const Po=this.transitions?.getValue();return this.events.next(new ss(_s.id,this.urlSerializer.serialize(_s.extractedUrl),_s.source,_s.restoredState)),Po!==this.transitions?.getValue()?A.w:Promise.resolve(_s)}),function jc(te,Ce,ie,Se,Ae,At){return(0,J.Z)(fn=>function Uc(te,Ce,ie,Se,Ae,At,fn="emptyOnly"){return new Md(te,Ce,ie,Se,Ae,fn,At).recognize()}(te,Ce,ie,Se,fn.extractedUrl,Ae,At).pipe((0,me.T)(({state:li,tree:ii})=>({...fn,targetSnapshot:li,urlAfterRedirects:ii}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,ie.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,fe.M)(_s=>{At.targetSnapshot=_s.targetSnapshot,At.urlAfterRedirects=_s.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_s.urlAfterRedirects};const Po=new fs(_s.id,this.urlSerializer.serialize(_s.extractedUrl),this.urlSerializer.serialize(_s.urlAfterRedirects),_s.targetSnapshot);this.events.next(Po)}));if(_r&&this.urlHandlingStrategy.shouldProcessUrl(ii.currentRawUrl)){const{id:_s,extractedUrl:Po,source:xh,restoredState:$u,extras:Ba}=ii,Gu=new ss(_s,this.urlSerializer.serialize(Po),xh,$u);this.events.next(Gu);const nn=Ka(this.rootComponentType).snapshot;return this.currentTransition=At={...ii,targetSnapshot:nn,urlAfterRedirects:Po,extras:{...Ba,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Po,(0,x.of)(At)}{const _s="";return this.events.next(new Xs(ii.id,this.urlSerializer.serialize(ii.extractedUrl),_s,Or.IgnoredByUrlHandlingStrategy)),ii.resolve(null),A.w}}),(0,fe.M)(ii=>{const _r=new Fi(ii.id,this.urlSerializer.serialize(ii.extractedUrl),this.urlSerializer.serialize(ii.urlAfterRedirects),ii.targetSnapshot);this.events.next(_r)}),(0,me.T)(ii=>(this.currentTransition=At={...ii,guards:rd(ii.targetSnapshot,ii.currentSnapshot,this.rootContexts)},At)),function ro(te,Ce){return(0,J.Z)(ie=>{const{targetSnapshot:Se,currentSnapshot:Ae,guards:{canActivateChecks:At,canDeactivateChecks:fn}}=ie;return 0===fn.length&&0===At.length?(0,x.of)({...ie,guardsResult:!0}):function cu(te,Ce,ie,Se){return(0,F.H)(te).pipe((0,J.Z)(Ae=>function bh(te,Ce,ie,Se,Ae){const At=Ce&&Ce.routeConfig?Ce.routeConfig.canDeactivate:null;if(!At||0===At.length)return(0,x.of)(!0);const fn=At.map(li=>{const ii=Xo(Ce)??Ae,_r=ta(li,ii);return qn(function Tn(te){return te&&Xa(te.canDeactivate)}(_r)?_r.canDeactivate(te,Ce,ie,Se):(0,m.N4e)(ii,()=>_r(te,Ce,ie,Se))).pipe((0,ae.$)())});return(0,x.of)(fn).pipe($s())}(Ae.component,Ae.route,ie,Ce,Se)),(0,ae.$)(Ae=>!0!==Ae,!0))}(fn,Se,Ae,te).pipe((0,J.Z)(li=>li&&function rt(te){return"boolean"==typeof te}(li)?function af(te,Ce,ie,Se){return(0,F.H)(Ce).pipe((0,de.H)(Ae=>(0,z.x)(function _h(te,Ce){return null!==te&&Ce&&Ce(new kr(te)),(0,x.of)(!0)}(Ae.route.parent,Se),function Td(te,Ce){return null!==te&&Ce&&Ce(new Bc(te)),(0,x.of)(!0)}(Ae.route,Se),function vh(te,Ce,ie){const Se=Ce[Ce.length-1],At=Ce.slice(0,Ce.length-1).reverse().map(fn=>function Ml(te){const Ce=te.routeConfig?te.routeConfig.canActivateChild:null;return Ce&&0!==Ce.length?{node:te,guards:Ce}:null}(fn)).filter(fn=>null!==fn).map(fn=>(0,O.v)(()=>{const li=fn.guards.map(ii=>{const _r=Xo(fn.node)??ie,os=ta(ii,_r);return qn(function It(te){return te&&Xa(te.canActivateChild)}(os)?os.canActivateChild(Se,te):(0,m.N4e)(_r,()=>os(Se,te))).pipe((0,ae.$)())});return(0,x.of)(li).pipe($s())}));return(0,x.of)(At).pipe($s())}(te,Ae.path,ie),function co(te,Ce,ie){const Se=Ce.routeConfig?Ce.routeConfig.canActivate:null;if(!Se||0===Se.length)return(0,x.of)(!0);const Ae=Se.map(At=>(0,O.v)(()=>{const fn=Xo(Ce)??ie,li=ta(At,fn);return qn(function Fe(te){return te&&Xa(te.canActivate)}(li)?li.canActivate(Ce,te):(0,m.N4e)(fn,()=>li(Ce,te))).pipe((0,ae.$)())}));return(0,x.of)(Ae).pipe($s())}(te,Ae.route,ie))),(0,ae.$)(Ae=>!0!==Ae,!0))}(Se,At,te,Ce):(0,x.of)(li)),(0,me.T)(li=>({...ie,guardsResult:li})))})}(this.environmentInjector,ii=>this.events.next(ii)),(0,fe.M)(ii=>{if(At.guardsResult=ii.guardsResult,Ut(ii.guardsResult))throw Pr(0,ii.guardsResult);const _r=new mi(ii.id,this.urlSerializer.serialize(ii.extractedUrl),this.urlSerializer.serialize(ii.urlAfterRedirects),ii.targetSnapshot,!!ii.guardsResult);this.events.next(_r)}),(0,Le.p)(ii=>!!ii.guardsResult||(this.cancelNavigationTransition(ii,"",pi.GuardRejected),!1)),xa(ii=>{if(ii.guards.canActivateChecks.length)return(0,x.of)(ii).pipe((0,fe.M)(_r=>{const os=new no(_r.id,this.urlSerializer.serialize(_r.extractedUrl),this.urlSerializer.serialize(_r.urlAfterRedirects),_r.targetSnapshot);this.events.next(os)}),(0,Ne.n)(_r=>{let os=!1;return(0,x.of)(_r).pipe(function Eh(te,Ce){return(0,J.Z)(ie=>{const{targetSnapshot:Se,guards:{canActivateChecks:Ae}}=ie;if(!Ae.length)return(0,x.of)(ie);const At=new Set(Ae.map(ii=>ii.route)),fn=new Set;for(const ii of At)if(!fn.has(ii))for(const _r of Ia(ii))fn.add(_r);let li=0;return(0,F.H)(fn).pipe((0,de.H)(ii=>At.has(ii)?function cf(te,Ce,ie,Se){const Ae=te.routeConfig,At=te._resolve;return void 0!==Ae?.title&&!er(Ae)&&(At[ge]=Ae.title),function Gs(te,Ce,ie,Se){const Ae=dt(te);if(0===Ae.length)return(0,x.of)({});const At={};return(0,F.H)(Ae).pipe((0,J.Z)(fn=>function sd(te,Ce,ie,Se){const Ae=Xo(Ce)??Se,At=ta(te,Ae);return qn(At.resolve?At.resolve(Ce,ie):(0,m.N4e)(Ae,()=>At(Ce,ie)))}(te[fn],Ce,ie,Se).pipe((0,ae.$)(),(0,fe.M)(li=>{At[fn]=li}))),un(1),(0,Et.u)(At),(0,Re.W)(fn=>qr(fn)?A.w:(0,k.$)(fn)))}(At,te,Ce,Se).pipe((0,me.T)(fn=>(te._resolvedData=fn,te.data=Me(te,te.parent,ie).resolve,null)))}(ii,Se,te,Ce):(ii.data=Me(ii,ii.parent,te).resolve,(0,x.of)(void 0))),(0,fe.M)(()=>li++),un(1),(0,J.Z)(ii=>li===fn.size?(0,x.of)(ie):A.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,fe.M)({next:()=>os=!0,complete:()=>{os||this.cancelNavigationTransition(_r,"",pi.NoDataFromResolver)}}))}),(0,fe.M)(_r=>{const os=new Oo(_r.id,this.urlSerializer.serialize(_r.extractedUrl),this.urlSerializer.serialize(_r.urlAfterRedirects),_r.targetSnapshot);this.events.next(os)}))}),xa(ii=>{const _r=os=>{const _s=[];os.routeConfig?.loadComponent&&!os.routeConfig._loadedComponent&&_s.push(this.configLoader.loadComponent(os.routeConfig).pipe((0,fe.M)(Po=>{os.component=Po}),(0,me.T)(()=>{})));for(const Po of os.children)_s.push(..._r(Po));return _s};return(0,ne.z)(_r(ii.targetSnapshot.root)).pipe((0,Xe.U)(null),(0,Be.s)(1))}),xa(()=>this.afterPreactivation()),(0,Ne.n)(()=>{const{currentSnapshot:ii,targetSnapshot:_r}=At,os=this.createViewTransition?.(this.environmentInjector,ii.root,_r.root);return os?(0,F.H)(os).pipe((0,me.T)(()=>At)):(0,x.of)(At)}),(0,me.T)(ii=>{const _r=function zs(te,Ce,ie){const Se=Ur(te,Ce._root,ie?ie._root:void 0);return new Ra(Se,Ce)}(ie.routeReuseStrategy,ii.targetSnapshot,ii.currentRouterState);return this.currentTransition=At={...ii,targetRouterState:_r},this.currentNavigation.targetRouterState=_r,At}),(0,fe.M)(()=>{this.events.next(new Vc)}),((te,Ce,ie,Se)=>(0,me.T)(Ae=>(new ca(Ce,Ae.targetRouterState,Ae.currentRouterState,ie,Se).activate(te),Ae)))(this.rootContexts,ie.routeReuseStrategy,ii=>this.events.next(ii),this.inputBindingEnabled),(0,Be.s)(1),(0,fe.M)({next:ii=>{fn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zr(ii.id,this.urlSerializer.serialize(ii.extractedUrl),this.urlSerializer.serialize(ii.urlAfterRedirects))),this.titleStrategy?.updateTitle(ii.targetRouterState.snapshot),ii.resolve(!0)},complete:()=>{fn=!0}}),(0,Dt.Q)(this.transitionAbortSubject.pipe((0,fe.M)(ii=>{throw ii}))),(0,Rt.j)(()=>{!fn&&!li&&this.cancelNavigationTransition(At,"",pi.SupersededByNewNavigation),this.currentTransition?.id===At.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Re.W)(ii=>{if(li=!0,Us(ii))this.events.next(new bo(At.id,this.urlSerializer.serialize(At.extractedUrl),ii.message,ii.cancellationCode)),function Qs(te){return Us(te)&&Ut(te.url)}(ii)?this.events.next(new dl(ii.url)):At.resolve(!1);else{this.events.next(new ts(At.id,this.urlSerializer.serialize(At.extractedUrl),ii,At.targetSnapshot??void 0));try{At.resolve(ie.errorHandler(ii))}catch(_r){this.options.resolveNavigationPromiseOnError?At.resolve(!1):At.reject(_r)}}return A.w}))}))}cancelNavigationTransition(ie,Se,Ae){const At=new bo(ie.id,this.urlSerializer.serialize(ie.extractedUrl),Se,Ae);this.events.next(At),ie.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275prov=m.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();function Oe(te){return te!==Di}let et=(()=>{class te{static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275prov=m.jDH({token:te,factory:()=>(0,m.WQX)(Xn),providedIn:"root"})}return te})();class Qt{shouldDetach(Ce){return!1}store(Ce,ie){}shouldAttach(Ce){return!1}retrieve(Ce){return null}shouldReuseRoute(Ce,ie){return Ce.routeConfig===ie.routeConfig}}let Xn=(()=>{class te extends Qt{static#e=this.\u0275fac=(()=>{let ie;return function(Ae){return(ie||(ie=m.xGo(te)))(Ae||te)}})();static#t=this.\u0275prov=m.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})(),di=(()=>{class te{static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275prov=m.jDH({token:te,factory:()=>(0,m.WQX)(gr),providedIn:"root"})}return te})(),gr=(()=>{class te extends di{constructor(){super(...arguments),this.location=(0,m.WQX)(be.aZ),this.urlSerializer=(0,m.WQX)(br),this.options=(0,m.WQX)(vl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,m.WQX)(wa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new En,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ka(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(ie){return this.location.subscribe(Se=>{"popstate"===Se.type&&ie(Se.url,Se.state)})}handleRouterEvent(ie,Se){if(ie instanceof ss)this.stateMemento=this.createStateMemento();else if(ie instanceof Xs)this.rawUrlTree=Se.initialUrl;else if(ie instanceof fs){if("eager"===this.urlUpdateStrategy&&!Se.extras.skipLocationChange){const Ae=this.urlHandlingStrategy.merge(Se.finalUrl,Se.initialUrl);this.setBrowserUrl(Ae,Se)}}else ie instanceof Vc?(this.currentUrlTree=Se.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Se.finalUrl,Se.initialUrl),this.routerState=Se.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Se.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Se))):ie instanceof bo&&(ie.code===pi.GuardRejected||ie.code===pi.NoDataFromResolver)?this.restoreHistory(Se):ie instanceof ts?this.restoreHistory(Se,!0):ie instanceof Zr&&(this.lastSuccessfulId=ie.id,this.currentPageId=this.browserPageId)}setBrowserUrl(ie,Se){const Ae=this.urlSerializer.serialize(ie);if(this.location.isCurrentPathEqualTo(Ae)||Se.extras.replaceUrl){const fn={...Se.extras.state,...this.generateNgRouterState(Se.id,this.browserPageId)};this.location.replaceState(Ae,"",fn)}else{const At={...Se.extras.state,...this.generateNgRouterState(Se.id,this.browserPageId+1)};this.location.go(Ae,"",At)}}restoreHistory(ie,Se=!1){if("computed"===this.canceledNavigationResolution){const At=this.currentPageId-this.browserPageId;0!==At?this.location.historyGo(At):this.currentUrlTree===ie.finalUrl&&0===At&&(this.resetState(ie),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Se&&this.resetState(ie),this.resetUrlToCurrentUrlTree())}resetState(ie){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ie.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(ie,Se){return"computed"===this.canceledNavigationResolution?{navigationId:ie,\u0275routerPageId:Se}:{navigationId:ie}}static#e=this.\u0275fac=(()=>{let ie;return function(Ae){return(ie||(ie=m.xGo(te)))(Ae||te)}})();static#t=this.\u0275prov=m.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();var qs=function(te){return te[te.COMPLETE=0]="COMPLETE",te[te.FAILED=1]="FAILED",te[te.REDIRECTING=2]="REDIRECTING",te}(qs||{});function Os(te,Ce){te.events.pipe((0,Le.p)(ie=>ie instanceof Zr||ie instanceof bo||ie instanceof ts||ie instanceof Xs),(0,me.T)(ie=>ie instanceof Zr||ie instanceof Xs?qs.COMPLETE:ie instanceof bo&&(ie.code===pi.Redirect||ie.code===pi.SupersededByNewNavigation)?qs.REDIRECTING:qs.FAILED),(0,Le.p)(ie=>ie!==qs.REDIRECTING),(0,Be.s)(1)).subscribe(()=>{Ce()})}function eo(te){throw te}const ys={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ms=(()=>{class te{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,m.WQX)(m.H3F),this.stateManager=(0,m.WQX)(di),this.options=(0,m.WQX)(vl,{optional:!0})||{},this.pendingTasks=(0,m.WQX)(m.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,m.WQX)(vt),this.urlSerializer=(0,m.WQX)(br),this.location=(0,m.WQX)(be.aZ),this.urlHandlingStrategy=(0,m.WQX)(wa),this._events=new Q.B,this.errorHandler=this.options.errorHandler||eo,this.navigated=!1,this.routeReuseStrategy=(0,m.WQX)(et),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,m.WQX)(Hl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,m.WQX)(xr,{optional:!0}),this.eventsSubscription=new ee.yU,this.isNgZoneEnabled=(0,m.WQX)(m.SKi)instanceof m.SKi&&m.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ie=>{this.console.warn(ie)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const ie=this.navigationTransitions.events.subscribe(Se=>{try{const Ae=this.navigationTransitions.currentTransition,At=this.navigationTransitions.currentNavigation;if(null!==Ae&&null!==At)if(this.stateManager.handleRouterEvent(Se,At),Se instanceof bo&&Se.code!==pi.Redirect&&Se.code!==pi.SupersededByNewNavigation)this.navigated=!0;else if(Se instanceof Zr)this.navigated=!0;else if(Se instanceof dl){const fn=this.urlHandlingStrategy.merge(Se.url,Ae.currentRawUrl),li={info:Ae.extras.info,skipLocationChange:Ae.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Oe(Ae.source)};this.scheduleNavigation(fn,Di,null,li,{resolve:Ae.resolve,reject:Ae.reject,promise:Ae.promise})}(function ws(te){return!(te instanceof Vc||te instanceof dl)})(Se)&&this._events.next(Se)}catch(Ae){this.navigationTransitions.transitionAbortSubject.next(Ae)}});this.eventsSubscription.add(ie)}resetRootComponentType(ie){this.routerState.root.component=ie,this.navigationTransitions.rootComponentType=ie}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Di,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((ie,Se)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(ie,"popstate",Se)},0)})}navigateToSyncWithBrowser(ie,Se,Ae){const At={replaceUrl:!0},fn=Ae?.navigationId?Ae:null;if(Ae){const ii={...Ae};delete ii.navigationId,delete ii.\u0275routerPageId,0!==Object.keys(ii).length&&(At.state=ii)}const li=this.parseUrl(ie);this.scheduleNavigation(li,Se,fn,At)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(ie){this.config=ie.map(La),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(ie,Se={}){const{relativeTo:Ae,queryParams:At,fragment:fn,queryParamsHandling:li,preserveFragment:ii}=Se,_r=ii?this.currentUrlTree.fragment:fn;let _s,os=null;switch(li){case"merge":os={...this.currentUrlTree.queryParams,...At};break;case"preserve":os=this.currentUrlTree.queryParams;break;default:os=At||null}null!==os&&(os=this.removeEmptyProps(os));try{_s=ln(Ae?Ae.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof ie[0]||!ie[0].startsWith("/"))&&(ie=[]),_s=this.currentUrlTree.root}return Rn(_s,ie,os,_r??null)}navigateByUrl(ie,Se={skipLocationChange:!1}){const Ae=Ut(ie)?ie:this.parseUrl(ie),At=this.urlHandlingStrategy.merge(Ae,this.rawUrlTree);return this.scheduleNavigation(At,Di,null,Se)}navigate(ie,Se={skipLocationChange:!1}){return function Ps(te){for(let Ce=0;Ce<te.length;Ce++)if(null==te[Ce])throw new m.wOt(4008,!1)}(ie),this.navigateByUrl(this.createUrlTree(ie,Se),Se)}serializeUrl(ie){return this.urlSerializer.serialize(ie)}parseUrl(ie){try{return this.urlSerializer.parse(ie)}catch{return this.urlSerializer.parse("/")}}isActive(ie,Se){let Ae;if(Ae=!0===Se?{...ys}:!1===Se?{...uo}:Se,Ut(ie))return Ci(this.currentUrlTree,ie,Ae);const At=this.parseUrl(ie);return Ci(this.currentUrlTree,At,Ae)}removeEmptyProps(ie){return Object.entries(ie).reduce((Se,[Ae,At])=>(null!=At&&(Se[Ae]=At),Se),{})}scheduleNavigation(ie,Se,Ae,At,fn){if(this.disposed)return Promise.resolve(!1);let li,ii,_r;fn?(li=fn.resolve,ii=fn.reject,_r=fn.promise):_r=new Promise((_s,Po)=>{li=_s,ii=Po});const os=this.pendingTasks.add();return Os(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(os))}),this.navigationTransitions.handleNavigationRequest({source:Se,restoredState:Ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:ie,extras:At,resolve:li,reject:ii,promise:_r,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_r.catch(_s=>Promise.reject(_s))}static#e=this.\u0275fac=function(Se){return new(Se||te)};static#t=this.\u0275prov=m.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})(),Ri=(()=>{class te{constructor(ie,Se,Ae,At,fn,li){this.router=ie,this.route=Se,this.tabIndexAttribute=Ae,this.renderer=At,this.el=fn,this.locationStrategy=li,this.href=null,this.commands=null,this.onChanges=new Q.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ii=fn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ii||"area"===ii,this.isAnchorElement?this.subscription=ie.events.subscribe(_r=>{_r instanceof Zr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(ie){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ie)}ngOnChanges(ie){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(ie){null!=ie?(this.commands=Array.isArray(ie)?ie:[ie],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(ie,Se,Ae,At,fn){const li=this.urlTree;return!!(null===li||this.isAnchorElement&&(0!==ie||Se||Ae||At||fn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(li,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const ie=this.urlTree;this.href=null!==ie&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(ie)):null;const Se=null===this.href?null:(0,m.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Se)}applyAttributeValue(ie,Se){const Ae=this.renderer,At=this.el.nativeElement;null!==Se?Ae.setAttribute(At,ie,Se):Ae.removeAttribute(At,ie)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Se){return new(Se||te)(m.rXU(ms),m.rXU(De),m.kS0("tabindex"),m.rXU(m.sFG),m.rXU(m.aKT),m.rXU(be.hb))};static#t=this.\u0275dir=m.FsC({type:te,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Se,Ae){1&Se&&m.bIt("click",function(fn){return Ae.onClick(fn.button,fn.ctrlKey,fn.shiftKey,fn.altKey,fn.metaKey)}),2&Se&&m.BMQ("target",Ae.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[m.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",m.L39],skipLocationChange:[m.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",m.L39],replaceUrl:[m.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",m.L39],routerLink:"routerLink"},standalone:!0,features:[m.GFd,m.OA$]})}return te})(),Ir=(()=>{class te{get isActive(){return this._isActive}constructor(ie,Se,Ae,At,fn){this.router=ie,this.element=Se,this.renderer=Ae,this.cdr=At,this.link=fn,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new m.bkB,this.routerEventsSubscription=ie.events.subscribe(li=>{li instanceof Zr&&this.update()})}ngAfterContentInit(){(0,x.of)(this.links.changes,(0,x.of)(null)).pipe((0,en.U)()).subscribe(ie=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const ie=[...this.links.toArray(),this.link].filter(Se=>!!Se).map(Se=>Se.onChanges);this.linkInputChangesSubscription=(0,F.H)(ie).pipe((0,en.U)()).subscribe(Se=>{this._isActive!==this.isLinkActive(this.router)(Se)&&this.update()})}set routerLinkActive(ie){const Se=Array.isArray(ie)?ie:ie.split(" ");this.classes=Se.filter(Ae=>!!Ae)}ngOnChanges(ie){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const ie=this.hasActiveLinks();this.classes.forEach(Se=>{ie?this.renderer.addClass(this.element.nativeElement,Se):this.renderer.removeClass(this.element.nativeElement,Se)}),ie&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==ie&&(this._isActive=ie,this.cdr.markForCheck(),this.isActiveChange.emit(ie))})}isLinkActive(ie){const Se=function so(te){return!!te.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Ae=>{const At=Ae.urlTree;return!!At&&ie.isActive(At,Se)}}hasActiveLinks(){const ie=this.isLinkActive(this.router);return this.link&&ie(this.link)||this.links.some(ie)}static#e=this.\u0275fac=function(Se){return new(Se||te)(m.rXU(ms),m.rXU(m.aKT),m.rXU(m.sFG),m.rXU(m.gRc),m.rXU(Ri,8))};static#t=this.\u0275dir=m.FsC({type:te,selectors:[["","routerLinkActive",""]],contentQueries:function(Se,Ae,At){if(1&Se&&m.wni(At,Ri,5),2&Se){let fn;m.mGM(fn=m.lsd())&&(Ae.links=fn)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[m.OA$]})}return te})();class Ei{}let $l=(()=>{class te{constructor(ie,Se,Ae,At,fn){this.router=ie,this.injector=Ae,this.preloadingStrategy=At,this.loader=fn}setUpPreloading(){this.subscription=this.router.events.pipe((0,Le.p)(ie=>ie instanceof Zr),(0,de.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ie,Se){const Ae=[];for(const At of Se){At.providers&&!At._injector&&(At._injector=(0,m.Ol2)(At.providers,ie,`Route: ${At.path}`));const fn=At._injector??ie,li=At._loadedInjector??fn;(At.loadChildren&&!At._loadedRoutes&&void 0===At.canLoad||At.loadComponent&&!At._loadedComponent)&&Ae.push(this.preloadConfig(fn,At)),(At.children||At._loadedRoutes)&&Ae.push(this.processRoutes(li,At.children??At._loadedRoutes))}return(0,F.H)(Ae).pipe((0,en.U)())}preloadConfig(ie,Se){return this.preloadingStrategy.preload(Se,()=>{let Ae;Ae=Se.loadChildren&&void 0===Se.canLoad?this.loader.loadChildren(ie,Se):(0,x.of)(null);const At=Ae.pipe((0,J.Z)(fn=>null===fn?(0,x.of)(void 0):(Se._loadedRoutes=fn.routes,Se._loadedInjector=fn.injector,this.processRoutes(fn.injector??ie,fn.routes))));if(Se.loadComponent&&!Se._loadedComponent){const fn=this.loader.loadComponent(Se);return(0,F.H)([At,fn]).pipe((0,en.U)())}return At})}static#e=this.\u0275fac=function(Se){return new(Se||te)(m.KVO(ms),m.KVO(m.Ql9),m.KVO(m.uvJ),m.KVO(Ei),m.KVO(od))};static#t=this.\u0275prov=m.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();const Zi=new m.nKC("");let ar=(()=>{class te{constructor(ie,Se,Ae,At,fn={}){this.urlSerializer=ie,this.transitions=Se,this.viewportScroller=Ae,this.zone=At,this.options=fn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,m.WQX)(m.uvJ),fn.scrollPositionRestoration||="disabled",fn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ie=>{ie instanceof ss?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ie.navigationTrigger,this.restoredId=ie.restoredState?ie.restoredState.navigationId:0):ie instanceof Zr?(this.lastId=ie.id,this.scheduleScrollEvent(ie,this.urlSerializer.parse(ie.urlAfterRedirects).fragment)):ie instanceof Xs&&ie.code===Or.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ie,this.urlSerializer.parse(ie.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ie=>{ie instanceof Pa&&(ie.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ie.position):ie.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ie.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ie,Se){var Ae=this;this.zone.runOutsideAngular((0,p.A)(function*(){yield new Promise(At=>{setTimeout(()=>{At()}),(0,m.mal)(()=>{At()},{injector:Ae.environmentInjector})}),Ae.zone.run(()=>{Ae.transitions.events.next(new Pa(ie,"popstate"===Ae.lastSource?Ae.store[Ae.restoredId]:null,Se))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Se){m.QTQ()};static#t=this.\u0275prov=m.jDH({token:te,factory:te.\u0275fac})}return te})();function ei(te,Ce){return{\u0275kind:te,\u0275providers:Ce}}function kd(){const te=(0,m.WQX)(m.zZn);return Ce=>{const ie=te.get(m.o8S);if(Ce!==ie.components[0])return;const Se=te.get(ms),Ae=te.get(yc);1===te.get(Od)&&Se.initialNavigation(),te.get(pu,null,m.$GK.Optional)?.setUpPreloading(),te.get(Zi,null,m.$GK.Optional)?.init(),Se.resetRootComponentType(ie.componentTypes[0]),Ae.closed||(Ae.next(),Ae.complete(),Ae.unsubscribe())}}const yc=new m.nKC("",{factory:()=>new Q.B}),Od=new m.nKC("",{providedIn:"root",factory:()=>1}),pu=new m.nKC("");function Jr(te){return ei(0,[{provide:pu,useExisting:$l},{provide:Ei,useExisting:te}])}function ls(te){return ei(9,[{provide:bl,useValue:bc},{provide:da,useValue:{skipNextTransition:!!te?.skipInitialTransition,...te}}])}const Al=new m.nKC("ROUTER_FORROOT_GUARD"),Xr=[be.aZ,{provide:br,useClass:Si},ms,ul,{provide:De,useFactory:function vi(te){return te.routerState.root},deps:[ms]},od,[]];let Qo=(()=>{class te{constructor(ie){}static forRoot(ie,Se){return{ngModule:te,providers:[Xr,[],{provide:Hl,multi:!0,useValue:ie},{provide:Al,useFactory:Gl,deps:[[ms,new m.Xx1,new m.kdw]]},{provide:vl,useValue:Se||{}},Se?.useHash?{provide:be.hb,useClass:be.fw}:{provide:be.hb,useClass:be.Sm},{provide:Zi,useFactory:()=>{const te=(0,m.WQX)(be.Xr),Ce=(0,m.WQX)(m.SKi),ie=(0,m.WQX)(vl),Se=(0,m.WQX)(vt),Ae=(0,m.WQX)(br);return ie.scrollOffset&&te.setOffset(ie.scrollOffset),new ar(Ae,Se,te,Ce,ie)}},Se?.preloadingStrategy?Jr(Se.preloadingStrategy).\u0275providers:[],Se?.initialNavigation?Wl(Se):[],Se?.bindToComponentInputs?ei(8,[ks,{provide:xr,useExisting:ks}]).\u0275providers:[],Se?.enableViewTransitions?ls().\u0275providers:[],[{provide:df,useFactory:kd},{provide:m.iLQ,multi:!0,useExisting:df}]]}}static forChild(ie){return{ngModule:te,providers:[{provide:Hl,multi:!0,useValue:ie}]}}static#e=this.\u0275fac=function(Se){return new(Se||te)(m.KVO(Al,8))};static#t=this.\u0275mod=m.$C({type:te});static#n=this.\u0275inj=m.G2t({})}return te})();function Gl(te){return"guarded"}function Wl(te){return["disabled"===te.initialNavigation?ei(3,[{provide:m.hnV,multi:!0,useFactory:()=>{const Ce=(0,m.WQX)(ms);return()=>{Ce.setUpLocationChangeListener()}}},{provide:Od,useValue:2}]).\u0275providers:[],"enabledBlocking"===te.initialNavigation?ei(2,[{provide:Od,useValue:0},{provide:m.hnV,multi:!0,deps:[m.zZn],useFactory:Ce=>{const ie=Ce.get(be.hj,Promise.resolve());return()=>ie.then(()=>new Promise(Se=>{const Ae=Ce.get(ms),At=Ce.get(yc);Os(Ae,()=>{Se(!0)}),Ce.get(vt).afterPreactivation=()=>(Se(!0),At.closed?(0,x.of)(void 0):At),Ae.initialNavigation()}))}}]).\u0275providers:[]]}const df=new m.nKC("")},3345:(Jt,ke,E)=>{"use strict";E.d(ke,{A:()=>Q});var p=E(1076),m=E(1362),T=E(8742),F=E(8041);class x{constructor(be,me){this._delegate=be,this.firebase=me,(0,T._addComponent)(be,new m.uA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,T.deleteApp)(this._delegate)))}_getService(be,me=T._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(be);return!Be.isInitialized()&&"EXPLICIT"===(null===(Ne=Be.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:me})}_removeServiceInstance(be,me=T._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(me)}_addComponent(be){(0,T._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,T._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new p.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),O=function z(){const ee=function q(ee){const be={},me={__esModule:!0,initializeApp:function Ve(de,fe={}){const Re=T.initializeApp(de,fe);if((0,p.gR)(be,Re.name))return be[Re.name];const _e=new ee(Re,me);return be[Re.name]=_e,_e},app:Be,registerVersion:T.registerVersion,setLogLevel:T.setLogLevel,onLog:T.onLog,apps:null,SDK_VERSION:T.SDK_VERSION,INTERNAL:{registerComponent:function J(de){const fe=de.name,Re=fe.replace("-compat","");if(T._registerComponent(de)&&"PUBLIC"===de.type){const _e=(Xe=Be())=>{if("function"!=typeof Xe[Re])throw ne.create("invalid-app-argument",{appName:fe});return Xe[Re]()};void 0!==de.serviceProps&&(0,p.zw)(_e,de.serviceProps),me[Re]=_e,ee.prototype[Re]=function(...Xe){return this._getService.bind(this,fe).apply(this,de.multipleInstances?Xe:[])}}return"PUBLIC"===de.type?me[Re]:null},removeApp:function Ne(de){delete be[de]},useAsService:function ae(de,fe){return"serverAuth"===fe?null:fe},modularAPIs:T}};function Be(de){if(!(0,p.gR)(be,de=de||T._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:de});return be[de]}return me.default=me,Object.defineProperty(me,"apps",{get:function Le(){return Object.keys(be).map(de=>be[de])}}),Be.App=ee,me}(x);return ee.INTERNAL=Object.assign(Object.assign({},ee.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function be(me){(0,p.zw)(ee,me)},createSubscribe:p.tD,ErrorFactory:p.FA,deepExtend:p.zw}),ee}(),I=new F.Vy("@firebase/app-compat");if((0,p.Bd)()&&void 0!==self.firebase){I.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ee=self.firebase.SDK_VERSION;ee&&ee.indexOf("LITE")>=0&&I.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Q=O;!function H(ee){(0,T.registerVersion)("@firebase/app-compat","0.2.32",ee)}()},8742:(Jt,ke,E)=>{"use strict";E.r(ke),E.d(ke,{FirebaseError:()=>F.g,SDK_VERSION:()=>Pi,_DEFAULT_ENTRY_NAME:()=>Et,_addComponent:()=>qe,_addOrOverwriteComponent:()=>We,_apps:()=>jt,_clearComponents:()=>it,_components:()=>en,_getProvider:()=>mt,_isFirebaseApp:()=>Lt,_isFirebaseServerApp:()=>bn,_registerComponent:()=>ge,_removeServiceInstance:()=>Ft,_serverApps:()=>Dt,deleteApp:()=>Te,getApp:()=>qt,getApps:()=>Ie,initializeApp:()=>hi,initializeServerApp:()=>Ci,onLog:()=>Gt,registerVersion:()=>kt,setLogLevel:()=>En});var p=E(467),m=E(1362),T=E(8041),F=E(1076),x=E(6749);class ce{constructor(wt){this.container=wt}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function ne(ft){const wt=ft.getComponent();return"VERSION"===wt?.type}(ze)){const st=ze.getImmediate();return`${st.library}/${st.version}`}return null}).filter(ze=>ze).join(" ")}}const q="@firebase/app",z="0.10.2",O=new T.Vy("@firebase/app"),Et="[DEFAULT]",Rt={[q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,Dt=new Map,en=new Map;function qe(ft,wt){try{ft.container.addComponent(wt)}catch(ze){O.debug(`Component ${wt.name} failed to register with FirebaseApp ${ft.name}`,ze)}}function We(ft,wt){ft.container.addOrOverwriteComponent(wt)}function ge(ft){const wt=ft.name;if(en.has(wt))return O.debug(`There were multiple attempts to register component ${wt}.`),!1;en.set(wt,ft);for(const ze of jt.values())qe(ze,ft);for(const ze of Dt.values())qe(ze,ft);return!0}function mt(ft,wt){const ze=ft.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),ft.container.getProvider(wt)}function Ft(ft,wt,ze=Et){mt(ft,wt).clearInstance(ze)}function Lt(ft){return void 0!==ft.options}function bn(ft){return void 0!==ft.settings}function it(){en.clear()}const $t=new F.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Pn{constructor(wt,ze,st){this._isDeleted=!1,this._options=Object.assign({},wt),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=st,this.container.addComponent(new m.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(wt){this.checkDestroyed(),this._automaticDataCollectionEnabled=wt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(wt){this._isDeleted=wt}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}class qn extends Pn{constructor(wt,ze,st,V){const G=void 0!==ze.automaticDataCollectionEnabled&&ze.automaticDataCollectionEnabled,X={name:st,automaticDataCollectionEnabled:G};super(void 0!==wt.apiKey?wt:wt.options,X,V),this._serverConfig=Object.assign({automaticDataCollectionEnabled:G},ze),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,ze.releaseOnDeref=void 0,kt(q,z,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(wt){this.isDeleted||(this._refCount++,void 0!==wt&&this._finalizationRegistry.register(wt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Te(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw $t.create("server-app-deleted")}}const Pi="10.11.1";function hi(ft,wt={}){let ze=ft;"object"!=typeof wt&&(wt={name:wt});const st=Object.assign({name:Et,automaticDataCollectionEnabled:!1},wt),V=st.name;if("string"!=typeof V||!V)throw $t.create("bad-app-name",{appName:String(V)});if(ze||(ze=(0,F.T9)()),!ze)throw $t.create("no-options");const G=jt.get(V);if(G){if((0,F.bD)(ze,G.options)&&(0,F.bD)(st,G.config))return G;throw $t.create("duplicate-app",{appName:V})}const X=new m.h1(V);for(const ot of en.values())X.addComponent(ot);const Ee=new Pn(ze,st,X);return jt.set(V,Ee),Ee}function Ci(ft,wt){if((0,F.Bd)())throw $t.create("invalid-server-app-environment");let ze;void 0===wt.automaticDataCollectionEnabled&&(wt.automaticDataCollectionEnabled=!1),ze=Lt(ft)?ft.options:ft;const st=Object.assign(Object.assign({},wt),ze);if(void 0!==st.releaseOnDeref&&delete st.releaseOnDeref,void 0!==wt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw $t.create("finalization-registry-not-supported",{});const G=""+(ht=JSON.stringify(st),[...ht].reduce((on,gn)=>Math.imul(31,on)+gn.charCodeAt(0)|0,0)),X=Dt.get(G);var ht;if(X)return X.incRefCount(wt.releaseOnDeref),X;const Ee=new m.h1(G);for(const ht of en.values())Ee.addComponent(ht);const ot=new qn(ze,wt,G,Ee);return Dt.set(G,ot),ot}function qt(ft=Et){const wt=jt.get(ft);if(!wt&&ft===Et&&(0,F.T9)())return hi();if(!wt)throw $t.create("no-app",{appName:ft});return wt}function Ie(){return Array.from(jt.values())}function Te(ft){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,p.A)(function*(ft){let wt=!1;const ze=ft.name;jt.has(ze)?(wt=!0,jt.delete(ze)):Dt.has(ze)&&ft.decRefCount()<=0&&(Dt.delete(ze),wt=!0),wt&&(yield Promise.all(ft.container.getProviders().map(st=>st.delete())),ft.isDeleted=!0)})).apply(this,arguments)}function kt(ft,wt,ze){var st;let V=null!==(st=Rt[ft])&&void 0!==st?st:ft;ze&&(V+=`-${ze}`);const G=V.match(/\s|\//),X=wt.match(/\s|\//);if(G||X){const Ee=[`Unable to register library "${V}" with version "${wt}":`];return G&&Ee.push(`library name "${V}" contains illegal characters (whitespace or "/")`),G&&X&&Ee.push("and"),X&&Ee.push(`version name "${wt}" contains illegal characters (whitespace or "/")`),void O.warn(Ee.join(" "))}ge(new m.uA(`${V}-version`,()=>({library:V,version:wt}),"VERSION"))}function Gt(ft,wt){if(null!==ft&&"function"!=typeof ft)throw $t.create("invalid-log-argument");(0,T.Ey)(ft,wt)}function En(ft){(0,T.He)(ft)}const Yn="firebase-heartbeat-database",Mi=1,yi="firebase-heartbeat-store";let bi=null;function rr(){return bi||(bi=(0,x.P2)(Yn,Mi,{upgrade:(ft,wt)=>{if(0===wt)try{ft.createObjectStore(yi)}catch(ze){console.warn(ze)}}}).catch(ft=>{throw $t.create("idb-open",{originalErrorMessage:ft.message})})),bi}function Si(){return(Si=(0,p.A)(function*(ft){try{const ze=(yield rr()).transaction(yi),st=yield ze.objectStore(yi).get(Gi(ft));return yield ze.done,st}catch(wt){if(wt instanceof F.g)O.warn(wt.message);else{const ze=$t.create("idb-get",{originalErrorMessage:wt?.message});O.warn(ze.message)}}})).apply(this,arguments)}function Ar(ft,wt){return $i.apply(this,arguments)}function $i(){return($i=(0,p.A)(function*(ft,wt){try{const st=(yield rr()).transaction(yi,"readwrite");yield st.objectStore(yi).put(wt,Gi(ft)),yield st.done}catch(ze){if(ze instanceof F.g)O.warn(ze.message);else{const st=$t.create("idb-set",{originalErrorMessage:ze?.message});O.warn(st.message)}}})).apply(this,arguments)}function Gi(ft){return`${ft.name}!${ft.options.appId}`}class On{constructor(wt){this.container=wt,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new Vt(ze),this._heartbeatsCachePromise=this._storage.read().then(st=>(this._heartbeatsCache=st,st))}triggerHeartbeat(){var wt=this;return(0,p.A)(function*(){var ze,st;const G=wt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),X=bt();if((null!=(null===(ze=wt._heartbeatsCache)||void 0===ze?void 0:ze.heartbeats)||(wt._heartbeatsCache=yield wt._heartbeatsCachePromise,null!=(null===(st=wt._heartbeatsCache)||void 0===st?void 0:st.heartbeats)))&&wt._heartbeatsCache.lastSentHeartbeatDate!==X&&!wt._heartbeatsCache.heartbeats.some(Ee=>Ee.date===X))return wt._heartbeatsCache.heartbeats.push({date:X,agent:G}),wt._heartbeatsCache.heartbeats=wt._heartbeatsCache.heartbeats.filter(Ee=>{const ot=new Date(Ee.date).valueOf();return Date.now()-ot<=2592e6}),wt._storage.overwrite(wt._heartbeatsCache)})()}getHeartbeatsHeader(){var wt=this;return(0,p.A)(function*(){var ze;if(null===wt._heartbeatsCache&&(yield wt._heartbeatsCachePromise),null==(null===(ze=wt._heartbeatsCache)||void 0===ze?void 0:ze.heartbeats)||0===wt._heartbeatsCache.heartbeats.length)return"";const st=bt(),{heartbeatsToSend:V,unsentEntries:G}=function Pt(ft,wt=1024){const ze=[];let st=ft.slice();for(const V of ft){const G=ze.find(X=>X.agent===V.agent);if(G){if(G.dates.push(V.date),yt(ze)>wt){G.dates.pop();break}}else if(ze.push({agent:V.agent,dates:[V.date]}),yt(ze)>wt){ze.pop();break}st=st.slice(1)}return{heartbeatsToSend:ze,unsentEntries:st}}(wt._heartbeatsCache.heartbeats),X=(0,F.Uj)(JSON.stringify({version:2,heartbeats:V}));return wt._heartbeatsCache.lastSentHeartbeatDate=st,G.length>0?(wt._heartbeatsCache.heartbeats=G,yield wt._storage.overwrite(wt._heartbeatsCache)):(wt._heartbeatsCache.heartbeats=[],wt._storage.overwrite(wt._heartbeatsCache)),X})()}}function bt(){return(new Date).toISOString().substring(0,10)}class Vt{constructor(wt){this.app=wt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.A)(function*(){return!!(0,F.zW)()&&(0,F.eX)().then(()=>!0).catch(()=>!1)})()}read(){var wt=this;return(0,p.A)(function*(){if(yield wt._canUseIndexedDBPromise){const st=yield function br(ft){return Si.apply(this,arguments)}(wt.app);return st?.heartbeats?st:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(wt){var ze=this;return(0,p.A)(function*(){var st;if(yield ze._canUseIndexedDBPromise){const G=yield ze.read();return Ar(ze.app,{lastSentHeartbeatDate:null!==(st=wt.lastSentHeartbeatDate)&&void 0!==st?st:G.lastSentHeartbeatDate,heartbeats:wt.heartbeats})}})()}add(wt){var ze=this;return(0,p.A)(function*(){var st;if(yield ze._canUseIndexedDBPromise){const G=yield ze.read();return Ar(ze.app,{lastSentHeartbeatDate:null!==(st=wt.lastSentHeartbeatDate)&&void 0!==st?st:G.lastSentHeartbeatDate,heartbeats:[...G.heartbeats,...wt.heartbeats]})}})()}}function yt(ft){return(0,F.Uj)(JSON.stringify({version:2,heartbeats:ft})).length}!function Ht(ft){ge(new m.uA("platform-logger",wt=>new ce(wt),"PRIVATE")),ge(new m.uA("heartbeat",wt=>new On(wt),"PRIVATE")),kt(q,z,ft),kt(q,z,"esm2017"),kt("fire-js","")}("")},1362:(Jt,ke,E)=>{"use strict";E.d(ke,{Kq:()=>x,h1:()=>q,uA:()=>T});var p=E(467),m=E(1076);class T{constructor(O,I,k){this.name=O,this.instanceFactory=I,this.type=k,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(O){return this.instantiationMode=O,this}setMultipleInstances(O){return this.multipleInstances=O,this}setServiceProps(O){return this.serviceProps=O,this}setInstanceCreatedCallback(O){return this.onInstanceCreated=O,this}}const F="[DEFAULT]";class x{constructor(O,I){this.name=O,this.container=I,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(O){const I=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(I)){const k=new m.cY;if(this.instancesDeferred.set(I,k),this.isInitialized(I)||this.shouldAutoInitialize())try{const A=this.getOrInitializeService({instanceIdentifier:I});A&&k.resolve(A)}catch{}}return this.instancesDeferred.get(I).promise}getImmediate(O){var I;const k=this.normalizeInstanceIdentifier(O?.identifier),A=null!==(I=O?.optional)&&void 0!==I&&I;if(!this.isInitialized(k)&&!this.shouldAutoInitialize()){if(A)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:k})}catch(H){if(A)return null;throw H}}getComponent(){return this.component}setComponent(O){if(O.name!==this.name)throw Error(`Mismatching Component ${O.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=O,this.shouldAutoInitialize()){if(function ne(z){return"EAGER"===z.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:F})}catch{}for(const[I,k]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(I);try{const H=this.getOrInitializeService({instanceIdentifier:A});k.resolve(H)}catch{}}}}clearInstance(O=F){this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)}delete(){var O=this;return(0,p.A)(function*(){const I=Array.from(O.instances.values());yield Promise.all([...I.filter(k=>"INTERNAL"in k).map(k=>k.INTERNAL.delete()),...I.filter(k=>"_delete"in k).map(k=>k._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(O=F){return this.instances.has(O)}getOptions(O=F){return this.instancesOptions.get(O)||{}}initialize(O={}){const{options:I={}}=O,k=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(k))throw Error(`${this.name}(${k}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:k,options:I});for(const[H,Q]of this.instancesDeferred.entries())k===this.normalizeInstanceIdentifier(H)&&Q.resolve(A);return A}onInit(O,I){var k;const A=this.normalizeInstanceIdentifier(I),H=null!==(k=this.onInitCallbacks.get(A))&&void 0!==k?k:new Set;H.add(O),this.onInitCallbacks.set(A,H);const Q=this.instances.get(A);return Q&&O(Q,A),()=>{H.delete(O)}}invokeOnInitCallbacks(O,I){const k=this.onInitCallbacks.get(I);if(k)for(const A of k)try{A(O,I)}catch{}}getOrInitializeService({instanceIdentifier:O,options:I={}}){let k=this.instances.get(O);if(!k&&this.component&&(k=this.component.instanceFactory(this.container,{instanceIdentifier:(z=O,z===F?void 0:z),options:I}),this.instances.set(O,k),this.instancesOptions.set(O,I),this.invokeOnInitCallbacks(k,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,k)}catch{}var z;return k||null}normalizeInstanceIdentifier(O=F){return this.component?this.component.multipleInstances?O:F:O}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class q{constructor(O){this.name=O,this.providers=new Map}addComponent(O){const I=this.getProvider(O.name);if(I.isComponentSet())throw new Error(`Component ${O.name} has already been registered with ${this.name}`);I.setComponent(O)}addOrOverwriteComponent(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)}getProvider(O){if(this.providers.has(O))return this.providers.get(O);const I=new x(O,this);return this.providers.set(O,I),I}getProviders(){return Array.from(this.providers.values())}}},9052:(Jt,ke,E)=>{"use strict";var p=E(467),m=E(8742),T=E(1362),F=E(1076),x=E(6749);const ce="@firebase/installations",ne="0.6.6",q=1e4,z=`w:${ne}`,O="FIS_v2",I="https://firebaseinstallations.googleapis.com/v1",k=36e5,ee=new F.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function be(sn){return sn instanceof F.g&&sn.code.includes("request-failed")}function me({projectId:sn}){return`${I}/projects/${sn}/installations`}function Ne(sn){return{token:sn.token,requestStatus:2,expiresIn:fe(sn.expiresIn),creationTime:Date.now()}}function Be(sn,hn){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,p.A)(function*(sn,hn){const dn=(yield hn.json()).error;return ee.create("request-failed",{requestName:sn,serverCode:dn.code,serverMessage:dn.message,serverStatus:dn.status})})).apply(this,arguments)}function Le({apiKey:sn}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":sn})}function ae(sn){return de.apply(this,arguments)}function de(){return(de=(0,p.A)(function*(sn){const hn=yield sn();return hn.status>=500&&hn.status<600?sn():hn})).apply(this,arguments)}function fe(sn){return Number(sn.replace("s","000"))}function Xe(){return(Xe=(0,p.A)(function*({appConfig:sn,heartbeatServiceProvider:hn},{fid:xt}){const dn=me(sn),he=Le(sn),ct=hn.getImmediate({optional:!0});if(ct){const Sn=yield ct.getHeartbeatsHeader();Sn&&he.append("x-firebase-client",Sn)}const at={method:"POST",headers:he,body:JSON.stringify({fid:xt,authVersion:O,appId:sn.appId,sdkVersion:z})},Mt=yield ae(()=>fetch(dn,at));if(Mt.ok){const Sn=yield Mt.json();return{fid:Sn.fid||xt,registrationStatus:2,refreshToken:Sn.refreshToken,authToken:Ne(Sn.authToken)}}throw yield Be("Create Installation",Mt)})).apply(this,arguments)}function Ye(sn){return new Promise(hn=>{setTimeout(hn,sn)})}const un=/^[cdef][\w-]{21}$/,Cn="";function An(){try{const sn=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(sn),sn[0]=112+sn[0]%16;const xt=function Nn(sn){return function Ot(sn){return btoa(String.fromCharCode(...sn)).replace(/\+/g,"-").replace(/\//g,"_")}(sn).substr(0,22)}(sn);return un.test(xt)?xt:Cn}catch{return Cn}}function Et(sn){return`${sn.appName}!${sn.appId}`}const Rt=new Map;function jt(sn,hn){const xt=Et(sn);qe(xt,hn),function We(sn,hn){const xt=function mt(){return!ge&&"BroadcastChannel"in self&&(ge=new BroadcastChannel("[Firebase] FID Change"),ge.onmessage=sn=>{qe(sn.data.key,sn.data.fid)}),ge}();xt&&xt.postMessage({key:sn,fid:hn}),function Ft(){0===Rt.size&&ge&&(ge.close(),ge=null)}()}(xt,hn)}function qe(sn,hn){const xt=Rt.get(sn);if(xt)for(const dn of xt)dn(hn)}let ge=null;const Lt="firebase-installations-database",bn=1,it="firebase-installations-store";let dt=null;function $t(){return dt||(dt=(0,x.P2)(Lt,bn,{upgrade:(sn,hn)=>{0===hn&&sn.createObjectStore(it)}})),dt}function Pn(sn,hn){return qn.apply(this,arguments)}function qn(){return(qn=(0,p.A)(function*(sn,hn){const xt=Et(sn),he=(yield $t()).transaction(it,"readwrite"),ct=he.objectStore(it),we=yield ct.get(xt);return yield ct.put(hn,xt),yield he.done,(!we||we.fid!==hn.fid)&&jt(sn,hn.fid),hn})).apply(this,arguments)}function Pi(sn){return hi.apply(this,arguments)}function hi(){return(hi=(0,p.A)(function*(sn){const hn=Et(sn),dn=(yield $t()).transaction(it,"readwrite");yield dn.objectStore(it).delete(hn),yield dn.done})).apply(this,arguments)}function Ci(sn,hn){return qt.apply(this,arguments)}function qt(){return(qt=(0,p.A)(function*(sn,hn){const xt=Et(sn),he=(yield $t()).transaction(it,"readwrite"),ct=he.objectStore(it),we=yield ct.get(xt),at=hn(we);return void 0===at?yield ct.delete(xt):yield ct.put(at,xt),yield he.done,at&&(!we||we.fid!==at.fid)&&jt(sn,at.fid),at})).apply(this,arguments)}function Ie(sn){return Te.apply(this,arguments)}function Te(){return Te=(0,p.A)(function*(sn){let hn;const xt=yield Ci(sn.appConfig,dn=>{const he=function Ge(sn){return bi(sn||{fid:An(),registrationStatus:0})}(dn),ct=function kt(sn,hn){if(0===hn.registrationStatus){if(!navigator.onLine)return{installationEntry:hn,registrationPromise:Promise.reject(ee.create("app-offline"))};const xt={fid:hn.fid,registrationStatus:1,registrationTime:Date.now()},dn=function Gt(sn,hn){return En.apply(this,arguments)}(sn,xt);return{installationEntry:xt,registrationPromise:dn}}return 1===hn.registrationStatus?{installationEntry:hn,registrationPromise:Yn(sn)}:{installationEntry:hn}}(sn,he);return hn=ct.registrationPromise,ct.installationEntry});return xt.fid===Cn?{installationEntry:yield hn}:{installationEntry:xt,registrationPromise:hn}}),Te.apply(this,arguments)}function En(){return En=(0,p.A)(function*(sn,hn){try{const xt=yield function _e(sn,hn){return Xe.apply(this,arguments)}(sn,hn);return Pn(sn.appConfig,xt)}catch(xt){throw be(xt)&&409===xt.customData.serverCode?yield Pi(sn.appConfig):yield Pn(sn.appConfig,{fid:hn.fid,registrationStatus:0}),xt}}),En.apply(this,arguments)}function Yn(sn){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,p.A)(function*(sn){let hn=yield yi(sn.appConfig);for(;1===hn.registrationStatus;)yield Ye(100),hn=yield yi(sn.appConfig);if(0===hn.registrationStatus){const{installationEntry:xt,registrationPromise:dn}=yield Ie(sn);return dn||xt}return hn})).apply(this,arguments)}function yi(sn){return Ci(sn,hn=>{if(!hn)throw ee.create("installation-not-found");return bi(hn)})}function bi(sn){return function rr(sn){return 1===sn.registrationStatus&&sn.registrationTime+q<Date.now()}(sn)?{fid:sn.fid,registrationStatus:0}:sn}function Si(){return(Si=(0,p.A)(function*({appConfig:sn,heartbeatServiceProvider:hn},xt){const dn=function Ar(sn,{fid:hn}){return`${me(sn)}/${hn}/authTokens:generate`}(sn,xt),he=function J(sn,{refreshToken:hn}){const xt=Le(sn);return xt.append("Authorization",function Re(sn){return`${O} ${sn}`}(hn)),xt}(sn,xt),ct=hn.getImmediate({optional:!0});if(ct){const Sn=yield ct.getHeartbeatsHeader();Sn&&he.append("x-firebase-client",Sn)}const at={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:z,appId:sn.appId}})},Mt=yield ae(()=>fetch(dn,at));if(Mt.ok)return Ne(yield Mt.json());throw yield Be("Generate Auth Token",Mt)})).apply(this,arguments)}function $i(sn){return Gi.apply(this,arguments)}function Gi(){return Gi=(0,p.A)(function*(sn,hn=!1){let xt;const dn=yield Ci(sn.appConfig,ct=>{if(!Vt(ct))throw ee.create("not-registered");const we=ct.authToken;if(!hn&&function yt(sn){return 2===sn.requestStatus&&!function Ht(sn){const hn=Date.now();return hn<sn.creationTime||sn.creationTime+sn.expiresIn<hn+k}(sn)}(we))return ct;if(1===we.requestStatus)return xt=function rs(sn,hn){return Dn.apply(this,arguments)}(sn,hn),ct;{if(!navigator.onLine)throw ee.create("app-offline");const at=function ft(sn){const hn={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},sn),{authToken:hn})}(ct);return xt=function bt(sn,hn){return Pt.apply(this,arguments)}(sn,at),at}});return xt?yield xt:dn.authToken}),Gi.apply(this,arguments)}function Dn(){return(Dn=(0,p.A)(function*(sn,hn){let xt=yield On(sn.appConfig);for(;1===xt.authToken.requestStatus;)yield Ye(100),xt=yield On(sn.appConfig);const dn=xt.authToken;return 0===dn.requestStatus?$i(sn,hn):dn})).apply(this,arguments)}function On(sn){return Ci(sn,hn=>{if(!Vt(hn))throw ee.create("not-registered");return function wt(sn){return 1===sn.requestStatus&&sn.requestTime+q<Date.now()}(hn.authToken)?Object.assign(Object.assign({},hn),{authToken:{requestStatus:0}}):hn})}function Pt(){return Pt=(0,p.A)(function*(sn,hn){try{const xt=yield function br(sn,hn){return Si.apply(this,arguments)}(sn,hn),dn=Object.assign(Object.assign({},hn),{authToken:xt});return yield Pn(sn.appConfig,dn),xt}catch(xt){if(!be(xt)||401!==xt.customData.serverCode&&404!==xt.customData.serverCode){const dn=Object.assign(Object.assign({},hn),{authToken:{requestStatus:0}});yield Pn(sn.appConfig,dn)}else yield Pi(sn.appConfig);throw xt}}),Pt.apply(this,arguments)}function Vt(sn){return void 0!==sn&&2===sn.registrationStatus}function st(){return(st=(0,p.A)(function*(sn){const hn=sn,{installationEntry:xt,registrationPromise:dn}=yield Ie(hn);return dn?dn.catch(console.error):$i(hn).catch(console.error),xt.fid})).apply(this,arguments)}function G(){return G=(0,p.A)(function*(sn,hn=!1){const xt=sn;return yield function X(sn){return Ee.apply(this,arguments)}(xt),(yield $i(xt,hn)).token}),G.apply(this,arguments)}function Ee(){return(Ee=(0,p.A)(function*(sn){const{registrationPromise:hn}=yield Ie(sn);hn&&(yield hn)})).apply(this,arguments)}function Rn(sn){return ee.create("missing-app-config-values",{valueName:sn})}const Nt="installations",$n=sn=>{const hn=sn.getProvider("app").getImmediate(),xt=function ln(sn){if(!sn||!sn.options)throw Rn("App Configuration");if(!sn.name)throw Rn("App Name");const hn=["projectId","apiKey","appId"];for(const xt of hn)if(!sn.options[xt])throw Rn(xt);return{appName:sn.name,projectId:sn.options.projectId,apiKey:sn.options.apiKey,appId:sn.options.appId}}(hn);return{app:hn,appConfig:xt,heartbeatServiceProvider:(0,m._getProvider)(hn,"heartbeat"),_delete:()=>Promise.resolve()}},Zn=sn=>{const hn=sn.getProvider("app").getImmediate(),xt=(0,m._getProvider)(hn,Nt).getImmediate();return{getId:()=>function ze(sn){return st.apply(this,arguments)}(xt),getToken:he=>function V(sn){return G.apply(this,arguments)}(xt,he)}};(function Ai(){(0,m._registerComponent)(new T.uA(Nt,$n,"PUBLIC")),(0,m._registerComponent)(new T.uA("installations-internal",Zn,"PRIVATE"))})(),(0,m.registerVersion)(ce,ne),(0,m.registerVersion)(ce,ne,"esm2017")},8041:(Jt,ke,E)=>{"use strict";E.d(ke,{$b:()=>m,Ey:()=>z,He:()=>q,Vy:()=>ne});const p=[];var m=function(O){return O[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",O}(m||{});const T={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},F=m.INFO,x={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},ce=(O,I,...k)=>{if(I<O.logLevel)return;const A=(new Date).toISOString(),H=x[I];if(!H)throw new Error(`Attempted to log a message with an invalid logType (value: ${I})`);console[H](`[${A}]  ${O.name}:`,...k)};class ne{constructor(I){this.name=I,this._logLevel=F,this._logHandler=ce,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(I){if(!(I in m))throw new TypeError(`Invalid value "${I}" assigned to \`logLevel\``);this._logLevel=I}setLogLevel(I){this._logLevel="string"==typeof I?T[I]:I}get logHandler(){return this._logHandler}set logHandler(I){if("function"!=typeof I)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=I}get userLogHandler(){return this._userLogHandler}set userLogHandler(I){this._userLogHandler=I}debug(...I){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...I),this._logHandler(this,m.DEBUG,...I)}log(...I){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...I),this._logHandler(this,m.VERBOSE,...I)}info(...I){this._userLogHandler&&this._userLogHandler(this,m.INFO,...I),this._logHandler(this,m.INFO,...I)}warn(...I){this._userLogHandler&&this._userLogHandler(this,m.WARN,...I),this._logHandler(this,m.WARN,...I)}error(...I){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...I),this._logHandler(this,m.ERROR,...I)}}function q(O){p.forEach(I=>{I.setLogLevel(O)})}function z(O,I){for(const k of p){let A=null;I&&I.level&&(A=T[I.level]),k.userLogHandler=null===O?null:(H,Q,...ee)=>{const be=ee.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");Q>=(A??H.logLevel)&&O({level:m[Q].toLowerCase(),message:be,args:ee,type:H.name})}}}},4555:(Jt,ke,E)=>{"use strict";E.d(ke,{TT:()=>Ee,gf:()=>Ut,ni:()=>ln,xD:()=>Rn});var p=E(467),T=(E(9052),E(1362)),F=E(6749),x=E(1076),ce=E(8742);const ne="/firebase-messaging-sw.js",q="/firebase-cloud-messaging-push-scope",z="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",O="https://fcmregistrations.googleapis.com/v1",I="google.c.a.c_id",k="google.c.a.c_l",A="google.c.a.ts";var ee=function(Nt){return Nt.PUSH_RECEIVED="push-received",Nt.NOTIFICATION_CLICKED="notification-clicked",Nt}(ee||{});function be(Nt){const vn=new Uint8Array(Nt);return btoa(String.fromCharCode(...vn)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function me(Nt){const $n=(Nt+"=".repeat((4-Nt.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Zn=atob($n),Ai=new Uint8Array(Zn.length);for(let sn=0;sn<Zn.length;++sn)Ai[sn]=Zn.charCodeAt(sn);return Ai}const Ne="fcm_token_details_db",Be=5,Ve="fcm_token_object_Store";function J(){return J=(0,p.A)(function*(Nt){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(sn=>sn.name).includes(Ne))return null;let vn=null;return(yield(0,F.P2)(Ne,Be,{upgrade:(Zn=(0,p.A)(function*(Ai,sn,hn,xt){var dn;if(sn<2||!Ai.objectStoreNames.contains(Ve))return;const he=xt.objectStore(Ve),ct=yield he.index("fcmSenderId").get(Nt);if(yield he.clear(),ct)if(2===sn){const we=ct;if(!we.auth||!we.p256dh||!we.endpoint)return;vn={token:we.fcmToken,createTime:null!==(dn=we.createTime)&&void 0!==dn?dn:Date.now(),subscriptionOptions:{auth:we.auth,p256dh:we.p256dh,endpoint:we.endpoint,swScope:we.swScope,vapidKey:"string"==typeof we.vapidKey?we.vapidKey:be(we.vapidKey)}}}else if(3===sn){const we=ct;vn={token:we.fcmToken,createTime:we.createTime,subscriptionOptions:{auth:be(we.auth),p256dh:be(we.p256dh),endpoint:we.endpoint,swScope:we.swScope,vapidKey:be(we.vapidKey)}}}else if(4===sn){const we=ct;vn={token:we.fcmToken,createTime:we.createTime,subscriptionOptions:{auth:be(we.auth),p256dh:be(we.p256dh),endpoint:we.endpoint,swScope:we.swScope,vapidKey:be(we.vapidKey)}}}}),function(sn,hn,xt,dn){return Zn.apply(this,arguments)})})).close(),yield(0,F.MR)(Ne),yield(0,F.MR)("fcm_vapid_details_db"),yield(0,F.MR)("undefined"),function ae(Nt){if(!Nt||!Nt.subscriptionOptions)return!1;const{subscriptionOptions:vn}=Nt;return"number"==typeof Nt.createTime&&Nt.createTime>0&&"string"==typeof Nt.token&&Nt.token.length>0&&"string"==typeof vn.auth&&vn.auth.length>0&&"string"==typeof vn.p256dh&&vn.p256dh.length>0&&"string"==typeof vn.endpoint&&vn.endpoint.length>0&&"string"==typeof vn.swScope&&vn.swScope.length>0&&"string"==typeof vn.vapidKey&&vn.vapidKey.length>0}(vn)?vn:null;var Zn}),J.apply(this,arguments)}const de="firebase-messaging-database",fe=1,Re="firebase-messaging-store";let _e=null;function Xe(){return _e||(_e=(0,F.P2)(de,fe,{upgrade:(Nt,vn)=>{0===vn&&Nt.createObjectStore(Re)}})),_e}function Ye(Nt){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,p.A)(function*(Nt){const vn=Et(Nt),Zn=yield(yield Xe()).transaction(Re).objectStore(Re).get(vn);if(Zn)return Zn;{const Ai=yield function Le(Nt){return J.apply(this,arguments)}(Nt.appConfig.senderId);if(Ai)return yield un(Nt,Ai),Ai}}),Ot.apply(this,arguments)}function un(Nt,vn){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,p.A)(function*(Nt,vn){const $n=Et(Nt),Ai=(yield Xe()).transaction(Re,"readwrite");return yield Ai.objectStore(Re).put(vn,$n),yield Ai.done,vn})).apply(this,arguments)}function Nn(){return(Nn=(0,p.A)(function*(Nt){const vn=Et(Nt),Zn=(yield Xe()).transaction(Re,"readwrite");yield Zn.objectStore(Re).delete(vn),yield Zn.done})).apply(this,arguments)}function Et({appConfig:Nt}){return Nt.appId}const jt=new x.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dt(Nt,vn){return en.apply(this,arguments)}function en(){return(en=(0,p.A)(function*(Nt,vn){const $n=yield Lt(Nt),Zn=it(vn),Ai={method:"POST",headers:$n,body:JSON.stringify(Zn)};let sn;try{sn=yield(yield fetch(Ft(Nt.appConfig),Ai)).json()}catch(hn){throw jt.create("token-subscribe-failed",{errorInfo:hn?.toString()})}if(sn.error)throw jt.create("token-subscribe-failed",{errorInfo:sn.error.message});if(!sn.token)throw jt.create("token-subscribe-no-token");return sn.token})).apply(this,arguments)}function We(){return(We=(0,p.A)(function*(Nt,vn){const $n=yield Lt(Nt),Zn=it(vn.subscriptionOptions),Ai={method:"PATCH",headers:$n,body:JSON.stringify(Zn)};let sn;try{sn=yield(yield fetch(`${Ft(Nt.appConfig)}/${vn.token}`,Ai)).json()}catch(hn){throw jt.create("token-update-failed",{errorInfo:hn?.toString()})}if(sn.error)throw jt.create("token-update-failed",{errorInfo:sn.error.message});if(!sn.token)throw jt.create("token-update-no-token");return sn.token})).apply(this,arguments)}function ge(Nt,vn){return mt.apply(this,arguments)}function mt(){return(mt=(0,p.A)(function*(Nt,vn){const Zn={method:"DELETE",headers:yield Lt(Nt)};try{const sn=yield(yield fetch(`${Ft(Nt.appConfig)}/${vn}`,Zn)).json();if(sn.error)throw jt.create("token-unsubscribe-failed",{errorInfo:sn.error.message})}catch(Ai){throw jt.create("token-unsubscribe-failed",{errorInfo:Ai?.toString()})}})).apply(this,arguments)}function Ft({projectId:Nt}){return`${O}/projects/${Nt}/registrations`}function Lt(Nt){return bn.apply(this,arguments)}function bn(){return(bn=(0,p.A)(function*({appConfig:Nt,installations:vn}){const $n=yield vn.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Nt.apiKey,"x-goog-firebase-installations-auth":`FIS ${$n}`})})).apply(this,arguments)}function it({p256dh:Nt,auth:vn,endpoint:$n,vapidKey:Zn}){const Ai={web:{endpoint:$n,auth:vn,p256dh:Nt}};return Zn!==z&&(Ai.web.applicationPubKey=Zn),Ai}const dt=6048e5;function Pn(){return Pn=(0,p.A)(function*(Nt){const vn=yield function Te(Nt,vn){return Ge.apply(this,arguments)}(Nt.swRegistration,Nt.vapidKey),$n={vapidKey:Nt.vapidKey,swScope:Nt.swRegistration.scope,endpoint:vn.endpoint,auth:be(vn.getKey("auth")),p256dh:be(vn.getKey("p256dh"))},Zn=yield Ye(Nt.firebaseDependencies);if(Zn){if(function kt(Nt,vn){return vn.vapidKey===Nt.vapidKey&&vn.endpoint===Nt.endpoint&&vn.auth===Nt.auth&&vn.p256dh===Nt.p256dh}(Zn.subscriptionOptions,$n))return Date.now()>=Zn.createTime+dt?function hi(Nt,vn){return Ci.apply(this,arguments)}(Nt,{token:Zn.token,createTime:Date.now(),subscriptionOptions:$n}):Zn.token;try{yield ge(Nt.firebaseDependencies,Zn.token)}catch(Ai){console.warn(Ai)}return qt(Nt.firebaseDependencies,$n)}return qt(Nt.firebaseDependencies,$n)}),Pn.apply(this,arguments)}function Pi(){return Pi=(0,p.A)(function*(Nt){const vn=yield Ye(Nt.firebaseDependencies);vn&&(yield ge(Nt.firebaseDependencies,vn.token),yield function An(Nt){return Nn.apply(this,arguments)}(Nt.firebaseDependencies));const $n=yield Nt.swRegistration.pushManager.getSubscription();return!$n||$n.unsubscribe()}),Pi.apply(this,arguments)}function Ci(){return Ci=(0,p.A)(function*(Nt,vn){try{const $n=yield function qe(Nt,vn){return We.apply(this,arguments)}(Nt.firebaseDependencies,vn),Zn=Object.assign(Object.assign({},vn),{token:$n,createTime:Date.now()});return yield un(Nt.firebaseDependencies,Zn),$n}catch($n){throw $n}}),Ci.apply(this,arguments)}function qt(Nt,vn){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,p.A)(function*(Nt,vn){const Zn={token:yield Dt(Nt,vn),createTime:Date.now(),subscriptionOptions:vn};return yield un(Nt,Zn),Zn.token})).apply(this,arguments)}function Ge(){return(Ge=(0,p.A)(function*(Nt,vn){return(yield Nt.pushManager.getSubscription())||Nt.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:me(vn)})})).apply(this,arguments)}function Gt(Nt){const vn={from:Nt.from,collapseKey:Nt.collapse_key,messageId:Nt.fcmMessageId};return function En(Nt,vn){if(!vn.notification)return;Nt.notification={};const $n=vn.notification.title;$n&&(Nt.notification.title=$n);const Zn=vn.notification.body;Zn&&(Nt.notification.body=Zn);const Ai=vn.notification.image;Ai&&(Nt.notification.image=Ai);const sn=vn.notification.icon;sn&&(Nt.notification.icon=sn)}(vn,Nt),function Yn(Nt,vn){vn.data&&(Nt.data=vn.data)}(vn,Nt),function Mi(Nt,vn){var $n,Zn,Ai,sn,hn;if(!(vn.fcmOptions||null!==($n=vn.notification)&&void 0!==$n&&$n.click_action))return;Nt.fcmOptions={};const xt=null!==(Ai=null===(Zn=vn.fcmOptions)||void 0===Zn?void 0:Zn.link)&&void 0!==Ai?Ai:null===(sn=vn.notification)||void 0===sn?void 0:sn.click_action;xt&&(Nt.fcmOptions.link=xt);const dn=null===(hn=vn.fcmOptions)||void 0===hn?void 0:hn.analytics_label;dn&&(Nt.fcmOptions.analyticsLabel=dn)}(vn,Nt),vn}function bi(Nt,vn){const $n=[];for(let Zn=0;Zn<Nt.length;Zn++)$n.push(Nt.charAt(Zn)),Zn<vn.length&&$n.push(vn.charAt(Zn));return $n.join("")}function br(Nt){return jt.create("missing-app-config-values",{valueName:Nt})}bi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Si{constructor(vn,$n,Zn){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ai=function rr(Nt){if(!Nt||!Nt.options)throw br("App Configuration Object");if(!Nt.name)throw br("App Name");const vn=["projectId","apiKey","appId","messagingSenderId"],{options:$n}=Nt;for(const Zn of vn)if(!$n[Zn])throw br(Zn);return{appName:Nt.name,projectId:$n.projectId,apiKey:$n.apiKey,appId:$n.appId,senderId:$n.messagingSenderId}}(vn);this.firebaseDependencies={app:vn,appConfig:Ai,installations:$n,analyticsProvider:Zn}}_delete(){return Promise.resolve()}}function Ar(Nt){return $i.apply(this,arguments)}function $i(){return($i=(0,p.A)(function*(Nt){try{Nt.swRegistration=yield navigator.serviceWorker.register(ne,{scope:q}),Nt.swRegistration.update().catch(()=>{})}catch(vn){throw jt.create("failed-service-worker-registration",{browserErrorMessage:vn?.message})}})).apply(this,arguments)}function rs(){return(rs=(0,p.A)(function*(Nt,vn){if(!vn&&!Nt.swRegistration&&(yield Ar(Nt)),vn||!Nt.swRegistration){if(!(vn instanceof ServiceWorkerRegistration))throw jt.create("invalid-sw-registration");Nt.swRegistration=vn}})).apply(this,arguments)}function On(){return(On=(0,p.A)(function*(Nt,vn){vn?Nt.vapidKey=vn:Nt.vapidKey||(Nt.vapidKey=z)})).apply(this,arguments)}function bt(Nt,vn){return Pt.apply(this,arguments)}function Pt(){return Pt=(0,p.A)(function*(Nt,vn){if(!navigator)throw jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jt.create("permission-blocked");return yield function Dn(Nt,vn){return On.apply(this,arguments)}(Nt,vn?.vapidKey),yield function Gi(Nt,vn){return rs.apply(this,arguments)}(Nt,vn?.serviceWorkerRegistration),function $t(Nt){return Pn.apply(this,arguments)}(Nt)}),Pt.apply(this,arguments)}function yt(){return(yt=(0,p.A)(function*(Nt,vn,$n){const Zn=function Ht(Nt){switch(Nt){case ee.NOTIFICATION_CLICKED:return"notification_open";case ee.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(vn);(yield Nt.firebaseDependencies.analyticsProvider.get()).logEvent(Zn,{message_id:$n[I],message_name:$n[k],message_time:$n[A],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wt(){return wt=(0,p.A)(function*(Nt,vn){const $n=vn.data;if(!$n.isFirebaseMessaging)return;Nt.onMessageHandler&&$n.messageType===ee.PUSH_RECEIVED&&("function"==typeof Nt.onMessageHandler?Nt.onMessageHandler(Gt($n)):Nt.onMessageHandler.next(Gt($n)));const Zn=$n.data;(function yi(Nt){return"object"==typeof Nt&&!!Nt&&I in Nt})(Zn)&&"1"===Zn["google.c.a.e"]&&(yield function Vt(Nt,vn,$n){return yt.apply(this,arguments)}(Nt,$n.messageType,Zn))}),wt.apply(this,arguments)}const ze="@firebase/messaging",V=Nt=>{const vn=new Si(Nt.getProvider("app").getImmediate(),Nt.getProvider("installations-internal").getImmediate(),Nt.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",$n=>function ft(Nt,vn){return wt.apply(this,arguments)}(vn,$n)),vn},G=Nt=>{const vn=Nt.getProvider("messaging").getImmediate();return{getToken:Zn=>bt(vn,Zn)}};function Ee(){return ot.apply(this,arguments)}function ot(){return(ot=(0,p.A)(function*(){try{yield(0,x.eX)()}catch{return!1}return typeof window<"u"&&(0,x.zW)()&&(0,x.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function on(){return on=(0,p.A)(function*(Nt){if(!navigator)throw jt.create("only-available-in-window");return Nt.swRegistration||(yield Ar(Nt)),function qn(Nt){return Pi.apply(this,arguments)}(Nt)}),on.apply(this,arguments)}function Ut(Nt,vn){return lt.apply(this,arguments)}function lt(){return(lt=(0,p.A)(function*(Nt,vn){return bt(Nt=(0,x.Ku)(Nt),vn)})).apply(this,arguments)}function ln(Nt){return function ht(Nt){return on.apply(this,arguments)}(Nt=(0,x.Ku)(Nt))}function Rn(Nt,vn){return function gn(Nt,vn){if(!navigator)throw jt.create("only-available-in-window");return Nt.onMessageHandler=vn,()=>{Nt.onMessageHandler=null}}(Nt=(0,x.Ku)(Nt),vn)}!function X(){(0,ce._registerComponent)(new T.uA("messaging",V,"PUBLIC")),(0,ce._registerComponent)(new T.uA("messaging-internal",G,"PRIVATE")),(0,ce.registerVersion)(ze,"0.12.8"),(0,ce.registerVersion)(ze,"0.12.8","esm2017")}()},3206:(Jt,ke,E)=>{"use strict";E.d(ke,{Cw:()=>ds});var p=E(467);const T={Africa:{Abidjan:["",0],Accra:["Africa/Abidjan",0],Addis_Ababa:["Africa/Nairobi",1],Algiers:["",2],Asmara:["Africa/Nairobi",1],Asmera:["Africa/Nairobi",1],Bamako:["Africa/Abidjan",0],Bangui:["Africa/Lagos",3],Banjul:["Africa/Abidjan",0],Bissau:["",0],Blantyre:["Africa/Maputo",4],Brazzaville:["Africa/Lagos",3],Bujumbura:["Africa/Maputo",4],Cairo:["",5],Casablanca:["",6],Ceuta:["",7],Conakry:["Africa/Abidjan",0],Dakar:["Africa/Abidjan",0],Dar_es_Salaam:["Africa/Nairobi",1],Djibouti:["Africa/Nairobi",1],Douala:["Africa/Lagos",3],El_Aaiun:["",6],Freetown:["Africa/Abidjan",0],Gaborone:["Africa/Maputo",4],Harare:["Africa/Maputo",4],Johannesburg:["",8],Juba:["",4],Kampala:["Africa/Nairobi",1],Khartoum:["",4],Kigali:["Africa/Maputo",4],Kinshasa:["Africa/Lagos",3],Lagos:["",3],Libreville:["Africa/Lagos",3],Lome:["Africa/Abidjan",0],Luanda:["Africa/Lagos",3],Lubumbashi:["Africa/Maputo",4],Lusaka:["Africa/Maputo",4],Malabo:["Africa/Lagos",3],Maputo:["",4],Maseru:["Africa/Johannesburg",8],Mbabane:["Africa/Johannesburg",8],Mogadishu:["Africa/Nairobi",1],Monrovia:["",0],Nairobi:["",1],Ndjamena:["",3],Niamey:["Africa/Lagos",3],Nouakchott:["Africa/Abidjan",0],Ouagadougou:["Africa/Abidjan",0],"Porto-Novo":["Africa/Lagos",3],Sao_Tome:["",0],Timbuktu:["Africa/Abidjan",0],Tripoli:["",9],Tunis:["",2],Windhoek:["",4]},America:{Adak:["",10],Anchorage:["",11],Anguilla:["America/Puerto_Rico",12],Antigua:["America/Puerto_Rico",12],Araguaina:["",13],Argentina:{Buenos_Aires:["",13],Catamarca:["",13],ComodRivadavia:["America/Argentina/Catamarca",13],Cordoba:["",13],Jujuy:["",13],La_Rioja:["",13],Mendoza:["",13],Rio_Gallegos:["",13],Salta:["",13],San_Juan:["",13],San_Luis:["",13],Tucuman:["",13],Ushuaia:["",13]},Aruba:["America/Puerto_Rico",12],Asuncion:["",14],Atikokan:["America/Panama",15],Atka:["America/Adak",10],Bahia_Banderas:["",16],Bahia:["",13],Barbados:["",12],Belem:["",13],Belize:["",16],"Blanc-Sablon":["America/Puerto_Rico",12],Boa_Vista:["",17],Bogota:["",18],Boise:["",19],Buenos_Aires:["America/Argentina/Buenos_Aires",13],Cambridge_Bay:["",19],Campo_Grande:["",17],Cancun:["",15],Caracas:["",17],Catamarca:["America/Argentina/Catamarca",13],Cayenne:["",13],Cayman:["America/Panama",15],Chicago:["",20],Chihuahua:["",16],Ciudad_Juarez:["",19],Coral_Harbour:["America/Panama",15],Cordoba:["America/Argentina/Cordoba",13],Costa_Rica:["",16],Creston:["America/Phoenix",21],Cuiaba:["",17],Curacao:["America/Puerto_Rico",12],Danmarkshavn:["",0],Dawson_Creek:["",21],Dawson:["",21],Denver:["",19],Detroit:["",22],Dominica:["America/Puerto_Rico",12],Edmonton:["",19],Eirunepe:["",18],El_Salvador:["",16],Ensenada:["America/Tijuana",23],Fort_Nelson:["",21],Fort_Wayne:["America/Indiana/Indianapolis",22],Fortaleza:["",13],Glace_Bay:["",24],Godthab:["America/Nuuk",25],Goose_Bay:["",26],Grand_Turk:["",27],Grenada:["America/Puerto_Rico",12],Guadeloupe:["America/Puerto_Rico",12],Guatemala:["",16],Guayaquil:["",18],Guyana:["",17],Halifax:["",24],Havana:["",28],Hermosillo:["",21],Indiana:{Indianapolis:["",22],Knox:["",20],Marengo:["",22],Petersburg:["",22],Tell_City:["",20],Vevay:["",22],Vincennes:["",22],Winamac:["",27]},Indianapolis:["America/Indiana/Indianapolis",22],Inuvik:["",19],Iqaluit:["",22],Jamaica:["",15],Jujuy:["America/Argentina/Jujuy",13],Juneau:["",11],Kentucky:{Louisville:["",22],Monticello:["",22]},Knox_IN:["America/Indiana/Knox",20],Kralendijk:["America/Puerto_Rico",12],La_Paz:["",17],Lima:["",18],Los_Angeles:["",23],Louisville:["America/Kentucky/Louisville",22],Lower_Princes:["America/Puerto_Rico",12],Maceio:["",13],Managua:["",16],Manaus:["",17],Marigot:["America/Puerto_Rico",12],Martinique:["",12],Matamoros:["",20],Mazatlan:["",21],Mendoza:["America/Argentina/Mendoza",13],Menominee:["",20],Merida:["",16],Metlakatla:["",11],Mexico_City:["",16],Miquelon:["",29],Moncton:["",24],Monterrey:["",16],Montevideo:["",13],Montreal:["America/Toronto",22],Montserrat:["America/Puerto_Rico",12],Nassau:["America/Toronto",22],New_York:["",22],Nipigon:["America/Toronto",22],Nome:["",11],Noronha:["",30],North_Dakota:{Beulah:["",20],Center:["",20],New_Salem:["",20]},Nuuk:["",25],Ojinaga:["",20],Panama:["",15],Pangnirtung:["America/Iqaluit",22],Paramaribo:["",13],Phoenix:["",21],Port_of_Spain:["America/Puerto_Rico",12],"Port-au-Prince":["",22],Porto_Acre:["America/Rio_Branco",18],Porto_Velho:["",17],Puerto_Rico:["",12],Punta_Arenas:["",13],Rainy_River:["America/Winnipeg",20],Rankin_Inlet:["",20],Recife:["",13],Regina:["",16],Resolute:["",31],Rio_Branco:["",18],Rosario:["America/Argentina/Cordoba",13],Santa_Isabel:["America/Tijuana",23],Santarem:["",13],Santiago:["",32],Santo_Domingo:["",12],Sao_Paulo:["",13],Scoresbysund:["",33],Shiprock:["America/Denver",19],Sitka:["",11],St_Barthelemy:["America/Puerto_Rico",12],St_Johns:["",34],St_Kitts:["America/Puerto_Rico",12],St_Lucia:["America/Puerto_Rico",12],St_Thomas:["America/Puerto_Rico",12],St_Vincent:["America/Puerto_Rico",12],Swift_Current:["",16],Tegucigalpa:["",16],Thule:["",35],Thunder_Bay:["America/Toronto",22],Tijuana:["",23],Toronto:["",22],Tortola:["America/Puerto_Rico",12],Vancouver:["",23],Virgin:["America/Puerto_Rico",12],Whitehorse:["",21],Winnipeg:["",20],Yakutat:["",11],Yellowknife:["America/Edmonton",19]},Antarctica:{Casey:["",36],Davis:["",37],DumontDUrville:["Pacific/Port_Moresby",38],Macquarie:["",39],Mawson:["",40],McMurdo:["Pacific/Auckland",41],Palmer:["",13],Rothera:["",42],South_Pole:["Pacific/Auckland",41],Syowa:["Asia/Riyadh",43],Troll:["",44],Vostok:["Asia/Urumqi",45]},Arctic:{Longyearbyen:["Europe/Berlin",46]},Asia:{Aden:["Asia/Riyadh",43],Almaty:["",45],Amman:["",43],Anadyr:["",47],Aqtau:["",40],Aqtobe:["",40],Ashgabat:["",40],Ashkhabad:["Asia/Ashgabat",40],Atyrau:["",40],Baghdad:["",43],Bahrain:["Asia/Qatar",43],Baku:["",48],Bangkok:["",37],Barnaul:["",49],Beirut:["",50],Bishkek:["",45],Brunei:["Asia/Kuching",51],Calcutta:["Asia/Kolkata",52],Chita:["",53],Choibalsan:["",51],Chongqing:["Asia/Shanghai",54],Chungking:["Asia/Shanghai",54],Colombo:["",55],Dacca:["Asia/Dhaka",45],Damascus:["",43],Dhaka:["",45],Dili:["",56],Dubai:["",48],Dushanbe:["",40],Famagusta:["",57],Gaza:["",58],Harbin:["Asia/Shanghai",54],Hebron:["",58],Ho_Chi_Minh:["",37],Hong_Kong:["",59],Hovd:["",37],Irkutsk:["",60],Istanbul:["Europe/Istanbul",61],Jakarta:["",62],Jayapura:["",63],Jerusalem:["",64],Kabul:["",65],Kamchatka:["",47],Karachi:["",66],Kashgar:["Asia/Urumqi",45],Kathmandu:["",67],Katmandu:["Asia/Kathmandu",67],Khandyga:["",53],Kolkata:["",52],Krasnoyarsk:["",49],Kuala_Lumpur:["Asia/Singapore",51],Kuching:["",51],Kuwait:["Asia/Riyadh",43],Macao:["Asia/Macau",54],Macau:["",54],Magadan:["",68],Makassar:["",69],Manila:["",70],Muscat:["Asia/Dubai",48],Nicosia:["",71],Novokuznetsk:["",49],Novosibirsk:["",49],Omsk:["",72],Oral:["",40],Phnom_Penh:["Asia/Bangkok",37],Pontianak:["",62],Pyongyang:["",73],Qatar:["",43],Qostanay:["",45],Qyzylorda:["",40],Rangoon:["Asia/Yangon",74],Riyadh:["",43],Saigon:["Asia/Ho_Chi_Minh",37],Sakhalin:["",68],Samarkand:["",40],Seoul:["",73],Shanghai:["",54],Singapore:["",51],Srednekolymsk:["",68],Taipei:["",54],Tashkent:["",40],Tbilisi:["",48],Tehran:["",75],Tel_Aviv:["Asia/Jerusalem",64],Thimbu:["Asia/Thimphu",45],Thimphu:["",45],Tokyo:["",76],Tomsk:["",49],Ujung_Pandang:["Asia/Makassar",69],Ulaanbaatar:["",51],Ulan_Bator:["Asia/Ulaanbaatar",51],Urumqi:["",45],"Ust-Nera":["",77],Vientiane:["Asia/Bangkok",37],Vladivostok:["",77],Yakutsk:["",53],Yangon:["",74],Yekaterinburg:["",78],Yerevan:["",48]},Atlantic:{Azores:["",79],Bermuda:["",24],Canary:["",80],Cape_Verde:["",81],Faeroe:["Atlantic/Faroe",82],Faroe:["",82],Jan_Mayen:["Europe/Berlin",46],Madeira:["",80],Reykjavik:["Africa/Abidjan",0],South_Georgia:["",30],St_Helena:["Africa/Abidjan",0],Stanley:["",13]},Australia:{ACT:["Australia/Sydney",39],Adelaide:["",83],Brisbane:["",84],Broken_Hill:["",83],Canberra:["Australia/Sydney",39],Currie:["Australia/Hobart",85],Darwin:["",86],Eucla:["",87],Hobart:["",85],LHI:["Australia/Lord_Howe",88],Lindeman:["",84],Lord_Howe:["",88],Melbourne:["",39],North:["Australia/Darwin",86],NSW:["Australia/Sydney",39],Perth:["",89],Queensland:["Australia/Brisbane",84],South:["Australia/Adelaide",83],Sydney:["",39],Tasmania:["Australia/Hobart",85],Victoria:["Australia/Melbourne",39],West:["Australia/Perth",89],Yancowinna:["Australia/Broken_Hill",83]},Brazil:{Acre:["America/Rio_Branco",18],DeNoronha:["America/Noronha",30],East:["America/Sao_Paulo",13],West:["America/Manaus",17]},Canada:{Atlantic:["America/Halifax",24],Central:["America/Winnipeg",20],Eastern:["America/Toronto",22],Mountain:["America/Edmonton",19],Newfoundland:["America/St_Johns",34],Pacific:["America/Vancouver",23],Saskatchewan:["America/Regina",16],Yukon:["America/Whitehorse",21]},CET:["",46],Chile:{Continental:["America/Santiago",32],EasterIsland:["Pacific/Easter",90]},CST6CDT:["",20],Cuba:["America/Havana",28],EET:["",57],Egypt:["Africa/Cairo",5],Eire:["Europe/Dublin",91],EST:["",15],EST5EDT:["",22],Etc:{"GMT-0":["Etc/GMT",92],"GMT-1":["",93],"GMT-10":["",77],"GMT-11":["",68],"GMT-12":["",47],"GMT-13":["",94],"GMT-14":["",95],"GMT-2":["",96],"GMT-3":["",61],"GMT-4":["",97],"GMT-5":["",78],"GMT-6":["",72],"GMT-7":["",49],"GMT-8":["",60],"GMT-9":["",53],GMT:["",92],"GMT+0":["Etc/GMT",92],"GMT+1":["",98],"GMT+10":["",99],"GMT+11":["",100],"GMT+12":["",101],"GMT+2":["",30],"GMT+3":["",13],"GMT+4":["",17],"GMT+5":["",18],"GMT+6":["",102],"GMT+7":["",103],"GMT+8":["",104],"GMT+9":["",105],GMT0:["Etc/GMT",92],Greenwich:["Etc/GMT",92],UCT:["Etc/UTC",106],Universal:["Etc/UTC",106],UTC:["",106],Zulu:["Etc/UTC",106]},Europe:{Amsterdam:["Europe/Brussels",46],Andorra:["",46],Astrakhan:["",97],Athens:["",57],Belfast:["Europe/London",107],Belgrade:["",7],Berlin:["",46],Bratislava:["Europe/Prague",46],Brussels:["",46],Bucharest:["",108],Budapest:["",46],Busingen:["Europe/Zurich",7],Chisinau:["",109],Copenhagen:["Europe/Berlin",46],Dublin:["",91],Gibraltar:["",46],Guernsey:["Europe/London",107],Helsinki:["",57],Isle_of_Man:["Europe/London",107],Istanbul:["",61],Jersey:["Europe/London",107],Kaliningrad:["",110],Kiev:["Europe/Kyiv",111],Kirov:["",112],Kyiv:["",111],Lisbon:["",113],Ljubljana:["Europe/Belgrade",7],London:["",107],Luxembourg:["Europe/Brussels",46],Madrid:["",7],Malta:["",46],Mariehamn:["Europe/Helsinki",57],Minsk:["",43],Monaco:["Europe/Paris",46],Moscow:["",112],Nicosia:["Asia/Nicosia",71],Oslo:["Europe/Berlin",46],Paris:["",46],Podgorica:["Europe/Belgrade",7],Prague:["",46],Riga:["",57],Rome:["",46],Samara:["",97],San_Marino:["Europe/Rome",46],Sarajevo:["Europe/Belgrade",7],Saratov:["",97],Simferopol:["",112],Skopje:["Europe/Belgrade",7],Sofia:["",57],Stockholm:["Europe/Berlin",46],Tallinn:["",57],Tirane:["",46],Tiraspol:["Europe/Chisinau",109],Ulyanovsk:["",97],Uzhgorod:["Europe/Kyiv",111],Vaduz:["Europe/Zurich",7],Vatican:["Europe/Rome",46],Vienna:["",46],Vilnius:["",57],Volgograd:["",112],Warsaw:["",46],Zagreb:["Europe/Belgrade",7],Zaporozhye:["Europe/Kyiv",111],Zurich:["",7]},"GB-Eire":["Europe/London",107],GB:["Europe/London",107],"GMT-0":["Etc/GMT",92],GMT:["Etc/GMT",92],"GMT+0":["Etc/GMT",92],GMT0:["Etc/GMT",92],Greenwich:["Etc/GMT",92],Hongkong:["Asia/Hong_Kong",59],HST:["",114],Iceland:["Africa/Abidjan",0],Indian:{Antananarivo:["Africa/Nairobi",1],Chagos:["",45],Christmas:["Asia/Bangkok",37],Cocos:["Asia/Yangon",74],Comoro:["Africa/Nairobi",1],Kerguelen:["Indian/Maldives",40],Mahe:["Asia/Dubai",48],Maldives:["",40],Mauritius:["",48],Mayotte:["Africa/Nairobi",1],Reunion:["Asia/Dubai",48]},Iran:["Asia/Tehran",75],Israel:["Asia/Jerusalem",64],Jamaica:["America/Jamaica",15],Japan:["Asia/Tokyo",76],Kwajalein:["Pacific/Kwajalein",115],Libya:["Africa/Tripoli",9],MET:["",116],Mexico:{BajaNorte:["America/Tijuana",23],BajaSur:["America/Mazatlan",21],General:["America/Mexico_City",16]},MST:["",21],MST7MDT:["",19],Navajo:["America/Denver",19],"NZ-CHAT":["Pacific/Chatham",117],NZ:["Pacific/Auckland",41],Pacific:{Apia:["",118],Auckland:["",41],Bougainville:["",36],Chatham:["",117],Chuuk:["Pacific/Port_Moresby",38],Easter:["",90],Efate:["",36],Enderbury:["Pacific/Kanton",118],Fakaofo:["",118],Fiji:["",115],Funafuti:["Pacific/Tarawa",115],Galapagos:["",102],Gambier:["",119],Guadalcanal:["",36],Guam:["",120],Honolulu:["",114],Johnston:["Pacific/Honolulu",114],Kanton:["",118],Kiritimati:["",121],Kosrae:["",36],Kwajalein:["",115],Majuro:["Pacific/Tarawa",115],Marquesas:["",122],Midway:["Pacific/Pago_Pago",123],Nauru:["",115],Niue:["",124],Norfolk:["",125],Noumea:["",36],Pago_Pago:["",123],Palau:["",56],Pitcairn:["",126],Pohnpei:["Pacific/Guadalcanal",36],Ponape:["Pacific/Guadalcanal",36],Port_Moresby:["",38],Rarotonga:["",127],Saipan:["Pacific/Guam",120],Samoa:["Pacific/Pago_Pago",123],Tahiti:["",127],Tarawa:["",115],Tongatapu:["",118],Truk:["Pacific/Port_Moresby",38],Wake:["Pacific/Tarawa",115],Wallis:["Pacific/Tarawa",115],Yap:["Pacific/Port_Moresby",38]},Poland:["Europe/Warsaw",46],Portugal:["Europe/Lisbon",113],PRC:["Asia/Shanghai",54],PST8PDT:["",23],ROC:["Asia/Taipei",54],ROK:["Asia/Seoul",73],Singapore:["Asia/Singapore",51],Turkey:["Europe/Istanbul",61],UCT:["Etc/UTC",106],Universal:["Etc/UTC",106],US:{Alaska:["America/Anchorage",11],Aleutian:["America/Adak",10],Arizona:["America/Phoenix",21],Central:["America/Chicago",20],"East-Indiana":["America/Indiana/Indianapolis",22],Eastern:["America/New_York",22],Hawaii:["Pacific/Honolulu",114],"Indiana-Starke":["America/Indiana/Knox",20],Michigan:["America/Detroit",22],Mountain:["America/Denver",19],Pacific:["America/Los_Angeles",23],Samoa:["Pacific/Pago_Pago",123]},UTC:["Etc/UTC",106],"W-SU":["Europe/Moscow",112],WET:["",82],Zulu:["Etc/UTC",106]},F=["20230517T170335Z<n><bs><n><tz>GMT<n><of>+0000<n><ot>+0000<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>EAT<n><of>+0300<n><ot>+0300<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>CET<n><of>+0100<n><ot>+0100<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>WAT<n><of>+0100<n><ot>+0100<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>CAT<n><of>+0200<n><ot>+0200<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bd><n><tz>EEST<n><of>+0200<n><ot>+0300<n><s>19700424T000000<n><r>FREQ=YEARLY;BYMONTH=4;BYDAY=-1FR<n><ed><n><bs><n><tz>EET<n><of>+0300<n><ot>+0200<n><s>19701030T000000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1FR<n><es><n>","20230517T170335Z<n><bs><n><tz>+01<n><of>+0100<n><ot>+0100<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bd><n><tz>CEST<n><of>+0100<n><ot>+0200<n><s>19700329T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>CET<n><of>+0200<n><ot>+0100<n><s>19701025T030000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170335Z<n><bs><n><tz>SAST<n><of>+0200<n><ot>+0200<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>EET<n><of>+0200<n><ot>+0200<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bd><n><tz>HDT<n><of>-1000<n><ot>-0900<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n><bs><n><tz>HST<n><of>-0900<n><ot>-1000<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n>","20230517T170336Z<n><bd><n><tz>AKDT<n><of>-0900<n><ot>-0800<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n><bs><n><tz>AKST<n><of>-0800<n><ot>-0900<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n>","20230517T170336Z<n><bs><n><tz>AST<n><of>-0400<n><ot>-0400<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>-03<n><of>-0300<n><ot>-0300<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bd><n><tz>-03<n><of>-0400<n><ot>-0300<n><s>19701004T000000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=1SU<n><ed><n><bs><n><tz>-04<n><of>-0300<n><ot>-0400<n><s>19700322T000000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=4SU<n><es><n>","20230517T170336Z<n><bs><n><tz>EST<n><of>-0500<n><ot>-0500<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>CST<n><of>-0600<n><ot>-0600<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>-04<n><of>-0400<n><ot>-0400<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>-05<n><of>-0500<n><ot>-0500<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bd><n><tz>MDT<n><of>-0700<n><ot>-0600<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n><bs><n><tz>MST<n><of>-0600<n><ot>-0700<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n>","20230517T170336Z<n><bd><n><tz>CDT<n><of>-0600<n><ot>-0500<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n><bs><n><tz>CST<n><of>-0500<n><ot>-0600<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n>","20230517T170336Z<n><bs><n><tz>MST<n><of>-0700<n><ot>-0700<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bd><n><tz>EDT<n><of>-0500<n><ot>-0400<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n><bs><n><tz>EST<n><of>-0400<n><ot>-0500<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n>","20230517T170336Z<n><bd><n><tz>PDT<n><of>-0800<n><ot>-0700<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n><bs><n><tz>PST<n><of>-0700<n><ot>-0800<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n>","20230517T170336Z<n><bd><n><tz>ADT<n><of>-0400<n><ot>-0300<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n><bs><n><tz>AST<n><of>-0300<n><ot>-0400<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n>","20230517T170335Z<n><bd><n><tz>-01<n><of>-0200<n><ot>-0100<n><s>19700328T230000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SA<n><ed><n><bs><n><tz>-02<n><of>-0100<n><ot>-0200<n><s>19701025T000000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170336Z<n><bs><n><tz>AST<n><of>-0300<n><ot>-0400<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n><bd><n><tz>ADT<n><of>-0400<n><ot>-0300<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n>","20230517T170336Z<n><bs><n><tz>EST<n><of>-0400<n><ot>-0500<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n><bd><n><tz>EDT<n><of>-0500<n><ot>-0400<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n>","20230517T170336Z<n><bs><n><tz>CST<n><of>-0400<n><ot>-0500<n><s>19701101T010000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n><bd><n><tz>CDT<n><of>-0500<n><ot>-0400<n><s>19700308T000000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n>","20230517T170336Z<n><bd><n><tz>-02<n><of>-0300<n><ot>-0200<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n><bs><n><tz>-03<n><of>-0200<n><ot>-0300<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n>","20230517T170336Z<n><bs><n><tz>-02<n><of>-0200<n><ot>-0200<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>CST<n><of>-0500<n><ot>-0600<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n><bd><n><tz>CDT<n><of>-0600<n><ot>-0500<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n>","20230517T170336Z<n><bs><n><tz>-04<n><of>-0300<n><ot>-0400<n><s>19700405T000000<n><r>FREQ=YEARLY;BYMONTH=4;BYDAY=1SU<n><es><n><bd><n><tz>-03<n><of>-0400<n><ot>-0300<n><s>19700906T000000<n><r>FREQ=YEARLY;BYMONTH=9;BYDAY=1SU<n><ed><n>","20230517T170335Z<n><bd><n><tz>+00<n><of>-0100<n><ot>+0000<n><s>19700329T000000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>-01<n><of>+0000<n><ot>-0100<n><s>19701025T010000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170336Z<n><bs><n><tz>NST<n><of>-0230<n><ot>-0330<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n><bd><n><tz>NDT<n><of>-0330<n><ot>-0230<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n>","20230517T170335Z<n><bd><n><tz>ADT<n><of>-0400<n><ot>-0300<n><s>19700308T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=2SU<n><ed><n><bs><n><tz>AST<n><of>-0300<n><ot>-0400<n><s>19701101T020000<n><r>FREQ=YEARLY;BYMONTH=11;BYDAY=1SU<n><es><n>","20230517T170335Z<n><bs><n><tz>+11<n><of>+1100<n><ot>+1100<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+07<n><of>+0700<n><ot>+0700<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+10<n><of>+1000<n><ot>+1000<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>AEST<n><of>+1100<n><ot>+1000<n><s>19700405T030000<n><r>FREQ=YEARLY;BYMONTH=4;BYDAY=1SU<n><es><n><bd><n><tz>AEDT<n><of>+1000<n><ot>+1100<n><s>19701004T020000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=1SU<n><ed><n>","20230517T170335Z<n><bs><n><tz>+05<n><of>+0500<n><ot>+0500<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bd><n><tz>NZDT<n><of>+1200<n><ot>+1300<n><s>19700927T020000<n><r>FREQ=YEARLY;BYMONTH=9;BYDAY=-1SU<n><ed><n><bs><n><tz>NZST<n><of>+1300<n><ot>+1200<n><s>19700405T030000<n><r>FREQ=YEARLY;BYMONTH=4;BYDAY=1SU<n><es><n>","20230517T170335Z<n><bs><n><tz>-03<n><of>-0300<n><ot>-0300<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+03<n><of>+0300<n><ot>+0300<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bd><n><tz>+02<n><of>+0000<n><ot>+0200<n><s>19700329T010000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>+00<n><of>+0200<n><ot>+0000<n><s>19701025T030000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170335Z<n><bs><n><tz>+06<n><of>+0600<n><ot>+0600<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bd><n><tz>CEST<n><of>+0100<n><ot>+0200<n><s>19700329T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>CET<n><of>+0200<n><ot>+0100<n><s>19701025T030000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170336Z<n><bs><n><tz>+12<n><of>+1200<n><ot>+1200<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+04<n><of>+0400<n><ot>+0400<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>+07<n><of>+0700<n><ot>+0700<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bd><n><tz>EEST<n><of>+0200<n><ot>+0300<n><s>19700329T000000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>EET<n><of>+0300<n><ot>+0200<n><s>19701025T000000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170335Z<n><bs><n><tz>+08<n><of>+0800<n><ot>+0800<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>IST<n><of>+0530<n><ot>+0530<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>+09<n><of>+0900<n><ot>+0900<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>CST<n><of>+0800<n><ot>+0800<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+0530<n><of>+0530<n><ot>+0530<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+09<n><of>+0900<n><ot>+0900<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bd><n><tz>EEST<n><of>+0200<n><ot>+0300<n><s>19700329T030000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>EET<n><of>+0300<n><ot>+0200<n><s>19701025T040000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170335Z<n><bs><n><tz>EET<n><of>+0300<n><ot>+0200<n><s>19701024T020000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SA<n><es><n><bd><n><tz>EEST<n><of>+0200<n><ot>+0300<n><s>19700328T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SA<n><ed><n>","20230517T170335Z<n><bs><n><tz>HKT<n><of>+0800<n><ot>+0800<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>+08<n><of>+0800<n><ot>+0800<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>+03<n><of>+0300<n><ot>+0300<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>WIB<n><of>+0700<n><ot>+0700<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>WIT<n><of>+0900<n><ot>+0900<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bd><n><tz>IDT<n><of>+0200<n><ot>+0300<n><s>19700327T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1FR<n><ed><n><bs><n><tz>IST<n><of>+0300<n><ot>+0200<n><s>19701025T020000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170335Z<n><bs><n><tz>+0430<n><of>+0430<n><ot>+0430<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>PKT<n><of>+0500<n><ot>+0500<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+0545<n><of>+0545<n><ot>+0545<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>+11<n><of>+1100<n><ot>+1100<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>WITA<n><of>+0800<n><ot>+0800<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>PST<n><of>+0800<n><ot>+0800<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>EET<n><of>+0300<n><ot>+0200<n><s>19701025T040000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n><bd><n><tz>EEST<n><of>+0200<n><ot>+0300<n><s>19700329T030000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n>","20230517T170336Z<n><bs><n><tz>+06<n><of>+0600<n><ot>+0600<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>KST<n><of>+0900<n><ot>+0900<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+0630<n><of>+0630<n><ot>+0630<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+0330<n><of>+0330<n><ot>+0330<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>JST<n><of>+0900<n><ot>+0900<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>+10<n><of>+1000<n><ot>+1000<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>+05<n><of>+0500<n><ot>+0500<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bd><n><tz>+00<n><of>-0100<n><ot>+0000<n><s>19700329T000000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>-01<n><of>+0000<n><ot>-0100<n><s>19701025T010000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170336Z<n><bd><n><tz>WEST<n><of>+0000<n><ot>+0100<n><s>19700329T010000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>WET<n><of>+0100<n><ot>+0000<n><s>19701025T020000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170335Z<n><bs><n><tz>-01<n><of>-0100<n><ot>-0100<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bd><n><tz>WEST<n><of>+0000<n><ot>+0100<n><s>19700329T010000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>WET<n><of>+0100<n><ot>+0000<n><s>19701025T020000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170335Z<n><bs><n><tz>ACST<n><of>+1030<n><ot>+0930<n><s>19700405T030000<n><r>FREQ=YEARLY;BYMONTH=4;BYDAY=1SU<n><es><n><bd><n><tz>ACDT<n><of>+0930<n><ot>+1030<n><s>19701004T020000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=1SU<n><ed><n>","20230517T170335Z<n><bs><n><tz>AEST<n><of>+1000<n><ot>+1000<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bd><n><tz>AEDT<n><of>+1000<n><ot>+1100<n><s>19701004T020000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=1SU<n><ed><n><bs><n><tz>AEST<n><of>+1100<n><ot>+1000<n><s>19700405T030000<n><r>FREQ=YEARLY;BYMONTH=4;BYDAY=1SU<n><es><n>","20230517T170335Z<n><bs><n><tz>ACST<n><of>+0930<n><ot>+0930<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+0845<n><of>+0845<n><ot>+0845<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+1030<n><of>+1100<n><ot>+1030<n><s>19700405T020000<n><r>FREQ=YEARLY;BYMONTH=4;BYDAY=1SU<n><es><n><bd><n><tz>+11<n><of>+1030<n><ot>+1100<n><s>19701004T020000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=1SU<n><ed><n>","20230517T170335Z<n><bs><n><tz>AWST<n><of>+0800<n><ot>+0800<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>-06<n><of>-0500<n><ot>-0600<n><s>19700404T220000<n><r>FREQ=YEARLY;BYMONTH=4;BYDAY=1SA<n><es><n><bd><n><tz>-05<n><of>-0600<n><ot>-0500<n><s>19700905T220000<n><r>FREQ=YEARLY;BYMONTH=9;BYDAY=1SA<n><ed><n>","20230517T170335Z<n><bs><n><tz>IST<n><of>+0000<n><ot>+0100<n><s>19700329T010000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><es><n><bd><n><tz>GMT<n><of>+0100<n><ot>+0000<n><s>19701025T020000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><ed><n>","20230517T170336Z<n><bs><n><tz>GMT<n><of>+0000<n><ot>+0000<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>+01<n><of>+0100<n><ot>+0100<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>+13<n><of>+1300<n><ot>+1300<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>+14<n><of>+1400<n><ot>+1400<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>+02<n><of>+0200<n><ot>+0200<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>+04<n><of>+0400<n><ot>+0400<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>-01<n><of>-0100<n><ot>-0100<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>-10<n><of>-1000<n><ot>-1000<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>-11<n><of>-1100<n><ot>-1100<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>-12<n><of>-1200<n><ot>-1200<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>-06<n><of>-0600<n><ot>-0600<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>-07<n><of>-0700<n><ot>-0700<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>-08<n><of>-0800<n><ot>-0800<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>-09<n><of>-0900<n><ot>-0900<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>UTC<n><of>+0000<n><ot>+0000<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bd><n><tz>BST<n><of>+0000<n><ot>+0100<n><s>19700329T010000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>GMT<n><of>+0100<n><ot>+0000<n><s>19701025T020000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170336Z<n><bd><n><tz>EEST<n><of>+0200<n><ot>+0300<n><s>19700329T030000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>EET<n><of>+0300<n><ot>+0200<n><s>19701025T040000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170335Z<n><bd><n><tz>EEST<n><of>+0200<n><ot>+0300<n><s>19700329T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>EET<n><of>+0300<n><ot>+0200<n><s>19701025T030000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170336Z<n><bs><n><tz>EET<n><of>+0200<n><ot>+0200<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>EET<n><of>+0300<n><ot>+0200<n><s>19701025T040000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n><bd><n><tz>EEST<n><of>+0200<n><ot>+0300<n><s>19700329T030000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n>","20230517T170336Z<n><bs><n><tz>MSK<n><of>+0300<n><ot>+0300<n><s>19700101T000000<n><es><n>","20230517T170336Z<n><bs><n><tz>WET<n><of>+0100<n><ot>+0000<n><s>19701025T020000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n><bd><n><tz>WEST<n><of>+0000<n><ot>+0100<n><s>19700329T010000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n>","20230517T170336Z<n><bs><n><tz>HST<n><of>-1000<n><ot>-1000<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+12<n><of>+1200<n><ot>+1200<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bd><n><tz>MEST<n><of>+0100<n><ot>+0200<n><s>19700329T020000<n><r>FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU<n><ed><n><bs><n><tz>MET<n><of>+0200<n><ot>+0100<n><s>19701025T030000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU<n><es><n>","20230517T170335Z<n><bd><n><tz>+1345<n><of>+1245<n><ot>+1345<n><s>19700927T024500<n><r>FREQ=YEARLY;BYMONTH=9;BYDAY=-1SU<n><ed><n><bs><n><tz>+1245<n><of>+1345<n><ot>+1245<n><s>19700405T034500<n><r>FREQ=YEARLY;BYMONTH=4;BYDAY=1SU<n><es><n>","20230517T170335Z<n><bs><n><tz>+13<n><of>+1300<n><ot>+1300<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>-09<n><of>-0900<n><ot>-0900<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>ChST<n><of>+1000<n><ot>+1000<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>+14<n><of>+1400<n><ot>+1400<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>-0930<n><of>-0930<n><ot>-0930<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>SST<n><of>-1100<n><ot>-1100<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>-11<n><of>-1100<n><ot>-1100<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bd><n><tz>+12<n><of>+1100<n><ot>+1200<n><s>19701004T020000<n><r>FREQ=YEARLY;BYMONTH=10;BYDAY=1SU<n><ed><n><bs><n><tz>+11<n><of>+1200<n><ot>+1100<n><s>19700405T030000<n><r>FREQ=YEARLY;BYMONTH=4;BYDAY=1SU<n><es><n>","20230517T170335Z<n><bs><n><tz>-08<n><of>-0800<n><ot>-0800<n><s>19700101T000000<n><es><n>","20230517T170335Z<n><bs><n><tz>-10<n><of>-1000<n><ot>-1000<n><s>19700101T000000<n><es><n>"];function x(U){const De=U.split("/");return(3!==De.length||T[`${De[0]}`]&&T[`${De[0]}`][`${De[1]}`]&&T[`${De[0]}`][`${De[1]}`][`${De[2]}`])&&(2!==De.length||T[`${De[0]}`]&&T[`${De[0]}`][`${De[1]}`])&&(1!==De.length||T[`${De[0]}`])?3===De.length?[T[`${De[0]}`][`${De[1]}`][`${De[2]}`][0],ce(F[T[`${De[0]}`][`${De[1]}`][`${De[2]}`][1]])]:2===De.length?[T[`${De[0]}`][`${De[1]}`][0],ce(F[T[`${De[0]}`][`${De[1]}`][1]])]:[T[`${De[0]}`][0],ce(F[T[`${De[0]}`][1]])]:(console.error("Given timezone not valid."),"")}function ce(U){const De={"<br>":"<n>","TZNAME:":"<tz>","TZOFFSETFROM:":"<of>","TZOFFSETTO:":"<ot>","DTSTART:":"<s>","RRULE:":"<r>","BEGIN:DAYLIGHT":"<bd>","END:DAYLIGHT":"<ed>","BEGIN:STANDARD":"<bs>","END:STANDARD":"<es>"};for(const[Me,Yt]of Object.entries(De))U=U.replaceAll(Yt,Me);return U}function ne(U,De=!1){const Me=x(U);if(null==Me[1]||""==Me[1])return"";const Yt=""==Me[0]?U:Me[0],yn="TZID="+Yt,Wn=["BEGIN:VTIMEZONE\r\nTZID:"+Yt+"\r\nX-LIC-LOCATION:"+Yt+"\r\nLAST-MODIFIED:"+Me[1].replace(/[^\w_\-:,;=+/<br>]/g,"").replace(/<br>/g,"\r\n")+"END:VTIMEZONE",yn];return De?JSON.stringify(Wn):Wn}function q(U,De,Me){const Yt=x(U);if(null==Yt[1]||""==Yt[1])return"";if(!De.match(/^\d{4}-\d{2}-\d{2}$/))return console.error("offset calculation failed: date misspelled [-> YYYY-MM-DD]"),"";if(!Me.match(/^\d{2}:\d{2}$/))return console.error("offset calculation failed: time misspelled [-> hh:mm]"),"";if(!Yt[1].match(/BEGIN:DAYLIGHT/i))return Yt[1].match(/TZOFFSETTO:([+|-]\d{4})/i)[1];const Wn=new Date(De+"T"+Me+":00"),zn=Wn.getFullYear(),Hn=Wn.getMonth()+1,gi=Wn.getDate(),er=Wn.getHours(),Fr=Yt[1].replace(/[^\w_\-:,;=+/<br>]/g,"").split("<br>"),Ni={1:{},2:{}};let xr=0;for(let tr=0;tr<Fr.length;tr++)if(Fr[`${tr}`].startsWith("TZOFFSETTO")&&(xr++,Ni[`${xr}`].offset=Fr[`${tr}`].split(":")[1]),Fr[`${tr}`].startsWith("DTSTART")&&(Ni[`${xr}`].hour=parseInt(Fr[`${tr}`].substr(17,2))),Fr[`${tr}`].startsWith("RRULE")){let Qs=Fr[`${tr}`].split(";"),Us=parseInt(Qs[1].split("=")[1]);Ni[`${xr}`].month=parseInt(Us),Ni[`${xr}`].day=Qs[2].split("=")[1]}if(Ni[1].month>Ni[2].month&&([Ni[1],Ni[2]]=[Ni[2],Ni[1]]),Hn!=Ni[1].month&&Hn!=Ni[2].month)return Hn<Ni[1].month||Hn>Ni[2].month?Ni[2].offset:Ni[1].offset;const ks=Object.keys(Ni).find(tr=>Ni[`${tr}`].month==Hn),zs=["SU","MO","TU","WE","TH","FR","SA"],Ur=new Date(zn,Hn,0).getDate();let Rr=new Date(zn,Hn-1,1).getDay();const Bs={SU:{},MO:{},TU:{},WE:{},TH:{},FR:{},SA:{}};for(let tr=1;tr<=Ur;tr++){const Qs=Object.keys(Bs[zs[`${Rr}`]]).length+1;Bs[zs[`${Rr}`]][`${Qs}`]=tr,Rr++,7==Rr&&(Rr=0)}const or=function(){if("-"==Ni[`${ks}`].day[0]){const tr=Ni[`${ks}`].day.substr(2,2),Qs=Object.keys(Bs[`${tr}`]).length+1-parseInt(Ni[`${ks}`].day[1]);return Bs[`${tr}`][`${Qs}`]}{const tr=Ni[`${ks}`].day.substr(1,2);return Bs[`${tr}`][Ni[`${ks}`].day[0]]}}();return gi>or||gi==or&&er>=Ni[`${ks}`].hour?Ni[`${ks}`].offset:Ni[""+(1==ks?2:1)].offset}let z=[];const I="2.4.3",k={default:":host{width:fit-content;--base-font-size-l:16px;--base-font-size-m:16px;--base-font-size-s:16px;--font:arial,helvetica,sans-serif;--keyboard-focus:#1e90ff;--btn-background:#f5f5f5;--btn-background-hover:#fff;--btn-border:#d2d2d2;--btn-text:#333;--btn-text-hover:#000;--btn-shadow:rgba(0 0 0 / 20%) 2px 5px 18px -1px,rgba(0 0 0 / 15%) 2px 2px 10px -3px;--btn-shadow-hover:rgba(0 0 0 / 35%) 2px 5px 18px -1px,rgba(0 0 0 / 30%) 2px 2px 10px -3px;--btn-shadow-active:rgba(0 0 0 / 50%) 2px 5px 18px -1px,rgba(0 0 0 / 45%) 2px 2px 10px -3px;--list-background:#f5f5f5;--list-background-hover:#fff;--list-text:#333;--list-text-hover:#000;--list-close-background:#e5e5e5;--list-close-text:#777;--list-shadow:rgba(0 0 0 / 20%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 2px 2px 10px -3px;--list-shadow-modal:rgba(0 0 0 / 60%) 3px 6px 40px -5px,rgba(0 0 0 / 60%) 3px 3px 15px -4px;--modal-text:#000;--modal-background:#f5f5f5;--modal-btn-bar:#c6c8cd;--modal-btn-background:#f5f5f5;--modal-btn-secondary-background:#e2e1e6;--modal-btn-background-hover:#fff;--modal-btn-text:#2e2e2e;--modal-btn-text-hover:#161616;--modal-btn-secondary-text:#666567;--modal-shadow:drop-shadow(5px 8px 30px rgba(0 0 0 / 70%));--modal-shadow-btn:rgba(0 0 0 / 10%) 2px 3px 10px -3px,rgba(0 0 0 / 25%) 1px 1px 8px -4px;--modal-shadow-btn-hover:rgba(0 0 0 / 35%) 3px 5px 15px -2px,rgba(0 0 0 / 20%) 2px 4px 25px -6px;--date-btn-text:#1d1d1e;--date-btn-text-secondary:#3a3a3f;--date-btn-cal-day-text:#fff;--date-btn-cal-month-text:#d3d2d7;--date-btn-cal-background:#313132;--date-btn-background:#eae9ed;--date-btn-background-hover:#fff;--date-btn-shadow:rgba(0 0 0 / 40%) 1px 3px 15px -4px,rgba(0 0 0 / 20%) 1px 1px 8px -4px;--date-btn-shadow-hover:rgba(0 0 0 / 40%) 4px 6px 18px -1px,rgba(0 0 0 / 35%) 4px 5px 25px -2px;--checkmark-background:radial-gradient(circle,#fff 0,rgba(255 255 255 / 80%) 40%,rgba(255 255 255 / 0%) 70%);--overlay-background:rgba(20 20 20 / 25%);--overlay-cursor:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23777' width='16' height='16' viewBox='0 0 122.878 122.88'%3E%3Cpath d='M1.426 8.313a4.87 4.87 0 0 1 0-6.886 4.87 4.87 0 0 1 6.886 0l53.127 53.127 53.127-53.127a4.87 4.87 0 0 1 6.887 0 4.87 4.87 0 0 1 0 6.886L68.324 61.439l53.128 53.128a4.87 4.87 0 0 1-6.887 6.886L61.438 68.326 8.312 121.453a4.87 4.87 0 0 1-6.886 0 4.87 4.87 0 0 1 0-6.886l53.127-53.128L1.426 8.313h0z'/%3E%3C/svg%3E\") 16 16,crosshair;--icon-ms365-color:#ea3e23;--icon-yahoo-color:#5f01d1;--icon-filter:none}:host(.atcb-dark){--btn-background:#2e2e2e;--btn-background-hover:#373737;--btn-border:#4d4d4d;--btn-text:#dedede;--btn-text-hover:#f1f1f1;--btn-shadow:rgba(255 255 255 / 5%) -12px -5px 20px -8px,rgba(255 255 255 / 6%) -7px -5px 15px -3px,rgba(0 0 0 / 50%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 3px 3px 20px -3px;--btn-shadow-hover:rgba(255 255 255 / 6%) -12px -5px 23px -8px,rgba(255 255 255 / 7%) -7px -5px 18px -3px,rgba(0 0 0 / 60%) 2px 5px 19px -1px,rgba(0 0 0 / 50%) 3px 3px 22px -3px;--btn-shadow-active:rgba(255 255 255 / 7%) -12px -5px 23px -8px,rgba(255 255 255 / 8%) -7px -5px 18px -3px,rgba(0 0 0 / 70%) 2px 5px 19px -1px,rgba(0 0 0 / 60%) 3px 3px 22px -3px;--list-background:#2e2e2e;--list-background-hover:#373737;--list-text:#dedede;--list-text-hover:#f1f1f1;--list-close-background:#282828;--list-shadow:rgba(255 255 255 / 5%) -12px -5px 20px -8px,rgba(255 255 255 / 6%) -7px -5px 15px -3px,rgba(0 0 0 / 50%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 3px 3px 20px -3px;--list-shadow-modal:rgba(255 255 255 / 8%) -12px -5px 30px -8px,rgba(255 255 255 / 8%) -7px -5px 15px -3px,rgba(0 0 0 / 60%) 4px 6px 50px -4px,rgba(0 0 0 / 90%) 8px 12px 40px -2px;--modal-text:#f1f1f1;--modal-background:#242424;--modal-btn-bar:#38383a;--modal-btn-background:#181819;--modal-btn-secondary-background:#2e2d30;--modal-btn-background-hover:#434246;--modal-btn-text:#dbdbdb;--modal-btn-text-hover:#fff;--modal-btn-secondary-text:#b8b8b8;--modal-shadow:drop-shadow(5px 8px 30px rgba(0 0 0 / 90%));--modal-shadow-btn:rgba(255 255 255 / 5%) -2px -2px 10px,rgba(0 0 0 / 30%) 1px 2px 8px -1px;--date-btn-text:#ebebf0;--date-btn-text-secondary:#b5b5bd;--date-btn-cal-day-text:#101010;--date-btn-cal-month-text:#3e3e3f;--date-btn-cal-background:#c7c7cd;--date-btn-background:#363636;--date-btn-background-hover:#474747;--date-btn-shadow:rgba(255 255 255 / 10%) -8px -6px 20px,rgba(0 0 0 / 50%) 1px 3px 25px -8px,rgba(0 0 0 / 50%) 1px 1px 10px -3px;--checkmark-background:radial-gradient(circle,rgba(0 0 0 / 50%) 0,rgba(0 0 0 / 30%) 40%,rgba(0 0 0 / 0%) 70%);--overlay-background:rgba(20 20 20 / 60%);--icon-ms365-color:#ea3e23;--icon-yahoo-color:#bebebe;--icon-filter:grayscale(.2)}.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-l)}@media (width <= 991px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-m)}}@media (width <= 575px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-s)}}.atcb-button-wrapper{display:block;padding:5px;position:relative}.atcb-button{align-items:center;background-color:var(--btn-background);border:1px solid var(--btn-border);border-radius:6px;box-shadow:var(--btn-shadow);color:var(--btn-text);cursor:pointer;display:flex;font-family:var(--font);font-size:1em;font-weight:600;justify-content:center;line-height:1.5em;margin:.13em;max-width:350px;min-width:10em;padding:.65em 1em;position:relative;text-align:center;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;width:auto;z-index:1}.atcb-button.atcb-no-text,.atcb-button:disabled{min-width:0}.atcb-rtl .atcb-button{direction:rtl;text-align:right}.atcb-button:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-button:not([disabled]):focus,.atcb-button:not([disabled]):hover{background-color:var(--btn-background-hover);box-shadow:var(--btn-shadow-hover);color:var(--btn-text-hover)}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay){z-index:15000000}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay),.atcb-button.atcb-single:not([disabled]):focus,.atcb-button.atcb-single:not([disabled]):hover{background-color:var(--btn-background-hover);box-shadow:var(--btn-shadow-active);color:var(--btn-text-hover);margin:0;padding:.78em 1.13em}.atcb-button.atcb-active.atcb-dropoverlay{z-index:14000090}.atcb-icon{height:1em;margin-bottom:.3em;margin-right:.8em;flex-grow:0;flex-shrink:0}.atcb-rtl .atcb-icon{margin-right:0;margin-left:.8em}.atcb-no-text .atcb-icon{margin-right:0;margin-left:0}.atcb-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-text{overflow-wrap:anywhere}.atcb-button:disabled .atcb-text{letter-spacing:.1em}.atcb-dropdown-anchor{bottom:4px;height:1px;width:100%;opacity:0;position:absolute}.atcb-list-wrapper{box-sizing:border-box;padding:0 4px;position:absolute;z-index:14000090}.atcb-list-wrapper.atcb-dropoverlay{z-index:15000000;max-width:max-content}.atcb-list{border-radius:0 0 6px 6px;box-sizing:border-box;box-shadow:var(--list-shadow);color:var(--list-text);display:block;font-family:var(--font);min-width:100%;position:relative;user-select:none;-webkit-user-select:none;width:fit-content}.atcb-list-item{align-items:center;background-color:var(--list-background);box-sizing:border-box;cursor:pointer;display:flex;font-size:1em;line-height:1.75em;padding:.8em;text-align:left;touch-action:manipulation;-webkit-tap-highlight-color:transparent}.atcb-rtl .atcb-list-item{direction:rtl;text-align:right}.atcb-list-item:hover{background-color:var(--list-background-hover);color:var(--list-text-hover)}.atcb-list-item:focus-visible{background-color:var(--list-background-hover);color:var(--keyboard-focus);font-weight:600;outline:0}.atcb-list-item:last-child{border-radius:0 0 6px 6px}.atcb-dropup .atcb-list-item:last-child{border-radius:0;padding-bottom:1.25em}.atcb-dropoverlay .atcb-list .atcb-list-item:first-child,.atcb-dropup .atcb-list,.atcb-dropup .atcb-list-item:first-child,.atcb-list.atcb-modal .atcb-list-item:first-child{border-radius:6px 6px 0 0}.atcb-dropoverlay .atcb-list .atcb-list-item:only-child,.atcb-list.atcb-modal .atcb-list-item:only-child{border-radius:6px}.atcb-list.atcb-generated-button:not(.atcb-modal) .atcb-list-item:first-child{padding-top:1.25em}.atcb-dropoverlay .atcb-list.atcb-generated-button:not(.atcb-modal) .atcb-list-item:first-child,.atcb-dropup .atcb-list.atcb-generated-button:not(.atcb-modal) .atcb-list-item:first-child{padding-top:.8em}.atcb-dropoverlay .atcb-list,.atcb-list.atcb-modal{border-radius:6px}.atcb-list.atcb-modal{box-shadow:var(--list-shadow-modal)}.atcb-list-item .atcb-icon{margin-bottom:.5em;margin-right:.6em;width:1.125em}.atcb-rtl .atcb-list-item .atcb-icon{margin-right:0;margin-left:.6em}.atcb-no-text .atcb-list-item .atcb-icon{margin:0 auto}.atcb-list-item-close{background-color:var(--list-close-background)}.atcb-list-item.atcb-list-item-close:not(:focus-visible){color:var(--list-close-text)}.atcb-list-item-close svg{fill:currentcolor}.atcb-modal{display:block;margin:auto;min-width:250px;width:auto;position:relative;z-index:14000090}.atcb-modal-box{filter:var(--modal-shadow);color:var(--modal-text);cursor:default;box-sizing:border-box;font-family:var(--font);line-height:1.5em;text-align:left;user-select:none;-webkit-user-select:none;touch-action:manipulation;width:100%;margin-bottom:20px;max-width:32em;-webkit-tap-highlight-color:transparent}.atcb-modal-box.atcb-rtl{text-align:right;direction:rtl;padding:1.25em 1em 1.25em 2em}.atcb-modal-icon{height:2.5em;width:2.5em;border-radius:100%;background-color:var(--modal-background);padding:1.75em;margin:auto}.atcb-modal-icon svg{height:auto;fill:currentcolor;width:100%}.atcb-modal-headline{background-color:var(--modal-background);border-radius:6px 6px 0 0;font-size:1.3em;font-weight:600;line-height:1.5em;padding:1.8em 2em 1.3em;text-transform:uppercase;text-align:center}.atcb-modal-icon+.atcb-modal-headline{margin-top:-2.6em;padding-top:2.6em}.atcb-modal-content{background-color:var(--modal-background);font-size:1em;padding:.3em 2.5em 2.25em}.atcb-modal-icon+.atcb-modal-content{border-radius:6px 6px 0 0;margin-top:-2.6em;padding-top:2.6em}@media (width <= 575px){.atcb-modal-headline{padding:1.8em 1em 1em}.atcb-modal-content{padding:.3em 1.5em 1.5em}.atcb-modal-icon+.atcb-modal-content{padding-top:1.8em}}.atcb-modal-buttons{background-color:var(--modal-btn-bar);border-radius:0 0 6px 6px;box-sizing:border-box;padding:.8em 1em;text-align:center;width:100%;display:flex;justify-content:center;flex-flow:row-reverse wrap;align-items:center}a.atcb-modal-btn,button.atcb-modal-btn{background-color:var(--modal-btn-secondary-background);border:0;border-radius:6px;box-shadow:var(--modal-shadow-btn);color:var(--modal-btn-secondary-text);cursor:pointer;display:inline-block;font-family:var(--font);font-size:.9em;font-weight:600;line-height:1.5em;margin:.625em;padding:.625em 1.25em;position:relative;text-align:center;text-decoration:none;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;text-transform:uppercase}a.atcb-modal-btn.atcb-modal-btn-primary,button.atcb-modal-btn.atcb-modal-btn-primary{background-color:var(--modal-btn-background);color:var(--modal-btn-text)}a.atcb-modal-btn:hover,button.atcb-modal-btn:hover{background-color:var(--modal-btn-background-hover);box-shadow:var(--modal-shadow-btn-hover);color:var(--modal-btn-text-hover);text-decoration:none}a.atcb-modal-btn:focus-visible,button.atcb-modal-btn:focus-visible{background-color:var(--modal-btn-background-hover);outline:2px solid var(--keyboard-focus)}.atcb-subevent-btn{display:flex;align-items:flex-start;cursor:pointer;font-family:var(--font);font-size:1em;box-shadow:var(--date-btn-shadow);background-color:var(--date-btn-background);border:0;border-radius:6px;padding:0;margin:0;touch-action:manipulation;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent}.atcb-subevent-btn:hover{align-items:center}.atcb-subevent-btn:focus,.atcb-subevent-btn:hover{background-color:var(--date-btn-background-hover);box-shadow:var(--date-btn-shadow-hover)}.atcb-subevent-btn:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-subevent-btn+.atcb-subevent-btn{margin-top:30px}.atcb-date-btn-left{border-radius:4px 0 0 4px;align-self:stretch;background-color:var(--date-btn-cal-background);color:var(--date-btn-background-hover);padding:.7em .8em .8em;width:2.7em;align-items:center;display:flex;flex-direction:column}.atcb-rtl .atcb-date-btn-left{border-radius:0 4px 4px 0}.atcb-subevent-btn:hover .atcb-date-btn-left{opacity:.8}.atcb-date-btn-day{color:var(--date-btn-cal-day-text);font-weight:300;font-size:2em;word-break:keep-all;padding-bottom:.1em}.atcb-initialized[lang=ja] .atcb-date-btn-day,.atcb-initialized[lang=ko] .atcb-date-btn-day,.atcb-initialized[lang=zh] .atcb-date-btn-day{font-size:1.3em}.atcb-date-btn-month{color:var(--date-btn-cal-month-text);font-weight:600;font-size:1em}.atcb-date-btn-right{position:relative;color:var(--date-btn-text);min-width:12.5em;overflow-wrap:anywhere}.atcb-date-btn-details{opacity:1;padding:.7em .8em;text-align:left}.atcb-rtl .atcb-date-btn-details{text-align:right}.atcb-date-btn-hover{position:absolute;top:0;left:0;width:100%;opacity:0;height:100%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1em;padding:.3em;box-sizing:border-box}.atcb-subevent-btn:hover .atcb-date-btn-details{opacity:0}.atcb-subevent-btn:hover .atcb-date-btn-hover{opacity:1}.atcb-date-btn-headline{font-weight:600;font-size:.9em;margin-bottom:.5em;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.atcb-date-btn-content{display:flex;align-items:flex-start;font-size:.8em;color:var(--date-btn-text-secondary)}.atcb-date-btn-content-location{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all}.atcb-date-btn-content-icon{display:inline-block;height:.8em;width:1.3em;flex:0 0 1.3em}.atcb-rtl .atcb-date-btn-content-icon{margin-right:0;margin-left:.5em}.atcb-initialized[lang=ja] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=ko] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=zh] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon{margin-top:.15em}.atcb-date-btn-content-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-date-btn-content+.atcb-date-btn-content{margin-top:.3em}.atcb-date-btn-content-text span:not(.atcb-icon-ical){padding-right:.3em;display:inline-block}.atcb-checkmark{display:none}.atcb-saved .atcb-checkmark{box-sizing:content-box;color:var(--btn-text);display:block;position:absolute;top:-.9em;right:-.3em;padding:.5em;background:var(--checkmark-background);border-radius:100%;height:1.5em}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay) .atcb-checkmark,.atcb-button.atcb-single:focus .atcb-checkmark,.atcb-button.atcb-single:hover .atcb-checkmark{top:-.77em;right:-.17em}.atcb-checkmark svg{height:100%;fill:currentcolor;width:auto}#atcb-bgoverlay{backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);background-color:var(--overlay-background);border:0;box-sizing:border-box;display:flex;height:calc(100vh + 100px);inset-inline:0;left:0;right:0;top:0;min-height:100%;min-width:100%;overflow-y:auto;padding:20px 20px 130px;position:fixed;width:100vw;z-index:14000000}#atcb-bgoverlay:not(dialog){animation:atcb-bgoverlay-animate .2s ease 0s 1 normal forwards;opacity:0}#atcb-bgoverlay.atcb-no-bg{animation:none;backdrop-filter:none;-webkit-backdrop-filter:none;opacity:1;background-color:transparent}@keyframes atcb-bgoverlay-animate{0%{opacity:0}100%{opacity:1}}#atcb-bgoverlay.atcb-click:hover{cursor:var(--overlay-cursor)}.atcb-icon .atcb-icon-apple svg{fill:currentcolor}.atcb-icon .atcb-icon-ical svg{fill:currentcolor}.atcb-icon .atcb-icon-ms365 svg{fill:var(--icon-ms365-color)}.atcb-icon .atcb-icon-yahoo svg{fill:var(--icon-yahoo-color)}.atcb-icon .atcb-icon-google svg,.atcb-icon .atcb-icon-msteams svg,.atcb-icon .atcb-icon-outlookcom svg{filter:var(--icon-filter)}","3d":":host{width:fit-content;--base-font-size-l:16px;--base-font-size-m:16px;--base-font-size-s:16px;--font:arial,helvetica,sans-serif;--keyboard-focus:#1e90ff;--btn-background:#f5f5f5;--btn-background-hover:#fff;--btn-border:#d2d2d2;--btn-text:#333;--btn-text-hover:#000;--btn-shadow:rgba(0 0 0 / 20%) 2px 5px 18px -1px,rgba(0 0 0 / 15%) 2px 2px 10px -3px;--btn-shadow-hover:rgba(0 0 0 / 35%) 2px 5px 18px -1px,rgba(0 0 0 / 30%) 2px 2px 10px -3px;--btn-shadow-active:rgba(0 0 0 / 50%) 2px 10px 20px -2px,rgba(0 0 0 / 45%) 2px 4px 12px -3px;--btn-shadow-active-up:rgba(0 0 0 / 40%) 2px -8px 15px -2px,rgba(0 0 0 / 50%) 2px 4px 12px -3px;--list-background:#f5f5f5;--list-background-hover:#fff;--list-text:#333;--list-text-hover:#000;--list-close-background:#e5e5e5;--list-close-text:#777;--list-shadow:rgba(0 0 0 / 20%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 2px 2px 10px -3px;--list-shadow-modal:rgba(0 0 0 / 60%) 3px 6px 40px -5px,rgba(0 0 0 / 60%) 3px 3px 15px -4px;--modal-text:#000;--modal-background:#f5f5f5;--modal-btn-bar:#c6c8cd;--modal-btn-background:#f5f5f5;--modal-btn-secondary-background:#e2e1e6;--modal-btn-background-hover:#fff;--modal-btn-text:#2e2e2e;--modal-btn-text-hover:#161616;--modal-btn-secondary-text:#666567;--modal-shadow:drop-shadow(5px 8px 30px rgba(0 0 0 / 70%));--modal-shadow-btn:rgba(0 0 0 / 10%) 2px 3px 10px -3px,rgba(0 0 0 / 25%) 1px 1px 8px -4px;--modal-shadow-btn-hover:rgba(0 0 0 / 35%) 3px 5px 15px -2px,rgba(0 0 0 / 20%) 2px 4px 25px -6px;--date-btn-text:#1d1d1e;--date-btn-text-secondary:#3a3a3f;--date-btn-cal-day-text:#fff;--date-btn-cal-month-text:#d3d2d7;--date-btn-cal-background:#313132;--date-btn-background:#eae9ed;--date-btn-background-hover:#fff;--date-btn-shadow:rgba(0 0 0 / 40%) 1px 3px 15px -4px,rgba(0 0 0 / 20%) 1px 1px 8px -4px;--date-btn-shadow-hover:rgba(0 0 0 / 40%) 4px 6px 18px -1px,rgba(0 0 0 / 35%) 4px 5px 25px -2px;--checkmark-background:radial-gradient(circle,#fff 0,rgba(255 255 255 / 80%) 40%,rgba(255 255 255 / 0%) 70%);--overlay-background:rgba(20 20 20 / 25%);--overlay-cursor:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23777' width='16' height='16' viewBox='0 0 122.878 122.88'%3E%3Cpath d='M1.426 8.313a4.87 4.87 0 0 1 0-6.886 4.87 4.87 0 0 1 6.886 0l53.127 53.127 53.127-53.127a4.87 4.87 0 0 1 6.887 0 4.87 4.87 0 0 1 0 6.886L68.324 61.439l53.128 53.128a4.87 4.87 0 0 1-6.887 6.886L61.438 68.326 8.312 121.453a4.87 4.87 0 0 1-6.886 0 4.87 4.87 0 0 1 0-6.886l53.127-53.128L1.426 8.313h0z'/%3E%3C/svg%3E\") 16 16,crosshair;--icon-ms365-color:#ea3e23;--icon-yahoo-color:#5f01d1;--icon-filter:none}:host(.atcb-dark){--btn-background:#2e2e2e;--btn-background-hover:#373737;--btn-border:#4d4d4d;--btn-text:#dedede;--btn-text-hover:#f1f1f1;--btn-shadow:rgba(255 255 255 / 5%) -12px -5px 20px -8px,rgba(255 255 255 / 6%) -7px -5px 15px -3px,rgba(0 0 0 / 50%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 3px 3px 20px -3px;--btn-shadow-hover:rgba(255 255 255 / 6%) -12px -5px 23px -8px,rgba(255 255 255 / 7%) -7px -5px 18px -3px,rgba(0 0 0 / 60%) 2px 5px 19px -1px,rgba(0 0 0 / 50%) 3px 3px 22px -3px;--btn-shadow-active:rgba(255 255 255 / 7%) -12px -5px 23px -8px,rgba(255 255 255 / 8%) -7px -5px 18px -3px,rgba(0 0 0 / 70%) 2px 10px 20px -1px,rgba(0 0 0 / 60%) 3px 5px 25px -3px;--btn-shadow-active-up:rgba(255 255 255 / 7%) -12px 5px 23px -8px,rgba(255 255 255 / 8%) -7px 5px 18px -3px,rgba(0 0 0 / 60%) 2px -8px 15px -1px,rgba(0 0 0 / 60%) 3px 5px 25px -3px;--list-background:#2e2e2e;--list-background-hover:#373737;--list-text:#dedede;--list-text-hover:#f1f1f1;--list-close-background:#282828;--list-shadow:rgba(255 255 255 / 5%) -12px -5px 20px -8px,rgba(255 255 255 / 6%) -7px -5px 15px -3px,rgba(0 0 0 / 50%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 3px 3px 20px -3px;--list-shadow-modal:rgba(255 255 255 / 8%) -12px -5px 30px -8px,rgba(255 255 255 / 8%) -7px -5px 15px -3px,rgba(0 0 0 / 60%) 4px 6px 50px -4px,rgba(0 0 0 / 90%) 8px 12px 40px -2px;--modal-text:#f1f1f1;--modal-background:#242424;--modal-btn-bar:#38383a;--modal-btn-background:#181819;--modal-btn-secondary-background:#2e2d30;--modal-btn-background-hover:#434246;--modal-btn-text:#dbdbdb;--modal-btn-text-hover:#fff;--modal-btn-secondary-text:#b8b8b8;--modal-shadow:drop-shadow(5px 8px 30px rgba(0 0 0 / 90%));--modal-shadow-btn:rgba(255 255 255 / 5%) -2px -2px 10px,rgba(0 0 0 / 30%) 1px 2px 8px -1px;--date-btn-text:#ebebf0;--date-btn-text-secondary:#b5b5bd;--date-btn-cal-day-text:#101010;--date-btn-cal-month-text:#3e3e3f;--date-btn-cal-background:#c7c7cd;--date-btn-background:#363636;--date-btn-background-hover:#474747;--date-btn-shadow:rgba(255 255 255 / 10%) -8px -6px 20px,rgba(0 0 0 / 50%) 1px 3px 25px -8px,rgba(0 0 0 / 50%) 1px 1px 10px -3px;--checkmark-background:radial-gradient(circle,rgba(0 0 0 / 50%) 0,rgba(0 0 0 / 30%) 40%,rgba(0 0 0 / 0%) 70%);--overlay-background:rgba(20 20 20 / 60%);--icon-ms365-color:#ea3e23;--icon-yahoo-color:#bebebe;--icon-filter:grayscale(.2)}.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-l)}@media (width <= 991px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-m)}}@media (width <= 575px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-s)}}.atcb-button-wrapper{display:block;padding:5px;position:relative}.atcb-button{align-items:center;background-color:var(--btn-background);border:1px solid var(--btn-border);border-radius:6px;box-shadow:var(--btn-shadow);color:var(--btn-text);cursor:pointer;display:flex;font-family:var(--font);font-size:1em;font-weight:600;justify-content:center;line-height:1.5em;margin:0;max-width:350px;min-width:10em;padding:.65em 1em;position:relative;text-align:center;touch-action:manipulation;transform:translate3d(0,0,-12px);user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;width:auto;z-index:1}.atcb-button.atcb-no-text,.atcb-button:disabled{min-width:0}.atcb-rtl .atcb-button{direction:rtl;text-align:right}.atcb-button:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-button:not([disabled]):focus,.atcb-button:not([disabled]):hover{background-color:var(--btn-background-hover);box-shadow:var(--btn-shadow-hover);color:var(--btn-text-hover)}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay){background-color:var(--btn-background-hover);z-index:15000000}.atcb-button.atcb-single:not([disabled]):focus,.atcb-button.atcb-single:not([disabled]):hover{background-color:var(--btn-background-hover);box-shadow:var(--btn-shadow-active);color:var(--btn-text-hover);margin:-.13em;padding:.78em 1.13em}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropup,.atcb-dropoverlay){box-shadow:var(--btn-shadow-active);transform:perspective(100px) rotateX(12deg) translate3d(0,0,2px);transition:transform .1s linear}.atcb-button.atcb-active.atcb-dropup:not(.atcb-modal-style,.atcb-dropoverlay){box-shadow:var(--btn-shadow-active-up);transform:perspective(100px) rotateX(348deg) translate3d(0,0,2px);transition:transform .1s linear}.atcb-button.atcb-active.atcb-dropoverlay{transform:translate3d(0,0,0);z-index:14000090}.atcb-icon{height:1em;margin-bottom:.3em;margin-right:.8em;flex-grow:0;flex-shrink:0}.atcb-rtl .atcb-icon{margin-right:0;margin-left:.8em}.atcb-no-text .atcb-icon{margin-right:0;margin-left:0}.atcb-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-text{overflow-wrap:anywhere}.atcb-button:disabled .atcb-text{letter-spacing:.1em}.atcb-dropdown-anchor{bottom:6px;height:1px;width:100%;opacity:0;position:absolute}.atcb-list-wrapper{box-sizing:border-box;padding:0 4px;position:absolute;transform:translate3d(0,0,0);z-index:14000090}.atcb-list{background-color:var(--list-background);border-radius:0 0 6px 6px;box-sizing:border-box;box-shadow:var(--list-shadow);color:var(--list-text);display:block;font-family:var(--font);min-width:100%;position:relative;user-select:none;-webkit-user-select:none;width:fit-content}.atcb-list-wrapper.atcb-dropdown:not(.atcb-dropup,.atcb-dropoverlay){animation:atcb-list-slide-down .4s ease 50ms 1 normal both;opacity:0}.atcb-list-wrapper.atcb-dropup:not(.atcb-dropoverlay){animation:atcb-list-slide-up .4s ease 50ms 1 normal both;opacity:0}.atcb-list-wrapper.atcb-dropoverlay{transform:translate3d(0,0,2px);z-index:15000000;animation:atcb-list-slide-center .3s ease 0s 1 normal both;opacity:0}@keyframes atcb-list-slide-down{0%{opacity:0;transform:rotateX(70deg);transform-origin:top}100%{opacity:1;transform:rotateX(0);transform-origin:top}}@keyframes atcb-list-slide-up{0%{opacity:0;transform:rotateX(70deg);transform-origin:bottom}100%{opacity:1;transform:rotateX(0);transform-origin:bottom}}@keyframes atcb-list-slide-center{0%{opacity:0;transform:scaleY(1)}1%{opacity:1;transform:scaleY(0)}100%{opacity:1;transform:scaleY(1)}}.atcb-list-item{align-items:center;background-color:var(--list-background);box-sizing:border-box;cursor:pointer;display:flex;font-size:1em;line-height:1.75em;padding:.8em;text-align:left;touch-action:manipulation;-webkit-tap-highlight-color:transparent}.atcb-rtl .atcb-list-item{direction:rtl;text-align:right}.atcb-list-item:hover{background-color:var(--list-background-hover);color:var(--list-text-hover)}.atcb-list-item:focus-visible{background-color:var(--list-background-hover);color:var(--keyboard-focus);font-weight:600;outline:0}.atcb-list-item:last-child{border-radius:0 0 6px 6px}.atcb-dropup .atcb-list-item:last-child{border-radius:0;padding-bottom:1.5em}.atcb-dropoverlay .atcb-list .atcb-list-item:first-child,.atcb-dropup .atcb-list,.atcb-dropup .atcb-list-item:first-child,.atcb-list.atcb-modal .atcb-list-item:first-child{border-radius:6px 6px 0 0}.atcb-dropoverlay .atcb-list .atcb-list-item:only-child,.atcb-list.atcb-modal .atcb-list-item:only-child{border-radius:6px}.atcb-list.atcb-generated-button:not(.atcb-modal) .atcb-list-item:first-child{padding-top:1.5em}.atcb-dropoverlay .atcb-list.atcb-generated-button:not(.atcb-modal) .atcb-list-item:first-child,.atcb-dropup .atcb-list.atcb-generated-button:not(.atcb-modal) .atcb-list-item:first-child{padding-top:.8em}.atcb-dropoverlay .atcb-list,.atcb-list.atcb-modal{border-radius:6px}.atcb-list.atcb-modal{box-shadow:var(--list-shadow-modal)}.atcb-list-item .atcb-icon{margin-bottom:.5em;margin-right:.6em;width:1.125em}.atcb-rtl .atcb-list-item .atcb-icon{margin-right:0;margin-left:.6em}.atcb-no-text .atcb-list-item .atcb-icon{margin:0 auto}.atcb-list-item-close{background-color:var(--list-close-background)}.atcb-list-item.atcb-list-item-close:not(:focus-visible){color:var(--list-close-text)}.atcb-list-item-close svg{fill:currentcolor}.atcb-modal{display:block;margin:auto;min-width:250px;width:auto;position:relative;z-index:14000090}.atcb-modal-box{filter:var(--modal-shadow);color:var(--modal-text);cursor:default;box-sizing:border-box;font-family:var(--font);line-height:1.5em;text-align:left;user-select:none;-webkit-user-select:none;touch-action:manipulation;width:100%;margin-bottom:20px;max-width:32em;-webkit-tap-highlight-color:transparent}.atcb-modal-box.atcb-rtl{text-align:right;direction:rtl;padding:1.25em 1em 1.25em 2em}.atcb-modal-icon{height:2.5em;width:2.5em;border-radius:100%;background-color:var(--modal-background);padding:1.75em;margin:auto}.atcb-modal-icon svg{height:auto;fill:currentcolor;width:100%}.atcb-modal-headline{background-color:var(--modal-background);border-radius:6px 6px 0 0;font-size:1.3em;font-weight:600;line-height:1.5em;padding:1.8em 2em 1.3em;text-transform:uppercase;text-align:center}.atcb-modal-icon+.atcb-modal-headline{margin-top:-2.6em;padding-top:2.6em}.atcb-modal-content{background-color:var(--modal-background);font-size:1em;padding:.3em 2.5em 2.25em}.atcb-modal-icon+.atcb-modal-content{border-radius:6px 6px 0 0;margin-top:-2.6em;padding-top:2.6em}@media (width <= 575px){.atcb-modal-headline{padding:1.8em 1em 1em}.atcb-modal-content{padding:.3em 1.5em 1.5em}.atcb-modal-icon+.atcb-modal-content{padding-top:1.8em}}.atcb-modal-buttons{background-color:var(--modal-btn-bar);border-radius:0 0 6px 6px;box-sizing:border-box;padding:.8em 1em;text-align:center;width:100%;display:flex;justify-content:center;flex-flow:row-reverse wrap;align-items:center}a.atcb-modal-btn,button.atcb-modal-btn{background-color:var(--modal-btn-secondary-background);border:0;border-radius:6px;box-shadow:var(--modal-shadow-btn);color:var(--modal-btn-secondary-text);cursor:pointer;display:inline-block;font-family:var(--font);font-size:.9em;font-weight:600;line-height:1.5em;margin:.625em;padding:.625em 1.25em;position:relative;text-align:center;text-decoration:none;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;text-transform:uppercase}a.atcb-modal-btn.atcb-modal-btn-primary,button.atcb-modal-btn.atcb-modal-btn-primary{background-color:var(--modal-btn-background);color:var(--modal-btn-text)}a.atcb-modal-btn:hover,button.atcb-modal-btn:hover{background-color:var(--modal-btn-background-hover);box-shadow:var(--modal-shadow-btn-hover);color:var(--modal-btn-text-hover);text-decoration:none}a.atcb-modal-btn:focus-visible,button.atcb-modal-btn:focus-visible{background-color:var(--modal-btn-background-hover);outline:2px solid var(--keyboard-focus)}.atcb-subevent-btn{display:flex;align-items:flex-start;cursor:pointer;font-family:var(--font);font-size:1em;box-shadow:var(--date-btn-shadow);background-color:var(--date-btn-background);border:0;border-radius:6px;padding:0;margin:0;touch-action:manipulation;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent}.atcb-subevent-btn:hover{align-items:center}.atcb-subevent-btn:focus,.atcb-subevent-btn:hover{background-color:var(--date-btn-background-hover);box-shadow:var(--date-btn-shadow-hover)}.atcb-subevent-btn:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-subevent-btn+.atcb-subevent-btn{margin-top:30px}.atcb-date-btn-left{border-radius:4px 0 0 4px;align-self:stretch;background-color:var(--date-btn-cal-background);color:var(--date-btn-background-hover);padding:.7em .8em .8em;width:2.7em;align-items:center;display:flex;flex-direction:column}.atcb-rtl .atcb-date-btn-left{border-radius:0 4px 4px 0}.atcb-subevent-btn:hover .atcb-date-btn-left{opacity:.8}.atcb-date-btn-day{color:var(--date-btn-cal-day-text);font-weight:300;font-size:2em;word-break:keep-all;padding-bottom:.1em}.atcb-initialized[lang=ja] .atcb-date-btn-day,.atcb-initialized[lang=ko] .atcb-date-btn-day,.atcb-initialized[lang=zh] .atcb-date-btn-day{font-size:1.3em}.atcb-date-btn-month{color:var(--date-btn-cal-month-text);font-weight:600;font-size:1em}.atcb-date-btn-right{position:relative;color:var(--date-btn-text);min-width:12.5em;overflow-wrap:anywhere}.atcb-date-btn-details{opacity:1;padding:.7em .8em;text-align:left}.atcb-rtl .atcb-date-btn-details{text-align:right}.atcb-date-btn-hover{position:absolute;top:0;left:0;width:100%;opacity:0;height:100%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1em;padding:.3em;box-sizing:border-box}.atcb-subevent-btn:hover .atcb-date-btn-details{opacity:0}.atcb-subevent-btn:hover .atcb-date-btn-hover{opacity:1}.atcb-date-btn-headline{font-weight:600;font-size:.9em;margin-bottom:.5em;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.atcb-date-btn-content{display:flex;align-items:flex-start;font-size:.8em;color:var(--date-btn-text-secondary)}.atcb-date-btn-content-location{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all}.atcb-date-btn-content-icon{display:inline-block;height:.8em;width:1.3em;flex:0 0 1.3em}.atcb-rtl .atcb-date-btn-content-icon{margin-right:0;margin-left:.5em}.atcb-initialized[lang=ja] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=ko] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=zh] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon{margin-top:.15em}.atcb-date-btn-content-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-date-btn-content+.atcb-date-btn-content{margin-top:.3em}.atcb-date-btn-content-text span:not(.atcb-icon-ical){padding-right:.3em;display:inline-block}.atcb-checkmark{display:none}.atcb-saved .atcb-checkmark{box-sizing:content-box;color:var(--btn-text);display:block;position:absolute;top:-.9em;right:-.3em;padding:.5em;background:var(--checkmark-background);border-radius:100%;height:1.5em}.atcb-checkmark svg{height:100%;fill:currentcolor;width:auto}#atcb-bgoverlay{backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);background-color:var(--overlay-background);border:0;box-sizing:border-box;display:flex;height:calc(100vh + 100px);inset-inline:0;left:0;right:0;top:0;min-height:100%;min-width:100%;overflow-y:auto;padding:20px 20px 130px;position:fixed;width:100vw;z-index:14000000}#atcb-bgoverlay:not(dialog){animation:atcb-bgoverlay-animate .2s ease 0s 1 normal forwards;opacity:0}#atcb-bgoverlay.atcb-no-bg{animation:none;backdrop-filter:none;-webkit-backdrop-filter:none;opacity:1;background-color:transparent}@keyframes atcb-bgoverlay-animate{0%{opacity:0}100%{opacity:1}}#atcb-bgoverlay.atcb-click:hover{cursor:var(--overlay-cursor)}.atcb-icon .atcb-icon-apple svg{fill:currentcolor}.atcb-icon .atcb-icon-ical svg{fill:currentcolor}.atcb-icon .atcb-icon-ms365 svg{fill:var(--icon-ms365-color)}.atcb-icon .atcb-icon-yahoo svg{fill:var(--icon-yahoo-color)}.atcb-icon .atcb-icon-google svg,.atcb-icon .atcb-icon-msteams svg,.atcb-icon .atcb-icon-outlookcom svg{filter:var(--icon-filter)}",flat:":host{width:fit-content;--base-font-size-l:16px;--base-font-size-m:16px;--base-font-size-s:16px;--font:arial,helvetica,sans-serif;--keyboard-focus:#1e90ff;--btn-background:#f5f5f5;--btn-background-hover:#fff;--btn-border:#545454;--btn-shadow:#333;--btn-text:#333;--btn-text-hover:#000;--list-background:#f5f5f5;--list-background-hover:#fff;--list-border:#545454;--list-text:#333;--list-text-hover:#000;--list-close-background:#545454;--list-close-text:#b0b0b0;--list-close-text-hover:#777;--modal-text:#000;--modal-background:#f5f5f5;--modal-btn-bar:#bababa;--modal-btn-background:#f5f5f5;--modal-btn-secondary-background:#e2e1e6;--modal-btn-background-hover:#fff;--modal-btn-text:#2e2e2e;--modal-btn-text-hover:#161616;--modal-btn-secondary-text:#676767;--date-btn-text:#1d1d1e;--date-btn-text-secondary:#414141;--date-btn-cal-day-text:#fff;--date-btn-cal-month-text:#d3d2d7;--date-btn-cal-background:#313132;--date-btn-background:#eae9ed;--date-btn-background-hover:#fff;--checkmark-background:radial-gradient(circle,#fff 0,rgba(255 255 255 / 80%) 40%,rgba(255 255 255 / 0%) 70%);--overlay-background:rgba(20 20 20 / 40%);--overlay-cursor:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23777' width='16' height='16' viewBox='0 0 122.878 122.88'%3E%3Cpath d='M1.426 8.313a4.87 4.87 0 0 1 0-6.886 4.87 4.87 0 0 1 6.886 0l53.127 53.127 53.127-53.127a4.87 4.87 0 0 1 6.887 0 4.87 4.87 0 0 1 0 6.886L68.324 61.439l53.128 53.128a4.87 4.87 0 0 1-6.887 6.886L61.438 68.326 8.312 121.453a4.87 4.87 0 0 1-6.886 0 4.87 4.87 0 0 1 0-6.886l53.127-53.128L1.426 8.313h0z'/%3E%3C/svg%3E\") 16 16,crosshair;--icon-ms365-color:#ea3e23;--icon-yahoo-color:#5f01d1;--icon-filter:none}:host(.atcb-dark){--btn-background:#222;--btn-background-hover:#373737;--btn-border:#515151;--btn-shadow:#000;--btn-text:#dedede;--btn-text-hover:#f1f1f1;--list-background:#222;--list-background-hover:#373737;--list-border:#515151;--list-text:#dedede;--list-text-hover:#f1f1f1;--list-close-background:#111;--list-close-text:#777;--list-close-text-hover:#f1f1f1;--modal-text:#f1f1f1;--modal-background:#242424;--modal-btn-bar:#313131;--modal-btn-background:#181819;--modal-btn-secondary-background:#2e2d30;--modal-btn-background-hover:#434246;--modal-btn-text:#dbdbdb;--modal-btn-text-hover:#fff;--modal-btn-secondary-text:#b8b8b8;--date-btn-text:#ebebf0;--date-btn-text-secondary:#b5b5bd;--date-btn-cal-day-text:#101010;--date-btn-cal-month-text:#414141;--date-btn-cal-background:#c7c7cd;--date-btn-background:#2d2d2d;--date-btn-background-hover:#474747;--checkmark-background:radial-gradient(circle,rgba(0 0 0 / 50%) 0,rgba(0 0 0 / 30%) 40%,rgba(0 0 0 / 0%) 70%);--overlay-background:rgba(20 20 20 / 75%);--icon-ms365-color:#ea3e23;--icon-yahoo-color:#bebebe;--icon-filter:grayscale(0.2)}.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-l)}@media (width <= 991px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-m)}}@media (width <= 575px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-s)}}.atcb-button-wrapper{display:block;padding:5px;position:relative}.atcb-button{align-items:center;background-color:var(--btn-background);border:.2em solid var(--btn-border);color:var(--btn-text);cursor:pointer;display:flex;font-family:var(--font);font-size:1em;font-weight:600;justify-content:center;line-height:1.5em;margin:0;max-width:350px;min-width:10em;padding:.8em 1.2em;top:0;left:0;box-shadow:0 0 0 0 var(--btn-shadow);position:relative;text-align:center;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;width:auto;z-index:1}.atcb-button.atcb-no-text,.atcb-button:disabled{min-width:0}.atcb-button.atcb-click:not([disabled]){top:-3px;left:-3px;box-shadow:3px 3px 0 0 var(--btn-shadow)}.atcb-rtl .atcb-button{direction:rtl;text-align:right}.atcb-button:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-button:not([disabled]):focus,.atcb-button:not([disabled]):hover{background-color:var(--btn-background-hover);top:0;left:0;box-shadow:0 0 0 0 var(--btn-shadow);color:var(--btn-text-hover)}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay){z-index:15000000}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay),.atcb-button.atcb-single:not([disabled]):focus,.atcb-button.atcb-single:not([disabled]):hover{background-color:var(--btn-background-hover);top:-5px;left:-5px;box-shadow:5px 5px 0 0 var(--btn-shadow);color:var(--btn-text-hover)}.atcb-button.atcb-active.atcb-dropoverlay{z-index:14000090}.atcb-icon{height:1em;margin-right:1em;line-height:1em;flex-grow:0;flex-shrink:0}.atcb-rtl .atcb-icon{margin-right:0;margin-left:1em}.atcb-no-text .atcb-icon{margin-right:0;margin-left:0}.atcb-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-icon-trigger svg{display:none}.atcb-button .atcb-icon-trigger::after{content:\"+\";font-size:1.5em}.atcb-text{overflow-wrap:anywhere}.atcb-button:disabled .atcb-text{letter-spacing:.1em}.atcb-dropdown-anchor{bottom:0;height:0;width:100%;opacity:0;position:absolute}.atcb-list-wrapper{box-sizing:border-box;padding:0 2px 0 6px;position:absolute;z-index:16000090}.atcb-list-wrapper:not(.atcb-dropup,.atcb-dropoverlay){animation:list-entrance-bottom .2s ease 0s 1 normal forwards}.atcb-list-wrapper.atcb-dropup{animation:list-entrance-top .2s ease 0s 1 normal forwards}.atcb-list-wrapper.atcb-dropoverlay{z-index:15000000}@keyframes list-entrance-bottom{0%{opacity:0;transform:translateY(150px)}100%{opacity:1;transform:translateY(0)}}@keyframes list-entrance-top{0%{opacity:0;transform:translateY(-150px)}100%{opacity:1;transform:translateY(0)}}.atcb-list{background:var(--list-close-background);box-sizing:border-box;border:.15em solid var(--list-border);color:var(--list-text);display:block;font-family:var(--font);min-width:100%;position:relative;user-select:none;-webkit-user-select:none;width:fit-content}.atcb-list-item{align-items:center;background-color:var(--list-background);box-sizing:border-box;cursor:pointer;display:flex;font-size:1em;line-height:1.75em;padding:.8em;text-align:left;touch-action:manipulation;-webkit-tap-highlight-color:transparent}.atcb-rtl .atcb-list-item{direction:rtl;text-align:right}.atcb-list-item:hover{background-color:var(--list-background-hover);color:var(--list-text-hover)}.atcb-list-item:focus-visible{background-color:var(--list-background-hover);color:var(--keyboard-focus);font-weight:600;outline:0}.atcb-dropup .atcb-list-item:last-child{border-bottom-width:0}.atcb-list.atcb-generated-button:not(.atcb-modal) .atcb-list-item:first-child{border-top-width:0}.atcb-dropoverlay .atcb-list.atcb-generated-button:not(.atcb-modal) .atcb-list-item:first-child,.atcb-dropup .atcb-list.atcb-generated-button:not(.atcb-modal) .atcb-list-item:first-child{border-top-width:.15em}.atcb-list-item .atcb-icon{margin-bottom:.1em;margin-right:.6em;width:1.125em}.atcb-rtl .atcb-list-item .atcb-icon{margin-right:0;margin-left:.6em}.atcb-no-text .atcb-list-item .atcb-icon{margin:0 auto}.atcb-list-item-close{background-color:var(--list-close-background)}.atcb-list-item.atcb-list-item-close:not(:focus-visible){color:var(--list-close-text)}.atcb-list-item.atcb-list-item-close:hover{color:var(--list-close-text-hover)}.atcb-list-item-close svg{fill:currentcolor}.atcb-modal{display:block;margin:auto;min-width:250px;width:auto;position:relative;z-index:14000090}.atcb-modal-box{border:.15em solid var(--btn-border);background-color:var(--modal-background);color:var(--modal-text);cursor:default;box-sizing:border-box;font-family:var(--font);line-height:1.5em;text-align:left;user-select:none;-webkit-user-select:none;touch-action:manipulation;width:100%;margin-bottom:20px;max-width:32em;-webkit-tap-highlight-color:transparent}.atcb-modal-box.atcb-rtl{text-align:right;direction:rtl;padding:1.25em 1em 1.25em 2em}.atcb-modal-icon{height:2.5em;width:2.5em;padding:1.75em;margin:auto}.atcb-modal-icon svg{height:auto;fill:currentcolor;width:100%}.atcb-modal-headline{font-size:1.3em;font-weight:600;line-height:1.5em;padding:1.8em 2em 1.3em;text-transform:uppercase;text-align:center}.atcb-modal-icon+.atcb-modal-headline{padding-top:0}.atcb-modal-content{font-size:1em;padding:.3em 2.5em 2.25em}.atcb-modal-icon+.atcb-modal-content{border-radius:6px 6px 0 0;padding-top:0}@media (width <= 575px){.atcb-modal-headline{padding:1.8em 1em 1em}.atcb-modal-content{padding:.3em 1.5em 1.5em}}.atcb-modal-buttons{background-color:var(--modal-btn-bar);box-sizing:border-box;padding:.8em 1em;text-align:center;width:100%;display:flex;justify-content:center;flex-flow:row-reverse wrap;align-items:center}a.atcb-modal-btn,button.atcb-modal-btn{border:.2em solid var(--btn-border);background-color:var(--modal-btn-secondary-background);color:var(--modal-btn-secondary-text);cursor:pointer;display:inline-block;font-family:var(--font);font-size:.9em;font-weight:600;line-height:1.5em;margin:.625em;padding:.625em 1.25em;position:relative;text-align:center;text-decoration:none;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;text-transform:uppercase;top:0;left:0;box-shadow:0 0 0 0 var(--btn-shadow)}a.atcb-modal-btn.atcb-modal-btn-primary,button.atcb-modal-btn.atcb-modal-btn-primary{background-color:var(--modal-btn-background);color:var(--modal-btn-text)}a.atcb-modal-btn:hover,button.atcb-modal-btn:hover{background-color:var(--modal-btn-background-hover);color:var(--modal-btn-text-hover);text-decoration:none;top:-3px;left:-3px;box-shadow:3px 3px 0 0 var(--btn-shadow)}a.atcb-modal-btn:focus-visible,button.atcb-modal-btn:focus-visible{background-color:var(--modal-btn-background-hover);outline:2px solid var(--keyboard-focus)}.atcb-subevent-btn{border:.15em solid var(--btn-border);display:flex;align-items:flex-start;cursor:pointer;font-family:var(--font);font-size:1em;background-color:var(--date-btn-background);padding:0;margin:0;touch-action:manipulation;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;top:0;left:0;box-shadow:0 0 0 0 var(--btn-shadow)}.atcb-subevent-btn:hover{align-items:center;top:-3px;left:-3px;box-shadow:3px 3px 0 0 var(--btn-shadow)}.atcb-subevent-btn:focus,.atcb-subevent-btn:hover{background-color:var(--date-btn-background-hover)}.atcb-subevent-btn:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-subevent-btn+.atcb-subevent-btn{margin-top:30px}.atcb-date-btn-left{align-self:stretch;background-color:var(--date-btn-cal-background);color:var(--date-btn-background-hover);padding:.7em .8em .8em;width:2.7em;align-items:center;display:flex;flex-direction:column}.atcb-subevent-btn:hover .atcb-date-btn-left{opacity:.8}.atcb-date-btn-day{color:var(--date-btn-cal-day-text);font-weight:300;font-size:2em;word-break:keep-all;padding-bottom:.1em}.atcb-initialized[lang=ja] .atcb-date-btn-day,.atcb-initialized[lang=ko] .atcb-date-btn-day,.atcb-initialized[lang=zh] .atcb-date-btn-day{font-size:1.3em}.atcb-date-btn-month{color:var(--date-btn-cal-month-text);font-weight:600;font-size:1em}.atcb-date-btn-right{position:relative;color:var(--date-btn-text);min-width:12.5em;overflow-wrap:anywhere}.atcb-date-btn-details{opacity:1;padding:.7em .8em;text-align:left}.atcb-rtl .atcb-date-btn-details{text-align:right}.atcb-date-btn-hover{position:absolute;top:0;left:0;width:100%;opacity:0;height:100%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1em;padding:.3em;box-sizing:border-box}.atcb-subevent-btn:hover .atcb-date-btn-details{opacity:0}.atcb-subevent-btn:hover .atcb-date-btn-hover{opacity:1}.atcb-date-btn-headline{font-weight:600;font-size:.9em;margin-bottom:.5em;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.atcb-date-btn-content{display:flex;align-items:flex-start;font-size:.8em;color:var(--date-btn-text-secondary)}.atcb-date-btn-content-location{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all}.atcb-date-btn-content-icon{display:inline-block;height:.8em;width:1.3em;flex:0 0 1.3em}.atcb-rtl .atcb-date-btn-content-icon{margin-right:0;margin-left:.5em}.atcb-initialized[lang=ja] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=ko] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=zh] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon{margin-top:.15em}.atcb-date-btn-content-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-date-btn-content+.atcb-date-btn-content{margin-top:.3em}.atcb-date-btn-content-text span:not(.atcb-icon-ical){padding-right:.3em;display:inline-block}.atcb-checkmark{display:none}.atcb-saved .atcb-checkmark{box-sizing:content-box;color:var(--btn-text);display:block;position:absolute;top:-.9em;right:-.3em;padding:.5em;background:var(--checkmark-background);border-radius:100%;height:1.5em}.atcb-checkmark svg{height:100%;fill:currentcolor;width:auto}#atcb-bgoverlay{backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);background-color:var(--overlay-background);border:0;box-sizing:border-box;display:flex;height:calc(100vh + 100px);inset-inline:0;left:0;right:0;top:0;min-height:100%;min-width:100%;overflow-y:auto;padding:20px 20px 130px;position:fixed;width:100vw;z-index:14000000}#atcb-bgoverlay:not(dialog){animation:atcb-bgoverlay-animate .2s ease 0s 1 normal forwards;opacity:0}#atcb-bgoverlay.atcb-no-bg{animation:none;backdrop-filter:none;-webkit-backdrop-filter:none;opacity:1;background-color:transparent}@keyframes atcb-bgoverlay-animate{0%{opacity:0}100%{opacity:1}}#atcb-bgoverlay.atcb-click:hover{cursor:var(--overlay-cursor)}.atcb-icon .atcb-icon-apple svg{fill:currentcolor}.atcb-icon .atcb-icon-ical svg{fill:currentcolor}.atcb-icon .atcb-icon-ms365 svg{fill:var(--icon-ms365-color)}.atcb-icon .atcb-icon-yahoo svg{fill:var(--icon-yahoo-color)}.atcb-icon .atcb-icon-google svg,.atcb-icon .atcb-icon-msteams svg,.atcb-icon .atcb-icon-outlookcom svg{filter:var(--icon-filter)}",round:":host{width:fit-content;--base-font-size-l:16px;--base-font-size-m:16px;--base-font-size-s:16px;--font:arial,helvetica,sans-serif;--keyboard-focus:#1e90ff;--btn-background:#f5f5f5;--btn-background-hover:#fff;--btn-border:#d2d2d2;--btn-text:#333;--btn-text-hover:#000;--btn-shadow:rgba(0 0 0 / 20%) 2px 5px 18px -1px,rgba(0 0 0 / 15%) 2px 2px 10px -3px;--btn-shadow-hover:rgba(0 0 0 / 35%) 2px 5px 18px -1px,rgba(0 0 0 / 30%) 2px 2px 10px -3px;--btn-shadow-active:rgba(0 0 0 / 50%) 2px 5px 18px -1px,rgba(0 0 0 / 45%) 2px 2px 10px -3px;--list-background:#f5f5f5;--list-background-hover:#fff;--list-text:#333;--list-text-hover:#000;--list-close-background:#e5e5e5;--list-close-text:#777;--list-shadow:rgba(0 0 0 / 20%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 2px 2px 10px -3px;--list-shadow-modal:rgba(0 0 0 / 60%) 3px 6px 40px -5px,rgba(0 0 0 / 60%) 3px 3px 15px -4px;--modal-text:#000;--modal-background:#f5f5f5;--modal-btn-bar:#c6c8cd;--modal-btn-background:#f5f5f5;--modal-btn-secondary-background:#e2e1e6;--modal-btn-background-hover:#fff;--modal-btn-text:#2e2e2e;--modal-btn-text-hover:#161616;--modal-btn-secondary-text:#666567;--modal-shadow:drop-shadow(5px 8px 30px rgba(0 0 0 / 70%));--modal-shadow-btn:rgba(0 0 0 / 10%) 2px 3px 10px -3px,rgba(0 0 0 / 25%) 1px 1px 8px -4px;--modal-shadow-btn-hover:rgba(0 0 0 / 35%) 3px 5px 15px -2px,rgba(0 0 0 / 20%) 2px 4px 25px -6px;--date-btn-text:#1d1d1e;--date-btn-text-secondary:#3a3a3f;--date-btn-cal-day-text:#fff;--date-btn-cal-month-text:#d3d2d7;--date-btn-cal-background:#313132;--date-btn-background:#eae9ed;--date-btn-background-hover:#fff;--date-btn-shadow:rgba(0 0 0 / 40%) 1px 3px 15px -4px,rgba(0 0 0 / 20%) 1px 1px 8px -4px;--date-btn-shadow-hover:rgba(0 0 0 / 40%) 4px 6px 18px -1px,rgba(0 0 0 / 35%) 4px 5px 25px -2px;--checkmark-background:radial-gradient(circle,#fff 0,rgba(255 255 255 / 80%) 40%,rgba(255 255 255 / 0%) 70%);--overlay-background:rgba(20 20 20 / 25%);--overlay-cursor:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23777' width='16' height='16' viewBox='0 0 122.878 122.88'%3E%3Cpath d='M1.426 8.313a4.87 4.87 0 0 1 0-6.886 4.87 4.87 0 0 1 6.886 0l53.127 53.127 53.127-53.127a4.87 4.87 0 0 1 6.887 0 4.87 4.87 0 0 1 0 6.886L68.324 61.439l53.128 53.128a4.87 4.87 0 0 1-6.887 6.886L61.438 68.326 8.312 121.453a4.87 4.87 0 0 1-6.886 0 4.87 4.87 0 0 1 0-6.886l53.127-53.128L1.426 8.313h0z'/%3E%3C/svg%3E\") 16 16,crosshair;--icon-ms365-color:#ea3e23;--icon-yahoo-color:#5f01d1;--icon-filter:none}:host(.atcb-dark){--btn-background:#2e2e2e;--btn-background-hover:#373737;--btn-border:#4d4d4d;--btn-text:#dedede;--btn-text-hover:#f1f1f1;--btn-shadow:rgba(255 255 255 / 5%) -12px -5px 20px -8px,rgba(255 255 255 / 6%) -7px -5px 15px -3px,rgba(0 0 0 / 50%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 3px 3px 20px -3px;--btn-shadow-hover:rgba(255 255 255 / 6%) -12px -5px 23px -8px,rgba(255 255 255 / 7%) -7px -5px 18px -3px,rgba(0 0 0 / 60%) 2px 5px 19px -1px,rgba(0 0 0 / 50%) 3px 3px 22px -3px;--btn-shadow-active:rgba(255 255 255 / 7%) -12px -5px 23px -8px,rgba(255 255 255 / 8%) -7px -5px 18px -3px,rgba(0 0 0 / 70%) 2px 5px 19px -1px,rgba(0 0 0 / 60%) 3px 3px 22px -3px;--list-background:#2e2e2e;--list-background-hover:#373737;--list-text:#dedede;--list-text-hover:#f1f1f1;--list-close-background:#282828;--list-shadow:rgba(255 255 255 / 5%) -12px -5px 20px -8px,rgba(255 255 255 / 6%) -7px -5px 15px -3px,rgba(0 0 0 / 50%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 3px 3px 20px -3px;--list-shadow-modal:rgba(255 255 255 / 8%) -12px -5px 30px -8px,rgba(255 255 255 / 8%) -7px -5px 15px -3px,rgba(0 0 0 / 60%) 4px 6px 50px -4px,rgba(0 0 0 / 90%) 8px 12px 40px -2px;--modal-text:#f1f1f1;--modal-background:#242424;--modal-btn-bar:#38383a;--modal-btn-background:#181819;--modal-btn-secondary-background:#2e2d30;--modal-btn-background-hover:#434246;--modal-btn-text:#dbdbdb;--modal-btn-text-hover:#fff;--modal-btn-secondary-text:#b8b8b8;--modal-shadow:drop-shadow(5px 8px 30px rgba(0 0 0 / 90%));--modal-shadow-btn:rgba(255 255 255 / 5%) -2px -2px 10px,rgba(0 0 0 / 30%) 1px 2px 8px -1px;--date-btn-text:#ebebf0;--date-btn-text-secondary:#b5b5bd;--date-btn-cal-day-text:#101010;--date-btn-cal-month-text:#3e3e3f;--date-btn-cal-background:#c7c7cd;--date-btn-background:#363636;--date-btn-background-hover:#474747;--date-btn-shadow:rgba(255 255 255 / 10%) -8px -6px 20px,rgba(0 0 0 / 50%) 1px 3px 25px -8px,rgba(0 0 0 / 50%) 1px 1px 10px -3px;--checkmark-background:radial-gradient(circle,rgba(0 0 0 / 50%) 0,rgba(0 0 0 / 30%) 40%,rgba(0 0 0 / 0%) 70%);--overlay-background:rgba(20 20 20 / 60%);--icon-ms365-color:#ea3e23;--icon-yahoo-color:#bebebe;--icon-filter:grayscale(.2)}.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-l)}@media (width <= 991px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-m)}}@media (width <= 575px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-s)}}.atcb-button-wrapper{display:block;padding:5px;position:relative}.atcb-button{align-items:center;background-color:var(--btn-background);border:1px solid var(--btn-border);border-radius:500px;box-shadow:var(--btn-shadow);color:var(--btn-text);cursor:pointer;display:flex;font-family:var(--font);font-size:1em;font-weight:600;justify-content:center;line-height:1.5em;margin:.13em;max-width:350px;min-width:10em;padding:.65em 1.3em;position:relative;text-align:center;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;width:auto;z-index:1}.atcb-button.atcb-no-text{min-width:0;border-radius:100%;display:flex;align-content:center;justify-content:center;align-items:center;height:3em;width:3em;padding:0}.atcb-button:disabled{min-width:0}.atcb-rtl .atcb-button{direction:rtl;text-align:right}.atcb-button:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-button:not([disabled]):focus,.atcb-button:not([disabled]):hover{background-color:var(--btn-background-hover);box-shadow:var(--btn-shadow-hover);color:var(--btn-text-hover);margin:0;padding:.78em 1.43em}.atcb-button.atcb-no-text:focus,.atcb-button.atcb-no-text:hover{height:3.26em;width:3.26em;padding:0}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay){z-index:15000000}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay,.atcb-no-text),.atcb-button.atcb-single:not(.atcb-no-text,[disabled]):focus,.atcb-button.atcb-single:not(.atcb-no-text,[disabled]):hover{background-color:var(--btn-background-hover);box-shadow:var(--btn-shadow-active);color:var(--btn-text-hover);margin:0;padding:.78em 1.43em}.atcb-button.atcb-active.atcb-no-text:not(.atcb-modal-style,.atcb-dropoverlay),.atcb-button.atcb-single.atcb-no-text:not([disabled]):focus,.atcb-button.atcb-single.atcb-no-text:not([disabled]):hover{background-color:var(--btn-background-hover);box-shadow:var(--btn-shadow-active);color:var(--btn-text-hover);margin:0;padding:.93em 1.43em}.atcb-button.atcb-dropup::after,.atcb-button:not(.atcb-modal-style,.atcb-dropoverlay,.atcb-dropup,.atcb-no-text)::before{content:\"\";width:0;height:0;position:absolute;left:0;right:0;margin:0 auto;transition:border-width .1s linear .1s}.atcb-button:not(.atcb-modal-style,.atcb-dropoverlay,.atcb-dropup,.atcb-no-text)::before{top:100%;border:0 solid transparent;border-bottom:none;border-top-color:var(--btn-background-hover)}.atcb-button.atcb-dropup::after{bottom:100%;border:0 solid transparent;border-top:none;border-bottom-color:var(--btn-background-hover)}.atcb-button.atcb-active.atcb-dropup::after,.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay,.atcb-dropup,.atcb-no-text)::before{border-width:.35em}.atcb-button.atcb-active.atcb-dropoverlay{z-index:14000090}.atcb-icon{height:1em;margin-bottom:.3em;margin-right:.8em;flex-grow:0;flex-shrink:0}.atcb-rtl .atcb-icon{margin-right:0;margin-left:.8em}.atcb-no-text .atcb-icon{margin-right:0;margin-left:0}.atcb-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-text{overflow-wrap:anywhere}.atcb-button:disabled .atcb-text{letter-spacing:.1em}.atcb-dropdown-anchor{bottom:-15px;height:0;width:100%;opacity:0;position:absolute}.atcb-list-wrapper{box-sizing:border-box;position:absolute;z-index:14000090;min-width:12.5em;width:auto}.atcb-list-wrapper:not(.atcb-dropup,.atcb-dropoverlay){animation:list-entrance-bottom .2s ease 0s 1 normal forwards}.atcb-list-wrapper.atcb-dropup{animation:list-entrance-top .2s ease 0s 1 normal forwards}.atcb-list-wrapper.atcb-dropoverlay{animation:list-entrance-center .2s ease 0s 1 normal forwards;z-index:15000000}@keyframes list-entrance-bottom{0%{opacity:0;transform:translateY(250px)}100%{opacity:1;transform:translateY(0)}}@keyframes list-entrance-top{0%{opacity:0;transform:translateY(-250px)}100%{opacity:1;transform:translateY(0)}}@keyframes list-entrance-center{0%{opacity:0;transform:scaleY(1)}1%{opacity:1;transform:scaleY(0)}100%{opacity:1;transform:scaleY(1)}}.atcb-list{border-radius:11px;box-sizing:border-box;box-shadow:var(--list-shadow);color:var(--list-text);display:block;font-family:var(--font);min-width:100%;position:relative;user-select:none;-webkit-user-select:none;width:fit-content}.atcb-list-item{align-items:center;background-color:var(--list-background);box-sizing:border-box;cursor:pointer;display:flex;font-size:1em;line-height:1.75em;padding:.8em;text-align:left;touch-action:manipulation;-webkit-tap-highlight-color:transparent}.atcb-rtl .atcb-list-item{direction:rtl;text-align:right}.atcb-list-item:hover{background-color:var(--list-background-hover);color:var(--list-text-hover)}.atcb-list-item:focus-visible{background-color:var(--list-background-hover);color:var(--keyboard-focus);font-weight:600;outline:0}.atcb-list-item:last-child{border-radius:0 0 11px 11px}.atcb-list-item:first-child{border-radius:11px 11px 0 0}.atcb-list-item:only-child{border-radius:11px}.atcb-list.atcb-modal{box-shadow:var(--list-shadow-modal)}.atcb-list-item .atcb-icon{margin-bottom:.5em;margin-right:.6em;width:1.125em}.atcb-rtl .atcb-list-item .atcb-icon{margin-right:0;margin-left:.6em}.atcb-no-text .atcb-list-item .atcb-icon{margin:0 auto}.atcb-list-item-close{background-color:var(--list-close-background)}.atcb-list-item.atcb-list-item-close:not(:focus-visible){color:var(--list-close-text)}.atcb-list-item-close svg{fill:currentcolor}.atcb-modal{display:block;margin:auto;min-width:250px;width:auto;position:relative;z-index:14000090}.atcb-modal-box{filter:var(--modal-shadow);color:var(--modal-text);cursor:default;box-sizing:border-box;font-family:var(--font);line-height:1.5em;text-align:left;user-select:none;-webkit-user-select:none;touch-action:manipulation;width:100%;margin-bottom:20px;max-width:32em;-webkit-tap-highlight-color:transparent}.atcb-modal-box.atcb-rtl{text-align:right;direction:rtl;padding:1.25em 1em 1.25em 2em}.atcb-modal-icon{height:2.5em;width:2.5em;border-radius:100%;background-color:var(--modal-background);padding:1.75em;margin:auto}.atcb-modal-icon svg{height:auto;fill:currentcolor;width:100%}.atcb-modal-headline{background-color:var(--modal-background);border-radius:9px 9px 0 0;font-size:1.3em;font-weight:600;line-height:1.5em;padding:1.8em 2em 1.3em;text-transform:uppercase;text-align:center}.atcb-modal-icon+.atcb-modal-headline{margin-top:-2.6em;padding-top:2.6em}.atcb-modal-content{background-color:var(--modal-background);font-size:1em;padding:.3em 2.5em 2.25em}.atcb-modal-icon+.atcb-modal-content{border-radius:9px 9px 0 0;margin-top:-2.6em;padding-top:2.6em}@media (width <= 575px){.atcb-modal-headline{padding:1.8em 1em 1em}.atcb-modal-content{padding:.3em 1.5em 1.5em}.atcb-modal-icon+.atcb-modal-content{padding-top:1.8em}}.atcb-modal-buttons{background-color:var(--modal-btn-bar);border-radius:0 0 9px 9px;box-sizing:border-box;padding:.8em 1em;text-align:center;width:100%;display:flex;justify-content:center;flex-flow:row-reverse wrap;align-items:center}a.atcb-modal-btn,button.atcb-modal-btn{background-color:var(--modal-btn-secondary-background);border:0;border-radius:500px;box-shadow:var(--modal-shadow-btn);color:var(--modal-btn-secondary-text);cursor:pointer;display:inline-block;font-family:var(--font);font-size:.9em;font-weight:600;line-height:1.5em;margin:.625em;padding:.625em 1.25em;position:relative;text-align:center;text-decoration:none;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;text-transform:uppercase}a.atcb-modal-btn.atcb-modal-btn-primary,button.atcb-modal-btn.atcb-modal-btn-primary{background-color:var(--modal-btn-background);color:var(--modal-btn-text)}a.atcb-modal-btn:hover,button.atcb-modal-btn:hover{background-color:var(--modal-btn-background-hover);box-shadow:var(--modal-shadow-btn-hover);color:var(--modal-btn-text-hover);text-decoration:none}a.atcb-modal-btn:focus-visible,button.atcb-modal-btn:focus-visible{background-color:var(--modal-btn-background-hover);outline:2px solid var(--keyboard-focus)}.atcb-subevent-btn{display:flex;align-items:flex-start;cursor:pointer;font-family:var(--font);font-size:1em;box-shadow:var(--date-btn-shadow);background-color:var(--date-btn-background);border:0;border-radius:6px;padding:0;margin:0;touch-action:manipulation;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent}.atcb-subevent-btn:hover{align-items:center}.atcb-subevent-btn:focus,.atcb-subevent-btn:hover{background-color:var(--date-btn-background-hover);box-shadow:var(--date-btn-shadow-hover)}.atcb-subevent-btn:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-subevent-btn+.atcb-subevent-btn{margin-top:30px}.atcb-date-btn-left{border-radius:4px 0 0 4px;align-self:stretch;background-color:var(--date-btn-cal-background);color:var(--date-btn-background-hover);padding:.7em .8em .8em;width:2.7em;align-items:center;display:flex;flex-direction:column}.atcb-rtl .atcb-date-btn-left{border-radius:0 4px 4px 0}.atcb-subevent-btn:hover .atcb-date-btn-left{opacity:.8}.atcb-date-btn-day{color:var(--date-btn-cal-day-text);font-weight:300;font-size:2em;word-break:keep-all;padding-bottom:.1em}.atcb-initialized[lang=ja] .atcb-date-btn-day,.atcb-initialized[lang=ko] .atcb-date-btn-day,.atcb-initialized[lang=zh] .atcb-date-btn-day{font-size:1.3em}.atcb-date-btn-month{color:var(--date-btn-cal-month-text);font-weight:600;font-size:1em}.atcb-date-btn-right{position:relative;color:var(--date-btn-text);min-width:12.5em;overflow-wrap:anywhere}.atcb-date-btn-details{opacity:1;padding:.7em .8em;text-align:left}.atcb-rtl .atcb-date-btn-details{text-align:right}.atcb-date-btn-hover{position:absolute;top:0;left:0;width:100%;opacity:0;height:100%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1em;padding:.3em;box-sizing:border-box}.atcb-subevent-btn:hover .atcb-date-btn-details{opacity:0}.atcb-subevent-btn:hover .atcb-date-btn-hover{opacity:1}.atcb-date-btn-headline{font-weight:600;font-size:.9em;margin-bottom:.5em;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.atcb-date-btn-content{display:flex;align-items:flex-start;font-size:.8em;color:var(--date-btn-text-secondary)}.atcb-date-btn-content-location{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all}.atcb-date-btn-content-icon{display:inline-block;height:.8em;width:1.3em;flex:0 0 1.3em}.atcb-rtl .atcb-date-btn-content-icon{margin-right:0;margin-left:.5em}.atcb-initialized[lang=ja] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=ko] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=zh] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon{margin-top:.15em}.atcb-date-btn-content-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-date-btn-content+.atcb-date-btn-content{margin-top:.3em}.atcb-date-btn-content-text span:not(.atcb-icon-ical){padding-right:.3em;display:inline-block}.atcb-checkmark{display:none}.atcb-saved .atcb-checkmark{box-sizing:content-box;color:var(--btn-text);display:block;position:absolute;top:-.9em;right:-.3em;padding:.5em;background:var(--checkmark-background);border-radius:100%;height:1.5em}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay) .atcb-checkmark,.atcb-button:focus .atcb-checkmark,.atcb-button:hover .atcb-checkmark{top:-.77em;right:-.17em}.atcb-checkmark svg{height:100%;fill:currentcolor;width:auto}#atcb-bgoverlay{backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);background-color:var(--overlay-background);border:0;box-sizing:border-box;display:flex;height:calc(100vh + 100px);inset-inline:0;left:0;right:0;top:0;min-height:100%;min-width:100%;overflow-y:auto;padding:20px 20px 130px;position:fixed;width:100vw;z-index:14000000}#atcb-bgoverlay:not(dialog){animation:atcb-bgoverlay-animate .2s ease 0s 1 normal forwards;opacity:0}#atcb-bgoverlay.atcb-no-bg{animation:none;backdrop-filter:none;-webkit-backdrop-filter:none;opacity:1;background-color:transparent}@keyframes atcb-bgoverlay-animate{0%{opacity:0}100%{opacity:1}}#atcb-bgoverlay.atcb-click:hover{cursor:var(--overlay-cursor)}.atcb-icon .atcb-icon-apple svg{fill:currentcolor}.atcb-icon .atcb-icon-ical svg{fill:currentcolor}.atcb-icon .atcb-icon-ms365 svg{fill:var(--icon-ms365-color)}.atcb-icon .atcb-icon-yahoo svg{fill:var(--icon-yahoo-color)}.atcb-icon .atcb-icon-google svg,.atcb-icon .atcb-icon-msteams svg,.atcb-icon .atcb-icon-outlookcom svg{filter:var(--icon-filter)}",neumorphism:":host{width:fit-content;--base-font-size-l:16px;--base-font-size-m:16px;--base-font-size-s:16px;--font:arial,helvetica,sans-serif;--keyboard-focus:#1e90ff;--btn-background:#f5f5f5;--btn-background-hover:#fff;--btn-text:#444;--btn-text-hover:#111;--btn-shadow:rgba(40 40 40 / 30%) 0.3em 0.3em 0.6em,rgba(255 255 255 / 70%) -0.1em -0.1em 0.3em;--btn-shadow-hover:rgba(40 40 40 / 50%) 0.4em 0.4em 0.8em,rgba(255 255 255 / 90%) -0.2em -0.2em 0.5em;--btn-shadow-active:inset rgba(40 40 40 / 40%) 0.15em 0.15em 0.3em,inset rgba(255 255 255 / 90%) -0.2em -0.2em 0.5em;--list-background:#f5f5f5;--list-background-hover:#fff;--list-text:#444;--list-text-hover:#111;--list-close-background:#e5e5e5;--list-close-text:#777;--list-shadow:rgba(40 40 40 / 30%) 0.4em 0.4em 0.8em,rgba(255 255 255 / 80%) -0.2em -0.2em 0.5em;--modal-text:#111;--modal-background:#f5f5f5;--modal-btn-bar:#c6c8cd;--modal-btn-background:#f5f5f5;--modal-btn-secondary-background:#e2e1e6;--modal-btn-background-hover:#fff;--modal-btn-text:#2e2e2e;--modal-btn-text-hover:#222;--modal-btn-secondary-text:#666567;--modal-shadow:drop-shadow(5px 8px 30px rgba(0 0 0 / 70%));--modal-shadow-btn:rgba(40 40 40 / 15%) 0.2em 0.2em 0.4em,rgba(255 255 255 / 30%) -0.1em -0.1em 0.3em;--modal-shadow-btn-hover:rgba(40 40 40 / 40%) 0.4em 0.4em 0.7em,rgba(255 255 255 / 70%) -0.2em -0.2em 0.5em;--date-btn-text:#1d1d1e;--date-btn-text-secondary:#3a3a3f;--date-btn-cal-day-text:#fff;--date-btn-cal-month-text:#d3d2d7;--date-btn-cal-background:#313132;--date-btn-background:#e3e5ea;--date-btn-background-hover:#fff;--date-btn-shadow:rgba(40 40 40 / 40%) 0.2em 0.2em 0.8em,rgba(255 255 255 / 80%) -0.2em -0.2em 0.4em;--date-btn-shadow-hover:rgba(40 40 40 / 50%) 0.3em 0.4em 1em,rgba(255 255 255) -0.3em -0.3em 0.7em;--checkmark-background:radial-gradient(circle, #fff 0, rgba(255 255 255 / 80%) 40%, rgba(255 255 255 / 0%) 70%);--overlay-background:#dcdcdc;--overlay-cursor:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23777' width='16' height='16' viewBox='0 0 122.878 122.88'%3E%3Cpath d='M1.426 8.313a4.87 4.87 0 0 1 0-6.886 4.87 4.87 0 0 1 6.886 0l53.127 53.127 53.127-53.127a4.87 4.87 0 0 1 6.887 0 4.87 4.87 0 0 1 0 6.886L68.324 61.439l53.128 53.128a4.87 4.87 0 0 1-6.887 6.886L61.438 68.326 8.312 121.453a4.87 4.87 0 0 1-6.886 0 4.87 4.87 0 0 1 0-6.886l53.127-53.128L1.426 8.313h0z'/%3E%3C/svg%3E\") 16 16,crosshair;--icon-ms365-color:#ea3e23;--icon-yahoo-color:#5f01d1;--icon-filter:none}:host(.atcb-dark){--btn-background:#2e2e2e;--btn-background-hover:#373737;--btn-text:#dedede;--btn-text-hover:#f1f1f1;--btn-shadow:rgba(0 0 0 / 70%) 0.3em 0.3em 0.6em,rgba(230 230 230 / 30%) -0.05em -0.05em 0.4em;--btn-shadow-hover:rgba(0 0 0 / 80%) 0.4em 0.4em 0.9em,rgba(230 230 230 / 35%) -0.08em -0.08em 0.5em;--btn-shadow-active:inset rgba(0 0 0 / 80%) 0.15em 0.15em 0.25em,inset rgba(230 230 230 / 15%) -0.2em -0.2em 0.6em;--list-background:#2e2e2e;--list-background-hover:#373737;--list-text:#dedede;--list-text-hover:#f1f1f1;--list-close-background:#282828;--list-shadow:rgba(0 0 0) 0.3em 0.3em 1em,rgba(230 230 230 / 40%) -0.08em -0.08em 0.6em;--modal-text:#f1f1f1;--modal-background:#242424;--modal-btn-bar:#38383a;--modal-btn-background:#181819;--modal-btn-secondary-background:#2e2d30;--modal-btn-background-hover:#434246;--modal-btn-text:#dbdbdb;--modal-btn-text-hover:#fff;--modal-btn-secondary-text:#b8b8b8;--modal-shadow:drop-shadow(5px 8px 35px rgba(0 0 0 / 90%));--modal-shadow-btn:rgba(0 0 0 / 60%) 0.2em 0.2em 0.6em,rgba(230 230 230 / 15%) -0.1em -0.1em 0.4em;--modal-shadow-btn-hover:rgba(0 0 0 / 80%) 0.3em 0.3em 0.8em,rgba(230 230 230 / 15%) -0.1em -0.1em 0.6em;--date-btn-text:#ebebf0;--date-btn-text-secondary:#b5b5bd;--date-btn-cal-day-text:#101010;--date-btn-cal-month-text:#3e3e3f;--date-btn-cal-background:#c7c7cd;--date-btn-background:#363636;--date-btn-background-hover:#474747;--date-btn-shadow:rgba(0 0 0 / 70%) 0.2em 0.2em 0.8em,rgba(230 230 230 / 15%) -0.1em -0.1em 0.5em;--date-btn-shadow-hover:rgba(0 0 0) 0.3em 0.4em 1em,rgba(230 230 230 / 15%) -0.2em -0.2em 0.8em;--checkmark-background:radial-gradient(circle, rgba(0 0 0 / 50%) 0, rgba(0 0 0 / 30%) 40%, rgba(0 0 0 / 0%) 70%);--overlay-background:#141414;--icon-ms365-color:#ea3e23;--icon-yahoo-color:#bebebe;--icon-filter:grayscale(0.2)}.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-l)}@media (width <= 991px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-m)}}@media (width <= 575px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-s)}}.atcb-button-wrapper{display:block;padding:5px;position:relative}.atcb-button{align-items:center;background-color:var(--btn-background);border:0;border-radius:15px;box-shadow:var(--btn-shadow);color:var(--btn-text);cursor:pointer;display:flex;font-family:var(--font);font-size:1em;font-weight:600;justify-content:center;line-height:1.5em;margin:0;max-width:350px;min-width:10em;padding:1em 1.2em;position:relative;text-align:center;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;width:auto;transition:box-shadow .1s ease-in-out,background-color .1s ease-in-out;z-index:1}.atcb-button.atcb-no-text{min-width:0;border-radius:100%;display:flex;align-content:center;justify-content:center;align-items:center;height:3em;width:3em;padding:0}.atcb-button:disabled{min-width:0}.atcb-rtl .atcb-button{direction:rtl;text-align:right}.atcb-button:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-button:not([disabled]):focus,.atcb-button:not([disabled]):hover{background-color:var(--btn-background-hover);box-shadow:var(--btn-shadow-hover);color:var(--btn-text-hover)}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay){z-index:15000000}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay),.atcb-button.atcb-single:not([disabled]):focus,.atcb-button.atcb-single:not([disabled]):hover{background-color:var(--btn-background-hover);box-shadow:var(--btn-shadow-active);color:var(--btn-text-hover)}.atcb-button.atcb-active.atcb-dropoverlay{z-index:14000090}.atcb-icon{height:1em;margin-bottom:.3em;margin-right:.8em;flex-grow:0;flex-shrink:0}.atcb-rtl .atcb-icon{margin-right:0;margin-left:.8em}.atcb-no-text .atcb-icon{margin-right:0;margin-left:0}.atcb-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-text{overflow-wrap:anywhere}.atcb-button:disabled .atcb-text{letter-spacing:.1em}.atcb-dropdown-anchor{bottom:-30px;height:0;width:100%;opacity:0;position:absolute}.atcb-list-wrapper{box-sizing:border-box;position:absolute;min-width:12.5em;width:auto;animation:list-entrance .6s ease 0s 1 normal forwards;z-index:15000000}@keyframes list-entrance{0%{opacity:0}100%{opacity:1}}.atcb-list{border-radius:11px;box-sizing:border-box;box-shadow:var(--list-shadow);color:var(--list-text);display:block;font-family:var(--font);min-width:100%;position:relative;user-select:none;-webkit-user-select:none;width:fit-content}.atcb-list-item{box-shadow:none;align-items:center;background-color:var(--list-background);box-sizing:border-box;cursor:pointer;display:flex;font-size:1em;line-height:1.75em;padding:1em;text-align:left;touch-action:manipulation;-webkit-tap-highlight-color:transparent;transition:box-shadow .15s ease-in-out,padding .15s ease-in-out,margin .15s ease-in-out}.atcb-rtl .atcb-list-item{direction:rtl;text-align:right}.atcb-list-item:hover{box-shadow:var(--btn-shadow);background-color:var(--list-background-hover);color:var(--list-text-hover);padding:1.2em;margin:-.2em;position:relative;z-index:15000010}.atcb-list-item:focus-visible{box-shadow:var(--btn-shadow);background-color:var(--list-background-hover);color:var(--keyboard-focus);padding:1.2em;margin:-.2em;position:relative;z-index:15000010;font-weight:600;outline:0}.atcb-list-item:last-child{border-radius:0 0 11px 11px}.atcb-list-item:first-child{border-radius:11px 11px 0 0}.atcb-list-item:only-child{border-radius:11px}.atcb-list-item .atcb-icon{margin-bottom:.5em;margin-right:.6em;width:1.125em}.atcb-rtl .atcb-list-item .atcb-icon{margin-right:0;margin-left:.6em}.atcb-no-text .atcb-list-item .atcb-icon{margin:0 auto}.atcb-list-item-close{background-color:var(--list-close-background)}.atcb-list-item.atcb-list-item-close:not(:focus-visible){color:var(--list-close-text)}.atcb-list-item-close svg{fill:currentcolor}.atcb-modal{display:block;margin:auto;min-width:250px;width:auto;position:relative;z-index:14000090}.atcb-modal-box{animation:list-entrance .6s ease 0s 1 normal forwards;filter:var(--modal-shadow);color:var(--modal-text);cursor:default;box-sizing:border-box;font-family:var(--font);line-height:1.5em;text-align:left;user-select:none;-webkit-user-select:none;touch-action:manipulation;width:100%;margin-bottom:20px;max-width:32em;-webkit-tap-highlight-color:transparent}.atcb-modal-box.atcb-rtl{text-align:right;direction:rtl;padding:1.25em 1em 1.25em 2em}.atcb-modal-icon{height:2.5em;width:2.5em;border-radius:100%;background-color:var(--modal-background);padding:1.75em;margin:auto}.atcb-modal-icon svg{height:auto;fill:currentcolor;width:100%}.atcb-modal-headline{background-color:var(--modal-background);border-radius:9px 9px 0 0;font-size:1.3em;font-weight:600;line-height:1.5em;padding:1.8em 2em 1.3em;text-transform:uppercase;text-align:center}.atcb-modal-icon+.atcb-modal-headline{margin-top:-2.6em;padding-top:2.6em}.atcb-modal-content{background-color:var(--modal-background);font-size:1em;padding:.3em 2.5em 2.25em}.atcb-modal-icon+.atcb-modal-content{border-radius:6px 6px 0 0;margin-top:-2.6em;padding-top:2.6em}@media (width <= 575px){.atcb-modal-headline{padding:1.8em 1em 1em}.atcb-modal-content{padding:.3em 1.5em 1.5em}.atcb-modal-icon+.atcb-modal-content{padding-top:1.8em}}.atcb-modal-buttons{background-color:var(--modal-btn-bar);border-radius:0 0 9px 9px;box-sizing:border-box;padding:.8em 1em;text-align:center;width:100%;display:flex;justify-content:center;flex-flow:row-reverse wrap;align-items:center}a.atcb-modal-btn,button.atcb-modal-btn{background-color:var(--modal-btn-secondary-background);border:0;border-radius:13px;box-shadow:var(--modal-shadow-btn);color:var(--modal-btn-secondary-text);cursor:pointer;display:inline-block;font-family:var(--font);font-size:.9em;font-weight:600;line-height:1.5em;margin:.625em;padding:.625em 1.25em;position:relative;text-align:center;text-decoration:none;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;text-transform:uppercase}a.atcb-modal-btn.atcb-modal-btn-primary,button.atcb-modal-btn.atcb-modal-btn-primary{background-color:var(--modal-btn-background);color:var(--modal-btn-text)}a.atcb-modal-btn:hover,button.atcb-modal-btn:hover{background-color:var(--modal-btn-background-hover);box-shadow:var(--modal-shadow-btn-hover);color:var(--modal-btn-text-hover);text-decoration:none}a.atcb-modal-btn:focus-visible,button.atcb-modal-btn:focus-visible{background-color:var(--modal-btn-background-hover);outline:2px solid var(--keyboard-focus)}.atcb-subevent-btn{display:flex;align-items:flex-start;cursor:pointer;font-family:var(--font);font-size:1em;box-shadow:var(--date-btn-shadow);background-color:var(--date-btn-background);border:0;border-radius:6px;padding:0;margin:0;touch-action:manipulation;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent}.atcb-subevent-btn:hover{align-items:center}.atcb-subevent-btn:focus,.atcb-subevent-btn:hover{background-color:var(--date-btn-background-hover);box-shadow:var(--date-btn-shadow-hover)}.atcb-subevent-btn:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-subevent-btn+.atcb-subevent-btn{margin-top:30px}.atcb-date-btn-left{border-radius:4px 0 0 4px;align-self:stretch;background-color:var(--date-btn-cal-background);color:var(--date-btn-background-hover);padding:.7em .8em .8em;width:2.7em;align-items:center;display:flex;flex-direction:column}.atcb-rtl .atcb-date-btn-left{border-radius:0 4px 4px 0}.atcb-subevent-btn:hover .atcb-date-btn-left{opacity:.8}.atcb-date-btn-day{color:var(--date-btn-cal-day-text);font-weight:300;font-size:2em;word-break:keep-all;padding-bottom:.1em}.atcb-initialized[lang=ja] .atcb-date-btn-day,.atcb-initialized[lang=ko] .atcb-date-btn-day,.atcb-initialized[lang=zh] .atcb-date-btn-day{font-size:1.3em}.atcb-date-btn-month{color:var(--date-btn-cal-month-text);font-weight:600;font-size:1em}.atcb-date-btn-right{position:relative;color:var(--date-btn-text);min-width:12.5em;overflow-wrap:anywhere}.atcb-date-btn-details{opacity:1;padding:.7em .8em;text-align:left}.atcb-rtl .atcb-date-btn-details{text-align:right}.atcb-date-btn-hover{position:absolute;top:0;left:0;width:100%;opacity:0;height:100%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1em;padding:.3em;box-sizing:border-box}.atcb-subevent-btn:hover .atcb-date-btn-details{opacity:0}.atcb-subevent-btn:hover .atcb-date-btn-hover{opacity:1}.atcb-date-btn-headline{font-weight:600;font-size:.9em;margin-bottom:.5em;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.atcb-date-btn-content{display:flex;align-items:flex-start;font-size:.8em;color:var(--date-btn-text-secondary)}.atcb-date-btn-content-location{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all}.atcb-date-btn-content-icon{display:inline-block;height:.8em;width:1.3em;flex:0 0 1.3em}.atcb-rtl .atcb-date-btn-content-icon{margin-right:0;margin-left:.5em}.atcb-initialized[lang=ja] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=ko] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=zh] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon{margin-top:.15em}.atcb-date-btn-content-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-date-btn-content+.atcb-date-btn-content{margin-top:.3em}.atcb-date-btn-content-text span:not(.atcb-icon-ical){padding-right:.3em;display:inline-block}.atcb-checkmark{display:none}.atcb-saved .atcb-checkmark{box-sizing:content-box;color:var(--btn-text);display:block;position:absolute;top:-.9em;right:-.3em;padding:.5em;background:var(--checkmark-background);border-radius:100%;height:1.5em}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay) .atcb-checkmark,.atcb-button.atcb-single:focus .atcb-checkmark,.atcb-button.atcb-single:hover .atcb-checkmark{top:-.77em;right:-.17em}.atcb-checkmark svg{height:100%;fill:currentcolor;width:auto}#atcb-bgoverlay{background-color:var(--overlay-background);border:0;box-sizing:border-box;display:flex;height:calc(100vh + 100px);inset-inline:0;left:0;right:0;top:0;min-height:100%;min-width:100%;overflow-y:auto;padding:20px 20px 130px;position:fixed;width:100vw;z-index:14000000}#atcb-bgoverlay:not(dialog){animation:atcb-bgoverlay-animate .1s ease 0s 1 normal forwards;opacity:0}#atcb-bgoverlay.atcb-no-bg{animation:none;backdrop-filter:none;-webkit-backdrop-filter:none;opacity:1;background-color:transparent}@keyframes atcb-bgoverlay-animate{0%{opacity:0}100%{opacity:1}}#atcb-bgoverlay.atcb-click:hover{cursor:var(--overlay-cursor)}.atcb-icon .atcb-icon-apple svg{fill:currentcolor}.atcb-icon .atcb-icon-ical svg{fill:currentcolor}.atcb-icon .atcb-icon-ms365 svg{fill:var(--icon-ms365-color)}.atcb-icon .atcb-icon-yahoo svg{fill:var(--icon-yahoo-color)}.atcb-icon .atcb-icon-google svg,.atcb-icon .atcb-icon-msteams svg,.atcb-icon .atcb-icon-outlookcom svg{filter:var(--icon-filter)}",text:":host{width:fit-content;--base-font-size-l:16px;--base-font-size-m:16px;--base-font-size-s:16px;--font:arial,helvetica,sans-serif;--keyboard-focus:#1e90ff;--btn-underline:#a9ceff;--btn-border:#a8a8a8;--btn-background:#f5f5f5;--btn-background-hover:#fff;--btn-text:#333;--btn-text-hover:#000;--btn-text-shadow:#fff;--list-background:#f5f5f5;--list-background-hover:#fff;--list-text:#333;--list-text-hover:#000;--list-close-background:#e5e5e5;--list-close-text:#777;--list-shadow:rgba(0 0 0 / 20%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 2px 2px 10px -3px;--list-shadow-modal:rgba(0 0 0 / 60%) 3px 6px 40px -5px,rgba(0 0 0 / 60%) 3px 3px 15px -4px;--modal-text:#000;--modal-background:#f5f5f5;--modal-btn-bar:#c6c8cd;--modal-btn-background:#f5f5f5;--modal-btn-secondary-background:#e2e1e6;--modal-btn-background-hover:#fff;--modal-btn-text:#2e2e2e;--modal-btn-text-hover:#161616;--modal-btn-secondary-text:#666567;--modal-shadow:drop-shadow(5px 8px 30px rgba(0 0 0 / 70%));--modal-shadow-btn:rgba(0 0 0 / 10%) 2px 3px 10px -3px,rgba(0 0 0 / 25%) 1px 1px 8px -4px;--modal-shadow-btn-hover:rgba(0 0 0 / 35%) 3px 5px 15px -2px,rgba(0 0 0 / 20%) 2px 4px 25px -6px;--date-btn-text:#1d1d1e;--date-btn-text-secondary:#3a3a3f;--date-btn-cal-day-text:#fff;--date-btn-cal-month-text:#d3d2d7;--date-btn-cal-background:#313132;--date-btn-background:#eae9ed;--date-btn-background-hover:#fff;--date-btn-shadow:rgba(0 0 0 / 40%) 1px 3px 15px -4px,rgba(0 0 0 / 20%) 1px 1px 8px -4px;--date-btn-shadow-hover:rgba(0 0 0 / 40%) 4px 6px 18px -1px,rgba(0 0 0 / 35%) 4px 5px 25px -2px;--checkmark-background:radial-gradient(circle,rgba(255 255 255 / 80%)  0,rgba(255 255 255 / 60%) 40%,rgba(255 255 255 / 0%) 70%);--overlay-background:rgba(200 200 200 / 25%);--overlay-cursor:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23777' width='16' height='16' viewBox='0 0 122.878 122.88'%3E%3Cpath d='M1.426 8.313a4.87 4.87 0 0 1 0-6.886 4.87 4.87 0 0 1 6.886 0l53.127 53.127 53.127-53.127a4.87 4.87 0 0 1 6.887 0 4.87 4.87 0 0 1 0 6.886L68.324 61.439l53.128 53.128a4.87 4.87 0 0 1-6.887 6.886L61.438 68.326 8.312 121.453a4.87 4.87 0 0 1-6.886 0 4.87 4.87 0 0 1 0-6.886l53.127-53.128L1.426 8.313h0z'/%3E%3C/svg%3E\") 16 16,crosshair;--icon-ms365-color:#ea3e23;--icon-yahoo-color:#5f01d1;--icon-filter:none}:host(.atcb-dark){--btn-underline:#336db9;--btn-border:#888;--btn-background:#2e2e2e;--btn-background-hover:#373737;--btn-text:#dedede;--btn-text-hover:#fff;--btn-text-shadow:#000;--list-background:#2e2e2e;--list-background-hover:#373737;--list-text:#dedede;--list-text-hover:#fff;--list-close-background:#282828;--list-shadow:rgba(255 255 255 / 5%) -12px -5px 20px -8px,rgba(255 255 255 / 6%) -7px -5px 15px -3px,rgba(0 0 0 / 50%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 3px 3px 20px -3px;--list-shadow-modal:rgba(255 255 255 / 8%) -12px -5px 30px -8px,rgba(255 255 255 / 8%) -7px -5px 15px -3px,rgba(0 0 0 / 60%) 4px 6px 50px -4px,rgba(0 0 0 / 90%) 8px 12px 40px -2px;--modal-text:#f1f1f1;--modal-background:#242424;--modal-btn-bar:#38383a;--modal-btn-background:#181819;--modal-btn-secondary-background:#2e2d30;--modal-btn-background-hover:#434246;--modal-btn-text:#dbdbdb;--modal-btn-text-hover:#fff;--modal-btn-secondary-text:#b8b8b8;--modal-shadow:drop-shadow(5px 8px 30px rgba(0 0 0 / 90%));--modal-shadow-btn:rgba(255 255 255 / 5%) -2px -2px 10px,rgba(0 0 0 / 30%) 1px 2px 8px -1px;--date-btn-text:#ebebf0;--date-btn-text-secondary:#b5b5bd;--date-btn-cal-day-text:#101010;--date-btn-cal-month-text:#3e3e3f;--date-btn-cal-background:#c7c7cd;--date-btn-background:#363636;--date-btn-background-hover:#474747;--date-btn-shadow:rgba(255 255 255 / 10%) -8px -6px 20px,rgba(0 0 0 / 50%) 1px 3px 25px -8px,rgba(0 0 0 / 50%) 1px 1px 10px -3px;--checkmark-background:radial-gradient(circle,rgba(0 0 0 / 40%) 0,rgba(0 0 0 / 20%) 40%,rgba(0 0 0 / 0%) 70%);--overlay-background:rgba(20 20 20 / 60%);--icon-ms365-color:#ea3e23;--icon-yahoo-color:#bebebe;--icon-filter:grayscale(0.2)}.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-l)}@media (width <= 991px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-m)}}@media (width <= 575px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-s)}}.atcb-button-wrapper{display:block;padding:5px;position:relative}.atcb-button{background-image:linear-gradient(120deg,var(--btn-underline) 0,var(--btn-underline) 100%);background-repeat:no-repeat;background-size:100% 10%;background-position:0 100%;background-color:transparent;border:0;border-radius:0;transition:background-size .1s ease-in,border-radius .2s ease-in;align-items:center;color:var(--btn-text);cursor:pointer;display:flex;font-family:var(--font);font-size:1em;font-weight:600;justify-content:center;line-height:1.2em;margin:0 .2em;padding:.75em;position:relative;text-align:left;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;width:auto;z-index:1}.atcb-button.atcb-no-text,.atcb-button:disabled{min-width:0}.atcb-rtl .atcb-button{direction:rtl;text-align:right}.atcb-button:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-button:not([disabled]):focus,.atcb-button:not([disabled]):hover{background-size:100% 100%;color:var(--btn-text-hover);text-shadow:0 0 .7em var(--btn-text-shadow);border-radius:21px}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay){z-index:15000000}.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay),.atcb-button.atcb-single:not([disabled]):focus,.atcb-button.atcb-single:not([disabled]):hover{background-size:100% 10%;border-radius:3px 3px 11px 11px;background-position:0 0;background-color:var(--btn-background);color:var(--btn-text);text-shadow:none}.atcb-button.atcb-active.atcb-dropup{background-position:0 100%;border-radius:11px 11px 3px 3px}.atcb-button.atcb-dropup::after,.atcb-button:not(.atcb-modal-style,.atcb-dropoverlay,.atcb-dropup)::before{content:\"\";width:0;height:0;position:absolute;left:0;right:0;margin:0 auto;transition:border-width .1s linear .1s}.atcb-button:not(.atcb-modal-style,.atcb-dropoverlay,.atcb-dropup)::before{top:100%;border:0 solid transparent;border-bottom:none;border-top-color:var(--btn-background)}.atcb-button.atcb-dropup::after{bottom:100%;border:0 solid transparent;border-top:none;border-bottom-color:var(--btn-background)}.atcb-button.atcb-active.atcb-dropup::after,.atcb-button.atcb-active:not(.atcb-modal-style,.atcb-dropoverlay,.atcb-dropup)::before{border-width:.35em}.atcb-button.atcb-active.atcb-dropoverlay{z-index:14000090}.atcb-icon{height:1em;margin-right:1em;line-height:1em;flex-grow:0;flex-shrink:0}.atcb-rtl .atcb-icon{margin-right:0;margin-left:1em}.atcb-no-text .atcb-icon{margin-right:0;margin-left:0}.atcb-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-icon-trigger svg{display:none}.atcb-button .atcb-icon-trigger::after{content:\"+\";font-size:1.5em}.atcb-text{overflow-wrap:anywhere}.atcb-button:disabled .atcb-text{letter-spacing:.1em}.atcb-dropdown-anchor{bottom:-15px;height:0;width:100%;opacity:0;position:absolute}.atcb-list-wrapper{box-sizing:border-box;position:absolute;z-index:14000090;min-width:12.5em;width:auto}.atcb-list-wrapper:not(.atcb-dropup,.atcb-dropoverlay){animation:list-entrance-bottom .2s ease 0s 1 normal forwards}.atcb-list-wrapper.atcb-dropup{animation:list-entrance-top .2s ease 0s 1 normal forwards}.atcb-list-wrapper.atcb-dropoverlay{animation:list-entrance-center .2s ease 0s 1 normal forwards;z-index:15000000}@keyframes list-entrance-bottom{0%{opacity:0;transform:translateY(250px)}100%{opacity:1;transform:translateY(0)}}@keyframes list-entrance-top{0%{opacity:0;transform:translateY(-250px)}100%{opacity:1;transform:translateY(0)}}@keyframes list-entrance-center{0%{opacity:0;transform:scaleY(1)}1%{opacity:1;transform:scaleY(0)}100%{opacity:1;transform:scaleY(1)}}.atcb-list{border-radius:11px;box-sizing:border-box;box-shadow:var(--list-shadow);color:var(--list-text);display:block;font-family:var(--font);min-width:100%;position:relative;user-select:none;-webkit-user-select:none;width:fit-content}.atcb-list-item{align-items:center;background-color:var(--list-background);box-sizing:border-box;cursor:pointer;display:flex;font-size:1em;line-height:1.75em;padding:.8em 1em;text-align:left;touch-action:manipulation;-webkit-tap-highlight-color:transparent}.atcb-rtl .atcb-list-item{direction:rtl;text-align:right}.atcb-list-item:hover{background-color:var(--list-background-hover);color:var(--list-text-hover)}.atcb-list-item:focus-visible{background-color:var(--list-background-hover);color:var(--keyboard-focus);font-weight:600;outline:0}.atcb-list-item:last-child{border-radius:0 0 11px 11px}.atcb-list-item:first-child{border-radius:11px 11px 0 0}.atcb-list-item:only-child{border-radius:11px}.atcb-list.atcb-modal{box-shadow:var(--list-shadow-modal)}.atcb-list-item .atcb-icon{margin-bottom:.1em;margin-right:.7em;width:1.125em}.atcb-rtl .atcb-list-item .atcb-icon{margin-right:0;margin-left:.7em}.atcb-no-text .atcb-list-item .atcb-icon{margin:0 auto}.atcb-list-item-close{background-color:var(--list-close-background)}.atcb-list-item.atcb-list-item-close:not(:focus-visible){color:var(--list-close-text)}.atcb-list-item-close svg{fill:currentcolor}.atcb-modal{display:block;margin:auto;min-width:250px;width:auto;position:relative;z-index:14000090}.atcb-modal-box{filter:var(--modal-shadow);color:var(--modal-text);cursor:default;box-sizing:border-box;font-family:var(--font);line-height:1.5em;text-align:left;user-select:none;-webkit-user-select:none;touch-action:manipulation;width:100%;margin-bottom:20px;max-width:32em;-webkit-tap-highlight-color:transparent}.atcb-modal-box.atcb-rtl{text-align:right;direction:rtl;padding:1.25em 1em 1.25em 2em}.atcb-modal-icon{height:2.5em;width:2.5em;border-radius:100%;background-color:var(--modal-background);padding:1.75em;margin:auto}.atcb-modal-icon svg{height:auto;fill:currentcolor;width:100%}.atcb-modal-headline{background-color:var(--modal-background);border-radius:9px 9px 0 0;font-size:1.3em;font-weight:600;line-height:1.5em;padding:1.8em 2em 1.3em;text-transform:uppercase;text-align:center}.atcb-modal-icon+.atcb-modal-headline{margin-top:-2.6em;padding-top:2.6em}.atcb-modal-content{background-color:var(--modal-background);font-size:1em;padding:.3em 2.5em 2.25em}.atcb-modal-icon+.atcb-modal-content{border-radius:9px 9px 0 0;margin-top:-2.6em;padding-top:2.6em}@media (width <= 575px){.atcb-modal-headline{padding:1.8em 1em 1em}.atcb-modal-content{padding:.3em 1.5em 1.5em}.atcb-modal-icon+.atcb-modal-content{padding-top:1.8em}}.atcb-modal-buttons{background-color:var(--modal-btn-bar);border-radius:0 0 9px 9px;box-sizing:border-box;padding:.8em 1em;text-align:center;width:100%;display:flex;justify-content:center;flex-flow:row-reverse wrap;align-items:center}a.atcb-modal-btn,button.atcb-modal-btn{background-color:var(--modal-btn-secondary-background);border:0;border-radius:21px;box-shadow:var(--modal-shadow-btn);color:var(--modal-btn-secondary-text);cursor:pointer;display:inline-block;font-family:var(--font);font-size:.9em;font-weight:600;line-height:1.5em;margin:.625em;padding:.625em 1.25em;position:relative;text-align:center;text-decoration:none;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;text-transform:uppercase}a.atcb-modal-btn.atcb-modal-btn-primary,button.atcb-modal-btn.atcb-modal-btn-primary{background-color:var(--modal-btn-background);color:var(--modal-btn-text)}a.atcb-modal-btn:hover,button.atcb-modal-btn:hover{background-color:var(--modal-btn-background-hover);box-shadow:var(--modal-shadow-btn-hover);color:var(--modal-btn-text-hover);text-decoration:none}a.atcb-modal-btn:focus-visible,button.atcb-modal-btn:focus-visible{background-color:var(--modal-btn-background-hover);outline:2px solid var(--keyboard-focus)}.atcb-subevent-btn{display:flex;align-items:flex-start;cursor:pointer;font-family:var(--font);font-size:1em;box-shadow:var(--date-btn-shadow);background-color:var(--date-btn-background);border:0;border-radius:6px;padding:0;margin:0;touch-action:manipulation;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent}.atcb-subevent-btn:hover{align-items:center}.atcb-subevent-btn:focus,.atcb-subevent-btn:hover{background-color:var(--date-btn-background-hover);box-shadow:var(--date-btn-shadow-hover)}.atcb-subevent-btn:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-subevent-btn+.atcb-subevent-btn{margin-top:30px}.atcb-date-btn-left{border-radius:4px 0 0 4px;align-self:stretch;background-color:var(--date-btn-cal-background);color:var(--date-btn-background-hover);padding:.7em .8em .8em;width:2.7em;align-items:center;display:flex;flex-direction:column}.atcb-rtl .atcb-date-btn-left{border-radius:0 4px 4px 0}.atcb-subevent-btn:hover .atcb-date-btn-left{opacity:.8}.atcb-date-btn-day{color:var(--date-btn-cal-day-text);font-weight:300;font-size:2em;word-break:keep-all;padding-bottom:.1em}.atcb-initialized[lang=ja] .atcb-date-btn-day,.atcb-initialized[lang=ko] .atcb-date-btn-day,.atcb-initialized[lang=zh] .atcb-date-btn-day{font-size:1.3em}.atcb-date-btn-month{color:var(--date-btn-cal-month-text);font-weight:600;font-size:1em}.atcb-date-btn-right{position:relative;color:var(--date-btn-text);min-width:12.5em;overflow-wrap:anywhere}.atcb-date-btn-details{opacity:1;padding:.7em .8em;text-align:left}.atcb-rtl .atcb-date-btn-details{text-align:right}.atcb-date-btn-hover{position:absolute;top:0;left:0;width:100%;opacity:0;height:100%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1em;padding:.3em;box-sizing:border-box}.atcb-subevent-btn:hover .atcb-date-btn-details{opacity:0}.atcb-subevent-btn:hover .atcb-date-btn-hover{opacity:1}.atcb-date-btn-headline{font-weight:600;font-size:.9em;margin-bottom:.5em;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.atcb-date-btn-content{display:flex;align-items:flex-start;font-size:.8em;color:var(--date-btn-text-secondary)}.atcb-date-btn-content-location{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all}.atcb-date-btn-content-icon{display:inline-block;height:.8em;width:1.3em;flex:0 0 1.3em}.atcb-rtl .atcb-date-btn-content-icon{margin-right:0;margin-left:.5em}.atcb-initialized[lang=ja] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=ko] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=zh] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon{margin-top:.15em}.atcb-date-btn-content-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-date-btn-content+.atcb-date-btn-content{margin-top:.3em}.atcb-date-btn-content-text span:not(.atcb-icon-ical){padding-right:.3em;display:inline-block}.atcb-checkmark{display:none}.atcb-saved .atcb-checkmark{box-sizing:content-box;color:var(--btn-text);display:block;position:absolute;top:-.9em;right:-.3em;padding:.5em;background:var(--checkmark-background);border-radius:100%;height:1.5em}.atcb-checkmark svg{height:100%;fill:currentcolor;width:auto}#atcb-bgoverlay{backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);background-color:var(--overlay-background);border:0;box-sizing:border-box;display:flex;height:calc(100vh + 100px);inset-inline:0;left:0;right:0;top:0;min-height:100%;min-width:100%;overflow-y:auto;padding:20px 20px 130px;position:fixed;width:100vw;z-index:14000000}#atcb-bgoverlay:not(dialog){animation:atcb-bgoverlay-animate .2s ease 0s 1 normal forwards;opacity:0}#atcb-bgoverlay.atcb-no-bg{animation:none;backdrop-filter:none;-webkit-backdrop-filter:none;opacity:1;background-color:transparent}@keyframes atcb-bgoverlay-animate{0%{opacity:0}100%{opacity:1}}#atcb-bgoverlay.atcb-click:hover{cursor:var(--overlay-cursor)}.atcb-icon .atcb-icon-apple svg{fill:var(--btn-text)}.atcb-icon .atcb-icon-ical svg{fill:var(--btn-text)}.atcb-icon .atcb-icon-ms365 svg{fill:var(--icon-ms365-color)}.atcb-icon .atcb-icon-yahoo svg{fill:var(--icon-yahoo-color)}.atcb-icon .atcb-icon-google svg,.atcb-icon .atcb-icon-msteams svg,.atcb-icon .atcb-icon-outlookcom svg{filter:var(--icon-filter)}",date:":host{width:fit-content;--base-font-size-l:16px;--base-font-size-m:16px;--base-font-size-s:16px;--font:arial,helvetica,sans-serif;--keyboard-focus:#1e90ff;--btn-background:#f5f5f5;--btn-background-hover:#fff;--btn-border:#d2d2d2;--btn-text:#333;--btn-text-hover:#000;--btn-shadow:rgba(0 0 0 / 20%) 2px 5px 18px -1px,rgba(0 0 0 / 15%) 2px 2px 10px -3px;--btn-shadow-hover:rgba(0 0 0 / 30%) 2px 5px 18px -1px,rgba(0 0 0 / 25%) 2px 2px 10px -3px;--list-background:#f5f5f5;--list-background-hover:#fff;--list-text:#333;--list-text-hover:#000;--list-close-background:#e5e5e5;--list-close-text:#777;--list-shadow:rgba(0 0 0 / 20%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 2px 2px 10px -3px;--list-shadow-modal:rgba(0 0 0 / 60%) 3px 6px 40px -5px,rgba(0 0 0 / 60%) 3px 3px 15px -4px;--modal-text:#000;--modal-background:#f5f5f5;--modal-btn-bar:#c6c8cd;--modal-btn-background:#f5f5f5;--modal-btn-secondary-background:#e2e1e6;--modal-btn-background-hover:#fff;--modal-btn-text:#2e2e2e;--modal-btn-text-hover:#161616;--modal-btn-secondary-text:#666567;--modal-shadow:drop-shadow(5px 8px 30px rgba(0 0 0 / 70%));--modal-shadow-btn:rgba(0 0 0 / 10%) 2px 3px 10px -3px,rgba(0 0 0 / 25%) 1px 1px 8px -4px;--modal-shadow-btn-hover:rgba(0 0 0 / 35%) 3px 5px 15px -2px,rgba(0 0 0 / 20%) 2px 4px 25px -6px;--date-btn-text:#1d1d1e;--date-btn-text-secondary:#3a3a3f;--date-btn-cal-day-text:#fff;--date-btn-cal-month-text:#d3d2d7;--date-btn-cal-background:#313132;--date-btn-background:#eae9ed;--date-btn-background-hover:#fff;--date-btn-shadow:rgba(0 0 0 / 40%) 1px 3px 15px -4px,rgba(0 0 0 / 20%) 1px 1px 8px -4px;--date-btn-shadow-hover:rgba(0 0 0 / 40%) 4px 6px 18px -1px,rgba(0 0 0 / 35%) 4px 5px 25px -2px;--checkmark-background:radial-gradient(circle,#fff 0,rgba(255 255 255 / 80%) 40%,rgba(255 255 255 / 0%) 70%);--overlay-background:rgba(20 20 20 / 25%);--overlay-cursor:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23777' width='16' height='16' viewBox='0 0 122.878 122.88'%3E%3Cpath d='M1.426 8.313a4.87 4.87 0 0 1 0-6.886 4.87 4.87 0 0 1 6.886 0l53.127 53.127 53.127-53.127a4.87 4.87 0 0 1 6.887 0 4.87 4.87 0 0 1 0 6.886L68.324 61.439l53.128 53.128a4.87 4.87 0 0 1-6.887 6.886L61.438 68.326 8.312 121.453a4.87 4.87 0 0 1-6.886 0 4.87 4.87 0 0 1 0-6.886l53.127-53.128L1.426 8.313h0z'/%3E%3C/svg%3E\") 16 16,crosshair;--icon-ms365-color:#ea3e23;--icon-yahoo-color:#5f01d1;--icon-filter:none}:host(.atcb-dark){--btn-background:#2e2e2e;--btn-background-hover:#474747;--btn-border:#4d4d4d;--btn-text:#dedede;--btn-text-hover:#f1f1f1;--btn-shadow:rgba(255 255 255 / 5%) -12px -5px 20px -8px,rgba(255 255 255 / 6%) -7px -5px 15px -3px,rgba(0 0 0 / 50%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 3px 3px 20px -3px;--btn-shadow-hover:rgba(255 255 255 / 6%) -12px -5px 23px -8px,rgba(255 255 255 / 7%) -7px -5px 18px -3px,rgba(0 0 0 / 60%) 2px 5px 19px -1px,rgba(0 0 0 / 50%) 3px 3px 22px -3px;--list-background:#2e2e2e;--list-background-hover:#474747;--list-text:#dedede;--list-text-hover:#f1f1f1;--list-close-background:#282828;--list-shadow:rgba(255 255 255 / 5%) -12px -5px 20px -8px,rgba(255 255 255 / 6%) -7px -5px 15px -3px,rgba(0 0 0 / 50%) 2px 5px 18px -1px,rgba(0 0 0 / 40%) 3px 3px 20px -3px;--list-shadow-modal:rgba(255 255 255 / 8%) -12px -5px 30px -8px,rgba(255 255 255 / 8%) -7px -5px 15px -3px,rgba(0 0 0 / 60%) 4px 6px 50px -4px,rgba(0 0 0 / 90%) 8px 12px 40px -2px;--modal-text:#f1f1f1;--modal-background:#242424;--modal-btn-bar:#38383a;--modal-btn-background:#181819;--modal-btn-secondary-background:#2e2d30;--modal-btn-background-hover:#434246;--modal-btn-text:#dbdbdb;--modal-btn-text-hover:#fff;--modal-btn-secondary-text:#b8b8b8;--modal-shadow:drop-shadow(5px 8px 30px rgba(0 0 0 / 90%));--modal-shadow-btn:rgba(255 255 255 / 5%) -2px -2px 10px,rgba(0 0 0 / 30%) 1px 2px 8px -1px;--date-btn-text:#ebebf0;--date-btn-text-secondary:#b5b5bd;--date-btn-cal-day-text:#101010;--date-btn-cal-month-text:#3e3e3f;--date-btn-cal-background:#c7c7cd;--date-btn-background:#363636;--date-btn-background-hover:#474747;--date-btn-shadow:rgba(255 255 255 / 10%) -8px -6px 20px,rgba(0 0 0 / 50%) 1px 3px 25px -8px,rgba(0 0 0 / 50%) 1px 1px 10px -3px;--checkmark-background:radial-gradient(circle,rgba(0 0 0 / 50%) 0,rgba(0 0 0 / 30%) 40%,rgba(0 0 0 / 0%) 70%);--overlay-background:rgba(20 20 20 / 60%);--icon-ms365-color:#ea3e23;--icon-yahoo-color:#bebebe;--icon-filter:grayscale(.2)}.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-l)}@media (width <= 991px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-m)}}@media (width <= 575px){.atcb-button-wrapper,.atcb-list,.atcb-modal-box{font-size:var(--base-font-size-s)}}.atcb-button-wrapper{display:block;padding:5px;position:relative}.atcb-button,.atcb-subevent-btn{display:flex;align-items:flex-start;cursor:pointer;font-family:var(--font);font-size:1em;box-shadow:var(--date-btn-shadow);background-color:var(--date-btn-background);border:0;border-radius:6px;padding:0;margin:0;touch-action:manipulation;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent}.atcb-button{box-shadow:var(--btn-shadow);min-width:17.5em;max-width:16em;position:relative;z-index:1}.atcb-rtl .atcb-button{direction:rtl;text-align:right}.atcb-button:hover,.atcb-subevent-btn:hover{align-items:center}.atcb-subevent-btn:focus,.atcb-subevent-btn:hover{background-color:var(--date-btn-background-hover);box-shadow:var(--date-btn-shadow-hover)}.atcb-button:focus,.atcb-button:hover{background-color:var(--btn-background-hover);box-shadow:var(--btn-shadow-hover)}.atcb-button:focus-visible,.atcb-subevent-btn:focus-visible{outline:2px solid var(--keyboard-focus)}.atcb-button.atcb-active.atcb-dropoverlay{z-index:14000090}.atcb-subevent-btn+.atcb-subevent-btn{margin-top:30px}.atcb-date-btn-left{border-radius:4px 0 0 4px;align-self:stretch;background-color:var(--date-btn-cal-background);color:var(--date-btn-background-hover);padding:.7em .8em .8em;width:2.7em;align-items:center;display:flex;flex-direction:column}.atcb-rtl .atcb-date-btn-left{border-radius:0 4px 4px 0}.atcb-button:hover .atcb-date-btn-left,.atcb-subevent-btn:hover .atcb-date-btn-left{opacity:.8}.atcb-date-btn-day{color:var(--date-btn-cal-day-text);font-weight:300;font-size:2em;word-break:keep-all;padding-bottom:.1em}.atcb-initialized[lang=ja] .atcb-date-btn-day,.atcb-initialized[lang=ko] .atcb-date-btn-day,.atcb-initialized[lang=zh] .atcb-date-btn-day{font-size:1.3em}.atcb-date-btn-month{color:var(--date-btn-cal-month-text);font-weight:600;font-size:1em}.atcb-date-btn-right{position:relative;color:var(--date-btn-text);min-width:12.5em;overflow-wrap:anywhere}.atcb-date-btn-details{opacity:1;padding:.7em .8em;text-align:left}.atcb-rtl .atcb-date-btn-details{text-align:right}.atcb-date-btn-hover{position:absolute;top:0;left:0;width:100%;opacity:0;height:100%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1em;padding:.3em;box-sizing:border-box}.atcb-button:disabled .atcb-date-btn-hover{letter-spacing:.1em}.atcb-button:hover .atcb-date-btn-details,.atcb-subevent-btn:hover .atcb-date-btn-details{opacity:0}.atcb-button:hover .atcb-date-btn-hover,.atcb-subevent-btn:hover .atcb-date-btn-hover{opacity:1}.atcb-date-btn-headline{font-weight:600;font-size:.9em;margin-bottom:.5em;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.atcb-date-btn-content{display:flex;align-items:flex-start;font-size:.8em;color:var(--date-btn-text-secondary)}.atcb-date-btn-content-location{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all}.atcb-date-btn-content-icon{display:inline-block;height:.8em;width:1.3em;flex:0 0 1.3em}.atcb-rtl .atcb-date-btn-content-icon{margin-right:0;margin-left:.5em}.atcb-initialized[lang=ja] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=ko] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon,.atcb-initialized[lang=zh] .atcb-date-btn-content:not(.atcb-date-btn-content-location) .atcb-date-btn-content-icon{margin-top:.15em}.atcb-date-btn-content-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-date-btn-content+.atcb-date-btn-content{margin-top:.3em}.atcb-date-btn-content-text span:not(.atcb-icon-ical){padding-right:.3em;display:inline-block}.atcb-icon{height:1em;margin-bottom:.3em;margin-right:.8em;flex-grow:0;flex-shrink:0}.atcb-rtl .atcb-icon{margin-right:0;margin-left:.8em}.atcb-icon svg{height:100%;fill:currentcolor;width:auto}.atcb-text{overflow-wrap:anywhere}.atcb-dropdown-anchor{bottom:4px;height:1px;width:100%;opacity:0;position:absolute}.atcb-list-wrapper{box-sizing:border-box;padding:0 4px;position:absolute;z-index:14000090}.atcb-list-wrapper.atcb-dropoverlay{z-index:15000000}.atcb-list{border-radius:0 0 6px 6px;box-sizing:border-box;box-shadow:var(--list-shadow);color:var(--list-text);display:block;font-family:var(--font);min-width:100%;position:relative;user-select:none;-webkit-user-select:none;width:fit-content}.atcb-list-item{align-items:center;background-color:var(--list-background);box-sizing:border-box;cursor:pointer;display:flex;font-size:1em;line-height:1.75em;padding:.8em;text-align:left;touch-action:manipulation;-webkit-tap-highlight-color:transparent}.atcb-rtl .atcb-list-item{direction:rtl;text-align:right}.atcb-list-item:hover{background-color:var(--list-background-hover);color:var(--list-text-hover)}.atcb-list-item:focus-visible{background-color:var(--list-background-hover);color:var(--keyboard-focus);font-weight:600;outline:0}.atcb-list-item:last-child{border-radius:0 0 6px 6px}.atcb-dropup .atcb-list-item:last-child{border-radius:0;padding-bottom:1.25em}.atcb-dropoverlay .atcb-list .atcb-list-item:first-child,.atcb-dropup .atcb-list-item:first-child,.atcb-list.atcb-modal .atcb-list-item:first-child{border-radius:6px 6px 0 0}.atcb-dropoverlay .atcb-list .atcb-list-item:only-child,.atcb-list.atcb-modal .atcb-list-item:only-child{border-radius:6px}.atcb-list.atcb-generated-button:not(.atcb-modal) .atcb-list-item:first-child{padding-top:1.25em}.atcb-dropoverlay .atcb-list.atcb-generated-button:not(.atcb-modal) .atcb-list-item:first-child,.atcb-dropup .atcb-list.atcb-generated-button:not(.atcb-modal) .atcb-list-item:first-child{padding-top:.8em}.atcb-dropoverlay .atcb-list,.atcb-list.atcb-modal{border-radius:6px}.atcb-list.atcb-modal{box-shadow:var(--list-shadow-modal)}.atcb-list-item .atcb-icon{margin-bottom:.5em;margin-right:.6em;width:1.125em}.atcb-rtl .atcb-list-item .atcb-icon{margin-right:0;margin-left:.6em}.atcb-no-text .atcb-list-item .atcb-icon{margin:0 auto}.atcb-list-item-close{background-color:var(--list-close-background)}.atcb-list-item.atcb-list-item-close:not(:focus-visible){color:var(--list-close-text)}.atcb-list-item-close svg{fill:currentcolor}.atcb-modal{display:block;margin:auto;min-width:250px;width:auto;position:relative;z-index:14000090}.atcb-modal-box{filter:var(--modal-shadow);color:var(--modal-text);cursor:default;box-sizing:border-box;font-family:var(--font);line-height:1.5em;text-align:left;user-select:none;-webkit-user-select:none;touch-action:manipulation;width:100%;margin-bottom:20px;max-width:32em;-webkit-tap-highlight-color:transparent}.atcb-modal-box.atcb-rtl{text-align:right;direction:rtl;padding:1.25em 1em 1.25em 2em}.atcb-modal-icon{height:2.5em;width:2.5em;border-radius:100%;background-color:var(--modal-background);padding:1.75em;margin:auto}.atcb-modal-icon svg{height:auto;fill:currentcolor;width:100%}.atcb-modal-headline{background-color:var(--modal-background);border-radius:6px 6px 0 0;font-size:1.3em;font-weight:600;line-height:1.5em;padding:1.8em 2em 1.3em;text-transform:uppercase;text-align:center}.atcb-modal-icon+.atcb-modal-headline{margin-top:-2.6em;padding-top:2.6em}.atcb-modal-content{background-color:var(--modal-background);font-size:1em;padding:.3em 2.5em 2.25em}.atcb-modal-icon+.atcb-modal-content{border-radius:6px 6px 0 0;margin-top:-2.6em;padding-top:2.6em}@media (width <= 575px){.atcb-modal-headline{padding:1.8em 1em 1em}.atcb-modal-content{padding:.3em 1.5em 1.5em}.atcb-modal-icon+.atcb-modal-content{padding-top:1.8em}}.atcb-modal-buttons{background-color:var(--modal-btn-bar);border-radius:0 0 6px 6px;box-sizing:border-box;padding:.8em 1em;text-align:center;width:100%;display:flex;justify-content:center;flex-flow:row-reverse wrap;align-items:center}a.atcb-modal-btn,button.atcb-modal-btn{background-color:var(--modal-btn-secondary-background);border:0;border-radius:6px;box-shadow:var(--modal-shadow-btn);color:var(--modal-btn-secondary-text);cursor:pointer;display:inline-block;font-family:var(--font);font-size:.9em;font-weight:600;line-height:1.5em;margin:.625em;padding:.625em 1.25em;position:relative;text-align:center;text-decoration:none;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;text-transform:uppercase}a.atcb-modal-btn.atcb-modal-btn-primary,button.atcb-modal-btn.atcb-modal-btn-primary{background-color:var(--modal-btn-background);color:var(--modal-btn-text)}a.atcb-modal-btn:hover,button.atcb-modal-btn:hover{background-color:var(--modal-btn-background-hover);box-shadow:var(--modal-shadow-btn-hover);color:var(--modal-btn-text-hover);text-decoration:none}a.atcb-modal-btn:focus-visible,button.atcb-modal-btn:focus-visible{background-color:var(--modal-btn-background-hover);outline:2px solid var(--keyboard-focus)}.atcb-checkmark{display:none}.atcb-saved .atcb-checkmark{box-sizing:content-box;color:var(--btn-text);display:block;position:absolute;top:-.9em;right:-.3em;padding:.5em;background:var(--checkmark-background);border-radius:100%;height:1.5em}.atcb-checkmark svg{height:100%;fill:currentcolor;width:auto}#atcb-bgoverlay{backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);background-color:var(--overlay-background);border:0;box-sizing:border-box;display:flex;height:calc(100vh + 100px);inset-inline:0;left:0;right:0;top:0;min-height:100%;min-width:100%;overflow-y:auto;padding:20px 20px 130px;position:fixed;width:100vw;z-index:14000000}#atcb-bgoverlay:not(dialog){animation:atcb-bgoverlay-animate .2s ease 0s 1 normal forwards;opacity:0}#atcb-bgoverlay.atcb-no-bg{animation:none;backdrop-filter:none;-webkit-backdrop-filter:none;opacity:1;background-color:transparent}@keyframes atcb-bgoverlay-animate{0%{opacity:0}100%{opacity:1}}#atcb-bgoverlay.atcb-click:hover{cursor:var(--overlay-cursor)}.atcb-icon .atcb-icon-apple svg{fill:currentcolor}.atcb-icon .atcb-icon-ical svg{fill:currentcolor}.atcb-icon .atcb-icon-ms365 svg{fill:var(--icon-ms365-color)}.atcb-icon .atcb-icon-yahoo svg{fill:var(--icon-yahoo-color)}.atcb-icon .atcb-icon-google svg,.atcb-icon .atcb-icon-msteams svg,.atcb-icon .atcb-icon-outlookcom svg{filter:var(--icon-filter)}"},A=()=>!(typeof window>"u"),H=A()?()=>!!(/iPad|iPhone|iPod/i.test(navigator.userAgent||navigator.vendor||window.opera)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1):()=>!1,Q=A()?()=>!(!/android/i.test(navigator.userAgent||navigator.vendor||window.opera)||window.MSStream):()=>!1,ee=A()?()=>!!/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent||navigator.vendor):()=>!1,be=()=>!(!Q()&&!H()),me=A()?()=>!!/(; ?wv|(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari))/i.test(navigator.userAgent||navigator.vendor):()=>!1,Ne=A()?()=>!!/(Instagram)/i.test(navigator.userAgent||navigator.vendor||window.opera):()=>!1,Be=me()?"_system":"_blank",Ve=["apple","google","ical","ms365","outlookcom","msteams","yahoo"],Le=["apple","google","ical"],J=["msteams"],ae=["ical"],de=[],fe=["debug","cspnonce","name","dates","description","startDate","startTime","endDate","endTime","timeZone","location","status","uid","organizer","attendee","icsFile","images","recurrence","recurrence_until","recurrence_byDay","recurrence_byMonth","recurrence_byMonthDay","recurrence_weekstart","sequence","recurrence_interval","recurrence_count","availability","created","updated","subscribe","options","iCalFileName","listStyle","buttonStyle","trigger","hideIconButton","hideIconList","hideIconModal","hideTextLabelButton","hideTextLabelList","buttonsList","hideBackground","hideCheckmark","hideBranding","size","label","ty","rsvp","inline","inlineRsvp","customLabels","customCss","lightMode","language","hideRichData","bypassWebViewCheck","blockInteraction","styleLight","styleDark","disabled","hidden","hideButton","pastDateHandling","proxy","fakeMobile","fakeIOS","fakeAndroid","forceOverlay"],Re=["debug","hideIconButton","hideIconList","hideIconModal","hideTextLabelButton","hideTextLabelList","subscribe","hideBackground","hideCheckmark","hideBranding","inlineRsvp","hideRichData","buttonsList","inline","bypassWebViewCheck","blockInteraction","disabled","hidden","hideButton","proxy","fakeMobile","fakeIOS","fakeAndroid","forceOverlay"],_e=["customLabels","ty","rsvp"],Xe=["dates"],Ye=["images","options"],Ot=["sequence","recurrence_interval","recurrence_count"],un={trigger:'<span class="atcb-icon-trigger"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200.016"><path d="M132.829 7.699c0-4.248 4.199-7.699 9.391-7.699s9.391 3.451 9.391 7.699v33.724c0 4.248-4.199 7.699-9.391 7.699s-9.391-3.451-9.391-7.699zm-5.941 123.747c2.979 0 5.404 2.425 5.404 5.404s-2.425 5.404-5.404 5.404l-21.077-.065-.065 21.045c0 2.979-2.425 5.404-5.404 5.404s-5.404-2.425-5.404-5.404l.065-21.061-21.045-.081c-2.979 0-5.404-2.425-5.404-5.404s2.425-5.404 5.404-5.404l21.061.065.065-21.045c0-2.979 2.425-5.404 5.404-5.404s5.404 2.425 5.404 5.404l-.065 21.077 21.061.065zM48.193 7.699C48.193 3.451 52.393 0 57.585 0s9.391 3.451 9.391 7.699v33.724c0 4.248-4.199 7.699-9.391 7.699s-9.391-3.451-9.391-7.699zM10.417 73.763h179.167V34.945c0-1.302-.537-2.49-1.4-3.369-.863-.863-2.051-1.4-3.369-1.4h-17.171c-2.881 0-5.208-2.327-5.208-5.208s2.327-5.208 5.208-5.208h17.171c4.183 0 7.975 1.709 10.726 4.46S200 30.762 200 34.945v44.043 105.843c0 4.183-1.709 7.975-4.46 10.726s-6.543 4.46-10.726 4.46H15.186c-4.183 0-7.975-1.709-10.726-4.46C1.709 192.79 0 188.997 0 184.814V78.988 34.945c0-4.183 1.709-7.975 4.46-10.726s6.543-4.46 10.726-4.46h18.343c2.881 0 5.208 2.327 5.208 5.208s-2.327 5.208-5.208 5.208H15.186c-1.302 0-2.49.537-3.369 1.4-.863.863-1.4 2.051-1.4 3.369zm179.167 10.433H10.417v100.618c0 1.302.537 2.49 1.4 3.369.863.863 2.051 1.4 3.369 1.4h169.629c1.302 0 2.49-.537 3.369-1.4.863-.863 1.4-2.051 1.4-3.369zM82.08 30.176c-2.881 0-5.208-2.327-5.208-5.208s2.327-5.208 5.208-5.208h34.977c2.881 0 5.208 2.327 5.208 5.208s-2.327 5.208-5.208 5.208z"/></svg></span>',apple:'<span class="atcb-icon-apple"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 245.657"><path d="M167.084 130.514c-.308-31.099 25.364-46.022 26.511-46.761-14.429-21.107-36.91-24.008-44.921-24.335-19.13-1.931-37.323 11.27-47.042 11.27-9.692 0-24.67-10.98-40.532-10.689-20.849.308-40.07 12.126-50.818 30.799-21.661 37.581-5.54 93.281 15.572 123.754 10.313 14.923 22.612 31.688 38.764 31.089 15.549-.612 21.433-10.073 40.242-10.073s24.086 10.073 40.546 9.751c16.737-.308 27.34-15.214 37.585-30.187 11.855-17.318 16.714-34.064 17.009-34.925-.372-.168-32.635-12.525-32.962-49.68l.045-.013zm-30.917-91.287C144.735 28.832 150.524 14.402 148.942 0c-12.344.503-27.313 8.228-36.176 18.609-7.956 9.216-14.906 23.904-13.047 38.011 13.786 1.075 27.862-7.004 36.434-17.376z"/></svg></span>',google:'<span class="atcb-icon-google"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><path d="M152.637 47.363H47.363v105.273h105.273z" fill="#fff"/><path d="M152.637 200L200 152.637h-47.363z" fill="#f72a25"/><path d="M200 47.363h-47.363v105.273H200z" fill="#fbbc04"/><path d="M152.637 152.637H47.363V200h105.273z" fill="#34a853"/><path d="M0 152.637v31.576A15.788 15.788 0 0 0 15.788 200h31.576v-47.363z" fill="#188038"/><path d="M200 47.363V15.788A15.79 15.79 0 0 0 184.212 0h-31.575v47.363z" fill="#1967d2"/><path d="M15.788 0A15.79 15.79 0 0 0 0 15.788v136.849h47.363V47.363h105.274V0z" fill="#4285f4"/><path d="M68.962 129.02c-3.939-2.653-6.657-6.543-8.138-11.67l9.131-3.76c.83 3.158 2.279 5.599 4.346 7.341 2.051 1.742 4.557 2.588 7.471 2.588 2.995 0 5.55-.911 7.699-2.718 2.148-1.823 3.223-4.134 3.223-6.934 0-2.865-1.139-5.208-3.402-7.031s-5.111-2.718-8.496-2.718h-5.273v-9.033h4.736c2.913 0 5.387-.781 7.389-2.376 2.002-1.579 2.995-3.743 2.995-6.494 0-2.441-.895-4.395-2.686-5.859s-4.053-2.197-6.803-2.197c-2.686 0-4.818.716-6.396 2.148s-2.767 3.255-3.451 5.273l-9.033-3.76c1.204-3.402 3.402-6.396 6.624-8.984s7.34-3.89 12.337-3.89c3.695 0 7.031.716 9.977 2.148s5.257 3.418 6.934 5.941c1.676 2.539 2.507 5.387 2.507 8.545 0 3.223-.781 5.941-2.327 8.187-1.546 2.23-3.467 3.955-5.729 5.143v.537a17.39 17.39 0 0 1 7.34 5.729c1.904 2.572 2.865 5.632 2.865 9.212s-.911 6.771-2.718 9.57c-1.823 2.799-4.329 5.013-7.52 6.624s-6.787 2.425-10.775 2.425c-4.622 0-8.887-1.318-12.826-3.988zm56.087-45.312l-10.026 7.243-5.013-7.601 17.985-12.972h6.901v61.198h-9.847z" fill="#1a73e8"/></svg></span>',ical:'<span class="atcb-icon-ical"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200.016"><path d="M132.829 7.699c0-4.248 4.199-7.699 9.391-7.699s9.391 3.451 9.391 7.699v33.724c0 4.248-4.199 7.699-9.391 7.699s-9.391-3.451-9.391-7.699zm-25.228 161.263c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm-81.803-59.766c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.902 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.902 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.918 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zM25.798 139.079c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.902 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.902 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.918 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zM25.798 168.962c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.902 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zM48.193 7.699C48.193 3.451 52.393 0 57.585 0s9.391 3.451 9.391 7.699v33.724c0 4.248-4.199 7.699-9.391 7.699s-9.391-3.451-9.391-7.699zM10.417 73.763h179.15V34.945c0-1.302-.537-2.49-1.4-3.369-.863-.863-2.051-1.4-3.369-1.4h-17.155c-2.881 0-5.208-2.327-5.208-5.208s2.327-5.208 5.208-5.208h17.171c4.183 0 7.975 1.709 10.726 4.46S200 30.762 200 34.945v44.043 105.843c0 4.183-1.709 7.975-4.46 10.726s-6.543 4.46-10.726 4.46H15.186c-4.183 0-7.975-1.709-10.726-4.46C1.709 192.79 0 188.997 0 184.814V78.971 34.945c0-4.183 1.709-7.975 4.46-10.726s6.543-4.46 10.726-4.46h18.343c2.881 0 5.208 2.327 5.208 5.208s-2.327 5.208-5.208 5.208H15.186c-1.302 0-2.49.537-3.369 1.4-.863.863-1.4 2.051-1.4 3.369zm179.167 10.433H10.417v100.618c0 1.302.537 2.49 1.4 3.369.863.863 2.051 1.4 3.369 1.4h169.629c1.302 0 2.49-.537 3.369-1.4.863-.863 1.4-2.051 1.4-3.369zM82.08 30.176c-2.881 0-5.208-2.327-5.208-5.208s2.327-5.208 5.208-5.208h34.977c2.881 0 5.208 2.327 5.208 5.208s-2.327 5.208-5.208 5.208z"/></svg></span>',msteams:'<span class="atcb-icon-msteams"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 200 186.047"><path d="M195.349 39.535a20.93 20.93 0 1 1-41.86 0 20.93 20.93 0 1 1 41.86 0zm-55.847 30.233h51.66A8.84 8.84 0 0 1 200 78.605v47.056c0 17.938-14.541 32.479-32.479 32.479h0-.154c-17.938.003-32.481-14.537-32.484-32.474v-.005-51.274a4.62 4.62 0 0 1 4.619-4.619z" fill="#5059c9"/><path d="M149.614 69.767H64.34c-4.823.119-8.637 4.122-8.526 8.944v53.67c-.673 28.941 22.223 52.957 51.163 53.665 28.94-.708 51.836-24.725 51.163-53.665v-53.67c.112-4.823-3.703-8.825-8.526-8.944zm-10.079-39.535a30.233 30.233 0 0 1-60.465 0 30.233 30.233 0 0 1 60.465 0z" fill="#7b83eb"/><path opacity=".1" d="M111.628 69.767v75.209c-.023 3.449-2.113 6.547-5.302 7.86-1.015.43-2.107.651-3.209.651H59.907l-1.628-4.651c-1.628-5.337-2.459-10.885-2.465-16.465V78.698c-.112-4.815 3.697-8.811 8.512-8.93z"/><path opacity=".2" d="M106.977 69.767v79.86a8.241 8.241 0 0 1-.651 3.209c-1.313 3.189-4.412 5.279-7.86 5.302H62.093l-2.186-4.651a46.13 46.13 0 0 1-1.628-4.651 56.647 56.647 0 0 1-2.465-16.465V78.698c-.112-4.815 3.697-8.811 8.512-8.93z"/><path opacity=".2" d="M102.326 69.767v70.558a8.58 8.58 0 0 1-8.512 8.512H58.279a56.647 56.647 0 0 1-2.465-16.465V78.698c-.112-4.815 3.697-8.811 8.512-8.93z"/><path opacity=".1" d="M111.628 45.721v14.651l-2.326.093c-.791 0-1.535-.046-2.326-.093-1.57-.104-3.127-.353-4.651-.744a30.233 30.233 0 0 1-20.93-17.767 25.845 25.845 0 0 1-1.488-4.651h23.209c4.693.018 8.494 3.818 8.512 8.512z"/><use xlink:href="#B" opacity=".2" transform="scale(.08973306)"/><path d="M106.977 50.372v10c-1.57-.104-3.127-.353-4.651-.744a30.233 30.233 0 0 1-20.93-17.767h17.07c4.693.018 8.494 3.818 8.512 8.512zm0 19.395v70.558a8.58 8.58 0 0 1-8.512 8.512H58.279a56.647 56.647 0 0 1-2.465-16.465V78.698c-.112-4.815 3.697-8.811 8.512-8.93z" opacity=".2"/><path opacity=".2" d="M102.326 50.372v9.256a30.233 30.233 0 0 1-20.93-17.767h12.419c4.693.018 8.494 3.818 8.512 8.512z"/><linearGradient id="A" gradientUnits="userSpaceOnUse" x1="17.776" y1="35.199" x2="84.55" y2="150.848"><stop offset="0" stop-color="#5a62c3"/><stop offset=".5" stop-color="#4d55bd"/><stop offset="1" stop-color="#3940ab"/></linearGradient><path fill="url(#A)" d="M8.526 41.86H93.8a8.53 8.53 0 0 1 8.526 8.526v85.274a8.53 8.53 0 0 1-8.526 8.526H8.526A8.53 8.53 0 0 1 0 135.66V50.386a8.53 8.53 0 0 1 8.526-8.526z"/><path fill="#fff" d="M73.6 74.316H56.553v46.419h-10.86V74.316H28.726v-9.005H73.6z"/><defs><path id="B" d="M1192.167 561.355v111.442c-17.496-1.161-34.848-3.937-51.833-8.293a336.92 336.92 0 0 1-233.25-198.003h190.228c52.304.198 94.656 42.55 94.855 94.854z"/></defs></svg></span>',ms365:'<span class="atcb-icon-ms365"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 239.766"><path d="M200 219.785l-.021-.012V20.591L128.615 0 .322 48.172 0 48.234.016 192.257l43.78-17.134V57.943l84.819-20.279-.012 172.285L.088 192.257l128.515 47.456v.053l71.376-19.753v-.227z"/></svg></span>',outlookcom:'<span class="atcb-icon-outlookcom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 175"><path d="M178.725 0H71.275A8.775 8.775 0 0 0 62.5 8.775v9.975l60.563 18.75L187.5 18.75V8.775A8.775 8.775 0 0 0 178.725 0z" fill="#0364b8"/><path d="M197.813 96.281c.915-2.878 2.187-5.855 2.187-8.781-.002-1.485-.795-2.857-1.491-3.26l-68.434-38.99a9.37 9.37 0 0 0-9.244-.519c-.312.154-.614.325-.906.512l-67.737 38.6-.025.013-.075.044a4.16 4.16 0 0 0-2.088 3.6c.541 2.971 1.272 5.904 2.188 8.781l71.825 52.532z" fill="#0a2767"/><path d="M150 18.75h-43.75L93.619 37.5l12.631 18.75L150 93.75h37.5v-37.5z" fill="#28a8ea"/><path d="M150 18.75h37.5v37.5H150z" fill="#50d9ff"/><path d="M150 93.75l-43.75-37.5H62.5v37.5l43.75 37.5 67.7 11.05z" fill="#0364b8"/><path d="M106.25 56.25v37.5H150v-37.5zM150 93.75v37.5h37.5v-37.5zm-87.5-75h43.75v37.5H62.5z" fill="#0078d4"/><path d="M62.5 93.75h43.75v37.5H62.5z" fill="#064a8c"/><path d="M126.188 145.113l-73.706-53.75 3.094-5.438 68.181 38.825a3.3 3.3 0 0 0 2.625-.075l68.331-38.937 3.1 5.431z" fill="#0a2767" opacity=".5"/><path d="M197.919 91.106l-.088.05-.019.013-67.738 38.588c-2.736 1.764-6.192 1.979-9.125.569l23.588 31.631 51.588 11.257v-.001c2.434-1.761 3.876-4.583 3.875-7.587V87.5c.001 1.488-.793 2.862-2.081 3.606z" fill="#1490df"/><path d="M200 165.625v-4.613l-62.394-35.55-7.531 4.294a9.356 9.356 0 0 1-9.125.569l23.588 31.631 51.588 11.231v.025a9.362 9.362 0 0 0 3.875-7.588z" opacity=".05"/><path d="M199.688 168.019l-68.394-38.956-1.219.688c-2.734 1.766-6.19 1.984-9.125.575l23.588 31.631 51.587 11.256v.001a9.38 9.38 0 0 0 3.562-5.187z" opacity=".1"/><path d="M51.455 90.721c-.733-.467-1.468-1.795-1.455-3.221v78.125c-.007 5.181 4.194 9.382 9.375 9.375h131.25c1.395-.015 2.614-.366 3.813-.813.638-.258 1.252-.652 1.687-.974z" fill="#28a8ea"/><path d="M112.5 141.669V39.581a8.356 8.356 0 0 0-8.331-8.331H62.687v46.6l-10.5 5.987-.031.012-.075.044A4.162 4.162 0 0 0 50 87.5v.031-.031V150h54.169a8.356 8.356 0 0 0 8.331-8.331z" opacity=".1"/><path d="M106.25 147.919V45.831a8.356 8.356 0 0 0-8.331-8.331H62.687v40.35l-10.5 5.987-.031.012-.075.044A4.162 4.162 0 0 0 50 87.5v.031-.031 68.75h47.919a8.356 8.356 0 0 0 8.331-8.331z" opacity=".2"/><path d="M106.25 135.419V45.831a8.356 8.356 0 0 0-8.331-8.331H62.687v40.35l-10.5 5.987-.031.012-.075.044A4.162 4.162 0 0 0 50 87.5v.031-.031 56.25h47.919a8.356 8.356 0 0 0 8.331-8.331z" opacity=".2"/><path d="M100 135.419V45.831a8.356 8.356 0 0 0-8.331-8.331H62.687v40.35l-10.5 5.987-.031.012-.075.044A4.162 4.162 0 0 0 50 87.5v.031-.031 56.25h41.669a8.356 8.356 0 0 0 8.331-8.331z" opacity=".2"/><path d="M8.331 37.5h83.337A8.331 8.331 0 0 1 100 45.831v83.338a8.331 8.331 0 0 1-8.331 8.331H8.331A8.331 8.331 0 0 1 0 129.169V45.831A8.331 8.331 0 0 1 8.331 37.5z" fill="#0078d4"/><path d="M24.169 71.675a26.131 26.131 0 0 1 10.263-11.337 31.031 31.031 0 0 1 16.313-4.087 28.856 28.856 0 0 1 15.081 3.875 25.875 25.875 0 0 1 9.988 10.831 34.981 34.981 0 0 1 3.5 15.938 36.881 36.881 0 0 1-3.606 16.662 26.494 26.494 0 0 1-10.281 11.213 30 30 0 0 1-15.656 3.981 29.556 29.556 0 0 1-15.425-3.919 26.275 26.275 0 0 1-10.112-10.85 34.119 34.119 0 0 1-3.544-15.744 37.844 37.844 0 0 1 3.481-16.563zm10.938 26.613a16.975 16.975 0 0 0 5.769 7.463 15.069 15.069 0 0 0 9.019 2.719 15.831 15.831 0 0 0 9.631-2.806 16.269 16.269 0 0 0 5.606-7.481 28.913 28.913 0 0 0 1.787-10.406 31.644 31.644 0 0 0-1.687-10.538 16.681 16.681 0 0 0-5.413-7.75 14.919 14.919 0 0 0-9.544-2.956 15.581 15.581 0 0 0-9.231 2.744 17.131 17.131 0 0 0-5.9 7.519 29.85 29.85 0 0 0-.044 21.5z" fill="#fff"/></svg></span>',yahoo:'<span class="atcb-icon-yahoo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 177.803"><path d="M0 43.284h38.144l22.211 56.822 22.5-56.822h37.135L64.071 177.803H26.694l15.308-35.645L.001 43.284zm163.235 45.403H121.64L158.558 0 200 .002zm-30.699 8.488c12.762 0 23.108 10.346 23.108 23.106s-10.345 23.106-23.108 23.106a23.11 23.11 0 0 1-23.104-23.106 23.11 23.11 0 0 1 23.104-23.106z"/></svg></span>',atcb:'<svg version="1.1" viewBox="0 0 150 8.5002" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="matrix(1.3333 0 0 -1.3333 -2427.5 1757.9)"><g transform="matrix(.22189 0 0 -.22189 1822.6 1374.6)" fill="#777" style="paint-order:stroke markers fill;shape-inside:url(#rect2441);white-space:pre" aria-label="Add-to-Calendar-PRO.com"><path d="m-1.2773 253.99h12.148l7.9688 27.5h-9.4141l-1.0547-5.2734h-7.1094l-1.1328 5.2734h-9.0234zm8.7109 17.305-2.6172-12.031-2.6953 12.031z" style="paint-order:stroke markers fill"/><path d="m29.66 261.16q2.2656 0 3.9062 0.9375t2.6562 3.1055v-10.078l8.4375-1.25v27.617h-8.4375v-3.7109q-0.9375 2.0117-2.5586 3.0273-1.6211 0.9961-4.043 0.9961-2.0898 0-3.8672-0.83985-1.7773-0.85937-3.0859-2.2852-1.2891-1.4258-2.0312-3.2812-0.74219-1.875-0.74219-3.9062 0-2.1875 0.78125-4.082 0.80078-1.8945 2.1484-3.2812 1.3477-1.3867 3.1055-2.168 1.7773-0.80078 3.7305-0.80078zm6.5625 10.176q-0.03906-0.78125-0.37109-1.4844-0.33203-0.70312-0.87891-1.2109-0.52734-0.52735-1.2305-0.82032-0.70312-0.3125-1.4648-0.3125-0.85938 0-1.6016 0.33203-0.72266 0.3125-1.25 0.85938-0.52734 0.54687-0.83984 1.2695-0.29297 0.72266-0.29297 1.5234 0 0.85937 0.3125 1.582 0.33203 0.72266 0.87891 1.2695 0.54688 0.52734 1.2695 0.83984 0.72266 0.29297 1.5234 0.29297 0.83984 0 1.5625-0.33203 0.72266-0.33203 1.25-0.8789 0.52734-0.54688 0.82031-1.2695 0.3125-0.72265 0.3125-1.5039z" style="paint-order:stroke markers fill"/><path d="m57.551 261.16q2.2656 0 3.9062 0.9375t2.6562 3.1055v-10.078l8.4375-1.25v27.617h-8.4375v-3.7109q-0.9375 2.0117-2.5586 3.0273-1.6211 0.9961-4.043 0.9961-2.0898 0-3.8672-0.83985-1.7773-0.85937-3.0859-2.2852-1.2891-1.4258-2.0312-3.2812-0.74219-1.875-0.74219-3.9062 0-2.1875 0.78125-4.082 0.80078-1.8945 2.1484-3.2812 1.3477-1.3867 3.1055-2.168 1.7773-0.80078 3.7305-0.80078zm6.5625 10.176q-0.03906-0.78125-0.37109-1.4844-0.33203-0.70312-0.87891-1.2109-0.52734-0.52735-1.2305-0.82032-0.70312-0.3125-1.4648-0.3125-0.85938 0-1.6016 0.33203-0.72266 0.3125-1.25 0.85938-0.52734 0.54687-0.83984 1.2695-0.29297 0.72266-0.29297 1.5234 0 0.85937 0.3125 1.582 0.33203 0.72266 0.87891 1.2695 0.54688 0.52734 1.2695 0.83984 0.72266 0.29297 1.5234 0.29297 0.83984 0 1.5625-0.33203 0.72266-0.33203 1.25-0.8789 0.52734-0.54688 0.82031-1.2695 0.3125-0.72265 0.3125-1.5039z" style="paint-order:stroke markers fill"/><path d="m76.496 268.8h10.742v4.7266h-10.742z" style="paint-order:stroke markers fill"/><path d="m104.8 280.44q-2.7148 1.3672-6.0156 1.3672-1.6992 0-3.0273-0.54688-1.3281-0.5664-2.2461-1.6016-0.89844-1.0547-1.3672-2.5195-0.46875-1.4844-0.46875-3.3398l0.03906-7.3828h-2.5391v-4.9609h3.1641l3.7109-7.5781h4.0625v7.5781h4.6094v4.9609h-4.6094v6.7969q0 1.0547 0.68359 1.582t1.8555 0.52734q0.91797 0 1.8359-0.46875z" style="paint-order:stroke markers fill"/><path d="m114.62 271.45q0 1.0938 0.3125 1.9141 0.33204 0.82031 0.85938 1.3672 0.52734 0.54687 1.2109 0.82031 0.68359 0.27344 1.3867 0.27344 0.70312 0 1.3672-0.27344 0.6836-0.27344 1.2109-0.82031 0.54688-0.54688 0.85938-1.3672 0.33203-0.82031 0.33203-1.9141t-0.33203-1.9141q-0.3125-0.82031-0.85938-1.3476-0.52734-0.54688-1.2109-0.82032-0.66406-0.27343-1.3672-0.27343-0.70313 0-1.3867 0.27343-0.6836 0.27344-1.2109 0.82032-0.52734 0.52734-0.85938 1.3476-0.3125 0.82032-0.3125 1.9141zm-7.8125 0q0.0977-2.5195 1.0352-4.4336 0.95703-1.9141 2.5195-3.2226 1.5625-1.3086 3.6133-1.9727 2.0703-0.66406 4.3945-0.66406 2.5391 0 4.6484 0.76172 2.1094 0.76171 3.6328 2.1289 1.5234 1.3477 2.3633 3.2422 0.83985 1.8945 0.83985 4.1602 0 1.8359-0.48828 3.3203-0.46875 1.4844-1.2891 2.6367-0.82031 1.1328-1.9336 1.9726-1.1133 0.83985-2.4023 1.3867-1.2891 0.52735-2.6758 0.78125-1.3672 0.25391-2.7344 0.25391-2.5781 0-4.707-0.74219-2.1094-0.76172-3.6328-2.1289-1.5234-1.3672-2.3633-3.2617-0.82032-1.9141-0.82032-4.2188z" style="paint-order:stroke markers fill"/><path d="m132.73 268.8h10.742v4.7266h-10.742z" style="paint-order:stroke markers fill"/><path d="m162.41 274.89q0.6836 0 1.2695-0.0586 0.58594-0.0781 1.1524-0.21484 0.58593-0.13672 1.1914-0.35156 0.60547-0.21485 1.3477-0.50782l1.0938 6.3477q-3.4766 2.0117-7.5781 2.0117-5.8008 0-9.9414-3.9062-4.3359-4.0625-4.3945-10.488 0-3.125 1.0742-5.7617 1.0742-2.6367 2.9688-4.5312 1.8945-1.9141 4.4726-2.9688 2.5781-1.0742 5.5859-1.0742 4.2773 0 7.7734 1.9922l-1.0547 6.2109q-2.8711-1.0938-5.1953-1.0938-3.2617 0-4.9609 1.8945-1.6797 1.875-1.6797 5.293 0 1.6992 0.44922 3.0469 0.46875 1.3281 1.3477 2.2656 0.8789 0.91797 2.1484 1.4062 1.2891 0.48829 2.9297 0.48829z" style="paint-order:stroke markers fill"/><path d="m186.52 277.78q-0.9375 1.9531-2.5391 2.9883-1.6016 1.0352-4.0234 1.0352-1.9531 0-3.7305-0.78125-1.7774-0.80078-3.125-2.1875-1.3477-1.4062-2.1484-3.3203-0.80078-1.9141-0.80078-4.1602 0-2.2266 0.80078-4.1016 0.82031-1.875 2.168-3.2227 1.3672-1.3672 3.125-2.1094 1.7773-0.76172 3.7109-0.76172 0.9961 0 1.9531 0.27343 0.97656 0.25391 1.8359 0.83985 0.8789 0.5664 1.582 1.4453 0.72265 0.87891 1.1914 2.1094v-4.668h8.3984v20.332h-8.3984zm0-6.4453q-0.0391-0.78125-0.37109-1.4844-0.33203-0.70312-0.87891-1.2109-0.52734-0.52735-1.2305-0.82032-0.70313-0.3125-1.4648-0.3125-0.85937 0-1.6016 0.33203-0.72266 0.3125-1.2695 0.85938-0.52735 0.52734-0.83985 1.25t-0.3125 1.543q0 0.85937 0.33204 1.6016 0.33203 0.72266 0.8789 1.25 0.56641 0.52734 1.2891 0.83984 0.72266 0.29297 1.5234 0.29297 0.82031 0 1.5234-0.3125 0.70312-0.3125 1.2305-0.83984 0.52734-0.52734 0.83984-1.2109 0.3125-0.70312 0.35156-1.4648z" style="paint-order:stroke markers fill"/><path d="m212.02 280.44q-2.7148 1.3672-6.0156 1.3672-1.6992 0-3.0273-0.54688-1.3281-0.5664-2.2461-1.6016-0.89843-1.0547-1.3672-2.5195-0.46875-1.4844-0.46875-3.3398v-18.672l8.4375-1.25v19.336q0 1.0742 0.68359 1.6016 0.68359 0.50781 1.8555 0.50781 0.89844 0 1.8359-0.46875z" style="paint-order:stroke markers fill"/><path d="m225.71 276.2q2.7344 0 5.8984-1.4062l0.97656 5.3711q-3.6328 1.6406-8.1641 1.6406-2.5195 0-4.6094-0.76172-2.0703-0.78125-3.5742-2.1484-1.4844-1.3867-2.3242-3.2812-0.82031-1.8945-0.82031-4.1211 0-2.3438 0.85937-4.2383 0.87891-1.9141 2.3828-3.2617 1.5039-1.3672 3.5156-2.0898 2.0117-0.74218 4.2969-0.74218 2.3047 0 4.043 0.78125 1.7383 0.76172 2.8906 2.1094 1.1719 1.3281 1.7383 3.125 0.58594 1.7774 0.58594 3.8086 0 0.27343-0.0195 0.52734t-0.0586 0.48828l-11.992 1.5625q0.46875 1.4062 1.5625 2.0312 1.0938 0.60547 2.8125 0.60547zm1.4844-7.6758q-0.6836-2.5-3.0469-2.5-0.74218 0-1.3281 0.29297t-0.9961 0.82031q-0.39062 0.50781-0.60546 1.2305-0.21485 0.70312-0.23438 1.5234z" style="paint-order:stroke markers fill"/><path d="m236.3 261.75h8.0469v4.082q1.1719-2.3633 3.0078-3.5156 1.8555-1.1523 4.3359-1.1523 1.9922 0 3.5156 0.74218 1.5234 0.74219 2.5586 2.1094 1.0547 1.3477 1.582 3.2617 0.54687 1.8945 0.54687 4.2188v10h-8.3984v-10.82q0-0.78125-0.15625-1.4453-0.13672-0.66406-0.46875-1.1328-0.3125-0.48828-0.80078-0.74219-0.48828-0.27343-1.1914-0.27343-0.85938 0-1.582 0.42968-0.72265 0.41016-1.2695 1.0156-0.52734 0.60547-0.85937 1.2695-0.33203 0.64453-0.42969 1.1133v10.586h-8.4375z" style="paint-order:stroke markers fill"/><path d="m272.59 261.16q2.2656 0 3.9062 0.9375 1.6406 0.9375 2.6562 3.1055v-10.078l8.4375-1.25v27.617h-8.4375v-3.7109q-0.9375 2.0117-2.5586 3.0273-1.6211 0.9961-4.043 0.9961-2.0898 0-3.8672-0.83985-1.7773-0.85937-3.0859-2.2852-1.2891-1.4258-2.0312-3.2812-0.74219-1.875-0.74219-3.9062 0-2.1875 0.78125-4.082 0.80078-1.8945 2.1484-3.2812 1.3476-1.3867 3.1055-2.168 1.7774-0.80078 3.7305-0.80078zm6.5625 10.176q-0.0391-0.78125-0.37109-1.4844-0.33203-0.70312-0.87891-1.2109-0.52734-0.52735-1.2305-0.82032-0.70312-0.3125-1.4648-0.3125-0.85937 0-1.6016 0.33203-0.72266 0.3125-1.25 0.85938-0.52735 0.54687-0.83985 1.2695-0.29296 0.72266-0.29296 1.5234 0 0.85937 0.3125 1.582 0.33203 0.72266 0.8789 1.2695 0.54688 0.52734 1.2695 0.83984 0.72266 0.29297 1.5234 0.29297 0.83984 0 1.5625-0.33203t1.25-0.8789q0.52734-0.54688 0.82031-1.2695 0.3125-0.72265 0.3125-1.5039z" style="paint-order:stroke markers fill"/><path d="m307.06 277.78q-0.9375 1.9531-2.5391 2.9883-1.6016 1.0352-4.0234 1.0352-1.9531 0-3.7305-0.78125-1.7773-0.80078-3.125-2.1875-1.3477-1.4062-2.1484-3.3203-0.80078-1.9141-0.80078-4.1602 0-2.2266 0.80078-4.1016 0.82032-1.875 2.168-3.2227 1.3672-1.3672 3.125-2.1094 1.7774-0.76172 3.7109-0.76172 0.99609 0 1.9531 0.27343 0.97657 0.25391 1.8359 0.83985 0.87891 0.5664 1.582 1.4453 0.72266 0.87891 1.1914 2.1094v-4.668h8.3984v20.332h-8.3984zm0-6.4453q-0.0391-0.78125-0.37109-1.4844-0.33204-0.70312-0.87891-1.2109-0.52734-0.52735-1.2305-0.82032-0.70312-0.3125-1.4648-0.3125-0.85938 0-1.6016 0.33203-0.72265 0.3125-1.2695 0.85938-0.52734 0.52734-0.83984 1.25t-0.3125 1.543q0 0.85937 0.33203 1.6016 0.33203 0.72266 0.87891 1.25 0.5664 0.52734 1.2891 0.83984 0.72266 0.29297 1.5234 0.29297 0.82031 0 1.5234-0.3125 0.70313-0.3125 1.2305-0.83984 0.52735-0.52734 0.83985-1.2109 0.3125-0.70312 0.35156-1.4648z" style="paint-order:stroke markers fill"/><path d="m319.5 261.75h8.4375v4.082q0.95703-2.4219 2.5391-3.5352 1.6016-1.1328 3.6719-1.1328l1.1719 6.543q-3.8086 0-5.6055 0.82031-1.7773 0.80078-1.7773 2.5781v10.391h-8.4375z" style="paint-order:stroke markers fill"/><path d="m337.22 268.8h10.742v4.7266h-10.742z" style="paint-order:stroke markers fill"/><path d="m352.43 253.99h9.9219q3.0859 0 5.4883 0.60547t4.043 1.7773q1.6406 1.1719 2.5 2.8711 0.85937 1.6797 0.85937 3.8477 0 2.1094-0.97656 3.7695-0.97656 1.6602-2.6758 2.832-1.6992 1.1524-3.9844 1.7774-2.2656 0.60547-4.8633 0.60547h-1.6797v9.4141h-8.6328zm10.352 12.539q2.0703 0 3.2422-0.85937 1.1719-0.85938 1.1719-2.5781 0-0.83984-0.35156-1.4648-0.33204-0.625-0.9375-1.0352-0.58594-0.42969-1.3867-0.64453t-1.7383-0.21484h-1.7188v6.7188q0.27343 0.0391 0.70312 0.0586t1.0156 0.0195z" style="paint-order:stroke markers fill"/><path d="m402.92 281.41q-2.5586 0.70313-3.6914 0.70313-7.2461 0-9.1016-6.6016l-1.0938-4.4531h-1.875v10.43h-8.75v-27.5h12.227q2.3828 0 4.4726 0.54687 2.0898 0.52735 3.6328 1.5625 1.5625 1.0156 2.4414 2.5195 0.89844 1.5039 0.89844 3.457 0 1.4453-0.37109 2.5976-0.35157 1.1328-1.0352 2.0508-0.68359 0.89844-1.6797 1.6016-0.97656 0.70312-2.2266 1.25l0.17578 0.95703q0.0586 0.33203 0.11719 0.5664 0.0586 0.23438 0.0977 0.39063l0.21484 0.83984q0.23437 0.74219 0.52734 1.2695 0.3125 0.50782 0.78125 0.83985 0.46875 0.3125 1.1524 0.46875 0.70312 0.13672 1.6992 0.13672 0.15625 0 0.48828-0.0391 0.35156-0.0391 0.89843-0.11718zm-8.8476-18.945q0-0.76172-0.33203-1.25-0.3125-0.50781-0.87891-0.78125-0.56641-0.29297-1.3281-0.39062-0.76172-0.11719-1.6406-0.11719h-2.7344v5.5078h1.5234l1.2891-0.0586q0.76171-0.0586 1.4844-0.19532 0.74219-0.15625 1.3281-0.46875 0.58593-0.33203 0.9375-0.85937 0.35156-0.54688 0.35156-1.3867z" style="paint-order:stroke markers fill"/><path d="m404.76 267.78q0-5.957 3.7891-10.039 4.043-4.3555 10.938-4.3555 3.3594 0 6.0742 1.0938 2.7148 1.0742 4.6289 2.9883t2.9492 4.5703q1.0352 2.6367 1.0352 5.7422 0 1.875-0.42968 3.6719-0.42969 1.7969-1.2891 3.3984-0.83984 1.582-2.0898 2.9297-1.25 1.3281-2.8906 2.3047-1.6211 0.95703-3.6328 1.4844-1.9922 0.54688-4.3555 0.54688-2.4219 0-4.4531-0.54688-2.0117-0.54687-3.6523-1.5234-1.6406-0.97657-2.8906-2.3242-1.2305-1.3477-2.0703-2.9297-0.82031-1.6016-1.25-3.3789-0.41016-1.7773-0.41016-3.6328zm14.727 7.0703q1.543 0 2.6172-0.64453 1.0938-0.66406 1.7774-1.6797 0.70312-1.0352 1.0156-2.3047 0.33203-1.2695 0.33203-2.4805 0-1.582-0.41015-2.8906-0.39063-1.3281-1.1524-2.2852-0.74219-0.97657-1.8164-1.543-1.0547-0.56641-2.3633-0.625-1.5625 0.0391-2.6562 0.70312-1.0938 0.66407-1.7969 1.7188-0.68359 1.0352-1.0156 2.3438-0.3125 1.2891-0.3125 2.5781 0 1.5234 0.39063 2.832 0.41016 1.2891 1.1523 2.2461 0.76172 0.9375 1.8359 1.4844 1.0742 0.54687 2.4023 0.54687z" style="paint-order:stroke markers fill"/><path d="m436.18 279.2q0-0.58594 0.2474-1.0807 0.26042-0.49479 0.67708-0.84636 0.41667-0.35156 0.95053-0.54687 0.54687-0.20834 1.1198-0.20834 0.59896 0 1.1458 0.22136 0.54688 0.20833 0.95053 0.58594 0.41666 0.36458 0.65104 0.84635 0.2474 0.48177 0.2474 1.0286 0 0.61198-0.26042 1.1068-0.2474 0.49479-0.66407 0.85938-0.41666 0.35156-0.96354 0.54687-0.53385 0.19531-1.1068 0.19531-0.625 0-1.1719-0.20833-0.54687-0.20833-0.95052-0.57292-0.40365-0.36458-0.63802-0.85937-0.23438-0.49479-0.23438-1.0677z" style="paint-order:stroke markers fill"/><path d="m454.38 272.56q-1.4062-0.4427-2.6042-0.4427-0.61198 0-1.1068 0.19531-0.48177 0.19531-0.83333 0.54687-0.33855 0.35157-0.53386 0.85938-0.18229 0.49479-0.18229 1.1068t0.18229 1.1198q0.19531 0.49479 0.54688 0.85937 0.35156 0.36459 0.84635 0.5599 0.50782 0.19531 1.1328 0.19531 1.1849 0 2.5-0.44271l0.52083 3.724q-1.0026 0.52083-1.9661 0.6901-0.95053 0.16927-2.0703 0.16927-1.5755 0-2.9036-0.49479t-2.2917-1.3932-1.5104-2.1615q-0.53385-1.276-0.53385-2.8255t0.58594-2.8125q0.58593-1.276 1.5755-2.1745 1.0026-0.91146 2.3177-1.4062 1.3151-0.4948 2.7604-0.4948 0.63802 0 1.1458 0.0521 0.52084 0.0391 0.98959 0.16927 0.46875 0.11718 0.9375 0.32552 0.46875 0.20833 1.0156 0.53385z" style="paint-order:stroke markers fill"/><path d="m461.18 274.8q0 0.72917 0.20833 1.276 0.22136 0.54688 0.57292 0.91146 0.35157 0.36459 0.80729 0.54688 0.45573 0.18229 0.92449 0.18229 0.46875 0 0.91145-0.18229 0.45573-0.18229 0.8073-0.54688 0.36458-0.36458 0.57291-0.91146 0.22136-0.54687 0.22136-1.276t-0.22136-1.276q-0.20833-0.54688-0.57291-0.89844-0.35157-0.36458-0.8073-0.54688-0.4427-0.18229-0.91145-0.18229-0.46876 0-0.92449 0.18229-0.45572 0.1823-0.80729 0.54688-0.35156 0.35156-0.57292 0.89844-0.20833 0.54687-0.20833 1.276zm-5.2083 0q0.0651-1.6797 0.69011-2.9557 0.63802-1.276 1.6797-2.1484 1.0417-0.8724 2.4088-1.3151 1.3802-0.44271 2.9297-0.44271 1.6927 0 3.099 0.50782 1.4062 0.50781 2.4219 1.4193 1.0156 0.89844 1.5755 2.1615 0.55989 1.263 0.55989 2.7734 0 1.224-0.32552 2.2136-0.3125 0.98958-0.85937 1.7578-0.54688 0.75521-1.2891 1.3151-0.74219 0.55989-1.6016 0.92448-0.85938 0.35156-1.7839 0.52083-0.91146 0.16927-1.8229 0.16927-1.7188 0-3.138-0.49479-1.4062-0.50781-2.4219-1.4193t-1.5755-2.1745q-0.54688-1.276-0.54688-2.8125z" style="paint-order:stroke markers fill"/><path d="m488.16 271.26q0.54688-1.6536 1.7578-2.487 1.2109-0.83334 3.138-0.83334 1.0938 0 2.0182 0.50782 0.92448 0.50781 1.6016 1.4193 0.67708 0.91146 1.0547 2.1745 0.3776 1.263 0.3776 2.7865v6.6667h-5.625v-6.6667q0-0.55989-0.13021-1.0286-0.11718-0.48178-0.35156-0.83334-0.23437-0.35156-0.57292-0.54687-0.33854-0.19532-0.76823-0.19532-0.55989 0-0.96354 0.26042-0.40364 0.2474-0.66406 0.63802-0.26042 0.37761-0.39063 0.84636-0.11718 0.45573-0.11718 0.85937v6.6667h-5.5729v-6.6667q0-0.54687-0.13021-1.0156-0.11718-0.48178-0.36458-0.83334-0.23438-0.35156-0.58594-0.54687-0.35156-0.20834-0.79427-0.20834-0.48177 0-0.8724 0.19532-0.3776 0.19531-0.65104 0.54687-0.27344 0.33854-0.42969 0.79427-0.14323 0.45573-0.15625 0.96355v6.7708h-5.625v-13.164h5.625v2.7214q0.74219-1.6536 1.875-2.3828 1.1458-0.72917 2.6823-0.72917 0.74219 0 1.4323 0.19532 0.69011 0.18229 1.2891 0.58593 0.61198 0.40365 1.0938 1.0417 0.49479 0.625 0.82031 1.4974z" style="paint-order:stroke markers fill"/></g></g></svg>',close:'<span class="atcb-icon-close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><path d="M2.321 13.529a7.927 7.927 0 0 1 0-11.208 7.927 7.927 0 0 1 11.208 0l86.471 86.471L186.47 2.321a7.927 7.927 0 0 1 11.209 0 7.927 7.927 0 0 1 0 11.208l-86.474 86.469 86.472 86.473a7.927 7.927 0 0 1-11.209 11.208l-86.471-86.471-86.469 86.471a7.927 7.927 0 0 1-11.208-11.208l86.471-86.473z"/></svg></span>',location:'<span class="atcb-icon-location"><svg viewBox="0 0 200 266.42" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m148.54 230.43c-12.12 13.291-26.234 25.193-42.083 34.82-1.9513 1.431-4.5964 1.6044-6.7645 0.21681-23.416-14.895-43.08-32.782-58.539-52.23-21.334-26.755-34.755-56.414-39.351-84.99-4.6831-28.966-0.30354-56.848 14.114-79.505 5.6805-8.9543 12.944-17.106 21.79-24.153 20.337-16.196 43.557-24.76 66.713-24.586 22.288 0.17345 44.295 8.4773 63.309 25.844 6.6778 6.0707 12.293 13.03 16.89 20.575 15.502 25.54 18.841 58.105 12.033 91.104-6.7212 32.608-23.416 65.737-48.11 92.839zm-48.544-178.91c27.492 0 49.758 22.288 49.758 49.758 0 27.492-22.288 49.758-49.758 49.758-27.492 0-49.758-22.267-49.758-49.758-0.02168-27.492 22.267-49.758 49.758-49.758z" stroke-width="2.1681"/></svg></span>',warning:'<span class="atcb-icon-warning"><svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><path d="m100 0c27.613 0 52.613 11.195 70.711 29.293 18.094 18.094 29.289 43.098 29.289 70.707 0 27.613-11.195 52.613-29.289 70.711-18.098 18.094-43.098 29.289-70.711 29.289-27.609 0-52.613-11.195-70.707-29.289-18.098-18.098-29.293-43.098-29.293-70.711 0-27.609 11.195-52.613 29.293-70.707 18.094-18.098 43.098-29.293 70.707-29.293zm57.66 42.34c-14.758-14.754-35.145-23.883-57.66-23.883-22.516 0-42.902 9.1289-57.66 23.883-14.754 14.758-23.883 35.145-23.883 57.66 0 22.516 9.1289 42.902 23.883 57.66 14.758 14.754 35.145 23.883 57.66 23.883 22.516 0 42.902-9.1289 57.66-23.883 14.754-14.758 23.883-35.145 23.883-57.66 0-22.516-9.1289-42.902-23.883-57.66z" fill="#f44336" fill-rule="nonzero" stroke-width=".39062"/><g transform="matrix(3.8384 0 0 3.8384 2277.8 -576.85)" style="shape-inside:url(#rect7396);white-space:pre" aria-label="!"><path d="m-563.8 161.59-0.65341 20.185h-5.8381l-0.65341-20.185zm-3.5796 29.503q-1.5199 0-2.6136-1.0795-1.0796-1.0796-1.0796-2.6136 0-1.5057 1.0796-2.571 1.0938-1.0796 2.6136-1.0796 1.4631 0 2.571 1.0796 1.1222 1.0653 1.1222 2.571 0 1.0227-0.52557 1.8608-0.51137 0.83807-1.3494 1.3352-0.82387 0.49715-1.8182 0.49715z"/></g></svg></span>',checkmark:'<span class="atcb-icon-checkmark"><svg viewBox="0 0 122.88 122.87" xmlns="http://www.w3.org/2000/svg"><path fill:#39B54A; d="m33.666 50.046s6.0748-0.59297 17.413 4.2983c9.3883 4.5751 11.891 8.3955 11.891 8.3955 5.38-8.65 11.11-16.6 17.16-23.9 10.412-12.578 24.613-22.448 24.613-22.448l14.257-0.012228s-19.308 19.294-32.483 38.51c-13.175 19.216-22.877 41.21-22.877 41.21s-9.3948-18.164-14.53-24.53-10.77-11.59-17.52-16.22z" fill="#45b555"/><path fill:#3C3C3C; d="m61.44 0c9.53 0 18.55 2.17 26.61 6.04-3.3 2.61-6.36 5.11-9.21 7.53-5.43-1.97-11.28-3.05-17.39-3.05-14.06 0-26.79 5.7-36 14.92s-14.92 21.94-14.92 36 5.7 26.78 14.92 36 21.94 14.92 36 14.92 26.79-5.7 36-14.92c9.22-9.22 14.91-21.94 14.91-36 0-3.34-0.32-6.62-0.94-9.78 2.64-3.44 5.35-6.88 8.11-10.28 2.17 6.28 3.35 13.04 3.35 20.06 0 16.96-6.88 32.33-17.99 43.44-11.12 11.12-26.48 18-43.44 18s-32.32-6.88-43.44-18c-11.13-11.12-18.01-26.48-18.01-43.44 0-16.97 6.88-32.33 17.99-43.44 11.12-11.12 26.48-18 43.45-18z"/></svg></span>'};function Cn(U){return(U=function An(U){for(let De=0;De<Re.length;De++){const Me=Re[`${De}`];U[`${Me}`]=null!=U[`${Me}`]&&""!==U[`${Me}`]}return U}(U)).timeZone=function Nn(U=null){return U&&""!=U?U:"GMT"}(U.timeZone),(U=function jt(U){(null==U.listStyle||""==U.listStyle)&&(U.listStyle="dropdown");const De="dropdown"==U.listStyle||"dropdown-static"==U.listStyle||"dropup-static"==U.listStyle;return"modal"===U.listStyle&&(U.trigger="click"),null!=U.buttonStyle&&""!=U.buttonStyle&&"default"!=U.buttonStyle?(("round"==U.buttonStyle||"text"==U.buttonStyle||"date"==U.buttonStyle||"neumorphism"==U.buttonStyle)&&(U.trigger="click"),"date"==U.buttonStyle&&De&&(U.listStyle="overlay")):U.buttonStyle="default",("default"==U.buttonStyle||"3d"==U.buttonStyle||"flat"==U.buttonStyle)&&De&&!U.hideTextLabelList&&U.hideTextLabelButton&&(U.listStyle="overlay"),U.buttonsList&&"date"==U.buttonStyle&&(U.buttonsList=!1),U}(U=function Rt(U){const De=[];U.optionLabels=[];let Me=!1,Yt=!1;for(let yn=0;yn<U.options.length;yn++){const Wn=U.options[`${yn}`].split("|"),zn=Wn[0].toLowerCase().replace("microsoft","ms").replace(/\./,""),Hn=null!=Wn[1]?Wn[1]:"";"apple"===zn&&(Yt=!0),"ical"===zn&&(Me=!0),!(H()&&ae.includes(zn)||null!=U.recurrence&&""!=U.recurrence&&(!Le.includes(zn)||null!=U.recurrence_until&&""!=U.recurrence_until&&("apple"===zn||"ical"===zn)||H()&&"google"===zn)||U.subscribe&&J.includes(zn))&&(De.push(zn),U.optionLabels.push(Hn))}return 0===De.length&&(H()||(De.push("ical"),U.optionLabels.push("")),Me=!0),H()&&Me&&!Yt&&(De.push("apple"),U.optionLabels.push("")),U.options=De,U}(U=function Et(U){if(null!=U.recurrence&&""!=U.recurrence)if(U.recurrence=U.recurrence.replace(/\s+/g,"").toUpperCase(),/^(RRULE:[\w=;,:+-/\\]+|daily|weekly|monthly|yearly)$/im.test(U.recurrence))if(/^RRULE:/i.test(U.recurrence)){U.recurrence_simplyfied=!1;const De=U.recurrence.substring(6).split(";"),Me=new Object;De.forEach(function(Yt){Me[Yt.split("=")[0]]=Yt.split("=")[1]}),U.recurrence_until=Me.UNTIL?Me.UNTIL:"",U.recurrence_count=Me.COUNT?Me.COUNT:"",U.recurrence_byDay=Me.BYDAY?Me.BYDAY:"",U.recurrence_byMonth=Me.BYMONTH?Me.BYMONTH:"",U.recurrence_byMonthDay=Me.BYMONTHDAY?Me.BYMONTHDAY:"",U.recurrence_interval=Me.INTERVAL?Me.INTERVAL:1,U.recurrence_frequency=Me.FREQ?Me.FREQ:""}else U.recurrence_simplyfied=!0,(null==U.recurrence_interval||""==U.recurrence_interval)&&(U.recurrence_interval=1),(null==U.recurrence_weekstart||""==U.recurrence_weekstart|U.recurrence_weekstart.length>2)&&(U.recurrence_weekstart="MO"),U.recurrence_frequency=U.recurrence,U.recurrence="RRULE:FREQ="+U.recurrence+";WKST="+U.recurrence_weekstart+";INTERVAL="+U.recurrence_interval,null!=U.recurrence_until&&""!=U.recurrence_until&&(U.recurrence=null!=U.endTime&&""!=U.endTime?U.recurrence+";UNTIL="+U.recurrence_until.replace(/-/g,"").slice(0,8)+"T"+U.endTime.replace(":","")+"00":U.recurrence+";UNTIL="+U.recurrence_until.replace(/-/g,"").slice(0,8)),null!=U.recurrence_count&&""!=U.recurrence_count&&(U.recurrence=U.recurrence+";COUNT="+U.recurrence_count),null!=U.recurrence_byDay&&""!=U.recurrence_byDay&&(U.recurrence=U.recurrence+";BYDAY="+U.recurrence_byDay),null!=U.recurrence_byMonth&&""!=U.recurrence_byMonth&&(U.recurrence=U.recurrence+";BYMONTH="+U.recurrence_byMonth),null!=U.recurrence_byMonthDay&&""!=U.recurrence_byMonthDay&&(U.recurrence=U.recurrence+";BYMONTHDAY="+U.recurrence_byMonthDay);else U.recurrence="!wrong rrule format!";return U}(U)))).sizes=function Dt(U){const De=[];if(De.l=De.m=De.s=16,null!=U&&""!=U){const Me=U.split("|");for(let Yt=0;Yt<Me.length;Yt++)Me[`${Yt}`]=parseInt(Me[`${Yt}`]);Me[0]>=0&&Me[0]<11&&(De.l=De.m=De.s=10+Me[0]),Me.length>2?(Me[1]>=0&&Me[1]<11&&(De.m=10+Me[1]),Me[2]>=0&&Me[2]<11&&(De.s=10+Me[2])):2==Me.length&&Me[1]>=0&&Me[1]<11&&(De.m=De.s=10+Me[1])}return De}(U.size),U.lightMode=function en(U=""){return"system"==U&&A()?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"bodyScheme"!=U&&"dark"!=U?"light":U}(U.lightMode),function dt(U){(null==U.pastDateHandling||"disable"!=U.pastDateHandling&&"hide"!=U.pastDateHandling)&&(U.pastDateHandling="none");const De=function(){for(let Me=0;Me<U.dates.length;Me++)if(!U.dates[`${Me}`].overdue)return!1;return!0}();return U.allOverdue=!1,De&&(U.allOverdue=!0,"disable"==U.pastDateHandling?U.disabled=!0:"hide"==U.pastDateHandling&&(U.hidden=!0)),(U.disabled||U.hidden)&&(U.blockInteraction=!0),U}(U=function Ft(U){for(let De=0;De<U.dates.length;De++)(null==(U=mt(U,De)).dates[`${De}`].name||""==U.dates[`${De}`].name)&&(U.dates[`${De}`].name=U.name),U.dates[`${De}`].status=null==U.dates[`${De}`].status?U.status.toUpperCase():U.dates[`${De}`].status.toUpperCase(),null==U.dates[`${De}`].sequence&&(U.dates[`${De}`].sequence=U.sequence),null==U.dates[`${De}`].organizer&&null!=U.organizer&&(U.dates[`${De}`].organizer=U.organizer),null==U.dates[`${De}`].attendee&&null!=U.attendee&&(U.dates[`${De}`].attendee=U.attendee),null==U.dates[`${De}`].availability&&null!=U.availability?U.dates[`${De}`].availability=U.availability.toLowerCase():null!=U.dates[`${De}`].availability&&(U.dates[`${De}`].availability=U.dates[`${De}`].availability.toLowerCase()),null==U.dates[`${De}`].location&&null!=U.location&&(U.dates[`${De}`].location=U.location),U.dates[`${De}`].onlineEvent=!(!U.dates[`${De}`].location||!U.dates[`${De}`].location.startsWith("http")),null==U.dates[`${De}`].uid&&(0==De&&null!=U.uid&&""!=U.uid?U.dates[0].uid=U.uid:U.dates[`${De}`].uid=Li());return null!=U.recurrence&&""!=U.recurrence&&(U.dates[0].recurrence=U.recurrence),U.dates.length>1&&U.dates.sort((De,Me)=>De.timestamp-Me.timestamp),U}(U=function ge(U){return(null==U.status||""==U.status)&&(U.status="CONFIRMED"),(null==U.sequence||""==U.sequence)&&(U.sequence=0),U}(U=function We(U){if(null!=U.dates&&U.dates.length>0)for(let Me=0;Me<U.dates.length;Me++){null==U.dates[`${Me}`].timeZone&&(U.dates[`${Me}`].timeZone=U.timeZone);const Yt=Lt(U.dates[`${Me}`]);U.dates[`${Me}`].startTime=Yt.startTime,U.dates[`${Me}`].endTime=Yt.endTime,U.dates[`${Me}`].timeZone=Yt.timeZone,U.dates[`${Me}`].startDate=it(Yt.startDate),U.dates[`${Me}`].endDate=it(Yt.endDate),U.dates[`${Me}`].timestamp=bn("timestamp",U.dates[`${Me}`].startDate,U.dates[`${Me}`].startTime,U.dates[`${Me}`].timeZone),U.dates[`${Me}`].overdue=bn("overdue",U.dates[`${Me}`].endDate,U.dates[`${Me}`].endTime,U.dates[`${Me}`].timeZone)}else{const Me=Lt(U);U.dates=[],U.dates[0]=new Object,U.startTime=U.dates[0].startTime=Me.startTime,U.endTime=U.dates[0].endTime=Me.endTime,U.timeZone=U.dates[0].timeZone=Me.timeZone,U.startDate=U.dates[0].startDate=it(Me.startDate),U.endDate=U.dates[0].endDate=it(Me.endDate),U.dates[0].overdue=!U.recurrence&&bn("overdue",U.endDate,U.endTime,U.timeZone)}const De=new Date;return(null==U.created||""==U.created)&&(U.created=hn(De,"clean",!0)),(null==U.updated||""==U.updated)&&(U.updated=hn(De,"clean",!0)),U}(U=function qe(U){return(null==U.language||""==U.language||!fs.includes(U.language))&&(U.language="en"),U.language.length>2&&(U.language=U.language.substring(0,2)),U.rtl=!!Xs.includes(U.language),U}(U)))))}function mt(U,De){return null!=U.dates[`${De}`].description&&""!=U.dates[`${De}`].description?(U.dates[`${De}`].description=U.dates[`${De}`].description.replace(/(\\r\\n|\\n|\\r|<br(\s|\s\/|\/|)>)/g,""),U.dates[`${De}`].descriptionHtmlFree=ct(U.dates[`${De}`].description,!0),U.dates[`${De}`].descriptionHtmlFreeICal=ct(U.dates[`${De}`].description,!0,!0),U.dates[`${De}`].description=ct(U.dates[`${De}`].description)):null==U.dates[`${De}`].description&&null!=U.description&&""!=U.description?(U.description=U.description.replace(/(\\r\\n|\\n|\\r|<br(\s|\s\/|\/|)>)/g,""),U.dates[`${De}`].descriptionHtmlFree=ct(U.description,!0),U.dates[`${De}`].descriptionHtmlFreeICal=ct(U.description,!0,!0),U.dates[`${De}`].description=ct(U.description)):U.dates[`${De}`].descriptionHtmlFree=U.dates[`${De}`].description="",U}function Lt(U){return(null==U.endDate||""==U.endDate)&&(U.endDate=U.startDate),["start","end"].forEach(function(Me){if(/^(\d{4}-\d{2}-\d{2}T?(?:\d{2}:\d{2}|)Z?|today(?:\+\d{1,4}|))$/.test(U[Me+"Date"])){if(null!=U[Me+"Date"]){U[Me+"Date"]=U[Me+"Date"].replace(/\.\d{3}/,"").replace("Z","");const Yt=U[Me+"Date"].split("T");null!=Yt[1]&&(U[Me+"Date"]=Yt[0],U[Me+"Time"]=Yt[1])}if(null!=U[Me+"Time"]&&8===U[Me+"Time"].length){const Yt=U[Me+"Time"];U[Me+"Time"]=Yt.substring(0,Yt.length-3)}}else U[Me+"Date"]="badly-formed"}),"currentBrowser"==U.timeZone&&(U.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone),U}function bn(U,De,Me=null,Yt){try{const yn=function(){if(Me){const zn=q(Yt,De,Me);return new Date(De+" "+Me+":00 GMT"+zn)}return new Date(De)}();if("timestamp"===U)return yn.getTime();Me||yn.setDate(yn.getDate()+1);const Wn=(new Date).toISOString();return yn.getTime()<new Date(Wn).getTime()}catch{return!1}}function it(U){const De=new Date,Me=De.getUTCFullYear()+"-"+(De.getUTCMonth()+1)+"-"+De.getUTCDate(),Yt=(U=U.replace(/today/gi,Me)).split("+"),yn=Yt[0].split("-");let Wn=yn[0].length<4?new Date(Date.UTC(yn[2],yn[0]-1,yn[1])):new Date(Date.UTC(yn[0],yn[1]-1,yn[2]));null!=Yt[1]&&Yt[1]>0&&Wn.setDate(Wn.getDate()+parseInt(Yt[1]));try{return Wn.toISOString().replace(/T(\d{2}:\d{2}:\d{2}\.\d{3})Z/g,"")}catch{return!1}}function $t(U){if(U.validationError&&(U.validationError=null),null==U.options||U.options.length<1)return U.validationError="Add to Calendar Button generation failed: no valid options set",!1;if(null==U.name||""==U.name)return U.validationError="Add to Calendar Button generation failed: required name information missing",!1;if(null!=U.dates&&U.dates.length>0){const Me=["name"];return["name","startDate"].every(function(Yt){for(let yn=0;yn<U.dates.length;yn++)if(!Me.includes(`${Yt}`)&&(null==U.dates[`${yn}`][`${Yt}`]||""==U.dates[`${yn}`][`${Yt}`])||Me.includes(`${Yt}`)&&(null==U.dates[`${yn}`][`${Yt}`]||""==U.dates[`${yn}`][`${Yt}`])&&(null==U[`${Yt}`]||""==U[`${Yt}`]))return U.validationError="Add to Calendar Button generation failed: required setting missing [dates array object #"+(yn+1)+"/"+U.dates.length+"] => ["+Yt+"]",!1;return!0})}return["startDate"].every(function(Me){return null!=U[`${Me}`]&&""!=U[`${Me}`]||(U.validationError="Add to Calendar Button generation failed: required setting missing ["+Me+"]",!1)})}function Pn(U){U.validationError&&(U.validationError=null);const De="Add to Calendar Button generation ("+U.identifier+")";return!(!qn(U,De)||!function Pi(U,De){return["default","3d","flat","round","neumorphism","text","date","custom","none"].includes(U.buttonStyle)?null==U.customCss||""==U.customCss||dn(U.customCss,!1)&&/\.css$/m.test(U.customCss)?null!=U.customCss&&""!=U.customCss||"custom"!=U.buttonStyle||(U.validationError=De+' failed: buttonStyle "custom" selected, but no customCss file provided',!1):(U.validationError=De+" failed: customCss provided, but no valid url",!1):(U.validationError=De+" failed: provided buttonStyle invalid",!1)}(U,De)||!function hi(U,De){return 1!=U.subscribe||null!=U.icsFile&&""!=U.icsFile||(U.validationError=De+" failed: a subscription calendar requires a valid explicit ics file as well",!1)}(U,De)||!function Ci(U,De){return!!/^\d{8}T\d{6}Z$/.test(U.created)||(U.validationError=De+" failed: created date format not valid. Needs to be a full ISO-8601 UTC date and time string, formatted YYYYMMDDTHHMMSSZ",!1)}(U,De)||!function qt(U,De){return!!/^\d{8}T\d{6}Z$/.test(U.updated)||(U.validationError=De+" failed: updated date format not valid. Needs to be a full ISO-8601 UTC date and time string, formatted YYYYMMDDTHHMMSSZ",!1)}(U,De)||!function Ie(U,De){return null==U.options||U.options.length<1?(U.validationError=De+" failed: no valid options available",!1):!!U.options.every(function(Me){return!!Ve.includes(Me)||(U.validationError=De+" failed: invalid option ["+Me+"]",!1)})}(U,De)||!function Te(U,De){for(let Me=0;Me<U.dates.length;Me++){const Yt=1==U.dates.length?"":" [dates array object #"+(Me+1)+"/"+U.dates.length+"] ";if(!(qn(U,De,Me,Yt)&&Ge(U,De,Me,Yt)&&kt(U,De,Me,Yt)&&Gt(U,De,Me,Yt)&&En(U,De,Me,Yt)&&Yn(U,De,Me,Yt)&&Mi(U,De,Me,Yt)&&yi(U,De,Me,Yt)&&bi(U,De,Me,Yt)))return!1}return!0}(U,De)||!function rr(U,De){return null!=U.recurrence&&""!=U.recurrence&&U.dates.length>1?(U.validationError=De+" failed: RRULE and multi-date set at the same time",!1):!(null!=U.recurrence&&""!=U.recurrence&&!/^RRULE:[\w=;,:+-/\\]+$/i.test(U.recurrence)&&(U.validationError=De+" failed: RRULE data misspelled",1))}(U,De)||U.recurrence_simplyfied&&!function br(U,De){return null!=U.recurrence_interval&&(U.recurrence_interval<1||U.recurrence_interval%1!=0)?(U.validationError=De+" failed: recurrence data (interval) misspelled",!1):null==U.recurrence_until||""==U.recurrence_until||/^(\d|-|:)+$/i.test(U.recurrence_until)?null!=U.recurrence_count&&(U.recurrence_count<1||U.recurrence_count%1!=0)?(U.validationError=De+" failed: recurrence data (interval) misspelled",!1):null==U.recurrence_byMonth||""==U.recurrence_byMonth||/^(\d|,)+$/.test(U.recurrence_byMonth)?null==U.recurrence_byMonthDay||""==U.recurrence_byMonthDay||/^(\d|,)+$/.test(U.recurrence_byMonthDay)?null==U.recurrence_byDay||""==U.recurrence_byDay||/^(\d|-|MO|TU|WE|TH|FR|SA|SU|,)+$/im.test(U.recurrence_byDay)?!(null!=U.recurrence_weekstart&&""!=U.recurrence_weekstart&&!/^(MO|TU|WE|TH|FR|SA|SU)$/im.test(U.recurrence_weekstart)&&(U.validationError=De+" failed: recurrence data (weekstart) misspelled",1)):(U.validationError=De+" failed: recurrence data (byDay) misspelled",!1):(U.validationError=De+" failed: recurrence data (byMonthDay) misspelled",!1):(U.validationError=De+" failed: recurrence data (byMonth) misspelled",!1):(U.validationError=De+" failed: recurrence data (until) misspelled",!1)}(U,De))}function qn(U,De,Me="",Yt=""){const yn=""!=Me&&null!=U.dates[`${Me}`].icsFile?U.dates[`${Me}`].icsFile:""==Me&&null!=U.icsFile?U.icsFile:"";return!!(""==yn||dn(yn,!1)&&(U.icsFile.startsWith("https://")||U.icsFile.startsWith("http://")))||(U.validationError=De+" failed: explicit ics file path not valid"+Yt,!1)}function Ge(U,De,Me,Yt){return"TENTATIVE"==U.dates[`${Me}`].status||"CONFIRMED"==U.dates[`${Me}`].status||"CANCELLED"==U.dates[`${Me}`].status||(U.validationError=De+" failed: event status needs to be TENTATIVE, CONFIRMED, or CANCELLED"+Yt,!1)}function kt(U,De,Me,Yt){return null==U.dates[`${Me}`].availability||""==U.dates[`${Me}`].availability||"free"==U.dates[`${Me}`].availability||"busy"==U.dates[`${Me}`].availability||(U.validationError=De+' failed: event availability needs to be "free" or "busy"'+Yt,!1)}function Gt(U,De,Me,Yt){if(null!=U.dates[`${Me}`].organizer&&""!=U.dates[`${Me}`].organizer){const yn=U.dates[`${Me}`].organizer.split("|");if(2!=yn.length||yn[0].length>50||yn[1].length>80||!he(yn[1]))return U.validationError=De+' failed: organizer needs to match the schema "NAME|EMAIL" with a valid email address'+Yt,!1}return!0}function En(U,De,Me,Yt){if(null!=U.dates[`${Me}`].attendee&&""!=U.dates[`${Me}`].attendee){if(null==U.dates[`${Me}`].organizer||""==U.dates[`${Me}`].organizer)return U.validationError=De+" failed: if an attendee is set, you also need to set the organizer"+Yt,!1;const yn=U.dates[`${Me}`].attendee.split("|");if(2!=yn.length||yn[0].length>50||yn[1].length>80||!he(yn[1]))return U.validationError=De+' failed: attendee needs to match the schema "NAME|EMAIL" with a valid email address'+Yt,!1}return!0}function Yn(U,De,Me,Yt){return/^(\w|-){1,254}$/.test(U.dates[`${Me}`].uid)||(U.debug&&console.warn(De+": UID not valid. May only contain alpha, digits, and dashes; and be less than 255 characters. Falling back to an automated value!"+Yt),U.dates[`${Me}`].uid=Li()),!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(U.dates[`${Me}`].uid)&&U.debug&&console.warn(De+": UID is highly recommended to be a hex-encoded random Universally Unique Identifier (UUID)!"+Yt),!0}function Mi(U,De,Me,Yt){return null!=U.dates[`${Me}`].sequence&&(U.dates[`${Me}`].sequence<0||U.dates[`${Me}`].sequence%1!=0)&&(U.debug&&console.log(De+": sequence needs to be a full number >= 0. Used the default 0 instead"+Yt),U.dates[`${Me}`].sequence=0),!0}function yi(U,De,Me,Yt){return!!function O(U=!1){return 0==z.length&&(z=function(){let De=[];for(const[Me,Yt]of Object.entries(T))if("object"!=typeof Yt||Array.isArray(Yt))De.push(Me);else for(const[yn,Wn]of Object.entries(Yt))if("object"!=typeof Wn||Array.isArray(Wn))De.push(Me+"/"+yn);else for(const[zn]of Object.entries(Wn))De.push(Me+"/"+yn+"/"+zn);return De}()),U?JSON.stringify(z):z}().includes(U.dates[`${Me}`].timeZone)||(U.validationError=De+" failed: invalid time zone given"+Yt,!1)}function bi(U,De,Me,Yt){const yn=["startDate","endDate"],Wn=yn;return!(!yn.every(function(Hn){if(10!==U.dates[`${Me}`][`${Hn}`].length)return U.validationError=De+" failed: date misspelled [-> YYYY-MM-DD]"+Yt,!1;const gi=U.dates[`${Me}`][`${Hn}`].split("-");return gi.length<3||gi.length>3?(U.validationError=De+" failed: date misspelled ["+Hn+": "+U.dates[`${Me}`][`${Hn}`]+"]"+Yt,!1):(Wn[`${Hn}`]=new Date(gi[0],gi[1]-1,gi[2]),!0)})||!["startTime","endTime"].every(function(Hn){if(null!=U.dates[`${Me}`][`${Hn}`]){if(5!==U.dates[`${Me}`][`${Hn}`].length)return U.validationError=De+" failed: time misspelled [-> HH:MM]"+Yt,!1;const gi=U.dates[`${Me}`][`${Hn}`].split(":");if(gi.length<2||gi.length>2)return U.validationError=De+" failed: time misspelled ["+Hn+": "+U.dates[`${Me}`][`${Hn}`]+"]"+Yt,!1;if(gi[0]>23)return U.validationError=De+" failed: time misspelled - hours number too high ["+Hn+": "+gi[0]+"]"+Yt,!1;if(gi[1]>59)return U.validationError=De+" failed: time misspelled - minutes number too high ["+Hn+": "+gi[1]+"]"+Yt,!1;"startTime"==Hn&&(Wn.startDate=new Date(Wn.startDate.getTime()+36e5*gi[0]+6e4*gi[1])),"endTime"==Hn&&(Wn.endDate=new Date(Wn.endDate.getTime()+36e5*gi[0]+6e4*gi[1]))}return!0})||(null!=U.dates[`${Me}`].startTime&&null==U.dates[`${Me}`].endTime||null==U.dates[`${Me}`].startTime&&null!=U.dates[`${Me}`].endTime?(U.validationError=De+" failed: if you set a starting or end time, the respective other one also needs to be defined"+Yt,1):Wn.endDate<Wn.startDate&&(U.validationError=De+" failed: end date before start date"+Yt,1)))}function Si(U,De,Me="",Yt=null,yn=!1,Wn=!1){"open"==De?Ar(U,Me,Yt,yn,Wn):"close"==De||Yt.classList.contains("atcb-active")||U.querySelector(".atcb-active-modal")?$i(U,yn):Ar(U,Me,Yt,yn,Wn)}function Ar(U,De,Me=null,Yt=!1,yn=!1){if(U.querySelector(".atcb-list")||U.querySelector(".atcb-modal"))return;Or("openList",De.identifier,De.identifier),de.active=De.identifier;const Wn=function On(U,De){const Me=document.createElement("div");Me.classList.add("atcb-list"),Me.role="list",De.rtl&&Me.classList.add("atcb-rtl");let Yt=0;if(De.options.forEach(function(yn){const Wn=document.createElement("div");Wn.classList.add("atcb-list-item"),Wn.role="link",Wn.tabIndex=0,Yt++,Wn.dataset.optionNumber=Yt,Me.append(Wn),Gi(U,De,Wn,yn,!De.hideIconList,De.optionLabels[Yt-1])}),"modal"===De.listStyle){const yn=document.createElement("div");yn.classList.add("atcb-list-item","atcb-list-item-close"),yn.role="button",yn.tabIndex=0,Yt++,yn.dataset.optionNumber=Yt,Me.append(yn),Gi(U,De,yn,"close",!De.hideIconList)}return Me}(U,De),zn=document.createElement("div");zn.classList.add("atcb-list-wrapper"),De.hideTextLabelList&&zn.classList.add("atcb-no-text"),Me?(Me.classList.add("atcb-active"),Me.setAttribute("aria-expanded",!0),"modal"===De.listStyle?(Me.classList.add("atcb-modal-style"),Wn.classList.add("atcb-modal")):(zn.append(Wn),zn.classList.add("atcb-dropdown"),"overlay"===De.listStyle&&zn.classList.add("atcb-dropoverlay")),yn&&Wn.classList.add("atcb-generated-button")):Wn.classList.add("atcb-modal");const Hn=bt(U,De.trigger,"modal"===De.listStyle,!De.hideBackground);if("modal"===De.listStyle){const er=wt(U,De);er.querySelector(".atcb-modal-host-initialized").append(Hn),Hn.append(Wn),De.hideBranding||Pt(er,!1),ji(Wn,De.sizes),oi(er),Di(Hn)}else De.forceOverlay&&(U=function ze(U,De){const Me=wt(U,De);return Di(Me.querySelector(".atcb-modal-host-initialized")),Array.from(U.children).forEach(yn=>{"STYLE"!=yn.tagName&&Me.querySelector(".atcb-modal-host-initialized").append(yn.cloneNode(!0))}),Me.querySelector("button.atcb-button").removeAttribute("id"),U.host.classList.add("atcb-shadow-hide"),U.querySelector(".atcb-initialized").style.opacity="0",Sn(U,Me),window.addEventListener("scroll",Ln),window.addEventListener("resize",Ln),Me.querySelector(".atcb-modal-host-initialized")}(U,De),Me=U.querySelector("button.atcb-button")),U.querySelector(".atcb-initialized").append(zn),zn.append(Wn),"default"!=De.buttonStyle&&zn.classList.add("atcb-style-"+De.buttonStyle),De.hideBranding||Pt(U),U.append(Hn),ji(Wn,De.sizes),zn.style.display="none",setTimeout(function(){zn.style.display="block","dropdown-static"===De.listStyle?Mt(U,Me,zn,!0):"dropup-static"===De.listStyle?Mt(U,Me,zn,!1,!0):Mt(U,Me,zn)},5),Di(Hn);const gi=function(){const er=U.querySelector(".atcb-list-item");if(er)return er;const Fr=document.getElementById(De.identifier+"-modal-host");return Fr?Fr.shadowRoot.querySelector(".atcb-list-item"):void 0}();gi&&(Yt?gi.focus():(gi.focus({preventScroll:!0}),gi.blur()))}function $i(U,De=!1){const Me=document.getElementById(U.host.getAttribute("atcb-button-id")+"-modal-host"),Yt=Me&&0!==Me.length?Me.shadowRoot.querySelectorAll(".atcb-modal[data-modal-nr]"):[];if(Yt.length>1){Me.shadowRoot.querySelectorAll('.atcb-modal[data-modal-nr="'+Yt.length+'"]')[0].remove();const yn=Me.shadowRoot.querySelectorAll('.atcb-modal[data-modal-nr="'+(Yt.length-1)+'"]')[0];yn.style.display="block";let Wn=yn;const zn=yn.getElementsByTagName("button");zn.length>0&&(Wn=zn[0]),Wn.focus(),De||Wn.blur()}else{const yn=U.querySelector(".atcb-active, .atcb-active-modal")||document.querySelector(".atcb-active, .atcb-active-modal");yn&&(yn.focus({preventScroll:!0}),De||yn.blur()),Array.from(U.querySelectorAll(".atcb-active")).forEach(zn=>{zn.classList.remove("atcb-active"),zn.setAttribute("aria-expanded",!1)}),Array.from(U.querySelectorAll(".atcb-active-modal")).forEach(zn=>{zn.classList.remove("atcb-active-modal")}),Array.from(document.querySelectorAll(".atcb-active")).forEach(zn=>{zn.classList.remove("atcb-active"),zn.setAttribute("aria-expanded",!1)}),Array.from(document.querySelectorAll(".atcb-active-modal")).forEach(zn=>{zn.classList.remove("atcb-active-modal")}),Me&&Me.remove(),document.body.classList.remove("atcb-modal-no-scroll"),document.documentElement.classList.remove("atcb-modal-no-scroll"),Array.from(U.querySelectorAll(".atcb-list-wrapper")).concat(Array.from(U.querySelectorAll(".atcb-list"))).concat(Array.from(U.querySelectorAll("#add-to-calendar-button-reference"))).concat(Array.from(U.querySelectorAll("#atcb-bgoverlay"))).forEach(zn=>zn.remove());const Wn=document.querySelector(".atcb-shadow-hide");Wn&&(Wn.shadowRoot.querySelector(".atcb-initialized").style.opacity="1",Wn.classList.remove("atcb-shadow-hide"),window.removeEventListener("scroll",Ln),window.removeEventListener("resize",Ln)),de.active=""}}function Gi(U,De,Me,Yt,yn=!1,Wn="",zn=!1){switch(Yt){case"trigger":default:Me.id=De.identifier,De.blockInteraction||(Me.addEventListener("keyup",function(Hn){("Enter"===Hn.key||"Space"==Hn.code||"Alt"===Hn.key&&"Control"===Hn.key&&"Space"===Hn.code)&&(Hn.preventDefault(),Si(U,"auto",De,Me,!0,!0))}),Me.addEventListener("touchend",pi(Hn=>{Hn.preventDefault(),Si(U,"auto",De,Me,!1,!0)})),"click"===De.trigger?Me.addEventListener("mouseup",pi(Hn=>{Hn.preventDefault(),Si(U,"auto",De,Me,!1,!0)})):Me.addEventListener("mouseenter",pi(Hn=>{Hn.preventDefault(),Si(U,"open",De,Me,!1,!0)})));break;case"apple":case"google":case"ical":case"msteams":case"ms365":case"outlookcom":case"yahoo":Me.id=De.identifier+"-"+Yt,De.blockInteraction||(Me.addEventListener("click",pi(()=>{zn?(U.querySelector("#"+Me.id).blur(),Or("openSingletonLink",Me.id,De.identifier)):(Si(U,"close"),Or("openCalendarLink",Me.id,De.identifier)),G(U,Yt,De)})),Me.addEventListener("keyup",function(Hn){"Enter"===Hn.key&&(Hn.preventDefault(),zn?(U.querySelector("#"+Me.id).blur(),Or("openSingletonLink",Me.id,De.identifier)):(Si(U,"close"),Or("openCalendarLink",Me.id,De.identifier)),G(U,Yt,De,"all",!0))}));break;case"close":Me.id=De.identifier+"-close",Me.addEventListener("click",Zr(()=>{Or("closeList","List Close Button",de.active),Si(U,"close")})),Me.addEventListener("keyup",function(Hn){"Enter"===Hn.key&&(Hn.preventDefault(),Or("closeList","List Close Button",de.active),Si(U,"close",De,"all",!0))})}!function rs(U,De,Me,Yt,yn,Wn){const zn=function(){if("none"!=U.pastDateHandling){let gi=!0;for(let er=0;er<U.dates.length;er++)if(!U.dates[`${er}`].overdue){gi=!1;break}if(gi)return Fi("expired",U)}return Fi("label.addtocalendar",U)}();if(""==yn&&1===U.options.length&&(yn=zn),yn={trigger:yn||zn,apple:yn||"Apple",google:yn||"Google",ical:yn||Fi("label.icalfile",U),msteams:yn||"Microsoft Teams",ms365:yn||"Microsoft 365",outlookcom:yn||"Outlook.com",yahoo:yn||"Yahoo",close:Fi("close",U)}[`${Me}`],"date"!=U.buttonStyle||"trigger"!=Me&&!Wn){if(Yt){const gi=document.createElement("span");gi.classList.add("atcb-icon"),gi.innerHTML=un[`${Me}`],De.append(gi)}if(("trigger"==Me||Wn)&&!U.hideTextLabelButton||!Wn&&"trigger"!=Me&&!U.hideTextLabelList){const gi=document.createElement("span");gi.classList.add("atcb-text"),gi.textContent=yn,De.append(gi)}De.setAttribute("aria-label",yn)}}(De,Me,Yt,yn,Wn,zn)}function bt(U,De="",Me=!1,Yt=!0){const yn=Me?document.createElement("dialog"):document.createElement("div");Me&&yn.setAttribute("open",!0),yn.id="atcb-bgoverlay",Yt||yn.classList.add("atcb-no-bg"),yn.role="button",yn.tabIndex=0,yn.addEventListener("mouseup",pi(zn=>{zn.target===zn.currentTarget&&(Or("closeList","Background Hit",de.active),Si(U,"close"))}));let Wn=!1;return yn.addEventListener("touchstart",pi(()=>Wn=!1),{passive:!0}),yn.addEventListener("touchmove",pi(()=>Wn=!0),{passive:!0}),yn.addEventListener("touchend",Zr(zn=>{!1!==Wn||zn.target!==zn.currentTarget||(Or("closeList","Background Hit",de.active),Si(U,"close"))}),{passive:!0}),"click"!==De?yn.addEventListener("mousemove",pi(zn=>{zn.target===zn.currentTarget&&(Or("closeList","Background Hit",de.active),Si(U,"close"))})):yn.classList.add("atcb-click"),yn}function Pt(U,De=!0){const Me=document.createElement("div");Me.id="add-to-calendar-button-reference",Me.style.cssText="width: 130px; padding: 5px; height: auto; opacity: .8; transform: translate3d(0, 0, 0); z-index: 15000000;",setTimeout(()=>{Me.innerHTML='<a href="https://add-to-calendar-pro.com" target="_blank" rel="noopener">'+un.atcb+"</a>"},500),De?U.querySelector(".atcb-initialized .atcb-list-wrapper").append(Me):(window.innerHeight>1e3||window.innerWidth>1e3)&&(U.append(Me),Me.style.cssText+="position: fixed; bottom: 15px; right: 30px;")}function Vt(U,De,Me="",Yt,yn="",Wn=[],zn=[],Hn=!1,gi={}){de.active=De.identifier;const er=wt(U,De,!1),Fr=function(){const Rr=er.getElementById("atcb-bgoverlay");if(!Rr){const Bs=bt(U,"click",!0,!De.hideBackground);return er.querySelector(".atcb-modal-host-initialized").append(Bs),Bs}return Rr}(),Ni=document.createElement("div");Ni.classList.add("atcb-modal"),Fr.append(Ni);const xr=er.querySelectorAll(".atcb-modal").length;Ni.dataset.modalNr=xr,Ni.tabIndex=0,Ni.focus({preventScroll:!0}),Ni.blur();const ks=U.getElementById(De.identifier)||document.getElementById(De.identifier);ks&&ks.classList.add("atcb-active-modal");const zs=document.createElement("div");if(zs.classList.add("atcb-modal-box"),De.rtl&&zs.classList.add("atcb-rtl"),Ni.append(zs),ji(zs,De.sizes),Di(Fr),""!=Me&&!De.hideIconModal){const Rr=document.createElement("div");Rr.classList.add("atcb-modal-icon"),Rr.innerHTML=un[`${Me}`],zs.append(Rr)}if(Yt&&""!=Yt){const Rr=document.createElement("div");Rr.classList.add("atcb-modal-headline"),Rr.textContent=Yt,zs.append(Rr)}if(""!=yn){const Rr=document.createElement("div");Rr.classList.add("atcb-modal-content"),Rr.innerHTML=yn,zs.append(Rr)}if(zn.length>1){De.hideBranding||Pt(er,!1);const Rr=document.createElement("div");Rr.classList.add("atcb-modal-content"),zs.append(Rr);for(let Bs=1;Bs<zn.length;Bs++){const or=document.createElement("button");or.type="button",or.id=De.identifier+"-"+zn[0]+"-"+Bs,de[`${De.identifier}`][`${zn[0]}`][Bs-1]>0&&or.classList.add("atcb-saved"),or.classList.add("atcb-subevent-btn"),Rr.append(or),Ht(De,or,Bs),De.dates[Bs-1].overdue&&"none"!=De.pastDateHandling?(or.setAttribute("disabled",!0),or.style.cssText="opacity: .75; cursor: not-allowed; filter: brightness(95%); border-style: dashed;"):(1==Bs&&Hn&&or.focus(),or.addEventListener("click",Zr(()=>{Or("openSubEventLink",or.id,De.identifier),or.blur(),G(U,zn[0],De,zn[`${Bs}`],Hn,!0)})))}}0==Wn.length&&Wn.push({type:"close",label:Fi("close",De)});const Ur=document.createElement("div");Ur.classList.add("atcb-modal-buttons"),zs.append(Ur),Wn.forEach((Rr,Bs)=>{let or;switch(null!=Rr.href&&""!=Rr.href?(or=document.createElement("a"),or.setAttribute("target",Be),or.setAttribute("href",Rr.href),or.setAttribute("rel","noopener")):(or=document.createElement("button"),or.type="button"),or.classList.add("atcb-modal-btn"),Rr.primary&&or.classList.add("atcb-modal-btn-primary"),(null==Rr.label||""==Rr.label)&&(Rr.label=Fi("modal.button.default",De)),or.textContent=Rr.label,Ur.append(or),0==Bs&&zn.length<2&&Hn&&or.focus(),Rr.type){default:case"close":or.addEventListener("click",Zr(()=>{Or("closeList","Modal Close Button",de.active),$i(U)})),or.addEventListener("keyup",function(Pr){("Enter"===Pr.key||"Space"==Pr.code||"Alt"===Pr.key&&"Control"===Pr.key&&"Space"===Pr.code)&&(Or("closeList","Modal Close Button",de.active),Si(U,"close","","",!0))});break;case"yahoo2nd":or.addEventListener("click",Zr(()=>{$i(U),yt(U,De)})),or.addEventListener("keyup",function(Pr){("Enter"===Pr.key||"Space"==Pr.code||"Alt"===Pr.key&&"Control"===Pr.key&&"Space"===Pr.code)&&(Si(U,"close","","",!0),yt(U,De,Hn))});break;case"2timeslink":or.addEventListener("click",Zr(()=>{$i(U),G(U,gi.type,De,gi.id,Hn,!1,!0)})),or.addEventListener("keyup",function(Pr){("Enter"===Pr.key||"Space"==Pr.code||"Alt"===Pr.key&&"Control"===Pr.key&&"Space"===Pr.code)&&(Si(U,"close","","",!0),G(U,gi.type,De,gi.id,Hn,!1,!0))});case"none":}}),xr>1&&(er.querySelector('.atcb-modal[data-modal-nr="'+(xr-1)+'"]').style.display="none"),oi(er,Ni)}function yt(U,De,Me){ot(U,De),G(U,"yahoo2nd",De,"all",Me)}function Ht(U,De,Me="all"){"all"!=Me?Me=parseInt(Me)-1:1==U.dates.length&&(Me=0);const Yt=function(){let or,Pr,tr,Qs,Us={},oa={},aa=[],Go="",ma="";"all"==Me?(Us=sn(U.dates[0]),oa=sn(U.dates[U.dates.length-1]),tr=U.dates[0].timeZone,Qs=U.dates[U.dates.length-1].timeZone):(Us=sn(U.dates[`${Me}`]),oa=Us,tr=U.dates[`${Me}`].timeZone,Qs=tr),or=new Date(Us.start),Pr=new Date(oa.end),Us.allday&&(tr="GMT"),oa.allday&&(Qs="GMT");const nd=Intl.DateTimeFormat().resolvedOptions().timeZone,ic=["global","world-wide","worldwide","online"];!function(){let $r=0,Xo=U.dates.length-1;for("all"!=Me&&($r=Xo=Me);$r<=Xo;$r++)if(!(null!=U.dates[`${$r}`].location&&""!=U.dates[`${$r}`].location&&ic.includes(U.dates[`${$r}`].location.toLowerCase())||U.dates[`${$r}`].onlineEvent))return!1;return!0}()?(!Us.allday&&nd!=tr&&tr!=Qs&&(Go="("+tr+")"),(!oa.allday&&nd!=Qs||tr!=Qs)&&(ma="("+Qs+")")):tr=Qs=nd;const la=new Date,ea=or.getFullYear()==la.getFullYear(),hl=Pr.getFullYear()==la.getFullYear(),La=ft(tr,ea,U.language),Zs=ft(Qs,hl,U.language);if(or.toLocaleDateString(U.language,Zs.DateLong)===Pr.toLocaleDateString(U.language,Zs.DateLong))if(Us.allday)ea||aa.push(or.toLocaleDateString(U.language,La.DateLong));else{let $r="";$r=or.toLocaleString(U.language,ea?La.Time:La.DateTimeLong),"en"==U.language&&($r=$r.replace(/:00/,"")),aa.push($r),""!=Go&&aa.push(Go),aa.push("-"),$r=Pr.toLocaleTimeString(U.language,Zs.Time),"en"==U.language&&($r=$r.replace(/:00/,"")),aa.push($r),""!=ma&&aa.push(ma)}else{if(Us.allday)aa.push(or.toLocaleDateString(U.language,La.DateLong));else{let $r="";$r=or.toLocaleString(U.language,ea?La.Time:La.DateTimeLong),"en"==U.language&&($r=$r.replace(/:00/,"")),aa.push($r)}if(""!=Go&&aa.push(Go),aa.push("-"),oa.allday)aa.push(Pr.toLocaleDateString(U.language,Zs.DateLong));else{let $r=Pr.toLocaleString(U.language,Zs.DateTimeLong);"en"==U.language&&($r=$r.replace(/:00/,"")),aa.push($r)}""!=ma&&aa.push(ma)}return aa}(),yn="all"!=Me&&"CANCELLED"==U.dates[`${Me}`].status?Fi("date.status.cancelled",U)+"<br>"+Fi("date.status.cancelled.cta",U):"none"!=U.pastDateHandling&&("all"==Me&&U.allOverdue||"all"!=Me&&U.dates[`${Me}`].overdue)?Fi("expired",U):U.label&&""!=U.label?U.label:"+ "+Fi("label.addtocalendar",U),Wn="all"!=Me&&"CANCELLED"==U.dates[`${Me}`].status?Fi("date.status.cancelled",U):"",zn=0==Yt.length?Fi("recurring",U)+" &#x27F3;":"&#x27F3;";let Hn=!1;"all"===Me&&(Me=0,Hn=!0);const gi=new Date(sn(U.dates[`${Me}`]).start),er=sn(U.dates[`${Me}`]).allday,Fr=U.dates[`${Me}`].timeZone,Ni=document.createElement("div");Ni.classList.add("atcb-date-btn-left"),De.append(Ni);const xr=document.createElement("div");xr.classList.add("atcb-date-btn-day"),Ni.append(xr);const ks=document.createElement("div");ks.classList.add("atcb-date-btn-month"),xr.textContent=gi.toLocaleString(U.language,er?{day:"numeric"}:{day:"numeric",timeZone:Fr}),ks.textContent=gi.toLocaleString(U.language,er?{month:"short"}:{month:"short",timeZone:Fr}),Ni.append(ks);const zs=document.createElement("div");zs.classList.add("atcb-date-btn-right"),De.append(zs);const Ur=document.createElement("div");Ur.classList.add("atcb-date-btn-details"),zs.append(Ur);const Rr=document.createElement("div");if(Rr.classList.add("atcb-date-btn-headline"),Rr.textContent=U.dates.length>1&&Hn?U.name:U.dates[`${Me}`].name,Ur.append(Rr),null!=U.dates[`${Me}`].location&&""!=U.dates[`${Me}`].location&&!U.dates[`${Me}`].onlineEvent||""!=Wn){const or=document.createElement("div");if(or.classList.add("atcb-date-btn-content"),Ur.append(or),""!=Wn)or.textContent=Wn,or.style.fontWeight="600",or.style.color="#9c1a23";else{or.classList.add("atcb-date-btn-content-location");const Pr=document.createElement("span");Pr.classList.add("atcb-date-btn-content-icon"),Pr.innerHTML=un.location,or.append(Pr);const tr=document.createElement("span");tr.textContent=U.dates[`${Me}`].location,or.append(tr)}}else if(""==U.dates[`${Me}`].description||0!=Yt.length||null!=U.recurrence&&""!=U.recurrence)Rr.style.cssText="-webkit-line-clamp: 2;",0==Yt.length&&(null==U.recurrence||""==U.recurrence)&&(zs.style.alignSelf="center",Rr.style.cssText="text-align: center; -webkit-line-clamp: 2;");else{const or=document.createElement("div");or.classList.add("atcb-date-btn-content"),or.textContent=U.dates[`${Me}`].description,or.style.cssText="overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;",Ur.append(or)}if(Yt.length>0||null!=U.recurrence&&""!=U.recurrence){const or=document.createElement("div");or.classList.add("atcb-date-btn-content"),Ur.append(or);const Pr=document.createElement("span");Pr.classList.add("atcb-date-btn-content-icon"),Pr.innerHTML=un.ical,or.append(Pr);const tr=document.createElement("span");if(tr.classList.add("atcb-date-btn-content-text"),or.append(tr),Yt.forEach(function(Qs){const Us=document.createElement("span");Us.textContent=Qs,tr.append(Us)}),null!=U.recurrence&&""!=U.recurrence){const Qs=document.createElement("span");Qs.innerHTML=zn,tr.append(Qs)}}const Bs=document.createElement("div");if(Bs.classList.add("atcb-date-btn-hover"),Bs.innerHTML=yn,zs.append(Bs),!U.hideCheckmark){const or=document.createElement("div");or.classList.add("atcb-checkmark"),or.innerHTML=un.checkmark,De.append(or)}}function ft(U,De=!1,Me="en"){const Yt="en"==Me?"h12":"h23";return De?{DateLong:{timeZone:U,month:"short",day:"numeric"},DateTimeLong:{timeZone:U,month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hourCycle:Yt},Time:{timeZone:U,hour:"numeric",minute:"2-digit",hourCycle:Yt}}:{DateLong:{timeZone:U,year:"numeric",month:"numeric",day:"numeric"},DateTimeLong:{timeZone:U,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",hourCycle:Yt},Time:{timeZone:U,hour:"numeric",minute:"2-digit",hourCycle:Yt}}}function wt(U,De,Me=!0){const Yt=document.getElementById(De.identifier+"-modal-host");if(!Me&&Yt)return Yt.shadowRoot;Yt&&Yt.remove();let yn=document.createElement("div");yn.id=De.identifier+"-modal-host",U.host.hasAttribute("styleLight")&&yn.setAttribute("styleLight",U.host.getAttribute("styleLight")),U.host.hasAttribute("styleDark")&&yn.setAttribute("styleDark",U.host.getAttribute("styleDark")),U.host.hasAttribute("cspnonce")&&yn.setAttribute("cspnonce",U.host.getAttribute("cspnonce")),yn.setAttribute("atcb-button-id",De.identifier),yn.setAttribute("style","transform:translate3D(0, 0, 0);visibility:visible;opacity:1;position:fixed;top:0;left:0;width:100%;height:100%;display:flex;z-index:13999998;"),document.body.append(yn),yn.attachShadow({mode:"open",delegateFocus:!0});const Wn=document.createElement("template");return Wn.innerHTML='<div class="atcb-modal-host-initialized" style="translate3D(0, 0, 0);visibility:visible;opacity:1;position:fixed;top:0;left:0;width:100%;height:100%;display:flex;z-index:13999999;"></div>',yn.shadowRoot.append(Wn.content.cloneNode(!0)),Zo(yn.shadowRoot,De),Pa(yn.shadowRoot,null,De.buttonStyle,!1,!1,De.customCss),yn.shadowRoot}function V(U,De){const Me=[];if(Me.push('"eventSchedule": { "@type": "Schedule"'),Me.push('"scheduleTimezone":"'+U.dates[0].timeZone+'"'),U.recurrence_interval&&""!==U.recurrence_interval&&U.recurrence_frequency&&""!==U.recurrence_frequency){const Yt="P"+U.recurrence_interval+U.recurrence_frequency.substring(0,1);Me.push('"repeatFrequency":"'+Yt+'"')}if(U.recurrence_byDay&&""!==U.recurrence_byDay){const Yt=function(){if(/\d/.test(U.recurrence_byDay))return'"'+U.recurrence_byDay+'"';{const yn=U.recurrence_byDay.split(","),Wn={MO:"https://schema.org/Monday",TU:"https://schema.org/Tuesday",WE:"https://schema.org/Wednesday",TH:"https://schema.org/Thursday",FR:"https://schema.org/Friday",SA:"https://schema.org/Saturday",SU:"https://schema.org/Sunday"},zn=[];for(let Hn=0;Hn<yn.length;Hn++)zn.push('"'+Wn[yn[`${Hn}`]]+'"');return"["+zn.join(",")+"]"}}();Me.push('"byDay":'+Yt)}if(U.recurrence_byMonth&&""!==U.recurrence_byMonth){const Yt=U.recurrence_byMonth.includes(",")?"["+U.recurrence_byMonth+"]":U.recurrence_byMonth;Me.push('"byMonth":"'+Yt+'"')}if(U.recurrence_byMonthDay&&""!==U.recurrence_byMonthDay){const Yt=U.recurrence_byMonthDay.includes(",")?"["+U.recurrence_byMonthDay+"]":U.recurrence_byMonthDay;Me.push('"byMonthDay":"'+Yt+'"')}return U.recurrence_count&&""!==U.recurrence_count&&Me.push('"repeatCount":"'+U.recurrence_count+'"'),U.recurrence_until&&""!==U.recurrence_until&&Me.push('"endDate":"'+U.recurrence_until+'"'),U.startTime&&""!==U.startTime&&U.endTime&&""!==U.endTime&&(Me.push('"startTime":"'+U.startTime+':00"'),Me.push('"endTime":"'+U.endTime+':00"'),Me.push('"duration":"'+De.duration+'"')),Me.push('"startDate":"'+U.startDate+'" }'),Me}function G(U,De,Me,Yt="all",yn=!1,Wn=!1,zn=!1){let Hn=De;if("apple"==De&&(Hn="ical"),"all"!=Yt?Yt=parseInt(Yt)-1:1==Me.dates.length&&(Yt=0),Me.subscribe)!function Ee(U,De,Me,Yt){const yn=Me.icsFile.replace("https://","webcal://");switch(De){case"ical":if(Q()||Me.fakeAndroid){ht(Me,Me.icsFile);break}ht(Me,yn);break;case"google":!function on(U,De){Rn(U,"google","https://calendar.google.com/calendar/r?cid="+(/^(https?:\/\/|webcal:\/\/|\/\/)calendar\.google\.com\//.test(De)?De.replace(/^(.)*\?cid=/,""):encodeURIComponent(De)),!0)}(Me,yn);break;case"ms365":gn(Me,yn,Me.name);break;case"outlookcom":gn(Me,yn,Me.name,"outlook");break;case"yahoo":return Me.proxy?void Rn(Me,"yahoo","",!0):(ss(Me.icsFile),void Vt(U,Me,"yahoo",Fi("modal.subscribe.yahoo.h",Me),Fi("modal.clipboard.text",Me)+"<br>"+Fi("modal.subscribe.yahoo.text",Me),[{label:Fi("modal.subscribe.yahoo.button",Me),primary:!0,type:"yahoo2nd",href:"https://www.yahoo.com/calendar"},{label:Fi("cancel",Me)}],[],Yt));case"yahoo2nd":return ss(Me.icsFile),void Vt(U,Me,"yahoo",Fi("modal.subscribe.yahoo.h",Me),Fi("modal.clipboard.text",Me)+"<br>"+Fi("modal.subscribe.yahoo.text",Me),[{label:Fi("modal.subscribe.yahoo.button",Me),type:"none",href:"https://www.yahoo.com/calendar"},{label:Fi("cancel",Me)}],[],Yt)}ot(U,Me)}(U,Hn,Me,yn);else{if("all"!=Yt){if("CANCELLED"==Me.dates[`${Yt}`].status&&"ical"!=Hn)Vt(U,Me,"warning",Fi("date.status.cancelled",Me),Fi("date.status.cancelled.cta",Me),[],[],yn);else{if(!zn&&H()&&"google"===Hn)return void Vt(U,Me,"warning","",Fi("modal.crios.google.text",Me),[{label:Fi("continue",Me),primary:!0,type:"2timeslink"},{label:Fi("cancel",Me)}],[],yn,{type:De,id:Yt+1});switch(Hn){case"ical":Nt(U,Me,Yt,yn);break;case"google":!function pt(U,De){const Me=[];Me.push("https://calendar.google.com/calendar/render?action=TEMPLATE");const Yt=sn(De,"clean","google");Me.push("dates="+encodeURIComponent(Yt.start)+"%2F"+encodeURIComponent(Yt.end)),null!=De.timeZone&&""!=De.timeZone&&!/(GMT[+|-]\d{1,2}|Etc\/U|Etc\/Zulu|CET|CST6CDT|EET|EST|EST5EDT|MET|MST|MST7MDT|PST8PDT|WET)/i.test(De.timeZone)&&!Yt.allday&&Me.push("ctz="+De.timeZone),null!=De.name&&""!=De.name&&Me.push("text="+encodeURIComponent(De.name));const yn=[];null!=De.description&&""!=De.description&&yn.push(De.description),null!=De.location&&""!=De.location&&(Me.push("location="+encodeURIComponent(De.location)),(H()||U.fakeIOS)&&(yn.length>0&&yn.push("<br><br>"),yn.push("&#128205;: "+De.location))),yn.length>0&&Me.push("details="+encodeURIComponent(yn.join(""))),null!=De.recurrence&&""!=De.recurrence&&Me.push("recur="+encodeURIComponent(De.recurrence)),null!=De.availability&&""!=De.availability&&Me.push("free"==De.availability?"crm=AVAILABLE&trp=false":"crm=BUSY&trp=true"),Rn(U,"google",Me.join("&"))}(Me,Me.dates[`${Yt}`]);break;case"msteams":!function ln(U,De){const Me=[],yn=sn(De,"delimiters","msteams",!0);!yn.allday||be()||U.fakeMobile?(Me.push("startTime="+encodeURIComponent(yn.start)),Me.push("endTime="+encodeURIComponent(yn.end))):(Me.push("startTime="+yn.start),Me.push("endTime="+yn.end)),null!=De.name&&""!=De.name&&Me.push("subject="+encodeURIComponent(De.name));let Wn="";null!=De.location&&""!=De.location&&(Wn=encodeURIComponent(De.location),Me.push("location="+Wn),Wn+=" // "),null!=De.descriptionHtmlFree&&""!=De.descriptionHtmlFree&&Me.push("content="+Wn+encodeURIComponent(De.descriptionHtmlFree)),Rn(U,"msteams","https://teams.microsoft.com/l/meeting/new?"+Me.join("&"))}(Me,Me.dates[`${Yt}`]);break;case"ms365":lt(Me,Me.dates[`${Yt}`]);break;case"outlookcom":lt(Me,Me.dates[`${Yt}`],"outlook");break;case"yahoo":!function Ut(U,De){const Me=[];Me.push("https://calendar.yahoo.com/?v=60");const Yt=sn(De,"clean");Me.push("st="+encodeURIComponent(Yt.start)+"&et="+encodeURIComponent(Yt.end)),Yt.allday&&Me.push("dur=allday"),null!=De.name&&""!=De.name&&Me.push("title="+encodeURIComponent(De.name)),null!=De.location&&""!=De.location&&Me.push("in_loc="+encodeURIComponent(De.location)),null!=De.descriptionHtmlFree&&""!=De.descriptionHtmlFree&&Me.push("desc="+encodeURIComponent(De.descriptionHtmlFree)),Rn(U,"yahoo",Me.join("&"))}(Me,Me.dates[`${Yt}`])}}const gi=document.getElementById(Me.identifier+"-modal-host");if(gi){const Fr=gi.shadowRoot.getElementById(Me.identifier+"-"+De+"-"+(Yt+1));Fr&&Fr.classList.add("atcb-saved")}return de[`${Me.identifier}`][`${De}`][`${Yt}`]++,void(0==de[`${Me.identifier}`][`${De}`].filter(function(Fr){return Fr<1}).length&&ot(U,Me,Wn))}!function X(U,De,Me,Yt,yn,Wn){if("ical"==Me&&Yt.dates.every(function(zn){return!("CANCELLED"==zn.status||null!=zn.organizer&&""!=zn.organizer)})){Nt(U,Yt,"all",yn);for(let zn=0;zn<de[`${Yt.identifier}`][`${De}`].length;zn++)de[`${Yt.identifier}`][`${De}`][`${zn}`]++;ot(U,Yt,Wn)}else if(!Wn){const zn=[De];for(let Hn=0;Hn<Yt.dates.length;Hn++)zn.push(Hn+1);Vt(U,Yt,De,Fi("modal.multidate.h",Yt),Fi("modal.multidate.text",Yt),[],zn,yn)}}(U,De,Hn,Me,yn,Wn)}}function ot(U,De,Me=!1){const Yt=U.getElementById(De.identifier);Yt&&Yt.classList.add("atcb-saved"),function Zn(U,De){Or("success",De.identifier,De.identifier)}(0,De),Me&&U.querySelectorAll(".atcb-modal[data-modal-nr]").length<2&&Si(U,"close")}function ht(U,De){Rn(U,"ical",De,!0)}function gn(U,De,Me,Yt="365"){const yn=[],Wn="outlook"==Yt?"https://outlook.live.com/calendar/0/addfromweb/?":"https://outlook.office.com/calendar/0/addfromweb/?";yn.push("url="+encodeURIComponent(De)),yn.push("name="+encodeURIComponent(Me)),Rn(U,Yt,Wn+yn.join("&"),!0)}function lt(U,De,Me="365"){const Yt=[],yn=be()||U.fakeMobile?"/calendar/0/deeplink/compose?path=%2Fcalendar%2Faction%2Fcompose&rru=addevent":"/calendar/action/compose?rru=addevent";Yt.push("outlook"==Me?"https://outlook.live.com"+yn:"https://outlook.office.com"+yn);const zn=sn(De,"delimiters","microsoft");Yt.push("startdt="+zn.start),Yt.push("enddt="+zn.end),zn.allday&&Yt.push("allday=true"),null!=De.name&&""!=De.name&&Yt.push("subject="+encodeURIComponent(De.name)),null!=De.location&&""!=De.location&&Yt.push("location="+encodeURIComponent(De.location)),null!=De.description&&""!=De.description&&Yt.push("body="+encodeURIComponent(De.description)),Rn(U,Me,Yt.join("&"))}function Rn(U,De,Me,Yt=!1,yn=""){if(""==yn&&(yn=Be),dn(Me)){if(U.proxy&&U.proKey&&""!=U.proKey){const zn=Yt?"s":"o",Hn=Me?"?url="+encodeURIComponent(Me):"";if(!dn(Me="https://caldn.net/"+U.proKey+"/"+zn+"/"+De+Hn))return}const Wn=window.open(Me,yn);Wn&&Wn.focus()}}function Nt(U,De,Me="all",Yt=!1){"all"!=Me&&(Me=parseInt(Me));const yn=function vn(U,De){const Me="all"!=De&&0!=De?"-"+parseInt(De)+1:"";if(null!=U.iCalFileName&&""!=U.iCalFileName)return U.iCalFileName+Me;if(null!=U.icsFile&&""!=U.icsFile){const Yt=U.icsFile.split("/").pop().split(".")[0];if(""!=Yt)return Yt+Me}return"event-to-save-in-my-calendar"+Me}(De,Me),Wn="all"!=Me&&null!=De.dates[`${Me}`].icsFile&&""!=De.dates[`${Me}`].icsFile?De.dates[`${Me}`].icsFile:null!=De.icsFile&&""!=De.icsFile?De.icsFile:"";if(Wn&&""!==Wn&&De.proxy)return void Rn(De,"ical",Wn);if(!(""==Wn||H()&&me()&&1!=De.bypassWebViewCheck))return H()&&!ee()?void Ai(Wn.replace(/^https?:\/\//,"webcal://"),yn):void Ai(Wn,yn);const zn=new Date,Hn=["BEGIN:VCALENDAR","VERSION:2.0"];Hn.push("PRODID:-// https://add-to-calendar-pro.com // button v"+I+" //EN"),Hn.push("CALSCALE:GREGORIAN"),Hn.push("all"==Me?"METHOD:PUBLISH":null!=De.dates[`${Me}`].status&&"CANCELLED"==De.dates[`${Me}`].status?"METHOD:CANCEL":null!=De.dates[`${Me}`].organizer&&""!=De.dates[`${Me}`].organizer?"METHOD:REQUEST":"METHOD:PUBLISH");const gi=[],Fr="all"!=Me?Me:De.dates.length-1;for(let xr="all"!=Me?Me:0;xr<=Fr;xr++){const ks=sn(De.dates[`${xr}`],"clean","ical"),zs=function(){if(ks.allday)return";VALUE=DATE";if(null!=De.dates[`${xr}`].timeZone&&""!=De.dates[`${xr}`].timeZone){const Ur=ne(De.dates[`${xr}`].timeZone);return gi.includes(De.dates[`${xr}`].timeZone)||Hn.push(Ur[0]),gi.push(De.dates[`${xr}`].timeZone),";"+Ur[1]}}();if(Hn.push("BEGIN:VEVENT"),Hn.push("UID:"+De.dates[`${xr}`].uid),Hn.push("DTSTAMP:"+hn(zn,"clean",!0)),Hn.push("DTSTART"+zs+":"+ks.start),Hn.push("DTEND"+zs+":"+ks.end),Hn.push("SUMMARY:"+at(De.dates[`${xr}`].name,!0)),null!=De.dates[`${xr}`].descriptionHtmlFreeICal&&""!=De.dates[`${xr}`].descriptionHtmlFreeICal&&Hn.push("DESCRIPTION:"+at(De.dates[`${xr}`].descriptionHtmlFreeICal,!0)),null!=De.dates[`${xr}`].description&&""!=De.dates[`${xr}`].description&&Hn.push('X-ALT-DESC;FMTTYPE=text/html:\r\n <!DOCTYPE HTML PUBLIC ""-//W3C//DTD HTML 3.2//EN"">\r\n <HTML><BODY>\r\n '+at(De.dates[`${xr}`].description,!0)+"\r\n </BODY></HTML>"),null!=De.dates[`${xr}`].location&&""!=De.dates[`${xr}`].location&&Hn.push("LOCATION:"+at(De.dates[`${xr}`].location,!0)),null!=De.dates[`${xr}`].organizer&&""!=De.dates[`${xr}`].organizer){const Ur=De.dates[`${xr}`].organizer.split("|");Hn.push('ORGANIZER;CN="'+at(Ur[0],!1,!0)+'":MAILTO:'+Ur[1])}if(null!=De.dates[`${xr}`].attendee&&""!=De.dates[`${xr}`].attendee){const Ur=De.dates[`${xr}`].attendee.split("|");Hn.push('ATTENDEE;ROLE=REQ-PARTICIPANT;CN="'+at(Ur[0],!1,!0)+'":MAILTO:'+Ur[1])}null!=De.recurrence&&""!=De.recurrence&&Hn.push(De.recurrence),null!=De.dates[`${xr}`].availability&&""!=De.dates[`${xr}`].availability&&Hn.push("TRANSP:"+("free"==De.dates[`${xr}`].availability?"TRANSPARENT":"OPAQUE")),Hn.push("SEQUENCE:"+De.dates[`${xr}`].sequence),Hn.push("STATUS:"+De.dates[`${xr}`].status),Hn.push("CREATED:"+De.created),Hn.push("LAST-MODIFIED:"+De.updated),Hn.push("END:VEVENT")}Hn.push("END:VCALENDAR");const Ni=""!=Wn?Wn:"data:text/calendar;charset=utf-8,"+encodeURIComponent(Hn.join("\r\n"));H()&&!ee()||me()&&(H()||Q()&&Ne())?function $n(U,De,Me,Yt){ss(De),!H()||ee()?Vt(U,Me,"warning",Fi("modal.webview.ical.h",Me),Fi("modal.webview.ical.text",Me)+"<br>"+Fi("modal.clipboard.text",Me)+"<br>"+Fi("modal.webview.ical.steps",Me),[],[],Yt):Vt(U,Me,"warning",Fi("modal.opensafari.ical.h",Me),Fi("modal.opensafari.ical.text",Me)+"<br>"+Fi("modal.clipboard.text",Me)+"<br>"+Fi("modal.opensafari.ical.steps",Me),[],[],Yt)}(U,Ni,De,Yt):Ai(Ni,yn)}function Ai(U,De){try{const Me=document.createElementNS("http://www.w3.org/1999/xhtml","a");Me.rel="noopener",Me.href=U,Me.target=be()?"_self":"_blank",Me.download=De+".ics";const Yt=new MouseEvent("click",{view:window,button:0,bubbles:!0,cancelable:!1});Me.dispatchEvent(Yt),(window.URL||window.webkitURL).revokeObjectURL(Me.href)}catch(Me){console.error(Me)}}function sn(U,De="delimiters",Me="general",Yt=!1){if(null!=U.startTime&&""!=U.startTime&&null!=U.endTime&&""!=U.endTime){const yn=new Date(U.startDate+"T"+U.startTime+":00.000+00:00"),Wn=new Date(U.endDate+"T"+U.endTime+":00.000+00:00"),zn=Wn-yn,Hn=Math.floor(zn/1e3/60/60),gi=Math.floor((zn-60*Hn*60*1e3)/1e3/60%60),er=Hn<10?"0"+Hn+":"+("0"+gi).slice(-2):Hn+":"+("0"+gi).slice(-2);if("ical"==Me||"google"==Me&&!/(GMT[+|-]\d{1,2}|Etc\/U|Etc\/Zulu|CET|CST6CDT|EET|EST|EST5EDT|MET|MST|MST7MDT|PST8PDT|WET)/i.test(U.timeZone))return{start:hn(yn,"clean",!0,!0),end:hn(Wn,"clean",!0,!0),duration:er,allday:!1};const Fr=q(U.timeZone,U.startDate,U.startTime),Ni=q(U.timeZone,U.endDate,U.endTime);if(Yt){const zs=Fr.slice(0,3)+":"+Fr.slice(3),Ur=Ni.slice(0,3)+":"+Ni.slice(3);return{start:yn.toISOString().replace(".000Z",zs),end:Wn.toISOString().replace(".000Z",Ur),duration:er,allday:!1}}const xr=-1*parseInt(Fr[0]+1)*(60*(60*parseInt(Fr.substring(1,3))+parseInt(Fr.substring(3,5)))*1e3),ks=-1*parseInt(Ni[0]+1)*(60*(60*parseInt(Ni.substring(1,3))+parseInt(Ni.substring(3,5)))*1e3);return yn.setTime(yn.getTime()+xr),Wn.setTime(Wn.getTime()+ks),{start:hn(yn,De),end:hn(Wn,De),duration:er,allday:!1}}{const yn=U.startDate.split("-"),Wn=U.endDate.split("-"),zn=new Date(Date.UTC(yn[0],yn[1]-1,yn[2],12,0,0)),Hn=new Date(Date.UTC(Wn[0],Wn[1]-1,Wn[2],12,0,0));if(("google"===Me||"microsoft"===Me&&!be()||"msteams"===Me||"ical"===Me)&&Hn.setDate(Hn.getDate()+1),"msteams"===Me){if(be()){const gi=zn.getTimezoneOffset(),er=gi<0?"+"+("0"+Math.abs(gi/60)).slice(-2)+":"+("0"+Math.abs(gi%60)).slice(-2):"-"+("0"+Math.abs(gi/60)).slice(-2)+":"+("0"+Math.abs(gi%60)).slice(-2);return{start:hn(zn,De,!1,!0)+"T00:00:00"+er,end:hn(Hn,De,!1,!0)+"T00:00:00"+er,allday:!0}}return{start:hn(zn,De,!1,!0)+"+00:00",end:hn(Hn,De,!1,!0)+"+00:00",allday:!0}}return{start:hn(zn,De,!1),end:hn(Hn,De,!1),allday:!0}}}function hn(U,De="delimiters",Me=!0,Yt=!1){const yn=Me?"clean"==De?/(-|:|(\.\d{3}))/g:/(\.\d{3})/g:"clean"==De?/(-|T(\d{2}:\d{2}:\d{2}\.\d{3})Z)/g:/T(\d{2}:\d{2}:\d{2}\.\d{3})Z/g;return Yt?U.toISOString().replace(yn,"").replace("Z",""):U.toISOString().replace(yn,"")}function xt(U,De=!0){const Yt=(De?JSON.stringify(U):U).replace(/(<(?!br)([^>]+)>)/gi,"");return De?JSON.parse(Yt):Yt}function dn(U,De=!0){return!U.match(/((\.\.\/)|(\.\.\\)|(%2e%2e%2f)|(%252e%252e%252f)|(%2e%2e\/)|(%252e%252e\/)|(\.\.%2f)|(\.\.%252f)|(%2e%2e%5c)|(%252e%252e%255c)|(%2e%2e\\)|(%252e%252e\\)|(\.\.%5c)|(\.\.%255c)|(\.\.%c0%af)|(\.\.%25c0%25af)|(\.\.%c1%9c)|(\.\.%25c1%259c))/gi)||(De&&console.error("Seems like the generated URL includes at least one security issue and got blocked. Please check the calendar button parameters!"),!1)}function he(U){return!!/^.{0,70}@.{1,30}\.[a-zA-Z]{2,9}$/.test(U)}function ct(U,De=!1,Me=!1){return U=De?(U=(U=(U=U.replace(/\[(|\/)(url|hr|p|b|strong|u|i|em|li|ul|ol|h\d)\]|((\|.*)\[\/url\])/gi,"")).replace(/\{(|\/)(url|hr|p|b|strong|u|i|em|li|ul|ol|h\d)\}|((\|.*)\{\/url\})/gi,"")).replace(/(\[br\]|\{br\})/gi,Me?"\\n":" ")).replace(/&[#a-zA-Z0-9]{1,9};/gi,""):(U=(U=(U=U.replace(/\[(\/|)(br|hr|p|b|strong|u|i|em|li|ul|ol|h\d)\]/gi,"<$1$2>")).replace(/\{(\/|)(br|hr|p|b|strong|u|i|em|li|ul|ol|h\d)\}/gi,"<$1$2>")).replace(/\[url\]([\w&$+.,:;=~!*'?@^%#|\s\-()/]*)\[\/url\]/gi,function(Yt,yn){return we(yn)})).replace(/\{url\}([\w&$+.,:;=~!*'?@^%#|\s\-()/]*)\{\/url\}/gi,function(Yt,yn){return we(yn)})}function we(U){const De=U.split("|");return'<a href="'+De[0]+'" target="'+Be+'" rel="noopener">'+(De.length>1&&""!=De[1]?De[1]:De[0])+"</a>"}function at(U,De=!0,Me=!1){return U=Me?U.replace(/"/g,""):U.replace(/\\/g,"\\\\").replace(/(,|;)/g,"\\$1").replace(/\\\\n/g,"\\n"),De&&(U=U.replace(/.{60}/g,"$&\r\n ")),U}function Mt(U,De,Me,Yt=!1,yn=!1){let Wn=!1;const zn=De;null!==De.querySelector(".atcb-dropdown-anchor")&&(De=De.querySelector(".atcb-dropdown-anchor"),Wn=!0),Me.style.position="relative",Me.style.display="inline-block";let Hn=De.getBoundingClientRect();const gi=zn.getBoundingClientRect(),er=zn.parentNode.getBoundingClientRect(),Fr=document.documentElement.clientHeight;if(!0!==Wn||Me.classList.contains("atcb-dropoverlay")){Me.style.minWidth=gi.width+20+"px";const xr=Me.getBoundingClientRect();Me.style.width=xr.width+"px";const ks=Math.round((gi.width-xr.width)/4);Me.style.margin=-Math.round((xr.height+gi.height)/2)+"px "+ks+"px 0 "+ks+"px"}else{let xr=Me.getBoundingClientRect();Me.style.width=xr.width+"px",Me.classList.contains("atcb-dropup")||!Yt&&Hn.top+xr.height>Fr-20&&2*gi.top+gi.height-Hn.top-xr.height>20||yn?(zn.classList.add("atcb-dropup"),Me.classList.add("atcb-dropup"),Me.style.bottom=er.bottom-gi.bottom+(Hn.top-gi.top)+"px"):(Me.style.top=gi.top-er.top+(Hn.top-gi.top)+"px",zn.classList.contains("atcb-dropup")&&zn.classList.remove("atcb-dropup")),Hn=De.getBoundingClientRect(),Me.style.minWidth=Hn.width+"px",(Me.classList.contains("atcb-dropdown")&&!Me.classList.contains("atcb-style-round")||Me.classList.contains("atcb-style-text")||Me.classList.contains("atcb-style-neumorphism"))&&(Me.style.maxWidth=Hn.width+"px"),xr=Me.getBoundingClientRect(),Me.style.left=Math.round(Hn.left-er.left-(xr.width-Hn.width)/2)+"px"}Me.style.position="absolute",Me.style.display="block";const Ni=U.querySelector("#add-to-calendar-button-reference");Ni&&zn.classList.contains("atcb-dropup")&&(zn.parentNode.parentNode.after(Ni),Ni.style.padding="5px 15px",Ni.style.position="absolute",Ni.style.left=gi.left+"px")}function Sn(U,De){const Me=U.querySelector(".atcb-initialized").getBoundingClientRect(),Yt=De.querySelector(".atcb-initialized");Yt.style.width=Me.width+"px",Yt.style.height=Me.height+"px",Yt.style.top=Me.top+"px",Yt.style.left=Me.left+"px"}function Ln(){const U=de.active;null!==U&&""!==U&&Sn(document.querySelector("add-to-calendar-button[atcb-button-id="+U+"]").shadowRoot,document.querySelector("div[atcb-button-id="+U+"]").shadowRoot)}function oi(U,De=null){const Me=function(){if(null!=De)return De;{const yn=U.querySelectorAll(".atcb-modal");return 0===yn.length?null:yn[yn.length-1]}}();null!=Me&&(Me.getBoundingClientRect().height+150>window.innerHeight?(document.body.classList.add("atcb-modal-no-scroll"),document.documentElement.classList.add("atcb-modal-no-scroll")):(document.body.classList.remove("atcb-modal-no-scroll"),document.documentElement.classList.remove("atcb-modal-no-scroll")))}function Di(U){U.style.width=window.innerWidth+"px",U.style.height=window.innerHeight+100+"px"}function ji(U,De){U.style.setProperty("--base-font-size-l",De.l+"px"),U.style.setProperty("--base-font-size-m",De.m+"px"),U.style.setProperty("--base-font-size-s",De.s+"px")}function Li(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,U=>(U^crypto.getRandomValues(new Uint8Array(1))[0]&15>>U/4).toString(16))}function ss(U){const De=document.createElement("input");document.body.append(De);const Me=De.contentEditable,Yt=De.readOnly;if(De.contentEditable=!0,De.readOnly=!1,De.value=U,H()){var yn=document.createRange();yn.selectNodeContents(De);var Wn=window.getSelection();Wn.removeAllRanges(),Wn.addRange(yn),De.setSelectionRange(0,999999)}else De.select();De.contentEditable=Me,De.readOnly=Yt,document.execCommand("copy"),De.remove()}function Zr(U,De=200){let Me;return(...Yt)=>{clearTimeout(Me),Me=setTimeout(()=>{U.apply(this,Yt)},De)}}function pi(U,De=300){let Me;return(...Yt)=>{Me||U.apply(this,Yt),clearTimeout(Me),Me=setTimeout(()=>{Me=void 0},De)}}function Or(U,De,Me){const Yt=document.getElementById(Me)||document.querySelector('[atcb-button-id="'+Me+'"]');Yt&&Yt.setAttribute("atcb-last-event",U+":"+De),A()&&function bo(U,De){let Me="";switch(U){case"initialization":Me="Initialized";break;case"openList":case"openCalendarLink":case"openSingletonLink":case"openSubEventLink":Me="Opened";break;case"closeList":Me="Closed";break;case"success":Me="Saved"}(window.dataLayer=window.dataLayer||[]).push({eventCategory:"Add-to-Calendar-Button",eventAction:Me,eventLabel:De,event:U})}(U,De)}const Xs=["ar","fa"],ts={en:{"label.addtocalendar":"Add to Calendar","label.icalfile":"iCal File",close:"Close","modal.button.default":"Click me","modal.webview.ical.h":"Open your browser","modal.webview.ical.text":"Unfortunately, in-app browsers have problems with the way we generate the calendar file.","modal.clipboard.text":"We automatically copied a magical URL into your clipboard.","modal.webview.ical.steps":"<ol><li><strong>Open another browser</strong> on your phone, ...</li><li><strong>Paste</strong> the clipboard content and go.</li></ol>","modal.opensafari.ical.h":"Open Safari","modal.opensafari.ical.text":"Unfortunately, iOS has some problems generating and opening the calendar file outside of Safari.","modal.opensafari.ical.steps":"<ol><li><strong>Open Safari</strong>, ...</li><li><strong>Paste</strong> the clipboard content and go.</li></ol>","modal.multidate.h":"This is an event series","modal.multidate.text":"Add the individual events one by one:","date.status.cancelled":"This date got cancelled.","date.status.cancelled.cta":"Please update your calendar!","modal.subscribe.yahoo.h":"Add Calendar to Yahoo","modal.subscribe.yahoo.text":'<ol><li>Open now the Yahoo Calendar.</li><li>Click the "Actions" tab.</li><li>Hit "Follow Other Calendars".</li><li>Set a name and paste the clipboard content into the url field.</li></ol>',"modal.subscribe.yahoo.button":"Open Yahoo Calendar","modal.crios.google.text":"If you are using the Google Calendar app and it is not already open in the background, unfortunately, you might need to start this process twice.",continue:"Continue",cancel:"Cancel",expired:"Expired",recurring:"Recurring"},de:{"label.addtocalendar":"Im Kalender speichern","label.icalfile":"iCal-Datei",close:"Schlie\xdfen","modal.button.default":"Klick mich","modal.webview.ical.h":"\xd6ffne deinen Browser","modal.webview.ical.text":"Leider haben In-App-Browser Probleme mit der Art, wie wir Kalender-Dateien erzeugen.","modal.clipboard.text":"Wir haben automatisch eine magische URL in deine Zwischenablage kopiert.","modal.webview.ical.steps":"<ol><li><strong>\xd6ffne einen anderen Browser</strong> auf deinem Smartphone, ...</li><li>Nutze die <strong>Einf\xfcgen</strong>-Funktion, um fortzufahren.</li></ol>","modal.opensafari.ical.h":"\xd6ffne Safari","modal.opensafari.ical.text":"Leider hat iOS einige Probleme beim Generieren und \xd6ffnen der Kalenderdatei au\xdferhalb von Safari.","modal.opensafari.ical.steps":"<ol><li><strong>\xd6ffne Safari</strong>, ...</li><li>Nutze die <strong>Einf\xfcgen</strong>-Funktion, um fortzufahren.</li></ol>","modal.multidate.h":"Dies ist eine Termin-Reihe","modal.multidate.text":"F\xfcge die einzelnen Termine der Reihe nach deinem Kalender hinzu:","date.status.cancelled":"Dieser Termin wurde abgesagt.","date.status.cancelled.cta":"Bitte aktualisiere deinen Kalender!","modal.subscribe.yahoo.h":"Kalender zu Yahoo hinzuf\xfcgen","modal.subscribe.yahoo.text":'<ol><li>\xd6ffne den Yahoo-Kalender.</li><li>Klicke auf den "Aktionen" Tab.</li><li>W\xe4hle "Weiteren Kalendern folgen".</li><li>W\xe4hle einen Namen und f\xfcge die URL aus deiner Zwischenablage in das URL-Feld ein.</li></ol>',"modal.subscribe.yahoo.button":"Yahoo-Kalender \xf6ffnen","modal.crios.google.text":"Wenn du die Google Calendar App verwendest und diese nicht bereits im Hintergrund ge\xf6ffnet ist, musst du diesen Vorgang leider m\xf6glicherweise zweimal starten.",continue:"Weiter",cancel:"Abbrechen",expired:"Abgelaufen",recurring:"Wiederkehrend"},es:{"label.addtocalendar":"A\xf1adir al Calendario","label.icalfile":"iCal Ficha",close:"Ci\xe9rralo","modal.button.default":"Haz clic m\xed","modal.webview.ical.h":"Abra su browser","modal.webview.ical.text":"Lamentablemente, los browsers in-app tienen problemas con la forma en que generamos el archivo del calendario.","modal.clipboard.text":"Hemos copiado autom\xe1ticamente una URL m\xe1gica en su portapapeles.","modal.webview.ical.steps":"<ol><li><strong>Abre otro browser</strong> en tu smartphone, ...</li><li>Utilice la funci\xf3n de <strong>pegar</strong> para continuar.</li></ol>","modal.opensafari.ical.h":"Abrir Safari","modal.opensafari.ical.text":"Desafortunadamente, iOS tiene algunos problemas para generar y abrir el archivo de calendario fuera de Safari.","modal.opensafari.ical.steps":"<ol><li><strong>Abrir Safari</strong>, ...</li><li>Utilice la funci\xf3n de <strong>pegar</strong> para continuar.</li></ol>","modal.multidate.h":"Esta es una serie de fechas","modal.multidate.text":"A\xf1ada las fechas individuales a su calendario en orden:","date.status.cancelled":"Esta fecha fue cancelada.","date.status.cancelled.cta":"Actualice su calendario!","modal.subscribe.yahoo.h":"A\xf1adir calendario a Yahoo","modal.subscribe.yahoo.text":'<ol><li>Abra el calendario de Yahoo.</li><li>Haga clic en la pesta\xf1a "Acciones".</li><li>Seleccione "Seguir otros calendarios".</li><li>Elige un nombre y pega la URL de tu portapapeles en el campo URL.</li></ol>',"modal.subscribe.yahoo.button":"Abrir calendario de Yahoo","modal.crios.google.text":"Si est\xe1s utilizando la aplicaci\xf3n Google Calendar y no est\xe1 abierta en segundo plano, lamentablemente, es posible que necesites iniciar este proceso dos veces.",continue:"Continuar",cancel:"Cancelar",expired:"Caducada",recurring:"Peri\xf3dica"},pt:{"label.addtocalendar":"Incluir no Calend\xe1rio","label.icalfile":"Ficheiro iCal",close:"Fechar","modal.button.default":"Clicar-me","modal.webview.ical.h":"Abra o seu browser","modal.webview.ical.text":"Infelizmente, os navegadores em tampas t\xeam problemas com a forma como geramos o ficheiro de calend\xe1rio.","modal.clipboard.text":"Copi\xe1mos automaticamente um URL m\xe1gico para a sua \xe1rea de transfer\xeancia.","modal.webview.ical.steps":"<ol><li><strong>Abrir outro browser</strong> en tu smartphone, ...</li><li>Use a fun\xe7\xe3o <forte>colar</strong> para continuar.</li></ol>","modal.opensafari.ical.h":"Safari aberto","modal.opensafari.ical.text":"Infelizmente, o iOS tem alguns problemas para gerar e abrir o arquivo de calend\xe1rio fora do Safari.","modal.opensafari.ical.steps":"<ol><li><strong>Safari aberto</strong>, ...</li><li>Use a fun\xe7\xe3o <forte>colar</strong> para continuar.</li></ol>","modal.multidate.h":"Esta \xe9 uma s\xe9rie de datas","modal.multidate.text":"Adicione as datas individuais ao seu calend\xe1rio, por ordem:","date.status.cancelled":"Esta data foi cancelada.","date.status.cancelled.cta":"Actualize o seu calend\xe1rio!","modal.subscribe.yahoo.h":"Adicionar calend\xe1rio ao Yahoo","modal.subscribe.yahoo.text":'<ol><li>Abrir o calend\xe1rio do Yahoo.</li><li>Clique no separador "Ac\xe7\xf5es".</li><li>Seleccione "Seguir outros calend\xe1rios".</li><li>Escolha um nome e cole o URL da sua \xe1rea de transfer\xeancia no campo URL.</li></ol>',"modal.subscribe.yahoo.button":"Abra o Calend\xe1rio do Yahoo","modal.crios.google.text":"Se estiver usando o aplicativo Google Calendar e ele n\xe3o estiver aberto em segundo plano, infelizmente, voc\xea pode precisar iniciar este processo duas vezes.",continue:"Continuar",cancel:"Cancelar",expired:"Expirada",recurring:"Recorrente"},fr:{"label.addtocalendar":"Ajouter \xe0 l'Agenda","label.icalfile":"Fichier iCal",close:"Fermer","modal.button.default":"Cliquez-moi","modal.webview.ical.h":"Ouvrez votre navigateur","modal.webview.ical.text":"Malheureusement, les navigateurs in-app ont des probl\xe8mes avec la mani\xe8re dont nous cr\xe9ons les fichiers d'agenda.","modal.clipboard.text":"Nous avons automatiquement copi\xe9 une URL magique dans votre presse-papiers.","modal.webview.ical.steps":"<ol><li><strong>Ouvrez un autre navigateur</strong> sur votre smartphone, ...</li><li><strong>Collez</strong> le contenu du presser-papier et continuez.</li></ol>","modal.opensafari.ical.h":"Ouvrir Safari","modal.opensafari.ical.text":"Malheureusement, iOS rencontre des probl\xe8mes pour g\xe9n\xe9rer et ouvrir le fichier de calendrier en dehors de Safari.","modal.opensafari.ical.steps":"<ol><li><strong>Ouvrez Safari</strong>, ...</li><li><strong>Collez</strong> le contenu du presse-papier et continuez.</li></ol>","modal.multidate.h":"Ceci est un \xe9v\xe8nement r\xe9current","modal.multidate.text":"Ajouter les diff\xe9rents \xe9v\xe8nements un par un:","date.status.cancelled":"Cette date est annul\xe9e.","date.status.cancelled.cta":"Actualisez votre agenda!","modal.subscribe.yahoo.h":"Ajouter un agenda \xe0 Yahoo","modal.subscribe.yahoo.text":'<ol><li>Ouvrez l\'Agenda Yahoo.</li><li>Cliquez sur l\'onglet "Actions".</li><li>S\xe9lectionnez "Suivre d\'autres agendas".</li><li>Choisissez un nom et collez le contenu de votre presse-papiers dans le champ URL.</li></ol>',"modal.subscribe.yahoo.button":"Ouvrir le calendrier Yahoo","modal.crios.google.text":"Si vous utilisez l'application Google Calendar et qu'elle n'est pas d\xe9j\xe0 ouverte en arri\xe8re-plan, malheureusement, il se pourrait que vous deviez lancer ce processus deux fois.",continue:"Continuer",cancel:"Annuler",expired:"Expir\xe9",recurring:"R\xe9currente"},nl:{"label.addtocalendar":"Opslaan in Agenda","label.icalfile":"iCal File",close:"Sluiten","modal.button.default":"Klik me","modal.webview.ical.h":"Open uw browser","modal.webview.ical.text":"Helaas hebben in-app browsers problemen met de manier waarop wij kalenderbestanden maken.","modal.clipboard.text":"We hebben automatisch een magische URL naar je klembord gekopieerd.","modal.webview.ical.steps":"<ol><li><strong>Open een andere browser</strong> op uw smartphone, ...</li><li>Gebruik de <strong>insert</strong> functie om verder te gaan.</li></ol>","modal.opensafari.ical.h":"Open Safari","modal.opensafari.ical.text":"Helaas heeft iOS enkele problemen met het genereren en openen van het agendabestand buiten Safari.","modal.opensafari.ical.steps":"<ol><li><strong>Open Safari</strong>, ...</li><li>Gebruik de <strong>insert</strong> functie om verder te gaan.</li></ol>","modal.multidate.h":"Dit is een reeks data","modal.multidate.text":"Voeg de afzonderlijke delen \xe9\xe9n voor \xe9\xe9n toe:","date.status.cancelled":"Deze datum is geannuleerd.","date.status.cancelled.cta":"Uw agenda bijwerken!","modal.subscribe.yahoo.h":"Toevoegen aan Yahoo","modal.subscribe.yahoo.text":'<ol><li>Open de Yahoo calendar.</li><li>Klik op de "Acties" tab.</li><li>Selecteer "Volg Andere Agenda\'s".</li><li>Kies een naam en plak de URL van uw klembord in het URL-veld.</li></ol>',"modal.subscribe.yahoo.button":"Open Yahoo Agenda","modal.crios.google.text":"Als je de Google Calendar-app gebruikt en deze is niet al geopend op de achtergrond, dan zul je helaas mogelijk dit proces twee keer moeten starten.",continue:"Doorgaan",cancel:"Annuleren",expired:"Verlopen",recurring:"Terugkerend"},tr:{"label.addtocalendar":"Takvime Ekle","label.icalfile":"iCal Dosyas\u0131",close:"Kapat","modal.button.default":"Beni t\u0131klay\u0131n","modal.webview.ical.h":"Taray\u0131c\u0131n\u0131z\u0131 a\xe7\u0131n","modal.webview.ical.text":"Ne yaz\u0131k ki, uygulama i\xe7i taray\u0131c\u0131lar takvim dosyalar\u0131n\u0131 olu\u015fturma \u015feklimizle ilgili sorunlar ya\u015f\u0131yor.","modal.clipboard.text":"Panonuza otomatik olarak sihirli bir URL kopyalad\u0131k.","modal.webview.ical.steps":"<ol><li><strong>Ak\u0131ll\u0131 telefonunuzda ba\u015fka bir taray\u0131c\u0131 a\xe7\u0131n</strong>, ...</li><li>Devam etmek i\xe7in <strong>insert</strong> fonksiyonunu kullan\u0131n.</li></ol>","modal.opensafari.ical.h":"A\xe7\u0131k Safari","modal.opensafari.ical.text":"Ne yaz\u0131k ki iOS, takvim dosyas\u0131n\u0131 Safari d\u0131\u015f\u0131nda olu\u015ftururken ve a\xe7arken baz\u0131 sorunlar ya\u015f\u0131yor.","modal.opensafari.ical.steps":"<ol><li><strong>A\xe7\u0131k Safari</strong>, ...</li><li>Devam etmek i\xe7in <strong>insert</strong> fonksiyonunu kullan\u0131n.</li></ol>","modal.multidate.h":"Bu bir etkinlik serisidir","modal.multidate.text":"Par\xe7alar\u0131 teker teker ekleyin:","date.status.cancelled":"Bu tarih iptal edildi.","date.status.cancelled.cta":"L\xfctfen takviminizi g\xfcncelleyin!","modal.subscribe.yahoo.h":"Yahoo'ya takvim ekleme","modal.subscribe.yahoo.text":'<ol><li>Yahoo takvimini a\xe7\u0131n.</li><li>"Eylemler" sekmesine t\u0131klay\u0131n.</li><li>"Di\u011fer Takvimleri Takip Et" \xf6\u011fesini se\xe7in.</li><li>Bir ad se\xe7in ve URL\'yi panonuzdan URL alan\u0131na yap\u0131\u015ft\u0131r\u0131n.</li></ol>',"modal.subscribe.yahoo.button":"Yahoo Takvimini a\xe7","modal.crios.google.text":"Google Takvim uygulamas\u0131n\u0131 kullan\u0131yorsan\u0131z ve zaten arka planda a\xe7\u0131k de\u011filse, ne yaz\u0131k ki bu i\u015flemi iki kez ba\u015flatman\u0131z gerekebilir.",continue:"Devam etmek",cancel:"\u0130ptal",expired:"G\xfcn\xfc ge\xe7mi\u015f",recurring:"Yinelenen"},zh:{"label.addtocalendar":"\u6dfb\u52a0\u5230\u65e5\u5386","label.icalfile":"iCal \u6587\u4ef6",close:"\u5173","modal.button.default":"\u70b9\u6211","modal.webview.ical.h":"\u6253\u5f00\u6d4f\u89c8\u5668","modal.webview.ical.text":"\u4e0d\u5e78\u7684\u662f\uff0c\u5e94\u7528\u5185\u6d4f\u89c8\u5668\u5728\u6211\u4eec\u751f\u6210\u65e5\u5386\u6587\u4ef6\u7684\u65b9\u5f0f\u4e0a\u5b58\u5728\u95ee\u9898\u3002","modal.clipboard.text":"\u6211\u4eec\u81ea\u52a8\u5c06\u9b54\u672f URL \u590d\u5236\u5230\u60a8\u7684\u526a\u8d34\u677f\u3002","modal.webview.ical.steps":"<ol><li>\u6253\u5f00\u624b\u673a\u4e0a\u7684\u4efb\u4f55\u5176\u4ed6\u6d4f\u89c8\u5668, ...</li><li>\u7c98\u8d34\u526a\u8d34\u677f\u5185\u5bb9\u5e76\u5f00\u59cb\u3002</li></ol>","modal.opensafari.ical.h":"\u6253\u5f00 Safari","modal.opensafari.ical.text":"\u4e0d\u5e78\u7684\u662f\uff0ciOS \u5728 Safari \u4e4b\u5916\u751f\u6210\u548c\u6253\u5f00\u65e5\u5386\u6587\u4ef6\u65f6\u9047\u5230\u4e00\u4e9b\u95ee\u9898\u3002","modal.opensafari.ical.steps":"<ol><li><strong>\u6253\u5f00 Safari</strong>, ...</li><li>\u7c98\u8d34\u526a\u8d34\u677f\u5185\u5bb9\u5e76\u5f00\u59cb\u3002</li></ol>","modal.multidate.h":"\u8fd9\u662f\u4e00\u4e2a\u6d3b\u52a8\u7cfb\u5217","modal.multidate.text":"\u9010\u4e2a\u6dfb\u52a0\u5404\u4e2a\u90e8\u5206:","date.status.cancelled":"\u6b64\u65e5\u671f\u5df2\u53d6\u6d88\u3002","date.status.cancelled.cta":"\u8bf7\u66f4\u65b0\u60a8\u7684\u65e5\u5386!","modal.subscribe.yahoo.h":"\u5c06\u65e5\u5386\u6dfb\u52a0\u5230 Yahoo","modal.subscribe.yahoo.text":"<ol><li>\u6253\u5f00 Yahoo \u65e5\u5386\u3002</li><li>\u70b9\u51fb\u201c\u64cd\u4f5c\u201d\u6807\u7b7e\u3002</li><li>\u9009\u62e9\u201c\u5173\u6ce8\u5176\u4ed6\u65e5\u5386\u201d\u3002</li><li>\u9009\u62e9\u4e00\u4e2a\u540d\u79f0\u5e76\u5c06\u526a\u8d34\u677f\u4e2d\u7684 URL \u7c98\u8d34\u5230 URL \u5b57\u6bb5\u4e2d\u3002</li></ol>","modal.subscribe.yahoo.button":"\u6253\u5f00\u96c5\u864e\u65e5\u5386","modal.crios.google.text":"\u5982\u679c\u60a8\u6b63\u5728\u4f7f\u7528 Google \u65e5\u5386\u5e94\u7528\uff0c\u4e14\u8be5\u5e94\u7528\u672a\u5728\u540e\u53f0\u6253\u5f00\uff0c\u5f88\u9057\u61be\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u542f\u52a8\u6b64\u8fdb\u7a0b\u4e24\u6b21\u3002",continue:"\u7ee7\u7eed",cancel:"\u4e2d\u6b62",expired:"\u5df2\u5230\u671f",recurring:"\u518d\u6b21\u53d1\u751f\u7684"},ar:{"label.addtocalendar":"\u0625\u0636\u0627\u0641\u0629 \u0625\u0644\u0649 \u0627\u0644\u062a\u0642\u0648\u064a\u0645","label.icalfile":"\u0645\u0644\u0641 iCal",close:"\u0642\u0631\u064a\u0628","modal.button.default":"\u0627\u0646\u0642\u0631 \u0641\u0648\u0642 \u0644\u064a","modal.webview.ical.h":"\u0627\u0641\u062a\u062d \u0627\u0644\u0645\u0633\u062a\u0639\u0631\u0636 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643","modal.webview.ical.text":"\u0644\u0633\u0648\u0621 \u0627\u0644\u062d\u0638 \u060c \u062a\u0648\u0627\u062c\u0647 \u0627\u0644\u0645\u062a\u0635\u0641\u062d\u0627\u062a \u062f\u0627\u062e\u0644 \u0627\u0644\u062a\u0637\u0628\u064a\u0642 \u0645\u0634\u0627\u0643\u0644 \u0641\u064a \u0637\u0631\u064a\u0642\u0629 \u0625\u0646\u0634\u0627\u0621 \u0645\u0644\u0641 \u0627\u0644\u062a\u0642\u0648\u064a\u0645.","modal.clipboard.text":"\u0642\u0645\u0646\u0627 \u062a\u0644\u0642\u0627\u0626\u064a\u064b\u0627 \u0628\u0646\u0633\u062e \u0639\u0646\u0648\u0627\u0646 URL \u0633\u062d\u0631\u064a \u0625\u0644\u0649 \u0627\u0644\u062d\u0627\u0641\u0638\u0629 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643.","modal.webview.ical.steps":"<ol><li>\u0627\u0641\u062a\u062d \u0623\u064a \u0645\u062a\u0635\u0641\u062d \u0622\u062e\u0631 \u0639\u0644\u0649 \u0647\u0627\u062a\u0641\u0643 \u0627\u0644\u0630\u0643\u064a, ...</li><li>.\u0627\u0644\u0635\u0642 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062d\u0627\u0641\u0638\u0629 \u0648\u0627\u0630\u0647\u0628</li></ol>","modal.opensafari.ical.h":"\u0627\u0641\u062a\u062d Safari","modal.opensafari.ical.text":"\u0644\u0633\u0648\u0621 \u0627\u0644\u062d\u0638 \u060c \u064a\u0648\u0627\u062c\u0647 iOS \u0628\u0639\u0636 \u0627\u0644\u0645\u0634\u0643\u0644\u0627\u062a \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0645\u0644\u0641 \u0627\u0644\u062a\u0642\u0648\u064a\u0645 \u0648\u0641\u062a\u062d\u0647 \u062e\u0627\u0631\u062c Safari.","modal.opensafari.ical.steps":"<ol><li><strong>\u0627\u0641\u062a\u062d Safari</strong>, ...</li><li>\u0627\u0644\u0635\u0642 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062d\u0627\u0641\u0638\u0629 \u0648\u0627\u0630\u0647\u0628.</li></ol>","modal.multidate.h":"\u0647\u0630\u0647 \u0633\u0644\u0633\u0644\u0629 \u0623\u062d\u062f\u0627\u062b","modal.multidate.text":"\u0623\u0636\u0641 \u0627\u0644\u0623\u062c\u0632\u0627\u0621 \u0627\u0644\u0641\u0631\u062f\u064a\u0629 \u0648\u0627\u062d\u062f\u0629 \u062a\u0644\u0648 \u0627\u0644\u0623\u062e\u0631\u0649:","date.status.cancelled":"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u062a\u0627\u0631\u064a\u062e.","date.status.cancelled.cta":"\u0627\u0644\u0631\u062c\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062a\u0642\u0648\u064a\u0645 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643!","modal.subscribe.yahoo.h":"\u0623\u0636\u0641 \u0627\u0644\u062a\u0642\u0648\u064a\u0645 \u0625\u0644\u0649 Yahoo","modal.subscribe.yahoo.text":'<ol><li>\u0627\u0641\u062a\u062d \u062a\u0642\u0648\u064a\u0645 Yahoo.</li><li>\u0627\u0646\u0642\u0631 \u0641\u0648\u0642 \u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u0628\u0648\u064a\u0628 "\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a".</li><li>\u062d\u062f\u062f "\u0645\u062a\u0627\u0628\u0639\u0629 \u062a\u0642\u0648\u064a\u0645\u0627\u062a \u0623\u062e\u0631\u0649".</li><li>\u0627\u062e\u062a\u0631 \u0627\u0633\u0645\u064b\u0627 \u0648\u0627\u0644\u0635\u0642 \u0639\u0646\u0648\u0627\u0646 URL \u0645\u0646 \u0627\u0644\u062d\u0627\u0641\u0638\u0629 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643 \u0641\u064a \u062d\u0642\u0644 URL.</li></ol>',"modal.subscribe.yahoo.button":"\u0627\u0641\u062a\u062d \u062a\u0642\u0648\u064a\u0645 \u064a\u0627\u0647\u0648","modal.crios.google.text":"\u0625\u0630\u0627 \u0643\u0646\u062a \u062a\u0633\u062a\u062e\u062f\u0645 \u062a\u0637\u0628\u064a\u0642 Google Calendar \u0648\u0644\u0645 \u064a\u0643\u0646 \u0645\u0641\u062a\u0648\u062d\u064b\u0627 \u0628\u0627\u0644\u0641\u0639\u0644 \u0641\u064a \u0627\u0644\u062e\u0644\u0641\u064a\u0629\u060c \u0641\u0642\u062f \u062a\u062d\u062a\u0627\u062c \u0625\u0644\u0649 \u0628\u062f\u0621 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0645\u0631\u062a\u064a\u0646 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644.",continue:"\u0627\u0633\u062a\u0645\u0631",cancel:"\u0625\u062d\u0628\u0627\u0637",expired:"\u0645\u0646\u062a\u0647\u064a \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629",recurring:"\u064a\u062a\u0643\u0631\u0631"},hi:{"label.addtocalendar":"\u0915\u0948\u0932\u0947\u0902\u0921\u0930 \u092e\u0947\u0902 \u091c\u094b\u0921\u093c\u0947\u0902","label.icalfile":"iCal \u092b\u093c\u093e\u0907\u0932",close:"\u092c\u0902\u0926 \u0915\u0930\u0928\u093e","modal.button.default":"\u092e\u0941\u091d\u0947 \u0915\u094d\u0932\u093f\u0915 \u0915\u0930\u0947\u0902","modal.webview.ical.h":"\u0905\u092a\u0928\u093e \u092c\u094d\u0930\u093e\u0909\u091c\u093c\u0930 \u0916\u094b\u0932\u0947\u0902","modal.webview.ical.text":"\u0926\u0941\u0930\u094d\u092d\u093e\u0917\u094d\u092f \u0938\u0947, \u0907\u0928-\u0910\u092a \u092c\u094d\u0930\u093e\u0909\u091c\u093c\u0930 \u092e\u0947\u0902 \u0915\u0948\u0932\u0947\u0902\u0921\u0930 \u092b\u093c\u093e\u0907\u0932 \u092c\u0928\u093e\u0928\u0947 \u0915\u0947 \u0924\u0930\u0940\u0915\u0947 \u092e\u0947\u0902 \u0938\u092e\u0938\u094d\u092f\u093e\u090f\u0901 \u0939\u0948\u0902\u0964","modal.clipboard.text":"\u0939\u092e\u0928\u0947 \u0906\u092a\u0915\u0947 \u0915\u094d\u0932\u093f\u092a\u092c\u094b\u0930\u094d\u0921 \u092a\u0930 \u0938\u094d\u0935\u091a\u093e\u0932\u093f\u0924 \u0930\u0942\u092a \u0938\u0947 \u090f\u0915 \u091c\u093e\u0926\u0941\u0908 URL \u0915\u0949\u092a\u0940 \u0915\u0930 \u0932\u093f\u092f\u093e \u0939\u0948\u0964","modal.webview.ical.steps":"<ol><li>\u0905\u092a\u0928\u0947 \u092b\u093c\u094b\u0928 \u092a\u0930 <strong>\u0926\u0942\u0938\u0930\u093e \u092c\u094d\u0930\u093e\u0909\u091c\u093c\u0930 \u0916\u094b\u0932\u0947\u0902</strong>, ...</li><li>\u0915\u094d\u0932\u093f\u092a\u092c\u094b\u0930\u094d\u0921 \u0938\u093e\u092e\u0917\u094d\u0930\u0940 <strong>\u091a\u093f\u092a\u0915\u093e\u090f\u0902</strong> \u0914\u0930 \u091c\u093e\u090f\u0902\u0964</li></ol>","modal.opensafari.ical.h":"\u0938\u092b\u093e\u0930\u0940 \u0916\u094b\u0932\u0947\u0902","modal.opensafari.ical.text":"\u0926\u0941\u0930\u094d\u092d\u093e\u0917\u094d\u092f \u0938\u0947, iOS \u092e\u0947\u0902 \u0938\u092b\u093c\u093e\u0930\u0940 \u0915\u0947 \u092c\u093e\u0939\u0930 \u0915\u0948\u0932\u0947\u0902\u0921\u0930 \u092b\u093c\u093e\u0907\u0932 \u092c\u0928\u093e\u0928\u0947 \u0914\u0930 \u0916\u094b\u0932\u0928\u0947 \u092e\u0947\u0902 \u0915\u0941\u091b \u0938\u092e\u0938\u094d\u092f\u093e\u090f\u0901 \u0939\u0948\u0902\u0964","modal.opensafari.ical.steps":"<ol><li><strong>\u0938\u092b\u093e\u0930\u0940 \u0916\u094b\u0932\u0947\u0902</strong>, ...</li><li>\u0915\u094d\u0932\u093f\u092a\u092c\u094b\u0930\u094d\u0921 \u0938\u093e\u092e\u0917\u094d\u0930\u0940 <strong>\u091a\u093f\u092a\u0915\u093e\u090f\u0902</strong> \u0914\u0930 \u091c\u093e\u090f\u0902\u0964</li></ol>","modal.multidate.h":"\u092f\u0939 \u090f\u0915 \u0907\u0935\u0947\u0902\u091f \u0938\u0940\u0930\u0940\u091c\u093c \u0939\u0948","modal.multidate.text":"\u0905\u0932\u0917-\u0905\u0932\u0917 \u0939\u093f\u0938\u094d\u0938\u094b\u0902 \u0915\u094b \u090f\u0915-\u090f\u0915 \u0915\u0930\u0915\u0947 \u091c\u094b\u0921\u093c\u0947\u0902:","date.status.cancelled":"\u092f\u0939 \u0924\u093f\u0925\u093f \u0930\u0926\u094d\u0926 \u0939\u094b \u0917\u0908\u0964","date.status.cancelled.cta":"\u0915\u0943\u092a\u092f\u093e \u0905\u092a\u0928\u093e \u0915\u0948\u0932\u0947\u0902\u0921\u0930 \u0905\u092a\u0921\u0947\u091f \u0915\u0930\u0947\u0902!","modal.subscribe.yahoo.h":"Yahoo . \u092e\u0947\u0902 \u0915\u0948\u0932\u0947\u0902\u0921\u0930 \u091c\u094b\u0921\u093c\u0947\u0902","modal.subscribe.yahoo.text":'<ol><li>Yahoo \u0915\u0948\u0932\u0947\u0902\u0921\u0930 \u0916\u094b\u0932\u0947\u0902\u0964</li><li>"\u0915\u0943\u0924\u0940" \u091f\u0948\u092c \u092a\u0930 \u0915\u094d\u0932\u093f\u0915 \u0915\u0930\u0947\u0902\u0964</li><li>"\u0907\u0924\u0930 \u0915\u0945\u0932\u0947\u0902\u0921\u0930\u094d\u0938\u091a\u0947 \u0905\u0928\u0941\u0938\u0930\u0923 \u0915\u0930\u093e" \u091a\u0941\u0928\u0947\u0902\u0964</li><li>\u090f\u0915 \u0928\u093e\u092e \u091a\u0941\u0928\u0947\u0902 \u0914\u0930 \u0905\u092a\u0928\u0947 \u0915\u094d\u0932\u093f\u092a\u092c\u094b\u0930\u094d\u0921 \u0938\u0947 URL \u0915\u094b URL \u092b\u093c\u0940\u0932\u094d\u0921 \u092e\u0947\u0902 \u092a\u0947\u0938\u094d\u091f \u0915\u0930\u0947\u0902\u0964</li></ol>',"modal.subscribe.yahoo.button":"\u092f\u093e\u0939\u0942 \u0915\u0948\u0932\u0947\u0902\u0921\u0930 \u0916\u094b\u0932\u0947\u0902","modal.crios.google.text":"\u0905\u0917\u0930 \u0906\u092a Google Calendar \u090f\u092a\u094d\u0932\u093f\u0915\u0947\u0936\u0928 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930 \u0930\u0939\u0947 \u0939\u0948\u0902 \u0914\u0930 \u092f\u0939 \u092a\u0939\u0932\u0947 \u0938\u0947 \u0939\u0940 \u092a\u0943\u0937\u094d\u0920\u092d\u0942\u092e\u093f \u092e\u0947\u0902 \u0928\u0939\u0940\u0902 \u0916\u0941\u0932\u093e \u0939\u0948, \u0924\u094b \u0926\u0941\u0916\u0926 \u0939\u0948 \u0915\u093f \u0906\u092a\u0915\u094b \u0936\u093e\u092f\u0926 \u0907\u0938 \u092a\u094d\u0930\u0915\u094d\u0930\u093f\u092f\u093e \u0915\u094b \u0926\u094b \u092c\u093e\u0930 \u0936\u0941\u0930\u0942 \u0915\u0930\u0928\u0947 \u0915\u0940 \u0906\u0935\u0936\u094d\u092f\u0915\u0924\u093e \u0939\u094b \u0938\u0915\u0924\u0940 \u0939\u0948\u0964",continue:"\u091c\u093e\u0930\u0940 \u0930\u0916\u0947\u0902",cancel:"\u0930\u0926\u094d\u0926 \u0915\u0930\u0928\u093e",expired:"\u0916\u0924\u094d\u092e \u0939\u094b \u091a\u0941\u0915\u093e",recurring:"\u092a\u0941\u0928\u0930\u093e\u0935\u0930\u094d\u0924\u0940"},pl:{"label.addtocalendar":"Dodaj do kalendarza","label.icalfile":"Plik iCal",close:"Zamknij","modal.button.default":"Kliknij mnie","modal.webview.ical.h":"Otw\xf3rz przegl\u0105dark\u0119","modal.webview.ical.text":"Niestety, przegl\u0105darki in-app maj\u0105 problemy ze sposobem, w jaki generujemy plik kalendarza.","modal.clipboard.text":"Automatycznie skopiowali\u015bmy magiczny adres URL do schowka.","modal.webview.ical.steps":"<ol><li><strong>Otw\xf3rz inn\u0105 przegl\u0105dark\u0119</strong> w swoim telefonie, ...</li><li><strong>Wklej</strong> zawarto\u015b\u0107 schowka i ruszaj.</li></ol>","modal.opensafari.ical.h":"Otw\xf3rz Safari","modal.opensafari.ical.text":"Niestety iOS ma pewne problemy z generowaniem i otwieraniem pliku kalendarza poza Safari.","modal.opensafari.ical.steps":"<ol><li><strong>Otw\xf3rz Safari</strong>, ...</li><li><strong>Wklej</strong> zawarto\u015b\u0107 schowka i ruszaj.</li></ol>","modal.multidate.h":"To jest cykl imprez","modal.multidate.text":"Dodawa\u0107 po kolei poszczeg\xf3lne cz\u0119\u015bci:","date.status.cancelled":"Ta data zosta\u0142a odwo\u0142ana.","date.status.cancelled.cta":"Zaktualizuj sw\xf3j kalendarz!","modal.subscribe.yahoo.h":"Dodaj kalendarz do Yahoo","modal.subscribe.yahoo.text":'<ol><li>Otw\xf3rz kalendarz Yahoo.</li><li>Kliknij na zak\u0142adk\u0119 "Czynno\u015bci".</li><li>Wybierz "Obserwuj inne kalendarze".</li><li>Wybierz nazw\u0119 i wklej adres URL ze schowka w polu URL.</li></ol>',"modal.subscribe.yahoo.button":"Otw\xf3rz kalendarz Yahoo","modal.crios.google.text":"Je\u015bli u\u017cywasz aplikacji Google Calendar i nie jest ona ju\u017c otwarta w tle, niestety, mo\u017ce by\u0107 konieczne dwukrotne uruchomienie tego procesu.",continue:"Kontynuowa\u0107",cancel:"Anuluj",expired:"Wygas\u0142y",recurring:"Powtarzaj\u0105cy si\u0119"},id:{"label.addtocalendar":"Tambahkan ke Kalender","label.icalfile":"File iCal",close:"Tutup","modal.button.default":"Klik saya","modal.webview.ical.h":"Buka browser Anda","modal.webview.ical.text":"Sayangnya, browser dalam aplikasi memiliki masalah dengan cara kami menghasilkan file kalender.","modal.clipboard.text":"Kami telah secara otomatis menyalin URL ajaib ke clipboard Anda.","modal.webview.ical.steps":"<ol><li><strong>Buka peramban lain</strong> pada ponsel Anda, ...</li><li>Tempelkan konten clipboard dan pergi.</li></ol>","modal.opensafari.ical.h":"Buka Safari","modal.opensafari.ical.text":"Sayangnya, iOS memiliki beberapa masalah dalam membuat dan membuka file kalender di luar Safari.","modal.opensafari.ical.steps":"<ol><li><strong>Buka Safari</strong>, ...</li><li>Tempelkan konten clipboard dan pergi.</li></ol>","modal.multidate.h":"Ini adalah rangkaian acara","modal.multidate.text":"Tambahkan masing-masing bagian satu per satu:","date.status.cancelled":"Tanggal ini dibatalkan.","date.status.cancelled.cta":"Perbarui kalender Anda!","modal.subscribe.yahoo.h":"Tambahkan kalender ke Yahoo","modal.subscribe.yahoo.text":'<ol><li>Buka kalender Yahoo.</li><li>Klik pada tab "Tindakan".</li><li>Pilih "Ikuti Kalender Lain".</li><li>Pilih nama dan tempelkan URL dari clipboard Anda ke bidang URL.</li></ol>',"modal.subscribe.yahoo.button":"Buka kalender Yahoo","modal.crios.google.text":"Jika Anda menggunakan aplikasi Google Calendar dan aplikasi tersebut belum terbuka di latar belakang, sayangnya, Anda mungkin perlu memulai proses ini dua kali.",continue:"Lanjutkan",cancel:"Batal",expired:"Kedaluwarsa",recurring:"Berulang"},no:{"label.addtocalendar":"Legg til i kalenderen","label.icalfile":"iCal-fil",close:"Lukk","modal.button.default":"Klikk p\xe5 meg","modal.webview.ical.h":"\xc5pne nettleseren din","modal.webview.ical.text":"Dessverre har nettlesere i appen problemer med m\xe5ten vi genererer kalenderfilen p\xe5.","modal.clipboard.text":"Vi kopierte automatisk en magisk URL til utklippstavlen din.","modal.webview.ical.steps":"<ol><li><strong>\xc5pne en annen nettleser</strong> p\xe5 telefonen, ...</li><li><strong>Lim inn</strong> innholdet p\xe5 utklippstavlen og g\xe5.</li></ol>","modal.opensafari.ical.h":"\xc5pne Safari","modal.opensafari.ical.text":"Dessverre har iOS noen problemer med \xe5 generere og \xe5pne kalenderfilen utenfor Safari.","modal.opensafari.ical.steps":"<ol><li><strong>\xc5pne Safari</strong>, ...</li><li><strong>Lim inn</strong> innholdet p\xe5 utklippstavlen og g\xe5.</li></ol>","modal.multidate.h":"Dette er en avtaleserie","modal.multidate.text":"Legg til de enkelte datoene i kalenderen din i rekkef\xf8lge:","date.status.cancelled":"Denne datoen ble avlyst.","date.status.cancelled.cta":"Oppdater kalenderen din!","modal.subscribe.yahoo.h":"Legg til kalender til Yahoo","modal.subscribe.yahoo.text":"<ol><li>\xc5pne Yahoo-kalenderen.</li><li>Klikk p\xe5 \xabHandlinger\xbb-fanen.</li><li>Velg \xabF\xf8lg andre kalendere\xbb.</li><li>Velg et navn og lim inn URL-en fra utklippstavlen i URL-feltet.</li></ol>","modal.subscribe.yahoo.button":"\xc5pne Yahoo-kalenderen","modal.crios.google.text":"Hvis du bruker Google Calendar-appen og den ikke allerede er \xe5pen i bakgrunnen, m\xe5 du dessverre kanskje starte denne prosessen to ganger.",continue:"Fortsette",cancel:"Avbryt",expired:"Utl\xf8pt",recurring:"Tilbakevendende"},fi:{"label.addtocalendar":"Lis\xe4\xe4 kalenteriin","label.icalfile":"iCal-tiedosto",close:"Sulje","modal.button.default":"Klikkaa minua","modal.webview.ical.h":"Avaa selain","modal.webview.ical.text":"Valitettavasti sovelluksen sis\xe4isill\xe4 selaimilla on ongelmia kalenteritiedoston luomisessa.","modal.clipboard.text":"Olemme automaattisesti kopioineet maagisen URL-osoitteen leikep\xf6yd\xe4llesi.","modal.webview.ical.steps":"<ol><li><strong>Avaa toinen selain</strong> puhelimessasi., ...</li><li><strong>liit\xe4</strong> leikep\xf6yd\xe4n sis\xe4lt\xf6 ja l\xe4hde.</li></ol>","modal.opensafari.ical.h":"Avaa Safari","modal.opensafari.ical.text":"Valitettavasti iOS:ll\xe4 on ongelmia kalenteritiedoston luomisessa ja avaamisessa Safarin ulkopuolella.","modal.opensafari.ical.steps":"<ol><li><strong>Avaa Safari</strong>, ...</li><li><strong>liit\xe4</strong> leikep\xf6yd\xe4n sis\xe4lt\xf6 ja l\xe4hde.</li></ol>","modal.multidate.h":"T\xe4m\xe4 on tapahtumasarja","modal.multidate.text":"Lis\xe4\xe4 yksitt\xe4iset osat yksi kerrallaan:","date.status.cancelled":"T\xe4m\xe4 p\xe4iv\xe4m\xe4\xe4r\xe4 peruttiin.","date.status.cancelled.cta":"P\xe4ivit\xe4 kalenterisi!","modal.subscribe.yahoo.h":"Lis\xe4\xe4 kalenteri Yahoo","modal.subscribe.yahoo.text":'<ol><li>Avaa Yahoo-kalenteri.</li><li>Napsauta "Toiminnot"-v\xe4lilehte\xe4.</li><li>Valitse "Seuraa muiden kalentereita".</li><li>Valitse nimi ja liit\xe4 URL-osoite leikep\xf6yd\xe4lt\xe4si URL-kentt\xe4\xe4n.</li></ol>',"modal.subscribe.yahoo.button":"Avaa Yahoo-kalenteri","modal.crios.google.text":"Jos k\xe4yt\xe4t Google Kalenteri -sovellusta eik\xe4 se ole jo avoinna taustalla, valitettavasti saatat joutua aloittamaan t\xe4m\xe4n prosessin kahdesti.",continue:"Jatkaa",cancel:"Peruuta",expired:"Vanhentunut",recurring:"Toistuva"},sv:{"label.addtocalendar":"L\xe4gg till i kalender","label.icalfile":"iCal-fil",close:"St\xe4ng","modal.button.default":"Klicka p\xe5 mig","modal.webview.ical.h":"\xd6ppna din webbl\xe4sare","modal.webview.ical.text":"Tyv\xe4rr har webbl\xe4sare i appen problem med hur vi genererar kalenderfilen.","modal.clipboard.text":"Vi har automatiskt kopierat en magisk URL till ditt klippblock.","modal.webview.ical.steps":"<ol><li><strong>\xd6ppna en annan webbl\xe4sare</strong> p\xe5 telefonen, ...</li><li><strong>Ins\xe4tt</strong> inneh\xe5llet i klippbordet och k\xf6r.</li></ol>","modal.opensafari.ical.h":"\xd6ppna Safari","modal.opensafari.ical.text":"Tyv\xe4rr har iOS vissa problem med att generera och \xf6ppna kalenderfilen utanf\xf6r Safari.","modal.opensafari.ical.steps":"<ol><li><strong>\xd6ppna Safari</strong>, ...</li><li><strong>Ins\xe4tt</strong> inneh\xe5llet i klippbordet och k\xf6r.</li></ol>","modal.multidate.h":"Detta \xe4r en evenemangsserie","modal.multidate.text":"L\xe4gg till de enskilda delarna en efter en:","date.status.cancelled":"Detta datum har st\xe4llts in.","date.status.cancelled.cta":"Uppdatera din kalender!","modal.subscribe.yahoo.h":"L\xe4gg till kalender i Yahoo","modal.subscribe.yahoo.text":'<ol><li>\xd6ppna Yahoo-kalendern.</li><li>Klicka p\xe5 fliken "\xc5tg\xe4rder".</li><li>V\xe4lj "F\xf6lj andra kalendrar".</li><li>V\xe4lj ett namn och klistra in URL:en fr\xe5n klippbordet i URL-f\xe4ltet.</li></ol>',"modal.subscribe.yahoo.button":"\xd6ppna Yahoo-kalendern","modal.crios.google.text":"Om du anv\xe4nder Google Calendar-appen och den inte redan \xe4r \xf6ppen i bakgrunden, m\xe5ste du tyv\xe4rr kanske starta denna process tv\xe5 g\xe5nger.",continue:"Forts\xe4tta",cancel:"Avbryt",expired:"Utg\xe5nget",recurring:"\xc5terkommande"},cs:{"label.addtocalendar":"P\u0159idat do kalend\xe1\u0159e","label.icalfile":"Soubor iCal",close:"Zav\u0159\xedt","modal.button.default":"Klikn\u011bte na m\u011b","modal.webview.ical.h":"Otev\u0159ete prohl\xed\u017ee\u010d","modal.webview.ical.text":"Prohl\xed\u017ee\u010de v aplikac\xedch maj\xed bohu\u017eel probl\xe9my se zp\u016fsobem generov\xe1n\xed souboru kalend\xe1\u0159e.","modal.clipboard.text":"Do schr\xe1nky jsme automaticky zkop\xedrovali kouzelnou adresu URL.","modal.webview.ical.steps":"<ol><li><strong>Otev\u0159en\xed jin\xe9ho prohl\xed\u017ee\u010de</strong> v telefonu, ...</li><li><strong>Vlo\u017ete</strong> obsah schr\xe1nky a p\u0159ejd\u011bte.</li></ol>","modal.opensafari.ical.h":"Otev\u0159\xedt Safari","modal.opensafari.ical.text":"Bohu\u017eel m\xe1 iOS n\u011bjak\xe9 probl\xe9my s generov\xe1n\xedm a otev\xedr\xe1n\xedm souboru kalend\xe1\u0159e mimo Safari.","modal.opensafari.ical.steps":"<ol><li><strong>Otev\u0159\xedt Safari</strong>, ...</li><li><strong>Vlo\u017ete</strong> obsah schr\xe1nky a p\u0159ejd\u011bte.</li></ol>","modal.multidate.h":"Jedn\xe1 se o s\xe9rii ud\xe1lost\xed","modal.multidate.text":"P\u0159id\xe1vejte jednotliv\xe9 d\xedly jeden po druh\xe9m:","date.status.cancelled":"Toto datum bylo zru\u0161eno.","date.status.cancelled.cta":"Aktualizujte sv\u016fj kalend\xe1\u0159!","modal.subscribe.yahoo.h":"P\u0159idat kalend\xe1\u0159 do Yahoo","modal.subscribe.yahoo.text":'<ol><li>Otev\u0159ete kalend\xe1\u0159 Yahoo.</li><li>Klikn\u011bte na kartu "Akce".</li><li>Vyberte mo\u017enost "Sledovat dal\u0161\xed kalend\xe1\u0159e".</li><li>Vyberte n\xe1zev a vlo\u017ete adresu URL ze schr\xe1nky do pole URL.</li></ol>',"modal.subscribe.yahoo.button":"Otev\u0159ete kalend\xe1\u0159 Yahoo","modal.crios.google.text":"Pokud pou\u017e\xedv\xe1te aplikaci Google Calendar a nen\xed ji\u017e otev\u0159en\xe1 na pozad\xed, bohu\u017eel budete pravd\u011bpodobn\u011b muset tento proces spustit dvakr\xe1t.",continue:"Pokra\u010dovat",cancel:"Storno",expired:"Platnost vypr\u0161ela",recurring:"Opakuj\xedc\xed se"},ja:{"label.addtocalendar":"\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u8ffd\u52a0","label.icalfile":"iCal\u30d5\u30a1\u30a4\u30eb",close:"\u9589\u3058\u308b","modal.button.default":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044","modal.webview.ical.h":"\u30d6\u30e9\u30a6\u30b6\u3092\u8d77\u52d5\u3059\u308b","modal.webview.ical.text":"\u6b8b\u5ff5\u306a\u304c\u3089\u3001\u30a2\u30d7\u30ea\u5185\u30d6\u30e9\u30a6\u30b6\u306f\u3001\u30ab\u30ec\u30f3\u30c0\u30fc\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u6210\u65b9\u6cd5\u306b\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002","modal.clipboard.text":"\u9b54\u6cd5\u306eURL\u3092\u81ea\u52d5\u7684\u306b\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3057\u3066\u3044\u307e\u3059\u3002","modal.webview.ical.steps":"<ol><li>\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u3067\u5225\u306e\u30d6\u30e9\u30a6\u30b6\u3092\u8d77\u52d5\u3059\u308b, ...</li><li>\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306e\u5185\u5bb9\u3092\u8cbc\u308a\u4ed8\u3051\u3066\u884c\u304f\u3002</li></ol>","modal.opensafari.ical.h":"\u30aa\u30fc\u30d7\u30f3Safari","modal.opensafari.ical.text":"\u6b8b\u5ff5\u306a\u304c\u3089\u3001iOS \u3067\u306f\u3001Safari \u306e\u5916\u3067\u30ab\u30ec\u30f3\u30c0\u30fc \u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u305f\u308a\u958b\u3044\u305f\u308a\u3059\u308b\u969b\u306b\u3044\u304f\u3064\u304b\u306e\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002","modal.opensafari.ical.steps":"<ol><li><strong>\u30aa\u30fc\u30d7\u30f3Safari</strong>, ...</li><li>\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306e\u5185\u5bb9\u3092\u8cbc\u308a\u4ed8\u3051\u3066\u884c\u304f\u3002</li></ol>","modal.multidate.h":"\u30a4\u30d9\u30f3\u30c8\u30b7\u30ea\u30fc\u30ba\u3067\u3059","modal.multidate.text":"\u500b\u3005\u306e\u30d1\u30fc\u30c4\u3092\u4e00\u3064\u305a\u3064\u8ffd\u52a0\u3057\u3066\u3044\u304f:","date.status.cancelled":"\u3053\u306e\u65e5\u306f\u30ad\u30e3\u30f3\u30bb\u30eb\u306b\u306a\u308a\u307e\u3057\u305f\u3002","date.status.cancelled.cta":"\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u66f4\u65b0\u3059\u308b!","modal.subscribe.yahoo.h":"Yahoo\u306b\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u8ffd\u52a0\u3059\u308b","modal.subscribe.yahoo.text":"<ol><li>Yahoo\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u958b\u304f\u3002</li><li>[\u5b9f\u884c] \u30bf\u30d6\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002</li><li>[\u305d\u306e\u4ed6\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u30d5\u30a9\u30ed\u30fc] \u3092\u9078\u629e\u3057\u307e\u3059\u3002</li><li>\u540d\u524d\u3092\u6c7a\u3081\u3066\u3001\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u3042\u308bURL\u3092URL\u6b04\u306b\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002</li></ol>","modal.subscribe.yahoo.button":"Yahoo\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u958b\u304f","modal.crios.google.text":"Google \u30ab\u30ec\u30f3\u30c0\u30fc\u30a2\u30d7\u30ea\u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001\u305d\u308c\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u65e2\u306b\u958b\u304b\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u3001\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u30922\u56de\u958b\u59cb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002",continue:"\u7d9a\u3051\u308b",cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",expired:"\u671f\u9650\u5207\u308c",recurring:"\u7e70\u308a\u8fd4\u3057"},it:{"label.addtocalendar":"Aggiungi al calendario","label.icalfile":"File iCal",close:"Chiudere","modal.button.default":"Clicca su di me","modal.webview.ical.h":"Aprire il browser","modal.webview.ical.text":"Purtroppo i browser in-app hanno problemi con il modo in cui generiamo il file del calendario.","modal.clipboard.text":"Abbiamo copiato automaticamente un URL magico negli appunti.","modal.webview.ical.steps":"<ol><li><strong>Aprire un altro browser</strong> sul cellulare, ...</li><li><strong>Incollare</strong> il contenuto degli appunti e partire.</li></ol>","modal.opensafari.ical.h":"Aprire Safari","modal.opensafari.ical.text":"Sfortunatamente, iOS ha alcuni problemi nella generazione e nell'apertura del file del calendario al di fuori di Safari.","modal.opensafari.ical.steps":"<ol><li><strong>Aprire Safari</strong>, ...</li><li><strong>Incollare</strong> il contenuto degli appunti e partire.</li></ol>","modal.multidate.h":"Questa \xe8 una serie di eventi","modal.multidate.text":"Aggiungere le singole parti una per una:","date.status.cancelled":"La data \xe8 stata annullata.","date.status.cancelled.cta":"Aggiornare il calendario!","modal.subscribe.yahoo.h":"Aggiungi il calendario a Yahoo","modal.subscribe.yahoo.text":'<ol><li>Aprire il calendario di Yahoo.</li><li>Fare clic sulla scheda "Azioni".</li><li>Selezionare "Segui altri calendari".</li><li>Scegliere un nome e incollare l\'URL dagli appunti nel campo URL.</li></ol>',"modal.subscribe.yahoo.button":"Apri il calendario di Yahoo","modal.crios.google.text":"Se stai utilizzando l'applicazione Google Calendar e non \xe8 gi\xe0 aperta in background, purtroppo potrebbe essere necessario avviare questo processo due volte.",continue:"Continuare",cancel:"Annulla",expired:"Scaduta",recurring:"Ricorrente"},ko:{"label.addtocalendar":"\uce98\ub9b0\ub354\uc5d0 \ucd94\uac00","label.icalfile":"iCal \ud30c\uc77c",close:"\ub2eb\ub2e4","modal.button.default":"\ud074\ub9ad \ud574\uc8fc\uc138\uc694","modal.webview.ical.h":"\ube0c\ub77c\uc6b0\uc800 \uc5f4\uae30","modal.webview.ical.text":"\ubd88\ud589\ud788\ub3c4 \uc778\uc571 \ube0c\ub77c\uc6b0\uc800\ub294 \uce98\ub9b0\ub354 \ud30c\uc77c\uc744 \uc0dd\uc131\ud558\ub294 \ubc29\uc2dd\uc5d0 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4.","modal.clipboard.text":"\ub9e4\uc9c1 URL\uc744 \ud074\ub9bd\ubcf4\ub4dc\uc5d0 \uc790\ub3d9\uc73c\ub85c \ubcf5\uc0ac\ud588\uc2b5\ub2c8\ub2e4.","modal.webview.ical.steps":"<ol><li>\ud734\ub300\uc804\ud654\uc5d0\uc11c \ub2e4\ub978 \ube0c\ub77c\uc6b0\uc800 \uc5f4\uae30, ...</li><li>\ud074\ub9bd\ubcf4\ub4dc \ub0b4\uc6a9\uc744 \ubd99\uc5ec\ub123\uace0 \uc774\ub3d9\ud569\ub2c8\ub2e4.</li></ol>","modal.opensafari.ical.h":"Safari \uc5f4\uae30","modal.opensafari.ical.text":"\uc548\ud0c0\uae5d\uac8c\ub3c4 iOS\uc5d0\ub294 Safari \uc678\ubd80\uc5d0\uc11c \uce98\ub9b0\ub354 \ud30c\uc77c\uc744 \uc0dd\uc131\ud558\uace0 \uc5ec\ub294 \ub370 \uba87 \uac00\uc9c0 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4.","modal.opensafari.ical.steps":"<ol><li><strong>Safari \uc5f4\uae30</strong>, ...</li><li>\ud074\ub9bd\ubcf4\ub4dc \ub0b4\uc6a9\uc744 \ubd99\uc5ec\ub123\uace0 \uc774\ub3d9\ud569\ub2c8\ub2e4.</li></ol>","modal.multidate.h":"\uc774\ubca4\ud2b8 \uc2dc\ub9ac\uc988\uc785\ub2c8\ub2e4","modal.multidate.text":"\uac1c\ubcc4 \ubd80\ud488\uc744 \ud558\ub098\uc529 \ucd94\uac00:","date.status.cancelled":"\uc774 \ub0a0\uc9dc\ub294 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","date.status.cancelled.cta":"\uce98\ub9b0\ub354\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\uc138\uc694!","modal.subscribe.yahoo.h":"Yahoo\uc5d0 \uce98\ub9b0\ub354 \ucd94\uac00","modal.subscribe.yahoo.text":'<ol><li>Yahoo \uce98\ub9b0\ub354\ub97c \uc5fd\ub2c8\ub2e4.</li><li>"\ub3d9\uc791" \ud0ed\uc744 \ud074\ub9ad\ud569\ub2c8\ub2e4.</li><li>"\ub2e4\ub978 \uc77c\uc815\uad00\ub9ac \ud314\ub85c\uc6b0"\ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4.</li><li>\uc774\ub984\uc744 \uc120\ud0dd\ud558\uace0 \ud074\ub9bd\ubcf4\ub4dc\uc758 URL\uc744 URL \ud544\ub4dc\uc5d0 \ubd99\uc5ec\ub123\uc2b5\ub2c8\ub2e4.</li></ol>',"modal.subscribe.yahoo.button":"\uc57c\ud6c4 \uce98\ub9b0\ub354 \uc5f4\uae30","modal.crios.google.text":"Google \uce98\ub9b0\ub354 \uc571\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\uace0 \uc774\ubbf8 \ubc31\uadf8\ub77c\uc6b4\ub4dc\uc5d0\uc11c \uc5f4\ub824 \uc788\uc9c0 \uc54a\ub2e4\uba74, \uc548\ud0c0\uae5d\uac8c\ub3c4 \uc774 \ud504\ub85c\uc138\uc2a4\ub97c \ub450 \ubc88 \uc2dc\uc791\ud574\uc57c \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",continue:"\uacc4\uc18d\ud558\ub2e4",cancel:"\ucde8\uc18c",expired:"\ub9cc\ub8cc\ub428",recurring:"\ub418\ud480\uc774"},vi:{"label.addtocalendar":"Th\xeam v\xe0o L\u1ecbch","label.icalfile":"T\u1ec7p iCal",close:"\u0110\xf3ng","modal.button.default":"Nh\u1ea5p v\xe0o \u0111\xe2y","modal.webview.ical.h":"M\u1edf tr\xecnh duy\u1ec7t c\u1ee7a b\u1ea1n","modal.webview.ical.text":"R\u1ea5t ti\u1ebfc, c\xe1c tr\xecnh duy\u1ec7t trong \u1ee9ng d\u1ee5ng g\u1eb7p s\u1ef1 c\u1ed1 v\u1edbi c\xe1ch ch\xfang t\xf4i t\u1ea1o t\u1ec7p l\u1ecbch.","modal.clipboard.text":"Ch\xfang t\xf4i \u0111\xe3 t\u1ef1 \u0111\u1ed9ng sao ch\xe9p m\u1ed9t URL ma thu\u1eadt v\xe0o khay nh\u1edb t\u1ea1m c\u1ee7a b\u1ea1n.","modal.webview.ical.steps":"<ol><li><strong> M\u1edf tr\xecnh duy\u1ec7t kh\xe1c </strong> tr\xean \u0111i\u1ec7n tho\u1ea1i c\u1ee7a b\u1ea1n, ...</li><li><strong> D\xe1n </strong> n\u1ed9i dung khay nh\u1edb t\u1ea1m v\xe0 b\u1eaft \u0111\u1ea7u.</li></ol>","modal.opensafari.ical.h":"M\u1edf Safari","modal.opensafari.ical.text":"R\u1ea5t ti\u1ebfc, iOS g\u1eb7p m\u1ed9t s\u1ed1 s\u1ef1 c\u1ed1 khi t\u1ea1o v\xe0 m\u1edf t\u1ec7p l\u1ecbch b\xean ngo\xe0i Safari.","modal.opensafari.ical.steps":"<ol><li><strong>M\u1edf Safari</strong>, ...</li><li><strong> D\xe1n </strong> n\u1ed9i dung khay nh\u1edb t\u1ea1m v\xe0 b\u1eaft \u0111\u1ea7u.</li></ol>","modal.multidate.h":"\u0110\xe2y l\xe0 m\u1ed9t chu\u1ed7i s\u1ef1 ki\u1ec7n","modal.multidate.text":"Th\xeam t\u1eebng ph\u1ea7n ri\xeang l\u1ebb m\u1ed9t:","date.status.cancelled":"Ng\xe0y n\xe0y \u0111\xe3 b\u1ecb h\u1ee7y.","date.status.cancelled.cta":"C\u1eadp nh\u1eadt l\u1ecbch c\u1ee7a b\u1ea1n!","modal.subscribe.yahoo.h":"Th\xeam l\u1ecbch v\xe0o Yahoo","modal.subscribe.yahoo.text":'<ol><li>M\u1edf L\u1ecbch Yahoo.</li><li>Nh\u1ea5p v\xe0o tab "H\xe0nh \u0111\u1ed9ng".</li><li>Ch\u1ecdn "Theo d\xf5i c\xe1c L\u1ecbch kh\xe1c".</li><li>Ch\u1ecdn t\xean v\xe0 d\xe1n URL t\u1eeb khay nh\u1edb t\u1ea1m c\u1ee7a b\u1ea1n v\xe0o tr\u01b0\u1eddng URL.</li></ol>',"modal.subscribe.yahoo.button":"M\u1edf l\u1ecbch Yahoo","modal.crios.google.text":"N\u1ebfu b\u1ea1n \u0111ang s\u1eed d\u1ee5ng \u1ee9ng d\u1ee5ng Google Calendar v\xe0 n\xf3 ch\u01b0a m\u1edf trong n\u1ec1n, th\xec r\u1ea5t ti\u1ebfc, b\u1ea1n c\xf3 th\u1ec3 c\u1ea7n ph\u1ea3i b\u1eaft \u0111\u1ea7u quy tr\xecnh n\xe0y hai l\u1ea7n.",continue:"Ti\u1ebfp t\u1ee5c",cancel:"H\u1ee7y b\u1ecf",expired:"H\u1ebft h\u1ea1n",recurring:"\u0110\u1ecbnh k\u1ef3"},ro:{"label.addtocalendar":"Adauga In Calendar","label.icalfile":"Fisier iCal",close:"Inchide","modal.button.default":"Apasa-ma","modal.webview.ical.h":"Deschide browserul","modal.webview.ical.text":"Din pacate, browserele din aplicatie au probleme cu generarea de fisiere pentru calendar.","modal.clipboard.text":"Ti-am copiat automat un URL magic in clipboard","modal.webview.ical.steps":"<ol><li><strong>Deschide un alt browser</strong> pe telefonul tau, ...</li><li><strong>Lipeste</strong> continutul din clipboard si continua.</li></ol>","modal.opensafari.ical.h":"Deschide Safari","modal.opensafari.ical.text":"Din p\u0103cate, iOS are unele probleme la generarea \u0219i deschiderea fi\u0219ierului calendar \xeen afara Safari.","modal.opensafari.ical.steps":"<ol><li><strong>Deschides Safari</strong>, ...</li><li><strong>Lipeste</strong> continutul din clipboard si continua.</li></ol>","modal.multidate.h":"Aceasta este o serie de evenimente","modal.multidate.text":"Adauga evenimentele individuale una cate una:","date.status.cancelled":"Aceasta data a fost anulata.","date.status.cancelled.cta":"Te rugam sa-ti updatezi calendarul!","modal.subscribe.yahoo.h":"Adauga Calendar in Yahoo","modal.subscribe.yahoo.text":'<ol><li>Deschide acum calendarul Yahoo.</li><li>Apasa pe tab-ul de "Actiuni".</li><li>Apasa "Urmareste alte calendare".</li><li>Seteaza un nume si lipeste continutul din clipboard in casuta cu url.</li></ol>',"modal.subscribe.yahoo.button":"Deschide\u021bi calendarul Yahoo","modal.crios.google.text":"Dac\u0103 utiliza\u021bi aplica\u021bia Google Calendar \u0219i aceasta nu este deja deschis\u0103 \xeen fundal, din p\u0103cate, s-ar putea s\u0103 fie necesar s\u0103 \xeencepe\u021bi acest proces de dou\u0103 ori.",continue:"Continua",cancel:"Anuleaza",expired:"Expirat",recurring:"Recurente"},fa:{"label.addtocalendar":"\u0627\u0641\u0632\u0648\u062f\u0646 \u0628\u0647 \u062a\u0642\u0648\u06cc\u0645","label.icalfile":"\u067e\u0631\u0648\u0646\u062f\u0647 iCal",close:"\u0628\u0633\u062a\u0646","modal.button.default":"\u0627\u06cc\u0646\u062c\u0627 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f","modal.webview.ical.h":"\u0645\u0631\u0648\u0631\u06af\u0631 \u062e\u0648\u062f \u0631\u0627 \u0628\u0627\u0632 \u06a9\u0646\u06cc\u062f","modal.webview.ical.text":"\u0645\u062a\u0627\u0633\u0641\u0627\u0646\u0647\u060c \u0645\u0631\u0648\u0631\u06af\u0631\u0647\u0627\u06cc \u062f\u0631\u0648\u0646 \u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0627\u06cc \u0628\u0627 \u0646\u062d\u0648\u0647 \u062a\u0648\u0644\u06cc\u062f \u067e\u0631\u0648\u0646\u062f\u0647 \u062a\u0642\u0648\u06cc\u0645 \u0645\u0634\u06a9\u0644 \u062f\u0627\u0631\u0646\u062f.","modal.clipboard.text":"\u0645\u0627 \u0628\u0647 \u0637\u0648\u0631 \u062e\u0648\u062f\u06a9\u0627\u0631 \u06cc\u06a9 \u0646\u0634\u0627\u0646\u06cc \u0627\u06cc\u0646\u062a\u0631\u0646\u062a\u06cc \u062c\u0627\u062f\u0648\u06cc\u06cc \u0631\u0627 \u062f\u0631 \u06a9\u0644\u06cc\u067e\u200c\u0628\u0648\u0631\u062f \u0634\u0645\u0627 \u06a9\u067e\u06cc \u06a9\u0631\u062f\u06cc\u0645.","modal.webview.ical.steps":"<ol><li><strong>\u0645\u0631\u0648\u0631\u06af\u0631 \u062f\u06cc\u06af\u0631\u06cc \u0631\u0627 </strong> \u062f\u0631 \u06af\u0648\u0634\u06cc \u062e\u0648\u062f \u0628\u0627\u0632 \u06a9\u0646\u06cc\u062f\u060c ...</li><li>\u0645\u062d\u062a\u0648\u0627\u06cc \u06a9\u0644\u06cc\u067e\u200c\u0628\u0648\u0631\u062f \u0631\u0627 <strong>Paste</strong> \u06a9\u0646\u06cc\u062f \u0648 Go \u0631\u0627 \u0628\u0632\u0646\u06cc\u062f \u06a9\u0647 \u0622\u062f\u0631\u0633 \u0628\u0627\u0632 \u0634\u0648\u062f.</li></ol>","modal.opensafari.ical.h":"\u0633\u0627\u0641\u0627\u0631\u06cc \u0631\u0627 \u0628\u0627\u0632 \u06a9\u0646\u06cc\u062f","modal.opensafari.ical.text":"\u0645\u062a\u0623\u0633\u0641\u0627\u0646\u0647 iOS \u062f\u0631 \u062a\u0648\u0644\u06cc\u062f \u0648 \u0628\u0627\u0632 \u06a9\u0631\u062f\u0646 \u0641\u0627\u06cc\u0644 \u062a\u0642\u0648\u06cc\u0645 \u062e\u0627\u0631\u062c \u0627\u0632 \u0633\u0627\u0641\u0627\u0631\u06cc \u0645\u0634\u06a9\u0644\u0627\u062a\u06cc \u062f\u0627\u0631\u062f.","modal.opensafari.ical.steps":"<ol><li><strong>\u0633\u0627\u0641\u0627\u0631\u06cc \u0631\u0627 \u0628\u0627\u0632 \u06a9\u0646\u06cc\u062f</strong>\u060c ...</li><li>\u0645\u062d\u062a\u0648\u0627\u06cc \u06a9\u0644\u06cc\u067e\u200c\u0628\u0648\u0631\u062f \u0631\u0627 <strong>Paste</strong> \u06a9\u0646\u06cc\u062f \u0648 Go \u0631\u0627 \u0628\u0632\u0646\u06cc\u062f \u06a9\u0647 \u0622\u062f\u0631\u0633 \u0628\u0627\u0632 \u0634\u0648\u062f.</li></ol>","modal.multidate.h":"\u0627\u06cc\u0646 \u06cc\u06a9 \u0633\u0631\u06cc \u0631\u0648\u06cc\u062f\u0627\u062f \u0627\u0633\u062a","modal.multidate.text":"\u0631\u0648\u06cc\u062f\u0627\u062f\u0647\u0627\u06cc \u0634\u062e\u0635\u06cc \u0631\u0627 \u06cc\u06a9\u06cc \u06cc\u06a9\u06cc \u0627\u0636\u0627\u0641\u0647 \u06a9\u0646\u06cc\u062f:","date.status.cancelled":"\u0627\u06cc\u0646 \u062a\u0627\u0631\u06cc\u062e \u0644\u063a\u0648 \u0634\u062f","date.status.cancelled.cta":"\u0644\u0637\u0641\u0627 \u062a\u0642\u0648\u06cc\u0645 \u062e\u0648\u062f \u0631\u0627 \u0628\u0647\u200c\u0631\u0648\u0632 \u06a9\u0646\u06cc\u062f!","modal.subscribe.yahoo.h":"\u0627\u0641\u0632\u0648\u062f\u0646 \u062a\u0642\u0648\u06cc\u0645 \u0628\u0647 \u06cc\u0627\u0647\u0648","modal.subscribe.yahoo.text":"<ol><li>\u0627\u06a9\u0646\u0648\u0646 \u062a\u0642\u0648\u06cc\u0645 \u06cc\u0627\u0647\u0648 \u0631\u0627 \u0628\u0627\u0632 \u06a9\u0646\u06cc\u062f.</li><li>\u0631\u0648\u06cc \u0632\u0628\u0627\u0646\u0647 \xabActions\xbb \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f.</li><li>\u0631\u0648\u06cc \xabFollow Other Calendars\xbb \u0636\u0631\u0628\u0647 \u0628\u0632\u0646\u06cc\u062f.</li><li>\u06cc\u06a9 \u0646\u0627\u0645 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f \u0648 \u0645\u062d\u062a\u0648\u0627\u06cc \u06a9\u0644\u06cc\u067e\u200c\u0628\u0648\u0631\u062f \u0631\u0627 \u062f\u0631 \u0642\u0633\u0645\u062a url \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u062f.</li></ol>","modal.subscribe.yahoo.button":"\u062a\u0642\u0648\u06cc\u0645 \u06cc\u0627\u0647\u0648 \u0631\u0627 \u0628\u0627\u0632 \u06a9\u0646\u06cc\u062f","modal.crios.google.text":"\u0627\u06af\u0631 \u0627\u0632 \u0628\u0631\u0646\u0627\u0645\u0647 Google Calendar \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u200c\u06a9\u0646\u06cc\u062f \u0648 \u0622\u0646 \u062f\u0631 \u067e\u0633\u200c\u0632\u0645\u06cc\u0646\u0647 \u0628\u0627\u0632 \u0646\u0634\u062f\u0647 \u0627\u0633\u062a\u060c \u0645\u062a\u0623\u0633\u0641\u0627\u0646\u0647 \u0627\u062d\u062a\u0645\u0627\u0644\u0627\u064b \u0646\u06cc\u0627\u0632 \u0628\u0647 \u062f\u0648 \u0628\u0627\u0631 \u0634\u0631\u0648\u0639 \u0627\u06cc\u0646 \u0641\u0631\u0622\u06cc\u0646\u062f \u062f\u0627\u0631\u06cc\u062f.",continue:"\u0627\u062f\u0627\u0645\u0647 \u062f\u0627\u062f\u0646",cancel:"\u0644\u063a\u0648",expired:"\u0645\u0646\u0642\u0636\u06cc \u0634\u062f\u0647"},et:{"label.addtocalendar":"Lisa kalendrisse","label.icalfile":"iCal fail",close:"Sulge","modal.button.default":"Kliki siia","modal.webview.ical.h":"Ava oma veebilehitseja","modal.webview.ical.text":"Kahjuks on rakendusesisestel veebilehitsejatel probleeme kalendrifailide loomisega.","modal.clipboard.text":"Kalendri veebi aadress on automaatselt kopeeritud sinu l\xf5ikelauale.","modal.webview.ical.steps":"<ol><li><strong>Ava teine veebilehitseja</strong> oma telefonis, ...</li><li><strong>Kleebi</strong> l\xf5ikelaua sisu ning mine sellele lehele.</li></ol>","modal.opensafari.ical.h":"Ava Safari","modal.opensafari.ical.text":"Kahjuks on iOS-il probleeme kalendrifaili genereerimise ja avamisega v\xe4ljaspool Safarit.","modal.opensafari.ical.steps":"<ol><li><strong>Ava Safari</strong>, ...</li><li><strong>Kleebi</strong> l\xf5ikelaua sisu ning mine sellele lehele.</li></ol>","modal.multidate.h":"See on s\xfcndmuste seeria","modal.multidate.text":"Ava \xfcksikud s\xfcndmused \xfckshaaval:","date.status.cancelled":"See kuup\xe4ev on t\xfchistatud.","date.status.cancelled.cta":"Palun uuenda oma kalendrit!","modal.subscribe.yahoo.h":"Lisa kalender Yahoo-sse","modal.subscribe.yahoo.text":'<ol><li>Ava oma Yahoo kalender.</li><li>Kliki "Actions" vahelehte.</li><li>Vajuta "Follow Other Calendars".</li><li>M\xe4\xe4ra nimi ning lisa l\xf5ikelaua sisu URL (veebi aadressi) v\xe4ljale.</li></ol>',"modal.subscribe.yahoo.button":"Avage Yahoo kalender","modal.crios.google.text":"Kui kasutate rakendust Google Calendar ja see pole taustal juba avatud, siis kahjuks v\xf5ib olla vajalik selle protsessi kahe korra k\xe4ivitamine.",continue:"J\xe4tkama",cancel:"T\xfchista",expired:"Aegunud"}},fs=Object.keys(ts);function Fi(U,De){return null!=De.customLabels&&null!=De.customLabels[`${U}`]&&""!=De.customLabels[`${U}`]?ct(De.customLabels[`${U}`]):function mi(U,De){return De||(De="en"),ts[`${De}`][`${U}`]?ts[`${De}`][`${U}`]:U}(U,De.language)}let no=!1,Oo=0;const As=[],io='<div class="atcb-initialized" style="display:none;position:relative;width:fit-content;"></div>';if(A()){class U extends HTMLElement{constructor(){super();const Me=document.createElement("template");Me.innerHTML=io,this.attachShadow({mode:"open",delegateFocus:!0}),this.shadowRoot.append(Me.content.cloneNode(!0)),this.loaded=!1,this.initialized=!1,this.data={},this.error=!1}connectedCallback(){var Me=this;return(0,p.A)(function*(){if(Me.debug=Me.hasAttribute("debug"),null!=Me.getAttribute("proKey")&&""!=Me.getAttribute("proKey")&&(Me.data=Ms(Me.getAttribute("proKey"))),null==Me.data.name||""==Me.data.name)try{Me.data=kr(Me)}catch(Yt){return void(Me.debug&&No(Me.shadowRoot,Yt))}finally{Me.data.proKey="",Me.loaded=!0}Me.initButton()})()}disconnectedCallback(){Bc(this.shadowRoot,this.data),this.debug&&console.log('Add to Calendar Button "'+this.data.identifier+'" destroyed'),0==document.querySelectorAll("add-to-calendar-button").length&&(Oo=0)}static get observedAttributes(){return fe.map(Yt=>Yt.toLowerCase()).concat(["instance"])}attributeChangedCallback(Me,Yt,yn){if(null!=this.data.proKey&&""!=this.data.proKey||!this.loaded)return;this.debug&&this.initialized&&console.log(`${Me}'s value has been changed from ${Yt} to ${yn}`),Bc(this.shadowRoot,this.data),this.data={},this.shadowRoot.querySelector(".atcb-initialized").remove();const Wn=document.createElement("template");Wn.innerHTML=io,this.shadowRoot.append(Wn.content.cloneNode(!0));try{this.data=kr(this)}catch(zn){return void(this.debug&&No(this.shadowRoot,zn))}this.initButton()}initButton(){this.initialized||(this.initialized=!0,Oo+=1),this.identifier&&""!=this.identifier?this.data.identifier=this.identifier:(this.data.identifier&&""!=this.data.identifier&&(/^[\w\-_]+$/.test(this.data.identifier)?this.data.identifier="atcb-btn-"+this.data.identifier:(this.data.identifier="",this.debug&&console.warn("Add to Calendar Button generation: identifier invalid - using auto numbers instead"))),(null==this.data.identifier||""==this.data.identifier)&&(this.data.identifier="atcb-btn-"+Oo),this.identifier=this.data.identifier),this.setAttribute("atcb-button-id",this.data.identifier);try{this.style.visibility="visible",this.style.opacity="1",this.style.position="relative",function ps(U,De,Me=!1){if(Pn(De=Cn(De))){const Yt=U.querySelector(".atcb-initialized");Zo(U,De),Yt.setAttribute("lang",De.language),Pa(U,Yt,De.buttonStyle,De.inline,De.buttonsList,De.customCss),ul(De),Ga(U,De),Jo(De.proKey,Me),De.hidden||(function Dn(U,De,Me,Yt=!1){const yn=!!(1===Me.options.length||Me.buttonsList&&"date"!=Me.buttonStyle);(yn?Me.options:["default"]).forEach(function(zn){const Hn=document.createElement("div");Hn.classList.add("atcb-button-wrapper"),Me.rtl&&Hn.classList.add("atcb-rtl"),De.append(Hn),ji(Hn,Me.sizes);const gi=document.createElement("button");if(gi.classList.add("atcb-button"),Me.disabled&&(gi.setAttribute("disabled",!0),gi.style.cssText="opacity: .75; cursor: not-allowed; filter: brightness(95%); border-style: dashed;"),Me.hideTextLabelButton&&gi.classList.add("atcb-no-text"),"click"===Me.trigger&&gi.classList.add("atcb-click"),"overlay"===Me.listStyle&&gi.classList.add("atcb-dropoverlay"),gi.type="button",gi.setAttribute("aria-expanded",!1),Hn.append(gi),"date"==Me.buttonStyle&&Ht(Me,gi),yn)gi.classList.add("atcb-single"),Gi(U,Me,gi,zn,!Me.hideIconButton,Me.buttonsList&&Me.options.length>1?Me.optionLabels[0]:Me.label,!0),gi.id=Me.identifier,Me.buttonsList&&(gi.id=Me.identifier+"-"+zn);else{Gi(U,Me,gi,"trigger",!Me.hideIconButton,Me.label);const er=document.createElement("div");er.classList.add("atcb-dropdown-anchor"),gi.append(er)}if(!(Me.hideCheckmark||Me.hideTextLabelButton||Me.buttonsList||Me.disabled)){const er=document.createElement("div");er.classList.add("atcb-checkmark"),er.innerHTML=un.checkmark,gi.append(er)}}),Yt&&console.log('Add to Calendar Button "'+Me.identifier+'" created')}(U,Yt,De,Me),!De.hideRichData&&De.name&&De.dates[0].location&&De.dates[0].startDate&&function st(U,De){const Me=document.createElement("script");if(Me.id="atcb-schema-"+U.identifier,De.hasAttribute("cspnonce")){if(/[`'"()[\]{}<>\s]/.test(De.getAttribute("cspnonce")))throw new Error("cspnonce input contains forbidden characters.");Me.setAttribute("nonce",De.getAttribute("cspnonce"))}Me.type="application/ld+json";const Yt=U.name.replace(/\s/g,""),yn=[];if(U.dates.length>1){const zn=[];zn.push('"@context":"https://schema.org"'),zn.push('"@type":"EventSeries"'),zn.push('"@id":"'+Yt+'"'),zn.push('"name":"'+U.name+'",'),yn.push("{\r\n"+zn.join(",\r\n")+"\r\n")}const Wn=[];for(let zn=0;zn<U.dates.length;zn++){const Hn=[];Hn.push('"@context":"https://schema.org"'),Hn.push('"@type":"Event"'),U.dates.length>1&&Hn.push('"@id":"'+Yt+"-"+(zn+1)+'"'),"CANCELLED"===U.dates[`${zn}`].status&&Hn.push('"eventStatus":"https://schema.org/EventCancelled"'),Hn.push('"name":"'+U.dates[`${zn}`].name+'"'),U.dates[`${zn}`].descriptionHtmlFree&&Hn.push('"description":"'+U.dates[`${zn}`].descriptionHtmlFree+'"');const gi=sn(U.dates[`${zn}`],"delimiters","general",!0);if(Hn.push('"startDate":"'+gi.start+'"'),gi.duration&&Hn.push('"duration":"'+gi.duration+'"'),Hn.push(U.dates[`${zn}`].onlineEvent?'"eventAttendanceMode":"https://schema.org/OnlineEventAttendanceMode",\r\n"location": {\r\n"@type":"VirtualLocation",\r\n"url":"'+U.dates[`${zn}`].location+'"\r\n}':'"location":"'+U.dates[`${zn}`].location+'"'),U.recurrence&&""!==U.recurrence?Hn.push(...V(U,gi)):Hn.push('"endDate":"'+gi.end+'"'),U.dates[`${zn}`].organizer&&""!==U.dates[`${zn}`].organizer){const Fr=U.dates[`${zn}`].organizer.split("|");Hn.push('"organizer":{\r\n"@type":"Person",\r\n"name":"'+Fr[0]+'",\r\n"email":"'+Fr[1]+'"\r\n}')}const er=[];if(U.images){if(Array.isArray(U.images))for(let Fr=0;Fr<U.images.length;Fr++)dn(U.images[`${Fr}`],U.debug)&&U.images[`${Fr}`].startsWith("http")&&er.push('"'+U.images[`${Fr}`]+'"')}else er.push('"https://add-to-calendar-button.com/demo_assets/img/1x1.png"'),er.push('"https://add-to-calendar-button.com/demo_assets/img/4x3.png"'),er.push('"https://add-to-calendar-button.com/demo_assets/img/16x9.png"');er.length>0&&Hn.push('"image":[\r\n'+er.join(",\r\n")+"]"),Wn.push("{\r\n"+Hn.join(",\r\n")+"\r\n}")}Me.textContent=U.dates.length>1?yn.join(",\r\n")+'"subEvents":[\r\n'+Wn.join(",\r\n")+"\r\n]\r\n}":Wn[0],document.body.insertBefore(Me,document.body.firstChild)}(De,U.host)),Or("initialization",De.identifier,De.identifier)}else if(Me)throw console.error(De.validationError),new Error(De.validationError)}(this.shadowRoot,this.data,this.debug)}catch(Me){return void(this.debug&&No(this.shadowRoot,Me))}}}customElements.get("add-to-calendar-button")||customElements.define("add-to-calendar-button",U)}function kr(U){let De={hideBranding:!0};for(let Me=0;Me<fe.length;Me++){let Yt=fe[`${Me}`];if(U.hasAttribute(`${Yt}`)){let zn,Wn=xt(U.getAttribute(`${Yt}`).replace(/(\\r\\n|\\n|\\r)/g,""),!1);if(Re.includes(Yt))zn=""==Wn||"true"===Wn;else if(_e.includes(Yt))zn=JSON.parse(Wn);else if(Xe.includes(Yt)){const Hn="["!=Wn.substring(0,1)?"["+Wn+"]":Wn;zn=JSON.parse(Hn)}else if(Ye.includes(Yt)){const Hn=function(){let gi=Wn;return(Wn.includes('"')||Wn.includes("'"))&&(gi=Wn.includes("[")?Wn.substring(2,Wn.length-2):Wn.substring(1,Wn.length-1)),Wn.includes("|")||(gi=gi.replace(/\s/g,"")),gi}();zn=Hn.includes("','")?Hn.split("','"):Hn.split('","')}else zn=Ot.includes(Yt)?parseInt(Wn):Wn;De[`${Yt}`]=zn}const yn=U.getAttribute("identifier");null!=yn&&""!=yn&&(De.identifier=xt(yn.replace(/(\\r\\n|\\n|\\r)/g,""),!1))}if(!$t(De)){const Me=U.innerHTML,Yt=function(){if(""!=Me)try{return JSON.parse(xt(Me.replace(/(\\r\\n|\\n|\\r)/g,""),!1))}catch(yn){throw new Error("Add to Calendar Button generation failed: JSON content provided, but badly formatted (in doubt, try some tool like https://jsonformatter.org/ to validate).\r\nError message: "+yn)}return""}();if(0==Yt.length)throw console.error(De.validationError),new Error("Add to Calendar Button generation failed: no data provided or missing required fields - see console logs for details");De=Yt}return De}function Bc(U,De){$i(U),function Ka(U){typeof As[`${U}`]<"u"&&As[`${U}`].disconnect()}(De.identifier);const Me=document.getElementById("atcb-schema-"+De.identifier);Me&&Me.remove(),Array.from(U.querySelectorAll(".atcb-debug-error-msg")).concat(Array.from(U.querySelectorAll("style"))).concat(Array.from(U.querySelectorAll(".atcb-button-wrapper"))).forEach(Yt=>Yt.remove()),delete de[`${De.identifier}`]}function Zo(U,De){U.host.classList.remove("atcb-dark","atcb-light","atcb-bodyScheme");const Me="bodyScheme"==De.lightMode?document.body.classList.contains("atcb-dark")||document.documentElement.classList.contains("atcb-dark")?"dark":"light":De.lightMode;U.host.classList.add("atcb-"+Me)}function Pa(U,De=null,Me="",Yt=!1,yn=!1,Wn=""){const zn=/[`'"()[\]{}<>\s]/,Hn=function(){if(!U.host.hasAttribute("cspnonce"))return null;if(zn.test(U.host.getAttribute("cspnonce")))throw new Error("cspnonce input contains forbidden characters.");return U.host.getAttribute("cspnonce")}();if(!document.getElementById("atcb-global-style")){const gi=document.createElement("style");gi.id="atcb-global-style";const er=window.innerWidth-document.documentElement.clientWidth;gi.innerText=".atcb-modal-no-scroll { overflow-y: hidden !important; -webkit-overflow-scrolling: touch; } body.atcb-modal-no-scroll { padding-right: "+er+"px; }",Hn&&gi.setAttribute("nonce",Hn),document.head.append(gi)}if(""==Wn||"custom"!=Me){if("none"!=Me&&null!=k[`${Me}`]){const gi=document.createElement("style");Hn&&gi.setAttribute("nonce",Hn);const er=U.host.hasAttribute("styleLight")?":host { "+xt(U.host.getAttribute("styleLight").replace(/(\\r\\n|\\n|\\r)/g,""),!1)+" }":"",Fr=U.host.hasAttribute("styleDark")?":host(.atcb-dark), :host-context(html.atcb-dark):host(.atcb-bodyScheme), :host-context(body.atcb-dark):host(.atcb-bodyScheme) { "+xt(U.host.getAttribute("styleDark").replace(/(\\r\\n|\\n|\\r)/g,""),!1)+" }":"";gi.innerText=k[`${Me}`]+er+Fr,U.prepend(gi)}null!=De&&(Yt?De.style.display="inline-block":yn?(De.style.display="flex",De.style.flexWrap="wrap",De.style.justifyContent="center"):De.style.display="block")}else{const gi=document.createElement("link");if(gi.setAttribute("rel","stylesheet"),gi.setAttribute("type","text/css"),gi.setAttribute("href",Wn),Hn&&gi.setAttribute("nonce",Hn),null==De)U.host.style.display="none",Vc(gi,U,U.host);else{const er=document.createElement("div");er.style.cssText="width: 150px; height: 40px; border-radius: 200px; background-color: #777; opacity: .3;",U.prepend(er),Vc(gi,U,De,er,Yt,yn)}}}function Vc(U,De,Me){return dl.apply(this,arguments)}function dl(){return(dl=(0,p.A)(function*(U,De,Me,Yt=null,yn=!1,Wn=!1){De.prepend(U),yield new Promise(zn=>{U.onload=zn}),Yt?.remove(),yn?Me.style.display="inline-block":Wn?(Me.style.display="flex",Me.style.flexWrap="wrap",Me.style.justifyContent="center"):Me.style.display="block"})).apply(this,arguments)}function No(U,De){if(U.querySelector(".atcb-debug-error-msg"))return;const Me=document.createElement("div");Me.classList.add("atcb-debug-error-msg"),Me.style.cssText="color: #bf2e2e; font-size: 12px; font-weight: bold; padding: 12px 15px; border: 2px solid #bf2e2e; max-width: 180px; border-radius: 13px;",Me.textContent=De,U.append(Me)}function ds(U,De,Me=!1){if(!A())return;if((U=xt(U)).hideBranding=!0,null!=U.proKey&&""!=U.proKey&&(U=Ms(U.proKey)),U.debug="true"===U.debug,!$t(U))return void console.error(U.validationError);U=Cn(U);let Yt=document.body;if(U.trigger="click",De?(Yt=De,null!=De.id&&""!=De.id?U.identifier=De.id:(U.identifier=null!=U.identifier&&""!=U.identifier&&/^[\w\-_]+$/.test(U.identifier)?"atcb-btn-"+U.identifier:"atcb-btn-custom",De.id=U.identifier),("dropdown"===U.listStyle||"dropdown-static"===U.listStyle||"dropup-static"===U.listStyle)&&(U.listStyle="modal")):(U.identifier="atcb-btn-custom",U.listStyle="modal"),!Pn(U))return void console.error(U.validationError);const yn=1===U.options.length,Wn=document.getElementById("atcb-customTrigger-"+U.identifier+"-host");if(Wn&&($i(Wn.shadowRoot,!1),de[`${de.active}`]&&delete de[`${de.active}`],Wn.remove()),Or("initialization",U.identifier,U.identifier),!U.blockInteraction){const zn=document.createElement("div");if(zn.id="atcb-customTrigger-"+U.identifier+"-host",Yt==document.body?document.body.append(zn):Yt.after(zn),zn.setAttribute("atcb-button-id",U.identifier),zn.attachShadow({mode:"open",delegateFocus:!0}),!yn||"apple"!==U.options[0]&&"ical"!==U.options[0]||U.dates&&U.dates.length>1&&U.dates.organizer||be()){if(De){const er=De.getBoundingClientRect();zn.style.position="relative",zn.style.left=-er.width+"px",zn.style.top=er.height+"px"}const Hn=document.createElement("template");Hn.innerHTML=io,zn.shadowRoot.append(Hn.content.cloneNode(!0));const gi=zn.shadowRoot.querySelector(".atcb-initialized");Zo(zn.shadowRoot,U),zn.shadowRoot.querySelector(".atcb-initialized").setAttribute("lang",U.language),Pa(zn.shadowRoot,gi,U.buttonStyle,!1,!1,U.customCss),Ga(zn.shadowRoot,U)}ul(U),yn?(G(zn.shadowRoot,U.options[0],U,"all",Me),Or("openSingletonLink",U.identifier,U.identifier)):Si(zn.shadowRoot,"open",U,De,Me)}return Jo(U.proKey,U.debug),U.debug&&console.log('Add to Calendar Button "'+U.identifier+'" triggered'),U.identifier}function ul(U){const De=[];for(let Me=0;Me<U.options.length;Me++){De[U.options[`${Me}`]]=[];for(let Yt=1;Yt<=U.dates.length;Yt++)De[U.options[`${Me}`]].push(0)}de[U.identifier]=De}function Jo(U="",De=!1){if(!no){const Me=De?" (version "+I+")":"";""!=U?console.log("Add to Calendar PRO script initialized"+Me+" | https://add-to-calendar-pro.com"):console.log("%c\nAdd to Calendar Button script initialized"+Me+"\nsee https://add-to-calendar-button.com for details.\n","font-weight: bold;"),no=!0}}function Ms(U){const De={};return null!=U&&""!=U&&(De.proKey=U,De.identifier=U,console.error("Add to Calendar Button proKey invalid! Falling back to local data...")),De}function Ga(U,De){A()&&("bodyScheme"==De.lightMode&&(As[De.identifier]=new MutationObserver(function(Me){Me.forEach(Yt=>{"class"===Yt.attributeName&&Zo(U,De)})}),As[De.identifier].observe(document.documentElement,{attributes:!0}),As[De.identifier].observe(document.body,{attributes:!0})),no||(document.addEventListener("keyup",Wa),document.addEventListener("keydown",nc),window.addEventListener("resize",Ra)))}function Wa(U){const De=function(){const Me=document.querySelector('[atcb-button-id="'+de.active+'"]');return Me?Me.shadowRoot:null}();De&&"Escape"===U.key&&(Or("closeList","Ecs Hit",de.active),Si(De,"close","","",!0))}function nc(U){const De=function(){const Me=document.querySelector('[atcb-button-id="'+de.active+'"]'),Yt=document.getElementById(de.active+"-modal-host");return Yt?Yt.shadowRoot:Me?Me.shadowRoot:null}();if(De&&De.querySelector(".atcb-list")&&("ArrowDown"===U.key||"ArrowUp"===U.key||"Tab"===U.key)){U.preventDefault();let Me=0,Yt=De.activeElement;const yn=De.querySelectorAll(".atcb-list-item").length;Yt&&Yt.classList.contains("atcb-list-item")?("ArrowDown"===U.key&&Yt.dataset.optionNumber<yn?Me=parseInt(Yt.dataset.optionNumber)+1:"Tab"===U.key?Me=Yt.dataset.optionNumber<yn?parseInt(Yt.dataset.optionNumber)+1:1:"ArrowUp"===U.key&&Yt.dataset.optionNumber>=1&&(Me=parseInt(Yt.dataset.optionNumber)-1),Me>0&&De.querySelector('.atcb-list-item[data-option-number="'+Me+'"]').focus()):"ArrowUp"===U.key?De.querySelector('.atcb-list-item[data-option-number="'+yn+'"]').focus():De.querySelector('.atcb-list-item[data-option-number="1"]').focus()}}function Ra(){const U=function(){const De=document.querySelector('[atcb-button-id="'+de.active+'"]'),Me=document.getElementById(de.active+"-modal-host");return Me?Me.shadowRoot:De?De.shadowRoot:null}();if(U){const De=U.querySelector("#atcb-bgoverlay");De&&(Di(De),oi(U))}}},7935:(Jt,ke,E)=>{"use strict";E.d(ke,{A:()=>p.A});var p=E(3345);p.A.registerVersion("firebase","10.11.1","app-compat")},1112:(Jt,ke,E)=>{"use strict";E.r(ke);var p=E(467),m=E(3345),T=E(8742),F=E(1076),x=E(8041),ce=E(1635),ne=E(1362);const z={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Q=function A(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ee=function H(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new F.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new x.Vy("@firebase/auth");function Ve($,...S){Ne.logLevel<=x.$b.ERROR&&Ne.error(`Auth (${T.SDK_VERSION}): ${$}`,...S)}function Le($,...S){throw Re($,...S)}function J($,...S){return Re($,...S)}function ae($,S,P){const Z=Object.assign(Object.assign({},ee()),{[S]:P});return new F.FA("auth","Firebase",Z).create(S,{appName:$.name})}function de($){return ae($,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fe($,S,P){if(!(S instanceof P))throw P.name!==S.constructor.name&&Le($,"argument-error"),ae($,"argument-error",`Type of ${S.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Re($,...S){if("string"!=typeof $){const P=S[0],Z=[...S.slice(1)];return Z[0]&&(Z[0].appName=$.name),$._errorFactory.create(P,...Z)}return be.create($,...S)}function _e($,S,...P){if(!$)throw Re(S,...P)}function Xe($){const S="INTERNAL ASSERTION FAILED: "+$;throw Ve(S),new Error(S)}function Ye($,S){$||Xe(S)}function Ot(){var $;return typeof self<"u"&&(null===($=self.location)||void 0===$?void 0:$.href)||""}function un(){return"http:"===Cn()||"https:"===Cn()}function Cn(){var $;return typeof self<"u"&&(null===($=self.location)||void 0===$?void 0:$.protocol)||null}class Et{constructor(S,P){this.shortDelay=S,this.longDelay=P,Ye(P>S,"Short delay should be less than long delay!"),this.isMobile=(0,F.jZ)()||(0,F.lV)()}get(){return function An(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(un()||(0,F.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rt($,S){Ye($.emulator,"Emulator should always be set here");const{url:P}=$.emulator;return S?`${P}${S.startsWith("/")?S.slice(1):S}`:P}class jt{static initialize(S,P,Z){this.fetchImpl=S,P&&(this.headersImpl=P),Z&&(this.responseImpl=Z)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},en=new Et(3e4,6e4);function qe($,S){return $.tenantId&&!S.tenantId?Object.assign(Object.assign({},S),{tenantId:$.tenantId}):S}function We($,S,P,Z){return ge.apply(this,arguments)}function ge(){return(ge=(0,p.A)(function*($,S,P,Z,$e={}){return mt($,$e,(0,p.A)(function*(){let Ct={},xn={};Z&&("GET"===S?xn=Z:Ct={body:JSON.stringify(Z)});const jn=(0,F.Am)(Object.assign({key:$.config.apiKey},xn)).slice(1),xi=yield $._getAdditionalHeaders();return xi["Content-Type"]="application/json",$.languageCode&&(xi["X-Firebase-Locale"]=$.languageCode),jt.fetch()(it($,$.config.apiHost,P,jn),Object.assign({method:S,headers:xi,referrerPolicy:"no-referrer"},Ct))}))})).apply(this,arguments)}function mt($,S,P){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,p.A)(function*($,S,P){$._canInitEmulator=!1;const Z=Object.assign(Object.assign({},Dt),S);try{const $e=new $t($),Ct=yield Promise.race([P(),$e.promise]);$e.clearNetworkTimeout();const xn=yield Ct.json();if("needConfirmation"in xn)throw Pn($,"account-exists-with-different-credential",xn);if(Ct.ok&&!("errorMessage"in xn))return xn;{const jn=Ct.ok?xn.errorMessage:xn.error.message,[xi,dr]=jn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xi)throw Pn($,"credential-already-in-use",xn);if("EMAIL_EXISTS"===xi)throw Pn($,"email-already-in-use",xn);if("USER_DISABLED"===xi)throw Pn($,"user-disabled",xn);const Tr=Z[xi]||xi.toLowerCase().replace(/[_\s]+/g,"-");if(dr)throw ae($,Tr,dr);Le($,Tr)}}catch($e){if($e instanceof F.g)throw $e;Le($,"network-request-failed",{message:String($e)})}})).apply(this,arguments)}function Lt($,S,P,Z){return bn.apply(this,arguments)}function bn(){return(bn=(0,p.A)(function*($,S,P,Z,$e={}){const Ct=yield We($,S,P,Z,$e);return"mfaPendingCredential"in Ct&&Le($,"multi-factor-auth-required",{_serverResponse:Ct}),Ct})).apply(this,arguments)}function it($,S,P,Z){const $e=`${S}${P}?${Z}`;return $.config.emulator?Rt($.config,$e):`${$.config.apiScheme}://${$e}`}function dt($){switch($){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $t{constructor(S){this.auth=S,this.timer=null,this.promise=new Promise((P,Z)=>{this.timer=setTimeout(()=>Z(J(this.auth,"network-request-failed")),en.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pn($,S,P){const Z={appName:$.name};P.email&&(Z.email=P.email),P.phoneNumber&&(Z.phoneNumber=P.phoneNumber);const $e=J($,S,Z);return $e.customData._tokenResponse=P,$e}function qn($){return void 0!==$&&void 0!==$.getResponse}function Pi($){return void 0!==$&&void 0!==$.enterprise}class hi{constructor(S){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===S.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=S.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=S.recaptchaEnforcementState}getProviderEnforcementState(S){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const P of this.recaptchaEnforcementState)if(P.provider&&P.provider===S)return dt(P.enforcementState);return null}isProviderEnabled(S){return"ENFORCE"===this.getProviderEnforcementState(S)||"AUDIT"===this.getProviderEnforcementState(S)}}function qt(){return(qt=(0,p.A)(function*($){return(yield We($,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ie($,S){return Te.apply(this,arguments)}function Te(){return(Te=(0,p.A)(function*($,S){return We($,"GET","/v2/recaptchaConfig",qe($,S))})).apply(this,arguments)}function kt(){return(kt=(0,p.A)(function*($,S){return We($,"POST","/v1/accounts:delete",S)})).apply(this,arguments)}function En(){return(En=(0,p.A)(function*($,S){return We($,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function Yn($,S){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,p.A)(function*($,S){return We($,"POST","/v1/accounts:lookup",S)})).apply(this,arguments)}function yi($){if($)try{const S=new Date(Number($));if(!isNaN(S.getTime()))return S.toUTCString()}catch{}}function br(){return(br=(0,p.A)(function*($,S=!1){const P=(0,F.Ku)($),Z=yield P.getIdToken(S),$e=Ar(Z);_e($e&&$e.exp&&$e.auth_time&&$e.iat,P.auth,"internal-error");const Ct="object"==typeof $e.firebase?$e.firebase:void 0,xn=Ct?.sign_in_provider;return{claims:$e,token:Z,authTime:yi(Si($e.auth_time)),issuedAtTime:yi(Si($e.iat)),expirationTime:yi(Si($e.exp)),signInProvider:xn||null,signInSecondFactor:Ct?.sign_in_second_factor||null}})).apply(this,arguments)}function Si($){return 1e3*Number($)}function Ar($){const[S,P,Z]=$.split(".");if(void 0===S||void 0===P||void 0===Z)return Ve("JWT malformed, contained fewer than 3 sections"),null;try{const $e=(0,F.u)(P);return $e?JSON.parse($e):(Ve("Failed to decode base64 JWT payload"),null)}catch($e){return Ve("Caught error parsing JWT payload as JSON",$e?.toString()),null}}function $i($){const S=Ar($);return _e(S,"internal-error"),_e(typeof S.exp<"u","internal-error"),_e(typeof S.iat<"u","internal-error"),Number(S.exp)-Number(S.iat)}function Gi($,S){return rs.apply(this,arguments)}function rs(){return(rs=(0,p.A)(function*($,S,P=!1){if(P)return S;try{return yield S}catch(Z){throw Z instanceof F.g&&function Dn({code:$}){return"auth/user-disabled"===$||"auth/user-token-expired"===$}(Z)&&$.auth.currentUser===$&&(yield $.auth.signOut()),Z}})).apply(this,arguments)}class On{constructor(S){this.user=S,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(S){var P;if(S){const Z=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),Z}{this.errorBackoff=3e4;const $e=(null!==(P=this.user.stsTokenManager.expirationTime)&&void 0!==P?P:0)-Date.now()-3e5;return Math.max(0,$e)}}schedule(S=!1){var P=this;if(!this.isRunning)return;const Z=this.getInterval(S);this.timerId=setTimeout((0,p.A)(function*(){yield P.iteration()}),Z)}iteration(){var S=this;return(0,p.A)(function*(){try{yield S.user.getIdToken(!0)}catch(P){return void("auth/network-request-failed"===P?.code&&S.schedule(!0))}S.schedule()})()}}class bt{constructor(S,P){this.createdAt=S,this.lastLoginAt=P,this._initializeTime()}_initializeTime(){this.lastSignInTime=yi(this.lastLoginAt),this.creationTime=yi(this.createdAt)}_copy(S){this.createdAt=S.createdAt,this.lastLoginAt=S.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pt($){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,p.A)(function*($){var S;const P=$.auth,Z=yield $.getIdToken(),$e=yield Gi($,Yn(P,{idToken:Z}));_e($e?.users.length,P,"internal-error");const Ct=$e.users[0];$._notifyReloadListener(Ct);const xn=null!==(S=Ct.providerUserInfo)&&void 0!==S&&S.length?wt(Ct.providerUserInfo):[],jn=function ft($,S){return[...$.filter(Z=>!S.some($e=>$e.providerId===Z.providerId)),...S]}($.providerData,xn),Tr=!!$.isAnonymous&&!($.email&&Ct.passwordHash||jn?.length),ur={uid:Ct.localId,displayName:Ct.displayName||null,photoURL:Ct.photoUrl||null,email:Ct.email||null,emailVerified:Ct.emailVerified||!1,phoneNumber:Ct.phoneNumber||null,tenantId:Ct.tenantId||null,providerData:jn,metadata:new bt(Ct.createdAt,Ct.lastLoginAt),isAnonymous:Tr};Object.assign($,ur)})).apply(this,arguments)}function Ht(){return(Ht=(0,p.A)(function*($){const S=(0,F.Ku)($);yield Pt(S),yield S.auth._persistUserIfCurrent(S),S.auth._notifyListenersIfCurrent(S)})).apply(this,arguments)}function wt($){return $.map(S=>{var{providerId:P}=S,Z=(0,ce.Tt)(S,["providerId"]);return{providerId:P,uid:Z.rawId||"",displayName:Z.displayName||null,email:Z.email||null,phoneNumber:Z.phoneNumber||null,photoURL:Z.photoUrl||null}})}function st(){return(st=(0,p.A)(function*($,S){const P=yield mt($,{},(0,p.A)(function*(){const Z=(0,F.Am)({grant_type:"refresh_token",refresh_token:S}).slice(1),{tokenApiHost:$e,apiKey:Ct}=$.config,xn=it($,$e,"/v1/token",`key=${Ct}`),jn=yield $._getAdditionalHeaders();return jn["Content-Type"]="application/x-www-form-urlencoded",jt.fetch()(xn,{method:"POST",headers:jn,body:Z})}));return{accessToken:P.access_token,expiresIn:P.expires_in,refreshToken:P.refresh_token}})).apply(this,arguments)}function G(){return(G=(0,p.A)(function*($,S){return We($,"POST","/v2/accounts:revokeToken",qe($,S))})).apply(this,arguments)}class X{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(S){_e(S.idToken,"internal-error"),_e(typeof S.idToken<"u","internal-error"),_e(typeof S.refreshToken<"u","internal-error");const P="expiresIn"in S&&typeof S.expiresIn<"u"?Number(S.expiresIn):$i(S.idToken);this.updateTokensAndExpiration(S.idToken,S.refreshToken,P)}updateFromIdToken(S){_e(0!==S.length,"internal-error");const P=$i(S);this.updateTokensAndExpiration(S,null,P)}getToken(S,P=!1){var Z=this;return(0,p.A)(function*(){return P||!Z.accessToken||Z.isExpired?(_e(Z.refreshToken,S,"user-token-expired"),Z.refreshToken?(yield Z.refresh(S,Z.refreshToken),Z.accessToken):null):Z.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(S,P){var Z=this;return(0,p.A)(function*(){const{accessToken:$e,refreshToken:Ct,expiresIn:xn}=yield function ze($,S){return st.apply(this,arguments)}(S,P);Z.updateTokensAndExpiration($e,Ct,Number(xn))})()}updateTokensAndExpiration(S,P,Z){this.refreshToken=P||null,this.accessToken=S||null,this.expirationTime=Date.now()+1e3*Z}static fromJSON(S,P){const{refreshToken:Z,accessToken:$e,expirationTime:Ct}=P,xn=new X;return Z&&(_e("string"==typeof Z,"internal-error",{appName:S}),xn.refreshToken=Z),$e&&(_e("string"==typeof $e,"internal-error",{appName:S}),xn.accessToken=$e),Ct&&(_e("number"==typeof Ct,"internal-error",{appName:S}),xn.expirationTime=Ct),xn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(S){this.accessToken=S.accessToken,this.refreshToken=S.refreshToken,this.expirationTime=S.expirationTime}_clone(){return Object.assign(new X,this.toJSON())}_performRefresh(){return Xe("not implemented")}}function Ee($,S){_e("string"==typeof $||typeof $>"u","internal-error",{appName:S})}class ot{constructor(S){var{uid:P,auth:Z,stsTokenManager:$e}=S,Ct=(0,ce.Tt)(S,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new On(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=P,this.auth=Z,this.stsTokenManager=$e,this.accessToken=$e.accessToken,this.displayName=Ct.displayName||null,this.email=Ct.email||null,this.emailVerified=Ct.emailVerified||!1,this.phoneNumber=Ct.phoneNumber||null,this.photoURL=Ct.photoURL||null,this.isAnonymous=Ct.isAnonymous||!1,this.tenantId=Ct.tenantId||null,this.providerData=Ct.providerData?[...Ct.providerData]:[],this.metadata=new bt(Ct.createdAt||void 0,Ct.lastLoginAt||void 0)}getIdToken(S){var P=this;return(0,p.A)(function*(){const Z=yield Gi(P,P.stsTokenManager.getToken(P.auth,S));return _e(Z,P.auth,"internal-error"),P.accessToken!==Z&&(P.accessToken=Z,yield P.auth._persistUserIfCurrent(P),P.auth._notifyListenersIfCurrent(P)),Z})()}getIdTokenResult(S){return function rr($){return br.apply(this,arguments)}(this,S)}reload(){return function yt($){return Ht.apply(this,arguments)}(this)}_assign(S){this!==S&&(_e(this.uid===S.uid,this.auth,"internal-error"),this.displayName=S.displayName,this.photoURL=S.photoURL,this.email=S.email,this.emailVerified=S.emailVerified,this.phoneNumber=S.phoneNumber,this.isAnonymous=S.isAnonymous,this.tenantId=S.tenantId,this.providerData=S.providerData.map(P=>Object.assign({},P)),this.metadata._copy(S.metadata),this.stsTokenManager._assign(S.stsTokenManager))}_clone(S){const P=new ot(Object.assign(Object.assign({},this),{auth:S,stsTokenManager:this.stsTokenManager._clone()}));return P.metadata._copy(this.metadata),P}_onReload(S){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=S,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(S){this.reloadListener?this.reloadListener(S):this.reloadUserInfo=S}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(S,P=!1){var Z=this;return(0,p.A)(function*(){let $e=!1;S.idToken&&S.idToken!==Z.stsTokenManager.accessToken&&(Z.stsTokenManager.updateFromServerResponse(S),$e=!0),P&&(yield Pt(Z)),yield Z.auth._persistUserIfCurrent(Z),$e&&Z.auth._notifyListenersIfCurrent(Z)})()}delete(){var S=this;return(0,p.A)(function*(){if((0,T._isFirebaseServerApp)(S.auth.app))return Promise.reject(de(S.auth));const P=yield S.getIdToken();return yield Gi(S,function Ge($,S){return kt.apply(this,arguments)}(S.auth,{idToken:P})),S.stsTokenManager.clearRefreshToken(),S.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(S=>Object.assign({},S)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(S,P){var Z,$e,Ct,xn,jn,xi,dr,Tr;const ur=null!==(Z=P.displayName)&&void 0!==Z?Z:void 0,zo=null!==($e=P.email)&&void 0!==$e?$e:void 0,Ns=null!==(Ct=P.phoneNumber)&&void 0!==Ct?Ct:void 0,xu=null!==(xn=P.photoURL)&&void 0!==xn?xn:void 0,ep=null!==(jn=P.tenantId)&&void 0!==jn?jn:void 0,xf=null!==(xi=P._redirectEventId)&&void 0!==xi?xi:void 0,wu=null!==(dr=P.createdAt)&&void 0!==dr?dr:void 0,Nl=null!==(Tr=P.lastLoginAt)&&void 0!==Tr?Tr:void 0,{uid:Cu,emailVerified:qc,isAnonymous:Jl,providerData:tp,stsTokenManager:Nm}=P;_e(Cu&&Nm,S,"internal-error");const th=X.fromJSON(this.name,Nm);_e("string"==typeof Cu,S,"internal-error"),Ee(ur,S.name),Ee(zo,S.name),_e("boolean"==typeof qc,S,"internal-error"),_e("boolean"==typeof Jl,S,"internal-error"),Ee(Ns,S.name),Ee(xu,S.name),Ee(ep,S.name),Ee(xf,S.name),Ee(wu,S.name),Ee(Nl,S.name);const Fm=new ot({uid:Cu,auth:S,email:zo,emailVerified:qc,displayName:ur,isAnonymous:Jl,photoURL:xu,phoneNumber:Ns,tenantId:ep,stsTokenManager:th,createdAt:wu,lastLoginAt:Nl});return tp&&Array.isArray(tp)&&(Fm.providerData=tp.map(H0=>Object.assign({},H0))),xf&&(Fm._redirectEventId=xf),Fm}static _fromIdTokenResponse(S,P,Z=!1){return(0,p.A)(function*(){const $e=new X;$e.updateFromServerResponse(P);const Ct=new ot({uid:P.localId,auth:S,stsTokenManager:$e,isAnonymous:Z});return yield Pt(Ct),Ct})()}static _fromGetAccountInfoResponse(S,P,Z){return(0,p.A)(function*(){const $e=P.users[0];_e(void 0!==$e.localId,"internal-error");const Ct=void 0!==$e.providerUserInfo?wt($e.providerUserInfo):[],xn=!($e.email&&$e.passwordHash||Ct?.length),jn=new X;jn.updateFromIdToken(Z);const xi=new ot({uid:$e.localId,auth:S,stsTokenManager:jn,isAnonymous:xn}),dr={uid:$e.localId,displayName:$e.displayName||null,photoURL:$e.photoUrl||null,email:$e.email||null,emailVerified:$e.emailVerified||!1,phoneNumber:$e.phoneNumber||null,tenantId:$e.tenantId||null,providerData:Ct,metadata:new bt($e.createdAt,$e.lastLoginAt),isAnonymous:!($e.email&&$e.passwordHash||Ct?.length)};return Object.assign(xi,dr),xi})()}}const ht=new Map;function on($){Ye($ instanceof Function,"Expected a class definition");let S=ht.get($);return S?(Ye(S instanceof $,"Instance stored in cache mismatched with class"),S):(S=new $,ht.set($,S),S)}const pt=(()=>{class ${constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.A)(function*(){return!0})()}_set(P,Z){var $e=this;return(0,p.A)(function*(){$e.storage[P]=Z})()}_get(P){var Z=this;return(0,p.A)(function*(){const $e=Z.storage[P];return void 0===$e?null:$e})()}_remove(P){var Z=this;return(0,p.A)(function*(){delete Z.storage[P]})()}_addListener(P,Z){}_removeListener(P,Z){}}return $.type="NONE",$})();function Ut($,S,P){return`firebase:${$}:${S}:${P}`}class lt{constructor(S,P,Z){this.persistence=S,this.auth=P,this.userKey=Z;const{config:$e,name:Ct}=this.auth;this.fullUserKey=Ut(this.userKey,$e.apiKey,Ct),this.fullPersistenceKey=Ut("persistence",$e.apiKey,Ct),this.boundEventHandler=P._onStorageEvent.bind(P),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(S){return this.persistence._set(this.fullUserKey,S.toJSON())}getCurrentUser(){var S=this;return(0,p.A)(function*(){const P=yield S.persistence._get(S.fullUserKey);return P?ot._fromJSON(S.auth,P):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(S){var P=this;return(0,p.A)(function*(){if(P.persistence===S)return;const Z=yield P.getCurrentUser();return yield P.removeCurrentUser(),P.persistence=S,Z?P.setCurrentUser(Z):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(S,P,Z="authUser"){return(0,p.A)(function*(){if(!P.length)return new lt(on(pt),S,Z);const $e=(yield Promise.all(P.map(function(){var dr=(0,p.A)(function*(Tr){if(yield Tr._isAvailable())return Tr});return function(Tr){return dr.apply(this,arguments)}}()))).filter(dr=>dr);let Ct=$e[0]||on(pt);const xn=Ut(Z,S.config.apiKey,S.name);let jn=null;for(const dr of P)try{const Tr=yield dr._get(xn);if(Tr){const ur=ot._fromJSON(S,Tr);dr!==Ct&&(jn=ur),Ct=dr;break}}catch{}const xi=$e.filter(dr=>dr._shouldAllowMigration);return Ct._shouldAllowMigration&&xi.length?(Ct=xi[0],jn&&(yield Ct._set(xn,jn.toJSON())),yield Promise.all(P.map(function(){var dr=(0,p.A)(function*(Tr){if(Tr!==Ct)try{yield Tr._remove(xn)}catch{}});return function(Tr){return dr.apply(this,arguments)}}())),new lt(Ct,S,Z)):new lt(Ct,S,Z)})()}}function ln($){const S=$.toLowerCase();if(S.includes("opera/")||S.includes("opr/")||S.includes("opios/"))return"Opera";if($n(S))return"IEMobile";if(S.includes("msie")||S.includes("trident/"))return"IE";if(S.includes("edge/"))return"Edge";if(Rn(S))return"Firefox";if(S.includes("silk/"))return"Silk";if(Ai(S))return"Blackberry";if(sn(S))return"Webos";if(Nt(S))return"Safari";if((S.includes("chrome/")||vn(S))&&!S.includes("edge/"))return"Chrome";if(Zn(S))return"Android";{const Z=$.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===Z?.length)return Z[1]}return"Other"}function Rn($=(0,F.ZQ)()){return/firefox\//i.test($)}function Nt($=(0,F.ZQ)()){const S=$.toLowerCase();return S.includes("safari/")&&!S.includes("chrome/")&&!S.includes("crios/")&&!S.includes("android")}function vn($=(0,F.ZQ)()){return/crios\//i.test($)}function $n($=(0,F.ZQ)()){return/iemobile/i.test($)}function Zn($=(0,F.ZQ)()){return/android/i.test($)}function Ai($=(0,F.ZQ)()){return/blackberry/i.test($)}function sn($=(0,F.ZQ)()){return/webos/i.test($)}function hn($=(0,F.ZQ)()){return/iphone|ipad|ipod/i.test($)||/macintosh/i.test($)&&/mobile/i.test($)}function ct($=(0,F.ZQ)()){return hn($)||Zn($)||sn($)||Ai($)||/windows phone/i.test($)||$n($)}function at($,S=[]){let P;switch($){case"Browser":P=ln((0,F.ZQ)());break;case"Worker":P=`${ln((0,F.ZQ)())}-${$}`;break;default:P=$}const Z=S.length?S.join(","):"FirebaseCore-web";return`${P}/JsCore/${T.SDK_VERSION}/${Z}`}class Mt{constructor(S){this.auth=S,this.queue=[]}pushCallback(S,P){const Z=Ct=>new Promise((xn,jn)=>{try{xn(S(Ct))}catch(xi){jn(xi)}});Z.onAbort=P,this.queue.push(Z);const $e=this.queue.length-1;return()=>{this.queue[$e]=()=>Promise.resolve()}}runMiddleware(S){var P=this;return(0,p.A)(function*(){if(P.auth.currentUser===S)return;const Z=[];try{for(const $e of P.queue)yield $e(S),$e.onAbort&&Z.push($e.onAbort)}catch($e){Z.reverse();for(const Ct of Z)try{Ct()}catch{}throw P.auth._errorFactory.create("login-blocked",{originalMessage:$e?.message})}})()}}function Ln(){return(Ln=(0,p.A)(function*($,S={}){return We($,"GET","/v2/passwordPolicy",qe($,S))})).apply(this,arguments)}class Di{constructor(S){var P,Z,$e,Ct;const xn=S.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(P=xn.minPasswordLength)&&void 0!==P?P:6,xn.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=xn.maxPasswordLength),void 0!==xn.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=xn.containsLowercaseCharacter),void 0!==xn.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=xn.containsUppercaseCharacter),void 0!==xn.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=xn.containsNumericCharacter),void 0!==xn.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=xn.containsNonAlphanumericCharacter),this.enforcementState=S.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==($e=null===(Z=S.allowedNonAlphanumericCharacters)||void 0===Z?void 0:Z.join(""))&&void 0!==$e?$e:"",this.forceUpgradeOnSignin=null!==(Ct=S.forceUpgradeOnSignin)&&void 0!==Ct&&Ct,this.schemaVersion=S.schemaVersion}validatePassword(S){var P,Z,$e,Ct,xn,jn;const xi={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(S,xi),this.validatePasswordCharacterOptions(S,xi),xi.isValid&&(xi.isValid=null===(P=xi.meetsMinPasswordLength)||void 0===P||P),xi.isValid&&(xi.isValid=null===(Z=xi.meetsMaxPasswordLength)||void 0===Z||Z),xi.isValid&&(xi.isValid=null===($e=xi.containsLowercaseLetter)||void 0===$e||$e),xi.isValid&&(xi.isValid=null===(Ct=xi.containsUppercaseLetter)||void 0===Ct||Ct),xi.isValid&&(xi.isValid=null===(xn=xi.containsNumericCharacter)||void 0===xn||xn),xi.isValid&&(xi.isValid=null===(jn=xi.containsNonAlphanumericCharacter)||void 0===jn||jn),xi}validatePasswordLengthOptions(S,P){const Z=this.customStrengthOptions.minPasswordLength,$e=this.customStrengthOptions.maxPasswordLength;Z&&(P.meetsMinPasswordLength=S.length>=Z),$e&&(P.meetsMaxPasswordLength=S.length<=$e)}validatePasswordCharacterOptions(S,P){let Z;this.updatePasswordCharacterOptionsStatuses(P,!1,!1,!1,!1);for(let $e=0;$e<S.length;$e++)Z=S.charAt($e),this.updatePasswordCharacterOptionsStatuses(P,Z>="a"&&Z<="z",Z>="A"&&Z<="Z",Z>="0"&&Z<="9",this.allowedNonAlphanumericCharacters.includes(Z))}updatePasswordCharacterOptionsStatuses(S,P,Z,$e,Ct){this.customStrengthOptions.containsLowercaseLetter&&(S.containsLowercaseLetter||(S.containsLowercaseLetter=P)),this.customStrengthOptions.containsUppercaseLetter&&(S.containsUppercaseLetter||(S.containsUppercaseLetter=Z)),this.customStrengthOptions.containsNumericCharacter&&(S.containsNumericCharacter||(S.containsNumericCharacter=$e)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(S.containsNonAlphanumericCharacter||(S.containsNonAlphanumericCharacter=Ct))}}class ji{constructor(S,P,Z,$e){this.app=S,this.heartbeatServiceProvider=P,this.appCheckServiceProvider=Z,this.config=$e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ss(this),this.idTokenSubscription=new ss(this),this.beforeStateQueue=new Mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=S.name,this.clientVersion=$e.sdkClientVersion}_initializeWithPersistence(S,P){var Z=this;return P&&(this._popupRedirectResolver=on(P)),this._initializationPromise=this.queue((0,p.A)(function*(){var $e,Ct;if(!Z._deleted&&(Z.persistenceManager=yield lt.create(Z,S),!Z._deleted)){if(null!==($e=Z._popupRedirectResolver)&&void 0!==$e&&$e._shouldInitProactively)try{yield Z._popupRedirectResolver._initialize(Z)}catch{}yield Z.initializeCurrentUser(P),Z.lastNotifiedUid=(null===(Ct=Z.currentUser)||void 0===Ct?void 0:Ct.uid)||null,!Z._deleted&&(Z._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var S=this;return(0,p.A)(function*(){if(S._deleted)return;const P=yield S.assertedPersistence.getCurrentUser();if(S.currentUser||P){if(S.currentUser&&P&&S.currentUser.uid===P.uid)return S._currentUser._assign(P),void(yield S.currentUser.getIdToken());yield S._updateCurrentUser(P,!0)}})()}initializeCurrentUserFromIdToken(S){var P=this;return(0,p.A)(function*(){try{const Z=yield Yn(P,{idToken:S}),$e=yield ot._fromGetAccountInfoResponse(P,Z,S);yield P.directlySetCurrentUser($e)}catch(Z){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",Z),yield P.directlySetCurrentUser(null)}})()}initializeCurrentUser(S){var P=this;return(0,p.A)(function*(){var Z;if((0,T._isFirebaseServerApp)(P.app)){const jn=P.app.settings.authIdToken;return jn?new Promise(xi=>{setTimeout(()=>P.initializeCurrentUserFromIdToken(jn).then(xi,xi))}):P.directlySetCurrentUser(null)}const $e=yield P.assertedPersistence.getCurrentUser();let Ct=$e,xn=!1;if(S&&P.config.authDomain){yield P.getOrInitRedirectPersistenceManager();const jn=null===(Z=P.redirectUser)||void 0===Z?void 0:Z._redirectEventId,xi=Ct?._redirectEventId,dr=yield P.tryRedirectSignIn(S);(!jn||jn===xi)&&dr?.user&&(Ct=dr.user,xn=!0)}if(!Ct)return P.directlySetCurrentUser(null);if(!Ct._redirectEventId){if(xn)try{yield P.beforeStateQueue.runMiddleware(Ct)}catch(jn){Ct=$e,P._popupRedirectResolver._overrideRedirectResult(P,()=>Promise.reject(jn))}return Ct?P.reloadAndSetCurrentUserOrClear(Ct):P.directlySetCurrentUser(null)}return _e(P._popupRedirectResolver,P,"argument-error"),yield P.getOrInitRedirectPersistenceManager(),P.redirectUser&&P.redirectUser._redirectEventId===Ct._redirectEventId?P.directlySetCurrentUser(Ct):P.reloadAndSetCurrentUserOrClear(Ct)})()}tryRedirectSignIn(S){var P=this;return(0,p.A)(function*(){let Z=null;try{Z=yield P._popupRedirectResolver._completeRedirectFn(P,S,!0)}catch{yield P._setRedirectUser(null)}return Z})()}reloadAndSetCurrentUserOrClear(S){var P=this;return(0,p.A)(function*(){try{yield Pt(S)}catch(Z){if("auth/network-request-failed"!==Z?.code)return P.directlySetCurrentUser(null)}return P.directlySetCurrentUser(S)})()}useDeviceLanguage(){this.languageCode=function Nn(){if(typeof navigator>"u")return null;const $=navigator;return $.languages&&$.languages[0]||$.language||null}()}_delete(){var S=this;return(0,p.A)(function*(){S._deleted=!0})()}updateCurrentUser(S){var P=this;return(0,p.A)(function*(){if((0,T._isFirebaseServerApp)(P.app))return Promise.reject(de(P));const Z=S?(0,F.Ku)(S):null;return Z&&_e(Z.auth.config.apiKey===P.config.apiKey,P,"invalid-user-token"),P._updateCurrentUser(Z&&Z._clone(P))})()}_updateCurrentUser(S,P=!1){var Z=this;return(0,p.A)(function*(){if(!Z._deleted)return S&&_e(Z.tenantId===S.tenantId,Z,"tenant-id-mismatch"),P||(yield Z.beforeStateQueue.runMiddleware(S)),Z.queue((0,p.A)(function*(){yield Z.directlySetCurrentUser(S),Z.notifyAuthListeners()}))})()}signOut(){var S=this;return(0,p.A)(function*(){return(0,T._isFirebaseServerApp)(S.app)?Promise.reject(de(S)):(yield S.beforeStateQueue.runMiddleware(null),(S.redirectPersistenceManager||S._popupRedirectResolver)&&(yield S._setRedirectUser(null)),S._updateCurrentUser(null,!0))})()}setPersistence(S){var P=this;return(0,T._isFirebaseServerApp)(this.app)?Promise.reject(de(this)):this.queue((0,p.A)(function*(){yield P.assertedPersistence.setPersistence(on(S))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(S){var P=this;return(0,p.A)(function*(){P._getPasswordPolicyInternal()||(yield P._updatePasswordPolicy());const Z=P._getPasswordPolicyInternal();return Z.schemaVersion!==P.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(P._errorFactory.create("unsupported-password-policy-schema-version",{})):Z.validatePassword(S)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var S=this;return(0,p.A)(function*(){const P=yield function Sn($){return Ln.apply(this,arguments)}(S),Z=new Di(P);null===S.tenantId?S._projectPasswordPolicy=Z:S._tenantPasswordPolicies[S.tenantId]=Z})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(S){this._errorFactory=new F.FA("auth","Firebase",S())}onAuthStateChanged(S,P,Z){return this.registerStateListener(this.authStateSubscription,S,P,Z)}beforeAuthStateChanged(S,P){return this.beforeStateQueue.pushCallback(S,P)}onIdTokenChanged(S,P,Z){return this.registerStateListener(this.idTokenSubscription,S,P,Z)}authStateReady(){return new Promise((S,P)=>{if(this.currentUser)S();else{const Z=this.onAuthStateChanged(()=>{Z(),S()},P)}})}revokeAccessToken(S){var P=this;return(0,p.A)(function*(){if(P.currentUser){const Z=yield P.currentUser.getIdToken(),$e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:S,idToken:Z};null!=P.tenantId&&($e.tenantId=P.tenantId),yield function V($,S){return G.apply(this,arguments)}(P,$e)}})()}toJSON(){var S;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(S=this._currentUser)||void 0===S?void 0:S.toJSON()}}_setRedirectUser(S,P){var Z=this;return(0,p.A)(function*(){const $e=yield Z.getOrInitRedirectPersistenceManager(P);return null===S?$e.removeCurrentUser():$e.setCurrentUser(S)})()}getOrInitRedirectPersistenceManager(S){var P=this;return(0,p.A)(function*(){if(!P.redirectPersistenceManager){const Z=S&&on(S)||P._popupRedirectResolver;_e(Z,P,"argument-error"),P.redirectPersistenceManager=yield lt.create(P,[on(Z._redirectPersistence)],"redirectUser"),P.redirectUser=yield P.redirectPersistenceManager.getCurrentUser()}return P.redirectPersistenceManager})()}_redirectUserForId(S){var P=this;return(0,p.A)(function*(){var Z,$e;return P._isInitialized&&(yield P.queue((0,p.A)(function*(){}))),(null===(Z=P._currentUser)||void 0===Z?void 0:Z._redirectEventId)===S?P._currentUser:(null===($e=P.redirectUser)||void 0===$e?void 0:$e._redirectEventId)===S?P.redirectUser:null})()}_persistUserIfCurrent(S){var P=this;return(0,p.A)(function*(){if(S===P.currentUser)return P.queue((0,p.A)(function*(){return P.directlySetCurrentUser(S)}))})()}_notifyListenersIfCurrent(S){S===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var S,P;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Z=null!==(P=null===(S=this.currentUser)||void 0===S?void 0:S.uid)&&void 0!==P?P:null;this.lastNotifiedUid!==Z&&(this.lastNotifiedUid=Z,this.authStateSubscription.next(this.currentUser))}registerStateListener(S,P,Z,$e){if(this._deleted)return()=>{};const Ct="function"==typeof P?P:P.next.bind(P);let xn=!1;const jn=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(jn,this,"internal-error"),jn.then(()=>{xn||Ct(this.currentUser)}),"function"==typeof P){const xi=S.addObserver(P,Z,$e);return()=>{xn=!0,xi()}}{const xi=S.addObserver(P);return()=>{xn=!0,xi()}}}directlySetCurrentUser(S){var P=this;return(0,p.A)(function*(){P.currentUser&&P.currentUser!==S&&P._currentUser._stopProactiveRefresh(),S&&P.isProactiveRefreshEnabled&&S._startProactiveRefresh(),P.currentUser=S,S?yield P.assertedPersistence.setCurrentUser(S):yield P.assertedPersistence.removeCurrentUser()})()}queue(S){return this.operations=this.operations.then(S,S),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(S){!S||this.frameworks.includes(S)||(this.frameworks.push(S),this.frameworks.sort(),this.clientVersion=at(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var S=this;return(0,p.A)(function*(){var P;const Z={"X-Client-Version":S.clientVersion};S.app.options.appId&&(Z["X-Firebase-gmpid"]=S.app.options.appId);const $e=yield null===(P=S.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===P?void 0:P.getHeartbeatsHeader();$e&&(Z["X-Firebase-Client"]=$e);const Ct=yield S._getAppCheckToken();return Ct&&(Z["X-Firebase-AppCheck"]=Ct),Z})()}_getAppCheckToken(){var S=this;return(0,p.A)(function*(){var P;const Z=yield null===(P=S.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===P?void 0:P.getToken();return Z?.error&&function Be($,...S){Ne.logLevel<=x.$b.WARN&&Ne.warn(`Auth (${T.SDK_VERSION}): ${$}`,...S)}(`Error while retrieving App Check token: ${Z.error}`),Z?.token})()}}function Li($){return(0,F.Ku)($)}class ss{constructor(S){this.auth=S,this.observer=null,this.addObserver=(0,F.tD)(P=>this.observer=P)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zr={loadJS:()=>(0,p.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Or($){return Zr.loadJS($)}function fs($){return`__${$}${Math.floor(1e6*Math.random())}`}class no{constructor(S){this.type="recaptcha-enterprise",this.auth=Li(S)}verify(S="verify",P=!1){var Z=this;return(0,p.A)(function*(){function Ct(){return Ct=(0,p.A)(function*(jn){if(!P){if(null==jn.tenantId&&null!=jn._agentRecaptchaConfig)return jn._agentRecaptchaConfig.siteKey;if(null!=jn.tenantId&&void 0!==jn._tenantRecaptchaConfigs[jn.tenantId])return jn._tenantRecaptchaConfigs[jn.tenantId].siteKey}return new Promise(function(){var xi=(0,p.A)(function*(dr,Tr){Ie(jn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ur=>{if(void 0!==ur.recaptchaKey){const zo=new hi(ur);return null==jn.tenantId?jn._agentRecaptchaConfig=zo:jn._tenantRecaptchaConfigs[jn.tenantId]=zo,dr(zo.siteKey)}Tr(new Error("recaptcha Enterprise site key undefined"))}).catch(ur=>{Tr(ur)})});return function(dr,Tr){return xi.apply(this,arguments)}}())}),Ct.apply(this,arguments)}function xn(jn,xi,dr){const Tr=window.grecaptcha;Pi(Tr)?Tr.enterprise.ready(()=>{Tr.enterprise.execute(jn,{action:S}).then(ur=>{xi(ur)}).catch(()=>{xi("NO_RECAPTCHA")})}):dr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((jn,xi)=>{(function $e(jn){return Ct.apply(this,arguments)})(Z.auth).then(dr=>{if(!P&&Pi(window.grecaptcha))xn(dr,jn,xi);else{if(typeof window>"u")return void xi(new Error("RecaptchaVerifier is only supported in browser"));let Tr=function Xs(){return Zr.recaptchaEnterpriseScript}();0!==Tr.length&&(Tr+=dr),Or(Tr).then(()=>{xn(dr,jn,xi)}).catch(ur=>{xi(ur)})}}).catch(dr=>{xi(dr)})})})()}}function Oo($,S,P){return As.apply(this,arguments)}function As(){return(As=(0,p.A)(function*($,S,P,Z=!1){const $e=new no($);let Ct;try{Ct=yield $e.verify(P)}catch{Ct=yield $e.verify(P,!0)}const xn=Object.assign({},S);return Object.assign(xn,Z?{captchaResp:Ct}:{captchaResponse:Ct}),Object.assign(xn,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(xn,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),xn})).apply(this,arguments)}function io($,S,P,Z){return kr.apply(this,arguments)}function kr(){return kr=(0,p.A)(function*($,S,P,Z){var $e;if(null!==($e=$._getRecaptchaConfig())&&void 0!==$e&&$e.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ct=yield Oo($,S,P,"getOobCode"===P);return Z($,Ct)}return Z($,S).catch(function(){var Ct=(0,p.A)(function*(xn){if("auth/missing-recaptcha-token"===xn.code){console.log(`${P} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const jn=yield Oo($,S,P,"getOobCode"===P);return Z($,jn)}return Promise.reject(xn)});return function(xn){return Ct.apply(this,arguments)}}())}),kr.apply(this,arguments)}function dl($){const S=$.indexOf(":");return S<0?"":$.substr(0,S+1)}function ds($){if(!$)return null;const S=Number($);return isNaN(S)?null:S}class Jo{constructor(S,P){this.providerId=S,this.signInMethod=P}toJSON(){return Xe("not implemented")}_getIdTokenResponse(S){return Xe("not implemented")}_linkToIdToken(S,P){return Xe("not implemented")}_getReauthenticationResolver(S){return Xe("not implemented")}}function Ms($,S){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,p.A)(function*($,S){return We($,"POST","/v1/accounts:resetPassword",qe($,S))})).apply(this,arguments)}function nc(){return(nc=(0,p.A)(function*($,S){return We($,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function Ra($,S){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,p.A)(function*($,S){return We($,"POST","/v1/accounts:signUp",S)})).apply(this,arguments)}function De(){return(De=(0,p.A)(function*($,S){return We($,"POST","/v1/accounts:update",qe($,S))})).apply(this,arguments)}function Me($,S){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,p.A)(function*($,S){return Lt($,"POST","/v1/accounts:signInWithPassword",qe($,S))})).apply(this,arguments)}function yn($,S){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,p.A)(function*($,S){return We($,"POST","/v1/accounts:sendOobCode",qe($,S))})).apply(this,arguments)}function Hn(){return(Hn=(0,p.A)(function*($,S){return yn($,S)})).apply(this,arguments)}function gi($,S){return er.apply(this,arguments)}function er(){return(er=(0,p.A)(function*($,S){return yn($,S)})).apply(this,arguments)}function Fr($,S){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,p.A)(function*($,S){return yn($,S)})).apply(this,arguments)}function ks(){return(ks=(0,p.A)(function*($,S){return yn($,S)})).apply(this,arguments)}function Ur(){return(Ur=(0,p.A)(function*($,S){return Lt($,"POST","/v1/accounts:signInWithEmailLink",qe($,S))})).apply(this,arguments)}function Bs(){return(Bs=(0,p.A)(function*($,S){return Lt($,"POST","/v1/accounts:signInWithEmailLink",qe($,S))})).apply(this,arguments)}class or extends Jo{constructor(S,P,Z,$e=null){super("password",Z),this._email=S,this._password=P,this._tenantId=$e}static _fromEmailAndPassword(S,P){return new or(S,P,"password")}static _fromEmailAndCode(S,P,Z=null){return new or(S,P,"emailLink",Z)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(S){const P="string"==typeof S?JSON.parse(S):S;if(P?.email&&P?.password){if("password"===P.signInMethod)return this._fromEmailAndPassword(P.email,P.password);if("emailLink"===P.signInMethod)return this._fromEmailAndCode(P.email,P.password,P.tenantId)}return null}_getIdTokenResponse(S){var P=this;return(0,p.A)(function*(){switch(P.signInMethod){case"password":return io(S,{returnSecureToken:!0,email:P._email,password:P._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Me);case"emailLink":return function zs($,S){return Ur.apply(this,arguments)}(S,{email:P._email,oobCode:P._password});default:Le(S,"internal-error")}})()}_linkToIdToken(S,P){var Z=this;return(0,p.A)(function*(){switch(Z.signInMethod){case"password":return io(S,{idToken:P,returnSecureToken:!0,email:Z._email,password:Z._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ra);case"emailLink":return function Rr($,S){return Bs.apply(this,arguments)}(S,{idToken:P,email:Z._email,oobCode:Z._password});default:Le(S,"internal-error")}})()}_getReauthenticationResolver(S){return this._getIdTokenResponse(S)}}function Pr($,S){return tr.apply(this,arguments)}function tr(){return(tr=(0,p.A)(function*($,S){return Lt($,"POST","/v1/accounts:signInWithIdp",qe($,S))})).apply(this,arguments)}class Us extends Jo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(S){const P=new Us(S.providerId,S.signInMethod);return S.idToken||S.accessToken?(S.idToken&&(P.idToken=S.idToken),S.accessToken&&(P.accessToken=S.accessToken),S.nonce&&!S.pendingToken&&(P.nonce=S.nonce),S.pendingToken&&(P.pendingToken=S.pendingToken)):S.oauthToken&&S.oauthTokenSecret?(P.accessToken=S.oauthToken,P.secret=S.oauthTokenSecret):Le("argument-error"),P}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(S){const P="string"==typeof S?JSON.parse(S):S,{providerId:Z,signInMethod:$e}=P,Ct=(0,ce.Tt)(P,["providerId","signInMethod"]);if(!Z||!$e)return null;const xn=new Us(Z,$e);return xn.idToken=Ct.idToken||void 0,xn.accessToken=Ct.accessToken||void 0,xn.secret=Ct.secret,xn.nonce=Ct.nonce,xn.pendingToken=Ct.pendingToken||null,xn}_getIdTokenResponse(S){return Pr(S,this.buildRequest())}_linkToIdToken(S,P){const Z=this.buildRequest();return Z.idToken=P,Pr(S,Z)}_getReauthenticationResolver(S){const P=this.buildRequest();return P.autoCreate=!1,Pr(S,P)}buildRequest(){const S={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)S.pendingToken=this.pendingToken;else{const P={};this.idToken&&(P.id_token=this.idToken),this.accessToken&&(P.access_token=this.accessToken),this.secret&&(P.oauth_token_secret=this.secret),P.providerId=this.providerId,this.nonce&&!this.pendingToken&&(P.nonce=this.nonce),S.postBody=(0,F.Am)(P)}return S}}function aa(){return(aa=(0,p.A)(function*($,S){return We($,"POST","/v1/accounts:sendVerificationCode",qe($,S))})).apply(this,arguments)}function ma(){return(ma=(0,p.A)(function*($,S){return Lt($,"POST","/v1/accounts:signInWithPhoneNumber",qe($,S))})).apply(this,arguments)}function ic(){return(ic=(0,p.A)(function*($,S){const P=yield Lt($,"POST","/v1/accounts:signInWithPhoneNumber",qe($,S));if(P.temporaryProof)throw Pn($,"account-exists-with-different-credential",P);return P})).apply(this,arguments)}const Il={USER_NOT_FOUND:"user-not-found"};function ea(){return(ea=(0,p.A)(function*($,S){return Lt($,"POST","/v1/accounts:signInWithPhoneNumber",qe($,Object.assign(Object.assign({},S),{operation:"REAUTH"})),Il)})).apply(this,arguments)}class hl extends Jo{constructor(S){super("phone","phone"),this.params=S}static _fromVerification(S,P){return new hl({verificationId:S,verificationCode:P})}static _fromTokenResponse(S,P){return new hl({phoneNumber:S,temporaryProof:P})}_getIdTokenResponse(S){return function Go($,S){return ma.apply(this,arguments)}(S,this._makeVerificationRequest())}_linkToIdToken(S,P){return function nd($,S){return ic.apply(this,arguments)}(S,Object.assign({idToken:P},this._makeVerificationRequest()))}_getReauthenticationResolver(S){return function la($,S){return ea.apply(this,arguments)}(S,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:S,phoneNumber:P,verificationId:Z,verificationCode:$e}=this.params;return S&&P?{temporaryProof:S,phoneNumber:P}:{sessionInfo:Z,code:$e}}toJSON(){const S={providerId:this.providerId};return this.params.phoneNumber&&(S.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(S.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(S.verificationCode=this.params.verificationCode),this.params.verificationId&&(S.verificationId=this.params.verificationId),S}static fromJSON(S){"string"==typeof S&&(S=JSON.parse(S));const{verificationId:P,verificationCode:Z,phoneNumber:$e,temporaryProof:Ct}=S;return Z||P||$e||Ct?new hl({verificationId:P,verificationCode:Z,phoneNumber:$e,temporaryProof:Ct}):null}}class $r{constructor(S){var P,Z,$e,Ct,xn,jn;const xi=(0,F.I9)((0,F.hp)(S)),dr=null!==(P=xi.apiKey)&&void 0!==P?P:null,Tr=null!==(Z=xi.oobCode)&&void 0!==Z?Z:null,ur=function La($){switch($){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($e=xi.mode)&&void 0!==$e?$e:null);_e(dr&&Tr&&ur,"argument-error"),this.apiKey=dr,this.operation=ur,this.code=Tr,this.continueUrl=null!==(Ct=xi.continueUrl)&&void 0!==Ct?Ct:null,this.languageCode=null!==(xn=xi.languageCode)&&void 0!==xn?xn:null,this.tenantId=null!==(jn=xi.tenantId)&&void 0!==jn?jn:null}static parseLink(S){const P=function Zs($){const S=(0,F.I9)((0,F.hp)($)).link,P=S?(0,F.I9)((0,F.hp)(S)).deep_link_id:null,Z=(0,F.I9)((0,F.hp)($)).deep_link_id;return(Z?(0,F.I9)((0,F.hp)(Z)).link:null)||Z||P||S||$}(S);try{return new $r(P)}catch{return null}}}let id=(()=>{class ${constructor(){this.providerId=$.PROVIDER_ID}static credential(P,Z){return or._fromEmailAndPassword(P,Z)}static credentialWithLink(P,Z){const $e=$r.parseLink(Z);return _e($e,"argument-error"),or._fromEmailAndCode(P,$e.code,$e.tenantId)}}return $.PROVIDER_ID="password",$.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$.EMAIL_LINK_SIGN_IN_METHOD="emailLink",$})();class fl{constructor(S){this.providerId=S,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(S){this.defaultLanguageCode=S}setCustomParameters(S){return this.customParameters=S,this}getCustomParameters(){return this.customParameters}}class ca extends fl{constructor(){super(...arguments),this.scopes=[]}addScope(S){return this.scopes.includes(S)||this.scopes.push(S),this}getScopes(){return[...this.scopes]}}class as extends ca{static credentialFromJSON(S){const P="string"==typeof S?JSON.parse(S):S;return _e("providerId"in P&&"signInMethod"in P,"argument-error"),Us._fromParams(P)}credential(S){return this._credential(Object.assign(Object.assign({},S),{nonce:S.rawNonce}))}_credential(S){return _e(S.idToken||S.accessToken,"argument-error"),Us._fromParams(Object.assign(Object.assign({},S),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(S){return as.oauthCredentialFromTaggedObject(S)}static credentialFromError(S){return as.oauthCredentialFromTaggedObject(S.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{oauthIdToken:P,oauthAccessToken:Z,oauthTokenSecret:$e,pendingToken:Ct,nonce:xn,providerId:jn}=S;if(!Z&&!$e&&!P&&!Ct||!jn)return null;try{return new as(jn)._credential({idToken:P,accessToken:Z,nonce:xn,pendingToken:Ct})}catch{return null}}}let Fo=(()=>{class $ extends ca{constructor(){super("facebook.com")}static credential(P){return Us._fromParams({providerId:$.PROVIDER_ID,signInMethod:$.FACEBOOK_SIGN_IN_METHOD,accessToken:P})}static credentialFromResult(P){return $.credentialFromTaggedObject(P)}static credentialFromError(P){return $.credentialFromTaggedObject(P.customData||{})}static credentialFromTaggedObject({_tokenResponse:P}){if(!P||!("oauthAccessToken"in P)||!P.oauthAccessToken)return null;try{return $.credential(P.oauthAccessToken)}catch{return null}}}return $.FACEBOOK_SIGN_IN_METHOD="facebook.com",$.PROVIDER_ID="facebook.com",$})(),rd=(()=>{class $ extends ca{constructor(){super("google.com"),this.addScope("profile")}static credential(P,Z){return Us._fromParams({providerId:$.PROVIDER_ID,signInMethod:$.GOOGLE_SIGN_IN_METHOD,idToken:P,accessToken:Z})}static credentialFromResult(P){return $.credentialFromTaggedObject(P)}static credentialFromError(P){return $.credentialFromTaggedObject(P.customData||{})}static credentialFromTaggedObject({_tokenResponse:P}){if(!P)return null;const{oauthIdToken:Z,oauthAccessToken:$e}=P;if(!Z&&!$e)return null;try{return $.credential(Z,$e)}catch{return null}}}return $.GOOGLE_SIGN_IN_METHOD="google.com",$.PROVIDER_ID="google.com",$})(),Ml=(()=>{class $ extends ca{constructor(){super("github.com")}static credential(P){return Us._fromParams({providerId:$.PROVIDER_ID,signInMethod:$.GITHUB_SIGN_IN_METHOD,accessToken:P})}static credentialFromResult(P){return $.credentialFromTaggedObject(P)}static credentialFromError(P){return $.credentialFromTaggedObject(P.customData||{})}static credentialFromTaggedObject({_tokenResponse:P}){if(!P||!("oauthAccessToken"in P)||!P.oauthAccessToken)return null;try{return $.credential(P.oauthAccessToken)}catch{return null}}}return $.GITHUB_SIGN_IN_METHOD="github.com",$.PROVIDER_ID="github.com",$})();class Co extends Jo{constructor(S,P){super(S,S),this.pendingToken=P}_getIdTokenResponse(S){return Pr(S,this.buildRequest())}_linkToIdToken(S,P){const Z=this.buildRequest();return Z.idToken=P,Pr(S,Z)}_getReauthenticationResolver(S){const P=this.buildRequest();return P.autoCreate=!1,Pr(S,P)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(S){const P="string"==typeof S?JSON.parse(S):S,{providerId:Z,signInMethod:$e,pendingToken:Ct}=P;return Z&&$e&&Ct&&Z===$e?new Co(Z,Ct):null}static _create(S,P){return new Co(S,P)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hs extends fl{constructor(S){_e(S.startsWith("saml."),"argument-error"),super(S)}static credentialFromResult(S){return Hs.samlCredentialFromTaggedObject(S)}static credentialFromError(S){return Hs.samlCredentialFromTaggedObject(S.customData||{})}static credentialFromJSON(S){const P=Co.fromJSON(S);return _e(P,"argument-error"),P}static samlCredentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{pendingToken:P,providerId:Z}=S;if(!P||!Z)return null;try{return Co._create(Z,P)}catch{return null}}}let pl=(()=>{class $ extends ca{constructor(){super("twitter.com")}static credential(P,Z){return Us._fromParams({providerId:$.PROVIDER_ID,signInMethod:$.TWITTER_SIGN_IN_METHOD,oauthToken:P,oauthTokenSecret:Z})}static credentialFromResult(P){return $.credentialFromTaggedObject(P)}static credentialFromError(P){return $.credentialFromTaggedObject(P.customData||{})}static credentialFromTaggedObject({_tokenResponse:P}){if(!P)return null;const{oauthAccessToken:Z,oauthTokenSecret:$e}=P;if(!Z||!$e)return null;try{return $.credential(Z,$e)}catch{return null}}}return $.TWITTER_SIGN_IN_METHOD="twitter.com",$.PROVIDER_ID="twitter.com",$})();function Xa($,S){return rt.apply(this,arguments)}function rt(){return(rt=(0,p.A)(function*($,S){return Lt($,"POST","/v1/accounts:signUp",qe($,S))})).apply(this,arguments)}class ut{constructor(S){this.user=S.user,this.providerId=S.providerId,this._tokenResponse=S._tokenResponse,this.operationType=S.operationType}static _fromIdTokenResponse(S,P,Z,$e=!1){return(0,p.A)(function*(){const Ct=yield ot._fromIdTokenResponse(S,Z,$e),xn=Fe(Z);return new ut({user:Ct,providerId:xn,_tokenResponse:Z,operationType:P})})()}static _forOperation(S,P,Z){return(0,p.A)(function*(){yield S._updateTokensIfNecessary(Z,!0);const $e=Fe(Z);return new ut({user:S,providerId:$e,_tokenResponse:Z,operationType:P})})()}}function Fe($){return $.providerId?$.providerId:"phoneNumber"in $?"phone":null}function Tn(){return(Tn=(0,p.A)(function*($){var S;if((0,T._isFirebaseServerApp)($.app))return Promise.reject(de($));const P=Li($);if(yield P._initializationPromise,null!==(S=P.currentUser)&&void 0!==S&&S.isAnonymous)return new ut({user:P.currentUser,providerId:null,operationType:"signIn"});const Z=yield Xa(P,{returnSecureToken:!0}),$e=yield ut._fromIdTokenResponse(P,"signIn",Z,!0);return yield P._updateCurrentUser($e.user),$e})).apply(this,arguments)}class fr extends F.g{constructor(S,P,Z,$e){var Ct;super(P.code,P.message),this.operationType=Z,this.user=$e,Object.setPrototypeOf(this,fr.prototype),this.customData={appName:S.name,tenantId:null!==(Ct=S.tenantId)&&void 0!==Ct?Ct:void 0,_serverResponse:P.customData._serverResponse,operationType:Z}}static _fromErrorAndOperation(S,P,Z,$e){return new fr(S,P,Z,$e)}}function qr($,S,P,Z){return("reauthenticate"===S?P._getReauthenticationResolver($):P._getIdTokenResponse($)).catch(Ct=>{throw"auth/multi-factor-auth-required"===Ct.code?fr._fromErrorAndOperation($,Ct,S,Z):Ct})}function ml($){return new Set($.map(({providerId:S})=>S).filter(S=>!!S))}function ro(){return ro=(0,p.A)(function*($,S){const P=(0,F.Ku)($);yield Td(!0,P,S);const{providerUserInfo:Z}=yield function Gt($,S){return En.apply(this,arguments)}(P.auth,{idToken:yield P.getIdToken(),deleteProvider:[S]}),$e=ml(Z||[]);return P.providerData=P.providerData.filter(Ct=>$e.has(Ct.providerId)),$e.has("phone")||(P.phoneNumber=null),yield P.auth._persistUserIfCurrent(P),P}),ro.apply(this,arguments)}function cu($,S){return af.apply(this,arguments)}function af(){return(af=(0,p.A)(function*($,S,P=!1){const Z=yield Gi($,S._linkToIdToken($.auth,yield $.getIdToken()),P);return ut._forOperation($,"link",Z)})).apply(this,arguments)}function Td($,S,P){return _h.apply(this,arguments)}function _h(){return(_h=(0,p.A)(function*($,S,P){yield Pt(S);const $e=!1===$?"provider-already-linked":"no-such-provider";_e(ml(S.providerData).has(P)===$,S.auth,$e)})).apply(this,arguments)}function co($,S){return vh.apply(this,arguments)}function vh(){return(vh=(0,p.A)(function*($,S,P=!1){const{auth:Z}=$;if((0,T._isFirebaseServerApp)(Z.app))return Promise.reject(de(Z));const $e="reauthenticate";try{const Ct=yield Gi($,qr(Z,$e,S,$),P);_e(Ct.idToken,Z,"internal-error");const xn=Ar(Ct.idToken);_e(xn,Z,"internal-error");const{sub:jn}=xn;return _e($.uid===jn,Z,"user-mismatch"),ut._forOperation($,$e,Ct)}catch(Ct){throw"auth/user-not-found"===Ct?.code&&Le(Z,"user-mismatch"),Ct}})).apply(this,arguments)}function bh($,S){return lf.apply(this,arguments)}function lf(){return(lf=(0,p.A)(function*($,S,P=!1){if((0,T._isFirebaseServerApp)($.app))return Promise.reject(de($));const Z="signIn",$e=yield qr($,Z,S),Ct=yield ut._fromIdTokenResponse($,Z,$e);return P||(yield $._updateCurrentUser(Ct.user)),Ct})).apply(this,arguments)}function Na($,S){return gc.apply(this,arguments)}function gc(){return(gc=(0,p.A)(function*($,S){return bh(Li($),S)})).apply(this,arguments)}function ga($,S){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,p.A)(function*($,S){const P=(0,F.Ku)($);return yield Td(!1,P,S.providerId),cu(P,S)})).apply(this,arguments)}function Qa($,S){return _c.apply(this,arguments)}function _c(){return(_c=(0,p.A)(function*($,S){return co((0,F.Ku)($),S)})).apply(this,arguments)}function Sd(){return(Sd=(0,p.A)(function*($,S){return Lt($,"POST","/v1/accounts:signInWithCustomToken",qe($,S))})).apply(this,arguments)}function us(){return us=(0,p.A)(function*($,S){if((0,T._isFirebaseServerApp)($.app))return Promise.reject(de($));const P=Li($),Z=yield function du($,S){return Sd.apply(this,arguments)}(P,{token:S,returnSecureToken:!0}),$e=yield ut._fromIdTokenResponse(P,"signIn",Z);return yield P._updateCurrentUser($e.user),$e}),us.apply(this,arguments)}class fo{constructor(S,P){this.factorId=S,this.uid=P.mfaEnrollmentId,this.enrollmentTime=new Date(P.enrolledAt).toUTCString(),this.displayName=P.displayName}static _fromServerResponse(S,P){return"phoneInfo"in P?Bo._fromServerResponse(S,P):"totpInfo"in P?qa._fromServerResponse(S,P):Le(S,"internal-error")}}class Bo extends fo{constructor(S){super("phone",S),this.phoneNumber=S.phoneInfo}static _fromServerResponse(S,P){return new Bo(P)}}class qa extends fo{constructor(S){super("totp",S)}static _fromServerResponse(S,P){return new qa(P)}}function To($,S,P){var Z;_e((null===(Z=P.url)||void 0===Z?void 0:Z.length)>0,$,"invalid-continue-uri"),_e(typeof P.dynamicLinkDomain>"u"||P.dynamicLinkDomain.length>0,$,"invalid-dynamic-link-domain"),S.continueUrl=P.url,S.dynamicLinkDomain=P.dynamicLinkDomain,S.canHandleCodeInApp=P.handleCodeInApp,P.iOS&&(_e(P.iOS.bundleId.length>0,$,"missing-ios-bundle-id"),S.iOSBundleId=P.iOS.bundleId),P.android&&(_e(P.android.packageName.length>0,$,"missing-android-pkg-name"),S.androidInstallApp=P.android.installApp,S.androidMinimumVersionCode=P.android.minimumVersion,S.androidPackageName=P.android.packageName)}function uu($){return hu.apply(this,arguments)}function hu(){return(hu=(0,p.A)(function*($){const S=Li($);S._getPasswordPolicyInternal()&&(yield S._updatePasswordPolicy())})).apply(this,arguments)}function Nu(){return(Nu=(0,p.A)(function*($,S,P){const Z=Li($),$e={requestType:"PASSWORD_RESET",email:S,clientType:"CLIENT_TYPE_WEB"};P&&To(Z,$e,P),yield io(Z,$e,"getOobCode",gi)})).apply(this,arguments)}function rc(){return rc=(0,p.A)(function*($,S,P){yield Ms((0,F.Ku)($),{oobCode:S,newPassword:P}).catch(function(){var Z=(0,p.A)(function*($e){throw"auth/password-does-not-meet-requirements"===$e.code&&uu($),$e});return function($e){return Z.apply(this,arguments)}}())}),rc.apply(this,arguments)}function gl(){return gl=(0,p.A)(function*($,S){yield function U($,S){return De.apply(this,arguments)}((0,F.Ku)($),{oobCode:S})}),gl.apply(this,arguments)}function Uc($,S){return ns.apply(this,arguments)}function ns(){return(ns=(0,p.A)(function*($,S){const P=(0,F.Ku)($),Z=yield Ms(P,{oobCode:S}),$e=Z.requestType;switch(_e($e,P,"internal-error"),$e){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_e(Z.newEmail,P,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_e(Z.mfaInfo,P,"internal-error");default:_e(Z.email,P,"internal-error")}let Ct=null;return Z.mfaInfo&&(Ct=fo._fromServerResponse(Li(P),Z.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===Z.requestType?Z.newEmail:Z.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===Z.requestType?Z.email:Z.newEmail)||null,multiFactorInfo:Ct},operation:$e}})).apply(this,arguments)}function Ad(){return(Ad=(0,p.A)(function*($,S){const{data:P}=yield Uc((0,F.Ku)($),S);return P.email})).apply(this,arguments)}function vc(){return(vc=(0,p.A)(function*($,S,P){if((0,T._isFirebaseServerApp)($.app))return Promise.reject(de($));const Z=Li($),xn=yield io(Z,{returnSecureToken:!0,email:S,password:P,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xa).catch(xi=>{throw"auth/password-does-not-meet-requirements"===xi.code&&uu($),xi}),jn=yield ut._fromIdTokenResponse(Z,"signIn",xn);return yield Z._updateCurrentUser(jn.user),jn})).apply(this,arguments)}function zl(){return(zl=(0,p.A)(function*($,S,P){const Z=Li($),$e={requestType:"EMAIL_SIGNIN",email:S,clientType:"CLIENT_TYPE_WEB"};(function Ct(xn,jn){_e(jn.handleCodeInApp,Z,"argument-error"),jn&&To(Z,xn,jn)})($e,P),yield io(Z,$e,"getOobCode",Fr)})).apply(this,arguments)}function Ia(){return(Ia=(0,p.A)(function*($,S,P){if((0,T._isFirebaseServerApp)($.app))return Promise.reject(de($));const Z=(0,F.Ku)($),$e=id.credentialWithLink(S,P||Ot());return _e($e._tenantId===(Z.tenantId||null),Z,"tenant-id-mismatch"),Na(Z,$e)})).apply(this,arguments)}function Gs(){return(Gs=(0,p.A)(function*($,S){return We($,"POST","/v1/accounts:createAuthUri",qe($,S))})).apply(this,arguments)}function xa(){return xa=(0,p.A)(function*($,S){const Z={identifier:S,continueUri:un()?Ot():"http://localhost"},{signinMethods:$e}=yield function cf($,S){return Gs.apply(this,arguments)}((0,F.Ku)($),Z);return $e||[]}),xa.apply(this,arguments)}function Vu(){return Vu=(0,p.A)(function*($,S){const P=(0,F.Ku)($),$e={requestType:"VERIFY_EMAIL",idToken:yield $.getIdToken()};S&&To(P.auth,$e,S);const{email:Ct}=yield function zn($,S){return Hn.apply(this,arguments)}(P.auth,$e);Ct!==$.email&&(yield $.reload())}),Vu.apply(this,arguments)}function Hl(){return Hl=(0,p.A)(function*($,S,P){const Z=(0,F.Ku)($),Ct={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield $.getIdToken(),newEmail:S};P&&To(Z.auth,Ct,P);const{email:xn}=yield function xr($,S){return ks.apply(this,arguments)}(Z.auth,Ct);xn!==$.email&&(yield $.reload())}),Hl.apply(this,arguments)}function ad(){return(ad=(0,p.A)(function*($,S){return We($,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function Fa(){return Fa=(0,p.A)(function*($,{displayName:S,photoURL:P}){if(void 0===S&&void 0===P)return;const Z=(0,F.Ku)($),Ct={idToken:yield Z.getIdToken(),displayName:S,photoUrl:P,returnSecureToken:!0},xn=yield Gi(Z,function od($,S){return ad.apply(this,arguments)}(Z.auth,Ct));Z.displayName=xn.displayName||null,Z.photoURL=xn.photoUrl||null;const jn=Z.providerData.find(({providerId:xi})=>"password"===xi);jn&&(jn.displayName=Z.displayName,jn.photoURL=Z.photoURL),yield Z._updateTokensIfNecessary(xn)}),Fa.apply(this,arguments)}function bl($,S,P){return da.apply(this,arguments)}function da(){return da=(0,p.A)(function*($,S,P){const{auth:Z}=$,Ct={idToken:yield $.getIdToken(),returnSecureToken:!0};S&&(Ct.email=S),P&&(Ct.password=P);const xn=yield Gi($,function Wa($,S){return nc.apply(this,arguments)}(Z,Ct));yield $._updateTokensIfNecessary(xn,!0)}),da.apply(this,arguments)}class re{constructor(S,P,Z={}){this.isNewUser=S,this.providerId=P,this.profile=Z}}class vt extends re{constructor(S,P,Z,$e){super(S,P,Z),this.username=$e}}class Oe extends re{constructor(S,P){super(S,"facebook.com",P)}}class et extends vt{constructor(S,P){super(S,"github.com",P,"string"==typeof P?.login?P?.login:null)}}class Qt extends re{constructor(S,P){super(S,"google.com",P)}}class Xn extends vt{constructor(S,P,Z){super(S,"twitter.com",P,Z)}}function di($){const{user:S,_tokenResponse:P}=$;return S.isAnonymous&&!P?{providerId:null,isNewUser:!1,profile:null}:function bc($){var S,P;if(!$)return null;const{providerId:Z}=$,$e=$.rawUserInfo?JSON.parse($.rawUserInfo):{},Ct=$.isNewUser||"identitytoolkit#SignupNewUserResponse"===$.kind;if(!Z&&$?.idToken){const xn=null===(P=null===(S=Ar($.idToken))||void 0===S?void 0:S.firebase)||void 0===P?void 0:P.sign_in_provider;if(xn)return new re(Ct,"anonymous"!==xn&&"custom"!==xn?xn:null)}if(!Z)return null;switch(Z){case"facebook.com":return new Oe(Ct,$e);case"github.com":return new et(Ct,$e);case"google.com":return new Qt(Ct,$e);case"twitter.com":return new Xn(Ct,$e,$.screenName||null);case"custom":case"anonymous":return new re(Ct,null);default:return new re(Ct,Z,$e)}}(P)}class Lr{constructor(S,P,Z){this.type=S,this.credential=P,this.user=Z}static _fromIdtoken(S,P){return new Lr("enroll",S,P)}static _fromMfaPendingCredential(S){return new Lr("signin",S)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(S){var P,Z;if(S?.multiFactorSession){if(null!==(P=S.multiFactorSession)&&void 0!==P&&P.pendingCredential)return Lr._fromMfaPendingCredential(S.multiFactorSession.pendingCredential);if(null!==(Z=S.multiFactorSession)&&void 0!==Z&&Z.idToken)return Lr._fromIdtoken(S.multiFactorSession.idToken)}return null}}class Rs{constructor(S,P,Z){this.session=S,this.hints=P,this.signInResolver=Z}static _fromError(S,P){const Z=Li(S),$e=P.customData._serverResponse,Ct=($e.mfaInfo||[]).map(jn=>fo._fromServerResponse(Z,jn));_e($e.mfaPendingCredential,Z,"internal-error");const xn=Lr._fromMfaPendingCredential($e.mfaPendingCredential);return new Rs(xn,Ct,function(){var jn=(0,p.A)(function*(xi){const dr=yield xi._process(Z,xn);delete $e.mfaInfo,delete $e.mfaPendingCredential;const Tr=Object.assign(Object.assign({},$e),{idToken:dr.idToken,refreshToken:dr.refreshToken});switch(P.operationType){case"signIn":const ur=yield ut._fromIdTokenResponse(Z,P.operationType,Tr);return yield Z._updateCurrentUser(ur.user),ur;case"reauthenticate":return _e(P.user,Z,"internal-error"),ut._forOperation(P.user,P.operationType,Tr);default:Le(Z,"internal-error")}});return function(xi){return jn.apply(this,arguments)}}())}resolveSignIn(S){var P=this;return(0,p.A)(function*(){return P.signInResolver(S)})()}}class Oi{constructor(S){this.user=S,this.enrolledFactors=[],S._onReload(P=>{P.mfaInfo&&(this.enrolledFactors=P.mfaInfo.map(Z=>fo._fromServerResponse(S.auth,Z)))})}static _fromUser(S){return new Oi(S)}getSession(){var S=this;return(0,p.A)(function*(){return Lr._fromIdtoken(yield S.user.getIdToken(),S.user)})()}enroll(S,P){var Z=this;return(0,p.A)(function*(){const $e=S,Ct=yield Z.getSession(),xn=yield Gi(Z.user,$e._process(Z.user.auth,Ct,P));return yield Z.user._updateTokensIfNecessary(xn),Z.user.reload()})()}unenroll(S){var P=this;return(0,p.A)(function*(){const Z="string"==typeof S?S:S.uid,$e=yield P.user.getIdToken();try{const Ct=yield Gi(P.user,function ei($,S){return We($,"POST","/v2/accounts/mfaEnrollment:withdraw",qe($,S))}(P.user.auth,{idToken:$e,mfaEnrollmentId:Z}));P.enrolledFactors=P.enrolledFactors.filter(({uid:xn})=>xn!==Z),yield P.user._updateTokensIfNecessary(Ct),yield P.user.reload()}catch(Ct){throw Ct}})()}}const po=new WeakMap,Uu="__sak";class kd{constructor(S,P){this.storageRetriever=S,this.type=P}_isAvailable(){try{return this.storage?(this.storage.setItem(Uu,"1"),this.storage.removeItem(Uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(S,P){return this.storage.setItem(S,JSON.stringify(P)),Promise.resolve()}_get(S){const P=this.storage.getItem(S);return Promise.resolve(P?JSON.parse(P):null)}_remove(S){return this.storage.removeItem(S),Promise.resolve()}get storage(){return this.storageRetriever()}}const fu=(()=>{class $ extends kd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(P,Z)=>this.onStorageEvent(P,Z),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yc(){const $=(0,F.ZQ)();return Nt($)||hn($)}()&&function we(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ct(),this._shouldAllowMigration=!0}forAllChangedKeys(P){for(const Z of Object.keys(this.listeners)){const $e=this.storage.getItem(Z),Ct=this.localCache[Z];$e!==Ct&&P(Z,Ct,$e)}}onStorageEvent(P,Z=!1){if(!P.key)return void this.forAllChangedKeys((jn,xi,dr)=>{this.notifyListeners(jn,dr)});const $e=P.key;if(Z?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const jn=this.storage.getItem($e);if(P.newValue!==jn)null!==P.newValue?this.storage.setItem($e,P.newValue):this.storage.removeItem($e);else if(this.localCache[$e]===P.newValue&&!Z)return}const Ct=()=>{const jn=this.storage.getItem($e);!Z&&this.localCache[$e]===jn||this.notifyListeners($e,jn)},xn=this.storage.getItem($e);!function he(){return(0,F.lT)()&&10===document.documentMode}()||xn===P.newValue||P.newValue===P.oldValue?Ct():setTimeout(Ct,10)}notifyListeners(P,Z){this.localCache[P]=Z;const $e=this.listeners[P];if($e)for(const Ct of Array.from($e))Ct(Z&&JSON.parse(Z))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((P,Z,$e)=>{this.onStorageEvent(new StorageEvent("storage",{key:P,oldValue:Z,newValue:$e}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(P,Z){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[P]||(this.listeners[P]=new Set,this.localCache[P]=this.storage.getItem(P)),this.listeners[P].add(Z)}_removeListener(P,Z){this.listeners[P]&&(this.listeners[P].delete(Z),0===this.listeners[P].size&&delete this.listeners[P]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(P,Z){var $e=()=>super._set,Ct=this;return(0,p.A)(function*(){yield $e().call(Ct,P,Z),Ct.localCache[P]=JSON.stringify(Z)})()}_get(P){var Z=()=>super._get,$e=this;return(0,p.A)(function*(){const Ct=yield Z().call($e,P);return $e.localCache[P]=JSON.stringify(Ct),Ct})()}_remove(P){var Z=()=>super._remove,$e=this;return(0,p.A)(function*(){yield Z().call($e,P),delete $e.localCache[P]})()}}return $.type="LOCAL",$})(),Jr=(()=>{class $ extends kd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(P,Z){}_removeListener(P,Z){}}return $.type="SESSION",$})();let is=(()=>{class ${constructor(P){this.eventTarget=P,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(P){const Z=this.receivers.find(Ct=>Ct.isListeningto(P));if(Z)return Z;const $e=new $(P);return this.receivers.push($e),$e}isListeningto(P){return this.eventTarget===P}handleEvent(P){var Z=this;return(0,p.A)(function*(){const $e=P,{eventId:Ct,eventType:xn,data:jn}=$e.data,xi=Z.handlersMap[xn];if(!xi?.size)return;$e.ports[0].postMessage({status:"ack",eventId:Ct,eventType:xn});const dr=Array.from(xi).map(function(){var ur=(0,p.A)(function*(zo){return zo($e.origin,jn)});return function(zo){return ur.apply(this,arguments)}}()),Tr=yield function $f($){return Promise.all($.map(function(){var S=(0,p.A)(function*(P){try{return{fulfilled:!0,value:yield P}}catch(Z){return{fulfilled:!1,reason:Z}}});return function(P){return S.apply(this,arguments)}}()))}(dr);$e.ports[0].postMessage({status:"done",eventId:Ct,eventType:xn,response:Tr})})()}_subscribe(P,Z){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[P]||(this.handlersMap[P]=new Set),this.handlersMap[P].add(Z)}_unsubscribe(P,Z){this.handlersMap[P]&&Z&&this.handlersMap[P].delete(Z),(!Z||0===this.handlersMap[P].size)&&delete this.handlersMap[P],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return $.receivers=[],$})();function Ca($="",S=10){let P="";for(let Z=0;Z<S;Z++)P+=Math.floor(10*Math.random());return $+P}class ju{constructor(S){this.target=S,this.handlers=new Set}removeMessageHandler(S){S.messageChannel&&(S.messageChannel.port1.removeEventListener("message",S.onMessage),S.messageChannel.port1.close()),this.handlers.delete(S)}_send(S,P,Z=50){var $e=this;return(0,p.A)(function*(){const Ct=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ct)throw new Error("connection_unavailable");let xn,jn;return new Promise((xi,dr)=>{const Tr=Ca("",20);Ct.port1.start();const ur=setTimeout(()=>{dr(new Error("unsupported_event"))},Z);jn={messageChannel:Ct,onMessage(zo){const Ns=zo;if(Ns.data.eventId===Tr)switch(Ns.data.status){case"ack":clearTimeout(ur),xn=setTimeout(()=>{dr(new Error("timeout"))},3e3);break;case"done":clearTimeout(xn),xi(Ns.data.response);break;default:clearTimeout(ur),clearTimeout(xn),dr(new Error("invalid_response"))}}},$e.handlers.add(jn),Ct.port1.addEventListener("message",jn.onMessage),$e.target.postMessage({eventType:S,eventId:Tr,data:P},[Ct.port2])}).finally(()=>{jn&&$e.removeMessageHandler(jn)})})()}}function ls(){return window}function Al(){return typeof ls().WorkerGlobalScope<"u"&&"function"==typeof ls().importScripts}function Qo(){return(Qo=(0,p.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $c="firebaseLocalStorageDb",Wl="firebaseLocalStorage",df="fbase_key";class Ec{constructor(S){this.request=S}toPromise(){return new Promise((S,P)=>{this.request.addEventListener("success",()=>{S(this.request.result)}),this.request.addEventListener("error",()=>{P(this.request.error)})})}}function sc($,S){return $.transaction([Wl],S?"readwrite":"readonly").objectStore(Wl)}function Gf(){const $=indexedDB.open($c,1);return new Promise((S,P)=>{$.addEventListener("error",()=>{P($.error)}),$.addEventListener("upgradeneeded",()=>{const Z=$.result;try{Z.createObjectStore(Wl,{keyPath:df})}catch($e){P($e)}}),$.addEventListener("success",(0,p.A)(function*(){const Z=$.result;Z.objectStoreNames.contains(Wl)?S(Z):(Z.close(),yield function zu(){const $=indexedDB.deleteDatabase($c);return new Ec($).toPromise()}(),S(yield Gf()))}))})}function Hu($,S,P){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,p.A)(function*($,S,P){const Z=sc($,!0).put({[df]:S,value:P});return new Ec(Z).toPromise()})).apply(this,arguments)}function te(){return(te=(0,p.A)(function*($,S){const P=sc($,!1).get(S),Z=yield new Ec(P).toPromise();return void 0===Z?null:Z.value})).apply(this,arguments)}function Ce($,S){const P=sc($,!0).delete(S);return new Ec(P).toPromise()}const At=(()=>{class ${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var P=this;return(0,p.A)(function*(){return P.db||(P.db=yield Gf()),P.db})()}_withRetries(P){var Z=this;return(0,p.A)(function*(){let $e=0;for(;;)try{const Ct=yield Z._openDb();return yield P(Ct)}catch(Ct){if($e++>3)throw Ct;Z.db&&(Z.db.close(),Z.db=void 0)}})()}initializeServiceWorkerMessaging(){var P=this;return(0,p.A)(function*(){return Al()?P.initializeReceiver():P.initializeSender()})()}initializeReceiver(){var P=this;return(0,p.A)(function*(){P.receiver=is._getInstance(function ir(){return Al()?self:null}()),P.receiver._subscribe("keyChanged",function(){var Z=(0,p.A)(function*($e,Ct){return{keyProcessed:(yield P._poll()).includes(Ct.key)}});return function($e,Ct){return Z.apply(this,arguments)}}()),P.receiver._subscribe("ping",function(){var Z=(0,p.A)(function*($e,Ct){return["keyChanged"]});return function($e,Ct){return Z.apply(this,arguments)}}())})()}initializeSender(){var P=this;return(0,p.A)(function*(){var Z,$e;if(P.activeServiceWorker=yield function Xr(){return Qo.apply(this,arguments)}(),!P.activeServiceWorker)return;P.sender=new ju(P.activeServiceWorker);const Ct=yield P.sender._send("ping",{},800);Ct&&null!==(Z=Ct[0])&&void 0!==Z&&Z.fulfilled&&null!==($e=Ct[0])&&void 0!==$e&&$e.value.includes("keyChanged")&&(P.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(P){var Z=this;return(0,p.A)(function*(){if(Z.sender&&Z.activeServiceWorker&&function So(){var $;return(null===($=navigator?.serviceWorker)||void 0===$?void 0:$.controller)||null}()===Z.activeServiceWorker)try{yield Z.sender._send("keyChanged",{key:P},Z.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.A)(function*(){try{if(!indexedDB)return!1;const P=yield Gf();return yield Hu(P,Uu,"1"),yield Ce(P,Uu),!0}catch{}return!1})()}_withPendingWrite(P){var Z=this;return(0,p.A)(function*(){Z.pendingWrites++;try{yield P()}finally{Z.pendingWrites--}})()}_set(P,Z){var $e=this;return(0,p.A)(function*(){return $e._withPendingWrite((0,p.A)(function*(){return yield $e._withRetries(Ct=>Hu(Ct,P,Z)),$e.localCache[P]=Z,$e.notifyServiceWorker(P)}))})()}_get(P){var Z=this;return(0,p.A)(function*(){const $e=yield Z._withRetries(Ct=>function Cm($,S){return te.apply(this,arguments)}(Ct,P));return Z.localCache[P]=$e,$e})()}_remove(P){var Z=this;return(0,p.A)(function*(){return Z._withPendingWrite((0,p.A)(function*(){return yield Z._withRetries($e=>Ce($e,P)),delete Z.localCache[P],Z.notifyServiceWorker(P)}))})()}_poll(){var P=this;return(0,p.A)(function*(){const Z=yield P._withRetries(xn=>{const jn=sc(xn,!1).getAll();return new Ec(jn).toPromise()});if(!Z)return[];if(0!==P.pendingWrites)return[];const $e=[],Ct=new Set;if(0!==Z.length)for(const{fbase_key:xn,value:jn}of Z)Ct.add(xn),JSON.stringify(P.localCache[xn])!==JSON.stringify(jn)&&(P.notifyListeners(xn,jn),$e.push(xn));for(const xn of Object.keys(P.localCache))P.localCache[xn]&&!Ct.has(xn)&&(P.notifyListeners(xn,null),$e.push(xn));return $e})()}notifyListeners(P,Z){this.localCache[P]=Z;const $e=this.listeners[P];if($e)for(const Ct of Array.from($e))Ct(Z)}startPolling(){var P=this;this.stopPolling(),this.pollTimer=setInterval((0,p.A)(function*(){return P._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(P,Z){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[P]||(this.listeners[P]=new Set,this._get(P)),this.listeners[P].add(Z)}_removeListener(P,Z){this.listeners[P]&&(this.listeners[P].delete(Z),0===this.listeners[P].size&&delete this.listeners[P]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return $.type="LOCAL",$})(),_s=1e12;class Po{constructor(S){this.auth=S,this.counter=_s,this._widgets=new Map}render(S,P){const Z=this.counter;return this._widgets.set(Z,new xh(S,this.auth.name,P||{})),this.counter++,Z}reset(S){var P;const Z=S||_s;null===(P=this._widgets.get(Z))||void 0===P||P.delete(),this._widgets.delete(Z)}getResponse(S){var P;return(null===(P=this._widgets.get(S||_s))||void 0===P?void 0:P.getResponse())||""}execute(S){var P=this;return(0,p.A)(function*(){var Z;return null===(Z=P._widgets.get(S||_s))||void 0===Z||Z.execute(),""})()}}class xh{constructor(S,P,Z){this.params=Z,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $e="string"==typeof S?document.getElementById(S):S;_e($e,"argument-error",{appName:P}),this.container=$e,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $u($){const S=[],P="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Z=0;Z<$;Z++)S.push(P.charAt(Math.floor(62*Math.random())));return S.join("")}(50);const{callback:S,"expired-callback":P}=this.params;if(S)try{S(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,P)try{P()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ba=fs("rcb"),Gu=new Et(3e4,6e4);class nn{constructor(){var S;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(S=ls().grecaptcha)||void 0===S||!S.render)}load(S,P=""){return _e(function Wu($){return $.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test($)}(P),S,"argument-error"),this.shouldResolveImmediately(P)&&qn(ls().grecaptcha)?Promise.resolve(ls().grecaptcha):new Promise((Z,$e)=>{const Ct=ls().setTimeout(()=>{$e(J(S,"network-request-failed"))},Gu.get());ls()[Ba]=()=>{ls().clearTimeout(Ct),delete ls()[Ba];const jn=ls().grecaptcha;if(!jn||!qn(jn))return void $e(J(S,"internal-error"));const xi=jn.render;jn.render=(dr,Tr)=>{const ur=xi(dr,Tr);return this.counter++,ur},this.hostLanguage=P,Z(jn)},Or(`${function bo(){return Zr.recaptchaV2Script}()}?${(0,F.Am)({onload:Ba,render:"explicit",hl:P})}`).catch(()=>{clearTimeout(Ct),$e(J(S,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(S){var P;return!(null===(P=ls().grecaptcha)||void 0===P||!P.render)&&(S===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class uf{load(S){return(0,p.A)(function*(){return new Po(S)})()}clearedOneInstance(){}}const Tm="recaptcha",yl={theme:"light",type:"image"};class Sm{constructor(S,P,Z=Object.assign({},yl)){this.parameters=Z,this.type=Tm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Li(S),this.isInvisible="invisible"===this.parameters.size,_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $e="string"==typeof P?document.getElementById(P):P;_e($e,this.auth,"argument-error"),this.container=$e,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new uf:new nn,this.validateStartingState()}verify(){var S=this;return(0,p.A)(function*(){S.assertNotDestroyed();const P=yield S.render(),Z=S.getAssertedRecaptcha();return Z.getResponse(P)||new Promise(Ct=>{const xn=jn=>{jn&&(S.tokenChangeListeners.delete(xn),Ct(jn))};S.tokenChangeListeners.add(xn),S.isInvisible&&Z.execute(P)})})()}render(){try{this.assertNotDestroyed()}catch(S){return Promise.reject(S)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(S=>{throw this.renderPromise=null,S})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(S=>{this.container.removeChild(S)})}validateStartingState(){_e(!this.parameters.sitekey,this.auth,"argument-error"),_e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(S){return P=>{if(this.tokenChangeListeners.forEach(Z=>Z(P)),"function"==typeof S)S(P);else if("string"==typeof S){const Z=ls()[S];"function"==typeof Z&&Z(P)}}}assertNotDestroyed(){_e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var S=this;return(0,p.A)(function*(){if(yield S.init(),!S.widgetId){let P=S.container;if(!S.isInvisible){const Z=document.createElement("div");P.appendChild(Z),P=Z}S.widgetId=S.getAssertedRecaptcha().render(P,S.parameters)}return S.widgetId})()}init(){var S=this;return(0,p.A)(function*(){_e(un()&&!Al(),S.auth,"internal-error"),yield function Tg(){let $=null;return new Promise(S=>{"complete"!==document.readyState?($=()=>S(),window.addEventListener("load",$)):S()}).catch(S=>{throw $&&window.removeEventListener("load",$),S})}(),S.recaptcha=yield S._recaptchaLoader.load(S.auth,S.auth.languageCode||void 0);const P=yield function Ci($){return qt.apply(this,arguments)}(S.auth);_e(P,S.auth,"internal-error"),S.parameters.sitekey=P})()}getAssertedRecaptcha(){return _e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xc{constructor(S,P){this.verificationId=S,this.onConfirmation=P}confirm(S){const P=hl._fromVerification(this.verificationId,S);return this.onConfirmation(P)}}function Gc(){return(Gc=(0,p.A)(function*($,S,P){if((0,T._isFirebaseServerApp)($.app))return Promise.reject(de($));const Z=Li($),$e=yield wh(Z,S,(0,F.Ku)(P));return new xc($e,Ct=>Na(Z,Ct))})).apply(this,arguments)}function mu(){return(mu=(0,p.A)(function*($,S,P){const Z=(0,F.Ku)($);yield Td(!1,Z,"phone");const $e=yield wh(Z.auth,S,(0,F.Ku)(P));return new xc($e,Ct=>ga(Z,Ct))})).apply(this,arguments)}function Bp(){return(Bp=(0,p.A)(function*($,S,P){const Z=(0,F.Ku)($);if((0,T._isFirebaseServerApp)(Z.auth.app))return Promise.reject(de(Z.auth));const $e=yield wh(Z.auth,S,(0,F.Ku)(P));return new xc($e,Ct=>Qa(Z,Ct))})).apply(this,arguments)}function wh($,S,P){return yr.apply(this,arguments)}function yr(){return yr=(0,p.A)(function*($,S,P){var Z;const $e=yield P.verify();try{let Ct;if(_e("string"==typeof $e,$,"argument-error"),_e(P.type===Tm,$,"argument-error"),Ct="string"==typeof S?{phoneNumber:S}:S,"session"in Ct){const xn=Ct.session;if("phoneNumber"in Ct)return _e("enroll"===xn.type,$,"internal-error"),(yield function Zi($,S){return We($,"POST","/v2/accounts/mfaEnrollment:start",qe($,S))}($,{idToken:xn.credential,phoneEnrollmentInfo:{phoneNumber:Ct.phoneNumber,recaptchaToken:$e}})).phoneSessionInfo.sessionInfo;{_e("signin"===xn.type,$,"internal-error");const jn=(null===(Z=Ct.multiFactorHint)||void 0===Z?void 0:Z.uid)||Ct.multiFactorUid;return _e(jn,$,"missing-multi-factor-info"),(yield function fn($,S){return We($,"POST","/v2/accounts/mfaSignIn:start",qe($,S))}($,{mfaPendingCredential:xn.credential,mfaEnrollmentId:jn,phoneSignInInfo:{recaptchaToken:$e}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:xn}=yield function oa($,S){return aa.apply(this,arguments)}($,{phoneNumber:Ct.phoneNumber,recaptchaToken:$e});return xn}}finally{P._reset()}}),yr.apply(this,arguments)}function Ch(){return(Ch=(0,p.A)(function*($,S){const P=(0,F.Ku)($);if((0,T._isFirebaseServerApp)(P.auth.app))return Promise.reject(de(P.auth));yield cu(P,S)})).apply(this,arguments)}let Vo=(()=>{class ${constructor(P){this.providerId=$.PROVIDER_ID,this.auth=Li(P)}verifyPhoneNumber(P,Z){return wh(this.auth,P,(0,F.Ku)(Z))}static credential(P,Z){return hl._fromVerification(P,Z)}static credentialFromResult(P){return $.credentialFromTaggedObject(P)}static credentialFromError(P){return $.credentialFromTaggedObject(P.customData||{})}static credentialFromTaggedObject({_tokenResponse:P}){if(!P)return null;const{phoneNumber:Z,temporaryProof:$e}=P;return Z&&$e?hl._fromTokenResponse(Z,$e):null}}return $.PROVIDER_ID="phone",$.PHONE_SIGN_IN_METHOD="phone",$})();function Uo($,S){return S?on(S):(_e($._popupRedirectResolver,$,"argument-error"),$._popupRedirectResolver)}class Vp extends Jo{constructor(S){super("custom","custom"),this.params=S}_getIdTokenResponse(S){return Pr(S,this._buildIdpRequest())}_linkToIdToken(S,P){return Pr(S,this._buildIdpRequest(P))}_getReauthenticationResolver(S){return Pr(S,this._buildIdpRequest())}_buildIdpRequest(S){const P={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return S&&(P.idToken=S),P}}function js($){return bh($.auth,new Vp($),$.bypassAuthState)}function na($){const{auth:S,user:P}=$;return _e(P,S,"internal-error"),co(P,new Vp($),$.bypassAuthState)}function Yl($){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,p.A)(function*($){const{auth:S,user:P}=$;return _e(P,S,"internal-error"),cu(P,new Vp($),$.bypassAuthState)})).apply(this,arguments)}class Ku{constructor(S,P,Z,$e,Ct=!1){this.auth=S,this.resolver=Z,this.user=$e,this.bypassAuthState=Ct,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(P)?P:[P]}execute(){var S=this;return new Promise(function(){var P=(0,p.A)(function*(Z,$e){S.pendingPromise={resolve:Z,reject:$e};try{S.eventManager=yield S.resolver._initialize(S.auth),yield S.onExecution(),S.eventManager.registerConsumer(S)}catch(Ct){S.reject(Ct)}});return function(Z,$e){return P.apply(this,arguments)}}())}onAuthEvent(S){var P=this;return(0,p.A)(function*(){const{urlResponse:Z,sessionId:$e,postBody:Ct,tenantId:xn,error:jn,type:xi}=S;if(jn)return void P.reject(jn);const dr={auth:P.auth,requestUri:Z,sessionId:$e,tenantId:xn||void 0,postBody:Ct||void 0,user:P.user,bypassAuthState:P.bypassAuthState};try{P.resolve(yield P.getIdpTask(xi)(dr))}catch(Tr){P.reject(Tr)}})()}onError(S){this.reject(S)}getIdpTask(S){switch(S){case"signInViaPopup":case"signInViaRedirect":return js;case"linkViaPopup":case"linkViaRedirect":return Yl;case"reauthViaPopup":case"reauthViaRedirect":return na;default:Le(this.auth,"internal-error")}}resolve(S){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(S),this.unregisterAndCleanUp()}reject(S){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(S),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dd=new Et(2e3,1e4);function ud(){return(ud=(0,p.A)(function*($,S,P){if((0,T._isFirebaseServerApp)($.app))return Promise.reject(J($,"operation-not-supported-in-this-environment"));const Z=Li($);fe($,S,fl);const $e=Uo(Z,P);return new Ls(Z,"signInViaPopup",S,$e).executeNotNull()})).apply(this,arguments)}function Yu(){return(Yu=(0,p.A)(function*($,S,P){const Z=(0,F.Ku)($);if((0,T._isFirebaseServerApp)(Z.auth.app))return Promise.reject(J(Z.auth,"operation-not-supported-in-this-environment"));fe(Z.auth,S,fl);const $e=Uo(Z.auth,P);return new Ls(Z.auth,"reauthViaPopup",S,$e,Z).executeNotNull()})).apply(this,arguments)}function oc(){return(oc=(0,p.A)(function*($,S,P){const Z=(0,F.Ku)($);fe(Z.auth,S,fl);const $e=Uo(Z.auth,P);return new Ls(Z.auth,"linkViaPopup",S,$e,Z).executeNotNull()})).apply(this,arguments)}let Ls=(()=>{class $ extends Ku{constructor(P,Z,$e,Ct,xn){super(P,Z,Ct,xn),this.provider=$e,this.authWindow=null,this.pollId=null,$.currentPopupAction&&$.currentPopupAction.cancel(),$.currentPopupAction=this}executeNotNull(){var P=this;return(0,p.A)(function*(){const Z=yield P.execute();return _e(Z,P.auth,"internal-error"),Z})()}onExecution(){var P=this;return(0,p.A)(function*(){Ye(1===P.filter.length,"Popup operations only handle one event");const Z=Ca();P.authWindow=yield P.resolver._openPopup(P.auth,P.provider,P.filter[0],Z),P.authWindow.associatedEvent=Z,P.resolver._originValidation(P.auth).catch($e=>{P.reject($e)}),P.resolver._isIframeWebStorageSupported(P.auth,$e=>{$e||P.reject(J(P.auth,"web-storage-unsupported"))}),P.pollUserCancellation()})()}get eventId(){var P;return(null===(P=this.authWindow)||void 0===P?void 0:P.associatedEvent)||null}cancel(){this.reject(J(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$.currentPopupAction=null}pollUserCancellation(){const P=()=>{var Z,$e;this.pollId=null!==($e=null===(Z=this.authWindow)||void 0===Z?void 0:Z.window)&&void 0!==$e&&$e.closed?window.setTimeout(()=>{this.pollId=null,this.reject(J(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(P,dd.get())};P()}}return $.currentPopupAction=null,$})();const Xl="pendingRedirect",ac=new Map;class ui extends Ku{constructor(S,P,Z=!1){super(S,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],P,void 0,Z),this.eventId=null}execute(){var S=()=>super.execute,P=this;return(0,p.A)(function*(){let Z=ac.get(P.auth._key());if(!Z){try{const Ct=(yield function wr($,S){return Th.apply(this,arguments)}(P.resolver,P.auth))?yield S().call(P):null;Z=()=>Promise.resolve(Ct)}catch($e){Z=()=>Promise.reject($e)}ac.set(P.auth._key(),Z)}return P.bypassAuthState||ac.set(P.auth._key(),()=>Promise.resolve(null)),Z()})()}onAuthEvent(S){var P=()=>super.onAuthEvent,Z=this;return(0,p.A)(function*(){if("signInViaRedirect"===S.type)return P().call(Z,S);if("unknown"!==S.type){if(S.eventId){const $e=yield Z.auth._redirectUserForId(S.eventId);if($e)return Z.user=$e,P().call(Z,S);Z.resolve(null)}}else Z.resolve(null)})()}onExecution(){return(0,p.A)(function*(){})()}cleanUp(){}}function Th(){return(Th=(0,p.A)(function*($,S){const P=hd(S),Z=Ql($);if(!(yield Z._isAvailable()))return!1;const $e="true"===(yield Z._get(P));return yield Z._remove(P),$e})).apply(this,arguments)}function El($,S){return mo.apply(this,arguments)}function mo(){return(mo=(0,p.A)(function*($,S){return Ql($)._set(hd(S),"true")})).apply(this,arguments)}function Kc($,S){ac.set($._key(),S)}function Ql($){return on($._redirectPersistence)}function hd($){return Ut(Xl,$.config.apiKey,$.name)}function Ig($,S,P){return function Ja($,S,P){return kl.apply(this,arguments)}($,S,P)}function kl(){return(kl=(0,p.A)(function*($,S,P){if((0,T._isFirebaseServerApp)($.app))return Promise.reject(de($));const Z=Li($);fe($,S,fl),yield Z._initializationPromise;const $e=Uo(Z,P);return yield El($e,Z),$e._openRedirect(Z,S,"signInViaRedirect")})).apply(this,arguments)}function fd($,S,P){return function _a($,S,P){return fi.apply(this,arguments)}($,S,P)}function fi(){return(fi=(0,p.A)(function*($,S,P){const Z=(0,F.Ku)($);if(fe(Z.auth,S,fl),(0,T._isFirebaseServerApp)(Z.auth.app))return Promise.reject(de(Z.auth));yield Z.auth._initializationPromise;const $e=Uo(Z.auth,P);yield El($e,Z.auth);const Ct=yield pd(Z);return $e._openRedirect(Z.auth,S,"reauthViaRedirect",Ct)})).apply(this,arguments)}function Cs($,S,P){return function Kf($,S,P){return lc.apply(this,arguments)}($,S,P)}function lc(){return(lc=(0,p.A)(function*($,S,P){const Z=(0,F.Ku)($);fe(Z.auth,S,fl),yield Z.auth._initializationPromise;const $e=Uo(Z.auth,P);yield Td(!1,Z,S.providerId),yield El($e,Z.auth);const Ct=yield pd(Z);return $e._openRedirect(Z.auth,S,"linkViaRedirect",Ct)})).apply(this,arguments)}function Yc(){return(Yc=(0,p.A)(function*($,S){return yield Li($)._initializationPromise,xl($,S,!1)})).apply(this,arguments)}function xl($,S){return ia.apply(this,arguments)}function ia(){return(ia=(0,p.A)(function*($,S,P=!1){if((0,T._isFirebaseServerApp)($.app))return Promise.reject(de($));const Z=Li($),$e=Uo(Z,S),xn=yield new ui(Z,$e,P).execute();return xn&&!P&&(delete xn.user._redirectEventId,yield Z._persistUserIfCurrent(xn.user),yield Z._setRedirectUser(null,S)),xn})).apply(this,arguments)}function pd($){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,p.A)(function*($){const S=Ca(`${$.uid}:::`);return $._redirectEventId=S,yield $.auth._setRedirectUser($),yield $.auth._persistUserIfCurrent($),S})).apply(this,arguments)}class Xc{constructor(S){this.auth=S,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(S){this.consumers.add(S),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,S)&&(this.sendToConsumer(this.queuedRedirectEvent,S),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(S){this.consumers.delete(S)}onEvent(S){if(this.hasEventBeenHandled(S))return!1;let P=!1;return this.consumers.forEach(Z=>{this.isEventForConsumer(S,Z)&&(P=!0,this.sendToConsumer(S,Z),this.saveEventToCache(S))}),this.hasHandledPotentialRedirect||!function wc($){switch($.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ra($);default:return!1}}(S)||(this.hasHandledPotentialRedirect=!0,P||(this.queuedRedirectEvent=S,P=!0)),P}sendToConsumer(S,P){var Z;if(S.error&&!ra(S)){const $e=(null===(Z=S.error.code)||void 0===Z?void 0:Z.split("auth/")[1])||"internal-error";P.onError(J(this.auth,$e))}else P.onAuthEvent(S)}isEventForConsumer(S,P){const Z=null===P.eventId||!!S.eventId&&S.eventId===P.eventId;return P.filter.includes(S.type)&&Z}hasEventBeenHandled(S){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hf(S))}saveEventToCache(S){this.cachedEventUids.add(hf(S)),this.lastProcessedEventTime=Date.now()}}function hf($){return[$.type,$.eventId,$.sessionId,$.tenantId].filter(S=>S).join("-")}function ra({type:$,error:S}){return"unknown"===$&&"auth/no-auth-event"===S?.code}function Sh($){return el.apply(this,arguments)}function el(){return(el=(0,p.A)(function*($,S={}){return We($,"GET","/v1/projects",S)})).apply(this,arguments)}const Rd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ff=/^https?/;function Dm(){return(Dm=(0,p.A)(function*($){if($.config.emulator)return;const{authorizedDomains:S}=yield Sh($);for(const P of S)try{if(zp(P))return}catch{}Le($,"unauthorized-domain")})).apply(this,arguments)}function zp($){const S=Ot(),{protocol:P,hostname:Z}=new URL(S);if($.startsWith("chrome-extension://")){const xn=new URL($);return""===xn.hostname&&""===Z?"chrome-extension:"===P&&$.replace("chrome-extension://","")===S.replace("chrome-extension://",""):"chrome-extension:"===P&&xn.hostname===Z}if(!ff.test(P))return!1;if(Rd.test($))return Z===$;const $e=$.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$e+"|"+$e+")$","i").test(Z)}const Dh=new Et(3e4,6e4);function Kr(){const $=ls().___jsl;if($?.H)for(const S of Object.keys($.H))if($.H[S].r=$.H[S].r||[],$.H[S].L=$.H[S].L||[],$.H[S].r=[...$.H[S].L],$.CP)for(let P=0;P<$.CP.length;P++)$.CP[P]=null}let Xu=null;const Ag=new Et(5e3,15e3),Ua="__/auth/iframe",kg="emulator/auth/iframe",cs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ld=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hp($){const S=$.config;_e(S.authDomain,$,"auth-domain-config-required");const P=S.emulator?Rt(S,kg):`https://${$.config.authDomain}/${Ua}`,Z={apiKey:S.apiKey,appName:$.name,v:T.SDK_VERSION},$e=Ld.get($.config.apiHost);$e&&(Z.eid=$e);const Ct=$._getFrameworks();return Ct.length&&(Z.fw=Ct.join(",")),`${P}?${(0,F.Am)(Z).slice(1)}`}function pf(){return pf=(0,p.A)(function*($){const S=yield function U0($){return Xu=Xu||function Va($){return new Promise((S,P)=>{var Z,$e,Ct;function xn(){Kr(),gapi.load("gapi.iframes",{callback:()=>{S(gapi.iframes.getContext())},ontimeout:()=>{Kr(),P(J($,"network-request-failed"))},timeout:Dh.get()})}if(null!==($e=null===(Z=ls().gapi)||void 0===Z?void 0:Z.iframes)&&void 0!==$e&&$e.Iframe)S(gapi.iframes.getContext());else{if(null===(Ct=ls().gapi)||void 0===Ct||!Ct.load){const jn=fs("iframefcb");return ls()[jn]=()=>{gapi.load?xn():P(J($,"network-request-failed"))},Or(`${function ts(){return Zr.gapiScript}()}?onload=${jn}`).catch(xi=>P(xi))}xn()}}).catch(S=>{throw Xu=null,S})}($),Xu}($),P=ls().gapi;return _e(P,$,"internal-error"),S.open({where:document.body,url:Hp($),messageHandlersFilter:P.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cs,dontclear:!0},Z=>new Promise(function(){var $e=(0,p.A)(function*(Ct,xn){yield Z.restyle({setHideOnLeave:!1});const jn=J($,"network-request-failed"),xi=ls().setTimeout(()=>{xn(jn)},Ag.get());function dr(){ls().clearTimeout(xi),Ct(Z)}Z.ping(dr).then(dr,()=>{xn(jn)})});return function(Ct,xn){return $e.apply(this,arguments)}}()))}),pf.apply(this,arguments)}const va={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nd{constructor(S){this.window=S,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Am="__/auth/handler",Yf="emulator/auth/handler",Fd=encodeURIComponent("fac");function vu($,S,P,Z,$e,Ct){return ql.apply(this,arguments)}function ql(){return(ql=(0,p.A)(function*($,S,P,Z,$e,Ct){_e($.config.authDomain,$,"auth-domain-config-required"),_e($.config.apiKey,$,"invalid-api-key");const xn={apiKey:$.config.apiKey,appName:$.name,authType:P,redirectUrl:Z,v:T.SDK_VERSION,eventId:$e};if(S instanceof fl){S.setDefaultLanguage($.languageCode),xn.providerId=S.providerId||"",(0,F.Im)(S.getCustomParameters())||(xn.customParameters=JSON.stringify(S.getCustomParameters()));for(const[Tr,ur]of Object.entries(Ct||{}))xn[Tr]=ur}if(S instanceof ca){const Tr=S.getScopes().filter(ur=>""!==ur);Tr.length>0&&(xn.scopes=Tr.join(","))}$.tenantId&&(xn.tid=$.tenantId);const jn=xn;for(const Tr of Object.keys(jn))void 0===jn[Tr]&&delete jn[Tr];const xi=yield $._getAppCheckToken(),dr=xi?`#${Fd}=${encodeURIComponent(xi)}`:"";return`${function Ih({config:$}){return $.emulator?Rt($,Yf):`https://${$.authDomain}/${Am}`}($)}?${(0,F.Am)(jn).slice(1)}${dr}`})).apply(this,arguments)}const mf="webStorageSupport",Om=class km{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jr,this._completeRedirectFn=xl,this._overrideRedirectResult=Kc}_openPopup(S,P,Z,$e){var Ct=this;return(0,p.A)(function*(){var xn;Ye(null===(xn=Ct.eventManagers[S._key()])||void 0===xn?void 0:xn.manager,"_initialize() not called before _openPopup()");const jn=yield vu(S,P,Z,Ot(),$e);return function Mm($,S,P,Z=500,$e=600){const Ct=Math.max((window.screen.availHeight-$e)/2,0).toString(),xn=Math.max((window.screen.availWidth-Z)/2,0).toString();let jn="";const xi=Object.assign(Object.assign({},va),{width:Z.toString(),height:$e.toString(),top:Ct,left:xn}),dr=(0,F.ZQ)().toLowerCase();P&&(jn=vn(dr)?"_blank":P),Rn(dr)&&(S=S||"http://localhost",xi.scrollbars="yes");const Tr=Object.entries(xi).reduce((zo,[Ns,xu])=>`${zo}${Ns}=${xu},`,"");if(function dn($=(0,F.ZQ)()){var S;return hn($)&&!(null===(S=window.navigator)||void 0===S||!S.standalone)}(dr)&&"_self"!==jn)return function Og($,S){const P=document.createElement("a");P.href=$,P.target=S;const Z=document.createEvent("MouseEvent");Z.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),P.dispatchEvent(Z)}(S||"",jn),new Nd(null);const ur=window.open(S||"",jn,Tr);_e(ur,$,"popup-blocked");try{ur.focus()}catch{}return new Nd(ur)}(S,jn,Ca())})()}_openRedirect(S,P,Z,$e){var Ct=this;return(0,p.A)(function*(){return yield Ct._originValidation(S),function cr($){ls().location.href=$}(yield vu(S,P,Z,Ot(),$e)),new Promise(()=>{})})()}_initialize(S){const P=S._key();if(this.eventManagers[P]){const{manager:$e,promise:Ct}=this.eventManagers[P];return $e?Promise.resolve($e):(Ye(Ct,"If manager is not set, promise should be"),Ct)}const Z=this.initAndGetManager(S);return this.eventManagers[P]={promise:Z},Z.catch(()=>{delete this.eventManagers[P]}),Z}initAndGetManager(S){var P=this;return(0,p.A)(function*(){const Z=yield function Im($){return pf.apply(this,arguments)}(S),$e=new Xc(S);return Z.register("authEvent",Ct=>(_e(Ct?.authEvent,S,"invalid-auth-event"),{status:$e.onEvent(Ct.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),P.eventManagers[S._key()]={manager:$e},P.iframes[S._key()]=Z,$e})()}_isIframeWebStorageSupported(S,P){this.iframes[S._key()].send(mf,{type:mf},$e=>{var Ct;const xn=null===(Ct=$e?.[0])||void 0===Ct?void 0:Ct[mf];void 0!==xn&&P(!!xn),Le(S,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(S){const P=S._key();return this.originValidationPromises[P]||(this.originValidationPromises[P]=function Mg($){return Dm.apply(this,arguments)}(S)),this.originValidationPromises[P]}get _shouldInitProactively(){return ct()||Nt()||hn()}};class Xf{constructor(S){this.factorId=S}_process(S,P,Z){switch(P.type){case"enroll":return this._finalizeEnroll(S,P.credential,Z);case"signin":return this._finalizeSignIn(S,P.credential);default:return Xe("unexpected MultiFactorSessionType")}}}class Pm extends Xf{constructor(S){super("phone"),this.credential=S}static _fromCredential(S){return new Pm(S)}_finalizeEnroll(S,P,Z){return function ar($,S){return We($,"POST","/v2/accounts/mfaEnrollment:finalize",qe($,S))}(S,{idToken:P,displayName:Z,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(S,P){return function li($,S){return We($,"POST","/v2/accounts/mfaSignIn:finalize",qe($,S))}(S,{mfaPendingCredential:P,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Bd=(()=>{class ${constructor(){}static assertion(P){return Pm._fromCredential(P)}}return $.FACTOR_ID="phone",$})();var Vd="@firebase/auth";class Pg{constructor(S){this.auth=S,this.internalListeners=new Map}getUid(){var S;return this.assertAuthConfigured(),(null===(S=this.auth.currentUser)||void 0===S?void 0:S.uid)||null}getToken(S){var P=this;return(0,p.A)(function*(){return P.assertAuthConfigured(),yield P.auth._initializationPromise,P.auth.currentUser?{accessToken:yield P.auth.currentUser.getIdToken(S)}:null})()}addAuthTokenListener(S){if(this.assertAuthConfigured(),this.internalListeners.has(S))return;const P=this.auth.onIdTokenChanged(Z=>{S(Z?.stsTokenManager.accessToken||null)});this.internalListeners.set(S,P),this.updateProactiveRefresh()}removeAuthTokenListener(S){this.assertAuthConfigured();const P=this.internalListeners.get(S);P&&(this.internalListeners.delete(S),P(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ko(){return window}(0,F.XA)("authIdTokenMaxAge"),function pi($){Zr=$}({loadJS:$=>new Promise((S,P)=>{const Z=document.createElement("script");Z.setAttribute("src",$),Z.onload=S,Z.onerror=$e=>{const Ct=J("internal-error");Ct.customData=$e,P(Ct)},Z.type="text/javascript",Z.charset="UTF-8",function ho(){var $,S;return null!==(S=null===($=document.getElementsByTagName("head"))||void 0===$?void 0:$[0])&&void 0!==S?S:document}().appendChild(Z)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ts($){(0,T._registerComponent)(new ne.uA("auth",(S,{options:P})=>{const Z=S.getProvider("app").getImmediate(),$e=S.getProvider("heartbeat"),Ct=S.getProvider("app-check-internal"),{apiKey:xn,authDomain:jn}=Z.options;_e(xn&&!xn.includes(":"),"invalid-api-key",{appName:Z.name});const xi={apiKey:xn,authDomain:jn,clientPlatform:$,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:at($)},dr=new ji(Z,$e,Ct,xi);return function Pa($,S){const P=S?.persistence||[],Z=(Array.isArray(P)?P:[P]).map(on);S?.errorMap&&$._updateErrorMap(S.errorMap),$._initializeWithPersistence(Z,S?.popupRedirectResolver)}(dr,P),dr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((S,P,Z)=>{S.getProvider("auth-internal").initialize()})),(0,T._registerComponent)(new ne.uA("auth-internal",S=>{const P=Li(S.getProvider("auth").getImmediate());return new Pg(P)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,T.registerVersion)(Vd,"1.7.2",function Ao($){switch($){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}($)),(0,T.registerVersion)(Vd,"1.7.2","esm2017")}("Browser");function yo(){return yo=(0,p.A)(function*($,S,P){var Z;const{BuildInfo:$e}=Ko();Ye(S.sessionId,"AuthEvent did not contain a session ID");const Ct=yield function Ud($){return jd.apply(this,arguments)}(S.sessionId),xn={};return hn()?xn.ibi=$e.packageName:Zn()?xn.apn=$e.packageName:Le($,"operation-not-supported-in-this-environment"),$e.displayName&&(xn.appDisplayName=$e.displayName),xn.sessionId=Ct,vu($,P,S.type,void 0,null!==(Z=S.eventId)&&void 0!==Z?Z:void 0,xn)}),yo.apply(this,arguments)}function ka(){return(ka=(0,p.A)(function*($){const{BuildInfo:S}=Ko(),P={};hn()?P.iosBundleId=S.packageName:Zn()?P.androidPackageName=S.packageName:Le($,"operation-not-supported-in-this-environment"),yield Sh($,P)})).apply(this,arguments)}function bu(){return(bu=(0,p.A)(function*($,S,P){const{cordova:Z}=Ko();let $e=()=>{};try{yield new Promise((Ct,xn)=>{let jn=null;function xi(){var ur;Ct();const zo=null===(ur=Z.plugins.browsertab)||void 0===ur?void 0:ur.close;"function"==typeof zo&&zo(),"function"==typeof P?.close&&P.close()}function dr(){jn||(jn=window.setTimeout(()=>{xn(J($,"redirect-cancelled-by-user"))},2e3))}function Tr(){"visible"===document?.visibilityState&&dr()}S.addPassiveListener(xi),document.addEventListener("resume",dr,!1),Zn()&&document.addEventListener("visibilitychange",Tr,!1),$e=()=>{S.removePassiveListener(xi),document.removeEventListener("resume",dr,!1),document.removeEventListener("visibilitychange",Tr,!1),jn&&window.clearTimeout(jn)}})}finally{$e()}})).apply(this,arguments)}function jd(){return(jd=(0,p.A)(function*($){const S=function wl($){if(Ye(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const S=new ArrayBuffer($.length),P=new Uint8Array(S);for(let Z=0;Z<$.length;Z++)P[Z]=$.charCodeAt(Z);return P}($),P=yield crypto.subtle.digest("SHA-256",S);return Array.from(new Uint8Array(P)).map($e=>$e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class _f extends Xc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(S=>{this.resolveInialized=S})}addPassiveListener(S){this.passiveListeners.add(S)}removePassiveListener(S){this.passiveListeners.delete(S)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(S){return this.resolveInialized(),this.passiveListeners.forEach(P=>P(S)),super.onEvent(S)}initialized(){var S=this;return(0,p.A)(function*(){yield S.initPromise})()}}function Qu($){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,p.A)(function*($){const S=yield sr()._get(zd($));return S&&(yield sr()._remove(zd($))),S})).apply(this,arguments)}function qu(){const $=[];for(let P=0;P<20;P++){const Z=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Z))}return $.join("")}function sr(){return on(fu)}function zd($){return Ut("authEvent",$.config.apiKey,$.name)}function Ll($){if(!$?.includes("?"))return{};const[S,...P]=$.split("?");return(0,F.I9)(P.join("?"))}const j0=class dc{constructor(){this._redirectPersistence=Jr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xl,this._overrideRedirectResult=Kc}_initialize(S){var P=this;return(0,p.A)(function*(){const Z=S._key();let $e=P.eventManagers.get(Z);return $e||($e=new _f(S),P.eventManagers.set(Z,$e),P.attachCallbackListeners(S,$e)),$e})()}_openPopup(S){Le(S,"operation-not-supported-in-this-environment")}_openRedirect(S,P,Z,$e){var Ct=this;return(0,p.A)(function*(){!function Rm($){var S,P,Z,$e,Ct,xn,jn,xi,dr,Tr;const ur=Ko();_e("function"==typeof(null===(S=ur?.universalLinks)||void 0===S?void 0:S.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_e(typeof(null===(P=ur?.BuildInfo)||void 0===P?void 0:P.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_e("function"==typeof(null===(Ct=null===($e=null===(Z=ur?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===Ct?void 0:Ct.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_e("function"==typeof(null===(xi=null===(jn=null===(xn=ur?.cordova)||void 0===xn?void 0:xn.plugins)||void 0===jn?void 0:jn.browsertab)||void 0===xi?void 0:xi.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_e("function"==typeof(null===(Tr=null===(dr=ur?.cordova)||void 0===dr?void 0:dr.InAppBrowser)||void 0===Tr?void 0:Tr.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(S);const xn=yield Ct._initialize(S);yield xn.initialized(),xn.resetRedirect(),function Dg(){ac.clear()}(),yield Ct._originValidation(S);const jn=function vf($,S,P=null){return{type:S,eventId:P,urlResponse:null,sessionId:qu(),postBody:null,tenantId:$.tenantId,error:J($,"no-auth-event")}}(S,Z,$e);yield function Rl($,S){return sr()._set(zd($),S)}(S,jn);const xi=yield function Ss($,S,P){return yo.apply(this,arguments)}(S,jn,P),dr=yield function ba($){const{cordova:S}=Ko();return new Promise(P=>{S.plugins.browsertab.isAvailable(Z=>{let $e=null;Z?S.plugins.browsertab.openUrl($):$e=S.InAppBrowser.open($,function xt($=(0,F.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test($)||/(iPad|iPhone|iPod).*OS 8_\d/i.test($)}()?"_blank":"_system","location=yes"),P($e)})})}(xi);return function $p($,S,P){return bu.apply(this,arguments)}(S,xn,dr)})()}_isIframeWebStorageSupported(S,P){throw new Error("Method not implemented.")}_originValidation(S){const P=S._key();return this.originValidationPromises[P]||(this.originValidationPromises[P]=function Ta($){return ka.apply(this,arguments)}(S)),this.originValidationPromises[P]}attachCallbackListeners(S,P){const{universalLinks:Z,handleOpenURL:$e,BuildInfo:Ct}=Ko(),xn=setTimeout((0,p.A)(function*(){yield Qu(S),P.onEvent(Cl())}),500),jn=function(){var Tr=(0,p.A)(function*(ur){clearTimeout(xn);const zo=yield Qu(S);let Ns=null;zo&&ur?.url&&(Ns=function Gp($,S){var P,Z;const $e=function md($){const S=Ll($),P=S.link?decodeURIComponent(S.link):void 0,Z=Ll(P).link,$e=S.deep_link_id?decodeURIComponent(S.deep_link_id):void 0;return Ll($e).link||$e||Z||P||$}(S);if($e.includes("/__/auth/callback")){const Ct=Ll($e),xn=Ct.firebaseError?function go($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(Ct.firebaseError)):null,jn=null===(Z=null===(P=xn?.code)||void 0===P?void 0:P.split("auth/"))||void 0===Z?void 0:Z[1],xi=jn?J(jn):null;return xi?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:xi,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:$e,postBody:null}}return null}(zo,ur.url)),P.onEvent(Ns||Cl())});return function(zo){return Tr.apply(this,arguments)}}();typeof Z<"u"&&"function"==typeof Z.subscribe&&Z.subscribe(null,jn);const xi=$e,dr=`${Ct.packageName.toLowerCase()}://`;Ko().handleOpenURL=function(){var Tr=(0,p.A)(function*(ur){if(ur.toLowerCase().startsWith(dr)&&jn({url:ur}),"function"==typeof xi)try{xi(ur)}catch(zo){console.error(zo)}});return function(ur){return Tr.apply(this,arguments)}}()}};function Cl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:J("no-auth-event")}}function Zl(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function yu($=(0,F.ZQ)()){return!("file:"!==Zl()&&"ionic:"!==Zl()&&"capacitor:"!==Zl()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ng(){try{const $=self.localStorage,S=Ca();if($)return $.setItem(S,"1"),$.removeItem(S),!function Lg($=(0,F.ZQ)()){return function Qf(){return(0,F.lT)()&&11===document?.documentMode}()||function Ju($=(0,F.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,F.zW)()}catch{return jo()&&(0,F.zW)()}return!1}function jo(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ao(){return(function bf(){return"http:"===Zl()||"https:"===Zl()}()||(0,F.sr)()||yu())&&!function Zu(){return(0,F.lV)()||(0,F.Ll)()}()&&Ng()&&!jo()}function Oh(){return yu()&&typeof document<"u"}function nl(){return(nl=(0,p.A)(function*(){return!!Oh()&&new Promise($=>{const S=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(S),$(!0)})})})).apply(this,arguments)}const Oa={LOCAL:"local",NONE:"none",SESSION:"session"},Tl=_e,Sc="persistence";function qf($){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,p.A)(function*($){yield $._initializationPromise;const S=Ro(),P=Ut(Sc,$.config.apiKey,$.name);S&&S.setItem(P,$._getPersistence())})).apply(this,arguments)}function Ro(){var $;try{return(null===($=function yf(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Zf=_e;class eh{constructor(){this.browserResolver=on(Om),this.cordovaResolver=on(j0),this.underlyingResolver=null,this._redirectPersistence=Jr,this._completeRedirectFn=xl,this._overrideRedirectResult=Kc}_initialize(S){var P=this;return(0,p.A)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._initialize(S)})()}_openPopup(S,P,Z,$e){var Ct=this;return(0,p.A)(function*(){return yield Ct.selectUnderlyingResolver(),Ct.assertedUnderlyingResolver._openPopup(S,P,Z,$e)})()}_openRedirect(S,P,Z,$e){var Ct=this;return(0,p.A)(function*(){return yield Ct.selectUnderlyingResolver(),Ct.assertedUnderlyingResolver._openRedirect(S,P,Z,$e)})()}_isIframeWebStorageSupported(S,P){this.assertedUnderlyingResolver._isIframeWebStorageSupported(S,P)}_originValidation(S){return this.assertedUnderlyingResolver._originValidation(S)}get _shouldInitProactively(){return Oh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var S=this;return(0,p.A)(function*(){if(S.underlyingResolver)return;const P=yield function Lm(){return nl.apply(this,arguments)}();S.underlyingResolver=P?S.cordovaResolver:S.browserResolver})()}}function Wp($){return $.unwrap()}function Kp($){return Lo($)}function Lo($){const{_tokenResponse:S}=$ instanceof F.g?$.customData:$;if(!S)return null;if(!($ instanceof F.g)&&"temporaryProof"in S&&"phoneNumber"in S)return Vo.credentialFromResult($);const P=S.providerId;if(!P||P===z.PASSWORD)return null;let Z;switch(P){case z.GOOGLE:Z=rd;break;case z.FACEBOOK:Z=Fo;break;case z.GITHUB:Z=Ml;break;case z.TWITTER:Z=pl;break;default:const{oauthIdToken:$e,oauthAccessToken:Ct,oauthTokenSecret:xn,pendingToken:jn,nonce:xi}=S;return Ct||xn||$e||jn?jn?P.startsWith("saml.")?Co._create(P,jn):Us._fromParams({providerId:P,signInMethod:P,pendingToken:jn,idToken:$e,accessToken:Ct}):new as(P).credential({idToken:$e,accessToken:Ct,rawNonce:xi}):null}return $ instanceof F.g?Z.credentialFromError($):Z.credentialFromResult($)}function es($,S){return S.catch(P=>{throw P instanceof F.g&&function Ph($,S){var P;const Z=null===(P=S.customData)||void 0===P?void 0:P._tokenResponse;if("auth/multi-factor-auth-required"===S?.code)S.resolver=new Rh($,function $l($,S){var P;const Z=(0,F.Ku)($),$e=S;return _e(S.customData.operationType,Z,"argument-error"),_e(null===(P=$e.customData._serverResponse)||void 0===P?void 0:P.mfaPendingCredential,Z,"argument-error"),Rs._fromError(Z,$e)}($,S));else if(Z){const $e=Lo(S),Ct=S;$e&&(Ct.credential=$e,Ct.tenantId=Z.tenantId||void 0,Ct.email=Z.email||void 0,Ct.phoneNumber=Z.phoneNumber||void 0)}}($,P),P}).then(P=>{const $e=P.user;return{operationType:P.operationType,credential:Kp(P),additionalUserInfo:di(P),user:Sa.getOrCreate($e)}})}function Gd($,S){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,p.A)(function*($,S){const P=yield S;return{verificationId:P.verificationId,confirm:Z=>es($,P.confirm(Z))}})).apply(this,arguments)}class Rh{constructor(S,P){this.resolver=P,this.auth=function Fg($){return $.wrapped()}(S)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(S){return es(Wp(this.auth),this.resolver.resolveSignIn(S))}}class Sa{constructor(S){this._delegate=S,this.multiFactor=function Wo($){const S=(0,F.Ku)($);return po.has(S)||po.set(S,Oi._fromUser(S)),po.get(S)}(S)}static getOrCreate(S){return Sa.USER_MAP.has(S)||Sa.USER_MAP.set(S,new Sa(S)),Sa.USER_MAP.get(S)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(S){return this._delegate.getIdTokenResult(S)}getIdToken(S){return this._delegate.getIdToken(S)}linkAndRetrieveDataWithCredential(S){return this.linkWithCredential(S)}linkWithCredential(S){var P=this;return(0,p.A)(function*(){return es(P.auth,ga(P._delegate,S))})()}linkWithPhoneNumber(S,P){var Z=this;return(0,p.A)(function*(){return Gd(Z.auth,function Wc($,S,P){return mu.apply(this,arguments)}(Z._delegate,S,P))})()}linkWithPopup(S){var P=this;return(0,p.A)(function*(){return es(P.auth,function Wf($,S,P){return oc.apply(this,arguments)}(P._delegate,S,eh))})()}linkWithRedirect(S){var P=this;return(0,p.A)(function*(){return yield qf(Li(P.auth)),Cs(P._delegate,S,eh)})()}reauthenticateAndRetrieveDataWithCredential(S){return this.reauthenticateWithCredential(S)}reauthenticateWithCredential(S){var P=this;return(0,p.A)(function*(){return es(P.auth,Qa(P._delegate,S))})()}reauthenticateWithPhoneNumber(S,P){return Gd(this.auth,function Sg($,S,P){return Bp.apply(this,arguments)}(this._delegate,S,P))}reauthenticateWithPopup(S){return es(this.auth,function Up($,S,P){return Yu.apply(this,arguments)}(this._delegate,S,eh))}reauthenticateWithRedirect(S){var P=this;return(0,p.A)(function*(){return yield qf(Li(P.auth)),fd(P._delegate,S,eh)})()}sendEmailVerification(S){return function _l($,S){return Vu.apply(this,arguments)}(this._delegate,S)}unlink(S){var P=this;return(0,p.A)(function*(){return yield function $s($,S){return ro.apply(this,arguments)}(P._delegate,S),P})()}updateEmail(S){return function wa($,S){const P=(0,F.Ku)($);return(0,T._isFirebaseServerApp)(P.auth.app)?Promise.reject(de(P.auth)):bl(P,S,null)}(this._delegate,S)}updatePassword(S){return function ld($,S){return bl((0,F.Ku)($),null,S)}(this._delegate,S)}updatePhoneNumber(S){return function Do($,S){return Ch.apply(this,arguments)}(this._delegate,S)}updateProfile(S){return function zc($,S){return Fa.apply(this,arguments)}(this._delegate,S)}verifyBeforeUpdateEmail(S,P){return function vl($,S,P){return Hl.apply(this,arguments)}(this._delegate,S,P)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Sa.USER_MAP=new WeakMap;const il=_e;let Ef=(()=>{class ${constructor(P,Z){if(this.app=P,Z.isInitialized())return this._delegate=Z.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$e}=P.options;il($e,"invalid-api-key",{appName:P.name}),il($e,"invalid-api-key",{appName:P.name});const Ct=typeof window<"u"?eh:void 0;this._delegate=Z.initialize({options:{persistence:Dc($e,P.name),popupRedirectResolver:Ct}}),this._delegate._updateErrorMap(Q),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(P){this._delegate.languageCode=P}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(P){this._delegate.tenantId=P}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(P,Z){!function Vc($,S,P){const Z=Li($);_e(Z._canInitEmulator,Z,"emulator-config-failed"),_e(/^https?:\/\//.test(S),Z,"invalid-emulator-scheme");const $e=!!P?.disableWarnings,Ct=dl(S),{host:xn,port:jn}=function No($){const S=dl($),P=/(\/\/)?([^?#/]+)/.exec($.substr(S.length));if(!P)return{host:"",port:null};const Z=P[2].split("@").pop()||"",$e=/^(\[[^\]]+\])(:|$)/.exec(Z);if($e){const Ct=$e[1];return{host:Ct,port:ds(Z.substr(Ct.length+1))}}{const[Ct,xn]=Z.split(":");return{host:Ct,port:ds(xn)}}}(S);Z.config.emulator={url:`${Ct}//${xn}${null===jn?"":`:${jn}`}/`},Z.settings.appVerificationDisabledForTesting=!0,Z.emulatorConfig=Object.freeze({host:xn,port:jn,protocol:Ct.replace(":",""),options:Object.freeze({disableWarnings:$e})}),$e||function ul(){function $(){const S=document.createElement("p"),P=S.style;S.innerText="Running in emulator mode. Do not use with production credentials.",P.position="fixed",P.width="100%",P.backgroundColor="#ffffff",P.border=".1em solid #000000",P.color="#b50000",P.bottom="0px",P.left="0px",P.margin="0px",P.zIndex="10000",P.textAlign="center",S.classList.add("firebase-emulator-warning"),document.body.appendChild(S)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",$):$())}()}(this._delegate,P,Z)}applyActionCode(P){return function Fu($,S){return gl.apply(this,arguments)}(this._delegate,P)}checkActionCode(P){return Uc(this._delegate,P)}confirmPasswordReset(P,Z){return function Za($,S,P){return rc.apply(this,arguments)}(this._delegate,P,Z)}createUserWithEmailAndPassword(P,Z){var $e=this;return(0,p.A)(function*(){return es($e._delegate,function yh($,S,P){return vc.apply(this,arguments)}($e._delegate,P,Z))})()}fetchProvidersForEmail(P){return this.fetchSignInMethodsForEmail(P)}fetchSignInMethodsForEmail(P){return function sd($,S){return xa.apply(this,arguments)}(this._delegate,P)}isSignInWithEmailLink(P){return function jc($,S){const P=$r.parseLink(S);return"EMAIL_SIGNIN"===P?.operation}(0,P)}getRedirectResult(){var P=this;return(0,p.A)(function*(){il(ao(),P._delegate,"operation-not-supported-in-this-environment");const Z=yield function Io($,S){return Yc.apply(this,arguments)}(P._delegate,eh);return Z?es(P._delegate,Promise.resolve(Z)):{credential:null,user:null}})()}addFrameworkForLogging(P){!function Rg($,S){Li($)._logFramework(S)}(this._delegate,P)}onAuthStateChanged(P,Z,$e){const{next:Ct,error:xn,complete:jn}=Wd(P,Z,$e);return this._delegate.onAuthStateChanged(Ct,xn,jn)}onIdTokenChanged(P,Z,$e){const{next:Ct,error:xn,complete:jn}=Wd(P,Z,$e);return this._delegate.onIdTokenChanged(Ct,xn,jn)}sendSignInLinkToEmail(P,Z){return function Bu($,S,P){return zl.apply(this,arguments)}(this._delegate,P,Z)}sendPasswordResetEmail(P,Z){return function Id($,S,P){return Nu.apply(this,arguments)}(this._delegate,P,Z||void 0)}setPersistence(P){var Z=this;return(0,p.A)(function*(){let $e;switch(function jr($,S){Tl(Object.values(Oa).includes(S),$,"invalid-persistence-type"),(0,F.lV)()?Tl(S!==Oa.SESSION,$,"unsupported-persistence-type"):(0,F.Ll)()?Tl(S===Oa.NONE,$,"unsupported-persistence-type"):jo()?Tl(S===Oa.NONE||S===Oa.LOCAL&&(0,F.zW)(),$,"unsupported-persistence-type"):Tl(S===Oa.NONE||Ng(),$,"unsupported-persistence-type")}(Z._delegate,P),P){case Oa.SESSION:$e=Jr;break;case Oa.LOCAL:$e=(yield on(At)._isAvailable())?At:fu;break;case Oa.NONE:$e=pt;break;default:return Le("argument-error",{appName:Z._delegate.name})}return Z._delegate.setPersistence($e)})()}signInAndRetrieveDataWithCredential(P){return this.signInWithCredential(P)}signInAnonymously(){return es(this._delegate,function It($){return Tn.apply(this,arguments)}(this._delegate))}signInWithCredential(P){return es(this._delegate,Na(this._delegate,P))}signInWithCustomToken(P){return es(this._delegate,function Dd($,S){return us.apply(this,arguments)}(this._delegate,P))}signInWithEmailAndPassword(P,Z){return es(this._delegate,function jl($,S,P){return(0,T._isFirebaseServerApp)($.app)?Promise.reject(de($)):Na((0,F.Ku)($),id.credential(S,P)).catch(function(){var Z=(0,p.A)(function*($e){throw"auth/password-does-not-meet-requirements"===$e.code&&uu($),$e});return function($e){return Z.apply(this,arguments)}}())}(this._delegate,P,Z))}signInWithEmailLink(P,Z){return es(this._delegate,function Eh($,S,P){return Ia.apply(this,arguments)}(this._delegate,P,Z))}signInWithPhoneNumber(P,Z){return Gd(this._delegate,function Fp($,S,P){return Gc.apply(this,arguments)}(this._delegate,P,Z))}signInWithPopup(P){var Z=this;return(0,p.A)(function*(){return il(ao(),Z._delegate,"operation-not-supported-in-this-environment"),es(Z._delegate,function Ma($,S,P){return ud.apply(this,arguments)}(Z._delegate,P,eh))})()}signInWithRedirect(P){var Z=this;return(0,p.A)(function*(){return il(ao(),Z._delegate,"operation-not-supported-in-this-environment"),yield qf(Z._delegate),Ig(Z._delegate,P,eh)})()}updateCurrentUser(P){return this._delegate.updateCurrentUser(P)}verifyPasswordResetCode(P){return function Md($,S){return Ad.apply(this,arguments)}(this._delegate,P)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=Oa,$})();function Wd($,S,P){let Z=$;"function"!=typeof $&&({next:Z,error:S,complete:P}=$);const $e=Z;return{next:xn=>$e(xn&&Sa.getOrCreate(xn)),error:S,complete:P}}function Dc($,S){const P=function z0($,S){const P=Ro();if(!P)return[];const Z=Ut(Sc,$,S);switch(P.getItem(Z)){case Oa.NONE:return[pt];case Oa.LOCAL:return[At,Jr];case Oa.SESSION:return[Jr];default:return[]}}($,S);if(typeof self<"u"&&!P.includes(At)&&P.push(At),typeof window<"u")for(const Z of[fu,Jr])P.includes(Z)||P.push(Z);return P.includes(pt)||P.push(pt),P}class Kd{constructor(){this.providerId="phone",this._delegate=new Vo(Wp(m.A.auth()))}static credential(S,P){return Vo.credential(S,P)}verifyPhoneNumber(S,P){return this._delegate.verifyPhoneNumber(S,P)}unwrap(){return this._delegate}}Kd.PHONE_SIGN_IN_METHOD=Vo.PHONE_SIGN_IN_METHOD,Kd.PROVIDER_ID=Vo.PROVIDER_ID;const Yd=_e;class Xd{constructor(S,P,Z=m.A.app()){var $e;Yd(null===($e=Z.options)||void 0===$e?void 0:$e.apiKey,"invalid-api-key",{appName:Z.name}),this._delegate=new Sm(Z.auth(),S,P),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Jf($){$.INTERNAL.registerComponent(new ne.uA("auth-compat",S=>{const P=S.getProvider("app-compat").getImmediate(),Z=S.getProvider("auth");return new Ef(P,Z)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:id,FacebookAuthProvider:Fo,GithubAuthProvider:Ml,GoogleAuthProvider:rd,OAuthProvider:as,SAMLAuthProvider:Hs,PhoneAuthProvider:Kd,PhoneMultiFactorGenerator:Bd,RecaptchaVerifier:Xd,TwitterAuthProvider:pl,Auth:Ef,AuthCredential:Jo,Error:F.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.7")}(m.A)},6749:(Jt,ke,E)=>{"use strict";E.d(ke,{MR:()=>Ve,P2:()=>Be});var p=E(467);const m=(fe,Re)=>Re.some(_e=>fe instanceof _e);let T,F;const ne=new WeakMap,q=new WeakMap,z=new WeakMap,O=new WeakMap,I=new WeakMap;let H={get(fe,Re,_e){if(fe instanceof IDBTransaction){if("done"===Re)return q.get(fe);if("objectStoreNames"===Re)return fe.objectStoreNames||z.get(fe);if("store"===Re)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return me(fe[Re])},set:(fe,Re,_e)=>(fe[Re]=_e,!0),has:(fe,Re)=>fe instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in fe};function be(fe){return"function"==typeof fe?function ee(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return F||(F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...Re){return fe.apply(Ne(this),Re),me(ne.get(this))}:function(...Re){return me(fe.apply(Ne(this),Re))}:function(Re,..._e){const Xe=fe.call(Ne(this),Re,..._e);return z.set(Xe,Re.sort?Re.sort():[Re]),me(Xe)}}(fe):(fe instanceof IDBTransaction&&function A(fe){if(q.has(fe))return;const Re=new Promise((_e,Xe)=>{const Ye=()=>{fe.removeEventListener("complete",Ot),fe.removeEventListener("error",un),fe.removeEventListener("abort",un)},Ot=()=>{_e(),Ye()},un=()=>{Xe(fe.error||new DOMException("AbortError","AbortError")),Ye()};fe.addEventListener("complete",Ot),fe.addEventListener("error",un),fe.addEventListener("abort",un)});q.set(fe,Re)}(fe),m(fe,function x(){return T||(T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,H):fe)}function me(fe){if(fe instanceof IDBRequest)return function k(fe){const Re=new Promise((_e,Xe)=>{const Ye=()=>{fe.removeEventListener("success",Ot),fe.removeEventListener("error",un)},Ot=()=>{_e(me(fe.result)),Ye()},un=()=>{Xe(fe.error),Ye()};fe.addEventListener("success",Ot),fe.addEventListener("error",un)});return Re.then(_e=>{_e instanceof IDBCursor&&ne.set(_e,fe)}).catch(()=>{}),I.set(Re,fe),Re}(fe);if(O.has(fe))return O.get(fe);const Re=be(fe);return Re!==fe&&(O.set(fe,Re),I.set(Re,fe)),Re}const Ne=fe=>I.get(fe);function Be(fe,Re,{blocked:_e,upgrade:Xe,blocking:Ye,terminated:Ot}={}){const un=indexedDB.open(fe,Re),Cn=me(un);return Xe&&un.addEventListener("upgradeneeded",An=>{Xe(me(un.result),An.oldVersion,An.newVersion,me(un.transaction),An)}),_e&&un.addEventListener("blocked",An=>_e(An.oldVersion,An.newVersion,An)),Cn.then(An=>{Ot&&An.addEventListener("close",()=>Ot()),Ye&&An.addEventListener("versionchange",Nn=>Ye(Nn.oldVersion,Nn.newVersion,Nn))}).catch(()=>{}),Cn}function Ve(fe,{blocked:Re}={}){const _e=indexedDB.deleteDatabase(fe);return Re&&_e.addEventListener("blocked",Xe=>Re(Xe.oldVersion,Xe)),me(_e).then(()=>{})}const Le=["get","getKey","getAll","getAllKeys","count"],J=["put","add","delete","clear"],ae=new Map;function de(fe,Re){if(!(fe instanceof IDBDatabase)||Re in fe||"string"!=typeof Re)return;if(ae.get(Re))return ae.get(Re);const _e=Re.replace(/FromIndex$/,""),Xe=Re!==_e,Ye=J.includes(_e);if(!(_e in(Xe?IDBIndex:IDBObjectStore).prototype)||!Ye&&!Le.includes(_e))return;const Ot=function(){var un=(0,p.A)(function*(Cn,...An){const Nn=this.transaction(Cn,Ye?"readwrite":"readonly");let Et=Nn.store;return Xe&&(Et=Et.index(An.shift())),(yield Promise.all([Et[_e](...An),Ye&&Nn.done]))[0]});return function(An){return un.apply(this,arguments)}}();return ae.set(Re,Ot),Ot}!function Q(fe){H=fe(H)}(fe=>({...fe,get:(Re,_e,Xe)=>de(Re,_e)||fe.get(Re,_e,Xe),has:(Re,_e)=>!!de(Re,_e)||fe.has(Re,_e)}))},5788:(Jt,ke,E)=>{"use strict";E.d(ke,{Ph:()=>z,gj:()=>q});var p=E(4438),m=E(9417),T=E(177);function F(I,k){if(1&I){const A=p.RV6();p.j41(0,"input",4,0),p.bIt("paste",function(Q){p.eBV(A);const ee=p.XpG(2);return p.Njj(ee.handlePaste(Q))})("keyup",function(Q){const ee=p.eBV(A).index,be=p.XpG(2);return p.Njj(be.onKeyUp(Q,ee))})("input",function(Q){p.eBV(A);const ee=p.XpG(2);return p.Njj(ee.onInput(Q))})("keydown",function(Q){const ee=p.eBV(A).index,be=p.XpG(2);return p.Njj(be.onKeyDown(Q,ee))}),p.k0s()}if(2&I){const A=k.$implicit,H=k.index,Q=p.XpG(2);p.ZvI("otp-input ",Q.config.inputClass,""),p.Y8G("pattern",Q.config.allowNumbersOnly?"\\d*":"")("type",Q.inputType)("placeholder",(null==Q.config?null:Q.config.placeholder)||"")("ngStyle",Q.config.inputStyles)("formControl",Q.otpForm.controls[A])("id",Q.getBoxId(H))}}function x(I,k){if(1&I&&(p.j41(0,"div",2),p.DNE(1,F,2,9,"input",3),p.nI1(2,"keys"),p.k0s()),2&I){const A=p.XpG();p.ZvI("ng-otp-input-wrapper wrapper ",A.config.containerClass,""),p.Mz_("id","c_",A.componentKey,""),p.Y8G("ngStyle",A.config.containerStyles),p.R7$(),p.Y8G("ngForOf",p.bMT(2,7,null==A.otpForm?null:A.otpForm.controls))}}class ce{static ifTab(k){return this.ifKey(k,"Tab")}static ifDelete(k){return this.ifKey(k,"Delete;Del")}static ifBackspace(k){return this.ifKey(k,"Backspace")}static ifRightArrow(k){return this.ifKey(k,"ArrowRight;Right")}static ifLeftArrow(k){return this.ifKey(k,"ArrowLeft;Left")}static ifSpacebar(k){return this.ifKey(k,"Spacebar; ")}static ifKey(k,A){return A.split(";").some(Q=>Q===k.key)}}let ne=(()=>{class I{transform(A){return Object.keys(A)}}return I.\u0275fac=function(A){return new(A||I)},I.\u0275pipe=p.EJ8({name:"keys",type:I,pure:!0}),I})(),q=(()=>{class I{constructor(A,H){this.keysPipe=A,this.document=H,this.config={length:4},this.onInputChange=new p.bkB,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new m.gE({});for(let A=0;A<this.config.length;A++)this.otpForm.addControl(this.getControlName(A),new m.MJ);this.otpForm.valueChanges.subscribe(A=>{this.keysPipe.transform(this.otpForm.controls).forEach(H=>{var Q=this.otpForm.controls[H].value;Q&&Q.length>1&&(Q.length>=this.config.length?this.setValue(Q):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const A=this.document.getElementById(`c_${this.componentKey}`);if(A){const H=A.getElementsByClassName("otp-input")[0];H&&H.focus&&H.focus()}}}getControlName(A){return`ctrl_${A}`}onKeyDown(A,H){const Q=this.getBoxId(H-1),ee=this.getBoxId(H);return ce.ifSpacebar(A)?(A.preventDefault(),!1):ce.ifBackspace(A)?(A.target.value?this.clearInput(ee,H):(this.clearInput(Q,H-1),this.setSelected(Q)),void this.rebuildValue()):void 0}onInput(A){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${A.target.value}`:A.target.value))return A.target.value="",A.stopPropagation(),void A.preventDefault()}onKeyUp(A,H){ce.ifTab(A)&&(H-=1);const Q=this.getBoxId(H+1),ee=this.getBoxId(H-1),be=this.getBoxId(H);return ce.ifRightArrow(A)?(A.preventDefault(),void this.setSelected(Q)):ce.ifLeftArrow(A)?(A.preventDefault(),void this.setSelected(ee)):ce.ifDelete(A)?(A.target.value?this.clearInput(be,H):(this.clearInput(ee,H-1),this.setSelected(ee)),void this.rebuildValue()):void(A.target.value&&(this.ifValidKeyCode(A)&&this.setSelected(Q),this.rebuildValue()))}validateNumber(A){return A&&/^[0-9]+$/.test(A)}getBoxId(A){return`otp_${A}_${this.componentKey}`}clearInput(A,H){let Q=this.getControlName(H);this.otpForm.controls[Q]?.setValue(null);const ee=this.document.getElementById(A);ee&&ee instanceof HTMLInputElement&&(ee.value=null)}setSelected(A){this.focusTo(A);const H=this.document.getElementById(A);H&&H.setSelectionRange&&setTimeout(()=>{H.setSelectionRange(0,1)},0)}ifValidKeyCode(A){const H=A.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(H)}focusTo(A){const H=this.document.getElementById(A);H&&H.focus()}setValue(A){if(!this.config.allowNumbersOnly||!isNaN(A)){if(this.otpForm.reset(),!A)return void this.rebuildValue();if(A=A.toString().replace(/\s/g,""),Array.from(A).forEach((Q,ee)=>{this.otpForm.get(this.getControlName(ee))&&this.otpForm.get(this.getControlName(ee)).setValue(Q)}),!this.config.disableAutoFocus){const Q=this.document.getElementById(`c_${this.componentKey}`);var H=A.length<this.config.length?A.length:this.config.length-1;let ee=Q.getElementsByClassName("otp-input")[H];ee&&ee.focus&&ee.focus()}this.rebuildValue()}}rebuildValue(){let A="";this.keysPipe.transform(this.otpForm.controls).forEach(H=>{if(this.otpForm.controls[H].value){let Q=this.otpForm.controls[H].value,ee=Q.length>1,be=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());Q=Q[0];let me=be?"upper"==this.config.letterCase.toLocaleLowerCase()?Q.toUpperCase():Q.toLowerCase():Q;be&&me==Q?be=!1:Q=me,A+=Q,(ee||be)&&this.otpForm.controls[H].setValue(Q)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(A),this.onInputChange.emit(A),this.currentVal=A}handlePaste(A){let H=A.clipboardData||window.clipboardData;if(H)var Q=H.getData("Text");A.stopPropagation(),A.preventDefault(),Q&&(!this.config.allowNumbersOnly||this.validateNumber(Q))&&this.setValue(Q)}}return I.\u0275fac=function(A){return new(A||I)(p.rXU(ne),p.rXU(T.qQ))},I.\u0275cmp=p.VBU({type:I,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[["inp",""],[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"paste","keyup","input","keydown","pattern","type","placeholder","ngStyle","formControl","id"]],template:function(A,H){1&A&&p.DNE(0,x,3,9,"div",1),2&A&&p.Y8G("ngIf",null==H.otpForm?null:H.otpForm.controls)},dependencies:[T.bT,T.B3,T.Sq,m.me,m.R_,m.BC,m.l_,ne],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),I})(),z=(()=>{class I{}return I.\u0275fac=function(A){return new(A||I)},I.\u0275mod=p.$C({type:I}),I.\u0275inj=p.G2t({providers:[ne],imports:[[T.MD,m.YN,m.X1]]}),I})()},8250:(Jt,ke,E)=>{"use strict";E.d(ke,{N:()=>F,c:()=>x});var p=E(4438),m=E(1874);const T=["bcElement"];let F=(()=>{class ce{get options(){return{format:this.format,lineColor:this.lineColor,width:this.width,height:this.height,displayValue:this.displayValue,fontOptions:this.fontOptions,font:this.font,textAlign:this.textAlign,textPosition:this.textPosition,textMargin:this.textMargin,fontSize:this.fontSize,background:this.background,margin:this.margin,marginTop:this.marginTop,marginBottom:this.marginBottom,marginLeft:this.marginLeft,marginRight:this.marginRight,valid:this.valid}}constructor(q){this.renderer=q,this.elementType="svg",this.cssClass="barcode",this.format="CODE128",this.lineColor="#000000",this.width=2,this.height=100,this.displayValue=!1,this.fontOptions="",this.font="monospace",this.textAlign="center",this.textPosition="bottom",this.textMargin=2,this.fontSize=20,this.background="#ffffff",this.margin=10,this.marginTop=10,this.marginBottom=10,this.marginLeft=10,this.marginRight=10,this.value="",this.valid=()=>!0}ngAfterViewInit(){this.createBarcode()}ngOnChanges(){this.bcElement&&this.createBarcode()}createBarcode(){if(!this.value)return;let q;switch(this.elementType){case"img":q=this.renderer.createElement("img");break;case"canvas":q=this.renderer.createElement("canvas");break;default:q=this.renderer.createElement("svg","svg")}m(q,this.value,this.options);for(const z of this.bcElement.nativeElement.childNodes)this.renderer.removeChild(this.bcElement.nativeElement,z);this.renderer.appendChild(this.bcElement.nativeElement,q)}static#e=this.\u0275fac=function(z){return new(z||ce)(p.rXU(p.sFG))};static#t=this.\u0275cmp=p.VBU({type:ce,selectors:[["ngx-barcode6"]],viewQuery:function(z,O){if(1&z&&p.GBs(T,5),2&z){let I;p.mGM(I=p.lsd())&&(O.bcElement=I.first)}},inputs:{elementType:[p.Mj6.None,"bc-element-type","elementType"],cssClass:[p.Mj6.None,"bc-class","cssClass"],format:[p.Mj6.None,"bc-format","format"],lineColor:[p.Mj6.None,"bc-line-color","lineColor"],width:[p.Mj6.None,"bc-width","width"],height:[p.Mj6.None,"bc-height","height"],displayValue:[p.Mj6.None,"bc-display-value","displayValue"],fontOptions:[p.Mj6.None,"bc-font-options","fontOptions"],font:[p.Mj6.None,"bc-font","font"],textAlign:[p.Mj6.None,"bc-text-align","textAlign"],textPosition:[p.Mj6.None,"bc-text-position","textPosition"],textMargin:[p.Mj6.None,"bc-text-margin","textMargin"],fontSize:[p.Mj6.None,"bc-font-size","fontSize"],background:[p.Mj6.None,"bc-background","background"],margin:[p.Mj6.None,"bc-margin","margin"],marginTop:[p.Mj6.None,"bc-margin-top","marginTop"],marginBottom:[p.Mj6.None,"bc-margin-bottom","marginBottom"],marginLeft:[p.Mj6.None,"bc-margin-left","marginLeft"],marginRight:[p.Mj6.None,"bc-margin-right","marginRight"],value:[p.Mj6.None,"bc-value","value"],valid:[p.Mj6.None,"bc-valid","valid"]},features:[p.OA$],decls:2,vars:2,consts:[["bcElement",""]],template:function(z,O){1&z&&p.nrm(0,"div",null,0),2&z&&p.HbH(O.cssClass)},encapsulation:2})}return ce})(),x=(()=>{class ce{static#e=this.\u0275fac=function(z){return new(z||ce)};static#t=this.\u0275mod=p.$C({type:ce});static#n=this.\u0275inj=p.G2t({})}return ce})()},6338:(Jt,ke,E)=>{"use strict";E.d(ke,{kd:()=>O,ob:()=>z});var p=E(4438),m=E(177);let F=(()=>{class I{constructor(A){this.zone=A,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(A,H,Q,ee){if(this.grecaptchaScriptLoaded(A.useEnterprise))return void this.zone.run(A.useEnterprise?()=>{Q(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}:()=>{Q(window[this.windowGrecaptcha])});A.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(Q.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(Q.bind(this,window[this.windowGrecaptcha]));const be=document.createElement("script");be.id=this.scriptElemId,be.innerHTML="",be.src=this.getCaptchaScriptUrl(A,H,ee),be.async=!0,be.defer=!0,document.getElementsByTagName("head")[0].appendChild(be)}cleanup(){const A=document.getElementById(this.scriptElemId);A&&A.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(A){return!!(window[this.getCallbackName(A)]&&window[this.windowGrecaptcha]&&(A&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]||window[this.windowGrecaptcha].execute))}getCallbackName(A){return A?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(A){return A?`&hl=${A}`:""}getCaptchaScriptUrl(A,H,Q){return`https://www.${A.useGlobalDomain?this.globalDomain:this.defaultDomain}/recaptcha/${A.useEnterprise?this.enterpriseApi:this.defaultApi}?onload=${this.getCallbackName(A.useEnterprise)}&render=${H}${this.getLanguageParam(Q)}`}}return I.\u0275fac=function(A){return new(A||I)(p.KVO(p.SKi))},I.\u0275prov=p.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),z=(()=>{class I{constructor(A,H){this.scriptService=A,this.zone=H}execute(A,H,Q,ee,be){this.executeAsPromise(A,H,ee).then(Q).catch(me=>be?be(me):console.error(me))}executeAsPromise(A,H,Q){return new Promise((ee,be)=>{this.scriptService.registerCaptchaScript(Q||{},A,Be=>{this.zone.runOutsideAngular(()=>{try{Be.execute(A,{action:H}).then(Ve=>this.zone.run(()=>ee(Ve)))}catch(Ve){be(Ve)}})})})}}return I.\u0275fac=function(A){return new(A||I)(p.KVO(F),p.KVO(p.SKi))},I.\u0275prov=p.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),O=(()=>{class I{}return I.\u0275fac=function(A){return new(A||I)},I.\u0275mod=p.$C({type:I}),I.\u0275inj=p.G2t({providers:[F,z],imports:[m.MD]}),I})()},7606:(Jt,ke,E)=>{"use strict";function p(ne){return null!==ne&&"object"==typeof ne&&"constructor"in ne&&ne.constructor===Object}function m(ne,q){void 0===ne&&(ne={}),void 0===q&&(q={}),Object.keys(q).forEach(z=>{typeof ne[z]>"u"?ne[z]=q[z]:p(q[z])&&p(ne[z])&&Object.keys(q[z]).length>0&&m(ne[z],q[z])})}E.d(ke,{a:()=>ce,g:()=>F});const T={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function F(){const ne=typeof document<"u"?document:{};return m(ne,T),ne}const x={document:T,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:ne=>typeof setTimeout>"u"?(ne(),null):setTimeout(ne,0),cancelAnimationFrame(ne){typeof setTimeout>"u"||clearTimeout(ne)}};function ce(){const ne=typeof window<"u"?window:{};return m(ne,x),ne}},8132:(Jt,ke,E)=>{"use strict";E.d(ke,{S:()=>st,d:()=>Ht});var p=E(7606),m=E(4015);let T,ce,z;function x(){return T||(T=function F(){const V=(0,p.a)(),G=(0,p.g)();return{smoothScroll:G.documentElement&&G.documentElement.style&&"scrollBehavior"in G.documentElement.style,touch:!!("ontouchstart"in V||V.DocumentTouch&&G instanceof V.DocumentTouch)}}()),T}function q(V){return void 0===V&&(V={}),ce||(ce=function ne(V){let{userAgent:G}=void 0===V?{}:V;const X=x(),Ee=(0,p.a)(),ot=Ee.navigator.platform,ht=G||Ee.navigator.userAgent,on={ios:!1,android:!1},gn=Ee.screen.width,pt=Ee.screen.height,Ut=ht.match(/(Android);?[\s\/]+([\d.]+)?/);let lt=ht.match(/(iPad).*OS\s([\d_]+)/);const ln=ht.match(/(iPod)(.*OS\s([\d_]+))?/),Rn=!lt&&ht.match(/(iPhone\sOS|iOS)\s([\d_]+)/),Nt="Win32"===ot;let vn="MacIntel"===ot;return!lt&&vn&&X.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${gn}x${pt}`)>=0&&(lt=ht.match(/(Version)\/([\d.]+)/),lt||(lt=[0,1,"13_0_0"]),vn=!1),Ut&&!Nt&&(on.os="android",on.android=!0),(lt||Rn||ln)&&(on.os="ios",on.ios=!0),on}(V)),ce}const Ve=(V,G,X)=>{G&&!V.classList.contains(X)?V.classList.add(X):!G&&V.classList.contains(X)&&V.classList.remove(X)},J=(V,G)=>{if(!V||V.destroyed||!V.params)return;const Ee=G.closest(V.isElement?"swiper-slide":`.${V.params.slideClass}`);if(Ee){let ot=Ee.querySelector(`.${V.params.lazyPreloaderClass}`);!ot&&V.isElement&&(Ee.shadowRoot?ot=Ee.shadowRoot.querySelector(`.${V.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{Ee.shadowRoot&&(ot=Ee.shadowRoot.querySelector(`.${V.params.lazyPreloaderClass}`),ot&&ot.remove())})),ot&&ot.remove()}},ae=(V,G)=>{if(!V.slides[G])return;const X=V.slides[G].querySelector('[loading="lazy"]');X&&X.removeAttribute("loading")},de=V=>{if(!V||V.destroyed||!V.params)return;let G=V.params.lazyPreloadPrevNext;const X=V.slides.length;if(!X||!G||G<0)return;G=Math.min(G,X);const Ee="auto"===V.params.slidesPerView?V.slidesPerViewDynamic():Math.ceil(V.params.slidesPerView),ot=V.activeIndex;if(V.params.grid&&V.params.grid.rows>1){const on=ot,gn=[on-G];return gn.push(...Array.from({length:G}).map((pt,Ut)=>on+Ee+Ut)),void V.slides.forEach((pt,Ut)=>{gn.includes(pt.column)&&ae(V,Ut)})}const ht=ot+Ee-1;if(V.params.rewind||V.params.loop)for(let on=ot-G;on<=ht+G;on+=1){const gn=(on%X+X)%X;(gn<ot||gn>ht)&&ae(V,gn)}else for(let on=Math.max(ot-G,0);on<=Math.min(ht+G,X-1);on+=1)on!==ot&&(on>ht||on<ot)&&ae(V,on)};function Rt(V){let{swiper:G,runCallbacks:X,direction:Ee,step:ot}=V;const{activeIndex:ht,previousIndex:on}=G;let gn=Ee;if(gn||(gn=ht>on?"next":ht<on?"prev":"reset"),G.emit(`transition${ot}`),X&&ht!==on){if("reset"===gn)return void G.emit(`slideResetTransition${ot}`);G.emit(`slideChangeTransition${ot}`),G.emit("next"===gn?`slideNextTransition${ot}`:`slidePrevTransition${ot}`)}}function Ie(V,G,X){const Ee=(0,p.a)(),{params:ot}=V,ht=ot.edgeSwipeDetection,on=ot.edgeSwipeThreshold;return!ht||!(X<=on||X>=Ee.innerWidth-on)||"prevent"===ht&&(G.preventDefault(),!0)}function Te(V){const G=this,X=(0,p.g)();let Ee=V;Ee.originalEvent&&(Ee=Ee.originalEvent);const ot=G.touchEventsData;if("pointerdown"===Ee.type){if(null!==ot.pointerId&&ot.pointerId!==Ee.pointerId)return;ot.pointerId=Ee.pointerId}else"touchstart"===Ee.type&&1===Ee.targetTouches.length&&(ot.touchId=Ee.targetTouches[0].identifier);if("touchstart"===Ee.type)return void Ie(G,Ee,Ee.targetTouches[0].pageX);const{params:ht,touches:on,enabled:gn}=G;if(!gn||!ht.simulateTouch&&"mouse"===Ee.pointerType||G.animating&&ht.preventInteractionOnTransition)return;!G.animating&&ht.cssMode&&ht.loop&&G.loopFix();let pt=Ee.target;if("wrapper"===ht.touchEventsTarget&&!G.wrapperEl.contains(pt)||"which"in Ee&&3===Ee.which||"button"in Ee&&Ee.button>0||ot.isTouched&&ot.isMoved)return;const Ut=!!ht.noSwipingClass&&""!==ht.noSwipingClass,lt=Ee.composedPath?Ee.composedPath():Ee.path;Ut&&Ee.target&&Ee.target.shadowRoot&&lt&&(pt=lt[0]);const ln=ht.noSwipingSelector?ht.noSwipingSelector:`.${ht.noSwipingClass}`;if(ht.noSwiping&&(Ee.target&&Ee.target.shadowRoot?function qt(V,G){return void 0===G&&(G=this),function X(Ee){if(!Ee||Ee===(0,p.g)()||Ee===(0,p.a)())return null;Ee.assignedSlot&&(Ee=Ee.assignedSlot);const ot=Ee.closest(V);return ot||Ee.getRootNode?ot||X(Ee.getRootNode().host):null}(G)}(ln,pt):pt.closest(ln)))return void(G.allowClick=!0);if(ht.swipeHandler&&!pt.closest(ht.swipeHandler))return;on.currentX=Ee.pageX,on.currentY=Ee.pageY;const Nt=on.currentX,vn=on.currentY;if(!Ie(G,Ee,Nt))return;Object.assign(ot,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),on.startX=Nt,on.startY=vn,ot.touchStartTime=(0,m.d)(),G.allowClick=!0,G.updateSize(),G.swipeDirection=void 0,ht.threshold>0&&(ot.allowThresholdMove=!1);let $n=!0;pt.matches(ot.focusableElements)&&($n=!1,"SELECT"===pt.nodeName&&(ot.isTouched=!1)),X.activeElement&&X.activeElement.matches(ot.focusableElements)&&X.activeElement!==pt&&X.activeElement.blur(),(ht.touchStartForcePreventDefault||$n&&G.allowTouchMove&&ht.touchStartPreventDefault)&&!pt.isContentEditable&&Ee.preventDefault(),ht.freeMode&&ht.freeMode.enabled&&G.freeMode&&G.animating&&!ht.cssMode&&G.freeMode.onTouchStart(),G.emit("touchStart",Ee)}function Ge(V){const G=(0,p.g)(),X=this,Ee=X.touchEventsData,{params:ot,touches:ht,rtlTranslate:on,enabled:gn}=X;if(!gn||!ot.simulateTouch&&"mouse"===V.pointerType)return;let Ut,pt=V;if(pt.originalEvent&&(pt=pt.originalEvent),"pointermove"===pt.type&&(null!==Ee.touchId||pt.pointerId!==Ee.pointerId))return;if("touchmove"===pt.type){if(Ut=[...pt.changedTouches].filter(he=>he.identifier===Ee.touchId)[0],!Ut||Ut.identifier!==Ee.touchId)return}else Ut=pt;if(!Ee.isTouched)return void(Ee.startMoving&&Ee.isScrolling&&X.emit("touchMoveOpposite",pt));const lt=Ut.pageX,ln=Ut.pageY;if(pt.preventedByNestedSwiper)return ht.startX=lt,void(ht.startY=ln);if(!X.allowTouchMove)return pt.target.matches(Ee.focusableElements)||(X.allowClick=!1),void(Ee.isTouched&&(Object.assign(ht,{startX:lt,startY:ln,currentX:lt,currentY:ln}),Ee.touchStartTime=(0,m.d)()));if(ot.touchReleaseOnEdges&&!ot.loop)if(X.isVertical()){if(ln<ht.startY&&X.translate<=X.maxTranslate()||ln>ht.startY&&X.translate>=X.minTranslate())return Ee.isTouched=!1,void(Ee.isMoved=!1)}else if(lt<ht.startX&&X.translate<=X.maxTranslate()||lt>ht.startX&&X.translate>=X.minTranslate())return;if(G.activeElement&&pt.target===G.activeElement&&pt.target.matches(Ee.focusableElements))return Ee.isMoved=!0,void(X.allowClick=!1);Ee.allowTouchCallbacks&&X.emit("touchMove",pt),ht.previousX=ht.currentX,ht.previousY=ht.currentY,ht.currentX=lt,ht.currentY=ln;const Rn=ht.currentX-ht.startX,Nt=ht.currentY-ht.startY;if(X.params.threshold&&Math.sqrt(Rn**2+Nt**2)<X.params.threshold)return;if(typeof Ee.isScrolling>"u"){let he;X.isHorizontal()&&ht.currentY===ht.startY||X.isVertical()&&ht.currentX===ht.startX?Ee.isScrolling=!1:Rn*Rn+Nt*Nt>=25&&(he=180*Math.atan2(Math.abs(Nt),Math.abs(Rn))/Math.PI,Ee.isScrolling=X.isHorizontal()?he>ot.touchAngle:90-he>ot.touchAngle)}if(Ee.isScrolling&&X.emit("touchMoveOpposite",pt),typeof Ee.startMoving>"u"&&(ht.currentX!==ht.startX||ht.currentY!==ht.startY)&&(Ee.startMoving=!0),Ee.isScrolling||"touchmove"===pt.type&&Ee.preventTouchMoveFromPointerMove)return void(Ee.isTouched=!1);if(!Ee.startMoving)return;X.allowClick=!1,!ot.cssMode&&pt.cancelable&&pt.preventDefault(),ot.touchMoveStopPropagation&&!ot.nested&&pt.stopPropagation();let vn=X.isHorizontal()?Rn:Nt,$n=X.isHorizontal()?ht.currentX-ht.previousX:ht.currentY-ht.previousY;ot.oneWayMovement&&(vn=Math.abs(vn)*(on?1:-1),$n=Math.abs($n)*(on?1:-1)),ht.diff=vn,vn*=ot.touchRatio,on&&(vn=-vn,$n=-$n);const Zn=X.touchesDirection;X.swipeDirection=vn>0?"prev":"next",X.touchesDirection=$n>0?"prev":"next";const Ai=X.params.loop&&!ot.cssMode,sn="next"===X.touchesDirection&&X.allowSlideNext||"prev"===X.touchesDirection&&X.allowSlidePrev;if(!Ee.isMoved){if(Ai&&sn&&X.loopFix({direction:X.swipeDirection}),Ee.startTranslate=X.getTranslate(),X.setTransition(0),X.animating){const he=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});X.wrapperEl.dispatchEvent(he)}Ee.allowMomentumBounce=!1,ot.grabCursor&&(!0===X.allowSlideNext||!0===X.allowSlidePrev)&&X.setGrabCursor(!0),X.emit("sliderFirstMove",pt)}if((new Date).getTime(),Ee.isMoved&&Ee.allowThresholdMove&&Zn!==X.touchesDirection&&Ai&&sn&&Math.abs(vn)>=1)return Object.assign(ht,{startX:lt,startY:ln,currentX:lt,currentY:ln,startTranslate:Ee.currentTranslate}),Ee.loopSwapReset=!0,void(Ee.startTranslate=Ee.currentTranslate);X.emit("sliderMove",pt),Ee.isMoved=!0,Ee.currentTranslate=vn+Ee.startTranslate;let xt=!0,dn=ot.resistanceRatio;if(ot.touchReleaseOnEdges&&(dn=0),vn>0?(Ai&&sn&&Ee.allowThresholdMove&&Ee.currentTranslate>(ot.centeredSlides?X.minTranslate()-X.slidesSizesGrid[X.activeIndex+1]:X.minTranslate())&&X.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),Ee.currentTranslate>X.minTranslate()&&(xt=!1,ot.resistance&&(Ee.currentTranslate=X.minTranslate()-1+(-X.minTranslate()+Ee.startTranslate+vn)**dn))):vn<0&&(Ai&&sn&&Ee.allowThresholdMove&&Ee.currentTranslate<(ot.centeredSlides?X.maxTranslate()+X.slidesSizesGrid[X.slidesSizesGrid.length-1]:X.maxTranslate())&&X.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:X.slides.length-("auto"===ot.slidesPerView?X.slidesPerViewDynamic():Math.ceil(parseFloat(ot.slidesPerView,10)))}),Ee.currentTranslate<X.maxTranslate()&&(xt=!1,ot.resistance&&(Ee.currentTranslate=X.maxTranslate()+1-(X.maxTranslate()-Ee.startTranslate-vn)**dn))),xt&&(pt.preventedByNestedSwiper=!0),!X.allowSlideNext&&"next"===X.swipeDirection&&Ee.currentTranslate<Ee.startTranslate&&(Ee.currentTranslate=Ee.startTranslate),!X.allowSlidePrev&&"prev"===X.swipeDirection&&Ee.currentTranslate>Ee.startTranslate&&(Ee.currentTranslate=Ee.startTranslate),!X.allowSlidePrev&&!X.allowSlideNext&&(Ee.currentTranslate=Ee.startTranslate),ot.threshold>0){if(!(Math.abs(vn)>ot.threshold||Ee.allowThresholdMove))return void(Ee.currentTranslate=Ee.startTranslate);if(!Ee.allowThresholdMove)return Ee.allowThresholdMove=!0,ht.startX=ht.currentX,ht.startY=ht.currentY,Ee.currentTranslate=Ee.startTranslate,void(ht.diff=X.isHorizontal()?ht.currentX-ht.startX:ht.currentY-ht.startY)}!ot.followFinger||ot.cssMode||((ot.freeMode&&ot.freeMode.enabled&&X.freeMode||ot.watchSlidesProgress)&&(X.updateActiveIndex(),X.updateSlidesClasses()),ot.freeMode&&ot.freeMode.enabled&&X.freeMode&&X.freeMode.onTouchMove(),X.updateProgress(Ee.currentTranslate),X.setTranslate(Ee.currentTranslate))}function kt(V){const G=this,X=G.touchEventsData;let ot,Ee=V;if(Ee.originalEvent&&(Ee=Ee.originalEvent),"touchend"===Ee.type||"touchcancel"===Ee.type){if(ot=[...Ee.changedTouches].filter(dn=>dn.identifier===X.touchId)[0],!ot||ot.identifier!==X.touchId)return}else{if(null!==X.touchId||Ee.pointerId!==X.pointerId)return;ot=Ee}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(Ee.type)&&(!["pointercancel","contextmenu"].includes(Ee.type)||!G.browser.isSafari&&!G.browser.isWebView))return;X.pointerId=null,X.touchId=null;const{params:on,touches:gn,rtlTranslate:pt,slidesGrid:Ut,enabled:lt}=G;if(!lt||!on.simulateTouch&&"mouse"===Ee.pointerType)return;if(X.allowTouchCallbacks&&G.emit("touchEnd",Ee),X.allowTouchCallbacks=!1,!X.isTouched)return X.isMoved&&on.grabCursor&&G.setGrabCursor(!1),X.isMoved=!1,void(X.startMoving=!1);on.grabCursor&&X.isMoved&&X.isTouched&&(!0===G.allowSlideNext||!0===G.allowSlidePrev)&&G.setGrabCursor(!1);const ln=(0,m.d)(),Rn=ln-X.touchStartTime;if(G.allowClick){const dn=Ee.path||Ee.composedPath&&Ee.composedPath();G.updateClickedSlide(dn&&dn[0]||Ee.target,dn),G.emit("tap click",Ee),Rn<300&&ln-X.lastClickTime<300&&G.emit("doubleTap doubleClick",Ee)}if(X.lastClickTime=(0,m.d)(),(0,m.n)(()=>{G.destroyed||(G.allowClick=!0)}),!X.isTouched||!X.isMoved||!G.swipeDirection||0===gn.diff&&!X.loopSwapReset||X.currentTranslate===X.startTranslate&&!X.loopSwapReset)return X.isTouched=!1,X.isMoved=!1,void(X.startMoving=!1);let Nt;if(X.isTouched=!1,X.isMoved=!1,X.startMoving=!1,Nt=on.followFinger?pt?G.translate:-G.translate:-X.currentTranslate,on.cssMode)return;if(on.freeMode&&on.freeMode.enabled)return void G.freeMode.onTouchEnd({currentPos:Nt});const vn=Nt>=-G.maxTranslate()&&!G.params.loop;let $n=0,Zn=G.slidesSizesGrid[0];for(let dn=0;dn<Ut.length;dn+=dn<on.slidesPerGroupSkip?1:on.slidesPerGroup){const he=dn<on.slidesPerGroupSkip-1?1:on.slidesPerGroup;typeof Ut[dn+he]<"u"?(vn||Nt>=Ut[dn]&&Nt<Ut[dn+he])&&($n=dn,Zn=Ut[dn+he]-Ut[dn]):(vn||Nt>=Ut[dn])&&($n=dn,Zn=Ut[Ut.length-1]-Ut[Ut.length-2])}let Ai=null,sn=null;on.rewind&&(G.isBeginning?sn=on.virtual&&on.virtual.enabled&&G.virtual?G.virtual.slides.length-1:G.slides.length-1:G.isEnd&&(Ai=0));const hn=(Nt-Ut[$n])/Zn,xt=$n<on.slidesPerGroupSkip-1?1:on.slidesPerGroup;if(Rn>on.longSwipesMs){if(!on.longSwipes)return void G.slideTo(G.activeIndex);"next"===G.swipeDirection&&G.slideTo(hn>=on.longSwipesRatio?on.rewind&&G.isEnd?Ai:$n+xt:$n),"prev"===G.swipeDirection&&(hn>1-on.longSwipesRatio?G.slideTo($n+xt):null!==sn&&hn<0&&Math.abs(hn)>on.longSwipesRatio?G.slideTo(sn):G.slideTo($n))}else{if(!on.shortSwipes)return void G.slideTo(G.activeIndex);!G.navigation||Ee.target!==G.navigation.nextEl&&Ee.target!==G.navigation.prevEl?("next"===G.swipeDirection&&G.slideTo(null!==Ai?Ai:$n+xt),"prev"===G.swipeDirection&&G.slideTo(null!==sn?sn:$n)):G.slideTo(Ee.target===G.navigation.nextEl?$n+xt:$n)}}function Gt(){const V=this,{params:G,el:X}=V;if(X&&0===X.offsetWidth)return;G.breakpoints&&V.setBreakpoint();const{allowSlideNext:Ee,allowSlidePrev:ot,snapGrid:ht}=V,on=V.virtual&&V.params.virtual.enabled;V.allowSlideNext=!0,V.allowSlidePrev=!0,V.updateSize(),V.updateSlides(),V.updateSlidesClasses(),!("auto"===G.slidesPerView||G.slidesPerView>1)||!V.isEnd||V.isBeginning||V.params.centeredSlides||on&&G.loop?V.params.loop&&!on?V.slideToLoop(V.realIndex,0,!1,!0):V.slideTo(V.activeIndex,0,!1,!0):V.slideTo(V.slides.length-1,0,!1,!0),V.autoplay&&V.autoplay.running&&V.autoplay.paused&&(clearTimeout(V.autoplay.resizeTimeout),V.autoplay.resizeTimeout=setTimeout(()=>{V.autoplay&&V.autoplay.running&&V.autoplay.paused&&V.autoplay.resume()},500)),V.allowSlidePrev=ot,V.allowSlideNext=Ee,V.params.watchOverflow&&ht!==V.snapGrid&&V.checkOverflow()}function En(V){const G=this;G.enabled&&(G.allowClick||(G.params.preventClicks&&V.preventDefault(),G.params.preventClicksPropagation&&G.animating&&(V.stopPropagation(),V.stopImmediatePropagation())))}function Yn(){const V=this,{wrapperEl:G,rtlTranslate:X,enabled:Ee}=V;if(!Ee)return;let ot;V.previousTranslate=V.translate,V.translate=V.isHorizontal()?-G.scrollLeft:-G.scrollTop,0===V.translate&&(V.translate=0),V.updateActiveIndex(),V.updateSlidesClasses();const ht=V.maxTranslate()-V.minTranslate();ot=0===ht?0:(V.translate-V.minTranslate())/ht,ot!==V.progress&&V.updateProgress(X?-V.translate:V.translate),V.emit("setTranslate",V.translate,!1)}function Mi(V){const G=this;J(G,V.target),!G.params.cssMode&&("auto"===G.params.slidesPerView||G.params.autoHeight)&&G.update()}function yi(){const V=this;V.documentTouchHandlerProceeded||(V.documentTouchHandlerProceeded=!0,V.params.touchReleaseOnEdges&&(V.el.style.touchAction="auto"))}const bi=(V,G)=>{const X=(0,p.g)(),{params:Ee,el:ot,wrapperEl:ht,device:on}=V,gn=!!Ee.nested,pt="on"===G?"addEventListener":"removeEventListener",Ut=G;X[pt]("touchstart",V.onDocumentTouchStart,{passive:!1,capture:gn}),ot[pt]("touchstart",V.onTouchStart,{passive:!1}),ot[pt]("pointerdown",V.onTouchStart,{passive:!1}),X[pt]("touchmove",V.onTouchMove,{passive:!1,capture:gn}),X[pt]("pointermove",V.onTouchMove,{passive:!1,capture:gn}),X[pt]("touchend",V.onTouchEnd,{passive:!0}),X[pt]("pointerup",V.onTouchEnd,{passive:!0}),X[pt]("pointercancel",V.onTouchEnd,{passive:!0}),X[pt]("touchcancel",V.onTouchEnd,{passive:!0}),X[pt]("pointerout",V.onTouchEnd,{passive:!0}),X[pt]("pointerleave",V.onTouchEnd,{passive:!0}),X[pt]("contextmenu",V.onTouchEnd,{passive:!0}),(Ee.preventClicks||Ee.preventClicksPropagation)&&ot[pt]("click",V.onClick,!0),Ee.cssMode&&ht[pt]("scroll",V.onScroll),V[Ut](Ee.updateOnWindowResize?on.ios||on.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",Gt,!0),ot[pt]("load",V.onLoad,{capture:!0})},Ar=(V,G)=>V.grid&&G.grid&&G.grid.rows>1;var Ht={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ft(V,G){return function(Ee){void 0===Ee&&(Ee={});const ot=Object.keys(Ee)[0],ht=Ee[ot];"object"==typeof ht&&null!==ht?(!0===V[ot]&&(V[ot]={enabled:!0}),"navigation"===ot&&V[ot]&&V[ot].enabled&&!V[ot].prevEl&&!V[ot].nextEl&&(V[ot].auto=!0),["pagination","scrollbar"].indexOf(ot)>=0&&V[ot]&&V[ot].enabled&&!V[ot].el&&(V[ot].auto=!0),ot in V&&"enabled"in ht?("object"==typeof V[ot]&&!("enabled"in V[ot])&&(V[ot].enabled=!0),V[ot]||(V[ot]={enabled:!1}),(0,m.u)(G,Ee)):(0,m.u)(G,Ee)):(0,m.u)(G,Ee)}}const wt={eventsEmitter:{on(V,G,X){const Ee=this;if(!Ee.eventsListeners||Ee.destroyed||"function"!=typeof G)return Ee;const ot=X?"unshift":"push";return V.split(" ").forEach(ht=>{Ee.eventsListeners[ht]||(Ee.eventsListeners[ht]=[]),Ee.eventsListeners[ht][ot](G)}),Ee},once(V,G,X){const Ee=this;if(!Ee.eventsListeners||Ee.destroyed||"function"!=typeof G)return Ee;function ot(){Ee.off(V,ot),ot.__emitterProxy&&delete ot.__emitterProxy;for(var ht=arguments.length,on=new Array(ht),gn=0;gn<ht;gn++)on[gn]=arguments[gn];G.apply(Ee,on)}return ot.__emitterProxy=G,Ee.on(V,ot,X)},onAny(V,G){const X=this;if(!X.eventsListeners||X.destroyed||"function"!=typeof V)return X;const Ee=G?"unshift":"push";return X.eventsAnyListeners.indexOf(V)<0&&X.eventsAnyListeners[Ee](V),X},offAny(V){const G=this;if(!G.eventsListeners||G.destroyed||!G.eventsAnyListeners)return G;const X=G.eventsAnyListeners.indexOf(V);return X>=0&&G.eventsAnyListeners.splice(X,1),G},off(V,G){const X=this;return!X.eventsListeners||X.destroyed||!X.eventsListeners||V.split(" ").forEach(Ee=>{typeof G>"u"?X.eventsListeners[Ee]=[]:X.eventsListeners[Ee]&&X.eventsListeners[Ee].forEach((ot,ht)=>{(ot===G||ot.__emitterProxy&&ot.__emitterProxy===G)&&X.eventsListeners[Ee].splice(ht,1)})}),X},emit(){const V=this;if(!V.eventsListeners||V.destroyed||!V.eventsListeners)return V;let G,X,Ee;for(var ot=arguments.length,ht=new Array(ot),on=0;on<ot;on++)ht[on]=arguments[on];return"string"==typeof ht[0]||Array.isArray(ht[0])?(G=ht[0],X=ht.slice(1,ht.length),Ee=V):(G=ht[0].events,X=ht[0].data,Ee=ht[0].context||V),X.unshift(Ee),(Array.isArray(G)?G:G.split(" ")).forEach(pt=>{V.eventsAnyListeners&&V.eventsAnyListeners.length&&V.eventsAnyListeners.forEach(Ut=>{Ut.apply(Ee,[pt,...X])}),V.eventsListeners&&V.eventsListeners[pt]&&V.eventsListeners[pt].forEach(Ut=>{Ut.apply(Ee,X)})}),V}},update:{updateSize:function Q(){const V=this;let G,X;const Ee=V.el;G=typeof V.params.width<"u"&&null!==V.params.width?V.params.width:Ee.clientWidth,X=typeof V.params.height<"u"&&null!==V.params.height?V.params.height:Ee.clientHeight,!(0===G&&V.isHorizontal()||0===X&&V.isVertical())&&(G=G-parseInt((0,m.o)(Ee,"padding-left")||0,10)-parseInt((0,m.o)(Ee,"padding-right")||0,10),X=X-parseInt((0,m.o)(Ee,"padding-top")||0,10)-parseInt((0,m.o)(Ee,"padding-bottom")||0,10),Number.isNaN(G)&&(G=0),Number.isNaN(X)&&(X=0),Object.assign(V,{width:G,height:X,size:V.isHorizontal()?G:X}))},updateSlides:function ee(){const V=this;function G(Mt,Sn){return parseFloat(Mt.getPropertyValue(V.getDirectionLabel(Sn))||0)}const X=V.params,{wrapperEl:Ee,slidesEl:ot,size:ht,rtlTranslate:on,wrongRTL:gn}=V,pt=V.virtual&&X.virtual.enabled,Ut=pt?V.virtual.slides.length:V.slides.length,lt=(0,m.e)(ot,`.${V.params.slideClass}, swiper-slide`),ln=pt?V.virtual.slides.length:lt.length;let Rn=[];const Nt=[],vn=[];let $n=X.slidesOffsetBefore;"function"==typeof $n&&($n=X.slidesOffsetBefore.call(V));let Zn=X.slidesOffsetAfter;"function"==typeof Zn&&(Zn=X.slidesOffsetAfter.call(V));const Ai=V.snapGrid.length,sn=V.slidesGrid.length;let hn=X.spaceBetween,xt=-$n,dn=0,he=0;if(typeof ht>"u")return;"string"==typeof hn&&hn.indexOf("%")>=0?hn=parseFloat(hn.replace("%",""))/100*ht:"string"==typeof hn&&(hn=parseFloat(hn)),V.virtualSize=-hn,lt.forEach(Mt=>{on?Mt.style.marginLeft="":Mt.style.marginRight="",Mt.style.marginBottom="",Mt.style.marginTop=""}),X.centeredSlides&&X.cssMode&&((0,m.s)(Ee,"--swiper-centered-offset-before",""),(0,m.s)(Ee,"--swiper-centered-offset-after",""));const ct=X.grid&&X.grid.rows>1&&V.grid;let we;ct?V.grid.initSlides(lt):V.grid&&V.grid.unsetSlides();const at="auto"===X.slidesPerView&&X.breakpoints&&Object.keys(X.breakpoints).filter(Mt=>typeof X.breakpoints[Mt].slidesPerView<"u").length>0;for(let Mt=0;Mt<ln;Mt+=1){let Sn;if(we=0,lt[Mt]&&(Sn=lt[Mt]),ct&&V.grid.updateSlide(Mt,Sn,lt),!lt[Mt]||"none"!==(0,m.o)(Sn,"display")){if("auto"===X.slidesPerView){at&&(lt[Mt].style[V.getDirectionLabel("width")]="");const Ln=getComputedStyle(Sn),oi=Sn.style.transform,Di=Sn.style.webkitTransform;if(oi&&(Sn.style.transform="none"),Di&&(Sn.style.webkitTransform="none"),X.roundLengths)we=V.isHorizontal()?(0,m.f)(Sn,"width",!0):(0,m.f)(Sn,"height",!0);else{const ji=G(Ln,"width"),Li=G(Ln,"padding-left"),ss=G(Ln,"padding-right"),Zr=G(Ln,"margin-left"),pi=G(Ln,"margin-right"),Or=Ln.getPropertyValue("box-sizing");if(Or&&"border-box"===Or)we=ji+Zr+pi;else{const{clientWidth:bo,offsetWidth:Xs}=Sn;we=ji+Li+ss+Zr+pi+(Xs-bo)}}oi&&(Sn.style.transform=oi),Di&&(Sn.style.webkitTransform=Di),X.roundLengths&&(we=Math.floor(we))}else we=(ht-(X.slidesPerView-1)*hn)/X.slidesPerView,X.roundLengths&&(we=Math.floor(we)),lt[Mt]&&(lt[Mt].style[V.getDirectionLabel("width")]=`${we}px`);lt[Mt]&&(lt[Mt].swiperSlideSize=we),vn.push(we),X.centeredSlides?(xt=xt+we/2+dn/2+hn,0===dn&&0!==Mt&&(xt=xt-ht/2-hn),0===Mt&&(xt=xt-ht/2-hn),Math.abs(xt)<.001&&(xt=0),X.roundLengths&&(xt=Math.floor(xt)),he%X.slidesPerGroup==0&&Rn.push(xt),Nt.push(xt)):(X.roundLengths&&(xt=Math.floor(xt)),(he-Math.min(V.params.slidesPerGroupSkip,he))%V.params.slidesPerGroup==0&&Rn.push(xt),Nt.push(xt),xt=xt+we+hn),V.virtualSize+=we+hn,dn=we,he+=1}}if(V.virtualSize=Math.max(V.virtualSize,ht)+Zn,on&&gn&&("slide"===X.effect||"coverflow"===X.effect)&&(Ee.style.width=`${V.virtualSize+hn}px`),X.setWrapperSize&&(Ee.style[V.getDirectionLabel("width")]=`${V.virtualSize+hn}px`),ct&&V.grid.updateWrapperSize(we,Rn),!X.centeredSlides){const Mt=[];for(let Sn=0;Sn<Rn.length;Sn+=1){let Ln=Rn[Sn];X.roundLengths&&(Ln=Math.floor(Ln)),Rn[Sn]<=V.virtualSize-ht&&Mt.push(Ln)}Rn=Mt,Math.floor(V.virtualSize-ht)-Math.floor(Rn[Rn.length-1])>1&&Rn.push(V.virtualSize-ht)}if(pt&&X.loop){const Mt=vn[0]+hn;if(X.slidesPerGroup>1){const Sn=Math.ceil((V.virtual.slidesBefore+V.virtual.slidesAfter)/X.slidesPerGroup),Ln=Mt*X.slidesPerGroup;for(let oi=0;oi<Sn;oi+=1)Rn.push(Rn[Rn.length-1]+Ln)}for(let Sn=0;Sn<V.virtual.slidesBefore+V.virtual.slidesAfter;Sn+=1)1===X.slidesPerGroup&&Rn.push(Rn[Rn.length-1]+Mt),Nt.push(Nt[Nt.length-1]+Mt),V.virtualSize+=Mt}if(0===Rn.length&&(Rn=[0]),0!==hn){const Mt=V.isHorizontal()&&on?"marginLeft":V.getDirectionLabel("marginRight");lt.filter((Sn,Ln)=>!(X.cssMode&&!X.loop)||Ln!==lt.length-1).forEach(Sn=>{Sn.style[Mt]=`${hn}px`})}if(X.centeredSlides&&X.centeredSlidesBounds){let Mt=0;vn.forEach(Ln=>{Mt+=Ln+(hn||0)}),Mt-=hn;const Sn=Mt-ht;Rn=Rn.map(Ln=>Ln<=0?-$n:Ln>Sn?Sn+Zn:Ln)}if(X.centerInsufficientSlides){let Mt=0;if(vn.forEach(Sn=>{Mt+=Sn+(hn||0)}),Mt-=hn,Mt<ht){const Sn=(ht-Mt)/2;Rn.forEach((Ln,oi)=>{Rn[oi]=Ln-Sn}),Nt.forEach((Ln,oi)=>{Nt[oi]=Ln+Sn})}}if(Object.assign(V,{slides:lt,snapGrid:Rn,slidesGrid:Nt,slidesSizesGrid:vn}),X.centeredSlides&&X.cssMode&&!X.centeredSlidesBounds){(0,m.s)(Ee,"--swiper-centered-offset-before",-Rn[0]+"px"),(0,m.s)(Ee,"--swiper-centered-offset-after",V.size/2-vn[vn.length-1]/2+"px");const Mt=-V.snapGrid[0],Sn=-V.slidesGrid[0];V.snapGrid=V.snapGrid.map(Ln=>Ln+Mt),V.slidesGrid=V.slidesGrid.map(Ln=>Ln+Sn)}if(ln!==Ut&&V.emit("slidesLengthChange"),Rn.length!==Ai&&(V.params.watchOverflow&&V.checkOverflow(),V.emit("snapGridLengthChange")),Nt.length!==sn&&V.emit("slidesGridLengthChange"),X.watchSlidesProgress&&V.updateSlidesOffset(),V.emit("slidesUpdated"),!(pt||X.cssMode||"slide"!==X.effect&&"fade"!==X.effect)){const Mt=`${X.containerModifierClass}backface-hidden`,Sn=V.el.classList.contains(Mt);ln<=X.maxBackfaceHiddenSlides?Sn||V.el.classList.add(Mt):Sn&&V.el.classList.remove(Mt)}},updateAutoHeight:function be(V){const G=this,X=[],Ee=G.virtual&&G.params.virtual.enabled;let ht,ot=0;"number"==typeof V?G.setTransition(V):!0===V&&G.setTransition(G.params.speed);const on=gn=>Ee?G.slides[G.getSlideIndexByData(gn)]:G.slides[gn];if("auto"!==G.params.slidesPerView&&G.params.slidesPerView>1)if(G.params.centeredSlides)(G.visibleSlides||[]).forEach(gn=>{X.push(gn)});else for(ht=0;ht<Math.ceil(G.params.slidesPerView);ht+=1){const gn=G.activeIndex+ht;if(gn>G.slides.length&&!Ee)break;X.push(on(gn))}else X.push(on(G.activeIndex));for(ht=0;ht<X.length;ht+=1)if(typeof X[ht]<"u"){const gn=X[ht].offsetHeight;ot=gn>ot?gn:ot}(ot||0===ot)&&(G.wrapperEl.style.height=`${ot}px`)},updateSlidesOffset:function me(){const V=this,G=V.slides,X=V.isElement?V.isHorizontal()?V.wrapperEl.offsetLeft:V.wrapperEl.offsetTop:0;for(let Ee=0;Ee<G.length;Ee+=1)G[Ee].swiperSlideOffset=(V.isHorizontal()?G[Ee].offsetLeft:G[Ee].offsetTop)-X-V.cssOverflowAdjustment()},updateSlidesProgress:function Ne(V){void 0===V&&(V=this&&this.translate||0);const G=this,X=G.params,{slides:Ee,rtlTranslate:ot,snapGrid:ht}=G;if(0===Ee.length)return;typeof Ee[0].swiperSlideOffset>"u"&&G.updateSlidesOffset();let on=-V;ot&&(on=V),Ee.forEach(pt=>{pt.classList.remove(X.slideVisibleClass,X.slideFullyVisibleClass)}),G.visibleSlidesIndexes=[],G.visibleSlides=[];let gn=X.spaceBetween;"string"==typeof gn&&gn.indexOf("%")>=0?gn=parseFloat(gn.replace("%",""))/100*G.size:"string"==typeof gn&&(gn=parseFloat(gn));for(let pt=0;pt<Ee.length;pt+=1){const Ut=Ee[pt];let lt=Ut.swiperSlideOffset;X.cssMode&&X.centeredSlides&&(lt-=Ee[0].swiperSlideOffset);const ln=(on+(X.centeredSlides?G.minTranslate():0)-lt)/(Ut.swiperSlideSize+gn),Rn=(on-ht[0]+(X.centeredSlides?G.minTranslate():0)-lt)/(Ut.swiperSlideSize+gn),Nt=-(on-lt),vn=Nt+G.slidesSizesGrid[pt],$n=Nt>=0&&Nt<=G.size-G.slidesSizesGrid[pt];(Nt>=0&&Nt<G.size-1||vn>1&&vn<=G.size||Nt<=0&&vn>=G.size)&&(G.visibleSlides.push(Ut),G.visibleSlidesIndexes.push(pt),Ee[pt].classList.add(X.slideVisibleClass)),$n&&Ee[pt].classList.add(X.slideFullyVisibleClass),Ut.progress=ot?-ln:ln,Ut.originalProgress=ot?-Rn:Rn}},updateProgress:function Be(V){const G=this;typeof V>"u"&&(V=G&&G.translate&&G.translate*(G.rtlTranslate?-1:1)||0);const X=G.params,Ee=G.maxTranslate()-G.minTranslate();let{progress:ot,isBeginning:ht,isEnd:on,progressLoop:gn}=G;const pt=ht,Ut=on;if(0===Ee)ot=0,ht=!0,on=!0;else{ot=(V-G.minTranslate())/Ee;const lt=Math.abs(V-G.minTranslate())<1,ln=Math.abs(V-G.maxTranslate())<1;ht=lt||ot<=0,on=ln||ot>=1,lt&&(ot=0),ln&&(ot=1)}if(X.loop){const lt=G.getSlideIndexByData(0),ln=G.getSlideIndexByData(G.slides.length-1),Rn=G.slidesGrid[lt],Nt=G.slidesGrid[ln],vn=G.slidesGrid[G.slidesGrid.length-1],$n=Math.abs(V);gn=$n>=Rn?($n-Rn)/vn:($n+vn-Nt)/vn,gn>1&&(gn-=1)}Object.assign(G,{progress:ot,progressLoop:gn,isBeginning:ht,isEnd:on}),(X.watchSlidesProgress||X.centeredSlides&&X.autoHeight)&&G.updateSlidesProgress(V),ht&&!pt&&G.emit("reachBeginning toEdge"),on&&!Ut&&G.emit("reachEnd toEdge"),(pt&&!ht||Ut&&!on)&&G.emit("fromEdge"),G.emit("progress",ot)},updateSlidesClasses:function Le(){const V=this,{slides:G,params:X,slidesEl:Ee,activeIndex:ot}=V,on=V.grid&&X.grid&&X.grid.rows>1,gn=ln=>(0,m.e)(Ee,`.${X.slideClass}${ln}, swiper-slide${ln}`)[0];let pt,Ut,lt;if(V.virtual&&X.virtual.enabled)if(X.loop){let ln=ot-V.virtual.slidesBefore;ln<0&&(ln=V.virtual.slides.length+ln),ln>=V.virtual.slides.length&&(ln-=V.virtual.slides.length),pt=gn(`[data-swiper-slide-index="${ln}"]`)}else pt=gn(`[data-swiper-slide-index="${ot}"]`);else on?(pt=G.filter(ln=>ln.column===ot)[0],lt=G.filter(ln=>ln.column===ot+1)[0],Ut=G.filter(ln=>ln.column===ot-1)[0]):pt=G[ot];pt&&(on||(lt=(0,m.p)(pt,`.${X.slideClass}, swiper-slide`)[0],X.loop&&!lt&&(lt=G[0]),Ut=(0,m.q)(pt,`.${X.slideClass}, swiper-slide`)[0],X.loop&&0===!Ut&&(Ut=G[G.length-1]))),G.forEach(ln=>{Ve(ln,ln===pt,X.slideActiveClass),Ve(ln,ln===lt,X.slideNextClass),Ve(ln,ln===Ut,X.slidePrevClass)}),V.emitSlidesClasses()},updateActiveIndex:function Re(V){const G=this,X=G.rtlTranslate?G.translate:-G.translate,{snapGrid:Ee,params:ot,activeIndex:ht,realIndex:on,snapIndex:gn}=G;let Ut,pt=V;const lt=Nt=>{let vn=Nt-G.virtual.slidesBefore;return vn<0&&(vn=G.virtual.slides.length+vn),vn>=G.virtual.slides.length&&(vn-=G.virtual.slides.length),vn};if(typeof pt>"u"&&(pt=function fe(V){const{slidesGrid:G,params:X}=V,Ee=V.rtlTranslate?V.translate:-V.translate;let ot;for(let ht=0;ht<G.length;ht+=1)typeof G[ht+1]<"u"?Ee>=G[ht]&&Ee<G[ht+1]-(G[ht+1]-G[ht])/2?ot=ht:Ee>=G[ht]&&Ee<G[ht+1]&&(ot=ht+1):Ee>=G[ht]&&(ot=ht);return X.normalizeSlideIndex&&(ot<0||typeof ot>"u")&&(ot=0),ot}(G)),Ee.indexOf(X)>=0)Ut=Ee.indexOf(X);else{const Nt=Math.min(ot.slidesPerGroupSkip,pt);Ut=Nt+Math.floor((pt-Nt)/ot.slidesPerGroup)}if(Ut>=Ee.length&&(Ut=Ee.length-1),pt===ht&&!G.params.loop)return void(Ut!==gn&&(G.snapIndex=Ut,G.emit("snapIndexChange")));if(pt===ht&&G.params.loop&&G.virtual&&G.params.virtual.enabled)return void(G.realIndex=lt(pt));const ln=G.grid&&ot.grid&&ot.grid.rows>1;let Rn;if(G.virtual&&ot.virtual.enabled&&ot.loop)Rn=lt(pt);else if(ln){const Nt=G.slides.filter($n=>$n.column===pt)[0];let vn=parseInt(Nt.getAttribute("data-swiper-slide-index"),10);Number.isNaN(vn)&&(vn=Math.max(G.slides.indexOf(Nt),0)),Rn=Math.floor(vn/ot.grid.rows)}else if(G.slides[pt]){const Nt=G.slides[pt].getAttribute("data-swiper-slide-index");Rn=Nt?parseInt(Nt,10):pt}else Rn=pt;Object.assign(G,{previousSnapIndex:gn,snapIndex:Ut,previousRealIndex:on,realIndex:Rn,previousIndex:ht,activeIndex:pt}),G.initialized&&de(G),G.emit("activeIndexChange"),G.emit("snapIndexChange"),(G.initialized||G.params.runCallbacksOnInit)&&(on!==Rn&&G.emit("realIndexChange"),G.emit("slideChange"))},updateClickedSlide:function _e(V,G){const X=this,Ee=X.params;let ot=V.closest(`.${Ee.slideClass}, swiper-slide`);!ot&&X.isElement&&G&&G.length>1&&G.includes(V)&&[...G.slice(G.indexOf(V)+1,G.length)].forEach(gn=>{!ot&&gn.matches&&gn.matches(`.${Ee.slideClass}, swiper-slide`)&&(ot=gn)});let on,ht=!1;if(ot)for(let gn=0;gn<X.slides.length;gn+=1)if(X.slides[gn]===ot){ht=!0,on=gn;break}if(!ot||!ht)return X.clickedSlide=void 0,void(X.clickedIndex=void 0);X.clickedSlide=ot,X.clickedIndex=X.virtual&&X.params.virtual.enabled?parseInt(ot.getAttribute("data-swiper-slide-index"),10):on,Ee.slideToClickedSlide&&void 0!==X.clickedIndex&&X.clickedIndex!==X.activeIndex&&X.slideToClickedSlide()}},translate:{getTranslate:function Ye(V){void 0===V&&(V=this.isHorizontal()?"x":"y");const{params:X,rtlTranslate:Ee,translate:ot,wrapperEl:ht}=this;if(X.virtualTranslate)return Ee?-ot:ot;if(X.cssMode)return ot;let on=(0,m.j)(ht,V);return on+=this.cssOverflowAdjustment(),Ee&&(on=-on),on||0},setTranslate:function Ot(V,G){const X=this,{rtlTranslate:Ee,params:ot,wrapperEl:ht,progress:on}=X;let lt,gn=0,pt=0;X.isHorizontal()?gn=Ee?-V:V:pt=V,ot.roundLengths&&(gn=Math.floor(gn),pt=Math.floor(pt)),X.previousTranslate=X.translate,X.translate=X.isHorizontal()?gn:pt,ot.cssMode?ht[X.isHorizontal()?"scrollLeft":"scrollTop"]=X.isHorizontal()?-gn:-pt:ot.virtualTranslate||(X.isHorizontal()?gn-=X.cssOverflowAdjustment():pt-=X.cssOverflowAdjustment(),ht.style.transform=`translate3d(${gn}px, ${pt}px, 0px)`);const ln=X.maxTranslate()-X.minTranslate();lt=0===ln?0:(V-X.minTranslate())/ln,lt!==on&&X.updateProgress(V),X.emit("setTranslate",X.translate,G)},minTranslate:function un(){return-this.snapGrid[0]},maxTranslate:function Cn(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function An(V,G,X,Ee,ot){void 0===V&&(V=0),void 0===G&&(G=this.params.speed),void 0===X&&(X=!0),void 0===Ee&&(Ee=!0);const ht=this,{params:on,wrapperEl:gn}=ht;if(ht.animating&&on.preventInteractionOnTransition)return!1;const pt=ht.minTranslate(),Ut=ht.maxTranslate();let lt;if(lt=Ee&&V>pt?pt:Ee&&V<Ut?Ut:V,ht.updateProgress(lt),on.cssMode){const ln=ht.isHorizontal();if(0===G)gn[ln?"scrollLeft":"scrollTop"]=-lt;else{if(!ht.support.smoothScroll)return(0,m.r)({swiper:ht,targetPosition:-lt,side:ln?"left":"top"}),!0;gn.scrollTo({[ln?"left":"top"]:-lt,behavior:"smooth"})}return!0}return 0===G?(ht.setTransition(0),ht.setTranslate(lt),X&&(ht.emit("beforeTransitionStart",G,ot),ht.emit("transitionEnd"))):(ht.setTransition(G),ht.setTranslate(lt),X&&(ht.emit("beforeTransitionStart",G,ot),ht.emit("transitionStart")),ht.animating||(ht.animating=!0,ht.onTranslateToWrapperTransitionEnd||(ht.onTranslateToWrapperTransitionEnd=function(Rn){!ht||ht.destroyed||Rn.target===this&&(ht.wrapperEl.removeEventListener("transitionend",ht.onTranslateToWrapperTransitionEnd),ht.onTranslateToWrapperTransitionEnd=null,delete ht.onTranslateToWrapperTransitionEnd,ht.animating=!1,X&&ht.emit("transitionEnd"))}),ht.wrapperEl.addEventListener("transitionend",ht.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function Et(V,G){const X=this;X.params.cssMode||(X.wrapperEl.style.transitionDuration=`${V}ms`,X.wrapperEl.style.transitionDelay=0===V?"0ms":""),X.emit("setTransition",V,G)},transitionStart:function jt(V,G){void 0===V&&(V=!0);const X=this,{params:Ee}=X;Ee.cssMode||(Ee.autoHeight&&X.updateAutoHeight(),Rt({swiper:X,runCallbacks:V,direction:G,step:"Start"}))},transitionEnd:function Dt(V,G){void 0===V&&(V=!0);const X=this,{params:Ee}=X;X.animating=!1,!Ee.cssMode&&(X.setTransition(0),Rt({swiper:X,runCallbacks:V,direction:G,step:"End"}))}},slide:{slideTo:function qe(V,G,X,Ee,ot){void 0===V&&(V=0),void 0===X&&(X=!0),"string"==typeof V&&(V=parseInt(V,10));const ht=this;let on=V;on<0&&(on=0);const{params:gn,snapGrid:pt,slidesGrid:Ut,previousIndex:lt,activeIndex:ln,rtlTranslate:Rn,wrapperEl:Nt,enabled:vn}=ht;if(!vn&&!Ee&&!ot||ht.destroyed||ht.animating&&gn.preventInteractionOnTransition)return!1;typeof G>"u"&&(G=ht.params.speed);const $n=Math.min(ht.params.slidesPerGroupSkip,on);let Zn=$n+Math.floor((on-$n)/ht.params.slidesPerGroup);Zn>=pt.length&&(Zn=pt.length-1);const Ai=-pt[Zn];if(gn.normalizeSlideIndex)for(let hn=0;hn<Ut.length;hn+=1){const xt=-Math.floor(100*Ai),dn=Math.floor(100*Ut[hn]),he=Math.floor(100*Ut[hn+1]);typeof Ut[hn+1]<"u"?xt>=dn&&xt<he-(he-dn)/2?on=hn:xt>=dn&&xt<he&&(on=hn+1):xt>=dn&&(on=hn)}if(ht.initialized&&on!==ln&&(!ht.allowSlideNext&&(Rn?Ai>ht.translate&&Ai>ht.minTranslate():Ai<ht.translate&&Ai<ht.minTranslate())||!ht.allowSlidePrev&&Ai>ht.translate&&Ai>ht.maxTranslate()&&(ln||0)!==on))return!1;let sn;if(on!==(lt||0)&&X&&ht.emit("beforeSlideChangeStart"),ht.updateProgress(Ai),sn=on>ln?"next":on<ln?"prev":"reset",Rn&&-Ai===ht.translate||!Rn&&Ai===ht.translate)return ht.updateActiveIndex(on),gn.autoHeight&&ht.updateAutoHeight(),ht.updateSlidesClasses(),"slide"!==gn.effect&&ht.setTranslate(Ai),"reset"!==sn&&(ht.transitionStart(X,sn),ht.transitionEnd(X,sn)),!1;if(gn.cssMode){const hn=ht.isHorizontal(),xt=Rn?Ai:-Ai;if(0===G){const dn=ht.virtual&&ht.params.virtual.enabled;dn&&(ht.wrapperEl.style.scrollSnapType="none",ht._immediateVirtual=!0),dn&&!ht._cssModeVirtualInitialSet&&ht.params.initialSlide>0?(ht._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{Nt[hn?"scrollLeft":"scrollTop"]=xt})):Nt[hn?"scrollLeft":"scrollTop"]=xt,dn&&requestAnimationFrame(()=>{ht.wrapperEl.style.scrollSnapType="",ht._immediateVirtual=!1})}else{if(!ht.support.smoothScroll)return(0,m.r)({swiper:ht,targetPosition:xt,side:hn?"left":"top"}),!0;Nt.scrollTo({[hn?"left":"top"]:xt,behavior:"smooth"})}return!0}return ht.setTransition(G),ht.setTranslate(Ai),ht.updateActiveIndex(on),ht.updateSlidesClasses(),ht.emit("beforeTransitionStart",G,Ee),ht.transitionStart(X,sn),0===G?ht.transitionEnd(X,sn):ht.animating||(ht.animating=!0,ht.onSlideToWrapperTransitionEnd||(ht.onSlideToWrapperTransitionEnd=function(xt){!ht||ht.destroyed||xt.target===this&&(ht.wrapperEl.removeEventListener("transitionend",ht.onSlideToWrapperTransitionEnd),ht.onSlideToWrapperTransitionEnd=null,delete ht.onSlideToWrapperTransitionEnd,ht.transitionEnd(X,sn))}),ht.wrapperEl.addEventListener("transitionend",ht.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function We(V,G,X,Ee){void 0===V&&(V=0),void 0===X&&(X=!0),"string"==typeof V&&(V=parseInt(V,10));const ot=this;if(ot.destroyed)return;typeof G>"u"&&(G=ot.params.speed);const ht=ot.grid&&ot.params.grid&&ot.params.grid.rows>1;let on=V;if(ot.params.loop)if(ot.virtual&&ot.params.virtual.enabled)on+=ot.virtual.slidesBefore;else{let gn;if(ht){const Rn=on*ot.params.grid.rows;gn=ot.slides.filter(Nt=>1*Nt.getAttribute("data-swiper-slide-index")===Rn)[0].column}else gn=ot.getSlideIndexByData(on);const pt=ht?Math.ceil(ot.slides.length/ot.params.grid.rows):ot.slides.length,{centeredSlides:Ut}=ot.params;let lt=ot.params.slidesPerView;"auto"===lt?lt=ot.slidesPerViewDynamic():(lt=Math.ceil(parseFloat(ot.params.slidesPerView,10)),Ut&&lt%2==0&&(lt+=1));let ln=pt-gn<lt;if(Ut&&(ln=ln||gn<Math.ceil(lt/2)),Ee&&Ut&&"auto"!==ot.params.slidesPerView&&!ht&&(ln=!1),ln){const Rn=Ut?gn<ot.activeIndex?"prev":"next":gn-ot.activeIndex-1<ot.params.slidesPerView?"next":"prev";ot.loopFix({direction:Rn,slideTo:!0,activeSlideIndex:"next"===Rn?gn+1:gn-pt+1,slideRealIndex:"next"===Rn?ot.realIndex:void 0})}if(ht){const Rn=on*ot.params.grid.rows;on=ot.slides.filter(Nt=>1*Nt.getAttribute("data-swiper-slide-index")===Rn)[0].column}else on=ot.getSlideIndexByData(on)}return requestAnimationFrame(()=>{ot.slideTo(on,G,X,Ee)}),ot},slideNext:function ge(V,G,X){void 0===G&&(G=!0);const Ee=this,{enabled:ot,params:ht,animating:on}=Ee;if(!ot||Ee.destroyed)return Ee;typeof V>"u"&&(V=Ee.params.speed);let gn=ht.slidesPerGroup;"auto"===ht.slidesPerView&&1===ht.slidesPerGroup&&ht.slidesPerGroupAuto&&(gn=Math.max(Ee.slidesPerViewDynamic("current",!0),1));const pt=Ee.activeIndex<ht.slidesPerGroupSkip?1:gn;if(ht.loop){if(on&&(!Ee.virtual||!ht.virtual.enabled)&&ht.loopPreventsSliding)return!1;if(Ee.loopFix({direction:"next"}),Ee._clientLeft=Ee.wrapperEl.clientLeft,Ee.activeIndex===Ee.slides.length-1&&ht.cssMode)return requestAnimationFrame(()=>{Ee.slideTo(Ee.activeIndex+pt,V,G,X)}),!0}return Ee.slideTo(ht.rewind&&Ee.isEnd?0:Ee.activeIndex+pt,V,G,X)},slidePrev:function mt(V,G,X){void 0===G&&(G=!0);const Ee=this,{params:ot,snapGrid:ht,slidesGrid:on,rtlTranslate:gn,enabled:pt,animating:Ut}=Ee;if(!pt||Ee.destroyed)return Ee;if(typeof V>"u"&&(V=Ee.params.speed),ot.loop){if(Ut&&(!Ee.virtual||!ot.virtual.enabled)&&ot.loopPreventsSliding)return!1;Ee.loopFix({direction:"prev"}),Ee._clientLeft=Ee.wrapperEl.clientLeft}function Rn(Ai){return Ai<0?-Math.floor(Math.abs(Ai)):Math.floor(Ai)}const Nt=Rn(gn?Ee.translate:-Ee.translate),vn=ht.map(Ai=>Rn(Ai));let $n=ht[vn.indexOf(Nt)-1];if(typeof $n>"u"&&ot.cssMode){let Ai;ht.forEach((sn,hn)=>{Nt>=sn&&(Ai=hn)}),typeof Ai<"u"&&($n=ht[Ai>0?Ai-1:Ai])}let Zn=0;return typeof $n<"u"&&(Zn=on.indexOf($n),Zn<0&&(Zn=Ee.activeIndex-1),"auto"===ot.slidesPerView&&1===ot.slidesPerGroup&&ot.slidesPerGroupAuto&&(Zn=Zn-Ee.slidesPerViewDynamic("previous",!0)+1,Zn=Math.max(Zn,0))),ot.rewind&&Ee.isBeginning?Ee.slideTo(Ee.params.virtual&&Ee.params.virtual.enabled&&Ee.virtual?Ee.virtual.slides.length-1:Ee.slides.length-1,V,G,X):ot.loop&&0===Ee.activeIndex&&ot.cssMode?(requestAnimationFrame(()=>{Ee.slideTo(Zn,V,G,X)}),!0):Ee.slideTo(Zn,V,G,X)},slideReset:function Ft(V,G,X){if(void 0===G&&(G=!0),!this.destroyed)return typeof V>"u"&&(V=this.params.speed),this.slideTo(this.activeIndex,V,G,X)},slideToClosest:function Lt(V,G,X,Ee){void 0===G&&(G=!0),void 0===Ee&&(Ee=.5);const ot=this;if(ot.destroyed)return;typeof V>"u"&&(V=ot.params.speed);let ht=ot.activeIndex;const on=Math.min(ot.params.slidesPerGroupSkip,ht),gn=on+Math.floor((ht-on)/ot.params.slidesPerGroup),pt=ot.rtlTranslate?ot.translate:-ot.translate;if(pt>=ot.snapGrid[gn]){const Ut=ot.snapGrid[gn];pt-Ut>(ot.snapGrid[gn+1]-Ut)*Ee&&(ht+=ot.params.slidesPerGroup)}else{const Ut=ot.snapGrid[gn-1];pt-Ut<=(ot.snapGrid[gn]-Ut)*Ee&&(ht-=ot.params.slidesPerGroup)}return ht=Math.max(ht,0),ht=Math.min(ht,ot.slidesGrid.length-1),ot.slideTo(ht,V,G,X)},slideToClickedSlide:function bn(){const V=this;if(V.destroyed)return;const{params:G,slidesEl:X}=V,Ee="auto"===G.slidesPerView?V.slidesPerViewDynamic():G.slidesPerView;let ht,ot=V.clickedIndex;const on=V.isElement?"swiper-slide":`.${G.slideClass}`;if(G.loop){if(V.animating)return;ht=parseInt(V.clickedSlide.getAttribute("data-swiper-slide-index"),10),G.centeredSlides?ot<V.loopedSlides-Ee/2||ot>V.slides.length-V.loopedSlides+Ee/2?(V.loopFix(),ot=V.getSlideIndex((0,m.e)(X,`${on}[data-swiper-slide-index="${ht}"]`)[0]),(0,m.n)(()=>{V.slideTo(ot)})):V.slideTo(ot):ot>V.slides.length-Ee?(V.loopFix(),ot=V.getSlideIndex((0,m.e)(X,`${on}[data-swiper-slide-index="${ht}"]`)[0]),(0,m.n)(()=>{V.slideTo(ot)})):V.slideTo(ot)}else V.slideTo(ot)}},loop:{loopCreate:function dt(V){const G=this,{params:X,slidesEl:Ee}=G;if(!X.loop||G.virtual&&G.params.virtual.enabled)return;const ot=()=>{(0,m.e)(Ee,`.${X.slideClass}, swiper-slide`).forEach((ln,Rn)=>{ln.setAttribute("data-swiper-slide-index",Rn)})},ht=G.grid&&X.grid&&X.grid.rows>1,on=X.slidesPerGroup*(ht?X.grid.rows:1),pt=ht&&G.slides.length%X.grid.rows!=0,Ut=lt=>{for(let ln=0;ln<lt;ln+=1){const Rn=G.isElement?(0,m.c)("swiper-slide",[X.slideBlankClass]):(0,m.c)("div",[X.slideClass,X.slideBlankClass]);G.slidesEl.append(Rn)}};G.slides.length%on!=0?(X.loopAddBlankSlides?(Ut(on-G.slides.length%on),G.recalcSlides(),G.updateSlides()):(0,m.t)("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),ot()):pt?(X.loopAddBlankSlides?(Ut(X.grid.rows-G.slides.length%X.grid.rows),G.recalcSlides(),G.updateSlides()):(0,m.t)("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),ot()):ot(),G.loopFix({slideRealIndex:V,direction:X.centeredSlides?void 0:"next"})},loopFix:function $t(V){let{slideRealIndex:G,slideTo:X=!0,direction:Ee,setTranslate:ot,activeSlideIndex:ht,byController:on,byMousewheel:gn}=void 0===V?{}:V;const pt=this;if(!pt.params.loop)return;pt.emit("beforeLoopFix");const{slides:Ut,allowSlidePrev:lt,allowSlideNext:ln,slidesEl:Rn,params:Nt}=pt,{centeredSlides:vn}=Nt;if(pt.allowSlidePrev=!0,pt.allowSlideNext=!0,pt.virtual&&Nt.virtual.enabled)return X&&(Nt.centeredSlides||0!==pt.snapIndex?Nt.centeredSlides&&pt.snapIndex<Nt.slidesPerView?pt.slideTo(pt.virtual.slides.length+pt.snapIndex,0,!1,!0):pt.snapIndex===pt.snapGrid.length-1&&pt.slideTo(pt.virtual.slidesBefore,0,!1,!0):pt.slideTo(pt.virtual.slides.length,0,!1,!0)),pt.allowSlidePrev=lt,pt.allowSlideNext=ln,void pt.emit("loopFix");let $n=Nt.slidesPerView;"auto"===$n?$n=pt.slidesPerViewDynamic():($n=Math.ceil(parseFloat(Nt.slidesPerView,10)),vn&&$n%2==0&&($n+=1));const Zn=Nt.slidesPerGroupAuto?$n:Nt.slidesPerGroup;let Ai=Zn;Ai%Zn!=0&&(Ai+=Zn-Ai%Zn),Ai+=Nt.loopAdditionalSlides,pt.loopedSlides=Ai;const sn=pt.grid&&Nt.grid&&Nt.grid.rows>1;Ut.length<$n+Ai?(0,m.t)("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):sn&&"row"===Nt.grid.fill&&(0,m.t)("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const hn=[],xt=[];let dn=pt.activeIndex;typeof ht>"u"?ht=pt.getSlideIndex(Ut.filter(oi=>oi.classList.contains(Nt.slideActiveClass))[0]):dn=ht;const he="next"===Ee||!Ee,ct="prev"===Ee||!Ee;let we=0,at=0;const Mt=sn?Math.ceil(Ut.length/Nt.grid.rows):Ut.length,Ln=(sn?Ut[ht].column:ht)+(vn&&typeof ot>"u"?-$n/2+.5:0);if(Ln<Ai){we=Math.max(Ai-Ln,Zn);for(let oi=0;oi<Ai-Ln;oi+=1){const Di=oi-Math.floor(oi/Mt)*Mt;if(sn){const ji=Mt-Di-1;for(let Li=Ut.length-1;Li>=0;Li-=1)Ut[Li].column===ji&&hn.push(Li)}else hn.push(Mt-Di-1)}}else if(Ln+$n>Mt-Ai){at=Math.max(Ln-(Mt-2*Ai),Zn);for(let oi=0;oi<at;oi+=1){const Di=oi-Math.floor(oi/Mt)*Mt;sn?Ut.forEach((ji,Li)=>{ji.column===Di&&xt.push(Li)}):xt.push(Di)}}if(pt.__preventObserver__=!0,requestAnimationFrame(()=>{pt.__preventObserver__=!1}),ct&&hn.forEach(oi=>{Ut[oi].swiperLoopMoveDOM=!0,Rn.prepend(Ut[oi]),Ut[oi].swiperLoopMoveDOM=!1}),he&&xt.forEach(oi=>{Ut[oi].swiperLoopMoveDOM=!0,Rn.append(Ut[oi]),Ut[oi].swiperLoopMoveDOM=!1}),pt.recalcSlides(),"auto"===Nt.slidesPerView?pt.updateSlides():sn&&(hn.length>0&&ct||xt.length>0&&he)&&pt.slides.forEach((oi,Di)=>{pt.grid.updateSlide(Di,oi,pt.slides)}),Nt.watchSlidesProgress&&pt.updateSlidesOffset(),X)if(hn.length>0&&ct)if(typeof G>"u"){const ji=pt.slidesGrid[dn+we]-pt.slidesGrid[dn];gn?pt.setTranslate(pt.translate-ji):(pt.slideTo(dn+Math.ceil(we),0,!1,!0),ot&&(pt.touchEventsData.startTranslate=pt.touchEventsData.startTranslate-ji,pt.touchEventsData.currentTranslate=pt.touchEventsData.currentTranslate-ji))}else ot&&(pt.slideTo(pt.activeIndex+(sn?hn.length/Nt.grid.rows:hn.length),0,!1,!0),pt.touchEventsData.currentTranslate=pt.translate);else if(xt.length>0&&he)if(typeof G>"u"){const ji=pt.slidesGrid[dn-at]-pt.slidesGrid[dn];gn?pt.setTranslate(pt.translate-ji):(pt.slideTo(dn-at,0,!1,!0),ot&&(pt.touchEventsData.startTranslate=pt.touchEventsData.startTranslate-ji,pt.touchEventsData.currentTranslate=pt.touchEventsData.currentTranslate-ji))}else pt.slideTo(pt.activeIndex-(sn?xt.length/Nt.grid.rows:xt.length),0,!1,!0);if(pt.allowSlidePrev=lt,pt.allowSlideNext=ln,pt.controller&&pt.controller.control&&!on){const oi={slideRealIndex:G,direction:Ee,setTranslate:ot,activeSlideIndex:ht,byController:!0};Array.isArray(pt.controller.control)?pt.controller.control.forEach(Di=>{!Di.destroyed&&Di.params.loop&&Di.loopFix({...oi,slideTo:Di.params.slidesPerView===Nt.slidesPerView&&X})}):pt.controller.control instanceof pt.constructor&&pt.controller.control.params.loop&&pt.controller.control.loopFix({...oi,slideTo:pt.controller.control.params.slidesPerView===Nt.slidesPerView&&X})}pt.emit("loopFix")},loopDestroy:function Pn(){const V=this,{params:G,slidesEl:X}=V;if(!G.loop||V.virtual&&V.params.virtual.enabled)return;V.recalcSlides();const Ee=[];V.slides.forEach(ot=>{const ht=typeof ot.swiperSlideIndex>"u"?1*ot.getAttribute("data-swiper-slide-index"):ot.swiperSlideIndex;Ee[ht]=ot}),V.slides.forEach(ot=>{ot.removeAttribute("data-swiper-slide-index")}),Ee.forEach(ot=>{X.append(ot)}),V.recalcSlides(),V.slideTo(V.realIndex,0)}},grabCursor:{setGrabCursor:function Pi(V){const G=this;if(!G.params.simulateTouch||G.params.watchOverflow&&G.isLocked||G.params.cssMode)return;const X="container"===G.params.touchEventsTarget?G.el:G.wrapperEl;G.isElement&&(G.__preventObserver__=!0),X.style.cursor="move",X.style.cursor=V?"grabbing":"grab",G.isElement&&requestAnimationFrame(()=>{G.__preventObserver__=!1})},unsetGrabCursor:function hi(){const V=this;V.params.watchOverflow&&V.isLocked||V.params.cssMode||(V.isElement&&(V.__preventObserver__=!0),V["container"===V.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",V.isElement&&requestAnimationFrame(()=>{V.__preventObserver__=!1}))}},events:{attachEvents:function rr(){const V=this,{params:G}=V;V.onTouchStart=Te.bind(V),V.onTouchMove=Ge.bind(V),V.onTouchEnd=kt.bind(V),V.onDocumentTouchStart=yi.bind(V),G.cssMode&&(V.onScroll=Yn.bind(V)),V.onClick=En.bind(V),V.onLoad=Mi.bind(V),bi(V,"on")},detachEvents:function br(){bi(this,"off")}},breakpoints:{setBreakpoint:function $i(){const V=this,{realIndex:G,initialized:X,params:Ee,el:ot}=V,ht=Ee.breakpoints;if(!ht||ht&&0===Object.keys(ht).length)return;const on=V.getBreakpoint(ht,V.params.breakpointsBase,V.el);if(!on||V.currentBreakpoint===on)return;const pt=(on in ht?ht[on]:void 0)||V.originalParams,Ut=Ar(V,Ee),lt=Ar(V,pt),ln=V.params.grabCursor,Rn=pt.grabCursor,Nt=Ee.enabled;Ut&&!lt?(ot.classList.remove(`${Ee.containerModifierClass}grid`,`${Ee.containerModifierClass}grid-column`),V.emitContainerClasses()):!Ut&&lt&&(ot.classList.add(`${Ee.containerModifierClass}grid`),(pt.grid.fill&&"column"===pt.grid.fill||!pt.grid.fill&&"column"===Ee.grid.fill)&&ot.classList.add(`${Ee.containerModifierClass}grid-column`),V.emitContainerClasses()),ln&&!Rn?V.unsetGrabCursor():!ln&&Rn&&V.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(hn=>{if(typeof pt[hn]>"u")return;const xt=Ee[hn]&&Ee[hn].enabled,dn=pt[hn]&&pt[hn].enabled;xt&&!dn&&V[hn].disable(),!xt&&dn&&V[hn].enable()});const vn=pt.direction&&pt.direction!==Ee.direction,$n=Ee.loop&&(pt.slidesPerView!==Ee.slidesPerView||vn),Zn=Ee.loop;vn&&X&&V.changeDirection(),(0,m.u)(V.params,pt);const Ai=V.params.enabled,sn=V.params.loop;Object.assign(V,{allowTouchMove:V.params.allowTouchMove,allowSlideNext:V.params.allowSlideNext,allowSlidePrev:V.params.allowSlidePrev}),Nt&&!Ai?V.disable():!Nt&&Ai&&V.enable(),V.currentBreakpoint=on,V.emit("_beforeBreakpoint",pt),X&&($n?(V.loopDestroy(),V.loopCreate(G),V.updateSlides()):!Zn&&sn?(V.loopCreate(G),V.updateSlides()):Zn&&!sn&&V.loopDestroy()),V.emit("breakpoint",pt)},getBreakpoint:function Gi(V,G,X){if(void 0===G&&(G="window"),!V||"container"===G&&!X)return;let Ee=!1;const ot=(0,p.a)(),ht="window"===G?ot.innerHeight:X.clientHeight,on=Object.keys(V).map(gn=>{if("string"==typeof gn&&0===gn.indexOf("@")){const pt=parseFloat(gn.substr(1));return{value:ht*pt,point:gn}}return{value:gn,point:gn}});on.sort((gn,pt)=>parseInt(gn.value,10)-parseInt(pt.value,10));for(let gn=0;gn<on.length;gn+=1){const{point:pt,value:Ut}=on[gn];"window"===G?ot.matchMedia(`(min-width: ${Ut}px)`).matches&&(Ee=pt):Ut<=X.clientWidth&&(Ee=pt)}return Ee||"max"}},checkOverflow:{checkOverflow:function Vt(){const V=this,{isLocked:G,params:X}=V,{slidesOffsetBefore:Ee}=X;if(Ee){const ot=V.slides.length-1;V.isLocked=V.size>V.slidesGrid[ot]+V.slidesSizesGrid[ot]+2*Ee}else V.isLocked=1===V.snapGrid.length;!0===X.allowSlideNext&&(V.allowSlideNext=!V.isLocked),!0===X.allowSlidePrev&&(V.allowSlidePrev=!V.isLocked),G&&G!==V.isLocked&&(V.isEnd=!1),G!==V.isLocked&&V.emit(V.isLocked?"lock":"unlock")}},classes:{addClasses:function On(){const V=this,{classNames:G,params:X,rtl:Ee,el:ot,device:ht}=V,on=function Dn(V,G){const X=[];return V.forEach(Ee=>{"object"==typeof Ee?Object.keys(Ee).forEach(ot=>{Ee[ot]&&X.push(G+ot)}):"string"==typeof Ee&&X.push(G+Ee)}),X}(["initialized",X.direction,{"free-mode":V.params.freeMode&&X.freeMode.enabled},{autoheight:X.autoHeight},{rtl:Ee},{grid:X.grid&&X.grid.rows>1},{"grid-column":X.grid&&X.grid.rows>1&&"column"===X.grid.fill},{android:ht.android},{ios:ht.ios},{"css-mode":X.cssMode},{centered:X.cssMode&&X.centeredSlides},{"watch-progress":X.watchSlidesProgress}],X.containerModifierClass);G.push(...on),ot.classList.add(...G),V.emitContainerClasses()},removeClasses:function bt(){const{el:G,classNames:X}=this;G.classList.remove(...X),this.emitContainerClasses()}}},ze={};class st{constructor(){let G,X;for(var Ee=arguments.length,ot=new Array(Ee),ht=0;ht<Ee;ht++)ot[ht]=arguments[ht];1===ot.length&&ot[0].constructor&&"Object"===Object.prototype.toString.call(ot[0]).slice(8,-1)?X=ot[0]:[G,X]=ot,X||(X={}),X=(0,m.u)({},X),G&&!X.el&&(X.el=G);const on=(0,p.g)();if(X.el&&"string"==typeof X.el&&on.querySelectorAll(X.el).length>1){const lt=[];return on.querySelectorAll(X.el).forEach(ln=>{const Rn=(0,m.u)({},X,{el:ln});lt.push(new st(Rn))}),lt}const gn=this;gn.__swiper__=!0,gn.support=x(),gn.device=q({userAgent:X.userAgent}),gn.browser=function I(){return z||(z=function O(){const V=(0,p.a)(),G=q();let X=!1;function Ee(){const gn=V.navigator.userAgent.toLowerCase();return gn.indexOf("safari")>=0&&gn.indexOf("chrome")<0&&gn.indexOf("android")<0}if(Ee()){const gn=String(V.navigator.userAgent);if(gn.includes("Version/")){const[pt,Ut]=gn.split("Version/")[1].split(" ")[0].split(".").map(lt=>Number(lt));X=pt<16||16===pt&&Ut<2}}const ot=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(V.navigator.userAgent),ht=Ee();return{isSafari:X||ht,needPerspectiveFix:X,need3dFix:ht||ot&&G.ios,isWebView:ot}}()),z}(),gn.eventsListeners={},gn.eventsAnyListeners=[],gn.modules=[...gn.__modules__],X.modules&&Array.isArray(X.modules)&&gn.modules.push(...X.modules);const pt={};gn.modules.forEach(lt=>{lt({params:X,swiper:gn,extendParams:ft(X,pt),on:gn.on.bind(gn),once:gn.once.bind(gn),off:gn.off.bind(gn),emit:gn.emit.bind(gn)})});const Ut=(0,m.u)({},Ht,pt);return gn.params=(0,m.u)({},Ut,ze,X),gn.originalParams=(0,m.u)({},gn.params),gn.passedParams=(0,m.u)({},X),gn.params&&gn.params.on&&Object.keys(gn.params.on).forEach(lt=>{gn.on(lt,gn.params.on[lt])}),gn.params&&gn.params.onAny&&gn.onAny(gn.params.onAny),Object.assign(gn,{enabled:gn.params.enabled,el:G,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===gn.params.direction,isVertical:()=>"vertical"===gn.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:gn.params.allowSlideNext,allowSlidePrev:gn.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:gn.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:gn.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),gn.emit("_swiper"),gn.params.init&&gn.init(),gn}getDirectionLabel(G){return this.isHorizontal()?G:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[G]}getSlideIndex(G){const{slidesEl:X,params:Ee}=this,ot=(0,m.e)(X,`.${Ee.slideClass}, swiper-slide`),ht=(0,m.h)(ot[0]);return(0,m.h)(G)-ht}getSlideIndexByData(G){return this.getSlideIndex(this.slides.filter(X=>1*X.getAttribute("data-swiper-slide-index")===G)[0])}recalcSlides(){const{slidesEl:X,params:Ee}=this;this.slides=(0,m.e)(X,`.${Ee.slideClass}, swiper-slide`)}enable(){const G=this;G.enabled||(G.enabled=!0,G.params.grabCursor&&G.setGrabCursor(),G.emit("enable"))}disable(){const G=this;G.enabled&&(G.enabled=!1,G.params.grabCursor&&G.unsetGrabCursor(),G.emit("disable"))}setProgress(G,X){const Ee=this;G=Math.min(Math.max(G,0),1);const ot=Ee.minTranslate(),on=(Ee.maxTranslate()-ot)*G+ot;Ee.translateTo(on,typeof X>"u"?0:X),Ee.updateActiveIndex(),Ee.updateSlidesClasses()}emitContainerClasses(){const G=this;if(!G.params._emitClasses||!G.el)return;const X=G.el.className.split(" ").filter(Ee=>0===Ee.indexOf("swiper")||0===Ee.indexOf(G.params.containerModifierClass));G.emit("_containerClasses",X.join(" "))}getSlideClasses(G){const X=this;return X.destroyed?"":G.className.split(" ").filter(Ee=>0===Ee.indexOf("swiper-slide")||0===Ee.indexOf(X.params.slideClass)).join(" ")}emitSlidesClasses(){const G=this;if(!G.params._emitClasses||!G.el)return;const X=[];G.slides.forEach(Ee=>{const ot=G.getSlideClasses(Ee);X.push({slideEl:Ee,classNames:ot}),G.emit("_slideClass",Ee,ot)}),G.emit("_slideClasses",X)}slidesPerViewDynamic(G,X){void 0===G&&(G="current"),void 0===X&&(X=!1);const{params:ot,slides:ht,slidesGrid:on,slidesSizesGrid:gn,size:pt,activeIndex:Ut}=this;let lt=1;if("number"==typeof ot.slidesPerView)return ot.slidesPerView;if(ot.centeredSlides){let Rn,ln=ht[Ut]?Math.ceil(ht[Ut].swiperSlideSize):0;for(let Nt=Ut+1;Nt<ht.length;Nt+=1)ht[Nt]&&!Rn&&(ln+=Math.ceil(ht[Nt].swiperSlideSize),lt+=1,ln>pt&&(Rn=!0));for(let Nt=Ut-1;Nt>=0;Nt-=1)ht[Nt]&&!Rn&&(ln+=ht[Nt].swiperSlideSize,lt+=1,ln>pt&&(Rn=!0))}else if("current"===G)for(let ln=Ut+1;ln<ht.length;ln+=1)(X?on[ln]+gn[ln]-on[Ut]<pt:on[ln]-on[Ut]<pt)&&(lt+=1);else for(let ln=Ut-1;ln>=0;ln-=1)on[Ut]-on[ln]<pt&&(lt+=1);return lt}update(){const G=this;if(!G||G.destroyed)return;const{snapGrid:X,params:Ee}=G;function ot(){const gn=Math.min(Math.max(G.rtlTranslate?-1*G.translate:G.translate,G.maxTranslate()),G.minTranslate());G.setTranslate(gn),G.updateActiveIndex(),G.updateSlidesClasses()}let ht;Ee.breakpoints&&G.setBreakpoint(),[...G.el.querySelectorAll('[loading="lazy"]')].forEach(on=>{on.complete&&J(G,on)}),G.updateSize(),G.updateSlides(),G.updateProgress(),G.updateSlidesClasses(),Ee.freeMode&&Ee.freeMode.enabled&&!Ee.cssMode?(ot(),Ee.autoHeight&&G.updateAutoHeight()):(ht=G.slideTo(("auto"===Ee.slidesPerView||Ee.slidesPerView>1)&&G.isEnd&&!Ee.centeredSlides?(G.virtual&&Ee.virtual.enabled?G.virtual.slides:G.slides).length-1:G.activeIndex,0,!1,!0),ht||ot()),Ee.watchOverflow&&X!==G.snapGrid&&G.checkOverflow(),G.emit("update")}changeDirection(G,X){void 0===X&&(X=!0);const Ee=this,ot=Ee.params.direction;return G||(G="horizontal"===ot?"vertical":"horizontal"),G===ot||"horizontal"!==G&&"vertical"!==G||(Ee.el.classList.remove(`${Ee.params.containerModifierClass}${ot}`),Ee.el.classList.add(`${Ee.params.containerModifierClass}${G}`),Ee.emitContainerClasses(),Ee.params.direction=G,Ee.slides.forEach(ht=>{"vertical"===G?ht.style.width="":ht.style.height=""}),Ee.emit("changeDirection"),X&&Ee.update()),Ee}changeLanguageDirection(G){const X=this;X.rtl&&"rtl"===G||!X.rtl&&"ltr"===G||(X.rtl="rtl"===G,X.rtlTranslate="horizontal"===X.params.direction&&X.rtl,X.rtl?(X.el.classList.add(`${X.params.containerModifierClass}rtl`),X.el.dir="rtl"):(X.el.classList.remove(`${X.params.containerModifierClass}rtl`),X.el.dir="ltr"),X.update())}mount(G){const X=this;if(X.mounted)return!0;let Ee=G||X.params.el;if("string"==typeof Ee&&(Ee=document.querySelector(Ee)),!Ee)return!1;Ee.swiper=X,Ee.parentNode&&Ee.parentNode.host&&Ee.parentNode.host.nodeName===X.params.swiperElementNodeName.toUpperCase()&&(X.isElement=!0);const ot=()=>`.${(X.params.wrapperClass||"").trim().split(" ").join(".")}`;let on=Ee&&Ee.shadowRoot&&Ee.shadowRoot.querySelector?Ee.shadowRoot.querySelector(ot()):(0,m.e)(Ee,ot())[0];return!on&&X.params.createElements&&(on=(0,m.c)("div",X.params.wrapperClass),Ee.append(on),(0,m.e)(Ee,`.${X.params.slideClass}`).forEach(gn=>{on.append(gn)})),Object.assign(X,{el:Ee,wrapperEl:on,slidesEl:X.isElement&&!Ee.parentNode.host.slideSlots?Ee.parentNode.host:on,hostEl:X.isElement?Ee.parentNode.host:Ee,mounted:!0,rtl:"rtl"===Ee.dir.toLowerCase()||"rtl"===(0,m.o)(Ee,"direction"),rtlTranslate:"horizontal"===X.params.direction&&("rtl"===Ee.dir.toLowerCase()||"rtl"===(0,m.o)(Ee,"direction")),wrongRTL:"-webkit-box"===(0,m.o)(on,"display")}),!0}init(G){const X=this;if(X.initialized||!1===X.mount(G))return X;X.emit("beforeInit"),X.params.breakpoints&&X.setBreakpoint(),X.addClasses(),X.updateSize(),X.updateSlides(),X.params.watchOverflow&&X.checkOverflow(),X.params.grabCursor&&X.enabled&&X.setGrabCursor(),X.slideTo(X.params.loop&&X.virtual&&X.params.virtual.enabled?X.params.initialSlide+X.virtual.slidesBefore:X.params.initialSlide,0,X.params.runCallbacksOnInit,!1,!0),X.params.loop&&X.loopCreate(),X.attachEvents();const ot=[...X.el.querySelectorAll('[loading="lazy"]')];return X.isElement&&ot.push(...X.hostEl.querySelectorAll('[loading="lazy"]')),ot.forEach(ht=>{ht.complete?J(X,ht):ht.addEventListener("load",on=>{J(X,on.target)})}),de(X),X.initialized=!0,de(X),X.emit("init"),X.emit("afterInit"),X}destroy(G,X){void 0===G&&(G=!0),void 0===X&&(X=!0);const Ee=this,{params:ot,el:ht,wrapperEl:on,slides:gn}=Ee;return typeof Ee.params>"u"||Ee.destroyed||(Ee.emit("beforeDestroy"),Ee.initialized=!1,Ee.detachEvents(),ot.loop&&Ee.loopDestroy(),X&&(Ee.removeClasses(),ht.removeAttribute("style"),on.removeAttribute("style"),gn&&gn.length&&gn.forEach(pt=>{pt.classList.remove(ot.slideVisibleClass,ot.slideFullyVisibleClass,ot.slideActiveClass,ot.slideNextClass,ot.slidePrevClass),pt.removeAttribute("style"),pt.removeAttribute("data-swiper-slide-index")})),Ee.emit("destroy"),Object.keys(Ee.eventsListeners).forEach(pt=>{Ee.off(pt)}),!1!==G&&(Ee.el.swiper=null,(0,m.v)(Ee)),Ee.destroyed=!0),null}static extendDefaults(G){(0,m.u)(ze,G)}static get extendedDefaults(){return ze}static get defaults(){return Ht}static installModule(G){st.prototype.__modules__||(st.prototype.__modules__=[]);const X=st.prototype.__modules__;"function"==typeof G&&X.indexOf(G)<0&&X.push(G)}static use(G){return Array.isArray(G)?(G.forEach(X=>st.installModule(X)),st):(st.installModule(G),st)}}Object.keys(wt).forEach(V=>{Object.keys(wt[V]).forEach(G=>{st.prototype[G]=wt[V][G]})}),st.use([function k(V){let{swiper:G,on:X,emit:Ee}=V;const ot=(0,p.a)();let ht=null,on=null;const gn=()=>{!G||G.destroyed||!G.initialized||(Ee("beforeResize"),Ee("resize"))},lt=()=>{!G||G.destroyed||!G.initialized||Ee("orientationchange")};X("init",()=>{G.params.resizeObserver&&typeof ot.ResizeObserver<"u"?!G||G.destroyed||!G.initialized||(ht=new ResizeObserver(ln=>{on=ot.requestAnimationFrame(()=>{const{width:Rn,height:Nt}=G;let vn=Rn,$n=Nt;ln.forEach(Zn=>{let{contentBoxSize:Ai,contentRect:sn,target:hn}=Zn;hn&&hn!==G.el||(vn=sn?sn.width:(Ai[0]||Ai).inlineSize,$n=sn?sn.height:(Ai[0]||Ai).blockSize)}),(vn!==Rn||$n!==Nt)&&gn()})}),ht.observe(G.el)):(ot.addEventListener("resize",gn),ot.addEventListener("orientationchange",lt))}),X("destroy",()=>{on&&ot.cancelAnimationFrame(on),ht&&ht.unobserve&&G.el&&(ht.unobserve(G.el),ht=null),ot.removeEventListener("resize",gn),ot.removeEventListener("orientationchange",lt)})},function A(V){let{swiper:G,extendParams:X,on:Ee,emit:ot}=V;const ht=[],on=(0,p.a)(),gn=function(lt,ln){void 0===ln&&(ln={});const Nt=new(on.MutationObserver||on.WebkitMutationObserver)(vn=>{if(G.__preventObserver__)return;if(1===vn.length)return void ot("observerUpdate",vn[0]);const $n=function(){ot("observerUpdate",vn[0])};on.requestAnimationFrame?on.requestAnimationFrame($n):on.setTimeout($n,0)});Nt.observe(lt,{attributes:typeof ln.attributes>"u"||ln.attributes,childList:typeof ln.childList>"u"||ln.childList,characterData:typeof ln.characterData>"u"||ln.characterData}),ht.push(Nt)};X({observer:!1,observeParents:!1,observeSlideChildren:!1}),Ee("init",()=>{if(G.params.observer){if(G.params.observeParents){const lt=(0,m.a)(G.hostEl);for(let ln=0;ln<lt.length;ln+=1)gn(lt[ln])}gn(G.hostEl,{childList:G.params.observeSlideChildren}),gn(G.wrapperEl,{attributes:!1})}}),Ee("destroy",()=>{ht.forEach(lt=>{lt.disconnect()}),ht.splice(0,ht.length)})}])},4015:(Jt,ke,E)=>{"use strict";E.d(ke,{a:()=>Le,b:()=>be,c:()=>ee,d:()=>x,e:()=>H,f:()=>ae,g:()=>A,h:()=>Ve,i:()=>m,j:()=>ne,k:()=>J,l:()=>q,m:()=>de,n:()=>F,o:()=>Be,p:()=>Ne,q:()=>me,r:()=>k,s:()=>I,t:()=>Q,u:()=>O,v:()=>T});var p=E(7606);function m(fe){return void 0===fe&&(fe=""),fe.trim().split(" ").filter(Re=>!!Re.trim())}function T(fe){const Re=fe;Object.keys(Re).forEach(_e=>{try{Re[_e]=null}catch{}try{delete Re[_e]}catch{}})}function F(fe,Re){return void 0===Re&&(Re=0),setTimeout(fe,Re)}function x(){return Date.now()}function ne(fe,Re){void 0===Re&&(Re="x");const _e=(0,p.a)();let Xe,Ye,Ot;const un=function ce(fe){const Re=(0,p.a)();let _e;return Re.getComputedStyle&&(_e=Re.getComputedStyle(fe,null)),!_e&&fe.currentStyle&&(_e=fe.currentStyle),_e||(_e=fe.style),_e}(fe);return _e.WebKitCSSMatrix?(Ye=un.transform||un.webkitTransform,Ye.split(",").length>6&&(Ye=Ye.split(", ").map(Cn=>Cn.replace(",",".")).join(", ")),Ot=new _e.WebKitCSSMatrix("none"===Ye?"":Ye)):(Ot=un.MozTransform||un.OTransform||un.MsTransform||un.msTransform||un.transform||un.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),Xe=Ot.toString().split(",")),"x"===Re&&(Ye=_e.WebKitCSSMatrix?Ot.m41:16===Xe.length?parseFloat(Xe[12]):parseFloat(Xe[4])),"y"===Re&&(Ye=_e.WebKitCSSMatrix?Ot.m42:16===Xe.length?parseFloat(Xe[13]):parseFloat(Xe[5])),Ye||0}function q(fe){return"object"==typeof fe&&null!==fe&&fe.constructor&&"Object"===Object.prototype.toString.call(fe).slice(8,-1)}function z(fe){return typeof window<"u"&&typeof window.HTMLElement<"u"?fe instanceof HTMLElement:fe&&(1===fe.nodeType||11===fe.nodeType)}function O(){const fe=Object(arguments.length<=0?void 0:arguments[0]),Re=["__proto__","constructor","prototype"];for(let _e=1;_e<arguments.length;_e+=1){const Xe=_e<0||arguments.length<=_e?void 0:arguments[_e];if(null!=Xe&&!z(Xe)){const Ye=Object.keys(Object(Xe)).filter(Ot=>Re.indexOf(Ot)<0);for(let Ot=0,un=Ye.length;Ot<un;Ot+=1){const Cn=Ye[Ot],An=Object.getOwnPropertyDescriptor(Xe,Cn);void 0!==An&&An.enumerable&&(q(fe[Cn])&&q(Xe[Cn])?Xe[Cn].__swiper__?fe[Cn]=Xe[Cn]:O(fe[Cn],Xe[Cn]):!q(fe[Cn])&&q(Xe[Cn])?(fe[Cn]={},Xe[Cn].__swiper__?fe[Cn]=Xe[Cn]:O(fe[Cn],Xe[Cn])):fe[Cn]=Xe[Cn])}}}return fe}function I(fe,Re,_e){fe.style.setProperty(Re,_e)}function k(fe){let{swiper:Re,targetPosition:_e,side:Xe}=fe;const Ye=(0,p.a)(),Ot=-Re.translate;let Cn,un=null;const An=Re.params.speed;Re.wrapperEl.style.scrollSnapType="none",Ye.cancelAnimationFrame(Re.cssModeFrameID);const Nn=_e>Ot?"next":"prev",Et=(jt,Dt)=>"next"===Nn&&jt>=Dt||"prev"===Nn&&jt<=Dt,Rt=()=>{Cn=(new Date).getTime(),null===un&&(un=Cn);const jt=Math.max(Math.min((Cn-un)/An,1),0),Dt=.5-Math.cos(jt*Math.PI)/2;let en=Ot+Dt*(_e-Ot);if(Et(en,_e)&&(en=_e),Re.wrapperEl.scrollTo({[Xe]:en}),Et(en,_e))return Re.wrapperEl.style.overflow="hidden",Re.wrapperEl.style.scrollSnapType="",setTimeout(()=>{Re.wrapperEl.style.overflow="",Re.wrapperEl.scrollTo({[Xe]:en})}),void Ye.cancelAnimationFrame(Re.cssModeFrameID);Re.cssModeFrameID=Ye.requestAnimationFrame(Rt)};Rt()}function A(fe){return fe.querySelector(".swiper-slide-transform")||fe.shadowRoot&&fe.shadowRoot.querySelector(".swiper-slide-transform")||fe}function H(fe,Re){return void 0===Re&&(Re=""),[...fe.children].filter(_e=>_e.matches(Re))}function Q(fe){try{return void console.warn(fe)}catch{}}function ee(fe,Re){void 0===Re&&(Re=[]);const _e=document.createElement(fe);return _e.classList.add(...Array.isArray(Re)?Re:m(Re)),_e}function be(fe){const Re=(0,p.a)(),_e=(0,p.g)(),Xe=fe.getBoundingClientRect(),Ye=_e.body;return{top:Xe.top+(fe===Re?Re.scrollY:fe.scrollTop)-(fe.clientTop||Ye.clientTop||0),left:Xe.left+(fe===Re?Re.scrollX:fe.scrollLeft)-(fe.clientLeft||Ye.clientLeft||0)}}function me(fe,Re){const _e=[];for(;fe.previousElementSibling;){const Xe=fe.previousElementSibling;Re?Xe.matches(Re)&&_e.push(Xe):_e.push(Xe),fe=Xe}return _e}function Ne(fe,Re){const _e=[];for(;fe.nextElementSibling;){const Xe=fe.nextElementSibling;Re?Xe.matches(Re)&&_e.push(Xe):_e.push(Xe),fe=Xe}return _e}function Be(fe,Re){return(0,p.a)().getComputedStyle(fe,null).getPropertyValue(Re)}function Ve(fe){let _e,Re=fe;if(Re){for(_e=0;null!==(Re=Re.previousSibling);)1===Re.nodeType&&(_e+=1);return _e}}function Le(fe,Re){const _e=[];let Xe=fe.parentElement;for(;Xe;)Re?Xe.matches(Re)&&_e.push(Xe):_e.push(Xe),Xe=Xe.parentElement;return _e}function J(fe,Re){Re&&fe.addEventListener("transitionend",function _e(Xe){Xe.target===fe&&(Re.call(fe,Xe),fe.removeEventListener("transitionend",_e))})}function ae(fe,Re,_e){const Xe=(0,p.a)();return _e?fe["width"===Re?"offsetWidth":"offsetHeight"]+parseFloat(Xe.getComputedStyle(fe,null).getPropertyValue("width"===Re?"margin-right":"margin-top"))+parseFloat(Xe.getComputedStyle(fe,null).getPropertyValue("width"===Re?"margin-left":"margin-bottom")):fe.offsetWidth}function de(fe){return(Array.isArray(fe)?fe:[fe]).filter(Re=>!!Re)}},467:(Jt,ke,E)=>{"use strict";function p(T,F,x,ce,ne,q,z){try{var O=T[q](z),I=O.value}catch(k){return void x(k)}O.done?F(I):Promise.resolve(I).then(ce,ne)}function m(T){return function(){var F=this,x=arguments;return new Promise(function(ce,ne){var q=T.apply(F,x);function z(I){p(q,ce,ne,z,O,"next",I)}function O(I){p(q,ce,ne,z,O,"throw",I)}z(void 0)})}}E.d(ke,{A:()=>m})},1635:(Jt,ke,E)=>{"use strict";function F(Et,Rt){var jt={};for(var Dt in Et)Object.prototype.hasOwnProperty.call(Et,Dt)&&Rt.indexOf(Dt)<0&&(jt[Dt]=Et[Dt]);if(null!=Et&&"function"==typeof Object.getOwnPropertySymbols){var en=0;for(Dt=Object.getOwnPropertySymbols(Et);en<Dt.length;en++)Rt.indexOf(Dt[en])<0&&Object.prototype.propertyIsEnumerable.call(Et,Dt[en])&&(jt[Dt[en]]=Et[Dt[en]])}return jt}function x(Et,Rt,jt,Dt){var We,en=arguments.length,qe=en<3?Rt:null===Dt?Dt=Object.getOwnPropertyDescriptor(Rt,jt):Dt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(Et,Rt,jt,Dt);else for(var ge=Et.length-1;ge>=0;ge--)(We=Et[ge])&&(qe=(en<3?We(qe):en>3?We(Rt,jt,qe):We(Rt,jt))||qe);return en>3&&qe&&Object.defineProperty(Rt,jt,qe),qe}function I(Et,Rt){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Et,Rt)}function k(Et,Rt,jt,Dt){return new(jt||(jt=Promise))(function(qe,We){function ge(Lt){try{Ft(Dt.next(Lt))}catch(bn){We(bn)}}function mt(Lt){try{Ft(Dt.throw(Lt))}catch(bn){We(bn)}}function Ft(Lt){Lt.done?qe(Lt.value):function en(qe){return qe instanceof jt?qe:new jt(function(We){We(qe)})}(Lt.value).then(ge,mt)}Ft((Dt=Dt.apply(Et,Rt||[])).next())})}function Ve(Et){return this instanceof Ve?(this.v=Et,this):new Ve(Et)}function Le(Et,Rt,jt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var en,Dt=jt.apply(Et,Rt||[]),qe=[];return en={},We("next"),We("throw"),We("return"),en[Symbol.asyncIterator]=function(){return this},en;function We(it){Dt[it]&&(en[it]=function(dt){return new Promise(function($t,Pn){qe.push([it,dt,$t,Pn])>1||ge(it,dt)})})}function ge(it,dt){try{!function mt(it){it.value instanceof Ve?Promise.resolve(it.value.v).then(Ft,Lt):bn(qe[0][2],it)}(Dt[it](dt))}catch($t){bn(qe[0][3],$t)}}function Ft(it){ge("next",it)}function Lt(it){ge("throw",it)}function bn(it,dt){it(dt),qe.shift(),qe.length&&ge(qe[0][0],qe[0][1])}}function ae(Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var jt,Rt=Et[Symbol.asyncIterator];return Rt?Rt.call(Et):(Et=function ee(Et){var Rt="function"==typeof Symbol&&Symbol.iterator,jt=Rt&&Et[Rt],Dt=0;if(jt)return jt.call(Et);if(Et&&"number"==typeof Et.length)return{next:function(){return Et&&Dt>=Et.length&&(Et=void 0),{value:Et&&Et[Dt++],done:!Et}}};throw new TypeError(Rt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Et),jt={},Dt("next"),Dt("throw"),Dt("return"),jt[Symbol.asyncIterator]=function(){return this},jt);function Dt(qe){jt[qe]=Et[qe]&&function(We){return new Promise(function(ge,mt){!function en(qe,We,ge,mt){Promise.resolve(mt).then(function(Ft){qe({value:Ft,done:ge})},We)}(ge,mt,(We=Et[qe](We)).done,We.value)})}}}E.d(ke,{AQ:()=>Le,Cg:()=>x,N3:()=>Ve,Sn:()=>I,Tt:()=>F,sH:()=>k,xN:()=>ae}),"function"==typeof SuppressedError&&SuppressedError}},Jt=>{Jt(Jt.s=8158)}]);